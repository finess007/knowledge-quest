<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"da01d35eb60a50598c3b15f90d29f069b88a23ba44ce09a7c8ceda856df10fb8b1cc301a46d2318d6b909eb2c1e1d7edfcd49066db6af2c5505f9656c0db82f1e23e0c415834d5596e619eeca4494ebd47cbf1b56dc3ca0b3e3f240d2440d26800447323e5f856fddd91ddf6e9c2f93e3da7b8c88055cd8308db8d6a7c87169e4f43892cf089c305b97e2119f30c5236f69bfff525f63974546bad3de043174f1f3a753efe58d3f318306787a7e5831d896a0c24f731912abccb87e08cd53aa2dc8b9269b606af5bf2fda2516af3f6d0773dec655ad79d56e1599fd0d5cab0e386075e584170cebf9b16b288beb7c297f86390bcdaa0ace1cc5e3a0dacad6566f6ae60399a6fe4c17b32fd82025c94d1dd5660810767af3e8ee06500f4809c570a79d9549e777c64cd1812d4a92aae83e7fded8fc7e25a7572dd7163fd8b534e75e85afa2dd1086d7b352a6b278d58eb54b671c4308db35e078240df93307af85fa3378c73018254545e219e857b49bbfbefe16aa8a002c5631b00f1b30c92e89601e6bce64d7b4bf9d16815199caf2faf7afc650e1a84b7b1b6e3ff14896c82d9e1cb5ffd4a8d3c37bbef50804bd7ca5cb4dc8ab55729ad03bf6442c597d43a963cadee67651bbf2d34906d2ca21e07b7da7f67dd4507ce6df32884ea8d67e66228e25a29a623ceb74c99380d21732ac9a1e801147e39d380f3404a092a22761800a3aba14eb88a2d40ce3a93ab37073d9c3b950a7b9350f3288482524aea9db063b43b918d71d009c00ba2fe1ea912a8a5872716f25bd4fbd04e0cf2fcb9e6fb79a4e5113fe15598e6f751f0688c4f9d2e9077d6201d2198575e640e827d33f3cde7db6181f9b00a71755130abbbb335fbb651abc38349dd5c4b2ea8e1800e62b21202d70fb96d4da6bdc98ca8b8b204f88f5ac153b2e124cefff1a295bdc290d434e16fa2c806226bd2eae3f3c6a4a2ee6796e4cd02d211021330896916078c9c46480a4d0d782858d91766fcb23f8dede7305c6d0f4aeea165248af8310e335d4f50cabc5bd3f8824ba3cb97fad22cd5ad113efb049b08974812f976773156df5708505ebcb0ab069de41f2c3f797baf18e19df185627617a11460fc8b948cd7a7e643f7628b2b5be9cea5306742f5d6815f21313d90447aceb254b5df5678b6acc71520045d43e05ef8d20c2597ff4d6e578b4c505e2bac97d2896960d89593ec5be63b93b05b85639f9f6daedecdb6af00a3c57e9deda79b65345c3404e4f0a3ba9e2b5c91f8b848cf9e2aea8554d291f361b1111c2374a46fa706880bf1c85c3af6bd935d763ec08d520d2e1fbab586f4fd9d2bcaced7c8b28eb8c0e0e919edba492814e5e0bf3ea01f803bcad2f22e6ed009071b126109201d35ae5f7775666f11c9277d0791c3fc06d55b3e155b3c65d7ab6b3cfdb372be47a91f11ef9af020bb8ee8ccf5de037ae97e152ff49583b0b7b42fc523505a73ea274597f964431ba3f14f4ada72fa1ea38a6120aba17799e38dd84c99b304071d20b41b553361eb21402c1e7cca1e37d6c63cfa132e1d579be4a5181529e895f751c50492ee3c29026b8720e6b6689c7ab8b88b53d94703bbc95c940464f8930047707ecc01cbdf155442aecee0aa4bb5c9dceac2d1b364ca5d00039e29257e81d6fc60a0eed8fb206f898df593d2d6cc6fb26789d38ae479c4b051cf5293fa44cdc732c4957da23c65df2a6d51b7a1aeecbe304ec25cdd81fcda9951548ee788f66cee29b075c1ac25015325e6537e6f3f9a44dadbdffb577326e31c4579b83222ff56d382db17ec654c0683cc8b59ea88c2d8240ab949b2fd76b075a9f992f37d30411e227a01d6d299ed1114199d41db6539b7ab7dfbe368d721cdabdd6ee2610f68436624df4de0c080525b10ceae23a7d36a03704833f1f2c9aff2c86cd5163c3c2327aa1627f578bf30842b8bb38e0eb158a7a6302d47281cf5a3358fbd9988af610a892320061d54d5c5b5562fa20b1afd514509a79fb27ccc4b7fece652a0954c0904bccde9d752339d29a632a128f9bf6cac6f24881e3b1219e5ad8513a54e9b3845a57a0e157326947479f45ce78e1eafa2c6215dd08725cc6d7e7ddc70463748a58746346abdfa8249b8231091bbcd02b419ea6326f927773854b14746e3711860bcae18504baa6198b7408ce5ccee9b2741b2877c13c99207d4adad70d00193f5c9eaaf140ee24d018b2e84909518450426b53bcf4daff4e552c9240efa7f23b86e31c1af7f5faba974d682b5f9a90ad9328340ea511ddbe0d27855a623a6a1fc7fe31e00005aaa45669a39a67e4b58d0c520ac3a9e2c02b0e1ae7031fabe77052ef13eb7fa810f0983fa373b9d6287dacf42f8a1c0da57991909d234af429e7f059e1fa7a3f7ad17de8861eeed4383a1d9ef44cfab3df5f8b9e0098783112b3e52f13c969d70352ac8596f7862208b1920423e7f5ec7ec07b6d9a694ad83eeb75d04814da8fee2dbf56e589c088db882d4db176e711f9045957f2a7d20ad49ab4ea06afe531b9ad8d4f94692795126dfe64f15e808d10c4fcb31466d6f15e65ba811ef07850dc203d3f9752a4aadff7b990e8cb3cbf8cc31d2ad55834364a08b06df4de8ba98d11efa57e185aa6cfa57864d110bda4bc262f00a99e3d89eed5693fd27b3f52ed5329bdc69bc00464bbc9f12a2e10a87ada88a4c3211802692b27d58ca841e1de151f3f166c7b13468a7f73459e67a61f8b9b0c522983ea94b7033f209fcb78702cba30065cc4c8a95735cd3e260f1ffdb30343b6f09bb6e149200068aae6cfb0fc585917ee2ccd21fb7dfd58c0ebd3e0c21bbcba290bc2a845316cde4892ed16df4a88242e79156f37e386adb2844af9981742b47ff39b2bc18eede62fcbbb8e03cbaca283a7d0289a4c2803a25eb7914cffbe0405e58d840b5a400fb5dc21c1a744b5942dd575b316a03e0ff204eb99f62e624569fa23468884ab58d17f350386894f1fa5cd1e5bae8e1516617d04569b9c9f0ac0084c4b7cb8690f36ca3a9037a5d3cc5086e93d4dfbaaad27587a11b54a238b668d8b3936af3b74fc565fe0a4e2fe8ee81fe8e6f862489967fc4269123dbd31983c1e3be0c302beea029a516cb8f2a14defd9951fda1c552753f58281897aa8491532b2f4b448674175162c9b74fbef69b3862c13d2f9700484f2dafaf6ac902fd90145fda58f92d9b458a94c5084eebd512e55f0c58d94315a0eec5694d655e3075d938c0dedcf6121faf70a8339f9417208070556b1e0222022fd962aa89c5894dd23a923944041a51049c4b50be0011eff2517f807dfdc7d40cf7241303869226d7e7eee3ab88e9812c03ee4dad9037caa4a1445b479fc8008e881f3f0e2862d7556efab503d4cfc6404034eac35ec51c2cd9c32fdc0faeafb539b1a6a43054e985eff80a2e37f65f39803acf495a7d4900cdc13f228c08ef197a3f653247f1a364025a4096fa7125c169986ce4b3121f1765d986d0b54615081fce17052b85ca6a4eabf4c8022337307b9c3ab30a6c3f834a23de0fbe34649a62d42744d84241a5dd1371127b0ee4afdc4f6dfcad1f0afcab7bbf01d1be8205670bf55f94887a981e325dfc46fe1bed666798922098362a91642a4dd4abac55316ca4ed944a4a6b272dec4d21a4ccd87fa63a07e7f5b526449db1dab9eec5d440a2dca111463ba298bbf0950a9a0d4a3f3241e200f9093a06cb162a0b9eb88764352f867e9d389fefe403052aad6015fd2c2e1509c60b47a2efeba768a447eeac2367b7a7427520463659ca6ed49fd46bb398f549e46e9bba263c1b1c449b08a5393e972673628325011f2286d939cd26480e088e04d223fc7f1af71540d9a1a7715e4f6c97b34b8985753e6794ac2bcde210097cafbcbe688c8bc9a9aa42c9a7d49bc800cc6e1f33fb75c18d8a9c06e397a9eff63f46dbffb1220e469808407d4251b39304af582f5b69e0dc2425fcceeffa8399731299245b255781f7e8003668ef48fe18240217698c573cd4a4f087f428a34b2c8b7bc2c859ae2cd0b7b76d657212f6a8257f938a8032381d3cd9b2120cc96d80171643654da790e65b887606bec0dcb1d348bec4c583439afccceff807c33b234e3d00b0452cb516fc3079b8cf50ad63dbc09c580ec15b0afdf0545121cf23447bf08be8ad960b29172dab35046db40cbe8673fada08a22155e6efa1a022ae4b0f990f6f39ab6c51176c3b2202dd5da3d0542dfc98b4bff18033bf054e22d3826b772f7712cee45ce5b60889ebf8ae60c1b9c29348f416618ae37fd576a615750f2a6b3963351f2b127976cb4f576bd276f497b4f9f2cf474e2b36fa36a89f931a375e0342fd123775dc4806bf0e0076b41b9d24905a406970757ef30c5712a519c477a24ca8dea5bd5f9b0d392e1a48bbd2103db056660fefa56c5944eee25feaa4788fbd8ebac1ef72ac2a24b249f2e9f9457c8d6d0d2b7fbbe21665553f631cb88530a0461334327ef34f6a29805158710cdade2bc5ff4ecd93c13145b36fd7b19eb84977224f398e451718ecfe4a8e9c8cd16243fe1f73aef4af115ef4b49dd60266c44e05d1f49d617a69b00d0f80a990ba2e370c8e2fad06442025268f873163d73883b6303d20569bbacffb328b978a7212fd7e60ae3ef3f91f525c3b866d16b17cdb41b6862e1a9cf31c876abf671eb2e853308293706b4ed62241ece907f6f7cc9e4a742b6e0ca7aed0b6bd38130c8ce3688fce7d2b37f96daa8cb2825385794a881156b6075bb265476d0e1089d6fde532c97d5b7efed524f4346d649e338042cabc9dcf35b15b5a584c05981d9f91a0629771b96878b79fc2061b201d79b018cfcf38e4d4c58920784317ec4708bfe56e5bfdae628af88823266b5dcb36ef46d98fe6cfffc7c9dd7964d6d81a8f9a620354ef2f2ca9d448c36653c89e879b0dd3342ac98f261a95d4605f160f16ae12c3c886a18ede6289953c4cb3adcf0d2673fe875fa19e9caab2bae47ef1526ba97e0f015fff17d8c43f006dbe8fd18a54be61b98aedc069330c9b269b413f1b50c8e7e3819cef128ac64f35367749fc38bf6b40880e142c01ad509d7eb0a54df3e819678e97d27d47f4417e738bfff839c19411f7fa1e4c4594523132b4c80fd3b804aabf170450da88074e42101782a59ed3d4c8378375acceb4b620ed477cf631e9d3a0753440dbdfa72b5e75e46ea906a1aa69361ab4e1723df62d19dcd94cc76e83522bd830b3434a6e85978a5f9cc5fcb0d6ab0e41de11ee3979bc0e55b1c9dd521221de636f14a90dd01c2f3a469af226612eadab97059f7579c3edecfa70f3c82197cd80023425111de3e69578a9bc02ae4a0c2beceb2a6aaf95e50b99548f9152eb2518507058f7dbcc86e53352b3626ae277cd1b93e7982b22589201aae681d4f31e2f47cbd0419f84fd8859337adfc81f5f840a4ce95308e91174ab65c8a12fd4f0801675521ac687f6e8fc4fc85f87dc21fb17d46787fb8dc9ac7025ddd773c9aaeeac90d34c8d7955f575defc8db48d150edfa6084d095d927482dc9f600ee4be96918a7cc82bbdbb668fe2badcb32de54a5af5f4a60de64c6a9feb8cfa780d568353c8e5e8624cab348b3457cc823e036d5fab27354428020e7d542ef581739be60b0e3c3bc56d4bbdafdc7b604754fcaa466833d95378eda7757b4d737ce2ca5e85dda73b28bffaab7fc2f91443ba210fd5031a8000f7583ee4e3934ce7151ba7d3433dd6854742798fb5781eda0dc4d4aa30b497978857e5e4c2d9ab7ca908e11582fbcda462f7e2237b5f364cef475518855fab79915c1a24a25bc1d833c3058e888bc0b571459bc303bfc45266c255db284f26714674411d6aeef47f009252646a3518d0fb2b16425fe31219f26827d1099619f6d42026dbaa5a471502211a83055b7665006e51a420855fdbfd2275119919452e59c66d9e3c06eaf28d49539a51ea0326061fbf83efdb32c504a8e7962d0023e9fcb1b50676f370b30d74dfddab5bd9e47ac59500f163f778c73cb823f2b36ba69f21bb2a89b1060c97404107052bee2458dd2dad0ab67c5a2e867c4a8356eb165e22de0542cf1265ca5099e934e9459ce3ad06490fab829e6f06f22c104b8dbc4769fcfddf7217a2bbe41313e06c6fa52d3d0b4c9a7064be520ba2b83fce9a510fd050a59e90d8b7bf8f99d6cf5ab7f571e4614b860a8315e11afc2243f3293619e4b5a7b24abd619e9e965263f8fea136e6f8c340699abcf61eddde001f41156c8323ac566207b6cf69721c11a8d106178ded03bec872f91edd955e3f1f0e7db09446f39f0bf82d40dfe98d16bd7b44a1ec0c96ec4b24120374e68921835de570d7e32853ab79529c2a8da19495de445eedd38809d5383e2cadea22de74844c0dbc08520434ccfd106cad3740cad708d3a3bef69081f24aba66e728deee131d8df6ec35a160433cf10a508b7a15ea2cc9154af4296ba9d72a1a1149b5e12cef86d4ce6c2b80cbcfc5247c4f025cc9d161118db6b3ba212df6dc27bf1237d57d4605eb7826c833d603b3e3b30d90cf581a5594f1ac69dccd418455404f08d05feea986ac2261b9ca4d2c86c62e65f4b3728e38488cf905409db123d3672f2e10301f4e20a032b5e56cdb358dc418bb2bfbaf178461a695a3daec0807cec334d146dc42aaddd926106d40ded2a831c6e7c7b18d7e0e97e75f06b455a62e28414fda430fc70e2edb6991c7ea3fbd6b312d76a4882d7de7cae168e95006e320ea6bc4dfd5ca7fa6eef508a5e66ebc5f270220e5210bde2c6af674893ab36fe0c91335adea7ba64f3f47cfdc5acf00e7862268167ee9fd06e887c0f26eb8c8118d0306ee1e105b9f2f2c483132fadbaee5546db714c2714847642ccdb620e077577b3f32b13c38ea5f2ea6093e99d7c54c62e315640a61b2f4f8c8e004b99e95b953048fa381aeaf76d3186e31b3f7aeec65bedbe540b2fdfcda4893ea2d7589a89dd7eabd58b837946d44ed41dc339120f82cbd50be481ada2b7664bf72cc97e83c83b0577383d8dd942a10f374921b892b8980070f44ecf1817b4db04d1b32107efee501edb9e50b0fdd9011af185142d8bf466a362bfb857400ef8b889e0bd1197ef2e0d3c61f1c045770751da9f59a6ef547e89b7b955cd9e66344f79e66a5e7a3d73b509301df03cf9eae88f4988a8a0ffa538431851888ec14e74b8c47ebbfdf159ba4a3f8db042a81ad51905952f1b9f5f96d1fcd43445b49228b8cbbd66311aeec7c6f08ade39a711452d28b3c7b8f9b694d1000815e400f2f9a3c436916a7f49121ad8ab06501d966ed451ce48aba89e7660141bf12501807be089239e9b05bdd49d09e75e38122be72647d99ae0682e220511114a5d42a0088214ff2321f40fb87cd73d939468ec72b980187eb077a3e2e1384504243cbcbf33f338b6a3919313eccc162827405a8a0b6b5ef82f2807d00bd6792823700c72f9683600a1227f749a83fc874b5032866a3593f06657d89d80e5346e25f3c46bbebcb503c6470adad85b1a9178b5c6ee9bb0661933e684cd2a809997fb99f77f61096df499c6c5dfb00a32a317f89f9c647d11dfb106e4c71332a4eada6242d20782e9173acca900746443aefd376102b1be8c673d47ba60f787c77e39d8d46da43638cf67642a68339054edec5d64d0c3b96d4ec661990c7b7e1bad9b2ba68f1f707e284566f4c8d554d911519802df2cf213c3e82301645d7ad8b0f7db1ccaf0e7d3165f71a8b63bea398a80e93fca7fedb1372fc3c5b01651e8ff643b7f36bd007b7f2c0741d4097c6ed1cc8218b8ed69c94bb9b2fd701412f82d14b80576c8b3039a58273454baa2c5a422e6e916bf5d4e86055959c722f65e478ba5546739206e87f5d5df0071b8f25b1e23035ddcd7116a9116631786f1c625fe3cb2139a6dff7c09401715f1a40ddf2359de7257470abac249053be106d87fed5393153de07321923238c4ff41ab761dbefbe69e4beab50c32459415d83e7c479f6de2304cfc571370cf5dac1c071870dd69feeea960c7d410cc665d2bbfc5edf05386cf8e464b9636a818ed9bab6bc8383d6bd776d23b8ad64514836a4078ff3e462da57d9dcd345bd67a9877132407ed894ca54c5d8faee6ccf3e20454bb0399d300a7f48a21818e142f5f98ac020b87e290de185c57cc609b00509ac616671356636b8da3cc859728b2222cf5414e26b2a7ae1f4334a0767a9e60e315556b66c6710b12e61de92113b532af3f0143dab096a82c12df0b91854efd9c6d04c73f4f68303122897f39a7f16ae66ad925cab86264bc328414cbcd4a8f265e30ed0bcbb8f0ac3f1fed27053662123175eb999bbd1643bc57858d32f391a54531c44a8dfea2bd0fd1a85ff52b4c5a3665547978c5852104ccd1b2adf25d6c575339a50adb2ba1fb132026f18b5c3feee9a3616022059eeac8e9f3f81cf862488c06888b58e0159a1d3918468d8c2ae4132ccf58c2dd663f0404847479bec8fa3ca42e1ba50c74012faca0fc6e1dce8b251f34a85008570d3d093d04684c1b312842775571dc74eedefb35b890ac4b490d8303847565845ecba8517552cff644ded600643e2b41f9c7ae355f38cc108dbf5060ca91fe3e11b19404ed3787652de9198cb3ec9cb04c9d5ebe5a5b64ad09ab0c33cb402a8baf7181c83ba03e26f849ed975e4c1b613843d639348e93b455e0f7f60a352cc203390384fc8ba8e5bedffd72e0e1b6fc7747936f4268d5ce7b4a8792903c5b869a66d6b0aa16f048abaf0bc6baa1dc189319b1814756b20a924286fd73f5eeeae38ce16a07c47a5313bb1059ed72c17a55ae3a3c0611424ef3d7641c2b387397d5196b2aaf2ee82b1fbb7fbfa1cf13586d8623bbe3cc7f3b21cd033b1fb70ef8b80a506ea745f4289da26087a3cac693e52be97dfec6e6d1748ffd522f65a287172f7d20bb712ee0fa0dd39214462d6c51ecc97d53d2020409459d7f8bf54e630e5d97d17bb551383d5f6670c1f278ae589de07d6fa9c0dc248cc506789d85157d6df7054dfb3ea8000e4880565d42b5856fe28d7c7dfd53d20058e7e82c75ce2ebc9ef0e0360ef48c0ac0572ade9cea4fd276de6e27493da7dd14f9e28406832b2b6f3a4888144b3c89adc68757ed320dacb2d70f659d9c75c976ac047b7eed0bb800776ee7d552ec7e761e785a5139cc0ab96c9f5e591d5bd3e7838115f822b1f0afe792d01194808201f2149559518db05463119942c495318eb11714aa265f009e385dffd267e343d19e393e691b57d06b6f6ce9f5969381091a3d3e5519cd003d01959e338eca80340fe2362aa13bab72b4eade2f7cdb740a58d9676dea934969c14f1b90d64bb2ee092a108d7e59e0026e6d9531de6adb4da0a596ec5476045e17c85110d0b41363a1fd24cf804547783b2612fe9b672047729f4ca22a08fb2f102a309ef8cbdb089b31f4c522188b1786ef6f679782c85e2d8df6007ca4adf9e713cd4c61d5061165a6bea1a38ceb236b241b9122932fde4a8c9226ceb3541eda791a2020394ae043cdf5bbff7908abd72b77b0929cb162d6583071fd8782e71274c6ae00914dcbdc661a6db83faa90fb90f43ad9769f996badd63fd173978859c65ed57b9055332d8cc0566d91118a21a8a59b144f667ecc87ff2be358814d44b9c2d13088b4125bdd2c0c57a16f1e7508807b64925e5512dc01bc58e2c340b349636c7df89edc996198a625c6ce0095b5ecf5c21660d898dd901ea9c370e82e78433865c566cdfcd78d28350d9f87d6535512e876074573ef336cefd981c7484eff1b391570f42d8bdbc4a6c255241a6f6b7375a56bb3f2bec5279fe683e5daaa0b2e41e0813d3587442fde4662880fee8a3045bb2dd0986960eda600bb9411abb4a89ba733dcaf77389b06c491ca27c7c11231804f9500f938b1565593be217ec800c688eeb6dc1ddbf7c05f37f4f0601c9bbb48e59d9d32521778f82ff17a7c2e91fad68aede47b99eee922625f7d0d723009c5db29194e0f978dafce15988b993c8eab8e8317db3088a565b972ba68138f949b19e456eec77f4eb55b7910f2b39a67f657a2fac8bddebd3a24dd4df39085c6885baf45a0c7718f17b165c86e1e3f49e0a034112ee371a29e452ef6f5531df7b46bc67eae101e49cc319767fe0b9693ed5c2c46df512bdddb7c5517c77fb33e99a149b400d620e02c92778145b6b1167d992ed13178a3baf4c60b971a981010e29cdc71ce0412caaf77b3964bef92dd63524a413bb0f8cbe3c1f080a159b8bd34cc07771c43298e2b11f5e88c32df8c82eb1882c775fb831cbde1592533171ec83e1772cff035a3cce27398be5d6a8ae1ce9da84b168b6fd42ddca5780fcc8995e7d44f2151fd4ade92f33ee768bd59fd0c8bf8138f826a4460d37717585f5f632d5d52fec00c6952444c5b1d7a54b77ae2e8ac415ffea143ae19bb348ec635242b596ff25aeaaf222aca2acf23d32e6a08963280ad55404e78a445722ee7d2b0be2b1d49afe773ee61cf281fb7da0481dcb3d785570b4be484de59116b3ef38f5a0272822d0cf8ab5eb3e856acaebc5dbc42b945b5f6c6e960712962b9d2470d6f933e0e45d0132cbedd0c4d38e7f1de19f96feadc3b3e7960a91699f10b6b9aacdadf39c0e4e19007f3d6a21a7ce5ab3c19256e6026f1a4f6cc839c8ebf38b5fb92ec8f4843035acb195b994f73c81b17198b68f0ecacd373c858bffca2fb949070a4e3de82b2af0090f3f6550767e94752698350a3140579ac4b10611d8dd3edea0a3447310ece8d67297e34e6cf7286b571e1b49e669464aeed8e0fde7d30f2c82875c7baeb8f40d063eb70c257a81ed7477d0e692eed4961b6881f62eef015483b583ae2e9599a6a120958caaccddf4d769bb2ab91ad6162db427af57698b0c974abae2d46770fc2def053a5ef8a4af1d4f1ef0f252aa60081798b0a2769a40a1475a574db10ebb7a9003d020442112cfd4f467c8e7634f47fc2d4550e5703bf84dce7a3179ec406a9b766983a432b9e540241d39d2cf02196ddab4d9a4e77a333a983d70c2eed31e100ccdba6071b83ee82a2563657db8391e2bdf10f49401f3169b4ede5459f44df7961e77cc6caebb5bd15013087fe3f40049803bb476efb836c9b77e01826da2106a4a5bed56b5ea1c9db4742d86aec55d5eb6dd960dae9d5cd64b6c59912efaad4384ede113ffee2985fb88ee1afb4ce813f51cc371a724330390cd2ef053c4af692149e3a9fc9c51d257016f87187063661e06e652e1d1be922f7e14f1b7bed29179257aed4af9c7dd74bce4ed90a250a14a2b5af793a9e7f57ec9ffef428e08626c28a904739f8ad13b2ec0c0b0c1d791e1f70c0e86e69de5d88e738f9e2b499568a05892c29fec75310f24c3921b732eda0f9cd54508b3e270eabadbadb0e00fe4a3186cd834af360e001658992d4d8f4f301f1294d2deb4239fc1d9a67cdc88e1237a3b0a3eddfb5938164528aa06cee35313041159fbdf1a2a5bfef23d760d6c96b8bbd2696c63a0b311d9ff20e48e55b06f677b068b89d1a20a9bd63b7c9bd92a801aec529f91948c3c3e1685851bfcb382d6b29e48bc8069879d2bd2bb3c9353be10447dac0d78e88d6adff0b55553eb1a00d4ecf0db6e13755b8aa6e8695fd03e4ee7c816b31e99e176da9a68227b28aee70b6de2a4bd826ac85a278a3f56d234a7f746155d40d59b708e3aab1a65a38533888b0679be41b66341d8fc7467afdca8fce7166acd5fb08d5f38dd7821ef825e6ecc29f9c9346295733f96b29454914be289327e2be03e27b2578ca8c6bc76070964c78cf0aba443377b1fdcf75d6326c359bdf5734f38afe2aa00902fa26dfab26497256ccffe719e02ccc05556dde69eb2c221c7929c69da0a4d5defc2fa0d8e585f14147df9024ab8c05465c4f28f75a774978ecb44824ed8828b2190a5797770c4480c68664a70051a8cf58f4b5c1938efeb9438f9eff15161ac35a099d99685a7785fcb1cd0baf5638a644c7deb2fccfa8509ed4964462cb5d5bfbd37176527b2e306a85b24ec6d50ebe232082623cd295f9f95ba6f15f4b34bc3de5c717b167e2f8a146dae0de0189cdc9c9825d1ca96d2fa5b1f41623611baefb4729267442d1643313683c4450d6bd6b83dec6e8c9184d9e3d84c9f20ebc986f204711dbc28dcd485c25b4a0c0dc7b82a62cb81168cfc2564f75aacfa537cd3f37ebbaa24c06be7f1e4811a9d340c23a771d472b9c8c461bee6b222372d5a5cfd1ccab08ebf3b585a6080ec7514fb317ce119640ee25bdb3a27dc9e9052f308031b4b1c508d053a46c4a58082d4b6c4ec41dfec20d8eba8fa632b11acb7218c411532a574c0f702b538a2aaf9b6067a44c69c5620dfd6c95b84931a248968efb7db91e3d519d4f173e8da3ac92d2df84e69ec71a7d15c5ce38890c60a23afe779c132be31b116f7c621fd29a43447866c4a04e0568e9ea3b528747f56838dbbf62aef362fb5ba628b3009b20ee5035fd11d82daea9e3122ecb545fe2dcda4c686b552fc5cd762a318c2d49b61610f9e60a14fe8abcf16b360fd43ea7394c113b4fc10296ac6e1199de93a7572c754c1347d3cb4df4cd96986c51db46f0f96a24eb51471969f89d20d434d9f6e62f7a56c64830215afaea9d2d465382b24f211ff26ac40ae9b53470165f4b87ab01bf1edf139f5ce3532fdd7c64c71f9ebb03a1ec69533d53be6610e2563b408eb90faa1d7fd0c9b50d4bafc56df626519652cc6f2ad02e04bc8c75ee2f613a2d3b86d0c06217ac23a9a2e1f88a22763cd44cbf32f62bfcb1da0b3bf12eaf2274c01805f158cc3cee11c6b5989ea0409ebaac697848c8b361d4ad6187df8910a04a0abd08f0b68341edae0f6352da1a7f5bd8331cf3a42dd940b58c49c679fb1ac40dafd93e51c48aee5ee9bdebda8ab68a791b94fda092a9cc2035b0e2565492d6c6b8b3a565590725bbef3fe0edd0e86505ce34b2415db03c7b504a1f5d924379038d45172be86a07b9fbb127e184fcd42b2db56e356d94834b31ea0a2499f4d02c61c8252662de932ea4a42a4f94f12de4e583a027938fe2b691d6245d0b338823b3ae6f68bb565097882158eccd1a53f23caa63a502852ea4566568182bddcbf9936127cb6dddbdeb93130c1fc4def745fc32d3555ce086d79f6739070065ac5796dad9225f0fe183e78badc3a81b5d03273e9879418ad5257c3a221aa01b7485d8a3846ff421537d6897b8c1d4926e90dd1591c6ed1dca5fe9e2375277869a01796ae20f7b8f583f52158d2093583120e8137dac0d047bc85f62cf75be768d69888caade70a089e128be82d7ece31c1b6033560e5d847112bc1bc81c2f5e7554d53eb326282a0f3fdeba63c18a52d5b664f60ab51a1d6f34fd8e135c53d2a01dd014fd0c332e6d1a34dd663c4bcd016c01bf192d02048ba01edbd834b11091c2ef6ad45197d20b41e461d030f836f3b113f9e47092b04d7842a4125880958d05b3541f1712a748edd8d54a2497b88552c10f314b2cee9f22604278da0baba62bbb4b184b8dce186e57f04b7b12577c4353874e79c8456d0d846cbb9c04a913ff7f6feec204edbd2c4c9f9cce706cbe5d232ec9b1cb7a79f116f2bd2449eea55c00ffc4f64324f28735c80a2fb88e3d1d4ba8d20193df87c9edb731978da23776ba9d0a24cef7e37ba93775bf83544ef07d48bd20ed6814645ad14663a90b3c9edaf05bfe8252c5fcdef1ff41584475e1b5fe5985e6ab58c62c7cd83cf24c3bbbc68a39d67600a19105d8b74b29233af2f4139c53a8be56a5bb3f7d51858f550834318f907cc5dda6404a3f1f4601880a63e4ce0efaac78bf2608667cd85431c6b92c8536f8e79871f3f88459f5ef4345b6c6e81b9590759b59593c865db608e9c168a82d7187145962e9502f860ed78f39667c04ef55261d74c0540636d270760b7bcae8803daf17ba4e40489853e3addc777895e6014ab23c7d4915a0da2221dcc34f1ee4e0970f97ed6e4e49202c588943ce1c017bf2fee78256743a071e9e31767ec0be01a38e2cc99ba79b300325dfa31a082da1a986b03c67e8cb3188dbc0163931a45885520b85f2dd86b43a4c26b626ef4f66e7bb601c2473f85949c041651b3b8c5e37b575ca65449b1f811f6007066c03826466ce978715a06e5231700b46ce0649827c24e505acde667d7f5a8a1fd8c0505017ab83a72187df49ccec3ae993403335d4af45578111141bf2742358474d1863de07c9f3658e633ad1115c80edce0e1f62732c753c4342d21329c28f171778232039165237312a7fbe8d1033c66546ff1d8b194e8e5fdfd9d6502ffbe9d06ab8d794a310e2062021edd544c1b346df735dcb01b265e309749b83fcecbb555bda5e4bebbe132fe31c3ba20112e842db7f927f958f6c23a7eb0b8d2938edcca14ae0cd519af3a7a1d5dae2b07dc6a0cf2422726c8ccda0b5e6ed1a93db56f6fa4f9aff6ff1b79b0fac928c202fc5605da4e4d70e95accd1b6b285592af33607cac440b3a285774ac91cee7a1c0689f3e83b0b88fd5b71c6296693756ecbdf6ff15b2368b9e14b148bd8d5682e7051579b8c002311b860ee4dcfe43d8b1f9312f950f465b404072c8f66040da79a7aeb07a9ffa970630aca06e9940768101778774b9e7d986a6c34c8d452294afa2296c7785d369367b237ac9b395fdfa177bae773fe41cbbbe8a26d75827042b5a1e21bb74e5c9ee76240ceadbda4e1b8a647922d85b31f46893c94344d8295f695722aa2c6bbb188d006dd8b9fe8306b94e2a55882c3481460328af2ce2cf4882d624de83a700246f3e3880fb2128715e7f6366a8e1443122f32047a000f4134f327b475fb223eea5f6f405ce506b3c202378c7f8c1c8a87310bd29400a47886841c4fc52dcc2431edd672d0a4e73a82f609a2696c20a5a6e0059ebb54125c42d41b8094dc3a311504b0e840367acf52819f15e209a3d31de441e13a36cc558be20961a601a3af56074958f0f702742bd8d4737c77d3a519c35798e98e9815ec055a0645bc1159f6c3eb18a684b9f26d868b391511942e576d3a637676ea711eff070bfa7eb322c067ec285e33660ebfc5d9a13dd2e5cf3156c4cadfc61fdc39eb9f827fb7d0ec2c742052ab406db6e8f02febe791306be04d9e938cbe09af50427c467f464399cd061883d00979bb59412456821b5c616d6809c01778b24c2d02cab5139af0151381a082b9afc97f73c51f0cfdc95840ce26710cd6011388b699d2f2a4843bd08b06b238eace21f58517265fe15903361951efa7d1fdecd30ffb5c2b6b4f8da307b692e368b4be00cc7bd663a7ce211f0cfa951536af5a016e474c1aa023086c34004968f6efc4c76c1d7305983c33a0a3cb288d8fa9fa3e7468cf8b5425e4c5554547bd29ded2083ea066ff5f1e8277846ff59490dfa0ce11a6e665518c9019c599b171acc41c426149d26ca71c42c6fa59b7fa08c8b711b12aaaf9c090b6940f3f682671c090cb8534bf151c42febb192282d6abf60760a2037440a552b4911610a589d25637c41e5b8c987d376c5747369d734441e5b7403a175fdc5848b9e89e237bc3dd9a1e1cd9d29ca6541afb09ac417eef679d7ad9573973e0f502fc085f823cdb9b38e313616de1d622a67c306136f94199308f643136d4cb79a2ef2aebd9e3f072569c4678e4278fbbd28037668b0d4f5e64c61248cb8a0d06ed8d773e81686d383d7c598863ddb767995ccb05cf01c55ef9eb804031880305448475faffa9bd2a78ea26d0102017721d2ce207a115054baeae3bfb7096366e6c16c365ff5848601774051f8706ca836e000e28ecf0efcef1efeafa27dd743c83fc2a24be111fca67122da371e41a60dc89fb86f093b24f121f2664c330996f0d1a0f5c6cccb5da5026224eec1c34a4afb6d9225f9882c605169325b67cec49b5502bbb009c933f1dfb3adb28d4d2f3fb9c7aa4642a08c56d45a7a40a166030a5b640ae8374082caa0fe208547621f0157e9d91f05935ffbbb2584a57ba159e940e187cce4b4b1ce97fc42b545a21519758e90ae7c9606e58781fcd4151e59cf56b3e48ea8eb99d4f6cf2f98878e47d804c8cd15e9dda23a791b42b753ea0d602136ec8ee792ff9cea0e77de72a884e2b4c2e9f1be5c6cf44616612c60560e5f9ead6b920886de3caf431d2aec1ed8e5a9301a9a34bef35896ec90f1adbf3221b41b2709988b24ca96d3fc49254f64b21241bbec35249da592ce4c6f444cd1e553c0ffc81224018be7105b7d2e4e6e15c6f7e5cd0f34e223767b5a35ff149dc82922a42262463ed21e20217c96213a856e34342a04a03b1c5cf262b4aef210767968c0a8085cae8aaab1761d7f49e53334ee3543ecd60706ea6635de407d4c8803af271f10712bdcd084548688f08c806e9590302b128526e70c53fa2dd0dd2262a9eeb7b0da0acb141464b53ff3dd909fa051349a75b0857b1ec95b8455151584d89f1a312e2310b6f4dfc0e3dde4a610baa10f9c28edccf7ec00b302b4bcf814f61f5f0c0da9972f2aecd2611290b05b74ff4658544cfd559222b80e89c7bd4e071105a604292cb62ba35084a8ddb5a84d5eac63e2d0349512a4378f406669037d97e6ff71071c5396f061c32598d53786bcd41eb45548ca782d1067bc9a5be54477d88bb30955f7c1d304604bac990fbc8de3e4b834b2abe5610d2bc4334635c3ad0a5ace66f270237f7e369082e882f742fa316b995e523637697f16e0936e9aa1efcd85fbc5ad19c0d4c67c6315d14dfa4725219619c70093787764c1fc54557f1385c421448c12f22161731b3b21ffe5fbaf75fe12284c664c0eaf8f02517fd8e44c98c4cfdb56c46b59611167a914ab8070ec5f646078a3121d635641d9a688697e4fbd51e3bc1c5ae52e2b54fd92cc29a06865e427aac375d272a7b94bf9b78530775e3d179b4eff9a26f333a4e97b6940bc7d647c15ebbac475abd1edd2c3e5e64d0ad1fd7387598d0d72b3c5c5666bed37e73ac72af288db38da3380940679b998aea7530148d73c9d6accdd4b6301cbf618c85ddc452e3be9feed3f7ad055618e562ffae65d1a5c44862010aa4ee778d314607364cba4e7ebc777422b926129213d4c535d3da755d69e94f679adbf4a8f37efb3fef878c62c3f7a1bb596e157877ba394d2447423c54fc0e7d1474a328b7701d0b4fd56da7520cbcd3d32ea466040916fdb89533d03d4bce37be63f61f4e805e08f431582453526aae78566531407bd1f40673fc05e4b421f4ea510baacaef4ae90be6071496af44a4571ff22c07d96036ea6607c08bb1bb911bec6643584dc39a8b9b7f4fe612456be82f5e3e5a0122beb6d4bbad8d3557ee2acf47630f04ff370b0bcda79b8f0f80ce6a8e2bd772ce3c4aba30c4eb9965da20c937e99a6d672865934c958da1e5336e83dde79570d4a0f638ff353548853304b810fb5939292a3c4151d690d3a58f5ee60ca7aab9fb447190307fbf99500f3ecfbc3caaa4fd9cea81fba89bc5fd5fd7628596b9499e836a315b312222099f1f24454d3c47bbd631deeb819400b712634f9bd46e25d1a272508e0085c754b65990d43c9e2619468f2802b025453dc696f6f6416498f88aaeb0f3df8a98ce886a06220ee987c98a97dcced37dd688aed2c2056a2bd7908cfefe07af43b51124b5da4138cd733a675de8858e0b1eed43194e521bb2ad77c0bf1fbd1a26c77f51fc148fda8411edd6795a0c970904eaf86cbcb76b162002625f75040b91dc331146d5b15ba03ccc3b0c148f8e9b522228ff156b707834b1f5fd54c3459db5e29e33bc14b763b217065feae82a8a1cb3351f6970e594891205bdc27cd53763f2ed66fbf15702c21a389a491e075a4ddf0547bacdc52a9cfacee6aa2cb7841cbd7e598b4ffe69b84221852822321d5f396c56303291bb2a1916f872b701872cbfe9e2f345bcc208bf2592addbfba13df8296613de042db3f96290328bc786a4992c51624a1f6a06869c140847ac00b52370444cc307580ea3535d8ea588dc31a466abf993cdd0c474d5de41f9184f1d6252160598bf92cfa8bc7fdda6f12885e2f9f0a9c1901be8ef11db4ebb496609be05372f11ca0bafef3458b3552806f1c1af2d4de964946e3128f6121c4e36377ec4cde953a5b7f9a5bd3b936f3c5ef1b2857962e5f298690ef33e8db1f7ea0f16340f46ed6163176bee13d416db7bf2b5190b6b7655e68559569d0e4237658fb10a4163bbb36d8d3d1ff82bcef4f5a0fb63d14d32e9dbb47b590d4f4f59ea0438739a16d151b4f246c482cda6b46cea8fa87fabdb631a79908f5b1e597bc71fefcf2a3a1db6d430b489adee4561425bbd392801cc0ecb08b38c425b9cc7733f61cd29b4bd4c83e2bd56891980eb8d9988b47aa1b4dbc165a1abd452dfbbaeef210dea752d31349d698aeaaabd884628d20d43acfb4b2a663bbc9db0f740d8ec1038532a66261496ea1716c3313c5e8a1816cf00b00bae9d4008fe6fab798098087553ce55e3c3c5e50ac7a34743683fe4ddba7c8f7d664f6f98b4585cb6a88a9f6fabb944d7cf5fed4900822011f66c4a79decf8ca52877cbd5b5f90ee83cb8596763f60640b4750c1afb927854f1f4c5915860b1b45401ab3c7b4162bdaab570fa0f42569160dd2f32bb396f8f5aa5c228b9b3950b125b9bd40900220766f957bfebb471db81709452997ad9ad863dcbe3115c42d2fd97b709b78f951bdc67c91b7689557a909099e43adfb320e6796fe523a160838795b4ecaaa477be8924d44e3bd53b83d158e1bfb54b460f845bfbb8c66fc287ac91559f47e6ef485c3b2c683de8b452d669123ec1627ce86ecdf0d7dc374405e17c22f561b8b4899bf0a45bccddcbb125e0d08b40f484849a3f59f848ccb551a36fd8b6662c408042cfb459701112cdbb8c2b4ff077e5167c0c3d81df3d56df1a2beaa7de433b8cd150629c61482c8b933e72372c9febf102148196d58f6b2916e71f20eab8c5f951f2311c681654ef584851c4ca8ad6204ae633f1f70414778bf44a728fccb8181270341ecf6b823d27975e0517f7c27ab504a43598404afda30dee9cbb53ba737c8ab388e0da9711d85b3b3635a21900badd44e9f253875ba3e5d1108c6834ca383336e166456128074cf68030dd78de9557d4ac0579ba3c2464f2ac6561081ac646cb041e57a20ea5f8c95821ee03d9b5bdcb6b8d3e2f67ac6f3c748f3986eda3f79dd7b98cc0d63547cbb7b08124a66f628bd67a6ef5f0b91fb0462be42b0371cc28da8b6e6dcc1fdcc19572b09d6ec3412568d4b7a7251c3539c98102bda06f57a9e27e10a9f070fe4458d8c320313473fd23994abaa854d94396843ab46d478262ba6d510832cd9c2ed8a182e5c1076f5d17d22a1baeb72d4e05243816005fffd24f9a73a0162af14b8ad55fbe83a00488b1e1ca1626639b63cf7de5f99185f05cd3a85375c91776dea2e3eb8635c4dcabfb1bd53820abb043bd73d63a76ce8610f6b65ea07f991d78dfb336473fbf30ed07c2628b3cf71e705319b4a5cee1ca79cf80564bf18bc7fc872d99a6e3ffe2af786d63f33cce9903f015153e783dc12db9c437341cb45d13b1216900ae67f806c12e82fdb617aaedefd001c38cec0fbe19cd5be73be620e7943c8d1830c71f6e761710c2076aaa705db02a6b34c66c85144c1721c9410b3227c25373a4a6b101f942376181a9af5449e01f9af977984200e40810d6ff51e6719c6655d4ee4805f0919d55313393417ca6146208e5f5d7e2695be0100c73915dacc72668c05e370f3335214f0f758d8f5cdfd2680040093fdb9ac657b2007477a78573f77b9e9a5d9f49a873e9b6020468d21b969ffb0c4f9e6e6fd4668add8846cd2e161eed243553a11b7f8565a46fbb250de8c0f9acc0e1abb29e6d1541884ceb91ece63934b5cb6cda72bf546767b8c4233ea86ed9ce036ab234d1ae9e6eaa977e9d2364d2560b96","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
