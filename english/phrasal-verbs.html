<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1ff412b53dfd635d9345f1b044c4b4fb66648fc5b97ffaac33e856c6c36061dcecd25b260724e9291409a62849d038584c2cd4decc50cedb7a88214ffaccb4b08909fe804451f52be807fe2b3982405bcfea0c84f0fa29a50a7ea5df5892b26bbbc1710cf03bd63e3721cf1280b5b9d32dc0c97cb8cd350c046cc72877e08366a32d8e647f843083e7ec4fe28edbc0e31b7e5d7d73eb5054c8d73847b60736c3ee0c8f28c05b81c935ad91bf0f6a84c35415d3b23b4f95a2f2559fc68e17b46be2dd2c4d7410ea98c1359d033c2691825d2ff5d755123c731b849ac1d4d733bf5a4ceffde7b152bb648a0b3ed52a470958cbef730139c3474f69e024fbd196102a35f25ac12b514fa8727e157d51e4329de97a9e978f9c50da9efc1897708468d2bee9186df228b077f7130d22786b249869c0db2f294af2d1e2357f90dd09199fd55b0351d2b5ab09eb0a5912c53c0fe08f4c99c668758d02970d036b71d51024b12acba8ea543f380a316d7dd1f5b34743e6db44b3668bbf7679201cc66d9ed5fb5c168ee3526a071646affa56606b82fa669a71fcb360d95231b0532a9a8a9d5e5c0064004ec66e67af53c1c5c07ce9cffc5aafe01aa25bc6e00777f31cea9563b12a99d53232e559789face7a54906205722fd64454da36c609c63e6b821c989755b06efbf16acf07f6901eecc4acb981a46b0768486fb0cb2cafa4496c428ef56e775be4a37ca5fac51ccf866d885605e787058f628ed0660349aeae00e374a1fe618bd0bb17b5d2dcccbd148858c8402880bc12e4d6416646548895165092aa0c4b58b424048a8d4c848a9ad32708cc5a281b3e011bddb1b293f603ce9ca118d2e0e436532288e86f34523718b6e5b5a640a4a0a3fea8979fc4688a45fa12212823d79dbbcc0f19672ae490d19f5590af5a48b47932d2371c43bd6c29dc23a33cd6fae51d3db5b7a1e9741132b5ac213154632521b16b2f571dff309227914fd2ecf708d56d66e5c7ef01cb7261950ef0ce7f017a9f8489d65430d6ee406519dfd72f6d18097404580784b4e5cf3b023135119849ffdcc90d0acdf46ad7c417489bb0edd58b031c819fc9127cdb5c2391ecdfcde31ef8a4fa1eef8ed833ef36c5e9e139b2177cd29f339e6cb9e2b35f7cee64c8ac65036257d9615c9f34fedc2a8e1e14312bc606f6f353dc88920733c1d40c25573029f90b4edf1b124fe45204d5757018a721d765929be99aad03647c4ed7452cac8c27ffe31d4976229c36e6a92d62de32a275d912ba1adf43e35b7deaa14fb9be496bf24c295ea16b6637c9eeb34f20b22811f74234de8464a612faf8cb920510eea96445af0176a56fc7b667dd07120e13ff9457474c294e9c2ee3ec72c1318798829a89bd0c082dc96ddba45bd5af7d7e563dec5517c4a3f913ee1ae8b80f774df11b7a194ae8602806c901df730ad053ad3a4e8f5c254b9560c5d781dab143fbd1a019becfd25ac3d449628b84541a5592eab9a14ed79ea20804ce17339d55414416491742e4d7316e9723e8953538e4b28d8263bac1e47d2d0df452a0cce88fcd8049bbe20f203aedfa83151bbb72f48e8f75aebd085436d84668d09f0decb3ba5c82bbd658f6daa72006341fdce347c5c01cd0c31394025f0cc14743bec6c6e0ffd92a0078d61aad35fde343a3aeea095ded8297953a784caa5f162258e0739af83a28a7a5456e047597ac7aa3275059423c69811e2205a8137691c57d8178d42444cc1c70cd192b2b32762b0880749865892adb5069a95a82491fae02ec6b142bc2cf8faaf61a5d92afd30aea430a56ce8270e6cf26aeb9561f9419ec00d0c42020db9679f842ceb6b85b4c808b52f01d7ffc919ab711ff02a1bef30dc8ca09a9ad306c63831e36de224f5d76665906cb33fd8a4e2183eb8507e0a1476352f55e13ff99fb833e44041c09ac821500231f2aedb0e9ce9e8dac09488bad07e8b124f5d913231ef3e1ed08252965029ab90dd3dac9569da28c5817d05be051c193f3807b433a605204d822205c681f2b015355903d5c20ce322d11aa01d122ba1089ed5d5088731c68b418180da224dceea491f759670842d846ebd8624ab8f102e921efb7cea5079503c7c1b731322a772de0733f94340edd2ec173f2570a48007b78319a21adf33eda2b71afa708eb0032067c19a9fd9abfaaea41a44997773934fd26cb39c2d650220c3d507a9533dec57672a59e7c9d7ed3edb79a597473da7959ae080cbc46710b33f61ac8ce88ec4e619fd159d766fe15d19e76eea17004e4a8677e2a01ac5f8aa9d6bddf9517cc4b5848b10c4e54d5231a6430e6b35961c9b627a14d1a99d5b51f3c16eefa56343a99b0c2af16724c624bc67c8837f2937436fb7e3a5330de15fd022d7f3fad76a1ea54f9297145102f356a31294b073c78789daba176f7b745716294ab0a6b15026409dc5cbf31a126891c5a13f958c31d2cd0508c9108048978b4bb8fa9a37840cbbe7be4fcee9934a49162c48c92a9814478661d493cebee5d3493d72d2ee180700915d0090bbd3448514baec8557c043a4f66d615fe9acf1517a4bcd9570ec04351da5cef5a3bf91dc00926fca80725a275d421ba53362eb8af4cf58bb7c7874fec52e61d5527f9c76c9edff4ea59913637eab30f8cb9dde8e9f2225afa8898e1a28d458d4ba43b5ac2f1eabcd52072217092a5964214fd4b39966f889b7ab48bc9b138f3904251b80de0771b917372492d5af72b987f27a3440a56e031362657ea1b854ac4bacf9d86cc1fa20af4b0eda991aa5b4d4341588ccbfb90effdfabc467ae25e8eb80848404adacb1efd3069d269a3f2966fe56051f2484d2569c9816da8d8ae1c8a14aea9f162393d9098a33ae1305ca31f0ec30e8bf3a3902123b5ee0c9c3f889272ceedcbcaedcd1c8011cab817a2c49e793d62f79fda03c42d90625b846f4790c609a83f1e4d96823da0d1c60785a9145f273135c5f62ea457b78b32f3885be9d8700401c1189a8002c51d1db536b5af3cc30ed19cc562cad70379f77f03ae43b22437d5add5bb9a18bf343ebd8acd51aa864f2266c1c6e705e23dd9af045e835c3d968276a80a061025a57615a06ef4d2df86c80b79f30d56311667e2316faa1f45537f96670290c3db701bdd05d8f657c54264970edbbe6aab201888ce49d5de52fe41be7e271056f1bdbbf3e78a4e593ef42ead8ef2ea077ccd3720f88058e4daef939b3ea06615579947f057feeb3a24cac2e81d037b195a2fcc0df1640940b0cd5871eb5b1b77174c6def689a7556a4221e24ab9762861567024ec0a07082a08629ca39472b6459b3435e11367285dcbb127d7cc83ef0b322a800bb07175de592f9eb06cbc167149d61cd4339f6e2e537620efcb898398760a2b9b7abd20115923dced24f259d4615fa41102165cebcfb1d6cf85f89ad32b53e1365434fc114562010f2f23c270c38e381c1bc289630cf48b865141768556513cc8184b7aba5fca30f0df9ac9a7f4e0c42115feb6ea591db9b45e6895d94464b70a59b9fd4bfcccf7b803d2bb0949e11dbe6cf882e618e00e9ae8cede07815acfa1cc6b2d8aab05744e7d23484df47f58ab6b98e1ce236ba53c1efbc98701f3441cac1c83a5a256507c9a1ff338d4d2d43171842153b17cd13876cbaffe747edb40e280f0639801fd5c8bfb9428d045b3fc5930d980ec19728ffcc71d7e47570c291fbd573b5303f456cf9aaf38109560a3913b4f53698149619b4e7569502de40ce1ff1b48f925358b82853c40a84495bf24ba583e42a8871d981e424577a546c043532376c00635f9721ac68feb4550a8e618610e547a68d5e7a396ff4635ae1ed6a6db9eada7e9f6607d178ab5f663ddfd4b480a2784ea34696634f23b876b5960bdf28e766e96ade81fc3c612fc80f8334ba298e527521b5e18dc2332713b1ada2b77168e861e5030ff105146e3055ef19d947d0072e0c725e0c590234a8b16b022822d334947de83f29489983f42e35e3520feba5db8e7348f127f8a367130286f262c392ad4ceca21bc65ac00ee75d53a74169da426f1738b77559bf3766aa70e18f74b6f1a0bb950c96a446ddba61882ef36b91962934bbf6119313323aa7fe60f237f2cc0a29c42e55d6046dcd941554e08959294ee06b18c37e7598079beeb8b63b8a32ce8de448b36966a52eba94604320da7d3f1f110030c324a331e6b4c0663f87e46b5e9de0426dceac2d01cec1bb866850b07b721dd3aaf85d25b749291d92d6a8ce2885ba5c3d2ad42ae9c16292f97e5928b59896aebcbd343785119b9cc40a5a41c519072e7c637a73937f0fde68518b4a6b9d12b7315c297642509faa1d165c85ac132d04cc8d28c25e9837a891cf92b7fc8a1e019bf9958f708ecd500fe8599681a083e2d85ba43678feb3aaba580611974affcf0a5d91d9bf6871275ad8fd9cb8343360845f64bfbcc4bf924e0f99d771363589d03c55c7e50ecea37ab605f55af6433d7aee29a92559ba053fbf89cb95cace6ba2aea257bdc2e2ed8f2088c5e4b261fad3fbc9fe6c39d9af9140b3b728ecbb9517534694d2b5cda81982ee6541a98c84ce0b93921722e6cb5c1b3ba38d98f29f1c137901effc06ef350a1b29d10ac200c601f5c20b91bbd686ce57a72401615b9a6e6dda672e9c4beb3950dc7237853d2969bea6d18d3dc18da1a288ed6c20281273a3475b31fc52f8bf09e71834b9fcf2900c3fe2ec5b03b3b65687548c8bcc85369adfd81a42124247fdebc97a0c2d4d12ba553d630873e51c30fb2eb63bd67a5788a7e7af28aa525d523d6b6e5b134c9bd1df291ccd36f528f301dd3088ba4015e893dcfc14df85cce12a61b037b73e882ba07b5f44cfd2eaf5d30b952b6cfc3f05fd5d74cee7109b98a458c4702945b6594177ddea3efee776fe25c9248abedda788770100da83b993bea0f4d0ece42376d7286a59c3795e36d503ceb953bcac1010645c2b4b872c95077808b70c98fa762276be285ce9f8ef9b1cbbbab6b480fb7b340c84f148db69ef0363b8c27863537eca1f455089cea4b479ab54862dede5aa6c4d95e597cf1b628b39d5502b1c8871e2b364f591039119b6640bea9e0121eedb7d490b9df0fa9a14451c4a9f3a9cebd4344924f1d952f38b97242f950f3a9eef206148870ac022a5fdd0b84ce687c771cc2d72752289e8435b7b48b2446a68383e5008fa2a7c87b31e37d07f3b368a43ea4ddb5ca08cf4a7ef2d915a2070f2c0076e2d8e310881e9d1cade69f4a96ec1baaf3430dca19567a85f34e18f38374d9f8436e85e3d0b621b7f198722334f65954f12e16a4a4a78ec2594990f6cf5907b307a83309ecebb53c0cb8d50adae8d9b48e74705d612e82a1604a8f87944ef3d2d41c0f010ce31228f85464721cc87f36fb1264ed2c5b31d7644fbc7a15e2b92c4442bccd46f4f1ec4b7abdcdfe6d3527b349923e2e7a9b3d05ad5f8f707c252514384cba92540a3b58250a3ba605b23360e4d28812625bb85e3ef88c0b5ba49bf05fee5b1856ce7f83abd76cee77ca2efe46fb8032581e1887dd53c3444fc7cf37bada28afc3de48268cc54deb49538353886061ed2e66a1b1ca6205b945289e6347d48fdd46ae2de8ce800bc080faf9229abad9c7da3cc3027f75e10bd64bb7316f1004c6ed1d37b685edad2e1157c2c2bc4d6cb8dfe43d868faedaac500e667c0e05aa29f66011fe692939e1fd95261eb6457fe9e404a2195d1cc6679f167b59f721369dd2dc9925c81c976b28623fe5c1a59603aa1f95ff7badfdbe695e08ea2b8a9123f87b071b0ce0da9743cc582fa91b942f9cb690cd96abdddfbdf971b622f6ebfda1a0e3f36f1d9b26066c3d96e44ace5208ecfd7133041b18caa03cb434a92fc7cbf6a97e80e64cbe2c3d03af48c19d4f674db93d17779453fe9e215911a07691a790f11a78d2614aa85aeccedc8de7f440dfab2e663e27ad170bbcc03074bed03446a9ff74b1683b97ec4b702f85a070590733a69d99f1b2e27d180d876a657109e8e1bd910f9d1179a00b5b0770cbf4156fa09967e405072de5b96ca6bad29208c42dfdbc5a37e5840f94c5b5e2d72125f860c48612c81bf5fedea0dcb9d2850430d606132545aae0e4a5ab1d69f60449635007ee89613d7563d9f0e1566b96fabe18103ad02c516d24fd0a4d740bb6758d8bdab1f21249ace359386e693b4d99feea193f770a69631742e31475727078ef976c79e8c0ca0f8a7ff3da1f1a99b023c4e458b6a2ce828ecfe62401f30a3a04535739f487108d901e2c88f03ef525d42244b85649136126bbb3e0dfd4e4aaf4a8a232667e644a48b371b5bf2884220d927158010d8297c046328f89385c86659dbccbce93477433e42a0fbb968e1f31af5b432f71c7d2c11a72258711287c0d27739efd5874140216fb65ee56422de2ffdab648c703c3f990ee8df8d5dac88b83e15f3db7d856a0012e33280e52b2f629d30a0f67f0aed1d66ddd0e1afef16d382a959fe21adcbe302b0af5e6b28c0756269b3e8972c1b31b155d4b46bb66de21addd080234daee286ad7546035213c31538789e74f1842bc82452b016119e651b61280c3d2695023287bcaf3b750f1d00ac7d21fd2686936332445aa7790ff0010db10df3b1e6d6f4f02a24e0480e5188fcc86bb516d8bdaa6ddc55645f283a7ded0c378a2243d9872b2abce63169c01a943e9086b4226efa446a6977806f740113b3259d9090433210a8e88608a7cca31b65d8750b41eb4d7158f808cd6b48bb0dd6f1bc0aa16f475358cd484e7519e66001e4a98211c96f3d59bfd8a2c5de054d71b8f9ae6777ef1e1425fbba27bd758c91357c21ab076e0e20ef89d566d0425fa86dbcb7ac884c538834f8513c953b04601dcabc2f3e6f634c52ae06bba051d56a3ec1ff002c6e2805b24e9af3db2634eb3b8b6c02f0e0dc10dfa4c00465c02d9d91d4f6484db48966bc9000328a74b3161b2aff056772735bb68a5cb12e792b3653f2aeb22edd2f79820b97e99eafae8a5fa5c80f7329a1d00ab4b546c8215446ebd6a0c83aa11f5bb717af35568ce7c700270552a9d02677e6a33dd9d75d574ece423e27c08f7592b49e802d596e5151e1a55f820b80ab48413a36583a57ce6b92791dd13b58abe945b14e6c973a004b7fcf697901c2b479e6064bda53cbf20ab24671bc6fdce1eda49cda6db12a0e0c8ad7f1f6c92206dddc76ba76a78e1c9b05b2ef8577edfb44bb2aa028cb99e0c69a107e2c373879c8a3c6978741d55367327c4d42c4d77a5dd29e5eaf56e2590cb552d551e881b2a57b53fbdfe8dc67590f4a629c30bcd111d2fd171565faae242912918a0d564769cc6840bf2588b02a2bc28f1a60a72ab67baa1aac42df2231ddd5cf034326129b80a3cdee7b5a96ca456ec5ff70588d4b37e81319df80787efece44efb70ddb2c7bb69a1a99b72eaf60ef4baf627a56ddc94a282722b4eb334a45a4f1c3e4527d632879b2997059c88543dbfe8e7c64975165c2dcb2323f10ece0e8482e9cea69f5401e83ff96322238ddfbffac8108e05fe2728d1fadab070aca24b61886cb8055ec08e60e35bfca5562e0bac79f8760b67bb510f66b819aedf7d7dab550079c34f5c0292ac0bb8bde3c7c162ef1215e9bdc57bec119e8887c02e618d701165ca6fa19dc94c2e5fdfd607fc6c28c0e7e75953a4db8905da7f747647023a75dfa26fdea561a2cc61bad0eea4cbd9ddbb09a366a9ee82dd964503afa1512f501af8d0f19bba5591d19cf4192db3e73469c234308308a609cd72d59da8731ec61feb3d07a3c7d7a8528c6dc9439b9a0f40fb57bc71807600bd50990462ab6836cd87e170abc40f9edcd8c7263741eb0e42828a4901cd89b5f676444a328c234d2be304f31b05bf5e7cd17849bdac7b44af56fd4b7fad008641d217a6f6bbc9a932cf7d73073414f368804d301cd6051703b8b86c67a4dcc8d9c11eb0620e75469dbaab93a68f3026e5ef8c2b78ac25ea602c37e2e94dd7c4de1091ebfbaec434a107e78b810d112eb843b1810a2a93594438404905c6788630e5957c98032283e1dc5bcd9531893070674d1bff05cd5f25fc241fe13c2fe1965b625f5787a91c0ba75c5be2b68044924da72af1a6c9f6fd8480966510e56a2932dee54eee8c05ec15c0c069ea3ac10162933cb5774de4bf785827b1fcf4f756985a2be82e070e93d9cb13adf763db7eeaaa6b4799d2ff0a597168a33e6176938202b9cebaf3668f851f4905bf565180b8b8d6fc664d0e1e1f4845661de211e330d21ce3dcdcc5361f2a448743d4d2bb327cfbacbc8c65e1522347e0bb5de57935d9105ffe32e17e4cc43c4978aa56a0d0b9530e56685e96cd463db6203802319c984630cb0fa4c2c32139883c61441183f7f87a986f0fe512e7838f42e10c87100a2afad3669a1ceb4f2599ffbf75239fcd8357287ab7f5de879d2611278a5a21fd9af0d739d202282b20f5bb9dd878b5322ea4157d7c319a50357184f3fe3bbd45145be5ac950e29ea834e0f46486aafad85dc110558fcb01baf6cb871c574e9ae7b839b30c1d2c4d804952775f3eac4bea5a511b918d0d62cea5ca616b7c0e80ecb9cb2e50bc5de3940710df1233d25bd582de9d75925e1b7cd78f8e5ea95ef36bb49fc95d77f1589cef44c56437a2c5cfe01e5047c9501934a5f3d2e631716055d4214be52d8720f68413ac49fc79e81db58233d287e65227443dd1c8bd7a3030355ad073513b08e6b6c26c801867a73e8269c7eb01c9daf7ac20c6ecc0c8c03b3547cf0f5458c217743a7f73ba305e5f3e4d252f652f297966dadc903c1e979817a8358700b617e52fe5a9bec49f16721410fc06cdcf1b671026416e59a9df74d9b32cfc3bf9d4600743d3cd808449b987917d0ef0073a75368220d03b40d3c895064622ceed91a293d051d8f64b1481c7f807ae86546413b8621d513b81a5d61e146e7fa9d092343e2f07fa2bde0f46411d8c93214d68ae369804245557fd97bc7b2f26d4d84104fa21b7f0422992bdf7f7dbba614852a786e8b6be1ac6f1cdf8c5c3c743d970c5df708805c83964202d59aa0cf314188043fb9d0f553f989af6b6ba64588e69517bb3a5aad39ddcfa04a54e4c5b5cc26cdd506445fc5d57f3dd3907ba7eb6f37a02e393301a0d9c78615a691229ab5feaafa169c7f70155cb99ef54ee9ca5d394e51949017ae6c96cb577dd757f4cfc99ed5efbef74a7c093ec19ce11cd4e205352b7f3f16761e3e638179e13bc345c82e9704dffb8c4b0f6ff508cb55c1fe8050590bb680f4a4948b1b9d52443878728cfa7ac72d882d8928f42bfeeb3340e493a0e344904f691129c8474d82155bfbb971ac3b61533333ac8a8b45d0c0b06516db0965a3d5dc78ca645fb161f23d8b8252c1faff6b34b20385d716dd951de061b2f2a55efb4b79895fde53a1dd5ed9f68564e47752ac13d6073cca08354c87ac4c5995eaa85236abac1c150007071afb497c75380c6fdca6d494cda0c0befc23888e60b374cf6f76a00e6ee23a17f597855f951c96d3948f3434e33c466d09b5e7c0ffb85ae5b6cecef06fe10b8bd8ceae162ba9b30e08735bf9f1ce0f6aa249beb6f386de3351e3ea89960dd3d685e67841341fd5d1355fe61413d6d2fa108177a745bac72489cd847e72f8b8c5e001f746cc476b99d449ee172a511d4db7ac38b237e56f462093af584e3ce8187136f71bd0a07a5568ec4596594cfb2628c46583a2e15b097773b59ccae78281c9dbd17c3a8061dfbcfade3f36c0c0de921e2eb5f5645c97b3d507db420015a1450ace1686c160a7d2c08219cb4a06ee68586bc09178e264ecb2575b82520e51265a2be18673677dc5cabf746f4d3c68072484ec49f18b33653b6e5b095f1e095fa91e6c8501a23cfbb62bad972df3cd94993e7ece000e998215cf4f5e079833111eb447dabedaa37618d0559841fc2477d75949b59ddc0d906ac9236cb68f740228d7a0abb164d6bbbfe2531dc4e839485c9715af711c5a9ff3248a8c79345d99ff9d0dd4a337c6b6adf6585a81797e60329194bd6f4540d8df77ab76b966f3549e799a3869e15a1ee883a45433f21c98cdf87bd301bd0d311bdb93b4818ae226449d24fea9558757f04075f28843e5888185ef5733b03284f24dde971b5753b7b83e5e35ca8defbc64f5642f9f32019cf33f8ecc554221e7309d43c755d9d7d55a94ed9d84eca5ebea3869e7ccc43e47d0d461a014fbd57d65da961cca14fa3e77e4ce8bf53a9d943e8e405b033f6d6dda230e930ffaa008922a0b25eb8b3d27fbb28009b5e37ce3fed312d4b40722b94f759b7a84040edafe9da54409a941793f373c44d84f6a22d05f9507b49355f20c248324ae2b43c7301a54779a470f8f23ae0106f1125de36fbab43716150b4a6b2f8c073703110063bcf725d1fa888dcdc61c9cc78aafc4756bce707a52373fb6a9f94938ade922a88ce1128096f4c7a59995785c37cec5d45cf88e91fd9dbc069bc5bfa287efe24a3e0eacd4a77c67f63e8598a7c6ba29fe20b7ae51d2b8cab066a77143e16a0f0a84f502888a6915973ed718cf3b63d44874c27a1d9bb05853a007ea0d70e0f4d72139b86056eb3c563eca89956f11b7e4182bbae1d41802e59c9aa9a917f355a8d8937efa1049ce30da14196afaa687f2cf3918dca26c5ba849cab782524b845e539efcd5260280f1a47f1f6ba5e2d54a7abf2a554bfcad70a8bfa0b126c9c35fd8db689ab81c78b2205a4e55c0d8bc4e1860c6962ca3661cf27a583a4dd8efbf9f17d1df0fc5753bb417c4e421a1128871675b84fd3f4768f8b4682e5f5e2c242f1f421a4b85287daf1afe3c74e48452b6ae28f5e64d355b07f4dc546a9e393ee91686d3bb2ce241461a5969e9c6262fcf58737ca7b0d3cf0747d281cab47cbab4a55eda1aab0647e68ac6362f2fe540cb2e3df51933beebacd6dc249f920ef5630dd3ae7e86917b51a4c25ff58ed6a944f791a14941f071295f8fdea6dd88c74d485b1360dec9e8d5314908b0f3b3ead05673351b3013d0cda0b4348b39623796ed2123e05aa4fa596e91513244d9c95a2e48e5ca7d02981a0efd6207e5d571661069f0b2f048029fd11fc4164df3bfbe41d64281fb2cfe9c6824041368c378e825f6a72fffaca5404be038daced3bdd6728296b1712ebc9fbac9b961bcf0f965751826ca191c66582b07bbfca80875e08e72cfa6fac9a89ae5faf4a43ec13c6bfd1cbd7636ad85690c4f62396a7ff12497d74271e7e9218c94346f884bc1ccfd5f7666b8454b4a86a3c78ee415b5b320e27ed53b227d307573b880dd89d594346ccd497d86486c0838c409b122ea407ccc9e410126f8e15a05fb8698853725e318a980dd3335c00998e33010e29cbbb5e74421c6b10500d54c88491d8c3f61415b92282deef4faaf5dbf8b05f68e88e2a5b51b0041713163954853a345690638353a03e3875328c6d5c96df4ca930adfbc3c417bb85bedd4ff61ed6e3f5dc191a3d0f10c596b58b93b1361525034d4a4c76061c5cc036826cb63678da86d26dd6413439defcb22696fa28a5a9ff08e14c129f3e5190ef7c6f393c9fa8333e0de6acd419675e4ba5999f4ef62aa90f787102eb5213911e4cbf703f8ef0f7722eda33a8e139d80874561d863b6ece6597eb2d96559b48404f9f4b711ef6b942bf43005cc2ed6b3746584dae8c4a4edb887b171e8cbf1c5f354a5ab0f4cbdf83ef7635ce6919929e255725c843b42f7628188d9448b099c113baac64868345e9b33774a574e0e1e69f9cc193c9a99d25ebb4f873c8ded19b6e02d553981b654caffc22aeb5a80265b14b53595f7191f0e57ff2de04eecf0921129cf5e0ec92a2fa06143aedc322ec2510f8de8b0bad1b2ea25306a7cc712c687d478a324d2dec1e354dd5feaa7ff8ccec592a161486c5f0b9a320f5c4c473b0750fff3282772f185e15b6ea80e86405d665a2864428a4e4079c45dd5024e97053c5c7b0f2a24a9d3b255a5f24bed2c252aa52df37d3d4deeb3a608a464281897ba85e7a8f0679e67c8d392403822087d88e4768ce8ec19c003443cff99502e9af85d3eba40fae4bd20129d064bf3628b4c1a02bcc6da80fb7c76b913bef9f7dc7ab993035a8e123651408d2e75a9daa81b5827006ea42dc9f97f8516d74c7d6b8912bd203c47859b8910f4dee6b03342c68b335968469e1ffe6f9a137d9c25a957e38713bff212f47bd9be3243723e43ef1b35345ed61a28e2e3fe21d184615cd277d62c8e0e8ddddca79ccc4f88efdd61f840e5cfdf90f78cb90ad774d83ef2a1d2090e75d5bbd5c6e9d702f06be7bdf080e9ff5a834344b2aeb5f9e0ce1b35f2c99e4d783c4ae5a1ba73bffbbad56cd5fb56b9b9b3baa32279636220b90ce4e4a55485bf80ef68a9b73df200a5bf478a0a0c85cd5b1ba911561ce840b255e37d2e41beb2fb7732c1ea9e1bcf12fb0ecd26ae250d3ce162069db8feefd0daa64ff6fceedca30f21e8a7d21a94d59a4f5342a67c7146439f910ba3bf84ac2505c977033a74a1b211f2d5d538e44fbf10a177bd2ea001e5163d5d4d4b2dba6a9658454d0d814f4f2bcfe5caed7959e5ed337ffaa7233ec358096cb8773660e00d355a555afbed2d041f2c1567454b79e0712b93ad2626fa30d0ce0c412b1ef6fdd080a03c8ab321f1692821c869dda546b482bcc290d75511bc34d03c96508d4f30ba6bbab776825f9bd6783a89991c8c3cb5414a5bae878c9e295002a1ddc8f6ddf7e7068461c61a0546f4bf8eb9527d1b39636a0c776767934a5ae01fd3cc32e488ac131b00a5070064367bca12baabb03286bcbd130d8527c83221bc1c331259bf009e7ec8534531276cb3e1b23f2237f9aec667a883ef2abe6870b25168a4a2c64adb5c2d6e9bb62bc412a918fdd693c8ffa9be9dab135649b1203a38b5de6c80e64f39ca397b841363f5aef1bdd0906bf7e98f4d193cd9c6a14949187984172dcdd6a51cb3a91449c7e7c27c159669f904af99154689b6b84f941aff71869760e5e35dc3b60edf3f47ebf849f054c4ddba2b0e2bf61e12f0f13b1c0f7b2738a5b94e1d0c5831392086da268082af7a1d17d3692a1c2f0255925cdcc26c90b2413ff8ae97d754df014832e5b07fed608c9daf17faa12cfb6c75fe60e49be4feb5433081980db14cb854edaa59176f4de61bd1b16eba0c1514993ed43e03254cc52c31580710c4066dc906c077189ea0587e6b10233784a4b03410a7a72b8919b549a52dc5c0b7178f4e96c7058fe2d35ed1958253e3958d426ed595a06866c9f9065481e3ebcb8b784233103c3d7ae32e4352374d28f013b7bf33d1142e1c8e34cf354c9ca6d952d1a70b36b55de1c5314c92ea960889fd23049007aa3b7e00b9ce8beffdb7a815c7776ab0f81d18e129d8cbea61616fc384a8734e1168913efc87a0de722292fe176cc0f24a39e983d9f0db0395dd70a90805fe17a3ee8d24ef994996d86570965fa8a351ccb4c20ce80b3b547c7a5230395309fe195679af1e2790c05721fd233318c71b8da61bca408b91008ee4f7214d2ac1cf795ddb720403b3f04a683130ca263aa12a5fa3df00cf97ad0e34fb3d9f779332484eece5cbf4ae8cd594e7957e54768de3880d3f73643c9b291739833e4ada75c7b1d625422187b906b2e6d4844fa8375ecc78a27dca857c346377d8f5634a3898ff9d1d0d07e3289e81a16747211b7d651d2392442ef0d6ce556e41f8d8d854a4b59923f5210f7c597af02457a9a0c34f23d187d33314a5ab33e43a0ca9e42ee710a242d1b5c705b659f2fe2480ee59381e57d9527ec9e042e3484ea655fa8bc7ca14de877d2c7616f22916af64de0097ca5c05dda6a93b2b02a646f772fb7902c498455c203d415d39da20e280a300bfc02141d15fceaf2ea16903e481cafd3995f207ccb78798244cd188cf0530fcfc1e5968079fd6281fb1ca86bce77f1495bdcb0cc782dba2b4b8a32b2e67cb797430a74ae60884956657a0e3d295c9588e5e4fd9f509c20b744b12674e961e31d705398bb4708d79a96336c442370cc70f277d88fae6bc15ad67ae568a36b7c8bff7f27dfd00659a5d1d4daf75d03552845ad6e5e85887a7b9edbaa3c7131d0411ad4a58c73e71b524cc2f07f5ac2339f9265f734e38b620a6a5f11968e0d1c5fac82fef770fd3fb1f1f488f7ae8cb6e493b2c37974029626d7c715cf5ddf7ab10a555b9c8f08219f1b68ae11f5f7e8c3fd74053ded6783c7afbfff81d6896e00519fc06f9d211eda300d9738a06b4512da3f82f1137dd7d9bee2ea9723e60e2647dc310aca7d220631c682ca1328da32feaa38b7597749ae56c0f06948f805dfa2a30f52b9afcb238bb8cb37d8dacce6ec4a657df6889a39b0584de2228b07c5c17f5c1b2758d5c36efa42771c42a171447807421ed136924ce3a4cb2ab54765d943e2d16b415ef60f47415bb1ff646410bd7b2b0e391f1804020ae08a3e7a2606e03252bb0b7473ff5ecb1d1be0571a978b40189e82b517a1f8d61c2718a93529a967b1b88b5ce8bded619840b38bdc4d6a4defe075dc8e28f558b92a21e6b6236aa0e721738bd79f946d3af685719661453ebbd2beec83ecf857a08f93c657ee91fb9624c429f8cfa9636945157b33bfd61468e3bc69c70dad2b2f1aaa8d387accea8317611ddb29fe7803094b92e35d5e250a9caa354a9cce66dae75a4d98c508810185b81daaa575ec887cc243a6eabb18e62ecc20ffabdcd9d63b41e8e3661a5ab6c16694e5a3114552d5531a87e7708c4acc910cb164a15602b6512fbe9ba2bef6201f9b3c1e5e4c745ae95aa671e0d547447028fcc5c11cfe422059317d3284ff8b1edbbb07eeeb964d75e986eed025534d62161fda5e88431237347280a474f7bd7f5ce70234144f04dd588b297b63e0da4bff6687cff63ed8406d5c6a86af1bfa2442f2d6c5bef0028cc6ec5d1ad4be78eb81c67dc7e5b17e02c7ca90ed6da73ecbc64057d0ad8764622a195c99b6151627db93bf83e94e33621427797d7da464a7b8e60c51b3b1d61fcb0c977caf4b2d4f407bf7605161e6f7ce0729734332921b902c6ee7304bc42026c947a4061c6124e69ca0a57f654a82510547e43fafc34e8f8b98accf06d9a23a86b864fa05f58c262e3c862039497b1783c379d8f692ee7dc5c86c90d6233c59eba764b9b5673baaf2b4b28a68063ec24b42049221608eeaa5feaf2a383870d655c85cb44e1383b06cee7fda141d75e6b1e004d423d2695bd9f71a1573066904db4c83086244641f78316ee4fe679fb1f2c65fd51dd7ff8a460e05ae74dfa8335a245bf86e2a98b358232ab78aec2cd5540295c2e3e392230f13fe24e5ebe8de35b2b1f1fa7ffaace033c95a55d677d357085f1c663c752da7d8bc2cab5f123165f89c6f508b52c23304589da12ff0406b0555d4082490f3bc13bb7a2a75bb098d72d10903d181de20554a5c54c99425771cb4d4dd5b49863de87253a9f4a7924cc01191d4886d54e4f51d97d58ca5ae723de911f17eecf39ec47bb95b333e5c7dddb6b659fc39770be9f63afbbe8bf1614def22262379a7375e8ba05d1e93de99a30b9e557fceb70b38eac8f0d8ac208dbca39633dc763349a3a16ae23922b8d5c847d0a4fe35a79d57f7d24b1e0b5171bb7add85f0bc76929d14eca66a0bc69ce6421e7788731cee0ae5f6242698fd04a71c2eca692b3566fb5ad8d9316bbb591bd9ab6fa21548dc9244e41ef21a33fd2053a8219b422cc4445c9e227e3263d7efb4d2e2c00d3599a5b44e12714c1e1ce04377bf34f0fb38f3d6120132be2d2dba854717d0612e0ebc24a0ba0446d97c779fb0806d30b89e09e5267fc759763d89aac62490b78ff8d3545a24c5c88ffea0e2321a9d9d4dda1ea5af7458c2d64cf4a423ecb1a40c067eefdd05bdc7d37d4f4b51bf1b98778c301745c6f958d7a93c4de1d09021029a2a36b8856b2c26bd9e21e91e5fc3d33a98ae093be68180252d81632787239af4236424a9aa663b182f2045cf6d684348b774f49fbf6bafd091320d64f7c1ad78bd19c0efb2f1741af6df7f660be10c4a45455e5f0031de96acbca224fc446ab411e34a73c1e518a0d86ba895eb5cf5fd729baf2e36492f2ae4760e60b9cc3af4dfce4664b8d725429ce3fd9a3e8525e8d8650c1e6da30a8c78fda4facfce37b1cbcc61dfd45c8359799301859fa504f2e19118593c138c4975c159ed8773ca109790b41178a44b85f696a203696f2a855a498921d5c6334c29c03a4d852004182d0b9d5a02d8782d27c4afbf5da18f22921d620c72eda9989da36f6fd65c2c613e12fc684d717baca26e0f63fe2c0bbff2dbf9e76c4d297485c1921a44e7faef74df6c14f1337fb31f4b28f49f46f864c10169255690f7cc196b610046c5c95d7fba6ea7fa96407c79d9501b579cb2fed98c341a31ddc8c57b26f668a54d6373a88ff19f944557c9e2ebf24fb6658501266d773001f5a50da3c09ce860f81478941ddae9ab4eead12381408158e8dc6149715f604c88e78f2d0b16666677cdb461c49ebd0e3d64990d3ed0560e5512f909d0ed0dd4b2514326acc34ceeb8bad12e4ea8e7936e4215d68b9ca1bcc0e8cf0da53e909f8f39b0feace5d16d69d9763696c5ccf10dc2d94baac95a027cc46151dce383b4595a751dd454c05070b024dcfa99e0be25e82c20e60d0dfe27b8d7fb7a008423047d68fc9faede89aab5230113b20c7bdff6a394f93bc4283847d4d8b4e766d21a5d9d7666bf1a7dab46d6bcf360ea777b12e6aaf5d533663749a78bb99df954ae5a947065168f8bb7757e2ece3946f7f8611843263ff67e7547e336c62e849bad93b2f0b223753037e27736be5c53a90e228efe884a175259e5eb2334544cf1f2077d95b270965fc699b951754ecfc0aa5bc0763d7dae563ce61379cab4d8fbc533e1cfffd2f6d08e1942c349910691a48bb657f7edabc67008cee35d5444c7d1f3ec6de718d111ba207a79e7a78e14b4cf7d55ea2c6f085d29ff9d239f1a083ab9002bd78c6ffe43f90013df517e047eb301f5efc9bea8d9a7feebb09e74de209bcca7902b6cd7b18b8eccbdfb2b700cc542aac7dd420f86f47fb1d921e2c5bc6d1fa8c5959976739a64b022169354ff4f307e6137284a8009fb57c8963ecd5a8ffab28019b71b8c2244de8e99698e2be3177fc102274adb08ba54053ee0edaffdba5a828721f284ff8c1a0c0dee822aae25058580f1e85ca9d8a81ba4db786c5cf95306b208659d178f24104e842277576d63623034285e24de260bb71011faf36dfac7a4f61640652e2029951ee7493a5649be6361ee949b08ee4380204335d552d1ec905ded36a5165b8239c83d1274bde315e89a3d9f134d3f34e11dd26547f56b5916540a78c23e4321b4273c327cfb9d2c88313453a90882929e8b6dd1c23b307546f01742cfe834e98e6d930766b64309bdf2039adbeb3331604d6738135c980bfbc25a35709c190df1f9f82ff381d5cf14f6732902bfac58534c6a0e244bc4e05cf555270a863ccc1a3dcc874be1e48e7e5a88116e69edf13a3283914bbc6683afb0926aedac64a691a9c4eae259ddc4eec7f683470f3a15c70d688dacdd6ecd5fed1fda168017d6c096c28b9c5f5eaa0540513d9aefef06a229619385dbb5394d9f2db5deedd9a769f12de9ad00449f7bddc35cad516765d71053f145b0e1bbe949b832e5fee55f02cb80a2724adeb75c102c944c454bcd2933fff049a0fd15f012b9a7fd2948e77e8bf391534cbbf8abc0edabbfd5d7715392761580857abd8daeb2758863abddc00125ad877221105b82fd19232dd51e5792dcc538d453306430f6b6cb1bdde4d28afc6f63484bfaf36b55ef4acef761aaeeea8288b7ef1a6e77cffbddc8e0a6637de6f215e04e555a6dcd61d0b8123c085e0deadd7e0dd759b4278d23c86aa52aab654e4243069de3f443b466e156b0502365c7b43f6998b7c55da3c9a866f774a639a537c84d1f9f09f110f552e3afd4c589507e75d1b175edcd6566b9e9639b036c68117569ea381b4a7902c09812c237e77bfe66d8912210544a559de239dc0de588def6ba722e04d30c251daea83891347c42b215f83ee71bba2ae68eb401554b1f0fc5ea42b5b78d3ddb98e106a35774605bb24ac2dd113693ada8d0ea7050ebcdff9fe923214e866125dd507706b251603470375eb51dc5bda0bbdacdae58d5420129de89c7be4126d93ca4e2986a44913b4864e7022413fd506d7610c74ac62640a6a75d2bfdce8561ae9241bf3221a6be7cb086163ad45f695c9ddac1a3b6ccf0fcb643a8a2e0849fbddbca94b68567c6e8035b536bb15dae30bd0c4056b01958d1f336ff19a4ee0f4545891c19384527390734c8074761225a565143329778036da9a1c1e19976c49fd4242ce0185c3ec2c527de65dfdb3ca15ee4b1df9043fadb3eedbaa2b14f28a372adb77fcbe9d887b7be499b142d412410a4cd1b99dccf748f39ec87147d60007af72fb06229a5e6d8b5cae9cf2b788b924bffe7ff43056c128ae0eb87d237845eadd28d8650050ee7ca54b91a2e1e9147a8f91ac3e9d792bc5e57137e159a2522cd8e3ba61a6b25c5e233717b2498f894e7ac7422f33ff68a61e3520a4e85711037ff9d65911998739fecf57112abc43b60b733832e06f6d3945a8b74320c8ea3ce015073b904bb064d8557448e2e258e1fee3795f54bfcce7a208c21dd40b64da1d9f16c2761ad0bd0b62a4287b0e5b947665ed760a3404a3f9159a0e252f7cf442516dee202a8b0d29bed5e713e8f2dc1ee3dd6929306758f1ecdb1d590ae876a4e26b57b8423266a1175ecd7c87254b700a82fbee1e9cdb072397b9ed4275da6b4c60cebe275fd94f02f29f5049a82fff7039c091316b82137acec48242161704c990561b4330db43c86d34c0863164803c59c3e95b41fe96a32714b6af51929971bbf46cd38a8ce4ee1590c5448b8ebed6e8a8523e7b47a751b7e1da5ba084c2d41bdefdf1d19fd9c71e67094f939de3bf511157114b349e5548ed4c73a8d0ac820c3e64683749b6b66dd38c756142e8be86a8e2aff9586d906f2eee90c96f086b1f137662424718e2edec1b67b5a88e1ec073f8595078ac3afb27e75e6b1f1a0e36ba4c95df1fcb9d619729f2eedf35cd4f21f2fb415adc344e105c2782d7a809eac60248dba01fe7679a822ad31ccf1c18a38bec498281899926d097788891563a663016741d024547bdb72211eb02fcdb5abcfddd95f9af792ee45ad67f38f8e0e70450c5fa16541134b1a1cd3aa752cfe8658244bbf4f2c6356649f36c54c560c58dd1cfa9a92feb09a66f5cc9a656d659174f85447c3b970e23c189f168f790fa202962542e225a9e79364c8d866a44866a42a229923e02fc03167975ea23060c3caa2edf292959fab2d6ba5c67e924d0d82fd7a8d8e17f60285a67df07bab8aa8f7fe58d1c5dcecdd500ad3898b73190cd8b68c0f4cdf1f7d9d864dc47da0c78ead39839faa56ffdad53cb0552961ae4988e145c479710d7a3faeeaa0e00f9ea84fcdf9ee0a43f25510d8e7e47e14906c0cab7e32aadb5cfc07d69b7bfd35f64969a746d025b36419f3af84aae97db87f7ef3633632a41adff5327bfe850e8a680b0d0439d8285ccca959000ef8a1fd46e204cad96f5f28964b122ea108c439e372adc004e3be69d03753b79ce4bbc47d44f6d500d3b24bbee7818d2adaf05069d7a390a49a7c55476357e5370564beb88653bbd525e9cd72788ad6aea3f1fe257979b70eda39831344062582b74318b5ba3ba75f61eef22a031a3b5413f877534f17f17085d7ffbce563c80f5c375e6c86391c80afc5b8800aebccfe8388e90a9f75ce53db6ae06956221a4b8364cb87bacac9747c6ae33a362bef537c31251bfb65c839f78185456e2298e406ce0d07f2ba60b6dfa6b3e6b1d2f3df1fa61419157739b639b9a19021862f35f","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
