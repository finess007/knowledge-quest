<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"64494a776d9e79972d66559ba0a39728b66386a5463893d3502f950ece707647231f4256666964f644d5877372e44478e844625ab592be2d8828c00b75ffe62390d1e8eb25d16451ddf5151d18abf142d8162995e971f38965687f50962f93bdcc22ec57d493c0eb19643a2c1911f6367256446984d13b86b899d12e216b7b7361961bbfea0cf444a3a330e1bfe5b9323e2503d25818c0f34bad85ef706c9cf885d2fc1b948435f06ebd0675db3d2b197df42b0e14178659d0ce462067765aa6a5c6e2e3d1f0f22b2ac677fd8b0dfc6dbdee96da03946672541686147e326ef9aa6980f049ae72f5340480a6418af598a8e01337420ab308b39fbd9052533399486afc44dec19c1339073b7356b958844ee2e2a436a34dafca98c62d74098e4fcd9e46909797c404a8987a192ebbfaa086cc878dc3a202821180afa1bbb034c31376a59cbdd17f45acbd0a711c6b708e4aa5d8dd6b90caa31eb321c5fdf546188045161cc2e8a2a495a69e9586fec221402297e61ebc121cc7f7959211f691949a0181455cc47dac0c1b50db6b40783351f39b6a17e713afb3cfcc5fdb8a2698c293a1e73a2e2312f61da43455572a75e67c44eff38aa26385649ee549892a4af586008f8d6ed420b005cfd8b6dff1f96052431cb70979301df86dd80d5e1257228314996a32d8175e03414dd6cfdff135c49f90b49a3c1a4438950b73adaa06baf76ee2c4d6680eabdfd28c5cb121d549346231c5a150d51888690df50258105dc5d721c8c0745ae2e7c7c644d9374f41d5b980a430491214279548bda2faa4c19dd5a2c6f526953fc70ca4829e490a3562dbb9ebb568e328052edf5d8c235ba18dab2bcba66db2ab7d4491beb7faedc516854739d6854673d2c2bfd8a1549f6cff64e763e13a30ad627c0630aeb9bb138468be3216fc297d287d920bca173a681ae9c8d945073e993efc675aed436726561fe6f924434823e51e307bc7717d1c91585ad44c450fdf9d4cdef1b78272e8e6cf0b97b3abc22484ef6e1073b0ae95f07e182f2052effc6f59854fe2e5350a1f3b65a134bd04c3a6bc31c9d9b3133bf8424654e0f2fd0e0c1ac5cd35a856996cb0e10588c9dcde661b72a8f0dd5967e64dc3fbc0814a7176142b2f8521a9a98781b3ae60d13a0e8f2107355a304a7afb439fa86a8ba08fc95f2ba23131ad6db083f9de7d7e5441b5487f7d5e1f24d8ef65b3721a14809b3794e51d4a1cf9f9db4456f7449daeb76759ef48eb116aa7db534cfbeec7adbd41477afc0008742d0e322a665d61fd09e2f951296550e2788f2a8d3fc9868809aa5d219fc280d275b1331d5593d5aa95947ce69d67ee7e1d3cfd94882c7dd828a0bb60e00b567deb02790e65f2daa8d94d49ded673fe0a9fdf07fda71276657a95e3493748c8e840315e5e15870920a6c721d8a36422caba686f3d0596966bf416d74c64ed9a2499e6603a7e658dadc5a8414170cd58876abc85a83ff4fd10efcee546bebef60a1c1b3aa52f2e17fd7ba15a237bd3d1ca0e4f06d1d5d0a77bf6766de11a2b4df1b63ff877428e99274b1e9723d7c158fd90e5830339cd3370cbe7c61a9c7bf8d40936197066b345977a3783ce24874acbcbf332018f654d5e53dd623586428552d6606f8e3d77fe855731dcaef52bb774a94fc7705a66b74b89b8d98598e1f12afaec749c1d1c6d0066e33945ded64595f79d775772a306cd104412c45eac393529300d704694e0031f887638aafcdea6273dfb5cae9a496e0cce22ba4fe90fd9704c8280827691c8ad11740ad4ab2bd6105dcf11ef10643fcd84b4eee55b4647e124f6afef919d7fbc19b32f267daebf04d34788e2e9a30dbe24e4667e4501e265f8b5089592aa3e9f10b554e24912edb6b84d29dd8a723195fbace928941a66a1c6e81fa0e0a01ac596dfebf8ff55f11454eb63910f1f9cb9ed9183290d39ce568bffb781bf44b4680e7f186be2992bf09f6fdaefce30b53c7f670eb9d50e875d93caeacb942a8e73888f2ab3b6878998079f45d5a9ab9e7d844f6338dc1e1204e41c38a6a97ec6b651febfd10b44002d7a156b8560f838489e1222d4249f787d884d90b5fb6f3a5b7b52e2a84af54aeaa3d26f195b1ae9a99e1c7a672d9a1125c4fff4ed7ea82ab2ee86280e33f204d92904b7846d21ab7000897dd3fe2de81315aa731aa2aa97f8389914166ece95429a83c6ab26dece714aae029b2173835c7995307d171787b550091b10be95971c231169188a63985210db1e6a01aa5083839e3bc1f1ca077080155fa725dbe9abd5e7db03e3e81cdf242428ecf7a48f79d68c7e4ccb0ab8917586590e06dd2ca9a28b964b53b12d49be585ccb359c9984379b8b46d4d7db634237d270c8db50b7d9efe069313613f88318cf81c7c1c61be4b97b16e3a8a2450e16ca85ddd8c2ea2e6eb521ba7a69c237adeebea9065f149b6713d2eaa464a790f98d688dd1e0ae722dc7ecb80b1db31c2ce070bb12e3384b6ff300227eae12753847cafd5305b2881bae95f329ae2b5a6b1935cf7cb346246a9a96cad31fd3b7768fdad03b5201033573abbd0bf3fdca68083e97e35eef49d8c9dbd378be5b10d7c6bb5be48fad3d55e9c3196235f579ab3220f7373a43930c8972142e5670f70d51daf826c7a35dfe56c3ae78db849a429ed12f0b664a28ef76a2179ee8efbed4cab80a4120f0c4fe3cf718ee973aea8fc8defc614add5d0db8e21e8c66c6928a392c5dce71bc0ed0961155b490e78fcad65c33b9a6e14d733b402c4d0238ceaa612e79dd905d76e73c68ee431650efbacbffc0c5efb059cb17cddabb0e9526300e3028d328d079d2c44bc06a3bf8dcc63ab87bba4a5b7beafb5e0dc5e8cee094fb6541b2569cee6aac2b5e9ed8ceaa479ca7e8362dae8557efdd1bc41f02da2be1979e162ff9f69d9560949d7286accbb3df049950f65a623c9fba78a92f573bc08437db9aec16ccce70dfeb261737cf2453331e1c41dfe20be17102f87c2f2541c34ef075887f1598402e88086a6b8ed7b8e1c60c7553e636b76ce8f19946c18cc6ade8796ac2d4b9178e127ee216afb30370ecc66ccd895babd3ee1ac48366b1ebe47fbfd6042ce6e22787028f0bd9c6fd69baed07018c03fff44547bd2fcca7f72000b66dd3f47b0108b307825fe97676fb226d797a9d4fa2d163de280d6f9bcff1e62851bf718fe9c189886f36eab81d344ff30bac665baf9ca1c9f0f8e0eb24fb5a5c00210957a3ebf5a38d6551bf65429ca68fa48b87423add8cda71465b24666dd71347e307164af408b4ccdeea33cd0b172cee9f4bc632d4d13f3c67b96a5bf34ad255766e974acac8c94c6b1382523ac8dd6dac78cabfcbe391e6833bc24785e1119b150b7eb1b1b47b6eaf7bddb87db4c0de4ebe79ce8cd81f2a61487f4edcb7a5a7c4000693d830a0060c2e466c6e8385dfe27d2d92ea4cdea4f1e3bae4b8a935c676c38eb6819f539d9ad2a61e058a97dca68ff97182dc45bb1682d8434b7fbe1ef6e15c6934198523d9b14a4c7d231654f1d777253b9f5c99e6116c2bb58d23bf9fe4e5cedb298a17788ea933546ffd1e86d007ee9a2436cb579c7e37c346997653ae0504aad80edb1a8e11c36ce0ed0016b3cc9338ed5f6eef8375778e5c34a148b9c46422c80a2d3ca51a18620f06189b5086bee52bf7a6047fa968c37f3b612ae4b304604598e2ac295af95909f1932bc7e7367457f5bbda22d144abeb1733561408c34cc9341e7d2d210a3b8145528176586383de777ba6c65ae9da691f13809ec0ea68a52936cbca7c58f9afebb6ab171e936c5e8ebf6fe7ffba83dbfce6f4b13c656c936e635298e0a6f0c25a61cb8cba8416777faf0211fafe2493859fea2034a93fc720e6ef17c2e909fcf460ff667751ef26af6c8171ea76eaa23e172335237d8d869131e683f9f08a6561d4b3df64b16282d630ef2404a24e1f26701fb690b02abd0b6fb4e18b7dc3ab7e31609fd36d83fc679cff293be698e1b241dcdc32107bdc47f7165c71507a065b1a4c8a9ccd1a7c794a8835a6c054593c9a01bd32029790642e4d55791956612e51367cc999378835236b3447107edda9488f5f5a2b0bc8d0749095f471d3653ca3233c1f4fdf8aeda44a397bc96f51491465b75f747fe2837ed16d5b240e8ba5ea26766deb1dea7ccc75832714db5a3aae4f88140219127e94884b728a027c122dd8bd67fe7fe53af9127ee7bd76565c939f239ecc7d3bb119b7a82bf6daee771675445853cacd173a159c23006edeb3b46acf1c7f7eb880ba24e8c725895972582d877b8b86742db88f2f8c1d253be2c47979376e9d4fb9d9e8e25fb56bade9554dba3e32abcdbf5bada50c419c72230357f4db40c95c8af6389f19c204617c408e20c794ca81947e1c4d11264395e9ac99e73e09e0eec0d655aa66b8d45bec11754d46c03f26b2fdf0fb2a585fb5afe3447377bd42d47a79f4e209bed1301cf3d98b371aa453636be5dc085d0fafe0453de7827165814dbd010d7ae84a53efddf6f862c7d2d2fab464bd76019d574616d709a8c7c6d0cc6227837c5cae0ca783a2c53c5812b45d30404685afcd12eec8bbca549a99ce52ec1a99d7949d9d84568da8503ad4ad5af040f725a46a2b340e987a59a2afc466d87932c3e598cfd231cd3208051d5885646d5406267499309c51564f740b90257be546ec7c897a315b5e79edb5f8e642547678f408cb1710b8ade9280a47a83ffc15683ae7a749a6597c5dd79e1be2f4fb70d1cefd771a3764e76ebe34e4c7cb1aa4ce12b2ab4810c4ebdfbf8b644a5c80dc91bffc720562d508ca4774284eabdcd6c2aced300460035187db5f4f9ef5cf89e42bc461e781040cd5fbed8c0e8a8e1e1e5d8387d38f3b6627d4cd9cdefe5479c4da15160126812fd2c0b7b43cecf10ba9205a8c6db9c230e20077ebdc52d322049e66d5630807edbe868e64c253336dd68079871cae21b5f2e234c7b05b76bc32a9a1b7f46f967f233c8a99a9e7ad53626939bb801c4aad3314e54d3cdd99b4a0c223fef16a0729d9f226a79ae2748808afb965ec68e65e6938bb3ec6d3d5453ab29299300bd945e1d6d3d46c4ae72ef3641cf273d2cd0503c0c83df5fbb993ba51c2a7da4b3c67a572de9acc1b37d43e3b31c9b560a21b472634b401df3d98a8a5f95bafbe56311da57fb2a548fb6ade2c369d1d3947ac2bad62535aaaaaee60e49f265a224ec8d2a393f4f1dd298d1e158a405102a454978adac94ec9633ed5fc3388c215f555d474718953c0c80d673d9e13f96f3af4c5753ad65a8f80f605e4d5c03e4c25cba47def27baa33c213bac0cb2aa1ac25e5fd21b61117dfed9030bfa3ffd78f83fdbf777bc071cf6e228346a8ef67f7b032c705a3f60eb114aef217bf2b2b4cac148f7cb4b405555aeee8817be9e0d1788db7b7d704bad75dcfe80a2b0af8505934212138688c66d1f68bde597fbc5e8a9a795dd555d88e13d301f9e08bb8612abac26a572a27dfc66f21db1985b0007edd46c26e7c2028d14af3f7803d897e9c4de2ab91f8c46b777db58c5e0f43ca1e90c7ee487b7893dbaa36f7360f29e89a77cef05eb2da4c2fe0b8853813fe5d837965c3991f96952abd8956ba1d902909833ee304acc68f408467deafb98b90a32d00bca4b27c9c6a5864d5a42bfe2eecb5c05df99971857ee19c8de1d17a17d5b21b0b45c8fac82c9abbdeee4563389f1530581facfa0f5ce2f8ef9bc0aef786653560f129eebf2c8f98c93450a8a02a70da6e486d87add7a88a3c0b8b47ed94dcf13a474355fa247d44deb86736f12da785b75b8edf4000915b5877d2d68f0602085b6eba96ac78b81bc5459a13e2932535c8c6d809a7cc1242da0e3fc2ddcce4c59e3d2f8df2952769c5ee20648e1df72593450b5182afece0ab55f607d13a331bbcb5a7eb4441e2bd9ebac107bf384ea92238e28decbf779407cdd028f04ea1d29c63f08f1bc091691fe68bad7c162d65dff97fa7581c797778e21f6ed8ed479b845151b1f03a204d31dbcc0b49303ae4d9f3b7efa56637d8293f22a405550e9cd85cb57a0a80a1597a218a05f63985cf68e68ad7b03a0b7b2163cbd95a8521894d5c8780e5e0864e7ce46cae7b76d4ca6005fb901712131ed21e9e42149667b613e6e02109c07e463888fef06bc5da91811e14681131642130a335838a6dfba72dc4e76f297aa7b30104334871b715e361c6f8789ad09102b93845c588891dafdf6580f4afce646ac4bb2e88e7398710f9eda52e4727a65b3a4023d259a8852ae4c12760104e4652521d562be10dc591f2915954d80a299046ad22b467d9da175b378a88ecdf8c983234b01c71041afe8e0abac0f5835ac4adfe8b2e4e517214de9f0f6a6b27ee7ec1f0ef904b82604131125286da628d1904cc7a79d23ff8d75e6ae5058e4ef5ef1b73aa46f05fb2442674d7bc793efa3d3fc1d1641d4c716d960574b94f95ffaf563ae7bdced8fc6b2c77f4173c51b73a551d4ad2665420880ba84010b180aa5fd6f8d23477e81a49b2b56f4875eea6e0638f04fe607007a8ffe8153d1f62bf9526ca3aa765a4a8ea2444a7312be90dbefa26df42509ecd0ae33f79e38c64cfed1af4b83057d4fd0ec99a00bfb2b7a8d014d2c503a110561c429263a9dc91215bdae4b5cb5a59e227b67e7103ee1fb975f2eed935da1b51e83616f0e140c819f13f56707602537a724bd8c76c7436b0ce16654bbc7e9c874e7f6e426227f52e561253156c8e91b6e00dd1f20e3afb31ff0018b81075165a831013c72bed94a41e7001051f58b29056133d404185ad8fd44c6691c16140e5c915f490d6cceb75bfddf213a3f51e1f1be3af98d5aec6a5f17261c9bfd2808ad238d200de2a180151fe56631f9fe993f03986146055fabee18fc4eaec26145f0cc42f86e347e2d20e6f3e509dc9ca1e3972cdcc71bd633caf00d8fb5d4a872858483898b565937c5db4fe4ae6242c248ed1c7ccb163be2538a231d7508b74d1e52e232c04bd43445b5785e858a3bfb783277daed5c5108c741f35cca3db2d2bf308f95e48303906aac485372bb2e80203716765753f5cc9a39cdae3ae15c57fd283a96fa7585080aa701298d78d1b9f8173d7584b35cc2ae9d2242fbdc13edfd4c52fce1c92a88a8f025dbfb269f79bbfc6c84efbd0b9502d0ee3a608c0120858e7aa60a7f72b2f0a9f56db7cfe5360ea1931f5f39763962b80d9bc362eb615a5eaefb9f0cb35b2f9c1d02c8fafa126c890c87ea537e5576101eb1ee12717b71c072237d63fcfed2199783861096a579ce9616d385a437e119a34f53046cf8ec0e4f4900f90deca9fa5eafae761ea397480d57049f3fa8a9a13e7e3f96b0741de4060e323a92e7cafc956237dddb0bc8f2cda68c6d99b4db3adfb10b10416204de52d49b91ff19c24ae1c9dc5b306633d991d55987868fe363919c9db06de6ac33d8d187710cce3311a117b5610d984f1130527eb04e26b8be0eb5e40a04d3731afcfc44f6ddc69a8fe263db195477add1e5298f43fc9a81dc387c52baa739ccb166bcf06e84a42160423653e643170626d5d41e3d3dee5c6092bd7e357acdfd1ef375fccc3aba6dc6f79041005c3602863f88ba2dcf61bc022637921c9f45d28fb1f5fe0f5245b22f0d580fa0ee616fcd4f8c230130ae91835cc9e1480a69b9a3b0f814065ea79cf068639f277f1ed5215e7e555e60d9b1a68f6744158e57920bd64654f57173f52efbf92da89f29c7fde771deeed3664a98451fb442b1ac67630bc0fa38020046d565af52ea1b117598101387fc8d3cd77c861f701ad01a38a8c50e1764fe8b206c464416e8415248bbe0ae01d24e35c6a38b44daddc2b66ad9faae14cc866df192936bd2796d939a1f3ac49282d6d07fe977005d8c6fa5e141d3acc66114c2015682e83fed9b9d19ece72a661140265dda4f7fe6d526c1ffa3ed5b6e9bbfec31946f1c83eaa9be772a49e412420286b0e7c0e8b8ad06eee03d63fe30184b762ed0e4236442d7eae06021e9fc0d7e39bacde155139b973533bdc29f930646d4df69150445787ce3e44d5c92105019fc94987eb79a0b2073fb2226a66d76364e265e0202a6d4e6b62b66a4f9f0fc89dec7c8a5aa4cf403acc14717b5b949e8f44f6b973901a87cdf54cea44b4dd4562227217f9f2ccd97fa0db6db75d8bf18a4202bb040ed0cf71d8bd0ce6998a3ab240e675b5edfebe9017fc25ef1190bd920b05dffad03fe08f2fdb6abb0826d7ed841e491c135fc99d3104fcf89689fd88df3a71e1816f775520fe53d3191763fa6b2a0a6e799753b6dc03167e9bac31b17391b6cc9fe082ef17ba6bda2ec00506b6014f7c8c0acf49f8ba25e7b5eac5f55e83972c6f69fa696e54f661f9f6deea05cee1bd341b3b63d753928c631d819456f2a3fa970051b2441e30a06c2b5f211112f97c5af3a043dd3af400bfb18c14f65241dd26767a15659dbd88b4248b4c973a8b2c8f8b41e4093945360cf9995a6fcfafe78bdbc55bb24b1bc991d854183291cf087e1855a2bda2eac9a9efaaf5cae5c655a74e680e181241820f69f6f27cb50a93699eafe165e40955b819f6bc62f2451af552aa281c96f161909e5589562b5874a124ee8a4fb077786fdce0792a508bdbe9065730f6d6c346c9e56a11f55a9568f5ea3fc2bcea5523e3b7a504c9f0b7f182ea0dc8c6f7ef56751d52574acca59eba9ee99eacb3f6b5b11d77f5f435dda0e5457c17268fcbfd1c5b0193d991d4c738f0c3bd1cdd682a5fc38f10d062ccecbe5242733dca48eca7a763f9c815a7834e5730f9425d04e45f3a40c7920fbdfc4555418404420f4a185e611e6c58f7326fe587f558c137c6c87a9a1b9d9188f2582f13ba51e463a4a10925f2601e3afa637874dd5e83ba6b10ebd8e1621b9a04c84cbf62e307dcd6e67d43dfa7b946ade04460e66e8704ece8e2516d747f14afe43c6e86e2089aba308b194a3ad2ac0bd65b4dda82b92ad522dca649aa1ceabb67479610d9abc17279255e576beb20b4b081d3d3fbf30bcfbc764d9f48d8d1825f54bd792e780bb8e4a9e4391d468d57fe9006129d86888dcdd262a0707cf1faa503f0aad5b4e95dc061bc2f33a2c5676ed3a09a6916e371f1b21914fa66d58f72988a898a54b3e3bee600539a3d4c07b9526d7903d50806b8ff842d5bd9cbb74bed2c17ca240b4e6b787d9291c3d03ef3d9277db263970694426f0176670a6b58f3f67ae0d1264d9fbadf8c1755772a8d1b3d4ef7c5cc8960143ccfda1cd52e3dbc3838785416b29dd54b0a7c1c3bfa99e256bc7f1f806e38e51ffcfbd5e90080c450b129c2897f10f17a32e3e9e115efd99befb502be9f06adf3da0bb79af118e1ee19c676e6a0251a52d12aed20e23a45c42d998288d2f8900cde54db6bb07daab964ef1bd3b241de2edd5a977e02433a0c68622fde4cac106a77f8d0ecf1cb02192cc50ff3fa7561891f905d3a21bfaab63621b8a8cb9138f0bd863688022eb3a0604a33d9f9c5e12db736e34b11ac8320130e5055759a5f08639c9a89d6011c0106aaee8c3b67942a2f9df35aba0286425ee7606cd5d4ae91727b49fda962cf6c5fa6824e0aa77204087a0a78ee153bf7793a2f1e469a45a576f3e246db369c2d46891e9b4b32687bd104dee1697fe0add41bd485d603938bbe4eb9d8661c7d9356e02bd6ec3f09d72220e5710e753ca54a72d0f6197bb3a4ce8c6d223d5fd78cabd8b766485acbdde7057f868defeb74072dd96a53774d5bd5a427a51c33d88d0dbcb19f505b7d7580d12f1d36c75def8a1b38154e1de98845953269575433e635b40cdae9f2b421f70ba1d72c64b4abb9450e7ae50ffa90040be41d8b3fcb70e5c0cb813c93f995e0db62cd351685e9d384f738981a71d95f5cec28c4174c4e49ed738d60505442f22b5b8cb8820f2a434c2340e0dc66f38b0ccd2b8419ce071264d6594ff6d23787c9d329fdc0094fd57b7a9d23e2ac31e2d4742e9f977c9a1969ccae4f9cb35ab941ef79789d4dd839ee3a49ac54d8d98cc4798d219aa4e2ea39c3eff1731c90e87717cf3ad82581afb3069db53ec2a2e009d23c3c54ff0d55431e3f0b1914facc922ed40aab9b64f05e23fce5491df751b9ae131f07d94130cfba3cbe010cbf072b970aa802fab5d4dfa9520ed3b1a81166e8ae5aaaf28553efa3c6e4ed991c5efcfefdc7749283e905632c785472017dde5a94f0687b6ce33bce6241e4906fb644ea2b32cabdcc8badcf7afd46f23b757527aaf3c3101a65d3a05895cc16d55abe953767a9bda23af4e994edbd52f5f0e0319ac0c85030fbbc8fb4319049a7d4e90802989d358a3f7c0797b73e6457c90eeec68b31ee3540a8b820fb4df0d7f65e6eba5342a8875f4505b572c02190ac719f1871170b424985e66e8fc02a20715ed243e6122fa09d2dc6591af91876ce72521dd90174ce56ec7f1abb784d39c0b78a1e3c4f5b302097e17ebc8ec70a77d4201f6be259c77c2286c1dfeae661977b47557381d150183eee6fd7b97da253388fc4afc3c7f1fcd221c7c7f0310433754f6e40b2b0abfee205efa47fa50e2ea84fb00f4b08bdd47fce0a742774385af44867e8844f56a61dc385faa8df21917213c3107725ce38bf6aa4f163ec5b44b0df8a66dfe73434f1197d797c52cfb7f395351844c3bfa3d98ee3505ba3fb9b3c4de4a4bdbed30c04bd921a03e1e16989941501426a60b23abeb699e2299bbd018347582785502088a45ca49ef28cd185c1b841096672fe18b3d35d86954c02981392bd690bc64884203e0a90c84fb0c162e7559f8fbc7805c500ca78994283239d5dcf9a4abee77dcbe8552ea854a27b917ad8790707a19db2c2cf383e3103110c45e00e8a9d36729810714384e44914a15fa908545887a283464950be437b00645e67a2671445b5a073ed2ae92506890bdaa4434d5b043c2e639c062892935b99ce3c15660497edb008fa55db295c375a2657f063c474f90a6190cc7ed926ffa9685595db0c3e5f69d2f648e01a674703b891699bb6a17069a4552484ea1d9c296ec3b6bfa2fff7e9883d7aa1e9c047a18fb84a5c9bb5d2986b5cd78a366502c6ec94f7ba3980441ba53eea8a2e96f70dce1b8d85424a8a5b5da5f5d4e255e547952fd818fe4aabce55662c0842da624253311ae5dd3a3cb26407b3d77f88f253b7909c1af5d0258b7fc59a98bd3903a38dc3ade4d7314db9e0d677fb8e10748f0e793e58b7308a09fb839e896254dcc11246bedcece3946496db766555810b7f4ec6edf99c8464bd2194023ba5669ca3f7210f4c14e2e1228b6b27bf8e072c095dd74cef08f7795742d8c839fc0574443c00b2ee6fcf633d876c2d1785f7647e15b32dc04eb15695138d147ee735417ba004a3eea31754a667d45840696b91e2da8bafcf74031d81644fd15ac30e7ad6e95eb9e3a051b3ce0cc602128f27c0e763ee87405ae930495c68799626612474189864b102d3a3c1e84bb3d14c499826d9472591bbce4d32db00befaafd06c9a2c4b0522c5da1b20ae1c101280994415f79419f936c7ec0ea68a40f32ec5c8e1be9b28c8535674264f5652049eb2e8fa575630bd0dc496a9d5ec7a5583123b8e1a45c6d1b0c045914d0a57cfabcf2e18a2dc7fd86b6080d1b523d9e9217518056d62dc9a6ccf72e98865f1405a352f307c9b0dbb2df7ec106460ac1bb0836b9966f56536a72922f26bcef477b24674f8c31d7c16179e6716da98e17ad51a8947e8220d2da363effa2b55ac5cbd22815701134c5571966af33b406bc3618ad30374f19dc39eb4d7ea317739568cd90d62618aff0f66ab684796f02f3637c321c2ab914a09c3e50669e4496366d72cf32795912713f4d0c3e7a2760efe4c62e73ce64268886133f5c2f563657fb39dc2982f20a5a4601b675dc234253a9e602143e03b328008800b271397aa2272df007027008a4e150c5802a75b5c90632b57d9973c9d5e5b581559b921486b1edf7edc2bc7777875f16ca937059ee8efbe2da79ec93e36c1c18deda9e5a06c4a2a243f7f143911febdb76327bbb4bd218d0dccc4853eda857cb141d5fbc6a1d3d2884fdeeeb8452a0258917e37d90ef8678d807461cbe6409fe381c4ca8843de0f1d035f4914d2c94932a67ec1215c696d9a0b9f5353cde5a1744ecc69d4d64691faac630c6a4793a631ff691d1fb0c5387cb00419be98d083d93f94a43a23cd3de551a3edef8538ba28a5e176812d85034ddc8c3b6f2696cabfc2769aa2a9cdc79f060c6cd577ba55750ad0cf52c6e170ae26987c1f7a289fe4a94fabd73c0e8f099a77517577e2e5743c247a44b98ab36f9e0e3c3e9a96af4e03a3fc81e80b6f1a5bec7305659fb9be99f79c975fe94bad6bfcc6e4e858e50a146e4cc32a255a316c156b6a0bc670d4db1abbf92109a0042952bd2cc77c560100f8e4ad9b9ccc5da908c440634c70bb28fb9cb0c4aed21ffda6e1b03d51fad74dc5f7761a27a3fe361ab1592169ffa1c5b96eeca25af742a95b6861fefdb0c57be896e0cb65a737b055c21ebeb982bd7547eb4939416bffcfe97dbe290cc0dca81649492eb4502b5520afc4155ba1a150ea045f4aba15f89a1d97a3b8c3aa7f7e9ea7ce60f1a3a2b2ce7e6709f65b333b0354961ec400aceef9b91978aa1e83784764a7d6554383b4043079097368bc6a645acb3102d404df2e5c90dbf5cbdff5b317e5f568bfff5e1f5ee6baa31016923a9cf073671d0cfd9a4d0ad7a341327b661fa8fc292cf5efb3963fb8c04e294d015ad4d24e79187ae1cb9db54368eed7eb7c6ada3cea9ab1ad6bc286840fcd28b2c3e12186cd414c8bfcc11a8b28b14c2ac7f07e13df545b50b02dcfdc8c780e4dbdf88903cb5bb93cc48449079a0df87928e08941a7c456f0222c1540651765b35963abc653e96f11cf5a7a2bcc27677f1ad89fbc0b76c3162784d1a0acf5ca2f8de66a4022d17a51dae1f90f02c79629afe123df8af4c9496098c0e5e68b800efea1eaa6105aa8adc1ce9bbd268fb7118802d28077fe7a760597118fedc659f5f8f12072cd1f1bd4e02d050ca62aa6ff55624a6c7505ca04fcbbbb3dbb1955d7ac5c3dd5073315595a5afaee5a7acc25097ead408e0240638acd680c941272e84d7d13774e1770cb30e9708339172170acfd0469bf8899b8921cea864ead26a185bbd0a81291da06bf567a24adbf70c3884cdefdb81acbbedf9da8cc28aa106cc827fafca2137efb1d189ddd864a141781de12b62ee11c8cde2e940429ada5efc236b0ce420efe153c971906da07ddf7690e4f6b460311923e2af117a4903db33a9f3c0590f5c2649f2bbc27b05209ce8016d97c7436018a68cfb34600cc68237af5080ec52156c18b5e38274338fa5cbe54d98c08d8835fee8cde7c8350c9ade1e87f9d4a51b32ddb9ce5432409b0af0d839bd161d2673867dc480fa7ef51fc8cf2310a12959df560b4663c340fab7c865f7ee00c0b0b7352783e5b2dbe46903bcf44c01ab95efdb058cceecaeb47f9c2658a948babdf51fac481e87bb4cc32e08751871ab1eabe35c1550ece40bba9a702cf71c9c9f128c54983385aa08daf7a15159f51f92fd1370105eb5ee1c84e49389fded87da8800d5c68f99fb8e205f48a847c54cacfab6ccc1fb87a9a89563f6fdc68ac0d78cd4be540fe237eb419da33af30af4adb48a273c1274dc1ab09d3b922ed9c4e1237759711aa174bd362d5943887c3dd65926767d79f058ae1ab7adc43c088a965f534e2bb77dbcad7909c54fadacdc55c780b6fb8e522d7ee9d7253c1dcbf07310c804ec1cbd9a245de79c7c8d9a82c80bfd0f82cf345e36cb411d7a25865fb71c4ccaed64ccba5cc22c18e81ea9d69b274d0b78f838bd9625d7bfed8f6fdc48a13a981a6aaa290890d9b23d772170483f7001b5179915cccb46ac1a87fe6efe23b3c2c16e1b38e2d0bcb6ba393ff61bc2c60c8b3306fe8cff05fc46d1c48e25f60249e07197449d1e8af6ce60c6e925cc156a024bca0c2b2a3d507bcbb8f6ea44a0daaa1edc4ee23d1955e2f46340aeeaad9246cd81ff2e38fa0ef1a15bf481cf723a34eb7072abe3316e5ee02e175351aa8cff7a17ebbf14205e179fe84ffebc17d4e75c8ad3d56c6c37f30fa682e2c0548c77d4d906b0befca94530ba294c2e61ba761432779a78aabae2d5f3eb79900497cedcc5f16723cf306d01cda60262a08af6d788abbae2be101f4b03dc61939f1f2cff4c08566619acdc456de1115ccc847dc788aabedaaddd29a1017191250ccbebe0f06650f0d2c8854250b0fcc20817e1a60e94e9f9d0de9c936e2d0c0704b4782210714cfedd4a7cbe64b0621ba769c6537da09fb6448d02a8fa69722767460df17b77242229cf0b54cdc16ac8ab706701823b433e8eb98e246443fc0777038f015cfc77c0b5c922e8ec2c65617157aa652b18d359032a2428163eef829d465750fdb63297a3535dfbf59a19f516f585c55794d86e6319108659c93d2346747bc63bbcb1a8df2d2e85e642763171ea59dd1bb51c4b14012351046caca48d704b2a0cb1cc2d9a73d1d6f350fa7a900d20b498fbaa2eee06d5d99aa0b9a8ce8ae0de43811a9093e1eae89319863d4acc125f14aebc675fb735c407f977e3da7627cff0837508622c513540d144cb67181975b0cfa86cd345f092c93fe506baa628e29eeab458dc267fbfc31f9ff0cc5c785c6a6d6303bc1ec0310c16828ea97e124ebd17b92524ab3a450f03f3f617e79f7d6ddb88b20b4c3c0d83d09d1824986068b41e16ec7f78b5ef83c464da21853e22783254324c62dd6da3f46048c916cbe509db19604644c315c338c9584496764e180edb47e75e2e5a9912cb5526db111b2b40b53a9368782eb13f7d912dfd4d6d36ea246d731f56f123311f6de12eb178bfa8e7ce6538d30ec3adae1802997a550132b1083838f3ab3ca3672e1cf2e4375022eddd918dec8de1a4159841f3f511e731ec91879e7145ba08f789b20a6a6f07ce79759c08bb3e452034e791ef07289591addcc5726456e8bc18ae49cb8d97bee78941fd0804685fe07bed9bc6a958405fabf3a1aa6d9def56182486522f653e088456e4af457b83980c4a87f04a2b306964b2b6ee8cc3b5682650a0c4299f565b8de09e853220bd3e693075ad01cf56b1cb7471f98dabf8285412cf2eb232879d2a604d34b6922fc4170ea07a6aacce346c5a2c7fc44cf247121b085c347cbb09469c68a1d76012c334a412585f87d89f531eb1576709da5b3488e3d512d9fda806a28854d1d4c84cf866fcaca4263ee374dfb066fe68508283c217b31b7fd5d95aac8277f8f8de44afce6653f914c24d9d09e02fc5e52781e6f25191380af813dd32a8c1acbfbff5aa0e4b8e34d3fa6723a47198b261047fcc0077e463448b1e69646544e2c7817c1e75cc564b34f704959139deaeb3cea73155fbb75a6906568f9e64a2f85957143ae273377badd5101a4b8fe85046ac69d4e0ae6377072f3a633cd6994972900d6d19c8352a4609ae3996ef9a7eb4ea0011205565f722a4242c4a93c10b5b3677a8ad01acd17193bb19e6f9005fbca3f840e61f9bdae9016674a25ec6a28e6404097bf2569391b053c80ca30cb6c24010da0fffd2cfeeb920b22fabec133ab862b1e699f55da821fa0cbb44848e333e2f13dbcb7de9bdb9aaba828824e142daa208f3daa6aa1ec52ba51afb9a1642713b3af7cfee1b1602657782f36d5ba78b3a0059af93dc8758dbc44ff47d846dad45b1059a6fbbf0aaab28376a915e3a196ff75c8afd51e194e91e2e16c9c4178dc94da1a94e8853d9cc24e144270b15922afb4c785bfb2e087919115c5a19867713f2a265e83cf34a98b7a73b420420ad1a036db3fb62edc58d5be9f27db44103162afd111531c86ca152aa5deb477acefa528255ff55c46e5aece6bb449a4c2433079768efda3c0435cf239b5657daf9e9e52ce7608866228a78db3303e0002e90b4e415b4f3a2ddd6df1be3c320a5f0af414b12252947176f56663038659d7737e17a704079a211617c8dd45fc5df0e2e1aae6f5e361a60622ff3257e4106ebb18670dcb71f77c1e376520b9d8370065311c710c278c2c031bc82a436ca86abb1f5f440a57af2d23b5bb54306d86c32793ea1cef155308b85fd3ee6b8e0940f795ded73979829e04c8fa3be04521b1ad751d789792c5ec3f9574f884a0495a53fc25dd1adb62cc097ac364cf9edb3e377a39dc2c9598f910c624bf2e036487d0f016bc74231122723173525171413d72cc8d863f50115e2cabd881c552412fd2cf093ed75893d61ee0612ac038f18196a1f2787025fd85298d9e82f2e1401e61369ae1003111d6176b472deed42a40966f4f34e4e6c7f003cdc68d11f80259ba28a7f52b0ccbe329b51ad3d60fd6811e5bada965be2249e0dd9f0caf61ed65b2e0126f4640b1ef667bc154071415d8627796bfdf2745d673da0f5d1b3d4317aa6f94bab0c4069095accdcf8300eef1d084755a2537c91061d09d0892f5744fa183dad89b38d1f8f44fe86c6c3ec89984008cc51a923d78b898bd78c6e467be5ddc6f936a194ab97cbad3b3a0eec01a41e213a8a2bf2da5255708a7f597a298ba30aa8359e2fbdbb2656b4642967d6c08f674d481773d99ba50ea159547bb3ce3a13bcda4e76d1372b15f7de00d571761caece3c2710b178a026b5bf5234a16d6441612d37208c0d09b3817eb1b90ca2173c0faae49d12b009db5da4d258f5c9472e06c1df3e287f09f9ae152d3167f390dbe2053c2d09cdcb61f17bc7954699f4efda1d85dcf97214ea977649ec7b2ff14148af34f22e123a7b2fa833d4bd0ba97c95112b984b6e74b9f648e6596353b10c0290e7819f1e2f026ceb53dd26ca4b47d70513be89786b86ce32f5ff4343b4653604c0fbaf7c6bef8f8eca1fed4fa89b67c26455b7641daf864efb09c706aeae2dc3efd2a07c5af46ce64914f74aea3232d2c8fd89ef4dee80caf90af322e24cc22de3a9b7a9a8003486258a008d7be52811708ee5ff096c5a786108692ffa67921d3d52996be0f6494292bda8252e4a580d0e4f73055aae4312b00b52ea7186ab3e6cc81b4cc45238aceb8ed94cd087837d223125947f22346ac35f49af3f5b570d7f7a3b72400752628ef5b87088f603899f4d8aae9254c4cfc911003928c20af1892f60aa127069c6cf776d0d60e1eac84072c0aff1081df3fccbd54019b5d244802469f97fd21d324416edfc10cd2b9eba239b782e7f919fba7df7791e1532e45d1b64cbafce4d5f711874eb2c9934953dc55e9de7861b25ce842ba7ec8e5fa3315bcce0fcf137e467ed225b4e0592295c3cee9428c5c9177dd80aab5ef37a6150ea2d6651d8838854432af62a661fc87bdf3853ffbc0a7d86685910972834b96e656e9339068ed1ae61a4f010dbbea8bea421748fba56b16524ca50d6dcf833afd05783de4a49bf609ee9543ffe2cd105718b612e92f5614d094267eae3c4eab0569147e5e601127559696df232b6681abfe0e8422fa9dc1889f1ed3f52a6fc6f711c653afd555fc9658a12001c778ece2934a493753bbe3b3c655f11d70724084864545bfd134dc1e2e87738b86ae5115aa49bafcef50b62415254129d98bf82703f8d312b9db8e74fcf4563a6aa7f7b8abb368f6524f3bb5d5770879c062be3a040aa9873eda94a85ba4e6bd6910e59daa8a19564d8c2b9a1bc80343e29376335dce45c666f0a665e2e92683635b6c40b1f1b1d8d87a35fb4409ccf62f8023530396ae52cd432191b00374382ca8a17a72ea670b2b1e6e6872e49d28569e5546ecb09cfa8c56fa79ea824d6cf4e43fa38f5c006ebeb1d6dabdcfbd5f82e058f5af7266b3f4ddeceffcf055160ea899812acba4d63cbe3d0ffb582ca82caa1278d981e008f4883c605b56640514048501ac848169e6b84a64e9a5ee80d6474ecb903b7518590d0803dc343c8060f71381bba22bc3a063236bff9bc093ef0f88eeba0d51a9e04a3cc730bd5326f0482a1af77da584f38b2b08e49b4280be4706ac0fffd2f0b51705d615a6b5d58f63df6d0c6522fe9bbf4433c00efd4e01c6c141fce76e943ffd6719beba6904b50c751527fb5d4250e76e9cc0a3212f44e6789ae05e6f6bb3ca842cce61e0731a34a5a718255c7144dc2a7760a02bd51bae8d37a628fcd2886706b0537382eee78e6854e7900721271996985bfe7946346356faee31069dce311edaf58f4a3c11d103b80e6f291af7b37b7b90a853cb3a89f487c31f93b57d3fd1dccbf82acde26a8ff08b95e6739b3ee8d583c1259e6183492070ea4f8bc28da856313bc49f992195fb26675e9170b69266876c5db191954956a9af1d5767c75eceb4742d4a4938f222d413a41289178b717917df1c602094f83b3ff4cea1c203b10123747a2a473a2863babd56215726ba16a714becd9342289f00cab5f319b315d801e9468382051c426258e863401a56508012c29c0c96cb90872d666a26ac14a0d522bd7ffc865ab28f0d2cf346956aa8ffb5d576c9f09e3300478456a38e31c96e290ee6235d6aa916d901920047233d7aa86303654acd1ac3369b06ae5d178af126532bffa769304d216e37ad5193541f19c9e7f16ab4433a31c3c71e948ae836caf18202cca9eba77531d6b4ab1e5741a47df2a58c5fcda9c7d198063a36e84232124402457bb5d18df4fe9c09eb7a19b5aea087d2d618bce86f7f3e5bd1ffb27e00d16e2f257f745ca41502fea71dbac592e56af6d3fd5f80a005447898f0347d3857436344c5029e907a6b0021fc0907131564b94b7e6ac0255dec882c204876b5c0e4cb15d9e1a346be1f6bd3900a4dd9b04f3602ad3123424f804e018d1c7bbb3bed0607c2b450a1aa958324da6f97368bbc104094af59625214a73252fe492a66e4ceac4cb3c3acafd2067c3a462364c8c2b521e16427f03e303debea42220c0c75d124ca4c6ae3c91a60101a1ac6d79ba072b643e70f7e0f107f97e3e330bae4e313ebe9a7470e00b563dfd9fccb659beffdda8d5f3edc0d6257e53322b8c7e47352beb3084a3c328eaf77fb8a5103f8ebcc217baa92e82247d5f8da3270c1364af62cc57b9d21e43e5ed06bb07ca19075d339b696751a8ebab19d5a99408201d3f25f23e02cb30fc7e52a0ceb586f481cf02aef4c0ee22121c1ffbf4ef4956ee47ed306ed0783080d60209d0f57a9f3f7fd3c77625fecdeb60b0ef2bcff3f76a51e918eddfa1a65f8f7e61fa1be67bc4cac0d75d1f0076338e14fa660854e4917fd28fa9b1127159f22d2c935f0f1f1ed804c67d26ba70dcdc1107d012ca3cd9a8a18fbe391a51c73c398925c09f03d027fcc5d1fa3d07d15c6483fac2bf83551bf90997dcbd75338f069f13e92ff2af11bc5e4917d392594e134118354d29dee9a9fa15d3c852a63651d9d646daca9610b0ffe5cad1c51a539cc463fd8ee369b7871754e6ed80eaae77b295cef17ce7970386872566c6a3ba775f89d2e706f6f3fcd8f5a4b66472c34de51221aaf12a173f82a0197472d61cb5fc8e8cf4005fea7f30adb2858159ed2dccf4fd2ae261656163232be587a89bb9fae20177492806198b509fcf1056f2ccb61cd06d0a722b16d729587f04c7841fca2a935a783c7bd8eda5c2d9e5e5aafe39a44c222f8e4fa3ee1575148315d19b05e830d85e1dc42126abefaa3d7c2ec951234d468a8b02d89c383879ea46d655c44f1ab1924ec851720bf9d6b134dd70fa520cfda346c4781173bafe1b8969257cd1177d5d68bdbb5ddbd1c1acbe84e3ef19b64c250b1701f9a873476935f990522d367db28f42d8191bf872b972f62e79e0572bd57dc6457d6fe99b66c478f1ddc891c780e174368541f07d6a50aba0cb3c2b25a8f826f41160ce29e323e37d43eeb81bcf54b6ffac122ba0b53a42d1a9f767cb1d28cd54d31fdbbe3b3d172ad5353d8a24307b8dd1ada5d05d4c89a643f1f36946c55918aeef41c27a4d20f903d88c2b3364cc82e0103e574db24d99f541e88543d3d626b0056fe151bf7bb135a97f7ee421c746985776ad5f1904d29f423d5e055489972984e632b72229700c6c6292b21f871148b0b937fe11ec0f1d26c5cac85ba3a61123aa02ba8f3e0166c0781f3ae948d4a91732af618b2350f8156e7c8d676761583a3d616b7cf1c16c157b206265cf7cadda580b9c304e24c6473022f6fe1c2c5bad78b174cd53c43d797168b89c44ca4d259fe5110b91f4c6d71be9ac4bdf26e83814d6ea9af50820df66e5231e5f6e1c","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
