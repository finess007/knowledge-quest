<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"463fa8282ceb39ecdf15a6ee6429752f10851b311e060765b7bf0d92e60a6ae786d4bfaa7a2e8a16f92ed7ece4e38d6b9bf236376fb9bc2fc78b46cd85758881c2a6c2fac0a9b8603945b3aa2352984b04bb3d596a99e25b4e623f34c06508417eb87190b67ad7a5daa2ff0f6d524f42711305c3b3bc4e94de787f6d124c2a7d2c7129341296d2ffcd303033c69c989afda4958da648ffba96f2d84f18f7750b1e152872719cb5090121e202c9a4433947f7919062f1e66c1b65f45e065477b5c6ca87da1514b05f52c731f20ba878a30aff706e8a73673cafe6986725c0bf1d30a4f19d5f9e4f3fef703e2634913ab6c6e3f01e58e3dded5db96d74f358446a0750509c7ed0d5073fb3bb023156da17ba86f3af536db8de9852c21acfcad10831590f336fe9aab7d003e05c6e1c0e6fb6215082e5bed8d197b7b0dd493e12de2dcb289cea9594b721a8bd1a3d0fdabe775ad8e93f6320a67418ccb4acd6cc7224cc9cee6c12b49f2b30ba3985dcdb4a417ab3de4fb07c86d149406b0b3766467762a9edd3e87381c4d3fdaa6332573920073191c27db127c464c51053d33837f5badb7a8ff498f1e7ac64bd6a8f75738bb68686b92dd5796b06d5e4f4a85028c5b9c73ad048986e470350c022738f969759dc88b918325cf2f06efe6d1c605bdd1bd3a26c3b2aa4d89a3623ec9c901be49ff0f014a993d5fcdf76b7dd1de68a19714145d72ce7e8f7edc8957d5840eb84cd408f5ae6f64a96457a2c841fc6285a17ecaf0307f4a439eea7981d2031ee74547c54c4281e946c3e782b81e2b7749f3d88950df9b60aa0a37ab095d2fc8d7ad2d4f231b6ff5b8b7f8090ef99b4bb00a3a5ae53ad3c6802917327ee7fc25c44335b9ecef008e5892112e0af63ca447991aa3eda432c5b2a08dbd0eab36dc30e5bed5e23fc99a394a6fccc9d3665ee8ae18620d2286124309bc9b3c9bce31524e688d0dc43199226638267038e72e079e5a9257beb1c1c7088b1f85eb98a6de80c85707d112f8fa56262b5dd5d0f36c1c88488e4fc4deb952f2e72b48856ed7a1f2032ac55cc781de95b01e8543a1d6739743833cec48a10e42c1526d24fbf074856a377d53fd31ece6ceaf2ed5e214be3fae0479d2e69df0932884a54943d9077b7f30a2f0e846907ec57f52f04b8c336df8eb7093b8902b8d8a603aaa945827e113ddfa6576e8c8aff880c668341fecd2278bac04fda871900a1cd9d94f3d66f78763e5567ef92ee7267948af0f5546d6455738ca74543faa2cb1688bbd83f418d118fb4cd3943edf65258e6d4d491b3a629eb6a9bbb8d83fa6752108eced0647cbf51a73961d85f8448a51d06d0492e1a8c654b37ec38836855e14b2b8e588656d9a89d45d74e25078dfd2446ad0b89b25f534a9d6e3e1be1dcb105cf52ba2621f39cc96756b92cb8d7b9fadfd30770d6f0b76976247baa214a9ef62f623c3b064cba3c7ed9ab3a193a088fcb23e015c3be311b0b48774f6c443a883d386cdc58fac1e560dbbf16511ec4bb8aed8cef59644b89ca4ef787dea57dbaffbdd38052e1d1618d15a8dbda7f8f3545854bc47fcf0075a24cc0083f1135dcdffea61e26a0a5c2e363f62a178d6898f282903b986be4cd3cc30676b8b614b43ba9f952b6bda986c0fac5d0dfb0082bf7ddc7eb76b87a9920ef08906828fdbbf9468f7311387ce83def4c4a865182fa252367fff08f397f39d0c184a130b264e45f9988e7f32ef8fd82203e9b5d74362c31db839e1a6d8c04ecd3514d5a9b43a2d52c1a3d5dae529261489c143f1b0cfcabdb5d21dead5a6c80474d6725b5caa3fa50f5bb0cdb1a176446bf532e474fe472db8abea8793a4590af5c9c9edbaf1163b974cbfecf2c4f483dc51b64ee2d3653e96a76ca0fc1fc09cde9af67f5885af307dce4699542d409e63264faa8d9f6cb8ce0c559435ad457c7bd20fbde9a6d292c401dbcefdec8c55ca4f7681df2302b6f234c7278a4b1a414714206ed9732f9a5b6f9abdeacf5dd2533c63a1582d0163ceff3e3f7ad7bc0c39c9fa3bc1660b6bdbd4fe29b3e7adcdbdaf90796d601de1c9316933c12e06f1942d707d20883cdec7d608e2ff220266f48d4b6528582f32e2c0e1c72e63ac77bec16c59bba7fa86b43d1fd569fd223d5ec6a86d2c74f37978847462e97efcace29e9f5b0befd8fdced8184b4c8c02f29df8a26f611a9b5db7877050b7504db20e26fa7338823a5e985d67f7f9ca15d3f25a465b1da4501f434a4d186093f04a1a078c6d21993c155f80daa985db1fe9d401c4db6c7d3ec8395825f90ae073a6b44d64d295fcc18a1b7873252b2e421bbd04b07b9bde935fa153e5b5a6c37857377eb0daa12c9d0461266cd95ba74046ef5686f23ef1963a620110e6048fa1693dc74551147128196bf8801e2eb2d65d629553bbfe16f18f06b6dbbe0b3c4db4077e771873fd2b4b736569de3c26662c28b17896b529b9319880b2149aa7de17e7582674830293958361f2caa6da1fbff7fad25e339361647b63add6ca8bf37e253844fc478e784cea42226e9de2dd9b6a524266072935e7e1314f8a70f214cae06a03df9c8db127f0ca7f2fb5e70b5b53d8c05dfe0506291abd38be5824721e97daf22fc7aaf4bd632f8baa1be76382c8f7e93878b3817d70a886097def52dee9ec6e32872d5463223bad9db2ae0ec5f8a973d30c626016789aa4532ac5dc7f1ac6b0754001b2833bd5451cbec61fb71419934bd7c3b33b0accd320a982c35141d6323cba76f3df1106846594e21b459d4d56009b46d3f71357ca9951bddd5c73e2489c2ea7ae52f42bad38f7bc7c4bab554fdb9d57f7b0ec95a3b8cdc0c686d73ee61cb37b140b3acd7d5ffb93e23086a1a983c046946fcbf25980bf9e67ee762b22bdec81aff4215820bc98fd4399f5ec1d5e29b50461dd1b3a0b6b911a8dc2af1ffd5ed97a3169440f3874d2dc53fc52e41d08a25a3564a314975676998369b5b3c063c573e9ea2c7ccb420eec7655ebb4f4c950c534eb5ea23e7592e5ec8e5a993bc511e74f9a9a9fb743a4f543ab824e90496ac8a940cd6ea3385e438643a4b137a1b146aa10e59dcadc29965deb59d92a7cc7a0bb3735efb6f0d773c1e4cda5422de6a04aa21697aba26a7755f2e00d4feb985ee9e698224d4496c5fffc063938bdec1dd6c2352ce94c578acd2d85dd15ddd9b4183160db9d36c6d05fb28b871378b9e6edfc11cbed5c778c35e5e9364b4423a42d0c54158711f0ad925979880414744b3f63894a90c4a4c84a7c5a036f21d1d51ef51e6b074f65a4ecbc07d27b2d0c124ae702e33b9822213a5614dce0a36287245faf5a0efb37f678f62e60d5b1fc88cef94cb1243dcaecc68d8611614555749f6371a03c7fd7ec75693d0c622e0f3c36a513ca84551bed2af0513a7f4975c57e6ecd372af890e100aeae6bd33d071c1072085f2f4afe87d4d74e89f8bdd58f608d5853156bbc41b8739ed49d2460e5226b09bedb9e6431af77ba8b6c6798fb088225a9b0a090fd3387716f9c676db92452cfbbe519f0a738a575d437232989f64a7e048d87e20f6b87de0c493b80865e49d4711e442bf861bff89b2a05a5d57302b8509f7d2ba2d3adebb1d5de0808770ebdc0fab51251e5996f0bd6d2b0fbd722a4e8f4ddb24157f98efe6d0cc77aebdb514a157e281a14329dc039feadd5099b5ba624d84b89e7dd6512421596a03f55784253c12e40c3346400d9f52ff7457ba4b9dee01f2815bb743700fc473837fd18e7ccbf666ea8c8e63fda0f7035378b50c51d816b975ae90e780b4c11cc7f06d7c9db65a918c7137928a8de315b0af46a0dd6e2401e0c1e914290a92f18e0a81d9b27270f52b87e90ef99048a8c49f4af8dd22b1a414b0013ee753dde11147ef0c91b10d0985ab84e5d7a493c3d43e419e1953cfea896acf645e530dd8fe4fa516dfc064589995cc420f7433aa8fe0bc025c7fc4b0ae1cfdf390b686809dfaefaec339c8539c6bdab5806994b767065ed52e1d9459e3ab6edf3aa733bc6ebc10a695de213a2a1459209d926bdd808d0518bef302feafbf47916599410ed5b5f73f7fe04d4e79e5b0d1d98952f5198f28ca21d7ff0234553c2608792d7dce9251fc98d4acebc6a490ac49ab7b5687ec66048b7487b8f4f741ab942b6adec24da2b4e71ee749297ffdb73f20c51d941f3404992c655cdad1e3f3975cbf9842421ee8f617a9b68d05209405e260399b42e15999b9350d4cb500783b0fecd89c28e9ceb8d169c098dbf87b7bef518956d00da0487dfc0fb92e8dda1fe16684c6447c7e0fb6cd6ed5bbedef0caa4f2bf7097d15634fc958a39e6e532367ba40529c8aac131933091600e71219a33f6d85e8fa8e6798d4c9f35349423fbc1232e9e6ca432f17ac57464f97c68b33324a54d87bf3ae0359aab60546b32f9f8bf9bbf571b66fce746fecfa038eedf0257a075e21dd36bb2b8a67a07f5c70836c829462e825e9ceee784ff2a4e592cf917746505a48d8446e3c6e42c4eaf78eb6d04d93ac895fcf89f3e3044a9c1dc1d98a86a2dff371f742fcd291ce360839d957d96751b7ea5968bb30943ea7eee1d6fcccdd082a24137a7ee68ca562abeaaef608c4086c70cc72ea017c2b4d680fa31bd84778ea831db18652fedbec1d513ea687a77804e16f1dcfc97b9b49aeed3c02eb25caddfb14e7a10d751cd587cc271d077cc81d34796221cde21e2a52e454e546f21fe60ca8207e415c6d0bfdb46304f4e84e5db55e8d5bea2fdecc39b8b3d2948ebe721196f3564ef8a5b08c4d55c23138910c150306599128b030d6166520241cc0fe6a027e08b706c6851f2fefa81a0568ba4b5940fe6ad55f6eb59182dd73e7745456c645a06d913f8862a7324c1f0b51d9fa903379ca79871ac682767ef8f242cec3c9a750acea9203ab86ef37e90a7d4f707ac27306265f00a509e2652dfdc8bf1ce6bb6117e09ee13e9a7c352f002b4fccf4ad4be76741966f77db84c557b70b574114a81c9d58928e5d2326496698f636b857784e7fad89acb4f029cb070e5beaa790c4d1a1632e867cdb83ba0c4733f663abf519bcee5a121f4bb0dca48eb98eee8e97e431663563c0ba6c332634855dd1446ac0d0a28e8bc50ee1c71ce9460b6626ff019b92babab645d8b5ddf8e60b1d9c9cd73c157fb92fce3c29e21d944206a842489b5a85095f71c5d1b38507d5034649edfcea71fd0b7a8e05d38b84c8a02ae2873122480f9f1bbada819df1990c1d8fa49c64034466cf45a782c617ccabe50d9d70165030089c1bd28202d0bfd03580b4d60bbb80f884d248bc4f780f48f2bc87f28fa6a12ded0b21dd58e0b6808f02c5f039c991eadd8b0d929decb3c3d0c855ee73d5fe4d74ae2679d9fb8107b82dc7950849bb19fcee849959527ada863ae2e6605b8c0ad400ccb397a9bc6c73fbc89f5853a60d0601c3e38bcd2368900cd0c0cae85911fdd3e480c06536593307b6154e28fe92d5a4e00b2555bbef86d912530e8bbc1213de149b8dfdf84f76ad3f49fee12a61af46efff84a8401e30c371cedcd197fc2c7d064b305a125af49c3310fb2a0d960a4847a0913044cf61e1685fe0cabef6fdf27e8405bb3dc6aa3036db22fc3fe9d5406f8d707bf4cd7dc814675131ceab4c2953d016f61d08e9c4299b61527845c097a901a9a092ff264b2c760e9a2d6a7beab78adcd87cbdaa0fc983b49b36b782ba6feea596b1f56ac4c835cff86f61f84db97b9f3e09d5fd8390bedb5d037bdd3306a3cc94d9a2649c881f1d80d888099880c5d200a09c909a47b84a0c28d8f533d74ef10e754cca25d1c34eadd0d1aca3a885dceb9bf171885f7faa38ba9fd9ef450c6f4f14d777f3659110d63aac62c2f28ba50d64c0ae65da7a16fe6d5843cd0c00e97dbccad449cd1bca3463a2ed416a732ab0bd9b31679776927b178e149fa8e7b259e5f7845cf74f020e6d9e1100b046044b16dd3000d67708697a2fe8e21839b9be886ce66710ae2eca16821cc4600333dd08d0528c9683d9eeb9dcb867ff5cf26760060b6de36a8b9ff53813ff4e3aff61addbe8b36d8f7df02858287cef9dda18002d020775d324f388d3e731f6bb693dbb671494bbd46569eec96c1a70773f40a1fd476a04d4543dc2c13736dbd7c01dce9e3200d91dda0459d79ac5be00c6fc1e2f0d54ac8ea9c7a722d5ca49ec8f5b6d72b37e7a6adc7dd22ca2e0fafd04baf571805f0d24b66383232437ddf343d961a31d5dceabd3592881049d72067cec818e34a14575e0885f96cb058285dbe7dc39fbf67cc18fe22835aca4a2b9bbff52b65697312cd4018240f937be6e9ba0b665413b0173750c8cfc6acdba37d0aaa15cf18dd2b40709bb7b11336b1079e0ea8a408d4cb23b8ee514bf2a9f76f0d39442746d6332a919306a41f51a7524bbd30ea4310e446ec7072cd5b8bbeb82bb6363c26f61c2dc6e91f625181f33caec90d3a6c7eb274a1cddbfd870d3040f3bd5d36802440a55c7321ce6d366063ceda27ca9897dffe0d43efeea84b3752bd434e0fe90cdb486c2ac52feffa5d3a59a5650870456690cb98f9e538379fac9e324dba883d1fef3de0b1b32881121a5ed195062ba287b198e45329364b1bbf2f5f85d7c20ca5c416b56f295488625911c90b6259eafd0db75a6d01be16f7656d5520b6b5e603b50f638c34593d479f215f5db8512ad2834b33b7c56f4815749feeaa3000c7e93683431eb496ed62c03bb027e800c146efe772300d76121ba09d448647ab05f529aaacd13f56fc0dc93c4c2526a0df85471eb1cbf67cfbfaa48defe11b0bee88e70d48000344abb19053878e29191e59fa8bc97bd4fc7cb5211a50e62c360f8bb985f337522b5e6e2ebc3bd9a4c3fec0a0dedee4e8cf26b3fd081da14fdea0a4db8ffecd1b532aa43e9c511b775e2fc4e8fde06016369fa63674d66d463801f0de7350693e84e19a5624102500ed344a8197ae02490f1adb5c050767050ffe72dcb5662b6b8abbadf58b9a610c92aa9208595881f6b62ffe9ff13c49bb63f9d5ea02c14bddb723247cecdcb2517dc4b613f8226ce88cad240a76235de86c7daa06f90c36d572c45be1ecfafa1aade11ca767d73ec6ace67099cd3b77f9a1f3cbb491b875b43f12682f7c2b17f7bdd978cab8eaabb9f87c8ae76c8d0471efdfda467a58e7316e2d65c8548bbd0dd8c1a24a085a0dff2ce61c6cc127bdabe4d940970bfe270df04a0d9bb34d7b7d87e7772b2d053afcc7ecf43527ae1179b86dd0b3349b4e37e9bd0949e9cfb116642b7fd874859876f6f1c682942e7c5776d9db773764869ce171f4e92c8e6db4ee136632a9dd4d4152064a446a04c150681dd25243bfe58526dda8c3c93c4e9c6b5e6d65b00e91f88ad8b3cc3ccc42758faba6f897246c69a15dc2a3ab6a420dc64572a7b4048e027e7f5b641f66c4943483d1a80875fde8f62938dbdfde5a657eb31eaefa64a8dd72b819a15ef51a072e9ec2e5d805ad32cbea1d9b7ac84239c9d80032b60df04b257cc55c2ba0af26d20a85ace8d5b31262e8550fd2f5eee33ed30e98c7ef3ab3e09d6b4cf9170c4d49846ad429574c89f14f2afb16824a1d4373539b943f68bc40e3b5558db24017c9eca10790148ce3a65d91ba9d895a77aa2afdb9bc8d3fab149efde937831dcb4bfb71a4230964623cd794dd93aff15df0f768bba195076aeaf22cf4b666d0705fe264ef13a12501a2fd7ae15892b864d2a54e7673e9a8a6268fd1f19968c8d97b6098f11ae2d1658f5afc3d3616816ecaec1f4e952e7507f319ed83102007ac4c996c7e9ff7300a6d293ccc06d3ebca533ddf8d129df2ba3b68c4b4ffadef06abb66d0deb758375f9ecdf314a1dda324a2e719a437e7bd77a861f1cc78539ca1f3019aabadf439731f4af0afe31305d16b3c2fcc1f4d2f7f00fb72933b78e817c98a9641cb1f15a61d49fc8df46ca13f350030d407805b6f4e9846269ea93ae766f7a612dd60a223eab3230f5d6fb88e3b8944e088db2a65314f11a9acd4d077124aec6fa55872f1092035b7fefb58657ae4f8b1bb7c2129b77a9dad09c0fc4fa575b384d67d5b4f07ed6bbd47e6001e1a586ef3ec22c543cc8c304d01fca818d3f2ea519dd11ce1c8601fe8f1b805c1005b1b753730c61b504a7d8818e93be52092823f61659028767aa00beda9f4b56923372fab7f09f2817407862354c59bd611f8606e27bd771d952b98a3fa7d6d01b85f2a1c41479695b777e7ba641fc5f240e617523e456a80065af11328029cc478bf8113c66c3810d88c63719fcd8a26346d0bbb9bcd5514ad862431e1595b2019c1e2176eaf1417cbd3a2658d290f6ff4ef56e1af701b6405d003346393f229ca9edb09d6f5b33ce6e2178ec48362ae050529e49cf3814d6d714fdeaf69db44c7d0d2179c7eb2f5674c8fb99e40c7fa747e3addf74b2777dd791a0a8eaac3195901f027e004cf0c37bb94f35d89de9bd16483fce540b9a041c1c3c4746b26952bf1b689ea15bf7f800dd644b83ff55b55e069893d02f72f574a89c10bdbb44c1a7ceff4abdac22cfb56471a7a5576c68ae9842e49cefcce9fcf0da4ac2a9516cd68553001a823f0cf2813b7cf24e78e1d9dbb02417b52626cdd946979a5bb27c609fd04bdadf7d76de1a2def9869be121c25d3fc2ea285266363d7b3f28744e3e84a4f859d4efc4d08085504883a6bf259bcca09b0fb63f3ec3b6efb6297decd65fad83748a0a1c300820a78024298df7b88235f91d834aba2e1fd2c9f5de3d2fc7d3c98bd85df37caac958ffd153bd7ba2d05f77ae2afa934662b22cb7de86ddd53feacdaed82963554d8d1c216e87720f2c71d33d0dd49f7f9cba255df5fbcf8f7400d1ce88e3ee24eca38ed0a49e76a8056a8f8276ba0647dcc2289a4e02df69a9d7fc35ceda2d56e9cca16aaed6fe42f024b7fd7ef11e0cdf35a5c42227b8c0ea7edab4b23faf60ee627dbdfa56c60452d56057aa35592e986e617ff2910587421598d20d2cf9a64fb9ec0a517c4eb73e36a0a49df786f1a391848e3729f4be85b1e2ecfc11d935d1682e9e4275d86fc0db02b144910b0605d7a5162f17ecfc63afdbbb8f8bf752dbb10efe6d69eee09941e378b238788d83ab63506a5a6a00aa809f0911e4e918e43bf1ef4bd387a1ab348ef23482e43fb0adae70049969c1fdf515f229dbca4db6069485c7c5bfd120551b3fea3d3dd41d2777f73ea71c48093c864736a13680d2623546c86248bcda98628e122c565dd0febda0ff220d27162332ed82cc2e4e8c0ff7bd75012543affefbacc9a9f3dbb870a4f838f48101108aa439fa7fb28caf129c7d362860981cc4ec5254ae446f05b2279392ea4d19de92a9080cdc10be14535448237c4c52b529e58529a56cbf711ee629ae1dfe31e5a96356b6ad4fa44ee588465ce58c6f4251c14314cc76f3944a6f076230ce40b49d1b464685ec471625206528b9659dd5f856fc9b22dd6c558dc3a71ae11ae85f12154bce0fd5989d907719ba0f2e8b692f48c7f5b4ce12fc86143e69643219ce368fc84e2f1e40a09b14ac91853d12c93593b753b157dc10e208511076886eb6c2f630eb7665e0060afa8c3947c9cac2b59007472fa261a1735271cf42fe982e7eff04074dfc5b73747c2c44e83c184f963d6d225a0d41ea2db8239dd9e8599da34faac57ddcb15fb4a7faf984dd45628880e9516ab795c0c049764bba3c08e80f39ae04ca703df3a7940d9d8fe40ffd0f14ebc5e9a524af5a370f94efead822a504093a9295682cfa39a07d3268b4509383fd143b4bd0b25e405f6be543260f3ac42b62523cc04cce3ad82602d4b24fcd1c71dafa6e61fb35afb6f1f92ed95729cb77b1a2a8c3b9ce3c27bf8d3f3f52e4682a1e0422720944f33eb964653d31e5458f50640f77db073c6d14b4dcb0d7e569ff8546bccb069e49b0ea2192a31b4cfc031f35bd80a5bb46fd034bd0d4b14896a0feff2de2dbfe506b416052af3219945756c90e047272fb4b8f8a39b0a0542f806d85145a1e3a75572d7567293e5c02e7c2a0a0f80357c264e7d3045c34de60861cce34f5c57de63614494c4eefa9c06cde7f161b8d71e345dd57a42329b3856cc4e613ca3ca31ece15f702a6849385c68cca1f6f54a842c6cc4324a144bd2efaffc07136ba7d935aeb759206d2610ae3dd788ebf3e962394fa946127be91c9cc26e8e289798906bedea2b85753246d5de73fd4f83522f3b23ff69a6953eaedbdffa0c61d3b19aead9ca9fe18a49ffbfa2db579ee857c33816e8ed410b4346781e3fc5af508de2fc0e6b0eef922e02526349d08bcb3bb9b11fb603c6cb0c94720bd38c572cf2c03cc8aaa4720b4a4ccc7f0d42c0da59db1f30a6bab73217e4184d34a1a0f7b215f5a5c0e8d6ef777d14674ccf2a4d42c31cd82f6322e51aae10a50f107f3c1670cef9e6419943c05dd58e8879c91e8a72370160a8d22a7048294258bf737088fec584902d4752f2198c2e4eba9551ee6793ac8e1baabda970c34921ca7baa4309eb31aff4da3faaa6484cc2f35b6cf10fe18a992ba6d2a44f12476faf363d885cc20cf419c47d9e477ff5dbcff3113f425838c59adb7cd7de0a5f5c918fa6a66ba0cba69700ebd1750d7178d633bcf5eb44a8214645d7d0f476f07a767782e47b1d2b4a6e88ce637c6406c71f6b0d062272c231371f1ddbf61263563f1618c5d4766b06b53ceefcb52fe7c77c902dda5d70e708beb801dde676b7d1305be3541308a54cb89446961ab4d7316cd0c14caf52f57ed212b07600c871b562cdd35f8d6e7f1d763236c04bce1cce41918fcec23daa3f568c54fd591d8264af8da53bbefba58a2cb0f087df1a6ba95b8a3808b4018cb89ff0715819038369f2aa9897a489c9982ed9a1af9b34e2e9229a50c066432f03f50e5ea8ec89d690f244c4efa42ce55c06df3c2d099963185b6d48f149f98933da0cbaa492ff32e3b1514cc8d13ae010069018f423728eafe8496bf9598f2fd7371859a1672ea15ef388dc60a648e025788e994458f58f060503952c9a40dae4075981da511238babdbf4fac3f87ce56f898004556701388f76a499ce5b5f67dca36c7a6c6143b190b7076daeca273638bc90cd608fa54a67d1229567c049fcf0ef458d24136cce78382c397f091dc15e6540f279be7978b1f8bee56a4b0feca383602ebfb2315291a4b45904abae1aa5b742a044af31eae11ab67f383232e753b76b83f7438a99ad321b424ded92e66058bc39082af6e9b2b193bc303133647495431d50fd063679326cac3474aa3e1352e41df48d3e14abf16c3457c39952655b3c13ae1de266bd2ac610c05efd3efa1ba287615f36e711fbb797852050c25fdff90e401ee8693b84f3b6db64d65a4ef41c52051c7eaeadbda626e94ee97d7bd61833b9682a1cd62b8cb59c6dbdf353f3bdd5292b051fc26ce20a05f537a7253203bfa6eed29c60b4b414f993bace122e5ef5e7905382ee89e02cc15d22c731be60d2e2d650c1c7f3d23c83407cb072a16858f5d7a3306d0c860c0640af93b1d1bc9d7425b10a20a644edd1adb8ad208e191a19d1bc6aebc1ec6531576dca6bc94e59b59a4b9313ae04c34bb223a4def731f5aec9984588063f2939ae1eddc94e858fa4a4337cd9c1ceb235bf122d5ab8d9d8a8fb40aad29c6e06e36b54708460d7eed6800e247a774d280bf7646fcc730464b39792d1cfd9561918aefb6d534ba1ac5dcd37094e1bd4ad75a1d91a64bce989cf7b827ae914b6f38dcf6022eb060adb68a0624cda5bfae60634d0e956fde09b73c181b6db1d9481c992ab269535693821419615b6b84fa7476db7e0f7509822eda304b6aff64dda67c56e86abb6db430922f09c4d3a4d852ac3f47ad3e021bdb3a43c51b2d976c43fc78e53d7996e2e6ece41f6d266dd756d656fadcfd0a00e8b95913c13fab06ae2f7be77d503ef6a2252b1211453eaab90f12eac0e133d008ddb4ab26a699f62937dd009dd92679fea82c0c43e85739136cdb7b6f15c1e314070c265a27a674ee66511f756d4f1b922b66c52479d19d5549dc3e3dab8b38fde9e7b6868b6e2bbd24170ef609b0c3260a0282bd397e02d492d9290db471ec36ce51e5077909756fee747267598e65b8a1c9e6ed60557649297d824e1ed89db4869b88edf0d6d8f2184e3b625439cc9e79eb8aa9e034ca6eafbb24e7305c5b26b13f59b8137eb10bdec0c1b116d4a1716977f40b071164f20581b068ce3e604458b92545dbc740770e450e4cd0122245cc0e3e1c139043bd8c13d4ce31b072489556926704ebf596b96a67b64edd31691250e9fe0dd74ca761bed8669d6398c4c95766c2233b701b8b4a8f466465b084f23cea535d9492c3c31824a3d12f4054389b2942312f65ed97f58296a36fdf96d62f24ac6cfe56cab6986be0e3fb17ffbf110817b23795885e984ffe6857c45b2ff7a576f0a834ff731a2a24ba8ebc48c35857320d56e8bddea8465b2fd284c6a9d5aa3612353ef1c98b75cd998fc71d5b0c4212407d413882abe61178bbd97f18cbee8341e8f037e7b2c6eb4a16dfece80d80b7feba1297814e566bc65c5798e65a3e3b9a73c6bc23194090b99e118fefcea7ef6ada1a5b65248c70846908a28e42fe9b8cdac46184fa1ff2ea9cfb2d29b67f897c92d144704764b30a2c4bd22a2e210f0c1095b7996ab564b3eb581ca1f90b0a407b877a8f55945958bcc5e93a1006bf20758c6300364eec6e2f92e46074c8d60304b4dadaf89e1c748b3dafe20067e53a2cff58c86773034f87aba72eb972151a1f927944e096dd3fc3f6363d325d4e7ee652d695c0e29485050712dbf1e2a800258a3168488f6c4f06755c31784182d9e308a2b2d3849a6fd80856b01254c3366082967c7eea245e89cb6a3446ead44a2508d5c4569ae2988290a0cd0e1989f2bccbda3fd1e3eaf950493538f9bfffab070db896215293e470fba0e239bff1ff4cc980142f7b2a3103ef4fed7a5c5207b573619e086acab93cbc80c682aea310281d94e7ea701657ba157af333aa42cbfed169c157f090af92550d063fba5f2693030756413f2383151b9292a8878e25881de6303378c4cdfdcc1bcd92c139306439972fb58ec3eaf095c9b320e9d1f52bf6ced5591d1d49e67ac3e7ce0b845a559fbba3c3fe7f0947100c20da867627b8176210478f8d2bbfb9305be7d0bf567af83a327a48889e72631ec2fee316f8cf8fc5fa4471336710d8630bcd50b44c7898ba752cc5c55654be34939f9668c9d7cbd7c252dd1b9fe9d28fd36efdc1c9719d48700f41e25aa5784571e0f6b6810e4ce027ed29b28697c2108777a58622674fe1e25cd998831746e0b1dd315e86f6e36a6f3e018882a7e7285f908d9b6861a349010fae837f826c13e1ccaeda8eb56d50a55293d2af3679946cf87bf5486eea4f7b41fa7abddb19b52afb72788b2805a90e460d09bebfd119d4a932b8ddd51d54caa45b472fda5471fd4f4708cd3f8605a7af7140169304f6c7481a34196fdfefd1b8d88d5b2843b65690566716b9e2bd62c831d0371f4034f1f5276d106bbe0495f8d223ac887f0f2643aa5c3fd01786dc0e03c1fa93ed35631ca6e3c3bec173ef656af937d520b0616d8634f7ba6c2069a16c42c24bf5ec07410dc909f4eca848e17bc829082fca6e07132ff00b20536e3a0bf105b1da225c590db6eb769f13db287dd557d02c04ce5247da78629885d67a25ec2895507a98d313f32b8cdd2ae2dfaa98591e24375a862a8dce9a01b51bb798544b830a2a82ba32709022633536ff9e90cdf0b78672d07e2a5d52253576cdea89f7a38e56494519eabb98c250958491afb6bc0c371e469d1f810233757c69e91685dc9459b010fb5d0b4c01f70a857083e051fee6aedbf27628318a464d7fa237c07607d35474a1948a91f36f73f5f2a23e468949b8ff9bcd8419aa3894e2202640a658d9615a42f73c88569b55fa539ea08bd1725918a98c81ed2fc5ad3c984ce30ab38e6b686b7e0f6c7fe4a9d46e4aca2ac2368d26ed00bdf17365a9c7fef01aad4c244a3fe85fdf6005ddadde05eec4fbfff57c2d6792ab6edb762ca9032f1d7999cdb8282f05942d96612461487dfb7490aaeee954313289a3671cbaa3f082ea8ade09597eed7536d6879092e4fec154251b49e3df0d61ee30ab7fd05d803145247638b272228c2d271243f2ce561300473f7484feb788c2fa5fa53490b023b21650ee09a0c7e3ebb575a17495dfb9fba983937a04a8fd3e5a13edb24d4dfe4656149dc41389acd52e15cd99566af3a15509cdad85e502f83671c6a7313bb5975d1c999ef43660b73fcdaacff4138e23c3013b42ed18e7b88cf4487ae205d30b9bf37f955649d4275743fd9a59ba82601918a062febb70d92fa948df9f761e22d809661f9219f1d76de4bb25eb688ad0fc73598b1f14b1040f6e81d8e1eef6e507652e144663c2a34edeaeadd27b7c8b7b20b28b7119c43c580510d81598286f10b314637d56ca7441eb30e056d966de42489347798dfa4adc0448c736bc89b6be7371258219c79f114b3d3adf11824203fa38e665ff9d4c8447a4834df3cabf7b9de3c9dfd0393d73aecd38d200d323440ac559dce17dc94e00e2bd10b2d5fd57d977abde877e07ad0048696ae3f79e9be5fe5ff56c34d5feb715daef8602bd8e75763911ed160d062c294655c91ab2f089f03d57ae6600525fe97dc25d97e57cfa39a035ea162c105445856a26ed9cefd261c611afa343c17e6fc2aca07b01f2c54f1f37f23345fdde18dadfdfdb125e190db9b334cd342efa5f0cb92f4fefd77f16d1c3018238c9b933372f6928e2d5216004caf0d61378a6a88fd68e5ab8e0d7ff106fbef01ae99d433be99d70906d28c9f219ad7d37cc0177377b8344159bce1fd19d497a8ac3330e1a40cc0986df3abb9a741740c8795a55405267620850bdf7ed5f2f9369f05035e07492754ed607f919f3ea6ac8219ce1770f0bdbf6a8a666128649bfc17cf5e9598dc7092aa595e222dfb3ea367c2abf33ff86f2e83c73214de6ee8cf7bf7d586cc7ab6aaf76653a3f1bb30b3c2e6743d7b6792edbc80852dcb0dded57e0fbc23601930d5829a7ac866b929ac4a0a62b3a2916375e26ceb499f91ac3c729bb9a5feff2e4b66b504e86f4c5517f951e868f8a882a5602b6c27601bd55c17cda9f4ee82455888a3210a852677ffa27db96ff4a15a11108455ad2094841c554c66aca4b44a692146492c1d8f9ec06a6e05f1a71cb9eae306ccb33317b51a0464a01f09cfe2477c832e6c31c3d26cb6187edbb0716efab5378c416e9bca1c9b12530ac8b7412f01e4634d67d8d991dffc262bc0ead4a547d8da805c85485d24e80dbe9e0c83cb2f8c15e6ef6d547d5bf7e4f8db6efbb216cc888ff6f5075f40c31a71a014949e98aa07023545a915baddf8dd5a63780eef4c64dac9f122e6e3349b03fd3ea4c2fd433ef67350fa88adea2011e24dc31445e4984969f261feae874359b9bd79708fc8ff8bd71cdbd74e7be655a35e244aaa9f6859378086e21f027974f9e75e545c59f937cedd7e678460553c3ad60541facb7139d67f167fadd27290e35e0b414b92514bdd14c82d114642cec9034467368e454869762b1962b2933429b59e013469fb61f653a2121930a3bbee500991d875892143dc30ef8b945eb4a40539e55a72c8f95e249200de69558fecbc94c920a19e747325633c71f4f407fd5c0f66305bebb78284d1b942a312b7c399342ed71fbe4054b88fd1b615a79e47d7d88df44a17b6508f75c9ecba3235796ac37892b73b2580f68cadc664b478f082d3db7b07c34acce6b8652364bd49b373e310a6c5765e5930cdc2cc48a4bcff8fee31c94b22641be80d85ad8ea443849be69d657b570c58b52fc2d6cb865e0137ae5ba8715d0b252b4acd9b28a0c68679607dac9640ea0932290573879f5c0fad4b1d500971149c04e9483658a64741c5f3fb3b25b12633bbe21938d08723a1243bcf87179acc3fb1793bd7e2a617e5cd548fbcaceeba3670dac84fd5c766d78ce23a1e4eceb52bc9d22790bc998510b261c94a01a11e6d0467f2bc56441d8eeb2cc58ee4644faa5962a5b287127b54baf702eb966332353835dd7881c0044102a2b81e1aa5b4b8a2ae16714ff9f0dcf47475d82a66d40c374885003ae07c9ff62a7a101d3564d91ec6e0a8c1e2e1b615d46b37c8be88cd04ab549d86dacf39738eeaaeba3d4c312e34f83973dc7a83f409b934d4d9fc6b4f1805363e21aa2980b6b005baf7d0d0e99a7457d6c1c183795053caa02851a9ed1fbd913245afbf23d4073b0d3231836d14ef968dcb3b35ac769660713f6747765d6e217af0eadea783b3142ce5a78cf9c1c9c95d520dc561c59a7b4afac158c38c6d9e6a28fde8ee6677ec8a4c8655fdaafa0ad21bf4ae5057479419ef8834cf21da5e6e9e76db27aab15b5e1ad8f5de829a2a449ecaf26237f5cbc8578eea2814d096cfa459edee6a846cd9de4efee77791699f3dba24a5116ed3c808abb5cd4d1337cb57a2b4a4c4711fe95d5414aa8f2a30f8b262973190d2651b641f0e454bacdbd1b3a289769dc42849b1a62b7fb1ce1588d331f0b1e64d13cbeb88ed690901959306cd946a1f4cd73072224a00d3bd32ca5e63f74bce471025133cd196b5dc47b5eebc8fff52648bef577cf70a59ab6a1eee4dc2dc162ef613ce58b261eb8d81440f7461bca10b65f3c4912f5c4136e05df78c90cca7c1e481c334d6bbf0e92bea6c2c8716b77e5cb86bf5c48f6ee68fed0c71e3ef8a7a7631dc46873b839004d3cc670251bf7d7a3101f354c7426028c41bb7545e89e2c259d9cff63a7ead60e7b28570a787fc6061a3fb48c950828b52696c8b6240f479be6d682dcc15ea241134c4cc7d754a3fef1110bc688a8eb334f6a476066395a5d082a39b76c3179472112364f6742a56a300130d83f3aaa374c88e8e7cbf097ac4d8e237f818ad080978b1af8b43aac5994b0f1afb67bac6271bfa3efe69e167b7bcc13acf257f7e75d40ba6508cc182ddbd76f04a6fe19a4c1ed1994da013f18a5f916d17ee1bfa00639d2a717598e90e0762f07a9b3fdffb5649c7020fa56c4fabfa2676f3c718512992bc50f6b955a0d39fb78e38a958834752f879c5d62b4a2b700fc66ca0243c0431369ad34c4c280d3f07a155c64f9e186ee1ef7bd0e3d2c350aca807ec3170f00e08b6b08ff9bb5746b1315f5c106aeef7f3b890795213f7d3b1819c6ec76b14cea2b62c13dc8d2a95033dd6551e96940ee6f3a2039268557e72148a5731eb8221a839f41001f9fd9f61596b3f561baec502375f4fb9ce2c51b7f82c2043582f891243bfd2ed4c924c78e74e4531909d0654ca292bf2de7ccd40e36abcd325ac5c83814e566ede21a64c9ed2072557a7e5b4e410606840cd46ce6e7e7fbf4ec2fa8ecdb97da82d4063c01b8a479896d92e5f652c878152095eedfebc3498bb457eec90bb1d0d957da8c3c3039e7d498c0b7a0a06465a1ea3f1ef898862f4eca01bbd10691bc92154812d1bf1e0181b46e87feee79c1c1897d2daec4dec7fe411930248576dd246b960e34f5d06aa4d3e8c0b25254648feab6d544b0685d1e61f94f363d8e7e49808f434bda1fd9713e4823b3c1f6dd96848ced153cd0cc98e85a808b2507ed320995c75001bfbb41ad5a2e9ca7a89c850846d5541fdbbf2f54e3070b94567061718cdf1f5de24f0e1fbe8699b69c8eeb4d2e5d8a6b51c0142a4202b9305cef5f8249cef112038c1a96da4a3e66c780e10ad4aad167fe2a108ccc6d38937614dc08fe1225d3d5519abe1d6d194f3755667f7ab680f5bae96663ed94e07d684fe0bafdc6029adf484118f247541dc6e5c1902c374778a6f2e4f09f387baf36227420e090705881192d7daf11cbf6c575f76fe519119217d88437e8648e47e35e25dbe923a6236dc2542cfb11a6223126e932227eb90c704575026ce9ad72b62f7ada932a296d6d0e689457174b884d146529e97648d6379731f830be39e040386c66c5b014b134787f7a35c5d193d772e8494d8537f7a8ba460366a9bb2152aed052e2bab2098e91229db368a6a746cce2cede5e59ddaf021eece0cc4a0ec48ea05a9c66c9a4b74cd00a8f1dda7ef7cd4c4a8443bff5b628e7375fc6b96e279fada0992ec6c546d3382a3c962f3986ffb7e7ec0743c93c83c0fa88e9ace9a59bb7028603fb1419be6663b53c68bc19cd757731f64457a5d14230ba24e49f46553e05d8b699040ab5d9f703b2e563d439200590273640fb8edba30be908088922bebf7a264569a3f070987726d3485c3427d443ae1e2b99e4a780ad2c20e8dcc451c69b960bcceddbdbacd45f4eba0482daaf9a846517bbe9fed5535e2ea93f8bfaf9ebd993601a92e6665c89680e67d856c18fc638ded8695e8436d3bf60d942cb67bd0657bc0b068521e70d7647d0aed63355f9c52ba9b6f9cde5e3dc406f6dd05a4825cf88e7e4957ff4b89e5fdc49ede0c0714299616486d5ff641a3c3586a30fd31fdc153b264cbd0899320307fb81658f101da6c72a3a89527ba62791bd6ea86821790f4ec7ce62972641c0c596ed5273023dc24327f6a2eeffd0744e3610f46c276cd5cdfad376c5d9d75a31f177a2a6231ee3ca010cb2dea88c9700863316ed030e17e1efa3fa1e33c8a553ef7ee67489df57c98515cbd048360070db07d5b2264849430add988934ff89e1fdc5052b1b30b4547b89f69d766d8c7897a164a96e2e367b771ae9b91729a8a1e31225224059baf3edaa79a8b72c4546ac87dc2a24c3a6102ec1da063334ce505d3a1da3bb7dd3be74ac7deb683f95c9b706c84ac3f3d454edb2ba3b9a565a5cfd2c1200d12adb1ae2dc23bf05452ee1dbc21b422e4635b3e9ad688298ebe3129b498977a98ad214c112832e7e9aa6a985750adf56c7ef9fd5789447c7a6e16c62b979560d89b8574ef43309be81c6afeead0ef57376477450b0a57384ee0f92a2024de94be341d7c810322382d8edc1832d5f3942069fded98eecf94f96a1e9f31f7517b95cd18171130e637b72315bed91b8f0ac36ae9712eee7aa40f55be4bc505ca84f7ebee100a001592c7b0472fac0c6f65578533602ce34e44692b959ce5f2af12313ad6808c98065d11d2390b028378d366299299141e3da4ee02b79f2f4919acecaacdeb509893e48f76d9f7397a2e2de4649681081eb40b4a6f544c39c19cd6451688150d97de7b83fecd8d8204c3d4c05f151d338331c88085ad72cfd7979e5cd67fa83af0b96e911825d5d8622ea6697fe03a35f42f97d25d1515981df6d2ffe8f0aceba52ad6ab1a56e206b3ffd00ea6f74f1e8357865169a69be22bd3e1eb1296e1f269861677bada0f4ab48b07d03d142434cee9f61fcd8aa9cc43322c49a0fd78dab4458fa6577d7d0f218e2e04da78eb875a5c8c66e9b7ff3b8b500465981ef286bb6529c17d0aa248ca99c6e81fb8489c50bbfc1554c0d1c4490c0431c2b62c7c207953740dbab1c8638fd3d05bbe65e5256e00dcff94b904cb72cc7c03830e3adb01f14582097936db24108d143ac05c64046078082c549fd561d357af36c3d55f9015387f5178ed90d38c96f56607c5a83fb30b254b2e5250ccdd11e1ec3aea4d1799354fb4cf6668644db076896e691bfd35bc7a60259537d6799ee5118f4dfac9fd0699297afeb57e537efce910761e83252a5558c557f04d4858681d9db45eae19d4cac0f38a3a87910cb71f92fdeebf35bab22084a1bb0b4b4df094ca47353fccbef4de858bf3d18bbd433df36f23559a5c2edc29e76b30b096b469fc9a73966fefa8a1a4616bfd674d285924b6317396ea3477c04fc3dbd873503a627995d6006e7ca5c8d92be8411bc2c309c461f1657d5ceb0c9516b97608d9d05a97a879b3f85399ef855b2ddd7a9f699bff85065ba2dbeca640ddb1c647c9bed3b16551d8493fcee8ef4054c09e685ed1036a3eff098295feb61fa9e5386e2e4cd7102690ad4d207da2d33822dd109094b24c72e34f287310d4feac52c7da1a89bd964437ec9c556555e9c894d567616b3955612b359c0cf3a31261ec48fd3d629146de21c72802b42960ebb9578bd75f20aac0079752912fc7e43196674ea2b108a09066678cf48b344d7f044b61cefc0337e074a18b84bf60447d2047d79b6171dee66102767a727548de71235ca97a3537f413f27ce1cf9c8c926fa600fbf7b74982b4c8c9982305732dd6966691ebb53adbdb3f94aaa5fe111393ba7cfa71","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
