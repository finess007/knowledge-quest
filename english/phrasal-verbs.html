<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"77d2ec45fadfddc77a7f0bd450d1a4cd6ccffc0b46f8e268f9a1cb626bf6fb77d1003aa0858c97b876b3a7ee37c4edc836c90e18930b51563970227f8882d0dfeea1f08dd987641f371eb4bbeaaace0b0f374a7cdb4dfc0c18ba05e3210ba3cd3f4652c973737699885bee4f64f6d742903bbc31c73a6a5f57da61e12e35ccd5fd2c149a29119cd37cec0dec0e7ad00ea90d69337b20543ad1fd355e053f6fdc8deac7c920c8c653068fbff19a36f3f93d853eeae2b5ddbc0e15cf9190026c1918afa180da3e85f69850d8dc2c010602fc5bc213a6496e5647a37e7ff1d84d379f64970b68f8ef89a4ae7237aa52623aa86557fc94d56425fcfbe2239836fd4406f870774106d740318ac107d73c528e8bfab7f21911368ef6a9f45704054df673ea51ab815d14e67077c4223a866cb6941e154fba80cc32905dce197fc2063e304e03a4a0cdebfb9ac0fd894ea827c49c8b1db3b245063a4ce4584f1f9c824ffb1c28290e53888a3d355af7b9d4e674aad4fa9ce92797a006fa647bdb0e36e831c9fb6c803aae47854605f458ce4e2cee91a01991874d757cd35c5c51fa72534078b53558969c9bf5e1d3c64e6b53bc12a45586afba4a09da1b84ae04f48c891819cc0a7e5ac6026657a89973f89ade8ab35a620023478facc3a25b5441fd8b70222488e54e5d47b8f314741b14a815a86de982eebc370cde7cb8ea07ecad857d4e15d015e7d0b4d370ebfab4c3f3d50095518d7701c8a7790ed5fa6642590fbbc325694b0def897f45fee489badaf2b1e0c32402eafe3b9d5923f2a6cc0b06bd9de949cc8b02b8564a40c14c95597fe92dfde0ba17229a6e88b15f40b33c148ece106650605bda34301fd11ffb14d654fb828fa9bcf8cf3ed9106450d7c328ba6b79f7366d036d3b97b489599ae642862e01f6de627c32442346f74a7392a8aebc6a46aa5888ab4cdab547f1dc38e0dc955483832cbc40068c7937512a93c87f18b825c9e92143d4bad06794901ae81456fd68e1ab100b43fb115b578d107feffca0a25e8d828a21e7bb813e29b0dd53289444c7131f20b296cd17a297a5f81b2209124893c80313ea67ca06838184dd141a32da03ba7d4df7ea007f08a4c1621e0c22f03d73b5ccc55e7631ee02a1af37c415fdbbcee0c3fd432a624067f31d076c2c59afdeff3065b19fa64b1d56e858018e46eef0a76ed97fa2d3016b4834574f84f38ae32f27f4fc8c88b472ddccb45182f1eccc08a3117534c6051e63825665abbea5c8f007759a34014dea22d66a81145065c0bc87a61aafd7ca1e3174fb2bc17cd412c2ed1082ba351c0235d76d848bd7902338bb421eee1463afc8cc7acd3afe01991d8dedeb99d8a4fda3c398831ba091e6ae6e7dcde184832865a46288693d153eefd970463d956f92c63da389c2fbf7496f85eee8e949f45c281cf9329a4ad45c4f2d7f95442a548508e8046c366d25a528365354a0da4d62752bfc1d8a8dd13e5c2e57b06576d1be23440ac78c48b54758840c98a45072dbc7ac7af0dfbecabc80397d091520477fd8f89c5d5c848c29f60879acb4e4c1329ea9db2c1583b920ddd49c51d8255b6057da82992d9eb92bcfee2128b1af7a6bfc91dc2fef630751c832b5764fb35c5415dfe46851a4db626744e76b8eec45489df1c12537368a0abaf89a8699685dc0039b622617871dd3dec1ccea29f67941997d366de8c74897346312c2d2ed6cc1ecd8844225bead40601cca2ca2c93f4de8ed713de7a95a778eccf412c7d6598b160434b46d69888d4f097aa3c2d07dd6d2964a92c60b50d4a7fb80b5621c8a3863e0eb7ed97e8fd277bc7a487c51647896de6c1f2ebba83cc65f05846e6787114569e9a828fb296c47a3b63a294c122d152c1843392ae4be14e2bd18f96bdbd4d9b64576fe9e2876d7b5d57057e607a25acd35e533f39ab88676f8303cdad0ec70f8330240b18f7a194c588238a174c12208b9864e040c9f38c9713ab39eb06a79bee56cdb3e28731b7c4035766da5158a55378c47405d6c96d0c64655e0e385f85ae216101bc12dedd0ec15d731e3e1c8ded5fef804e3866a6b60d3e4a65b2061f51071f8452b0f0f66e13b7d85152272c603e363551ea2beaf09a1571aca71013369417c18a80a71e2154f12dae6fe15c620a9e8965a624660c0ba8e07b9f82dae5e320aa4fa044b7b96ab238de937db6cdd960c9776dad265f2ba6e3942d15457cd21eccadd50f0c30129a2fcf5b119d78776144676a1acbe3a93e38fcfa04e953d41d0feabc6dec8387001179cfa7e516fc7176ade85b7351a9117ceba76cbfdb5cd7061ba6616e4f997f3f7fc3a804403186763ab9ee6af7a04c92d1356eb09e63f7e7e4713aab5aaa58aa2db47ec4ea12cbcb665c519dfc6cca734fed1c178c5f95d3a1bf7c61338572b5901e6ebcb2575ec504cff3279130f9702e19da189fa999479e84866b8fcb2e511ec52e1489538a185eac1e1237a7c29c7b6c4c5cc96e736ef433977ad25e2ad8dd72bb603f91dd59ab372e46967280d0a0d5a55354154954b421c8e17595cec5bd3c9afd06702de2118798326984ee698a4d7299f211329aa6a6bd6f92565cf2a249378e6cb32b5c762e53934715243fa571c20a3f5fd7861b1585f20c93413b670b9adf2fce47f2bcb38849b9524f3b3aa83164fb25a01b7f95bd5cd91141239d6ea2b572e096e2036eb704aaeecc7493595f36aa6e3ec50b5ab8b3bcede6093f95814b85ecc185147bf58d51d63fad1193048964cf9e1856a772bf4601e9bcdddbb981f791e32be70c6642301044e60e73f09850641abdc1ff6b85ded53a8905aa5392764ae3ffd0ceb4b3c6f80cb95e4652b44c9fdc8fa1bc0ad2043b05e441bc332554fe2cce681bf6c719494a7575e1ddfba28a71a4edca032c7d2250b45cc29ea4ccbb63d516f4a5554000d8e08f2ccf625977f9318933758cfddf4cd5ee77c811e9cbfc86445ae1729a679f4078e9e3b5cfadaa2228c0456308f6594373bbcffe92d4e21eba098d079568cba67fe168691226f3770187df6e5d679ea5dae276f2f4376f0762fe89ef8f5dc2d095c0fbed4ba95faefe702f28b4640c7140c2e3fcc539bdc75ef3bd22f149abc909426d16b538734491354d2e6361ae4e45955573fdcd55987ae938ad2f64a62f6c3d8e077756ecb7e5d3500a7b3db5574159563c878fcf75c5cf636e8d77fe5815c7c319e98fdc1432282303e29d10452c8f2a0f7f73fe5547cd30578bddf530e10f856c2781f85efa324b2fa8567b79bdb3408a224ebeb03a371921b70011219c73475de32379934c0f9b75068aa5e58b9688c99a9b0223e8e2f35b73b7cb54758b617a1d35389e97a86ec011449632c64d02ad362c8f70a7205d4a5f2e2be2b64d660f02f2e9c92d2b067c23f3f6b69b34b4898e7ed74303f0eeab92e9d466ba3c1ad79ed4581ebdf7fe4e8dd72db5ce3212b1ebf203e6af73746c6259c1eda296e11b085a0555d86c4a3bc86852b3e769cf7ef0975b2558950368a2779f0e8e242d01b1cc1768efa6a6eb1b27b65b22c035be43bcd01f576d776f7d51a990531e7941321e165602cbfdd24858291436f8cd62be86aaf5b4bd87196c1e4b8a61f457e40aaea17997694a1fd8a332a811681b833096fabfcd33b5118d95e0320f982e6ccf726b41b4d975f06590d8ef23d48e9618519c2924465bea795548916d4e090bd6f2c783fb9ca706b09f4ee4055c8ce5f34292c56d2dd569c8854f6769f10e8d0ca610b427ff6d19979889be4718792447c5d50c21603bf4161ad18760dab8f85fe04f3c8799c2fff13c715aaf0c42ca5502ec4abd3d0c44297adf8fd9b833a7e52c90a4895b6491b18dc2659ea6553aa903f4f0c156cb082902641a2dcab340b012ce885dc2f69ac4dd446446db7052901cd304de75ba523bfb16526ecb3b51a58847a00e0870c65c2736de84f80092292a0cf967986e4457c26b8560e818991ffc3a55219f1a0d6624fe8fe0fd2a3156a9a811aeac83aa51214ad2168cd3f20c443318c2b295f97214a3904d7833ae90fe0e3cf72e5a98d87889ffe518f3f350800f7b3f2e2f535fb4aaf1701a91283a6db7c6972140b6331e5ca1d086f80716f9de401081fdcc9a44575551079747810902f78b41050cf3291fa87a39b58bb7d8d647d4fdf8633fb3f1f01808ed51b09c4f2c74feb082aec4d1dfba71e3d0f473f0a80e2fcf5e8120135b53ac5bab37bdc40f8c91243ef7ae6a1a928c752786f419f824df695f1108cb52c42834b69391b83f1acb8c53b35c280342b78403c6cdfac35bbface7455888e4fd06650be7bc0ae9779c893f9ba273c828a959243116643ad7c57f93e6bb7fa0898c948f20164a482bb933fb898bd092a2e0d4940ecc009f1f9b2c07182c6c33fffd4f1f534346921871d0f88949a1bd31b3e02bb2099f2eb46645209665c8331643b3c7aa304f959f8f0753321d373121ded00c51f34ab087c0f9e21cadf81f7d5527ce5e9105400896c0de42263785cdc4dea9fca078c01e850b4f21a474f3b843636986948de3468058fb8cd77c67513ef23f34c09dd19d2b3d5d3fad92f0e74540b3e0fe353a6bc18c051698408e34ba77c74d38094369ee18215ced4eb2f7073283c72e042a33e7b40eb323a16b585eb0e228b1b5e05dde86049503431cd3c8dc8bd98530b026a009917e15c3d0fa259356d5653302c1a62f37110b5a7bf4caa118379f9106378ff77481544c854896f69c5f678ec62a619b098925c97981a92fae9db8e558f23dae7e9494b19762e5ed1d0bfe0a73c5d627a993b5c65454fdefd310cc07216bced68d595eaf1c53ba92c3e7feca70f3decf25af6eafa86c21592c3b7b1881b9549ca3e90b95cb606e9dde362a8a879390fe5939e24a464d5f24e7c4340ab3c4418a0f25cf21fde9a00f5674e670c07b3317dcc10e863e32d456c1abfab5959eec20106610592d32c51db22a3a4f6c7f332f0d7cf3cfe47c83afa488d716476499fe107492252d383ff76bd329e4568f986bdaf760fa9415868809cf1d7385b35c32e0210554318e527f8e6f08796b9b0a07e8b8b95154b18c445a3e9c1dd473a343615400b9f79c89ec468f29ba4e708087cffafc569c475f2f18d1aeb6fa5cfaa2a166d454a8b075f5e97b8c499d0cdc36432fcd86ca1eee63edd3a5bb64da576fe005654d8bc0224474cce67ff977089760d30ea075eaed94301fa37c6ff370cac4d1f2f9735d939bae9e3747ee2efa83ab71b4be96c478a9fd5ea540cf5dca52868433dddc52ad8c5701372b5326d7d065a278143871ff7fe5e82e80faefc6b3b6fe13e876a4cd847601f1a52b9ec601fdb0384376e2e2e010c493385359f688a747906835322016a26c619f59505a6531c2898d19e7c48d9c3249ef241ea834769b96f9755cf614b8bdfc30ebefac881854a87d8770cbd8d6e62836917628aaded5d939dc4bb61798d75ec9f67ccef69debbc9dc54da0cc08c261cf6d05c56262479115479b56442c1be282a74ab918c378c3da1f109086ffbd2a5f51e32e6157746b1e821e16f77cfa4da2d80d2c58c3ed1ad4c91e025b21ffc76ba2c8099d1dd6e084f1488062befd2e88cc336474a60eeaea0140965c8cab7ae4f544d48ffc681f5ed4d6feb6cd70669ab7ebd53fbfdceee5cff7e64276a102832440087b757338a28c87676c7e95605bf23de83d75b477b545c8c8cc0dc5a434962084b6d45cf4f3ac5fa6ba9a17219be56b1537ef68af468d597fc41911beab9c99ad194c4b281bf792f5d90764399376ec11b654198f94fc5057957e78bcb08409582f43f87a4a1d01e951bcb5b1f09c0a0230ab736c2e50d1c8a3fbe1a1e03c4b18c9eae1284566e7a25815f579d7c79818a8b8156bdc5a424a48534a6f93139a3b9c70a23cb88b40f38f2d0d97ba20741ff4a163917c928c399aeb37d5c715603a6353168cb9ca86f11a3984041275cb095929b7d9c440335ebf71f2fb98fac696cf75e269960645115f3ede372aaf1786994dd6bdd7178268fc5e6c1d4c8887e5351a67c36ce4956788ec2f1b6367440176614ce9582642e68e31f12568280b7f933a962bed20bf369ef070fd34b9704077b929e45428a406acfb6dcf7235485f195da27acd81f7b22724b1c534c6fb5743fc3adcc38d50db7ff0bea237d9c111b4160de404f346252754076cddd980055a3f5beb6d0274c701718b91c064aab549b0706f90417da13c7baa4f0ff9cb1dd193c0a99f51eed04b96536c55e06fee2f12f50967d4657d23a600f293543e06a615f5e8c9d2d941755dd730026a6147a6c52efa472c9983185cf7bcf6e7e66cd0148657a357eb2112f23f28d68ccdc3aafbfa5a46535fd9d4f8b65a47ca0bd4dfb956d9de6e3e69e94a2f879d75800ec0694cd346d2978b264eef4a55d712f1712d636891489ffcfd5bdcc7f8687fc8ba6975db99fc1b741df3ebea6b7f1d9c261f559eb2726494d88d1ea58f2ccd63c57c427898aa32999fd0a6cd43caed39bb0fa2cfe26faf173d2e2f86efc1fb2e5a480176dc71ce5bc8ca837820cb555071a5157289f928ec656568e89c09ab82c81aba2e2405d54df4411529ac4ba2a21bb879029a1ec9b25e5bf824302b0d19b3a1f5cba97ee599548c991b8f5516097556c5018d600dc96ae3c6f60f5c9a22854256916f08b12ec622551e632409a924866884ac046ff2ea947af3088c16fe195c4074acbc01b253ff0789b9b0101f4cba20952de6ec3425911bd42c0d2a73e1a48e0afa9345a4cedae0ad97307820b4dc769988773f5af3c372b61a0b90bb6e7d2e754da246f981d082d0806c52639124190c31bc677eeb6d0cb99d39a4fadd39a3f88425a31cdc6eb62334235634153f6dd524584f0a9691a94a214ab26b54c40a260b5dd6401fb4a0abe9dc42cf4aace0cde53e06857be2f7866c0a5736e755d6017dd8679585be9c95ad3980b170e11485f381581892c267e4ca7fc3aa980b6049a732ec8290d5b2798ce10608a8e7491de751ec9bc303a30240720806325534a71dcfee5b7e6f9b73ca6d8ef3ee7d717d5149df0e3a71766c6de74ed59a2dbcb6906ef6e78c5e26e07401862398a26ac24c8ccb54c11c3d1a5cc95a8260b22fa76e86f90cd2963be730dc2461f26e2a814805c5ca2e58e000887e01a1377516d27ad3eb03a9f898d4aac11d0e40e6897ee5ad5279b90b8b776c26e507bd110e5ebb21e75d6fd44e1b6c9acb3ffcc205f0dbe9a01756730f1d412f97941c9346b3a22c9d93be2840c40fdcfa4a5f4b1b53e15ea1b2d8cdb1afee895bfded2facee8ebda20ae9bd7701a5a41bee283fe54051418e7d0e268f25681c364242942d794c6ea31eff0f40dfc8dec39a20e6e9699de55c293898ec5c41da242ac77c168b5b2fda1f49f7896061bbfbbfb1fbdf615bacf6ce01184860069354a80b31070cc77d71f65cdf5218aa8f78d94d919798c4b04f34c178853d004ecac1eb5ed9f07b6e818c0ac2efd99107d76879346d1ec8aaf63278cb1579c37bced0d6aba4488b8736d1e0713ac4343f758d1e36072c95f9a1b6f8766ef0bf5c432871ab7ddfd99b33a9e6ded3512eedc4e2856643497d2cb0e51f43adf5855a185649665772090930feeacdf05c7be4ff2f62b84e203bcadbb94051f71987fbc6e95cf3090e19c5527b57616d11bf5cba09059f27b471992a9105847f7d87026e27757cee040c0f12f49b83039263f8d558709e0ed08f756015382de7cc11a9670dcbe72cc4621f5eb88c9987cd24dee2db6062b76345f166c5d6e1b87b647807988ffe921177e4a2a6c71583a8836b95defc56b0dd563708241c783ee10bd1912263b8ac70b5fbfe0025a527bfd11b1420b0e7f449d09a4c9e05a00e061539d0447592891bab282c92d9b3f359576f4763ca261018f2807dab70ce8e89ca11be8ad3c0d9d166f660694d1be35c907f0a5c7f517e11fd7ea8b3cf4a552d008a09ba209af2133a31e118992618dc2b0b8d2e46716013ad8138c125a3121fda469d2ff007e8b14763584f4e269afe8efcb1cd67f3d436c3b2c5dca4397e0af5dbf06e176952f3bcc209958b6d08062bd8006a4617a7ce95d9aa922435fbc0d6014490933c3e507230713885ee948527a8ba2d668c8052033ef7791cf3faa85e3040db4e7778cc40e17e7204874ac7d098a8181b827e6d1f75c104185f72d2acbec27410fca433530be898ca30df6c314646d697276efa13877347eff8acb0db69692d3424356fc64de4aa56f8e095b2b7c240c217d27410476d0d566b152e063bfb0d1e20bcf6fd66eab5b6386ab8d397f66a8ce3799c5bc5f61aa97b5bb7bd6ebe1d7c2e80aa51c2e350bef939485d1cddbaa62cfe98c3b57118096a80af14bb8849980cd331888f754fc524543730c7eeb824c6f2cabc93b9204ecdbb3fd6e97b5c8fa6a374704d53c33aaaef05babdc14f6f2a8cbe1be5398871f396d1e9588e82385a92d0c10ce980b42cdcf207820ff3d2338ed74783826d64331f0d5bd1b5c1bbf6e382e5df176ff04a8dd564fe959ebf969bc20f5a67c02cf87f91e98536c8936916d274f9b3a233159a8049a729e7e1404e904ac2f39d02a80221b444f1b75cbd0fe285fb9837abf19a235809acb0029172946b15036ffa7a6b72239c2459562e4e11ebd73d995e13e7ac1c7c5d6b3f24b33f8666ee134a301c58d0a4be06303bd2a6ca43dcb9f46cc21f45a7dc4a31ab986849fcdf2d83e93f2245ddbded7c9c7cd023dbf759cd53764bc03a7cc6e2b5238476897057d98b9b6dbe66f254db7ba352e9bc5db8f90acb9eccb9edc10709c1b458c50cac97e4976b60398f5698efd6d72d712c4574a4a2127a3d1bd14503222069b9f56e69b1638587e8f33fc45be4c367573e22d526eb905e6bcd312b643d177d16302fe847873e45c07a6fd453e9fdf8c3155038ae687a0c200517033f5f19efa3e7b8615725c155b304bd4ff3c8f5405b159985b05a90549a9afa58b235022875d90348caa93272d1e81c62683b56119e5a512e4e866de0391c4e2adaaba259b2dd7d4bedb03b015dda346e3f55d41ceedde070800d4074ad8fb26f0c6afedf67ef59ab81674933c4c46311f64a9622f18682f66f857031aaf7f9fc070ac25c5ae0b367e9cb26b5ecfd446dac96dcae4953f1fc4b787d9bc00c4d692b471a40ff07c608a363a6302eb4a4346f45f097136e108bddac64701fdb98e54a21e9bb68fbde3e55a5cce03acc816ac05f4d043cae64259755c31e5ae84c3c50d82707d6bff89dd19c22fb4c0c93d02ff24c5dbc4a6f6d601fcae218dcb532e2ea55d48af1885ecfeff764defce675a51eb225ecb01ca8830ab917fb17db17d4d11fdf8bd89a2160ce04f4796f8461d5e61022d97d90406acd43f5f9115d88613f17a6087212da222a29c21f5a13f42e1d03cefdf7b086acba05eff4a6b7a37cd1d469fb2d6a672ade06d4454284e160c3ce9cbc6dc46c8050f38284845049aeff2a1c360b8e50fc4190337fcf10146cee3d0a67a88b3f914ab8982af1ecb1fbcaca772ee81732ab347ca999560df20afe06da209a159a29d1f2b56bdf2ddcb768f147a1546c628119d5e8700b22c648bbe4e1290c899a0254eeb1dfb955677717ebd40b5c2baa84fbc1e8d464e16ddea3d4a1a63089540fa1de389e13ac38cb861d98ffdb48bbea5df5ecef32714b291d1e013795cc9c9ada598b2f7f20fc9dfe4c487e34312613afa2911b84663cab4d51a4d833dc43a2d040b40586a6f846f32a74774995036b4bb5c3e3a1e72a5b114607532595ae47d03fb5ae605049375c80273fb7e4b58e160cd33dcff5e4ea6488be7455b368ee51508a320fccb63975afe05a5ac1e6fbf43e967658080be7e2db2d193b57746dcbae7e337ed6ef0f9f7a6fddd1c83eb98c5182a4df3c8360a7646349abe3c5a3dd0749f489938cd792d9594ec99a13b97c0eb5133bfadfa93c87a7074e67e7fd776dab9c83b7a6ea894073f05057ba8aea8881d3c2cc986babf611bdefafcff90b104e36671a0a5e5c47dbcfb6f4ade8702d39b883852ab61c9204f9fb763cfa8019ab424fa1bb2a45de46d0068552692671e8a386161d04c4ab8a99c0787179e38fc5a5fb09b095116e018bc576ce4ee8cd7badb43d0010caaa9c1f34fa4180bcebce7f84500504b0f130a2dd0f3b4626d99fd7b88fd501b3b954e044c67c113cd4c491a8e51403e3bf8a3d188e049da44bbfd5c5a0b42410d80a8071c3f34bf216825dc081931bdbe0d7befe8565f4cf0013ed8f8981d500431c532a0d495ce5cc316e8af7ac3cb0b4e7de67ad933b538e7cf1c5b517b6d7335297938c998458afb3085cb4d23c5d1c424b2303844e66128fd58c4fd34eedf540d530ba8c3c25970f4a89c3c72219718b20995417477f97d9dab30ef4dbb55d55762d9c9a6484515b85826a2863923cc94aac6ad3a505d00c3a229c1ca8c2f2e72d5501d15aa8b2717094471341c4f642ce1d5138cc69e534fd75be8657159a885ae3364575875e77d0578f0691838d8d4535d7ee4f0ca1f258002625c8b9ea8f7d5f15cb421078ba8670c52e75ab69c8a44c0de920ecd56cb2600275db6e7899adbca8a355dc0fef4a51b4c85c0c4e1f7a2ff24ecbf12feb3ec37c2b400b547ecb88516dc2383cb8aac12e5ed1941b304b0eeaf6a2ec629633c498ba68856b60f2e702a778ade3d00c433cd395b48becf8d189b662b359c0b251bd6467e599324be4aab6c4beea99e3fd78c7d326f1aaa0bac5bfe7108451924fac7daeb277de1bb4f7161f714d106e183dca3a7f578ead82752d6f08a7eeaca85291fdef2eca3eb048686aca59f503c5a8f3c57e65c2162f889e72067a8369725f9bc06df41b49bd328f8f16573ac87c4ea563cea062668198600b5728ee21c9b5030f065e6251d0870daf069c6e2899091e5b772c4fb8ea2d3e240e0cc21d21590547309f24fa09180177711a6cba47cfc2e9ef4a1e077025dd14797e06787c5333dc42508d4708fd4f468b25a411953c8d30462b1064c84e25382829d34d4115dc62b70f684c72b21d1609a1bd016c065b5118a227e5ab960163ff7faba8a5f765461e9d1bb4012c1d6283503f613f364823776bbfcf8f77f88be5e52babe96ca6fb76f665a71f772cf955008bbdafd20f799babf73fc6abf795e78a672773cd5f1243644433368babed6fcd39e34ea3f32d2479c3bc249940e3025f85ddde50ec93916155d04bfb29843519653e459db09505af4ed1d6ebc40bad68cb8be547e05bbca7c7a0eb0a9d96e22143910843cf4531534c24b0fdd14b6a343d2618ec55abe5570b68ca859ac32b737042be854374f3bb86c98451f4c9bcd07a5381f4d72030cff33aba32c7896bd69e2ec38db72fe4267c90dd3de785e60e531f5bfab2b75acfa39e78d4b33cbfe43e94ffac024c00ba8177ee3fcb1368cf42feaea51ceb7fb649ca10eede6a2622847533664cbc6cb1992aa64b8b59d238dd2318ed0ae2d916b837cf877e245b7f743c78341a8de3a6c075b31ddb54ad8fe514a7264396226c138c1086154ae1427c02ce7a471fb242398dcf6af1e9753af6b28382fb98f5fcc819f2f0050a3fb29e72f504520d73651110e05a27f9e723f74e0c7ca2571f2ab6ef0ed661f962fe0d84fe81c788f63519dd3a09ff51fe0e3ea624a9cb9fb1a54c13dc34fa851aed5634c0127bd6af1419bfb9fb5f76461e71e20f14e7891ae3e8832479223d15aa5c7ebc178f0995d6116798fcdb8760930ca12f2431d53c327f35038a98bd3eb0ac13e5ceac8fda28711495168df21f6207dabdd8d43818d29955da5619cb511a58f5954f843b0cb46c7e72bcb54e681bd605a6bafcfe4b42659a7a8919e7e1d2bf454424fe86351c871b1d3db544299b565f331c9e1aee2ad7c1fee39b445b1153c94c0806ca17b448dcf2465dd64271760d932d938bfbe6741795428fc937570f7f6863014174d3bfaeb67be803758e110c1eb85587559b00caa319bdb94b3dec7fbd5b34058e862779c0649b71786f2a339ef468bd0cf2f5bf00343e1ec485fa68008ad4a96cc8ed323821b8c91b836641b91970b26a437afb18df0efb1d1b1230d0716be4c8b52ce9e993db6b2e2044beced9bb83642fab48b2ba59828da9604ac31701d7337047b656bf26d0c248dbc45f963f1be8bd64c4b2a819608c3765f7dddd7a892d3529740ef9978bbba8d5c38436cc2c97c66f8c64d12bea6d0c6b9ecaf0047852bdc8481e8001eb1ddc27fc928b4c0d8bb5d3eabdd4bd0c45f994c75540387bb6a24c43b1dd97f7d17a5dd12bc58aa3882ee866f84b2e3237c1b7ada4d19e390725a9999ce74a01a62ba8d495fee2be4603d255bfbc9499fbf05937d38f6dd3de39fa3c6f4ed45095b883b159556b697b76ab0d5f67a21f658abeedb77f5c83c50e158aaf57f4ac9f3eff42c285449e78358768a6fa9e236dd4e5d1adb0ac62d5e605f7fa8db0044850acb3b61454884f1c2c6b248b9a2d1f2472cb67842b2a40ae25867fb26214b442d4e746087ae8dbb910d248e8c5a53d16fab05fb02f42c7cb6f87fe65f0725211851660b582364483dd8bfe10ff9148bc74d23f4492ec1191189142be672d570ca85d1c3d85db8a717f7c16717a42f1bc056030ce79cfabf1b1daf69e50b1a0724e8373f3454145a8360835ec6e295c2ff383e80478393bf9c4a1e694adc2d631b68778285dc8ebe82bcdd01651d71971a4daea6ac07060c45416f2258d052d8a161939d9f728f2f8f07d3a436cd5aaa2da9809689fdcc899305f5965f92bd7c26e37749fe9475c4c8546ab23fff548976bb6ce8b78816ea136eeea3eef6788cd5c1d2263afff6be6200e7c6ff76f3dc648c79b039da281dcd10641e50f9c5d2752fd9eac4dac59e5df9d54b7777e3bb3e50a80736f95a333d76ccdf6cc83358eaa93e8b5a0821be5db45a10e149539da2b965e9ac53103f5599867da27cb1fd2ee3efb358a695f9b82ce1b28b4d5128e2b47a3aebdc0c4421ac07431ecfe4b5db1d0b946b6cd72a30910a1de5a30ba5cee1209919a0e23744a2ef4c0763d7d6135fcce265b195862da7771c65e2f102c2dec36b4e414f858d015902d74bc093c3ab86707baa46d5fff08953ce434145cfc4665ebc953d7db345887d5f529c2c6df7e5a449726cabadddae0614f6295da6c66587a5cded8201f7ef5fd292053fdf90dad8bf22b8134fa0395b0f1e31dc0df68feada2c48bdaa6a8c9b2f93a3242aad5426e81ef7ab628a7674df83b4967a04d23b0fb7e01e5733a256b87e9982e8687cbb196e44d75f14a4320955f969501a7257e9d9d84c38d7126cc27c524bc47c25f7a4e295e8ed65e01b816f88f7faeaaa54b89a7b0aa083f97ea694dc8cee3c0bb4b0cce93a8dd90df4b533201bfc3c97f410f1fea9948bc9ccdfa15172bdc95cb070c8781eb4809fa00a1898a509b18cf91c3050be6dd8fd116853943f5eec5310ebd7f9c0bca80399707a59a26e5a8e595dd40cf0102a2adcd2497ad19427ab9c626ae4ab72fb6f3d8767298766226ca3faa15c7ada856bdd5a91756ac74b97296ed57190d1036afcc773eedcf5d1b91213b7541b01c90561db014c608a7032057cf7a639835d224b81fef2c4ce5878fd5dd06579760269d94973d41b4193651f533bf80791b662d0896d521c7305040fb3f367be9bb1efce66bd19242f8d85b02eb16f80f6b8f842353c67b17e8cca4f6ef81fdd594c1443ab950c5d6d8f1bc7c326f28e5ba2a429cc3b6c89664a9787d41e07001994c8cc54285eac3c75fb0370d9a33aa63b2049c3ad65a1bb8f5994b6d9f046e972546e945cb2ee874798163a7f0702b1ee34dd00b9801f53ead07dbb4aa7104c485b67d0a3394a32b2b80df56e1b56151de581a42835f9a731de2737b8de68d8c00903a0101d067bd3c1b610ef1f4b9fafa13677e34ba659b6f50194a507a0495bd3b6af3b46941e411b0051f2b81cc17aa1ba2ace038545e6f428bd37074572da1b0e6686ffbf4c9b765f11663aa4916c0a1467cb0000e086b82c9661d1f0a345bdb9edcd9ab723e013f183c8b221f81e7a3e89bd0ede2f9df845d712f70a3d8dd1b7020da005e72a09f8982bca2ccaacfe493b29ae85fd43a4454f56230615a6be2b089d25e9843cff30a2e3066ba1153b9c7d02d4be2c9b0d3177b5b2524376ba1f3df0e5a5ad0b53118d16651fc04b3ba9d03ad15e0e73e0f26f427d3ca75a2a23a7baff23ab69c8f182340b9229cea3394265481f924c3e28c6f2e9b3cb313ed2d05d80ef0b9d6a1fdb49cddcc6a43e757dec5bdaf9fd81a5ca134343b302e3e3042c93a2305333b3b6110a59b5580a50ade8a8b18cf1be73c8dcfb2ae9c4adfe47d2862f31251054b6d04a5e133f8c1e546f3c5a58051ea8d5ad78c08aa8a635d1258470829c6cbaeb6d53e4cb83304789642e3466f483d8c34aa4d2cd2f4794fbe123f8a98f36065a0367efad8478c3ab70a72ad2792a2328b1a371ad0fc0d22c94476e647453d074cab3f79b158f95116d9b75286cd7436c7983b9503fd0dc170672777627eb04c6ee6924aab9ba4f85b06eabddc554951f18b575ad2a91f229a9a54b83f66d92f62a0a74a85733ba104e719c06efb5268989adc4ff2049963b9db11d2a43091da82e02fd0f729368441b48744f82185b0d843452016cde1b81a82d8532305380ff4d5fb31c3b3d1f332f394945527f2e09656720508fe64751ebb8614ec328e62f3a33149e52fc621b3f9b803067b3fab30895c083fe53eeefdaaedbd60ccab58587ac32a3198b3c73010560debac80289af4fcf18c0251f327163ceb9b99e28a492eda090ca82bb1572ca81aa6b39cc1ee9af049df4e1b5d825ea246df8dcc2fd1b59df86438f9ce9eb944c8b3f9a0800c2e9738bfac78e825cefbebc3c4e7bd709b57faae544fac9b0361ab95026db4a2c91099e968ab2b154a38ca447445eb4bf4656b2d748c543da48fc4052790d9dcaff399cfc528730582333a102e9791a471ef20f619dba2f3d61104c982686388e970779346d5ef9bd8f2189167cf4e4798c806b7e66ae4650793a66b0439fb690fdc9df1925080df809632c8286f7dbb69348422d21107f089fabe956ef333f1456c6e2f26330c40b319bcd6347325370ebde3f1f325b2c68d81898333b8a7936a0a7f5a5ad62b0599bdcf6551d311d6b525d2b9f079d7dae77689cb2dee5eab1bfcc187211c26e14f611154bcf1149d3d019a540019e7f50a5dfa69320ba5669b2a63d2226c6e5a280a04ada9426ecead8a049ccfc4b3f5bb60948202c240015f988edfd7a2562c64bf6aa765a4d2ab31d0b9bf3516c3f0657dbac06b162d1094bba08cd5b6da4a8ee7964aaee9b20c1ec2423c739356d34bda5e62c3221043e7690a541ddba2758805ea5ac63a9a5e700730cccec6285edd62eb15ae53c37de71700299eeeeb70a2faae189a4fb32f05281a259cf287ade9ca2d3acc03cd7a3879cdfd5a35a77beb55bd5f4bd17afab240bde727579af27975eeb82252ee4453b3c2133fa883e0f032092c9d2e2aa7193db88ca87bfe94ca5b3bc3e883d50c87bf686365e2b8dc28ebd7d99f4d8dd3da6866eab3d2520e6552ecf122f6e0ae2ae6bd30469721b8b4b6b28b2d7afd76f741c3e8e969228dbbede7a45f69426634469018e160b882a6d58a6d24abb1a897b107d36cedb7d1bed6935d039429f35ef9c3cd8e30ffcb8b474c97cf00cfc1353a6f6bd2c07e87e376944e45735e3f1ae29b5cb934a3f86356b00d4d96a967ff88de25c27eb2db337073de43001a233a84ae2d670df6b0e3b5a97637b51d214f1d494105eeea782137c6e438ac6376fe7d24c38fe5bd9feef10ab04ec832f3749d3345dba0f104d4f34d868b9e74d748669be6a39d8ddb6d4fc444d92631cd33d0cac9daf51aee0b91091024ec9005d086b3012e04470afc100fd6270245db83125c36e6de68fddbd8d43f685178038eb9044cb5e537b7c29023c992339de27b20d22e9e2c9e258398363221a40ecd380cde10bb11cfee09f6582bef2ad7ea5274b26d777f4eb4ce2b1a60ebf2dc7e079f88a34b8ccd9ac5f18300468e03a4d8c654f2034ad6dc0ca1b893b2fc916b2d42f70129d8aca8a44b59620b696206df323af83286f34621a4c67eb461d06f0c1a0b19ff193953b014c7cd55bcf287b732bd39fd094dd63be740bbd431168ef38fcbf0ed77131ec37a5087567492602e742485eb833ade799f439916467a8541e01df07601208ef6e1c6fbe548d4a8d5bae39d67cfd00414a1500684b82ef263d73214655b54b7ac6f0fd03eabff942b332cc2b078cf10015d3c1371094ca28e42c99decff1a8364d9a4f587fb7c14f761004f2e2b6b418e779a8655f7cda2074ab076d5a4c346bd6b1a3f32e83a13c8ba3e5d6fdc2b3c01c0a298f0fe5785faf2b6fc751f222b3cfd609ae84770156cd87edcaff5538d6b644b79eff92093f58ec2c852ccfa602c7f19ad2d80e4ff240ba6ce993f6aa68d29f84fcc18e857c66e55449d5b9c535e487f7c3ef55f7c33340c8e4fb1d8f08ddd9954cbbdad50cfe989e223a93248d5a50dc9ac6bd2fb03b98e49fe224e8c7e9a3f75f5c431eb9e08222bf5202afffe58a198ec9681bea73840fa9c8e9e1344014351e47b2422832c24334590656c45b7196c36269ef8e589c69e61bf321391a07c81700305b5d1b34b680389d5ee84e17d2f3b4ef05b83e6c31e309586b56bc5e774df97636bc1862c78de270da04b7d91060a9284c2a0eb8d7592118905e45feb7c96e288cfcb2b550cbe8524e2dbf97cbd9f01c702df80df8e4c0945c008d809164d1c411aa7c054968f9b41df8d39c122d46bc348cb1b0542cb636b9b4cb17e2895b0b3b67adf225ea25eb118a1c232673ca80b632bcfa9938727c4a40e5bfa1377f40471edbf2dbfa27048aa6fe5217f5174c64b88b4cc04f2dd545aa3279de3daa10e902d51f5c537308772457720effe3be9b2b3927de7396851f5453d9502948d578d9c47e8cce8ca02fe667ae1437553c00d3446224782a6a06e7a014dbb665bca069ef29182855b910680a2d57938ffe14750f6438f607816b850e0f0b3bef6147a32d3e6c17fe6e5429f4d6471d6793651326bc3933acf44538833437323f2d0e9423366996775a951124fe0f81bdf8d836fe9eaf359478628b35a25a672523c667cdf112825e397f495ee65ccec3aedba1d9ca55888b8af8adcc3c482c3975196b3ff7b2ab18728224d18551502cf17857bebdab9c2355508d5c340b506ad221fcc075f04d11cc59bb38fdea2cccd0263ec752522a3503dc9ec1d2375abe1cefb69ab6f80349a4565075f4a9a50270311993e169a27c50df807a13b3d73dcc9595a95d8a6316ec7dc4cfb31e40fd1308120454429ef9099e9f3dd38dbefb328987c29bfac97a58e914f47cf1d242c2c89010e356e23edfb2deb15d6268b2a2e04b55ce0ebbe71df736f55dce82bb48b70e9e051a41c797223cec8244484063e3182af6f832e832372a9640998af9a8bcdb30954ab43f79a9f21fb370943039bbb5ff069073e466a39294d66374e50b5eaa8049da6bc6405c605f597bd1876b789426809129a1e1b1295a57844de294ee5b1cfd9191a97c2aba798aabcd7857ea539edae9266b0280d8f0c1455ae40693c372a0cbc2d18cf9bad719ad179e2d79463f22098f90a7c02efb76a57d1320db126bedaa9432966ffc6738cb7110ac19c261e5abbc9a286675affca90f43599c68c9bfce8192055d14b9d9a23f42a665d9dcdd6b7083aa4d721bb2e83b98af1836b8d8e534cbe1eabca6058f92ee96ebe3a71ef119daa83cf050f17c885830732a30b124196c629024f93f3cbca7b9e6d5dca1d9d7ad8033d80f6a320e09f8947a6d58e1e69ed5e9d276b30ae5104f055a4288a1007f68707ec7e12e2e549d99ded4c6ed80895fe9191d8fa8de9c2502a871b0c11c5453aaaefc6da14807638bf791f45263ce8ae9ab55e018d76d19b1ebdc1e2982db08d8505f0e82e45559c4db041676b36e81f3b839da847845391f4e543b7363be8e3c6f462afb07ce53dc30ce998600cbb2dec383da496a8bcca9d6a19e21e7f40967a48478b693a41e563cd21cf18723adf13a7150485d52b3d01ae6f5fa1a49be49c071bbd971ed5b3f09cd2e9aa0fdfb9deacff4878184fecf223d7dd29b88098497ff78fd56ec6a9537111a5f3ffe8ba0b152ee1d53a34ebc54483ce44409f55e552c6d8b8915a15045484dd01ce4e0f20a7f2dcec8f58b71c2d0e6e9099ef084026c0a775e42f9095e23850e513f6d315fcefc10159fe4e74bd9e38dda4bc7e874aa887c55cb94e12d5a2020dfa6d4e77670a3ce01cd32b365036805b20a48a850bcad386d24a4f4dfff75317b4d0b6fcff8f5e454685f8e48927e64293b860762c54356f93191170bbad03a19f0c6d3b35b4cc3f30bb4f80fbb8f44f5504bb8cdab984891971ba7c8ed69cf09003f1a4e72543a76d1736c8280707951fb40df4eb7d39507bdf91ca9dd4f5bf7e555847a27bd63c53c688f576fdce4757f4ff0660398b149843da53fc0bcedadb79591c3533633857821c137710086e45ad251a2d9588018e92d5f6a392f1820033cd7fe4b2f27acc599044d653cee5b7daf6c0d0d752dd7cd21d9969a25268550cf07b6959fa21490bcdb25221cb51b2ab5d03e92df3d78552dee98c62572d85f037ecf6df9e647c68cfc4e9ab6884d51bd1a9271dc13eae0a1a9800d51755de0dd70dac06eb2fd74ab5580068ac9cb93626a7539043f7da7403dd6b6cd3a67614da13a7dcb264c81165cf24e83e7ccab584a5159c65d17a72250dd47dd319cd6ed6d60634d317db9d43796f27c2d4e309caeb15e0015311bf7339d34167fc5a1f48fa0051653244880eafed74848a3c5c74addf05b4b1b344e8738c15b7379e450b38618cc538c1b7f21b21769decdc30c4a8ac938f108c8f58e069fae973619064093a66dfe19d7df34ce6683a5465c125087d8a42261b9d39e5af78a187d5523d30a7d0102208492f9b1437018216a2454a94400cbc8fd6a516821bf9b12d1a1f031b7e1e7a55f7f355932caa8e3997d788e89fd79899ac45e7807a12e2b465a3ade786e862015198837c3e7588bf7c9690e9df2a08d2af192ca034e4e4390a170dc6451e11b0d341ab13f4d32a82d7e37059c197957974b7a0134d3a14882e606d9aee7136f80723418fdf9723d4542fa7d1adf1fb4bde171849cb6ceb49d95661fe164169a3130fe076eb042a6b6e8c2d36d3ebd847380e339ef6f7973b0da15498ef6d0bb7f565136844ea97128dbb4e253b5f7b66d0b2cfd6c79d361930f7d0a1138b24c4e2332b1fe871b11de314113bdb091b1ba80bfe898382a7657d770a12f8c1d2e3237e84e7ed009c22116e5dd9dbd612d6c6c5b9d33bd33f9895ee0723ed5cdfe8e4826ad00a154bf40fe153cbd79ed6e8709fcaf285de89a4646aebbeed1cf774699b745af1def409c3c95b43ed0e2f4ce9455be8df861ad28c621dc042c97b476052cc370fb3f5733abf3dae19f3428dc69c9279060a3e82f9aa11b2b03daf70be6b119725b429ac3839a14e198b6a07fcaa49994b05b07b18f3e5373a71e530b5ce4b34d80dfec6eff70a09f3ce3bfc35d5175cfe23a9eb973815016311dc5df35e118e57c6974d8062fc3e5ae1f4ba83d7982489f544091e3927efef28f57865af8b9ad8f07f49c389671b007b3315c238a4016d8858b69129006c32096f7e333da2c8c810f95ddf7b7273d1be604c2591e252a62920ceed79a38d3191f9740d6850d83f3bfac83742e2f5bfb166d0d07d84cb218587217b8412c3dd25de8e5dfe81acc06fb8c2d3e89c007550f422b90c45f14a0a125139eda62a64dbe3885e562055860cef91f45149c65d82677959b358a01f7eafc9a79d79bddf4b01df237354ef269f450869a9a79c00dffa6b40c07866fb2ba9f66195393","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
