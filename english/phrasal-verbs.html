<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6d248c73a70a653b8553d4c964153c86a05863ebe63e13c3d52acd1acf015a665199a34c799c354c1a04f8384459e8666bf490faeabdb11963568c91462b2711685bb3959f0dc4345b7edb7b4443b2cb08dc07adffb0299e572a30572de31568295cabdd31f55df8c4b7e2d05256ec06729de89d4c2d5a225de6b54c468eaea8c24ef1a44a19e26b097120a615dba7658f3a662103f8fba94165ff85802048544c51e777a81172ebc3ea4f46606cc8c334a8caad8621136538f8f1410a297cbda1567be4b5bf75e0d57163e842981a5b6f4295a0274cd5a6a2082d1aa4cd7d971e8d5203bf42b36db6b8715765b96c7f38cd205dfe5c2298d076b74aa164f9b15c6c5d94a540aaf5c33c0a9a0e51015396e7a52a0ea8eeac6d16f28eef6f5b717ef8bc082bb9fada1901940c9f0fa35af0702385c1f1847a36b081650fa32e753c30418a5b69ffae4929647998f29936226170a941b6cc8c0b3915dbc0d22caf5d40a8d3c5e3225649099afb03dd0b97d29682d4f983499200aa1a7986362542418f12c617ac5fec9300dab3fb2dd76d2d173faf1c57193e2f24d989e11229415f10de2669a1140fd15b7a28397804eadbe9d5ea6516d47d031edf0fc5a2df355b5ac0765d0937a3c772feca266872d878d5d7ddff635f03056d2baea7274440d2f13fb85e6311045c5f99f291b5e2e4c7038d31b997c975c9eed2e81601199aee61b99064ad494c5b035e3a4df3ddf8a0956e90e6ba804714755f732d3d7c29102c9fe3e8c0ec1a0ceabf32c1914bf0cc83fb6f3b7337af02bb12732725de769bc452e70c03714af90b6625ee684f3f15eeb2eb85ac640e7f4f078ea7399012987cfd61c62265aa8fd8b71c7867e33c048d498da14aae19ee455fdcd8fd68121b953fdff0be9bddcdf34797d43861b71dfbbb29f9209248450c1aa5734d2aa62f63bba5b14907319db81f4de9aff79835ed950350bba9e278923a68853e864341507139f5f03bd0e24eb4451a1ca61fb6034f069615ee28c5284bebd63802e97065dea06352080aa713507a8bf0302495df6f3e4d70053582d3564aeb2e98acb813df55ad1e4aace567a1cf89724c2f47f12004049f1cd15c85d2de8822d452817620c46246e8e66e874be0bde9b82fff8fcdebc2c8a29074ecb9046477f55c1acabbca427a945f3e337f40782a214a2678309da72231ca7f720772a568affd3b3c511f893d95276f8c161febfcf9fb10933a76d268dfafa2a47b4b8d0a1f07ccc9cd9a5224f81a98fbee369775cc20f913d7297211e45fece21ec345d98388e6fb2153e0cbf009b3b4d906880a3f2497808294b1a5d1886f8c0f6bbef25a8f058846a1ef99e530ddd5266501276ae16fca1f50b97ff080a977ad8937ed82564a53799c61eabdd6669f12ce5eac76b85fdd0e40550f025922441d4337f468875e70dd8aafd23521284b2a776520e0345a76133a10ef969c6c08bc22d21a52cc27f85ab9ec10c7fe5dc1b19db58e62af38a59edfe86da869c1155924a695d1f76ca803ffb76674709e2b801e6c86ac3b19c69b9ef58b762081cc50452c11c5a3f1a91b5396037e1f9a5338d6384db8b172c631db4d70b928da418d674d7e4e94cfed715d1274cb6aae1b2bfdccd2635d9ca3537e542159a8381f4ffeff49029cc81b4a6db10f2c8d526f6aec46dfe5407abcdeb668a595ab3e1ac2457c18796a97799979597c09ae2cbfaeb4e584817ab07fd8aef66e69a41310840227728de97cee0446f66283b172b91cee44f4733737aa4a445caab8165ee97a696fcada4735d1acf853d2c0665eeebeb4fc94942881dc6b5c77bac49f4d8d54ea2dc8ea7c1f86b98cd1210ab98604478d98fdffd57deaa2ff0c5d383b72bc5a199c8966865f164466690484933c995b836a6593e3a661b577df5d5fcdcac28694e4d48b5eb60c423ec6a61c59cfd30dccffee04ca6d46f15b71c564cefead6db496d29ea93c842088937677b9527ec5e1ad2efef8cac743d351f2ad33f7ff6888ae2d327c99542250468b5738e4934c3d3cde30ab88e26f9e99318c76f506dec53c10854ec46be19dac9276944707c3485a41fb54df468b28c4669f2858e0872c43bce6468c62429fc6ee8ed60b4b20fa9c03f9483e5019a1b8217bc3ab4e25a574feada86c57c5132ba282c20460954914a6b5f5317a72046fa96912c2ebbf9631555518061c9f48f1cadfac5d8c98e2b6d485f1b9b1b218b2add250827e61589b13c7cf6ed6d2a5ee5d8a0da979047ee122c66c93b52148f3796860e24cfc83cfe79163da42776851c2bc252a3fd31f98f8751a71dd5032f3585a64f37a32fe35e3fd052db9532edd37c67e8359c7958d59080a2a6135e576114012ebe30a248324d65973ab96f44b9a1e0db715a4bb9db79cc33117f883a48da1c302d7221ce57ea5ce751e8e922cfe626ef3023e23903a157a7d06d2c32c7454ecb8d5a1f4be3b99659efa48387aff4ea923bb33a7836b6b410a1078035a4d51c2b6df7e0066bc3cf03adab54032058d8b6d44d5a6e64cb898902f4e62b559d467f3e7842829307a45f486d7a0b3fd08f72ef447ffd4e6d2ad3ae198ee66703fd0d2a45d924d877e9ebba490897cda620c983e8f7a1af352937bcd5b76e2b7365eb2a3d59ec8ed108133c82fcc450778601666b9a78f693ffad35f11de7d5d391de15e7e5cc54bed728c48c41b756dcf37bcbaea413d4a4483f5e950f8c70399b23b444aeac6889430c42b8ff05ad17164c8010014b6342c009b897cad25bf2864e02c3b1d11f3b0b9d0ff6a92375e372121a915c43043f2a3f403256d7878a421a3c0a24df5a469fb33a8b2555429b0b7b56f2e26070973b6fab689652cc4120ebe11eebe3e501ce9946709d5994529611d8212291d0eba0d253a0724e304c3dc4d5771e7846d54b0cf9b1903f379f3bbf71c8171ce1ba94df695f063cc9278e0812db534eddb6fcb4d4b740bdd7a02c7a79b62a476248baee0e99638e76e3190588b96072f397a323a29fc7d97115915d3f86975da6057195203ac41f6132a271b80b6952c8d4fc79454d8faefc7f4a617cd38e2e0357441f9a1c20544317d7baec5790144cb8d95c0859c230c074fee6fe88aa9a440b7664bf149806acdd78f07cd2c74e9f59d4b7b07215c2866989cedb7e7d44397b60443506f63c7acd185f0bbd3266106be11709a9075bfe72b115806bfcbbd2e3983da68cc02d5e80fec11a149da4cb891ea0bf7e878830d726bd63b38fe257728acefc3bbfce12c0454c348f3283f4d1576fb2d6c12bbf8691ea286d149a3e945c2255b86dc8b347560e39f838cb74978b314dee5ff190ae28983e8acd8f0c72c0536c6a2356265f823b0074e06ac6c200a9398f9d2fcdce69d38be8696a812859202870c9a9e436c1618be54735f8c288dda999cbd725a6e280bcfaac178c70f2af7671c2d61c07e897210d8d87578c42f10dadb1e931014383733fd1674fc98549f04aba6d5f160bdcd90fba1f7c8be7e155f6e7eff8967910a2ad55bd87dd3cad07d1c4520877c7c855da225058198698a555ae9b2f76549f7f691d14a6d0bd00b864046653c9b4f4071904a9177cca3cc598165f71223ba4f1badb04d707a357fad60036389595560ecd44603ba4d52801d673ab2d6e2895da612f5454e282ab6f422ed92be90ac9d60fc63c66f28f958e72beaa0fe81b6073bc3e1d738aa1c1c61c3f38f8d5463691e7fd21ebe9fc000d86281a6a7cf9e803170c2b2d26963f055def819de1e051068b66b7fa2bcae8de3e6a16e00bc35aa88be80186b45be3f548df565b1d70107c107fe9eef958240e8cdaaee02e39b45975321ed3de4de8f76c4efdd4f01663ad1848ced252b3a20f9c840a13f3b79fa7ed53834bfcaa524fd9181f2aa8b864b2e1f73412390c765a1326325a0a4e66d487fd8e39cd35a18955b3f5a1680dc7ad5c3faeb9546a392734ad0937a9618971450fdcf9e9f0dc05355e628d439d5f23506f7e82daca150a1bcc85e4552a6a4a4b6be898ae7dda072388304a9023705358aabc2f8466430ec13a82a06c1b90ec5cb9baa269cf0ca0b5f2f2c199337363927a61c50c302e2833c8a3c808959e1ecd0ad1a9dbd8c0644b97b6ba84d71f0f68eeb6baf9f5bb571d52f30e26097788d2575e6d9bbb5037a3bac77b4ea434ef9714d4d3cb45928a6c2cc0a4be624723ca0b1001e3c9e9fa44377c931ac0b2fe3e87aaee0af83d3841633064c8384f1e26fe758b3ecc97b76c33f4f83ca8557af2a480d39c2aa701a10b57836ad03a95aa47cdb8ca3c0ad17774306d7b14c8fd0ec303d7eb2cc3fcffd3b10530935dcea2606899279fce2fdc6c0ee5ffdb50d5edd110f99d29e505eaf400e6a1b353f6186e31fc8270cc90b5d686300567d1037bece48f46c6955b74d800a7b17ad24d5497782ed2692d420c9a45f9890077b2e3dfc207794a33743dac463747fde7c0b0520a66bf470927782bea6d44746041fe44f7192c6096de383d57e75d2cb312c582b5af41dbde9982cb1f924c19d13e508e681e15c4b51e35f82d7104eb23f199eb950f332848f725d458c3e44e46c829a7dc57417d80994d8c192d5ca33cdc3bdab688ff2cefeb9d6e7bdf8bc2744da73f657240c2127ec49f0fb8ee5208a63d7c9e867a0f8549390ab2ddb8f3f9a56f282418f3392c59dfbbcd242e3db25140597fd0584b4586983c28b302aa7b90d97afb3ffe77bc0725b6fcc86d2da84f7b6a8cddf2a051bd390bfd6002c05a1a77c708133bd1a58b253fdb794bfce586b42deaa5b8603655fe6cf00b3fd91317cd40226c9cb84dc51f0747ea2e532ca8ceaa8a3e8a7d1b0c7c3f8865c9d199ce035038063c05df19f49655d941617b0512699de8a673fbe304c23787948d515b334425589d1588e0ca5e91df5ebd65c0eae4c889e988fecc0179239971070399f2f1b6afc9f4b65b48c6b1e656dd5b179821fac2dcae1a3fda30c1ee205eb77715754c4cf0b9497db21a9d07186a3dca085cb91ba8a28aa9f7518cf92925b358765c6b0acf7c2ee91bc5dff27edc578eaec87daa98af9f8f8fe73517a5c39fdb6cd102d7dfcacc3c8feb53f4305d54af6aafc19bd586a67152dd12ba0257d774dc319eb1afe60bb0b203716e42cbaefde999f007e0532be39af140252b2f4bd080e9a1f773a5969c4bcc110e8c85975fdf36635122a1a06c240fb2d6c7637aa3708341adbf09650d7f8723504ba3338414a5218131dab149a7051db8c03c7e1790b6e73918db515664582dbb327367d3d99eb8b7a706a1417f3f13462f686dc50c84faae142ebebaaa90775c95cf8dc98d152c8e57774e65a9a0ff4494d60d5cea0a1714d7c7e26d71b36bcfb72adc1095b7dbf34cfaa73c8ff2e74fb424ce37bad0cd9da8d2f733cd35ff2cd3c29951074197ebceb8a0aacd2e6db3e5fa81c7b0edc86e9fdd300c7128c00140eb89e763909e6063a641afe4e19c0cb9c48d33b83e1a63f6d90ca6c9e19e774d058ea027c0319f401a600c43e79a74550aa6b4ba736086e027b1cd3445a564b11078ad3784ae9b61acb7bf1155204992f8a728691303d0369f489ccd8fcf608b4883abd8157d211dcff7eec075404c99113cbbed903599120d2e5c07781971abe1d5f798a5a22d503c76438b6e6e313102f0df348c558812b09063a9ebda757f4ecc7000e55381771aa715ca7a5f7e95216394238ce36a41ae890660915486e19b8ec76b0af99bce646363d29136662bef1a29002d621e83c5763a74dde51bd93eb49b9a5bf3c4bd740a057c94dd8d7c7f71c46990981f8947d65f962fe8700128b90ec56932b3887088a5711e8e95aee3d1ceaaa234048c29794b54ed576f8f273ea4674ef4fd55c0ec84e2094f989858fca728d604b7cf2b32453db70b1c8c22224c72210b3d53741313931751dc338dfb750b80dc64639ac2b1430036c3b4822f673e869c46c7cfa8e90cdefd9241395d10edd282ce7321a80b866ba47a9f728ddc518aa684d9af544a73023ea0eee55534e870dd57dcb3580d2020c5ad0c2de34e8ae5c5d60bdde33e93f6f2a26cb3ed1097708dd5ba8cc1f782458a0fd7a052762c66f29833adeb7d83c6b28d8a4bac5cd3305cc171eb1401df54a8970822f1c94b54b4003be79898fe7a1e022f7ee1c21f4f65cff2fa8f09738e944e6518e7d38f8cc1032bde4c3f48ca0eedb34eb2a00e404853cd2d67aa6d0e85874717fe0a80e284dc0fe17f81bc18e187c6f36a2ae9bb9ec599acd4be3077d8d2fc7ff3fa067861a30c29468079aaccb44b609b8179c6ccef44970b26c363c679cffb952d2399e9aeaa92aa4eee42144177c599b25c0c33cd3dfda2928cdb48ae9b1d65d236dec132cfe939164154024ca6275a19963993849cbde6a814ed69937709c7d6e8115aaad904d709ad7b0171fa23333f771eb8ec5d74fb7789b060c55166eabbef01f9f8ab84c00fae0b0edb16733d188502254ca1ba34abe0f1b89f0e60535f1b6aeab3819d4211d17be2a138454b5254483e85ab0a9371a5ac9bbc0f256313b9deaab06b1ee443e182b2f8d714c09e6cfeacf37709c3dc3d1496f49bf52675467040bf8a10a501441366e911a3bef6fd74dd78042becb58c2e3ed964151a973eea27095f917fda589584355c31d41797871bdbda545d03bc953d14e76373a6fef7e75f2c63168868df5c1428315d537d9c6cb178cd2411a9e96ee18421ad12699fc240b6508313c66a11b9d75e84b6c3675f3def074336ffa2dcd2d134d0af7f1e981f4122a989c70028fdb72280f24cdd886af93777875542c464bddc9ff48ea03c63616c9be0ce550ba164bf9b459b4da593084cd66bf63b75968cf5e8d40d892d4971fa14b95102cf86cd69e7bfa1bfbc3fe20f12eac319c527b2f3736c772d92b811dd210f0769e1a1db80a4411c9892322360d9082310312d2f47353b091fe6a194c35eb27a84d94f87c3bdd50af90783948ce5af44945fec341b355b6a49b0e6caf3e78d11da20fb7fea1ac7bb90d090918f2f5abc9e9181b364d2890fd9cb2b70c253b99b9169b2151ed7ec65bc4c0a22adae342f85703f915d6c423c9c8dbd47fcf62d3d6ae5356c6792304402a85bad6098d5a31a7c7b39b2d68159fb9eb84b1be94871331d8ca81e83c2a9295bf3207344ffc11eadc925f4f2136a1ec639ff51e47f78b5ac78a72693c05ba1e904e218737ec732399a33c6e2ad29f73a5e82105e6d0ea4f185ac431bf6b67f00979925a645dc5f80e1257146a729e011cd00d4c792bd570e00fb4faca4b9bfb6e7bffca40a0f122000609c46487a12c68d25ababa865871bcff0b33e26d545951f441e7672a79fc7f7923e42bf44151fc355da655a20eb9c898c22ff25d776883f6b2e48b2899136bf4f4b193847879377efdef26897bf85205322a3074d10339a2f93887fb6aea169260bdf45396b92df077c3076ef4ec0ab65a8e1ea191ae2c72d62fb87d678e1a569593ea8cb9ab5cfbdbec6f4cf5ec6c1b8779e186ea7476d8352d5bc332d6a8a23f6088f2bd26b8c5cf499b740805d37d787a291bee54390cef9691947c012f20ee1ed60b577b6b96d0e4d9a228646e1f111ea1a83d625b8257207f1c2f0f10fae275a4cac4f2c495521936292c4c79935bdc3d42c289aff40af7ccdaf89309f1ac7e687438cf49771d058d04aeff76d6097e0fb3166430904b2523835d591680ce14b40473787880c15acbef96b3fa13f2a83df462d35972a216ae3a827da78c50f8c3d6909a8552fa0ef0e2c58e1e37c815495a6666cf28430e136b1971f7982521b4f3da772f4e46419e2eaa55ec309c510b71c38ace735a933db896aeb9396940b37f815d07cc70a1567e96508979553c2e23d860ea98512f03290e58a5e169ec13e1817c140ff3d45d5e3fa51d5223bdcffa97e127ac6fa12fe4b653214080f2507ef955cb5113af33ecea5422cb3bc3af0361d9bb37d2e5c5da3288f4f52481d07ccb2e51f70843905a609d41982bb53202efb859e7d52b22af02598d414d2edf37311acd77a09d72a25a4e6c9fd2e717bae05e1402cc2299c365d99038db0ea6399ce4aa11cd85ca6f69e4188b25604b4a22f24d322e6d3cadf8921c55b163b59bcfba5e5c9b02ea12c583292173edfa3c45329ea9908ff5394ebe7b585ea371fc1b0a716fcd068f8a4c55adc6961e536799840cb88f4653a234a8023814d117bc7620e3a0b868524b6b0d344e6bd74ed6b9ccb24d9564e65df4fb736e5618d28a75c8e9dc818d0376bb6716d293fd44441ca0df898424b50e9dfbfc9e8d02a6f18188147dbc8af96d32a364a6a90b9abc990992faa9b82ce5fa70894f7d37e8f8befcc56347d521d00c4a74493c873eec82098c6ac5329aa24a522f735f57b5d98f33945fe98b00ce0efd5498487eb389e4bff640761f6ba5f463f92678539d2eff0cbb2cbd2b353fb3cc2b4421e794bc5262eb8fdde1a0bd2931d3d02011d80c568a1416e08ba28ea7ff2b3ff6e4062b49f8f068025cd20364170f18fd97c76e13e1918ef5225f05751169c853a53544b22e4e064126e41caf4ca35555d2f4d16063fedfac06a9057f1cbdcaa0e725c45e2b82678b6815ff17c0b19f28574fb6316b097736a4337a6a4b5435d3c789152dd4da0dce74f5f326d1c9f9c5317531a428f1fa92fea13842cdc555932af876281b522d63842ce257ab6e56baaeaa9919eb25869252d6709237ac90c75bdcf5ad5c812c6125c0dad42ffbe4e836b9dbfdb98bd7893f6f177afc71a0c4a627c7f5101abe10dd6712110e6994ba9e5e688d1e47f7fef74da2f2d60ea7078a89d4a7a7f56fa894ed362ca14846d0b3b2fc77ca4db8892ec22da6b7eb95ef823100e34ca5ae3baa4139ab7897a4e50ad24d707d5261e51b4c85881561c68d646354673ab0697a3baef96c67e20d893a489ba88f2e7701123270c18a3659128452d4470aa43a8f108eea1dfe03287b1f9f68692103e7348129f571334a0962a1b611e90bfd61de4851a15ff9973ed921fb9eeb4020ee498c1bc2274ec7b136af8ba332e47a03c5d46f50e07334abc09b26694b3728deb905da95a434895d0bb4e598ff2be3e0872773a311bd8c31c41eb856f7430478b3b677b957c70b415fcd1956be61896a30bc5d5560fe2b32fd7d4baf998118186cf903acbacc38012a464d730b55f77ba46d97c90b55464749c69efa5717919766bb39b6700981551b19677142fb9ab79ada8251b90464a3ae1ba89420e00ceaac671dd4dc829dc256399deae49f9971d8e3dfefb59b0aa8e3a852b913cf4519604f7c9eb492f1691cb2b7c141fa370f413fa1682e7de94b85ef6d4527d4c5041de85c18a4b87a84189c1ff1a0bdfd66a1e955954fb3e7c7570a9d9d618bcdcabc1cdf8e416e46af713dda358e89214bc913afbc93e9abf3f9b3ef1060b7e144b98c05855dea36c14865527deef6d0ef733c0df634a2b7030b2aa4b2921c1af9923611a3e75dd10f7124f4f01928f51e0d5eaf8fae8c0280cae666a4a8c6ab356f6f73c12f8f0ca854954dc4316bf61146855851e2e4b88e8a3ca41b03f0080b1946b012d76c2e86e61c7b93627689f3dc020d2b7fdbf5605fdf11913cbccfa89be53a76869e14b6bfb88594011d7c6115e0625491b635be7a616ce61da5d54b6b33ba84a0414639ba7fd86dae9a4531af5d3e5cd019f29a67a06015acb431a366991c6254495325a050b265acfc4181a2215f152c24242b53554e892527d10b8c538a2613a7f9ab0c7c51a91cb162c28ca2aff6222d8c766e2075f222176c4f09556b1aad111b61bdfe9022c0730f24ab8d27ea0e1b4acc148d97f8a4d54a6fa11fff17f0b8195c3c307bb3560b73faf8338610b7f8d2fc5f9be27a5750fde2801058cbc3b177c673969ac62d41db1c8d59698b3115095e78a07fa0defc04647a9e5d905f1bd5ec77524745141fc8844bc4acc74fbfdf058d97ff317c4a6d66176f4811ca5974bbaad582d9f1accc0872f9689fa9c5a2701849fcd2a5b48f79836a00f0dd8657e49834a13eb290410571afba9847797a7e7eb6dae9a030fbdfdbcfcdf097e89d33677d66b589720d0778212d08032f3c4b3de0cceca006e95881374aebf258727c2a0c4bc8dca6cb3c30fb888e509f44787e08ab38dc5c6962260abb923d42a1c5a88f46be03e26762b0ed0797658e98a79c8aecccba5ec4f3e5d8f7ca9bd2e75e81e454c8f1699b18926bfc8189334f59c94448657afabc56fcbd94e75f1ce20921cb8ca59d52b9a15817bde4b7f4a6b270437ed58728786b6df146a614e7af6d2845a229fa9d2cabea84ef62abc3ac8b359737092ced6628b0689463f22fe822e2e0c294fac5f86e09958db6bf00c5c549b35c032c63629d25ae8edfd4884c009d4b447bb44765a26f3f927ce92009b47c465cb1a53fff54cac4b31e1550e2fa31597737c94a5f02ce18c2923c387cdbe481b0b28ab298e8f4a478603a7fa6ea26158da0da8fbaafb51e16686a4144f381c1c0f4e9c8353ffb81aca7263494630ab0e4e17c892c4178fb2c67a79cc067b70c103b6751ef296d9ac342436aac8f65ffa01092cf6a29744828fdb55c0cbf927c75d7457b405c383e6b6c9300093aa9b312ef8d2b8250387149c1738a9995d5a4204d4aa64f3eba185b5506bd37c7e790206550cf61f221927b0d802ab1570f55c350b3783e429dd1b6486bae0060e2e73a632e2955c84a42ec12549a14891897fa1478f4c6fb265b5ecf34d9572f282fe96f634a1a4b0bd81f2406b62f1ca07b93e3630d046c6042c214a199f196759cd4a8c0720c6607a2f5c45d6d74b45fcc85c23cf43418d5ca7a36642d6dc73a5d57d90f0410f0d6f632d94b7adf189e436a116c494339ce1993942003781f73b0c09b201c91f01912847104bee30ecf00513a7b305c69aba03b2fd9a71a0823eb6fc15ef3c7e95c1979db69f6bff3723f6836756c868772d2769fdf8d2c17b5f658d3228c730c3281b21b27fda7c84303db6befe387bb90af4684fa34a9d307aa7808168bdeab0fa85a982e96b4b4bdc55b1a8dfa278d72899e52ff83502a77ece2471183d696e57cba19f12b23497888088a69509f45f2b8b66da4dfae27eb67740f5967c81e08abd213bf6d0b8893ec1d55109341ae8d707fb2b9bb38757288c35db5e22baded247af9398c486621903505714d988e0d052145f51ccaad9d6e142834b6fca1b3cb9d3b9959c74bdac7095a70f79469e2f36c72b46b5bba33fe06df0111d15b381279332d55686b901f4d06429027e4f307a8cd7692936318eab2063719c2d69f65d3caf73f8c4d87d7bf45299310845070c052a127561b2961a7d729706fccc75fb5b1f4bf503f4b318e8132299c0ef2418f274347e3a89bd01c252a754b9f155fb150a81d5dc186951295307547834512b83809eba9431d77716a2f7787930a00d1e32a284fabf56f560c38bd9f2498fed6d17e2694f19b3c8805ec9391c1018882b7d7334e8cf04e46372095d0d8d11db5bb66e8e3aa660c9f311514a114fd951016310d84a29a48b560d1c00aa5896d00803fe522f094d29d9df7faf72d2fd78b1285bbb4de304b3394dea88942e583bb2afc00846442cca328ffbeef0a8f32cba3481ad4b46b47783e676e4c636991cf06151e0dfe51efa3721e269205860d4b57af15336272ca7f342bb9ed2087c03193f8334a01b660b010840c7347a9e25dadd9c68db49c1b584b09c25dcb08418bded92e39de4ed54557e9d63bddbdb5ad3ebc2d5015bb03d5f7e21b2a01d145a7cc62f4be762b31b4dc18d22585aa6e41047e2eb989fb5ebcae3cccd01172acaa9cd399b6af013c9aae1c7df032e10f1bb5b62be06dfc532d7413d0a44475db49f87cb5a1ea0cab4b81a57a8d129a5b28ca19129f80b6e7e4fd7c6bcef7d55049809a00762254fb321a1cc4913826efb125f8f6843e0725898a46b31377028d00522c09e760603c9617de1e57078e8c2dd66c52722112481bc29d6b167568a016949428ca0e292a512b3399f75e64966215ea5f6fc541bcf9530c0c1d37fa3314011dbc71476b4d6f5aadead02bdb3bdc99181618b7383885679874161d86cc52742941a46f467ebd68a77f00291745eb2edc45decd036787217a339a738f1e88a1d413789372e772e4825cc042c0430d3b75ed770e67b51514303f61656ffd238141c153a9b7aedce6cfda7f27d58c87bbd45d7859b96f91ccb1735ed26d0effa7cdf54e8a656530500a0cae79a69c2dccd830e326c1ab38e3a51271a9b78fac3eac236ca17527c88d98921129e0f5539176db7682f69ca59086b018684c2f7500271397dfd1a7e26a12e86a73b75846421d39241048a001aed634eb5dab2c2b46036dac8f552dba8426e25f5bae14ecfacf4f3d7dc5768786d05d9997c8991be95d49eb45def890b97ff0d038b873bc804ee29696ede32599890aa7077492d85702c8870a2002132815fba9193fb5f7aa465db0c16b62a9d0828426da3a07174e318aa0082cbd67ab636bc15995762bcef257d46b253a588376b7f53c7cda25a9503950b24d9b1749db12634ab97fb7bdf5c2bb8dcdf746e432b48eafa408616b12fbf6047719b53148ece4924a62b07bfeb0fb0e375a13511d03759e7ae4b7acad29d4a2f15b0a977d85f4cb47c6dfcbcab70408e37d9f37ec746a2d37a341b2e882200d6ff081c23bd0e376788facb8e67b72da038ffdba07e7d2f5003881e17ae1f30ea1d9e24041925910e9ecd51690b0fa2010cef88e1254ffc0e2d2c3b1adb2751401c0836fb0c2d02464846b5b52d595de3a5962e293fcf691ff6d1dad41baeb03a8a3115fa017a4b62f74327025f81042dfafe7484da1ae0fdd32060b47f3a6289ba7bef55d7840deb2f8205ba278aacf9277ac31a50287f00fb72d7d907e44dbef9afaf382c5b72535ebac6105bd32f04794a196202ecb1e9ec21864bac6194dafa3f119d1ae687992be9f52c0b7ffca0558025f4529497adc8cba3b43a613baf68298436b66f6aa9fb9866b1996af7c266b5fb8f17b0905e8358e5779487c0753c31d148ca9846cf8b1a24b2ace719c19a78e2a0f8fa8d61c0b1382b85881469eefb655e1f89365ad5f3f1f3fc45962523d3948f8f080ce1581278831f6762e09d34d8fc1441689ad2974dd0f040781b76e6f64a7278817f240ab567839b62b7dadbc09d1d580f159ddfad95001ade785b0acd4967526576b83c6c3a88305384d36d93316c250afba5d0bb29968f14954f5c455087a8626d506b85903fd127830c5dcc83835bfc23e1ce93fdbf4becb2bef3368598791da9061c99cb1e91b7e009d35b05bb9d9184cf2078cf935dc94d6d9d20fc1631130bbc1b3c91fe7754029236170d1e64df7c1f86232c8d08ad953f5708ffdb36c9979d4c38f5a80a36e0b37c53a9081d1397b1d8544c4c599e16481270e1fc615f37406564da7c367027a468b651f6da92a035d2c2ae683c6d966c2030f31ea7c1fd595c69e2247e100c88a13675a3c55d924d334d829f72cf89d134b19ef78a14800a8d0d3b1aae5ccfb5bfc502b21fd66455304b0b35d0eb50f4b7f81b31af0d597b71c492858f16f34926f76143ff1869e1d758fc62f4354bcfaa58047929b60a757b5311a016f8cbe2304c11c19a043280ad9cbe5e7ca46455e08a062ad8f3909fdc4452b7d8839d600642994def05f60219389830c44fc30175e393336ba0438e418af6ccdf56dcf25c06448fd57a6281e1bff71a15cbd244e90d014937e987323428b41f49944adbc1deef3d6842bc6224a0005465bece9f224c5534bb7d462f6d5e2ac38d3b35f09d183126dbc85603339de0c8e173624b30743dd987f222ce042e0e49c349776ce99b50402c778577bfc5bfc141ce823a78b0c51fd68fc5468da6fc06960adce775c3b88a45153c71ca459ee5f739309947abfeda839297a46b41e2f736c68040a79a8c4507c4f3045fdee758b11073190cb7b29162c2fdf826bc83186031fafddd9b04e996303623184b7dc1566894e70cc01be2a4b3eb8d3ca332286bb496dbf7d75268277b550051739652fc854d04795dfb17e062ab0b3d3e4ab939cf835f7ce1f8caeb503a150f14ccb8c2bce3d5f9e8114d130ce90b996ebb86827955e6feb766589c486fe9f176d3e1e2f12cc3ca278547da7434737282f77ff86de1db6610a76bb55711a54d0da2ec9ee16654cfa23c536e6d229c47f17c469536fa56ff4cfc3fab0b198c75e15eac045cd1b12d2af05f66e0ba71b93b4510e0bd29c775e96eb0fb619ace5db8df33b554db3936bd6c0387e358acedd15f7f3f9ea8a00e8706f07d41db6a4b19f2756386d13880ee2552d95f8d92dacd6c2209e0b8ef30376aa2c9b10806627fd3613e54c8c70948e133d6d7a7e9593110f6df3b5a34df71610d4487917d4069b5d9e92e00a0575b024a5d19f3bb256cf1de19b03b1e6e43af82bc560e217ee1516031b55312cfe101f6665607d4aa46dc1757f6585c74af23c4b08f7da4b35c227cf716dca6a07430c87a7f9fbde5869c3fb8aa882730871538e88a0b6b776f1fa45cd348ee12e1f0da190d83b8f0b5f0c3b85770b3c047fb3491239b6ef7d25e8bc041cc89552b53fe9af6f71f0ef740ad0df462aba747682ff8d283a64da556da80825f3fc189d6d6f0ff5fe35b21bdfc7ffce377801d03a483ebe6b0d9387b5a627e1ea6cdab04b6cf73b523c9e0b926a1e72026d41a92923b9b5a76622d7656a748a83bf499d392930cfc847c7c01cc7bc2f20cb6a1e28bf83da8d36e871e9800985c284172815fc7b93192c70a217435933efd6f2774f0609b6bc95915575d0364c5491fef5c1870f0d0659ea291c1be00dfc04295ee33f0d723c1a31b47418c5eef86b6a779329cf6d187f052d688733f9808b4779e8b9d56b333dad3aaaf9dc6f46eb8261ed346a59dc6239695857d6b7ac27d3b7bc7602e149b5d14d7708bcc475a972cc142ac6a694acc8e8f9d09c036906768535f9c96efb6981354f47d93136bfc31e1841573e3f8c5953f0c594354a1a55a4c2dfcd6a6f4889314ff36d67f3fc7c7009ff4cb5cb04ea53c6211e55eae182137191d7a395de0b62d6914fac80037fcea5116a89a1c4311e08ae8a410efb1b60e07eb72be47bc5502e1fff47b5a60765392a46018952c17b75915aea5e824c0c3062a577f88e87ddc7a207b26a1e1406b93e6a355496ead2b612b53bf534dd9e08a7b5e13f64ad3927352b37bcdacf152cdcf76fa098d4d8bda237f5c7981a89cf351d57806cb78e3e6e5f70667b568e2c4010679761536ceab20e9700ed60582f09962b1f527841f34c9bb02d7a21d8cfaa569418d53831a3553c6f1394858b62d91759c0d6a9ba290739ac6f64b24fff82f289b425ac8934d5cbda86b4dccaa334f93399b9371fa4a83046b2b13f30d01153054cd86f6b1ebf1234af5a62c3e33e77fc63ff8c00c9badaaa1ee9b7197a4a533d86e7c68e3933f17eae7020ecc8cd29bfd2133aacb8269a243c0782ff88b9abbacc91adfd087fe744432c40bafe8dd0c6b4bed28cf93ad41ad83b4f0de1da67f2755f04efe3505697558022034696a58c5ea29340e333f9ce1fdeb0e9225fb5cf648fe70d358ee5387ceab0a01a1a15f5b8f60266f1d90f0c3f944f6f448eeedb0b48bde7928ab804533dd9877349c7c47346fd045455e649e969b08a542112f029df2cbec9fde39156f7e349e3878df65b126f0a3999fe182a69792a4b058e96c1b855b83c4ea05956985e53a65b71bef0e4bd223405f7679aa7d527bee4ae3b1a7c937e09de622cb0460643efee4c907a7be2a1dcb19cf50ea59fcf609451f9712fb7179715ddbd87ca8332cf0262718d4db26e6a901fe0a03d7d39462c43a56da739afc8cd0d3b8d86709c27a3b3013941f7f6353e22e9409cdcdba638f4204b2dd8be83100d2a371f0904e5bfcd36a708f49672dd16c7d75d29d91c841f9614377924297d92cc1aba53339eb961c3ee47fac1f6bba7746514b2a3356afb5ebe21d260c4d46c60ca93abd8d4986ee2dacaacba8a4dfba9de19381a06ee16d4dfb7359bd16edfb3d0f991e007cdafe10831360b9d5cdb2ff3ac8d4d8f04db5cfffe868f152f5ed13d089a4808c056fe183428467bf0a968c7c57e27969a560d5a9359049b8f56cbfabf20b995ff5d820bf87656d899291009817c273be6cc8c425e8a2818614ce6137e0ee2ddc5c6ff0702baa4e6472a80af35438f1a3a6b74d620f32b1b63ffc5e1d76889b7c38b1a96a658b296d3f2d0321febebe36af338f32a2aa0b4f16c1538b3c864e265773896371ea1c5ac9061721692e548f05b1db4dc7ba11d0b6ff59e6221a63c8c0bdcef56090d9e2615defb3080448fd80cf2ca60d5f0766e2091fb36be378882beb87b16e71e0ab8d3d37aa97896ce9c76d7b0dcfc74275627633d59350602f21beb92c1bbf6277d6f3882a7f4288fa522cb824cf55946a2ebb4ec7adc851adc80e0f28e48de5b636f010ec7083886250cc5f2dc819eb264f0af9f99bccda0f39de4a16cfffd91ee4fd894f7a9be588de266b7b79acac11543824bf5764831ab6ecbb96fa17771c520b0a8621fd7e7742f47355c13e2335c435afc5867237aff902b0688b7b9c1c2c1b61011f9d69f484ec69415d5a66bf591f598009adfece001454b200bc43b12d12c7b8696db68a9b4029d230de3a75322da76784a0dbc0f7176337c7c6458bf4308967081147c0134358c7bbecf85483ed9fd255d63420712314a4b9ddacc3a57ff7523aa5b3a60b5dea3a1764bcc03cee6a6a5bf81795ecb12bd7fb05ccc885d7c74945733dd6a1b348bdd57c74b909982526b3ddbc821c401b2161abe02b9e987306f2de279786484fc676fa08eb13007690ff7e989d620d2d8292840dfbed0e0b282fa23a2afa643723447cb978259a83f7938958f8f2b4ef60cc5bc912906e61fb4b52c0f05dc1c6a13637aceb7b735511eb0306b8d7a7d40c76258a985074a66fcb2394a623105a22d8fe6cf57fb75a81fcb90854e72d94ce5f9cf9a3170e49f85308078aa9ba90a88527d7f4c37cd263b9f2b2c83caae03a6e90d17178c953a7a89fd221cb51f475dcf0832bc2dbfe9cb083ef4683586986a959466b2f7008aee8986a73f06324a1bc00d2deb72f58f7d96ac31be933688e0db071be35fdc9bd8516c425aa41d7a46f280b306d7289d772f7748e5a07cc0469e85e08b267aa0bc6f7cbf85ff83fd7cc265923e70d5e082cf0f2cc1929250041e1692b38c35d9fed78b7965468823e9cded9d4046f2104cccba83e428ae92f4df55b9f38d1997fb133138d4ff9995cd4de978fb4ddc6d82374cf5ddafed619f70522e8ff0cd7b68a02cf20afdcf4c65bc7085ef116163fa61d6c2940a561a86c7e27cc0b5d75ede81a1c1935878c8d0638cac42b50614ec2121ecb847e84fd3124923fe93ab14873989764a77a1fcff28a931cf9b96b853f66986680d422f2360c00d243746e7f8ab1fa739d670b0721eb289144ee755aca576c7d2f81b06acbd301d6d106cb430f1bfd5a9317cb23475435d059af68387b16a61b36a81dbe8e2aa9fbe7ebda7121fa7b67a4153a708f558c8e41190175b736174e8ca3acd5622b3dd36bc55763dcfaa7bd4a03c927bef5bdd88a9a11674718847a9578f80b3dc846b38edbf23d1dee89b8a7175bf1c2989eabc69539a13c2355c02f97e3d142bc0f1de3e93c6c0db5672a505c078a5619e7b984a103c8a436683e310a140983abdcd5b2503139dd5ac01cdaa8619a8598525f05c6113a0319bb52f1289f00a9eec2ee8a2cd4301ca0f4faf8c792d9ed9e44af9ae83573816ef9817c462a02b05a83a5d849c1aeb28388de86fb96e61d93f7fd1dbeb7a9fc55667d5072587f2b38ddb4907862915b95ae9b1b404799f95606a900fe2d235553419e71b922b31f446cf893a3b00879f8ac2037af6aa2cd765a588da404e849ae5ab38c6a1fe1ecad868208c2639cce5fe5ef00e539bd392ab1465ed56b9aa5c840c8a41e5892e7d4e6435b48b0c12594dda0a621b862e671f9575d6b38d0692ea2c5b9114b2efc68f01dcd40f4da00949dec932507ae9fd40a35050432480cf6376824a3f39ee3e85dbb029438a62f6cd617143c08f9e715a21cf52219ccb998e3cfd1511d0fae2dc9ceab8d4d62dec1fbf0385235f0cb3633ae3d9aad2b673f75c6768d174b55ae50950e4a946f239fb2c52b6a793f6e574c4237a33c18c557167730f94a04af3c1c777cdf516ae247d5c380dc41754e2ac1ea19f8c4b1dae7f5346b3f9829febd955afa39e61908680294500d06c1f24deddc4fbcd64d02400045b0551801b638cc312245fcf90f9e0982cbcfe36cb23944a88ba0605d28164ba61cd1cac71448ed43ae7200f7fddd9801bbf942ab97e1c29ba73b61b0f5e6da2a5a2c041af320ee23ec422b91821d154f9a011bcfe579acbe5b4add6f384fc976ad545d297ae0a226ac51fa3b9fee5ef806cb267b32f7412a830ddeb69ac78604208fb4e09ef8a40e3720e5f175c07defc8a540f833369d5e99f0cbd71f60e4b738798fcad2d6c3b04b4ac42592d0510de42eff6331fefc0ecf84c446c517841664f6e8ad933c468f41b124ce75671246785ee006b84d8c1f4e780c9ccdeba3ac6f920ec5b1f554bcbe93e3ac116532b6441c6e84ea6df1627ffaabd89aadd048a90d151630dab5ebb5ccfe57ec6f9d4b3473b976347e681cf886bfb1904c07efd9b5d5f30d232ebde958b6e49aee503853cb6b7fdfad16e3e0519943fe328d048e11df6c086b79e3ffb2320d564be63d3080dfc3e204f0af294e3046f4c8f1c7567a834a11e4345eede3483222e3ffbc8273ce0079ada993d03fa93ef5ee12100f5272bc78bcf09a98657e0d14d660755ea640e8d0194bf6d1f999ab6d00af54af9ef04a2625acd69e2dbfe52583154f3d8fb4c8fa73cf69f3dc88cec1da7a76e2b9365ff70cfa0c46a51c1e915b945f08257118c327973fdea6a6ac99227672aac0a1115fa927e25b246f9a5c91dd0c90add367c301015a2098c4170f0092d1abe55f709b53252373f1be4662509c605b639e5c00895bf45f730b74569444c7b60d4f146bea38409c63775348b87123d51fa31a2a8c6edb73e831b0ee15ffaef23073104d3fe6c4b848e0a651d81f92c30838dff472651ddb00bd59c1e5ca84b1137678a152791797aef73943249ea10bc5d818ed1ddc9c754b935a4ccece8f082eb75d1dec499589b5a87d87e678890a22b89e4025cf9872f84675ff49d5879235df0c69d64efc1dd1db9c02790dcdacaf9a6083364fa01e6665d5acd7546f3fdde470b3c3ed7af29300823b2a6fc691a54c80635227448708871162c1e68a349f970ea0a2c0e4f51cbd17fa7d5e99c43520271803a1d940bd4979bce4232f446301e5cfcb33e18d5bb4940cf19fd644597615e41d4619932ce54243913bbe97314d12aaa66fb8000fa3b789200369a11279c15d85194159adf8c4fff64ba6b27810ae4a9b6a4329e5c32bab9078ea86e2d12c14a35d6e68c5f5956cddc4fb9b1f8c51a4393e2b672f0ea927b311ede8d33a32327ad137abde8cf292487412909ba846ca170f48d03d4d07d25033a7f3b8aecebd32bd4ead214634c4a7210f5a0701f2b9092f2dbdc4c94f6562687934eafdd43125a057a4665bb3d49c1e427cdaa74714c8bf64a8bb18a21ebe4b46f3a412b758f30e39d1eb4c07e240b2630b839e5d3424442c5d692dde8d6d2379899ba3e1e5268f42bec53f23246c1dadf705386c31289be8bfd5db68aa7bc80950683488fe5aa123a4043a062ba3bc47e5a1b77a12f32e5ec2616b7693bbf8dc2c645c032389e8e58e53e24d239e0c56cc9a81068feade7a8c29032f18d41b833f503ea34961984bc18b3b381c428982d116265baf9d919f460ecf5cbdb3f7fc83ed60adbc6948d5992a36178e26be7358bd3931b61c144cc48b7dbb3e4699a1d139cacd2","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
