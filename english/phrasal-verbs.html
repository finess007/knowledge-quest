<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"8388f46466ee037fd42aede8f266008e63e739935cbad12097379c5d7c2214b9eae391278089c2da70e3b502a81e7993a2946a18e7ebc8ce9b731e10448125535682258bf49f2c977aba40d62d6033c647eb89af8faf54251415b72283ad54a19b137f61519df6e1d86c0fe11a70871b8c586bbfdfc01e4800ebdeb9e4909106b1702b506492f57e8b544a931538293802646d5bdaf0e3926694501cbaa8b8259c3a2112b5a573781968be70293e276f1c377423233406e45f3118f83f0aee899c7c69f932d21dcc8587622c1c9e7183e0480a5203711f429e83462a36df69087e920ab6f78f4a913536f0f250747aa349c5e4b514f2b3b042d7e33f9faedc13257fad507b03529d8aeeb888b102fc876e0254f75d5b93c1ed2ad4fb7c61431ca271c3d72349022c78307f500e6bd8cadeca2113a07c1f6dd9b1c85a0825e039a39a3b730627365e7d20c6a0d90f1aefe135850c8ca33ef15e04e99962b0ade23690810b7e4614896ecfb3314b784f5263e87e9b0026000b32343275eceac50bb3bfe3e6355f906de29781657d2471da8949e5383eb651c52aab58a889c43f570138ce50aea060e4960cae050822de79996a40a7c18cf96bdca59be7d03355b094386a92437a758dec20379d1b49e89260926e61212d4f54935bd984e5d8884fecca3d0dbeacebc59e05510858febaf2c98e23296cab81421932f8fafa70eff961148754eca30cfd716b86170933bef3f3d12a18f7eca05daefbb38502041e3ec21623db25a260261d34aad9d308c67e03460b8d63fd5accb06addf0b22577c9fd16ed5e6ac19a6207e0712f0add94cb2b38bc1a54d0f723708eb36ac6116ed043f5b523f7a2b0ca8dcbdd0c8baf23b0a442c904e5d5058b0eaf7846ab9e6018b11702fae8520d785ae46ccee94f21fbbc7036155ab8c4cc32d62660def37cc25b2ce48d5c7308f039ae33cc9ba127442848d0f1b7232c10410811c428dcca602504ac9e079cd517a9ef1915d074ebcf2dbe5587fc74c220233bed04cf3103fd7b7df5439a0da0cf10c817417174e3bf2a6789f7c9a71185e1d2b97aaeacc0ef2f5f154402fc6240d924c732e166146186da54e5f3e192b197915ed1bb9d189f9b4cc8a39bde23094dcdb7a2080b3e276475bae0cfffd844b846b2019fea115e69b36bf0347ac9b3a483c53e775ce367b74b9fd6b72c2fc536c3b3a93ba02d2dc8e9d47e9b760d77f3c053a473f2320f3038f43e551bb90d21533b8108d47b8acf71a08b363353531fda954a225655f02b745c9f708b8ab76329e0a79454c7b981f94145cfcc9e5986f092f3d44cc5cdc61452a7706e2e0bbadb203e20509c830db4f324adf299b605ec4b794777b8a337196f4802b72102ae3df07646052ec3cb68767bae7fc8abf5f435c2777633491faedeca00ba229212fb9b491484fcfdf7d0f9b519183ec681eb4313855749097781109149cbb45b57a83964a3bb61d6859d7a5686a7f6486a0a1a2eb079c92adff82ba033d4e40033598ac16d705b6bf1bf6bf48b9324fcdb43b4c4c66e8a6545983fbf395f1728a209bea11fe2f4a8e5094fafd5f9593d7cdf9fb3af15150deb2af08bdee8d21153b8325c6941a1f611d924172e3ef05a821a399168ce1b9c8dda960478aff0ac126cd5eedbc9751b688c196231b5b23fa8c750e7618e4343fd1e11387634e77a51ed14f755aaa736e28d429f30d50d66561cd0b49f7eb5bb1bcab376b678ab76206babc7d2bda174cf9244d22797bd478d5a37737a54eb950c01ca4e66fd10484da335600f78bf333f9f5c6b2ed4c67134b9772471ae50f2f095b0de0af88f2807554783e6d9f76ce6c560d05427c976495b6eee3956c604022d38c7b293c031f66f4c6a661816a8fe895fa5e70a25e6a5150716dc89d7ad17712e5562435ba68f6389134a2e8651f1a462a8d42129742db4b5394084f00bc0f542c26f82511440e462610412f8cf1728897a02de58c684be51dfc678a5050ed8faf55b1a84e057599b446389870d2635a2f7e3fdfd3144284663b00c600fe406d2749f64cb12bae220b89d0cf0723d7678d38f7090f7f0e2555655704e2cb3c3c4db891f27806686c2f4e60f90f91878adf102b5a26604a3df8cb584301ae944e0f580ad84383cb3a5938fd0f47f6dd630d00687b69da36f88c9f85ff60df60762ed095be312895ae114f9e6fcfbcfebc653e0a5ef0e376c4eefc06adb19a515ff02fe4934e98bfc678a35db0ebe25a6899bb61579063980f631ddde259d21d4342acb4905050a3e65777b36f1c6cc337f47a06385bc0359d99952dbb7a7cce5bd5f823f3470816fc16dbb672ebf8d4434b92d9e204f236a455ac73025b5cd911813d1c3e2d542464eb422e05e35817dc8600aa80814b49a7c5d16939ec48b295cffd43ba28364090cfb5d3f1690133f63e4a5fc0cea0845c2bdc8e9a49ee30e7495f8a242fee6f51e2235351c205e710499ceefdadc2fc545512e3571e7582d947fccef37bc2099345afe7cfffe693c6d160aa0d2e101520e062a29380294cd0a57dc482d88162bd207f743faeba709472700911427b1691391469d5783c3230e8c2b148f3d054e09445f85103420071e7c53c0a564630a968716829bc827b5e4351d65d73084e959953fa0d838c8f93a51f2bc1e1ae84e36aa21b7cd61fcfc7944671e7511caa79fce5e5249ef5afb3f56df50583911bf84bf880e6e8734cba686142ed2ca2b2194a1166c0d0682a9bb2a09826868a5ed9f4911ae20af3abd04f603c48a0ab6936323b579c4a4425e2020cabc92c4679f874daf3740e59265e26b9e4e9b808a2d8cc611606b61e781ed17d7acaaf836517affa291d3e532bcaf40bab1790262f43f06130596bf52012a35c425cefd2bd186c6168c8242ae012de8ac26f225eb75e2929af37f61b4c557007516f56c079231bb655221f33df2afab1e0af447ddc5cad6519c44fec15da1a4debceed9fa515541826fdc736f2d4054068efc80532c45c99e8bc8ff289a2fe81b55e3e51b53fe78f82478544c3a69470569df9b06675d47157e31f23d5188c000c98a2bca119fdad469894c43f09f8794b62c6877fd35fa31ed5e800ed7147462efca8fd1d34c04ab8c507caae9b27e528abbf0f22a73931c180529ae729f4e7fa30474fb6aec6b6b8edb1acbe1c306c3cc8843ca067b025bf28c16dda7640126187f089a82b674b37fb4d903207ec1ab47cd6b0f9bb5f6633b1e61c00e32caffd162e62675c4d83d1a1dbcbf51b0562ee4699bf7f85ba47df81061d725117813dd85bd7c02ab90b577e17f1498ae27f2e91486822a916e5598781f6e75e29d3ac197c7d5c5c3edc743f6657f0092748309e416a2a0f2eedad18820d723db0ad5ae27b8657bfbc2ddc29dda48f9a19acd2167cf9678b48bc09ef7fe4d5f6bc823329407b8ea402046d46d1ec8c0348ed26b7134d2053e7ce21cc3d768de3b327e3048bbfb5e2154f162bbbe746c9b7e1383352bd738100ccc577603c26ed94ac15e61dcf2cc46457e53394ea7875529db47ca17d8eab82607b80c2060536558fa26d17e359449e76a5c896ef5468ce7c3cf8e21c68151d382645c34d325d42b816f9d4e498030383bcdf32924db1cd48ac59e470ad9c3c3feec0cd8c810331f35b127abfbd0e8b3c2da9697d30001a2e63c5f5eccf58aa32f87aa4cd42f8b200ed095058ee345d1f5fbd19ae625c176771e334d1ced6ff382f9a8aabd0e897f831e5365406b498e54ff30f22884360b722caf9af79da1f6a2031cf891bdcde9e4ba08652b272b63165438ebd513df8dd0f09da9ce59203783bc2db907af0117460c1ec6a033adb167c925b6c8d303cb532184250d4fcc36bfc21cf5a27374759acbb8c5cf19cce651b98efdf9e5c4efb597a5a1913ae461824bad74adc0e7f2d3b89dce24235efdeac05d103511fb475a37a6ec479211615955818310980cb5ff1894d9c77fee2923550e13aee6fb86271f22d35907c6174e732be4741613a53983968788265ed8ae786c284b7b565d0c140740194cef69eb45a9b975cf3f72c22219332fa7fe01a514d49134b17e5eb6a700efabef9225c47476ee46e2a60fd6ef8286090e12c001d9c15c5ccb1a93f62fba490a3660934aaff492f428a8b29db502f68ff1a02cad013748792e4d233825e189dda68e024544ed821170a74a1d419db6645ee4b765ef89bbe36d8cbbe89511a94e8e46abf7fd1b7dfd42de828c303a551377b2a8bba20464da7bdc94943e991513c12400e903fc342b6ec05dac8ae78f789112394d350d9d029e9dfc27c37e34b8fb64692bd4a05a660ebfe2d6dc023c0533f5a8c099495ca658c8fb8ac37e7bf04cba643aee7a9151d555c9923c9149f0a1b186a17a199278ca54965f04eb65fd21b3d5c552835f1d09f3bc32117f0f619b6b53a98675575d52a2ee01368ba532b5b32fe353288d5fd18fa0394261cc7e59437f0f2e8ecb4d119ab5c84aa75e9508baefce48a0211da2949ad38bbdbaca712bf055b2184b678024141c5d37a47e24637e136f9e5897572966ed864cb588eb992cbcd7c1096d801a8e7321babbcfcda52527eb4534bd9920d4779357b710a95dba44104e6fd0e37f6a12a30427a5c50d7c1c69f553e03a110d04e1c7627d6a4c5e3b0288922a283234823e872771eb0323f9f42866d75ac03726f2f1fae62080ace493d83392bb6467f1d57102ba4db301bf925c9ba4e3e0e5b7cd5a277e505a5e82b8a8126921fccf582fb46ed7ab9572bf8f7f0969c8bc7d7ee210175a7658319cc7ff20741e13f7d509a30bb01e8fbf1248d273c0d304bc6d9369daf7129b34f4b7a115d6487af28613cf279737e5618d6af43f5bd06f87ed57c4b58cf4e90f8465ad18a1e75a327f98eadf78c82a5045df2fb7b7cfc8c88a59cbbd978efad0f4e3b4dd87392b21478b6487545724c0290670147bc8d5a33297980836ade08e0caef0c5e3a34636254e1d0eb95b2100b13d05122097116c574fd82d3b3c14501fdd2ad21a3a41f95094d5abc325d88da7d2b1654a0153807785821b2b8b8a0bbf502da6e7fd4428a8a657f650405add06ed12a24cad571488f106423bb788e5261ac6dc1cce02ffea66eeb79810b98fd8539e6593310c268b98d96475dd880aef4a5cae4cebeab7e74d475133d586500c707995eff371d223ae95dc2b2aa3bb8d98e22769d4fee22c4dc18c6e3f21bdadd15b0fdacf9be7e4c175182f46629a9efd81de83a7f2ff10876626ac7cc103028a5db568e8aa28d4b523c6b2d3cbb3690172c31c53742941f31bd07630888332c0c2926aa270f481c1f4f626daf3a1f8924353c732783050d8a1297747b4f7b21969f610f29a0bfa82bebad490cd0fcad55dec23225be45ace753c7511279563053f1e92a5ea50d51a5a0bff50403b839537827b2317da0a319ee918baa5a371696477d5178be143ec8d3c40c8e1699aed82536c413fe8edfb40ad207f68bcb230f0be32a58afe7df4e3d219af61233f6bc3a08f608137add925dbb8c5745e006a0e71b4136b9f28ee86e0486edf1072b320bbf0befc07c47e1984682c88f369a66ab55e9d559309f85770255d71193bdedd33b430cf7a49b43dfc9c2ffd307b019a7c0487270302f0b3e941be4ac784a9db400b025256c15d5aa02f6473d170c2a0a4691fb82929e562a45850325d1713e6fd174d0c8e8dac1a63a30a69a79228a0640732dccda48abdb4a4965c674a499b009c8094cc29c4a48f1b35d5283bfecbf7b3699b307b8af8d85807f66b3e63d6fb80b1f0a1ce23ca8eb196fd6a5adb20f8a832efff314be1d310fab9d2761104711ee52a2bae2b9cae42f4eb5a612f37e6f100c6124e6db774d8b795b4d54e3e0af9ed21e74fab1b02544778b8e6a0fb35af785d9d91dd3a1f653647b4552f6caae5d99abd6e3f33cbd0d24797fc983cf3cbcdde4421a639b9d7eeefcc3a0eac443ebdce30af114010b1bc1a9dbd289334e41c6a3de434ed1a8ccf5f5a413b5020535b1f066ecef0d07a5e9cff5072da81e2e4d925eeb675616e4730538973ec973cbe69beff0575d4ce4eba4c0fcdca29d2db5c0b86605bdd3580c28d2744c0482d11dad19730ee4c43fb7022ad01f3ec879a55ffa969f98953daabac26bdaff2fa84658031a28501d53e763aea6e2b7fe14bf4b54ee345d2ff6e30e197306e3f1f46aac3808b32691af27f403b472d66337bd9473ec418db81bf53a4bf61a9631c06517394540139f0e644ba02939f2e7159b9328f781592d8d427e6fd2119358254f01fbfa7783688dd28ac7a97ac2986acc20f4522e036e1beafbf07447f0b34b245df158f2d1812edc725272697cc70d3b22260d64207d69e3ee479628533f4d7ce09a247f6b998b71cd8bd2f6513f24639e0c149fdd81984829f39a1453c2bb6f4e119ed99977107d6a33dfed47a29248eb9d562d8b34049992eff6c395a58cbc1fb402def7fccdb825dbac3b03767f9b52e4f2161632e0cfac984f47b0d9b3bc070e531409aa9d7e7004e8b490972fc61e27bf8371a51046a7182d43fc5e418c384f7b14979840eca81dd1fa04026ee548bf59d6f9b7ee7938f6bc6210b9145a5421dc9416201f02cf9aa6e23c89e29ec4b94b15348502b8a3887d3cf7720f0d262e207fee33c9db4096e0b5fcdbb8b8f740546e72828c27c3afe8872cacf5e1bb1616fa9475e0d3a4a2bbc1578cf3b3ddcdf3b2d310f05433860132f92c2ec85ef671b3a76145f7532d7d805c160f968dde430149baee6ba102a8549b3b3fd70939507714ac2fa7d95b6f5ca128030b4bbb5206e1498baeb66ed40334a21b0ad891eec92d5d1217a093fa46c9d0bfa606aa8a7968213665453803a3926be5737b364f04b3142bb66404f4b941314c13d8d11574d324640cd5b60346ef6e2b3d3e2798fd045b42190fa6d346984be0fe9d92c95954264af181c2381760e67ffe614b8430635405a0a03f1eef04c850d3ca20cad2e2bc1b2ac1b5059a4b10b8191320e047ba45f473fe5872c8c32e0af095422bc7b9390c141898984abd6b50d3552ae768e95628ce4ad4cac7373e325e193743186525cae725a0ec9f13a591d619f0690b2562537e85ca0335b1fcb85809e7405fd1d875c818b852d0691bb06254a87494a76a7f9ef736df995db2a247690763d83bfbbb0277572ec69057e8471a2473d2eb8818d125aad612e6748a4159f84b8940c9a2ac267fe9763f3fcc54d61ec3a5a3c70e5e7730bfcd8fc18fcad3018c529f658ec5f7aeb6be312d9134635f84e456d7b9362e616ffec7a05eb69b428a1d9a2c2dfc9ca793734afbd271c3a8eff2fe88ddaf8b9ef54232a953f0e6840ff32c0fabd1fe994e06c99ddd1c01a31a18809fa067bc74a8f7587313a22d4cf477cde7cb7af8fe8d707c69ac037b34d96fe8376b323882ea2cc78fd0f78f6f49e87c9b99430c6fe77f9205d751a7cda192dac0a095cec25c8bf2f249f1b27a3587e67ac3b31b8965c4310d3b24c1db517fd4b4a196d0acc7d5190b47eb0bd8df385bac179f96efec83d6f9bad7586bde02d93aef94bc8102a961c954a4da646a829c9c0bc7939469fba91a2d8777db7de6a8a44680bc2eae4f6f4e41fdf3c7d9d6864c12b4d91dceb3e1a687a23a9a5d1ce62dde9f85187e9bce63974fa6e5d536cbd34761402b59ce158fd2f5c82ffe49d5911baab0ff535135ec3d46d45f0faeb809ff07d9069c5f1c72728bb1093671f14c2b66b4b33f4e7d503c6adf49c0aaefa0faf8ad0ce64663e2299f56be1be1055ff8d0526dc3e09fb6124e7b827698e60e55ddcb7a3c730dce5ed01d910c8317df6374d428fa06f99026aef2827eb2709ebb4f099752d90f7def17899cb8d5036c597c10ca13e9ceeead44a212443da363cfb0d235ca2a5d6a01e45105bfeb2147c78e0e6220d0682f9dfe6efbf33a1c525f9d9b9317accc346afba18d251420557c3e77343045226f3c7b0e66069d6eeb5a7d4430866c67c36d94d4a8d8880ae2fede337d953bf573dc9dd2d7d41d36673404281501cf152f1cef675a4f4d2e9ffb01c0108c519d1f3c29df6feb4d85fee7cfaea063bd6c29b58629beb756e6a95cdb1bfbbe7eda606ee59fb5c4bf84ece3e8adc0c6fc9ad41c88f7003c6318c0e70f391f9a52a542736b7059403e3d096fc9b96a812a294a531865db747411d635e783fd1c20aab46e53595beed039b64fe0de570aa3b0d006bda0e7c2be7241cb9c53899a4d3bdd14b5461959ca005457c2b3454175f7730e881647248a02a9b29ef4d0040ee16a971af1a42b8bcfa56dc79727e7098d761940e47975325d85d37a8edc7a40ca1520c1667f63af9f651b5445ecf5a98b62e5e0db57e5787831ec41fbeab474d4b792a04f1674e03fe003789062686718daa2fe30d882bbc8fae84b97d6699ed9f06f7d624b7866bbe890b2cb4995749d66983933fb833e1baeaf40b23066bd213d6e248ac8115b56f6df883d6c7a73040cde24636970f976ef2a7cd5d2ce40b6c5c0c0df2222e0fc0d002e46abdfc154afa28d675625019cfc4ce9e0c3e3b7dda2040fbfc984bb58896569a733bef9eed197a8d613ebed07190d1405f367507011c45330e8dc9a5cbe75ff9bf7d7f40107aa6f9f96b96c8adcc157d66a2d8408ebe9d98dfbf00fd9995217be43945123308697ad7e234920d4e62e403c5ed7b520aecbd253cd8bf54b23e81508f1b134c7ed53fce30a49d1a35406c4d9ee6e604e9082712a342b2150cf0e40efe74a05e9d7ee0ea0aaed5673e183d864ffdee8b14785301ff49df2ca290359602de9de2f4232b75d51efd2aaf34d60901ca328c232aacba1498a9f4a9d019003c60318347670526ecc6c8b12700b0accf4ee27f7c2d28377b58c4e2dc144ad0884aaafb065b92d74af0a777aa3d7b45f764c904fa239d688f502d67bcee7810a3e5642351800a68023b654d24ff4181f8aad66ac27745b3cbf285fe2a5b56cbf6af5fdc639e92cecf5a4a51f6cc06930cb7a1aecded168dccc55dbc971673102b929436cf1f43bd166da86628d07b4ef718ca320eda035380f7c798a67f1892090ab7c47e0efec411e3aa4b8374dbcf97b7903286372b796638e0fbe4d26ce4c6a0611dace0aeb39c6ca243a82df88732fd1ac689e5e99ee464eaec6f9c6b90e7a1717cfc0b7c90428ff516ec5eaea4bf2aea957d5da7777163b7977904600116d34366cc8a0f3f9f355cd4320da8533aa4b70a618f678b0b18afb3e53a3902a9b52a6d51631e778d6e124bb143301be39a1697ef4990a5172bf71f0fe3f0dc00260f4baa9075f5bc8c5e0a569830fd1cbcd0366b467e7b49f9e2325e79282e1b3142556651bc1ad66e7e71700c8288b4e4565642346b332a2adad3d5f8ac363fcbbd84b1f7367b8af5df6ca1ca8c93c30582d3f86d633e6c140c52336d0293156d2c40c9aff4e6cf7588a35156ef3de95eb8573be6a31a2efd13bae311b319532f71d95e08cb1174a92e6f19bc6430674ff3315b4d0850377a40bd293002c31627e29bf8f5e6a1593b43e3bafe164596b1fb50e6b2dbac2f026036e4233804faac684903528bd6337785e7c6777e3a4a8c2afc39018a23b6dec30adb4522fe8486828ecdcffa3fe38e93480e53497b6dfaac991315028227b93743ebdcc283dc4b1724226f26387a2638a47ebb68b89d9f0491af65abadfb3f39057ce0d1c037232df4b8271f7e71f50a7cb147ef2399a3cbc6f8719135bd39dd6471e064b2181003fa7dab046348733d4b2861bc5d5ee6156b4676ad27383433749bbcc3883b97965e301366a2b9de8f865e853d12c7c8375f09fc896a988e021a697ea5b197cdb16b49cbd256987dff3f1fcc58adcccf5020faa704bf80f4ca5358c897ae1acbcde493cf4c7f4578b68a992e38cc1ad503effa41c08f8a34eae75d3cd951b715f83964419d444aeb7f20c7a845fcae0199a02631116f29bf0dbdec0a25221cd9e0f08c428240232b489983c3ce4401cf9656e0ffaecb82b530d8f0130006c3b8784b6b956e0919541f687fee75a33fcfe6c816dff1f6944f3953e4c4fa22a8d9be77f6acdbfe727840e0be0d9783e5b3ac4dfc3d6f08db8cb4ea2b0d148f94dc20fc747712207c1cc9fa5bb8296f4e14ff165d5ddba567a72b43ccda71bd736364b55d1b4aa0e60b0e2568e632ed3c0a95c59c3c35adefbd1248216bf5fb1ec70a2729fc7a966bb4d6abee34b6b3f30ab429c2eee3369e9104c1a8a8977a1a2075cfd8426aa87ea4583eac95321633cca3f987fb2dc3443f9948fc9480c21cdc7dd13fb690c079fcf818a19a7b3caf29adbcd9edd054a277b241e6970a260a1043330f0fb98e4d957cde2ab27cad36520158466d91ca19a49a29f99a197b9425e9af704dc9927ae456c5fe6f59b168937e169e925cf047235b4dcd5974fc158413cb3ac24474919b34c3e525cf7ca910846e08e9337328e95705617201807c6331686dc1227711bc6a7a022d05a825380a75f14b004ff96522fc0f7edab3a5e82aa1861d0a1bdd5b9781022ef952d81265d5cc52ba4ef8205c4c9d770fa8e23b0ed20862df2225cc61036f2c653f46ae91dc8c34994c2b68ff880a3e4a2301de1401b6acf48b4849d6c8cc7509946f26d450406ffd8e80d502d5160cb9910f00589225ed26e7db64e0b6168f885d233c91faeb28b95a8770b86eb8513ee92a4adbf451e00129c40aab0dab968ad24c2ca99d5355f87464c407ecf1a5da8e38627f1f40de21e2f44db90abdf0bf898c7b3a92edd42ffb41803112a6715eb8a8b92450c01bd3767b8f3ef70cc1e2a872a882f29334f79245b7feb3bc44def1829873180fc897b9d75723ef2e5c513a72a94fa12bbb8973f6a83ca0d863a2049ad15744ee937a311b51ee42988c08efd928d038a0b0160f772226d3cbf8b2acced43b30d4db36c2e3639197905b6a2a1425a37ba06787ed0520efb7d552bce687affa1c83bc0c3261efadc0b5377ced6a762ca65878cf58faab2595e65939fefff934508344db272ec6bf12039c3192afd1f8d5a22f596fd22efd636bbf028c465418bcfd20d61b56a19ca06681b1b797f499abc31829cff5bdf0e36278be52323123cb2e41433d16aac382c405f354c37498ad14af62bd24de38de1f6bbd8052409ac6afa1447c16519dc6719905a4c4923bf7d08058f76bf2ec52c0c7dcb4faa0791bec1336737e1f4b5140fb87a1e950d98400deb83cf3d1b8b6abfe22081eb45f8adacc8fb5d0438e17f3e73ba27f9fa3dac658d71250aaac8499ff7d0a146970b7d15c232dfc7d1e5ef57896ff3c71ebf264e54dd944024935321dba8b8587d895fbeee4e5c1067da14c48c488f3c819a22c8609109c9b48b3c1f2e32712f8e2c1e933bf304c58909eab833479339b150d04ad25f37116b4b4defbf0fb49b5569c80b84dc24e4f8eb8fa8da5f04ad43d16bb055df3060cc45b3e809039ea4e6147bc94631ead574c9950a1daa7202640acfaab852ebfdb2cbd7b349743fe81b7261e3493a4d7c5308e79cc60675173f0c81c3419b7517809bed9bae1626fd10b7514cb5ba3be64f42958003a746c80a674893bdf06ff3c6b382ce67c6eae6b52c328ad05e5aa8e01dc7ba812b8b49509ef011702d2493df9c57eb951ea7f2b33f27d5bbdd58cf4a3d7c24cb1561a2a036dcef770e68b54e0ad98f7251d782fcc2af2e6fd4f372a13ad63fbfaa92563db9eef9382e1a8b5cee41783b17a9bc94544a48d7073696576d433effe4ad3d34a1d95acaf3a9cf6373ccf0e4b6a8aacb966e37bc9a56d36e85f26d504291aae39a324323e246135537e79a26345113771b79e749206d6c546a20f43066c9b370bde037a7c36e8b5d5cfab9286ac165e01d3028fc14f375c592dd6eb5d8005d1766acd0b35adecf8f250ef97487b078b3dfa6969b43ccdee9e81fcc552242ec3b2ddfdad78489e53ea6ac82ddef81442be6bbc3c871f3a67ef66f545fd8b33bf6c3937514c7558fb33cd8393dc25981d032c43a4e09c24c4e62e03c789b070d9efbe18acff2ea188ec838b6cca20b4d604854c7a083a2d13b13f3a7c19b0c8a2929d6ee580e0c91db7da5d47aaf042db737bca086dcd37b028dd94c5b2104b819d19a735ba38fe238d2ecca67f98a5b8fae1e19b94956e820bb4408cc5270dd92982424528d81b5cfb3a64ef2b403167c945e3c4d5d201c841b046373a3a64a57d5804396fec0ae81ebebac623707223b01b575cc59d1c17db1623bb207b67475c4ec02079a183fb990ef5026ed4951f1ce38a4b8b5642e63cc68cd23665d025642e570f9135063ebebf78a0688625c59e91e216bbadd534599b174ed32607dc3bce1f5b4a879cb85d9f40bf27ee0593a6795a3bbdd6144753682b0178a69af4516c3bc0990a29bdcfb85f64e4b0aeff86faa6cf7dfb35dfa649548a28675a2fc8f71a2129a7376d1954e94c8274e41e7f86862c702cf7812ea01251e0f2a1819998800e8a329f4a3ed4fd348a4afa568d4aa24587d56a1eabc05087fd59fc187260543b17d92846951621e6a952e20bdb62301d1532b0781a99e195e919d04394517728bdcbbec1fdab9b6b2e1c6d5c99c04766399db80cf8cb0fb3e670f31b3b6a28198c8e456019cecfeae19ee0e8f26bc4c0768e409205b98562e14522c46bc459c09ea07783543d7222c501f0f9dc1df7a3012cd7720f05a95e2a992c3a24675a456b4ce9acedf7ce651a8dc6b72fa6c48e66c0445661f31c712e1f99e1ac8d6bb8f22523ba4b868488370952f40f728252c4788969c71e2439623f2ec0d5d100b00583eebc25744a2669171492eaf789862585bdc8f0736243cccbe82768bbf6b611f9db64dbc7a90056e1ef81fff0405c213855196ceefd7ef71b906e7f7f9cae6dc436a4053ba3913407f5bc7b1b777812775d8d5f867ab778cd361cd35f9e9583614158a88656e119e6ddfa1b2bc6ab1079bab733845df242d36bf9cde079765aad0c9f40654dd62722843d364009ff185e9d2408df9aefaa5e5d2adbf8fdf9b26f2b3551567a1ae9cd03f1055d4e86818ac38d3cefded4ebfffbd7a7d836e5a8a82657108b4840eae6567db5e9d447d8bd3bfa35415765715750ddf3fbb6a1b7e7f388163e61fabe560ad65c4e43dc7668900e8093eef5ff88acc9defa53361f9c465531fb2f6f887ad4b13e20a46eb4ef442dfad1e7f4a2da2977b36a21203979930df214035c611cb8cb948a0e6046c49e36c188157fe6ae461d955ab522aeba27d527160401652daf1cb2325874c3e54fc1becf6669d24a9afea32c4e924c9c03d664aa7f9325c505ecec338b55d4a3a027d85c6e82123f0ee2358f47a411e1f4c3e21597cdbe20b928a4d03adb6500166d5b752ebb03f12c6f9e8f5c3eaffe7c6cc7d05ff3fd53c8b77d6203c1e459d4ccc772b42ec0df6602fcca818640e51119bc8e462873145cb027c435fe8407d670d65ea0f3ca3b403041df8d241c1aae8ca39e12256bb9e441235a5fd6609587f448d1ceb4221c78bdef1a440d36d2694febb35ec877e73d85aa1a2217fc18d501108b8b57492581f98ed8c7f185f36ff06d2dc02f1854b07a26306ad7d46dd4dbe9deb56c7d6ade470f936a91539dd1c7bfc60226edae63e1b2d3d141c5e1a19eda2230f8ec2787645e636f1f835bddcc21d48f2cade7652263ed2e4a1ff3b7a29ca792a5bfa7853ae974b5e809bd2236fefd635695b06299cec7aba20b1262abd3666819dea411d69a81afcde9d527574a2d159b5782d598474fc8dca4c286bb432b188f22eb49a2a8e693cfe74fe5b68b25b923987a89e0bc96b0959bc579a2c6f95ea1a39bb76cd088c291dd50f95b56974246279be756d00d03373a737d2565a3b54e713166fe7b81c034ea694cc5ec9303fbfbfa4f1d013ffb678ab840017e633d4fb0215af4790070a5658b958c8db5c1d176291c2d1e6cffb28217fdeae8771adf6350c9775d79fe1855c0636adb99ee20ac423262e2743da96a49f70dfd7f15c321f1c56eca2f7c830d862d885470bc23b4e4d46df4ba924e84eb58db903f2f02abaa2b644f24138f7eef975728e3f3ad4568e8b1b295c9c07b0105f5a3abc5c7dbf59bd303a7861c603082b1cdcb668b6dea9ef48651689e9e9ca7314f5c5c340266e2514161bf3862ab8dce3e1df971c5476542ed16de1b664f86abdcbb88505d798d223a9ef7b55601f1199045b6d68b0ae4d9fd80a44501487f3656fa60d69db8cf60764b7e31be376c59bf14b86fe3a16d1b376bf827a4f010c2dc387abc29afdd23245f793c1dfcee1a307ecb5fdde8844e2c99c010f8891781d0b08273cb12c0436875b37e9fc58992ec17d82f5b85cbf43907084282761d1cee16808684cc8c0af6cc0c30ed726873c683908a9deab332ffbb9ca564bab7f7fe86e36d119a62b5326ad0451715e61b6fb9fc023e69c6dee7f587466a95e527b19984122fac890bfb2c21ecdc78a46d7d56ba4252dd73f3986fe9c4564d71352bf1f233e450c119fe64f2dd367feb46ecf84e2b77e3e4963617449bfdf538dc4a66d467ad7e593174d83c21b3edab6a980299534422fbaf762a7bd459be752edbdcb145794be75e4417d3598e8ad7f009557b88a4b6cee965c285bf6aa910a97caa76e4332c02b2311134de81d17c57e89f5237b28f8d8422bdaf33c81d09a6c0a9371b4e2b1dc4477918585320c126c5ed0f83bff0729f79241b4f66d95b9f46706787a12e54fdea8949d6327c4e7cad95e08c2c86791995f024402db05bb5652893b71449669423b08f0ba939f611a9aaf4413335eb1eee648a342521b4cc9cc796f9dd0c7700bb276cb6494c2608f0a20960e56377fa30fde07ba8547458a99e74864cf478b3842c8154c9b48ff87ed73a6809ce391b8e21b67c3cebbe64b2eb2807808f1cdf7c9ea38e24f97539ba6e2fc630021b09af9d5878e29ada0ee946a2120498bd53c553077796efe10e099bfc815f673104e63f1a43086a0c10f301854392f959a0ebc5a732503beab2d84fa67b69881e5fe378e6e374af98993a4c207c665fc0cd1cef8492849c84bbb211f9265a38d98d01b2ef46cd1cff66b5af7460ff5faf8501836d116f62e4ed27505dffd2e9138b8d36d7f4f3d3b04a492fbf73b181ed68e5300552079937af794f748e79e62b30bd07ee9339ba55a817d5d8fcb1ef1b3f05844a79c8c5cd11fe72e797f677c9cc6d78bb9441400f017be0ba2d2185175ae875861f8926e53f6e4a84e380bdfe9ac638347d25ebf411b4b962fdc22b334e5de8a47709ff8e61e774d4b5f2c8943904e0d350cb3b158f40adcc5609a1a2b314d09a058ba3543475393d3b61cdcdb06c0809f1dc92830dc171f4d764b2c22e98342479343797ede1d69360f05333c7217b052eda025460f7510e25a618e60ced29a71e5218b70cd3cc78f34fd8ab1204ab7110361e05ddba6ba850c961fb309c407a1282e4135d03da32052b1eb6d35ddbb4a426bf1c9af9e84519168eb71724a13a4a41a7c64eb6517e7e4d15956152b8e059efecea10b7f34be6f7e635e6790a3d95be34aad8a00a1a237167236f3093e69f0757bef4772bf683ba4a73ce1a3a82277bc97701900938778e94aac47277a4f7342fafa9bd4b2b58d81208965c85ff1da14727d466426f1a7d263782bef7fafc3aae82ff70ab69fceb3e5489ad799e9be96c13117e1b74193cc6f1a94554702be8c829c640708cd58199b4b872efb637bce3fe2c45c06de753db65afa1ff8611f92d7d479ceb02e6e021f29683c6f5f955e4872e043d1a3d853b9062b789ba7c97141b0ba1d21ae424910f7a65f3a30b0f4d05677428cfcc01b52a4c4f5745d54df1ae3616fb4b9d211d64954cf1129cac1f4a1f932c4082284c517770dabc4f1574d2873c302bc04f49d6e09646f36128c7a263c95a4a9a4fd9cf221f4e2907553b87fdb09c5bf7e1859827ce2d05c5819f161418f84912f3c71a1724ed541fed4b2cb8bff9e94cc2d0bfdc73c408d31ee25b914ddfe567653e89464150202cd6492eb5cc9efdb172a9eb07f4921517c06edad8f7136d9989c49832241bdd079447c7191e30066eadcea5a039ece7e5d588058fc5e9b1148dfe7291531ca7fb4b16715a57b0f8ea8148be846646821ae0ac14535b69b8863bb4b1a9f9c956e946afe4e742348c55de44ad375d0590679894b0a05aafd689c529ebec1fb795be2bae94192ad069be2563034de0687f87bd51bd5b9d3ff6374ec0ef4b0378b5184c1368bc5871b5ad8315bcd54195d839a70f407835f89896dff3bf97b8f063733fddbe5ffcba1fcb892da7603c5c206cc7ae93923ddacc6d7321985b360f6422b3bcb0fd011e231160767b2934748f2c99fd55459cd409057d29767dd0597de88afc3c60782df10df8ba052777295f80c81c48dcd808368aa6b8ce6008f29f360ef0aa3e15aedf824920c5a4871269027a02b1743554b6dac905773f612bfe318d30422dbfe55f3883200f7dc5f5f0f896af4c22fb49fb6dceec3026edd6c86c257913c2a1ed3f91b65ff7f4c11a9e2498da23863ba4d63baf375419709eb10df2122850615f8baec530f20cd93aca4c47d5b65c0de04fc902265998aab2cdffd334d257bbc97b54424d8e57b33e36501ba1b75a8fe1510c357acda2880fa7b8598ab31bc2fcef6a2c95eb95dc149be5b6b3560ba8f437863d621dde099fed3bada538f23e22147bde682d50a367a5d5ed90cf576e02470429ac39130bce508ef79aac123a06a39c793be5c890571f8821eb0d1802fae8facf2fbcfdd3adbfae4dde971786ce03d285539efc507e2915fa513727608ff248aa7dd9fbfcdb926d58b8896d9c59dcc51b4493361acf4d785f7ee56ad125a252a3a0eab50c3666177ce47b27949e957f9862eff576a448710ad5aefb6d5c6539097fe3d0d0ba0c3ca43fa7a00fe27ec366d878ad2d28e09e9c7c24618b1015a98b5eecc4e82879d69ed7319dc61dd7bc3e66d18ff6faa3ba3afeb7ef599d8a318a4efb38344ea2b72ca33610ec16dd2f1ef97d0b0c70f49ddab0ed71b768f98e396e4067f61516dc2473b64bc5cc5dbfca9e8b055dd2f791d5abeea4a1c701ac6b2e52898a6ee73cfd3acabc84b71b313c6aebc9e980b37035d94a27fcaf0eba7efd4aae01d48391621ea0869f2cb80bad91793afe166bb17c48d200c419419afee0b931fe02a9bac494529b212b90687f413d40e49abe0d0acc99748f8ead3528014b48a6178f54173c25d67115489be0c68fbc3a67a7810faad00ba2c8e7da1130c7a72c73585a92c271cd227e13d46cb689470b56444cec89e8662b714b370d2f3c1bc34494e0c39eb6e024bf60fe79ee0dc5f3d85359345ba852ad4dd2644a8faa35fdc55b49c48331a457d7e455bdd0530a88e11eee39bc93de20c63400acb6207d25bae3219c7c14a6ef0b75b2e7638dffbca799b403895bdd8c0b678a62f5ede02f37975c51344fb34b8d249beb33ac55740be6ac681e944c2767e102aeea82aeca6207ebc00024359ba360b35fb6461506d66116bbca75e1ee0609d893e1815c37c0eafcc9935632b22864d9806771ab130f28ef6e960fe74d0d60f1a10fb41b3d58f2d12172c406b1877b2089fdf7ee8c6fdd561678519cad7a980e022f403f085e94ef699e928c3393b4527124b60fd9ce9929e1b3b0ec3ab69a5849e39283b5a5ed67bdc1ce7e2639190145e413dd5d537d14f98ac4ff911a336467b4e32e85c62ad6ec3675e94375ddfa48b1101ea3d85792f5cead286271710975bc008d7e5234b5f01a8fffbdb233f2a74b0d872ef3951141c17a54d76a92b118acc71f903a1ae15e166290b3f9f9d15e7f9d9541ed61e094c5b0b2b0d5b929c2bf5c41014824c5d97ce36e19c3f72d7e172a8f43f1f01e04180c5d2a2795b612f6846f3d82185b1f592b07643d0c842c0da986c320584dce2e3c5d458caa1dc6d27a75ebd479afdc844fe39456289b07a4fecc6d77f3dc3ca78f8bed2b6dbea622a0420446f2336d0163ae6503dd7f878352b525038c1e38f4bce5e24c63c26b06aad56c58dde8f22c018b95443d8561805a3e80e0128806b529f4fc7de3ab4eb782fc828e31ee05559b6ba2933e5f97f7b60ef7a7737fcf185ffd01881c145836138145900a728488c8e18ff9fdc96d7038fb358778e41ffdfbd8aa8794c562f9d0612451c5967c1545a412374c926787fbc598c5782e2206740977c851bc53ad36dc4e066c83ac594c74e57ceb39c5f33aecf93567288911d86581c3dc9e022455fdc51ec8b446943f3c5235140dfc93632d1e88acb3a5a9d67d0d66b26a1d24d4ca0b59a8684c030842bd105428f02bd607111b21adde07db72a2dd8e6ba5defb0dc061b3a4aa117ca0c7ad784fdab84acf9176bfcf3668102bf782265106564826c5bcfc3024ed0d394394bf127861631b2b1b5887b74bce7565fe9cb64ca0b4e780b3491c9cdab6ece6b86afd4dcbf574ea711bd4d5642593efabe3a7e857aabf1275fb5ae73dc63ff326310e747987f4232b9daf73b71787968b667e46e47bb6f4c08aa84ab0886540e9924de80d81d7ae3ad3b07cb8b13bb9da232cc65c2d6f7e6c375dadf87c4ea9fc3ab9b6b404d71f25a66daacad75729099f80499aa9bc36b80f1ba076a6110b5313c84d1a55224cc9f42d81a8b73ccc5a4f0cae66d79c15bad1b735070838e7bf00f29fdf9e6c0b7eb8b232c2574c97dee6721ee74a7be14a0aefe655b137f75eb1c161b01921a9779ee7a53fc75dcf4f03d73b3463cd5943a6b44bdb444132d24688f338a66009899a897ce784fe175d7a6f7cea88b81192d16bd1544a6a522e03eb5960faa2774ea7b295887a441df26905c4ef4d9f82eedcc9ee4de8b8ab08a32993afff92ec6fad24a3e5aa503a7dd34451a53944ac2eaa79f4c9c60527bf615a7e53ec9a776e18225b89c1106128fad80e1e32b96041e8cfd2daa9fd678e3b44ea09ca3de75134245f6363de46c76132dfa9f402a99cfc0817dca11bd6394cf6a623e0cd77fadf1f96b46fe446a8871fa63bdf8dd3a78692986c9b9e0334d32839d52005fcdb672215d2079b512bd852b1d1a77a35f0278faf0d761f2ad12a85fecd71881e5e1deb8243bbf5f8d77d5e9e334e0d09cd5842e96a9a0f40842f73044f50af0137f0c5f1bf3497dcac41d3abb46b1c114e9305268e8c75d7d5c0fe81e366e6ed3eaa268aac1c51df0db2fc361faf9f5f9ab45f98d8e472f03046c536c9ca309dadc9b7f70671c2b5136aae7944b7ef48d0609f85a38a28da616b1e08b9bd0c86bd603058c17558de120da8ad77db528b99ebb6bb2fa6890269d5d3f768abe2ac70238c9ff4580ca432f9c1b7da2feab60d2ff72bb12198c998f02370840b7cde1ecbde4ec42e52c7870ebe15e276223e92e70d22d943e4016e182b9646995346f199885aae84e83cc3f091da64e304ad5557624858dce12c711c4fbb7d3fa7e87184b17b46ee7b861fc831c6bc2e49260b7c2bf43b572b206757a28d4b6c71e0bc24f3c263374c64269e92a5d9f93fa9782d881bf11a469c534128222c67ee3efbcd15e8fbd71e50d686f7e5d4f1ec96be6d908acdf6a8e28a2b1689d3b6e4e6ed3555cbba7641d65158ff948f30ca5edc80bb11a882d42e8281d918f7934c4d0404bd8b148a252475f779d09df45c4558641ec8934605ca21f6fc9d65e7d77329dc4aff4a590ae93b3897b9da87ae0b4904b16a01033487d4bdd2929cab0bb6f4030e09d06862a6fe78a1bf8ae39e5040a3d34541ed200f94ed71781940f6e999f79149ccf61aefdbff81eac342788f7554218228f5168fcef2b7c31adcff7a507ed25bb1e72e43e2a810f5691c27666bac603abfbad559f95f4b25688b281cae4979104afb042f6c0e9bd7515100a473c42f7f9520ba1fc83565d2be960d7399d3c5cd9a3058dcb2e0a48b6d56f169435ad3c93a340b1502fdf5ea539e27dff53b27678ecae5188c89f6ec8feb3cca0d1154e7da648cbd49831accad6ca7aa4d22b4b74482f9d008ecf05b1a691d3bcb021d4049b1970d0a70847bb65cdff64472b2eae6d4bdcb87f232dc9fecd30bc693981a7123645fd60ae09d4e1e946c948c3b2b66516961e1e9584b3ac66bb041fae3d80c22512e4b09bda6f18efb610d5fad5e93ae30102f502249935166c507cc6515faff5b11e2d57cc8aef649e51ddf17b769f544d557211421c5b4e55d1c48fff718a2aafb4e6d62d58ac72bac5ed63926bb1cbd2708cc2c650003575eae093705b18e69a81ca7767c6fb97b689c","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
