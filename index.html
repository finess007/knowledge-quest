<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7e3665ec20d52293342de583fe0141998bd1892fd2b1ed0eee8e4c012ea9753d1fd514def70b05a339d1bd21069be7828f3a4a817f4ce9535deaa98bd465883e0f0a28d405120efe0a8ff3a2fdbda10457aee8d452ebc0d0330e9a64c6dc8ceb370d79949aee221f2eabdc9852e3f56694e67e1d044c68c41c2f3fddb8266357241f01966c2623ca4b698fbb11d2b96b8555624f69294c675b987b0f86c9784313912ae1774f365d5a4a6a1a43475784d1567414237fa4568f1faf2a49be0e99546292298c2ebdfa8b15e8eb489b95339756385c04a8b41239313fc173f6d142952a5a058d1545039634abd72f191d659d09bcbe899fe297c5bee9c2f2e202b921a4a554123a57a13d0a26175540ef81cf5425132797cc2cb37962d265b6c93fa0cf769c9af2c02fef8532a6c59e9e5df38ef2c66b8608337b94963ce205648bfae4c391202eb416eded21eda0bb3a7e6085acc908ea660b9199541e854a76fa645b645d055f0fa311b77b0e3010e3896a64b7df21b2174d7354f1906f9094978aa03ccf757975aad95ac0d2a9b6b56cffdcd5b94ad51606f8b86b4c2d8a094d22dae2be20ef816b5cbe8385953faf428e54e615d432bedaf6ac30cd5342317b9d1c11b6732eb2f59958329664148a689f9104d652e851f6b9ab9185134a16329cb36b9d98467729bf3327320c118934b83d59f41f1fbe6c4906c047505cfc36da2ca172df05574bf3a8a05b820162aa12d569160676578544ea014d9cea2acb5d98000e5e601d3cfe44bb037472f8f06a5ce47c2e53e1624200aed9be7e4fcb9589012d6d4a0c86d5715a5203e8d6526a548f2b38329e854e6bffa2b3927869e430f4bc81b5e87a5b8650609197fd938cc2a465aaf579f53dbc596c15a2ef5dcdbedf99fba50706f0433bb1ff4ed9bcbbec1cc2e0e765201395ec4976d25900baeec74a3d6ce6c105e1f7e9c51ccdbc7295ff63613568454710283314602285ffaf78418c0ffeb0a5a4a5304e976525f591e306bf25a325e8041a91d1d9c55f94ead49ae8676821a0a01a3d02dd1437da27ad2f47b345a0f5ce387f0b2e203df1df449f3fca40f3ecf9a468342b68b24985fcf506bb92663302d7b2346efbdf57e59bc6acfd700b807627e7d1e142b83454bdfd358c66c0af7a8b4121bb3d34af5aec02f3fddd4c730baf53344b48a023092f2a749a75256fe9a6e36d84d5650e25e35bd4d59da67874c20019c0d2875d5c49fc3bf99a9f04b81bfc565410543979b11689bf3e1c66849a64664acbf11534afd4a6d1d2c847077d0e55215730da786fd0c5818cf65a27ec1fa804d705908edbf3b4e42e736fdfa4be8b98acc97f4bba82eaa5d8712250b64f6e5604c0cb56598352d976d6d6ab34f1baebdc9e96d60f3553973a6b6815347e8769937ccc38e029771943b0051d2dd55ad1f97687bca7ab6610503b9f7ef6046594d19c396f8a68cfbc9dc84b5a937386cab2af9975c85325fcf831503488d964c65d221d35998ab878314561587eadeb476be268cddc1c72bd317d4a8c56f01f92067c938000287bb82b69b639e596a9b64a9f782844c0f8dfc1e410eed45541fcfb233be2e282f5faa23e44a8f906a53782563d8df38defa99e4dbd0787bef8f887a66fa6ee9de6b0c61684b339da3f2365ec18572f3fb8f770a5ccc4ee979bdf07e88cb0eb19e1238200619b202019c3f10454c64fbfdc5d2c46b45c919c5b8b6bcfd38daf12b2133a1dc5d52565bbd0769c488e61aab182d3a8cc5c2e21429cf63511935ec95858676ed8368caf484bf6c86b83d1088f451ed7a5059d22b786c2735f7d0f8106c19440c61ac8bf79d12b541157134f312b8174c82348935388bc65759148fd35108e430976f196a4cf2208882e5087487bc8422f1119e5f2d5f2fffe7e2bc248adee6d43e2a62fb9e7a1ea109671e0149884d4534865a838d2d8e025480ba00a27397507cf8945f3eea9c2792b16ccd2210d3a3f7e41a4a5dff8fb4eb6328ded8d35dfe2e4588ad5f081c475e4708e277705b53fc34fcf1d032ae8be1bd72c2c7a5e2f496431463abcb89938e7c7d8892656f6978319732f8f1c2f0b6452e2aa4046573df73dbc506a36302efaf8fd59c6863ba0b1d8627c14201bd954eaf3e021e3877f26db1bca4ac2e0252bd561759d0bab933bb41c0e1af6f327899dd52dd80d72f9d79504fbd48a4e51d4d1fa82934c5d433d2d13b1c5824ac4faf8fbf6113be5976f3f766bccfcc6bc66723ed680cb7a5afe0b60ba44e2cb588653c28ea821c91bdd79dbca2c9a547f6377606b8331da2683ffab962b895c774456d07a7a21f3dbb27751a9859dc710ac41e0c19d10548dd169f2a492b6a63eee3936b9f5c82788543be4f9b108df96d749c5f731551d82751d348de11d29bc7b397dd33b019978a91495856478a328125305c7cac3dd97fb3475a6c7db95df2ae5d1226e039e05f8d673af4d7690b4b703ab767eb64058c24321dac42346f95ecfaaf03c00a3511efa4a7cb60bb59bceccc1d5c03a5a08da183b06c8ccf433f03fbbb2c093ab821cedb1313e72138a61ed24a7239b59fb9d94e5b8e34b88e1a21bf26813fe2ec2cdb029d3d579166b19bf6d0e580051c2e9bb2df958fb32911217da3415e5077cf5c38b2620f4bc9d5cd7eefec545e8ab4492e651cb133cb5abd21183fc146e56c3dbf1475745df734d0a60c320805733dd87d0fdfc4c7dd1b8c31c26e2c7496a1d91ebbb2679557b9bbf880b5e78fce7a711b260610405857eb2d38529237ca575354a077a803bd0626914578d2902c9dc5ecbeb649af3040617fc4b25618669e0e071e160853621aa2fbd3d0bce863e7437cece49c740ecfafbf432fb1ac5c0e4ef094a5a1e6e22326e8fac9d59ed510e83f8da4ca3b5292e62789fcdbfd8f72026b0fc4daee08e251280cefb347eb7375dc29d70c6fb9507c4b842a0faf699d1302b9d0e57aa4478332c16432dd95538956d88a573454e771279a10aea14f260bc92190c32e78c0df470167c378b924d589999f5a4018b6e22a460a0e9759889cf9aa9ba66c965949459434b316ebeab1d7ec95908d98845443f86f906bdc73b2e824085aeb809691edc9ab379e80ba10c16480f2de698c690b07fe89172eae8242200714ac9379bb27858cc517dea63df86b5892afe88f3213558da43e26500c8155b3ad72c06c9de3f89a14a128b2650424d53593108fdcfdd9d4c9c9fcc0c3ac943bd65af5112aecc6f972c57c8f48ec3c7e29f03f118cd0793f64aeb4e03b92a50a60b418f867662477399eda6f98cfe268aa4514912951293fd683e4ed46cbee92b6c9c94721f2424d962dc75ee10c8be834304cd0aeeb1e4550970348c581046a1a753e8a6aa3fd218b4d5090aef2c3286cd0c570bf8c79c9a46c9cfc830f25f37548a655c22b28312a931e0caf81cd58e6e26a3e9487c85375561f4e6c2d898c1fe96856b06cb6d1c9c77e2b0a6f296c013543a54c4fd70869f23b93715bc3c7d6a84a6d54a6fd332c47293f7c516714cf7ecb470b8eb3fc9e8e22afd394f5c404f34b7f69f4c39c768fa086059b85af955166dbb4e5b0433afb4f7ab7a72dd147728b77b66900150fa1b402bc7f38c5fbc05f96bd8160ae8257a69d0a05409709fd0547111f24dd16a3d9b131db60c09a85bc8b1c22e3e949fa53dc262e62a51db93d8ca6ab6e0510a81deae47a457bffe8309e929c03fc8317121c6c5454e823cb7f2bbedde8abc324363ca97f6ada4f4232a0f9ee98412f52143bcec465583d216487c7d696afc20e4b9ff8115ec86a69b793d7c50adac89b316849ecaf5aeed3147227d5df9c2fbcb2d841902e43c4c2d83afbd53badc3cb25724203bc5fbe0b3227dd9dd14aab8d0ec573e79fe3ea3224d1f7ea2ae174990f571fa7448918c9b3b6e2efece6538ad2b929a181080e4cac410d2f2b47069275623e5bb7eddd8df435cca8f1d8420011ff0db8e575490b4e9530ae12d41a80aa699ae98d9cffbf4c86825f197723ffa5eb3a035d7b99e88671c11d9b4d49417c49075aca46f4fd6a8d8457aab094adb690e75491d3259e4fd44e0e9319d2bf5f12f2ccb8281af2434a935e1e7129360092a11ba7f333ab7eba66d555da16c66be2b8818308cf10d6d0439aff6345c25b64a5a3c51088101a46319bf9f26e4e645e0ee1355b990ec336b2e8a271657cca8246d4c6bf3ca4c7c61f43f06a651396124eb02e3d87222cb09574870c9d40d5d179afe3192c01dbfc1fce71eadd5213e173202352e0a40f613d8a9951952b9ae973d391bad479eb7f82e9d49bc911a7bb8209382cb91f4845c4ca383843bba7b994e20ab3a784dc6fef91d69ca55d2345cc45258c5951fc8c7d9b3445579f73292333f229f3f1597ccfe14ce91ab33ade2a7342f60ede881f19e1a5a5c341eb8788da73428f35f10b86ce4d594ddbb35767b83b3ae81bac81fce0da99d7dc1ef54cf6923f9802802e7ebc3de5906c5294d19c5ce6682517ed7491b494bd90deded7c15faae10853f0481717d21684d7ba9e5bcc6a804527c26119f261c87880902647d8fd87f776a9568e6b1a4a4f9d1b1e2cdcecdeccf087cbfea8a087b34bb98afbe8f357453ee19fc9b98e3a02dd4afd9e410167048ad31bf1b5bf6d5609d4cc723ca0a4ad5e04112be457d8e5b2765a61b28401178ab33f21d8deff4c47868ff7789a86962bfb81c0a57b898b3ceda2cfde271befc6470538c29bf1fbb4cc4afbc30bbf02d54f519f2a8f1ba9254b02c3c0077580debf06ed348cc7c14be0522e1b376d7cd5d77dc272242c026f93e15cb5402b0cf07c8642bf4c0a0edf89aa79595d39cbbbb98b61b5d07dbf3de0a8d2c9a27cfa92895c5af82eee0b5337cf16d1b8278df03a335d98520e916de27e62f69c4ce3e1bbbea681be6baf981783a45b49a1dc7c4546cd5a7e2bb39084c4aad2f2ef7e5c3e75cb48d8be54faaa52e1cb5856d6b275d047cbc4a77425a4d6bf2619f48aa56dabdb05e64f7fcfb3f9730a7e58d23a1af826388777102565de1bbe56b5b72fce5a30baa3a41eee147b277ae01654abed5f8f032d8aea8beebf0cc3ee184f992f680a4f6ba5c5bd403740274f6c1e4dc35059b06bd7c8d3db0e3e35caf8d8e52b4f2f0d67624c59b641239714a064ab14a018e777dd5e193e56b1f0f8ae72e5268de877be5c6c9f40bfe006378c9b89d966f158fe5b438ec3aa2cd3b81c02368cc94f4f2d7e7936abc88228fd79c3732b268b97230935c82eb721605d8a5732ad93023107059fe523cc62a7370c239fc7d57e658df85781dfcc1bbc3c60dba0e35f9beb28e596d3deb45104c0d0ed5b19de0661a89f76bc078aaf5eb76a90bb40c5ef98a99430810dc372d73e79383debdce719edfe628772dcf29462252530907025fc26277200b9c255c9192ef25e2036d26f03347d1d7932379d9e199bcc6feafac6d8943b7824239346559615b607e105a0546a2b5a4d59f1e017c86feaa3c93bf20457b3dfab14775e78f6aba768d5aebead0ba1c596ac69fe9dda09993a7c0012b64c7c3fac919bda1e7627edbc18db9c40e4a6a8f81a7a7c98501be4b01c04e732d3abb25f73475b92d82d3b514a6315186a38df2182a871ac57792477fa3da78b43e52c63fa7dc81fbf4afe29ed3a11c8ec2a7922af2ec56de2888dd2d089801dc4c87ce9a1d9b64b0a2487aa57a512d05ac57a147937246d18ce3e40be29e9cf287a4b63075f6c22e003e5dd3ddbc76a95f61d648b673c9bcf71eb2de7d46660ecfe2ce2f733e118d350d14e7f61541f96d150272811dda858518778353c5539d95e926c17f30300742279ab6cb612d2ea0e09987d55fe6f641fd76197f98b4c5a7b68d2c068e24896b6a7af5aef18c16fa722948df502f3cd0bd07e156f4e343fc9957b85350eb7fe75051577f10923c08a49ee0cd072e8034119eef4f29b33e781d281a41742dbdf2b0c52ba0d1515138eb3444675a376750334a99cf5eec6bb38aa4a5531660f682cc8065993f208fc916fa0c71e42c2d3ba6a4236c11dcc7fe9395b01dc6051af35941ee7c4626b0de957fb7831101a3bc167dd7f91c3f175c4585c5b5f6914c5e2f5fd2ba5d86d736704af04f65c44dff64f74c545d7f5d4a8a8d421988f67ab8d0b5681999b825860c9594ba60bfa64fffaeee763783dff38a3759d4a42fb9a2b5f6f3d3e0c03e1ef777d96940777b0272a218c97e4b0d1423b401ab443a739314db03c65b8854e48f89d631290ea913d796a33ce61a265850cd603cf628781954ea6dd725107734da6cf3527be703f46d044293390516d045c63d546cf58faa3caf9bc9c7e3acff560d5220a82bbbe49ea057d23f550efa6c39996f822d2d00689a04afb13827de0aae0977fa8a0f143c5767f7531d921f0b7cf3e987d5562163281e83d1fbdb4be5318dc3358e6349eb1ecb06c9d937eea2aa3ba5e04084f18ce964a60354c03f54501cb9889fbf81a6bf41b82bd1147d1375bf12f815e38f51e5aab1adb060ca0eecc755c1d2d0d3c6d7b6674de67d5651225e765e446f98ccd9e16547dbe36340eaca118e7cdcda54f1b8b7619e98e90bf673d05817412e191591e576328902751ef70f9ca92b0fbb3c0a09457d767981c4cf426e2f99377b48fd953fb85e5b563d07e99c54eca06d8e5215574613989f0bd6b3d93629e19db5dd4f151bd1e7745b28be9c498501d3e96b23114ec1abfd6897a416f91d81ba86dc461a712c37f234ee676bddbf2f1ff6ae12ce701d44b6832df4d9b5cdb74523c2077f9df4a85ee2097e476709273e13e140ffae304ef0973299dfa0ea898874b90823657051f1bc700bb6195396cf3c012c978bc5900ca84dda876c3627b1693692cd96e3fe7cc18a1a55bd0da129570622417ad9674b79d0ddbe5d5ffb6c81718224667a9409bab0a80226212e104e7cf479239d6c6eb27982dc571f2594d0072af40bf2a59c6d8d87a7f5eb86f9d8bca42c0eaa5e7ffe46c963eac4e6f2c778a4006000b1ebec59019814f87ac98a9d22159f88b2c9ca4edd049da03d205205230e6e2e46942207de8c901347bd64be2f9e0a7b0d89562d18af705c21ca04f258ad34cda12ff1baa0cb0f74c6118d78d4a2307ba14e997f71255a4e70f97ccd875a7a1a1c3ed377af24bd70d07fe8bc81c91666526afdb4f0ad881656aff2b2d5a950e341c7d55f1f38f86b4240b14532762f60370041033ea01b68b7bf4e20fb25979225abd33a48e14e81acf8f9315c1a39a5b6c01dbc3983a421852394b830c61265a8c0a1caa020eda8d471d6989c4ebce701f9eba8595ea21397f637b147436d4a9b7fa4bcabf59161b206fe8172d8bb05e1865f463de9bafb25f67f6c62f15477beb06f610c958185b3e1a56c58af8c6e6d463153720c8a365d9f8cb5386ae15ceab7300a5b88f47b44fc5e67104e0ff9bbed34dfa846bdbfebdcc8f14e2a20e92e6d5517a81b6732b91e5ac5a7e058b86e5cbbdad3c127344a5eb318f684c557971d1bee7f1f14845504b439b7629de35600272c6d2e87336eb64328de12b6426d0aa87ee1b0957fb2f95fc12d16a4e6e56fc882394e4fc020c731047bbf71305064006433b6b898674742f05954e0b2f3755ee5f2be46b62404978429008f44156657c8060eb7ded510c502ddec3a1816d87aafb848335c8bc774d56329ec632c8152e91555b337ce8e61fcb7581bdb19de4ffc8a8cf845f83e73232ee48d4443038ab5b5d6004833afed76bde660b344416c05fdb7305ebf2d343eb5a7e9937958d71416215b403f1ae0957af083de9a337b3b61f959960fe760e506263717efdf5685f93dcf61df15eb8b44342ff80b97cb5dbebaf1c3eaf209ee55eb43a2b570c5e0c66c070414c0f543c7fcf56b38d39547ad9114e8fc1241803ce368870cd9980a8c51482b790dccd4a909433543ebac99a56c2c68e1db354b52e266ed66b67437bcce76a543e431587fb03c5c37482aa6f8bdb3dd70004f810734fa5682c94f95dd816cc9ea8940243730971fd6ec7f0c5746527e2126058081e6eb8a47a0cd3492385d016cec295b5b196897688f61f9563c5e55db6e09d7318eb405311430cd7fb93b6c75a3bc1946f0efdbfae8332a339165d3c09dc07efe935de2302b4568c2fdde77faf7469cbf6ec01f19ada1b6fccd772ca1459c144ac78222677fa5c366eb778587a3a97d86e93e06293c479b688f1030f4b5537b35ca6bca5547dfb13a5d0a65581ea05cbbe14adfc2aa4661b979012d71fb613a21b05505beac05c2105d6271ce8eba5b1e65054c91971bd5a27530e7fd72f7531f6720cc291e02ffce63062ea5eb2e9c227cac6139551be61ab590a9bb0b40e9c6c2f35799b281efc78c920f4f9d88fc04972f378bb48080e9a6cbc9fcea27ccb07ef116fa06caf46d04292f5e387785860f4bf4e50c1b66344da9e1774f162eb576db801c3ca4edeaa9a1e92cf4893c917a7c2c096f0e6fdec1ad3dd593d357547840eb85f2ef1c26e56915228f378111a1897fcd3f861e8025a245a3cab8fe7e631c371beb265020454eac4eee712d8467a979fcedffe2c1ca7d27cc73c163036c9131443094686b6a4ba663b4e725ae0c47dfc49ca773020db7b3a199d0af2daa22fc4fa35f0d5f72a9ad12b62c23f5b215d774dd769065c8f312fa21abd1a0b7da13aba5ea7508573c1fe9726674cb7a5e93db24025853c04d719e6981d9a87f5524b3fb1b346a973edd48554d169c763e0087164498d448a0d6944437da1c1b5e27e659da297dd40a3dc071aba4579365faeed91120a857790a0cd81642ded4985d08b997116bf608e3969273c804af3a49893737cd8fdf106d40d5d22499ba312e3bc4a181fef093d67f4b6db529a05bb0373f8a3c1940a978c6bd7a903e3b37cfd0ec74167d8862e7b4211528c05a5d732575e096e2615485ff1527f7786f4b6abcf846bec510294f9e75a86c231730d523e54256edc14ba9427028c792e22db8c40f3da47349d2b1e280920dc68da08cfe4813341229004a0d0e6ffc99110179f630cb272101b4d2c79ea433a70f4aa3d53327b7bc57618250f134e1faa7fcebc419ac6fcaa96759e21c92af8da504df47075f0d7bff65a596126d22d5c7b3d3f310f15a61d968dbf55be0d85261ba8007d11f942511dc6a4f0427f0b677e6b6ee2b7d1ad77a1b05ffd6dbf17b43eb056e04e03922e56e261f2649ee433342137833826d6babce54cd6bfe87e612ef85d3bc9ecfe8d4d7b983b27c62fe8e23d1c46db5c8da78ab4d717840b0d085c28ff8e467c4506743962723bbd91fee8329910922aa5ca2c2595f24071ec462e409c24c4a15199382c1bf75e437c1bd5c5cd046c28098cd96139639dbf5e698d3cea97b10d093bbb893093eb6bd23551596d4b3d6234f92e90483a957e82cdbad8ae833a110c5113cd6c28e1a27e3f0b1807144500f525691f78022d5897bc9d1302fb7d6113c6b60026adbd7a31c9e16e94441ce6922e765c27908b6297ee80b79bf37573471fc04eeb8fb07d607aed154e3d184f3cf46286937ab207f686afade16ba02931fbc26b8500260dcfa41f3a67a4d5313cd4c5e3d22481935e70c0ddc7443c2838d8de85b01b08ace4fb8ae88c50bf562c8f30b667f2c16278bf732ba280aefb0fde8e609377c82f34010b12d775f63e4b72661dee9254b78b062ae442e5abc0611c36ad8816caebb864e4478a57b9618c64cc14f5fa6ac77b040024541a5fecf4ed916f25e69f15ce2217b7b3b1e70b489790f601f4de3c58ebf33a32253f550d8a34d7f3b57de247987e5a0ba3df6afc07c2a2e2207307bc4936eb2c79d9cf20eb38150a0de5698bad8fd511de3e206e4dfba94a87880b1892d93808388eedcb79181efd66c685a7a208adf2e5e987a07b2a15048cd5ebf74583d2ec7679c50ad6b9db622e645bf73ced107d2b87faf6770aa18a59c677f1500afd64b6694ea02ab7a0bbf066b60d2cebcd00f024d6d02b6ea5e08231d3b950590cb4bea9b021c4eb2f454f2d4fb151f639cdbc17b3983065cca951e01ef506bbae9f40a50523b644cea6ae137725e890f8835dfa55cff5815ecbe93066cca234483a48d1774ed8872b3ddb72ba999fc99149f6682b24b5df756bfd7a7b30c2e9cf7e4cb1e7c50a8a34e0ab56589f10db187b9148ab7c7e7768512d42e8fbd0ae22bb870a9f76a2fd627b708afab1cbed473383670db1a08c595ad27780521e627ff04bfb6c19c3df88d07bdc1a0bd891310d62d993b41b12dd03cfa9aa65aa313855a3dc2b79f0b1ea5289a12c9ee03622029fde65d575b9705bd067155554358951548acbb1c52c22e2b1a8ca80d3e23eacf98836f80e1c6bb867768e4202ec13f6cc201050d4131440de23efeb1d980111f40f124e6eae30c3afedbe49a0450dcb7ba74616849a2145216db21cf2c0a20bd4f4b761c80b1af4bcf6b72891141971c484a24be930867940b6a7800571927ba1e16ef4cb7e772dc9eae995030bcd0cb9fa9889225682b950f4413d312bbe601024402b4ec0d1eaf7bd420643cfba00069413e7660f0056ed32a7b69b4cfed2a4d455f0c1addddeda8f6cfac2b4cc420d02e43492c4544f701964eea9fb5ec504d246665ba028358bb2638b38412bdc1f7ca59092a173da49da1a140156994ef10bd44310c0f45dfc3ebcf3c7d909624760aa1cee42b1867f8bb40f12bea8d402ab4f659a881296097614472277e8d36f077b55891fe4723de44fb1acbf50f14b1147b050d2698d9b42edc52b0d5f29f800ffe31c1adc8bbdd59b6ae35fccbc0d49267724533b5bcc02355c024681dae3c6840da86adca1fe247930c1e05915d217fc08539815a89fec30427726639b9171d043a2007f43e359e3c0ef0913bc68aac805c6c7448f47f488226cc7f423dae4975bcfb8ccd97165f7d38eb80c11e1d96378130a0c51b0b14d1dd2f819867dabaa0f08bc2178363a1b5ac7535f363d69644b41f7e2f01a91a5bf8c144719cfb5ce5145d63f925f4e61548c21ec9783c341783b462e5a2c293d8fc9b56f48372961a15fb812e91d64dc34615218be4e5ae9b4f6e005cb2e30255a5a67cffe326cfcf0d1aa2217444ef9248cdc6f2bd36a2a57e84159c4cc974bd509ddb166754d4ff35302cace66c24aa812fde5687331ac5e2a48e373b3f673de11b68f471e9003d8335f9cd766dd60dc3905971ddd6d6cf542fd7bc9d273804db5711fe2c444711725293c55fd4414bafd4b7d41bdfac9f5af99077f3428cc4feca4b0dabe24b9f44e50e6cc7792069555992ecb0ee7d579139d767596000ad7ac369c36de46fc3455cc8f64fe2473b624b52257d955e26159ad9e29aa1767b152002d91086682ac4bac6443177d9166ae62b84125a75f6cd3f69b7032a85dc3529bb7dea6acbcdb7acf874910abb84eed877fd36af18af548f903e6babfe8311fe7bc936aba253efa768c8b80024f6676b98721eddd94fbe1db1efa127cf713103e58df094df7e1f31261414082871849629cd5e87cbfc9fd92c8e4ec6f4c07f7960851410033723bc185b9989d25b9d72b308fc098d5948d7886821e5e49bc5b269e9df4c8080c0f6268e56c3b2d1cc412c449c1100b0c392fa98020279bc209f6a996e354a78ca09fb2466bf137929923a45ea52602f6ef14d643e635705fdfc83426df02e4b56e42f1371567af0f688867590b28fb911681a0b3e8d5703d54450f71323051d9c05c9cef26bedb475d4a7f030dad7bff4664e7e0c716be7de904a1e817d5e5a9e1f4c0067695d361ad489951b95dc22098016dd27245ebd22868b9d21e1d582dd58751cf47b7bbfaf12bc26a85b84c879bcdd0c6b7839c470523acd5739469955096c974ea8cb803103e83da15ff8f658ee14367628e62d26c28a452f21f27819a376ce1d6dbaf5ebfb4449f4f3c23d59e759b1cef12370bf5b3bf4124923095fa63df653b982f3a1fbea3280ad1400b5d1f5e7bd715ae4bafc7f2390e5f180b7ae811777eb48ce8f229689447d4462391cf66933694e1026e1e0fea11f88341dd30bd298ac754cf4af8cd620f0f02f7e7c1ecbe12f135d7b4d31d95d600f8d94c3edaa0dcd02ecdaded2f8bae4e3aea541a00f5cae759ba213c9fe284dfcccb5bee0f654f1ea95fbb18b1457ca6224818788a5b09175bd4674440ef607b988ac54c76c7f49dda4bdefa5eefe4556eae2923aec0b971e46f87b61b17479440175d31e10e7aba0e4af3903d13d726b01d25a9c5a7652ef378a24566215a654166eb1270221d3be6045d6aaa085bf7645cca849935d439cee9fc6e3dd70f81f77004e82dc4a7a1f00cc51d8fd6b2614e59a1ba6632ad33ccebbe8177c1d249581d1fdf15ad6d695eca46ba756e6f9227afe6f58821041f5e4ec79260725acdf4c3c9d43b2b6d2cc361337a3999586ec2d7e5c62680b8c46e37b4186da4843cf9628fc7e8539a7f7175e7850f8c1d226a0ecb37cfa0c253eee80beeb2457041fcfc27822ec229ad6ce58a35da29df13a604e05c77440eb33df7ade05418dafac1bdb3662962bca94a37ef945c58dea15a85ff753cbfcd5aecee993fb32336c0b0334c4347eea66207cfcdf556713bd8c69a8df47e193ac4860aa1096630d7f888eb9c04182e06b13bdc454d681077bbd2e56af4024564ec76fb7256a76d01a464278f8682aedc1586c0742fe119a66fe49e6fce288e257364751395a1fe10bc378c3160dae47ba31902ed05d9768214a96c7e1b8de333c494f0a98057be930c00fa134ff0fde49f6661e8a0d6e9d3bb209742c304c0a3d79f703c984c9aec1d23673610136b71e6b93bfad8c43cff244bd8be0117991647b6a0657c81c178b516647dee13897e641aa635a3af3128c7b2de094a2dab177c6ec62d7a0546ef67a8eb81965dc5533d8e0c30c30e45d09915fa93caaba59f09fe569cff82569442ba23b01248bdcf528e31e7ef516ac34c11f42ea4b7b2d8dd9f7b3f77bffb113090aa381b7bc79d344450999a0140d1d2b957f72a6213bd6ebf252a3d0419500209c944af18ca25d130d52082f5afe42caedd34a1c557ee5255887bd1259d97a4df9622a8f778f001f19dc447a319f301bb629198f2fd4ba43b961730bb96a263f706bbbcfa156029758dcae0f5ea2e7f0a33cc667205296892d3411dcdbe7b19961e4990613fcd1c570891df23b1b2544952b5213a94d535b48f4f2a201ebc575a58413f443e10b8bd1ad5e96d31a71b908e2e63c0b6f8e6ecd54ac6aa2a4672f14efec1c7bc76f2ce60449f70f90fa0fde17c1bd2e6f1b5772ddb74e13ab48a2a9e5f0d7934269882de961897e8a3623553ad7b02797436ca8027e1cb0b6360ac48efcc5a6be39a1f487868430ceaa434fd9caa8b3a9bd5bbffd7e9c838b245fbe7a459dde7607ffe876591fe9b3bf875eddc5b831a24931c9d396e37fc7ead6240cd65f6d1ce109e96015723b543f523624b8731eb9740fa40b2226ced65fa66147686d02d85fafccd0767d82f78d897561dc086ecad35c4e6acad2591a59495f3810f2edc81f820bfe2c9d76dbd82ad4a9aeeb2e781468ba121073c235bed7c287dbb3dc573851684ac690da06bcb755555dce7222aae5fe85ab1f91ea6ef02eb1557bd0daad97624bcf625deac0bb3b76e8ca9ddeeff4e6ccdcd3742cff95ef6457f5e0bd83fc872751ec45ee35e61591c9ac9c554485e4bbd32c957ae3f3609adb65daa4095e6ffb6db29fffa0902b497ca644714386067a93c8b78234e8be0d26a650c18893661284b1f26632f45c49d1b65ac44f56b5653ae0f9660d5f6ec6de68a20d9bd97fde9870929a908be6e34121ac91595b0f28333187139517cba49d03d68f83a95ae44d5d3d0b3808563f38f3162a9d51615839aa3ce2b0d6cfe1914b9a22d6e1d44fc8d569ed2eb7dd4ea1e9e237d9697ac148a8b1ca94a5ad013ee25fbdc4eb043e0f317b3bf530f3723d39bad292f7119cacafe1535234188d71b9bdd4876450010dd0803e8618803a2da076ee4301c496fd860722f8ef08a18dd2cc834539303f39d369bc0b3870174010f5d2a381a83c85305ca92c85071e0c3b222f65f147926c2c8b09335a2b4220b920b08cfe30a30c41120bd93e6e49eb20f8bc66e8f5b369f0eaa87f4a35ea7b808a16a107111c2dd12963595a8cb526919d3b479a729b4b3b3ba0e44033f07281db0580c4c846088bc2c193447b1706bf9c7e78527aaf036f0fec358968b8f5f107d4c7f83ee990d5f0dd25074d160a32783a4b7bdd89322ac678ec792294b910612be59188c26f8911e2ccc48f2e5a48a9bc3ea44e2b8797c4f5095145826e33f74350113e9d4836e732ba40d740d1af9aae7e29bba45702de5bf798579ca875b73d66124b0a9b41aab97bdc7b739d98daeba6723833f401ef16782f062ec221f90a89999e3c77bf88b7fc9e7578305871c3cd203c9e2db5bdbfb1e3d45edf6606862555470990d79e0373e1bfdd6943d29d953b8e30cff26f80ae659062efef7b7fd11776bb84b674c1a3357eafce0e133565f38f2b663ee86c5cbbfcaad01a5b7d35f3b088e035f717d6fd5742b6100fc36d7919ffff8ba8ddf72b16c3a3821a35350a3f04567ed691b765bdf5892ee05e7108fea359e4fb980929fac4aac324457def5155f562dbc4dab6e74fbc1d02875997beae430375f476a9262a4ff25edca0d7eb25dd5e41d51d6a2ec041bd4af0ea184f37f0b893becc4b2a8720115efb193047801cfa884fb52281a54ef2300532d2fdeccf3de150454e70b312bae9cc8fef84a9c505d955571e2a72b4d61cb3b6059c0168fd38659120a3eac9c58c037629ffb8d8aa9a11b64816d65e2384e1389b3f4baedb85094500991c42eb5cc33c12bb413352c12b47a1b0021eb5cd4437f2c8ec9649127d6f558be05d82a0caa3b241f1e8e6212625957f8162c143abbe1436ba5ccb36df14112522e33dd34241c37c982895c9b97e9a3d9a520c5b3502c4e8383ebdc46e2bae78f93e07fc043a7ec942b5bb42a50edd8f4f6c83a1aa7f64f60a4eaab097dff6d7f7b7037ae12e2a185f192e7f8a46e5ae27c1d9b6cb9e48c4a143d834b1bc629ce9c13c4405b282e04486a9698e8f1d9d2cc9e7e732643fc2011b16dc1e6291ddd35d096e80a6d5ec4d4497fe1e76e010ab81a479d465901e4132dff9b530901eb825f1f953e2608ba81522632f10147e7a452a700de0f7a798360cba0626773645bd72ade16a09d9d0ec913793ed7acf6bf51c2793a961dfdb13cc8e5800c14c593fdd3c453075b4ae3ac4952c8d85dacc998718ffa6ed60d4d0f3231be60275cda121232960a74b95b1061793df1776af87465d10a564089099b7a3c85bbc39626e57f119ce59d4e5c3c79789d77213d13354e322eac8b731931bec1e2314ff260df5531ef5c9743ed46c32efb54f93d8e380fdf62c91dc5842a5dd44c1c809053458a0fb91dcbd8ee0e800caecd8bcb5b3acc3c04f0c1316e197e9eaf4dbd10d4344effb71d9f7b9bbd8a5a0dd4eaca7886fa03cfb1da286491b2fd46921259d82fade676671124ba631ce48b466e3cb8c89471a543b1a32905b8eb5eeb4eb06c7ce9e8b7d0c6fe5ed21deafae9162194196f9bb49bbc72be11244c6682b4e423c5801ec943534e2ab54e24c6cad302195cc7c033097e97975f1931db520d8c3e72c4147f7e0c9fd9723bf0a1ec3b30ad41d66c9cbf71ac2b16c6ead546e5bd161cf96c0b9e1048785d33cf749ff00fff183658c15adc80a575ec0fb9dba51b195ecdf7e7945a3b138274b2a765f32cbc7f4fc586e9b3daaf028eaca73eaf6c8a4ee6dffb8c95de565e87b7b299c326597be5d8db374d623fd724923a7d12467799ecc3719f88fc87e99398a207aef6db19df323c40ab8539469a86d414e85b56c64a29b55fe46a6fe64cc9e2ec3e1524db315353ed570be3c8c01801dc319944ec67a7b06bfe3d49f43b56ae10a7cd54da87d9e54125f0cf813d26e5fa69063e2f1a4bb31b25a5518f8d4fa371b040adb5d9fe75415ba508d15eb78c9c483bb6eb13f11318ba135e730c6d25d47efe5bcc44633ecafa2f2e3ca2a9aac650f99f4f85d54c133fde9f2af4c0e0a382f4d00a3d104a168689f5970368ffb24ebb3ec9379d700ece2b249253137b4cb57a043df93e7e9f7d29e5a790c13c49c074b40bfda170a37ac703e28e357a78b6cfe27db81d4fc83fc7da582f00723babeb114227b335d581c3d52d9fbaccef50808872eb88ab88238dc5571938bc782046ef07040ca7d7a5c612b5ccdf5cdcfbe851d0a854e866677ad12e9c80bfd5d4d547306eac701dc6dd592bbc956f84d5427bc98fac241b88581a09344b25e4c18d56637a8cab0f96627f2af266f2df10adad5b0e181cf2964a83b7144e26106158a59169e00d4e02d3245d7266fd71181b25b3f4dbb794ffb772491264cc3ddbc2e16f1391146f9bc993b1e12013a66fe1a46916e344e58ddc7ce40bd32b4138a3880602c359dbe863abc944bbac67da8857b9e8238d077b4c510b78d4c3cf4fef873704c088eb64e568deae67eb61da9583fbdbf2db41e307c191780fc739dc8b859a8a79b4ad90aa11c156576e52205bbd3517963378eb0c3894e11ddf806a243cb6a28a652e0159f4c41c64613c8ad0bfe07ed65b8c238be07046d4d33072b1166509f44fe5508815e4e36d26c7fc275a108b8d9e4fe85646c9c4529b999a9c0a1562c475890422d141fa75ea99e8ac313cae1fdbdbd4a8e606a46cdba42d6a93fda6fc63bc4b2195b5a108409af274805a751694b2f688899dff5728ec38073f3b50e2ee227bdd529142503c646a13f8a655b538d24857b24545517e4db54d9a6c03a1cf7da2cb3cfc8cad6e72ddd6cb3858e33ec1d70f79cc3350b5673b44675a526d503d8079d8c1744e3657a00290e8ad8caada5fcd789fb715cd35d7ac515843a38f1918c9eddf745aec629960e8c5bcc6734aa63aac0372c1fd8c1200f3b55507101e615b3cc8461d6ee7bf59241341e8de12dbca6276143875a4bf41d17bb1bc92b5c22cd42e5c6ccba0778802f40ccc606e8313236fc468aa62a1a16394093fa033d174b968840080e6d4e244bce25fba9cacd12a78d2cde7eb1415a4f13fa30a04221801e6a9cdd14f0e8cf783ae72ac34a2e6f1c5af3681ba9724280a2c431ceb1e7e8c3c2409797915701f91df519c7bbe80a3747046765baa8633399dfdc69a2fd9f69dc8c9a318dd17782d7e8e0719af4165b8317c3e6dbc179ca29d517105a56d7d143cf08038a829446c912aefdadbb3a58e73df53e3794a4e392a4ea782be247d481e1e71c169d40d679e87018d40c860044fba9131db3a8709f7d68e13b4a0612bf87dd03c6163014b534f58ad62f7adcf37793e2aa8452c8ca3459ebed3b61f56ad1262d18803fb39a65b347fbfd2b75844e49d29ad5d250d75f036f1336ccc59d623c78168ef8fa7a12a940e1f6c1a7500139bc29e5c9145f61418c8a2c009e6db358e846951db2ae99142a9cba07800223d132eec9499e33d3dfa500f9e7a1d0a93818511d16561ccacefff3d170240f31390766b1ab6529022a6389d01344b390b020da049ff151192fefa9fbe1a0aa1ac438686f186fdfe564be3276d37c0476553873a3a5ea4a4524de01fafcd916df7414c1cd74a138cd53d0d30a3468c8f68eaa8c24520423d9b71b61824de28135f1c575249172df1a1ff4307f162f67ed9555f5ec6dc04f766b9e70af7dc555ffb12798afc2d789b2fef49e8504f2ec2d4acf04c147ebfb2231436fe57614434effa05c5188ac79b6f498533de783fc3b9d9d7152c7cc6a2b84ef956292cf5112cc57946a914b4186b95ef08dbcc4e4a150bf5a72250980bd2e8f84da5208c3c09633a2ff3b31718d92b01fcee18685ce6e9a7564387716d8b1ac4190868379795fe01b6320c394bf44676a11a35f0b2e3a8924b72185e7de3148856e66b161eb7822e548d4cf87d7b2442fdffc2980e08e93b0c70262f2105ed404a21ecf8700e0aa408d84452541ac023a59dab1cf37e208ec35c9e79c72766e32931d309e291ab4b89b00fa17cdce222296a1bab2b77e9fad8573409561420aa2344a7cfca3ed42806c5fb143bf00372d7ddf9e6a0cc76189e352d258df7ff193cda9020a7f10a87322a2968fde35d3b066c4cd39dc0be57424ef231bc3ad572b1c4f34bfb1166c2109d967f9c76b0a1331127a1cf1f0af20f910c89eed43ad7dec810237410f0cfe59001f2dc682e441cedbbf61ab6b9d6c0267ab8e37bcccb31ac51443797572dc597079e4d252b3588efded3658322c6ddabeeaf8bcf4145256f3b04a492d48c5cc07d15d07a129dbbae9d83f83ad1b51ef7cc4926897428774bc4c0ece19e4ff61b845849138678b1384908c65f5e86bd3eb70a9f308fd4af13718151f2638fa436ec72c510bdd9a688cccd1832265d94dfceacbce360b248dd3e868c24c31cf0a66840aa2688528224455469461ebc34edd7a519d5a3acb0e370f50f8ba97d9a1501bdb3902904d5d0e64948f2a426679f2e0d6c3b6e99a21f9baf40f34681ee328d7294099f3ccc0067433c6805a1e8d90342d1b15a32f3a6d44e741b2a4411462e3aba06e3487bd6d0dd09b3fed937a7cfdba86ad458e45e430331efbcc1bab0152bc254800a51ae5a770294c9d49c238737f17f4f8f2064eb31fe07b7e490b276e32c87a93a32655f6648509d02da8c06a7e1d4fe40aad5b0ab41e61cede1b8cfcd6a52ffc71d5bcd68256385082421e8ee76e4082b87dc26c20a668f0953f1685f0c103751033a960d7f942ed4a72becdf844fd8a4d0fd80712561a3d17ad4efeada1d0d9b17827350282835e0b8a9191da1c40563f1d2f226f2d2660316e26d806a3d7bd4e8072c71bbd41243a57e24ef43584c7ae7873210960bb45b64dd1f58f2c7d9673da8005ad5ced1450f0663a20c3366fd34fe2667e2f188c306f5676fb480053d92060fd362efb4c0786d7520108b669f25a9c556e0e7abedbc0f44e4b7d0e3282b747c739dcad6ead99671a05516801515566ca0e60d4e2df33543d08076f74ba3cfd15fc68769a0c6409376ce3a8d50a644dbc74ea6aabf85442f8fb861cddcfa6bc93998da2b59dbd0914e4a84ca9cad786573db568a63449bdf3df3939e57d8d6f770ba56b9e358ebab25f1e158e46cb9fe47ad88c0be4f5cd7e52e48c79633a59cd42ef45b4c47de6d61e4d71988c2361bb620afc990540536c34f9eda2ce42bcb76b39384a50d95610c282c0c43a25e3ea7c58fe762bf7aa9d9fbbd8724b8f5bf9d9a309ec8c769d6e4bab8b1161ea419108b605b08841aa5c1cc0009e317b097747df2931ef5043b8fdb4fd10a15b4020b5ee5682fa48ab9ddb23d2dd7807b9d0f462f4c262142db888c63332363dd0ae81514d46769d87a1b1ff3a50f5a2958192c0190c9c998b57155c0a35e150ad72a464e4eaf19a994b5a751c5cf6b227bc318d84b0e2021872d1ece59619a1fc1cd5755ec22d0bc540fd773ba56ab84e93c7a1cc8dc1f36d5c8d9b6dde0b5f53ef3c5b5989a0a5be44a01022aee5ffd0128e2cfa60550e87fcf65a2dced128069fea8b58ac4b00ea73e91886790fc425cdc6159c9139e2d4229ae69043ab7a61bba7e432a06205c4e6a0514b45d43ab979570c0e61686c7320a26cd968c5224ff6046104a2d29958273771fc6fb04b11f65efaa9b7cd35db8a927e41ff118f2b7f079e5c8c1f92d83cc0e246fbd8fcf976aedcdb833d7f679b3a80f1ea1ea66ee1356e8c290ce0d6edc88eed1e2e6eb387222886be49272de29aaae829c3af06c50d8f690ab7af7f80b3bf6e762c106ed2006fb2c2e6ee9f62dc4fdfb1b4ba0fbaf081062350a5f9a5c813328aa63ff2254778567109d5265fe4e580483e4727742bb3d63cf542a7cce763cb98bd5c2ac096766533b753ea0a8cef232b3de1acd94f2b95deec5da49444c00b78adf4fc5852256173518e91cbfb0930294d45656a96013bdb0631ac7e99721c3b8167f8f9f579de498d16c4ff01611bb2b7123040925875effe800233b740543550a81dc58275ebab62c4d5fb4bedbab2b10cdfc48aea8b8d3b724d6495d724420010d49ad734fec870696b3f765971170ec68ef23c12e8a7aefcecd103da21cf26f9880f692f86df4dc3b6cf628ef87442cf4df4c105bb4abe50f66340aacddd73e2687c3bd8d430cfaac0b85c2c1f5b776cff07da1ce0a5c6bd3d7754856c1f5c42742be5d1385889622ae561827efc01c6880d823b15c6fbec26812858d0673792b8166096216624013cdbee3abe9e5643e0f1c1abaec3daced088eae9ce7237357bb0a8e03be2a24ab28621d76793374650a97bb91325721d13b6267707249576d080130e00cb7221e1e1116755857fecf35f2aaf5e8f66b6636225b570b4da20198b16ad3948bff304ab84ef40c9946ef8351f41507631c2b9f052b6b9f8fe23b5defb0f54029c016f8ae9d424d5aec017e04ce441700089252760e17d69d202b93e4ff599daf50252aa97226279af8e545c1140cbd4298648cfe227991fd3e123336ebe7fba32fde11e84d54434b5a134c1505271ca0b1b56a574c251675ddeeba6f415c96f8870379b4bb79003e1d5d16ca34c1fa52645418ef95118ac0d11b53fb336dac2aac2e90924b5457063a34bfb98e0de602765a017ded04eb07f7a68b6bebba8379a40d6ad57f98e86b7524d7f5523abca235284d48ed1c2eec1ab8ae2d3621cd3351a2f2c4819c3626bccc86cf77d4252286329ee60623766d7d7c1566fb1e45526b7fb0b9a4ec15cd53fa20d5ed0692384bceb15cd8ba569769dda34cea696a1f9e2d373e06f85f5e71a7f778add7c17d200a5df217a1086349dcd841b4e3c7130617b6e5c82c48b0440ffe4cc32f0456eafe0bbaa5fda09e8923f62a0f2930c7f7f4ba1358d7d074960eb9554eeb32cd5bf787f2af46e61738cb8b1608b50dac10e81e9946a92f9aad7d4717ddbbf200d4f247f6903857f6da018105b5ad6867cb9e6e65bf564599f49a0c193ccbc6263ffda261d7b3b88a0995f16fa721e791af9f5a049b042ed09969ee40de1d79c0ba9cec27c07c37eead856c52af64bb0a9f5fad75e9b45c77d966a9a76698f5726a926b3d5f1cd5e7f2dbdf77e7531525e2c8060394c4d25a75e0251149279644155e38c3a085c63","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
