<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"29e60e2b915435e7e3ec7e7b38ed6e87844ba3c3689df1d2a3427338d1ab6342b03995495f076111a966c7d1b5964caeef56992c8452f88179508e1b2a1a6f94981453a4d2554ca1cac9157606a5970404b5048d43793231b0674a841deb04fb9b136d7da781dfa6cb5c43d274b3b8644c57947347b8fda874d8bf9d07537b3f6159768d8c6ee61541934bd1b37b84492393a6b313728d5c4a8d116eb83c11fcd83e1512fb90211ed60205e027edec2cd84a59bd60ea05c3310fb0e2e3111f70ac010abb993c7c65806919f163d8a6215d69eb7ad8be9f99cf640b6ffca77a27890088eea74e30c34bafc2aefaaa1c09744bf36f9983d532cb6c3133ecedbd765611b1fdc619803c9d57ae119883e22247d4835c611486fd7450102be6f505a0f6f1f221a40f8214bb92393317502c263bb4ca003fb70afd21b6fa842b17b3ca58c1c659fe9072a6979a2b5531a1dac570476906e5d6720707780c410a280ac36f8222f0ba9cd6fab995cc8d154e88ca411a3150bde2a16f926158521472692b4974b722aead9e0e1db3a976096f7aaec29b0bcfd3fa77c7115004abe251410909ca5e8bf878373488bc5e218e95b208c23798eb7b221858f02810185aecc21e8fdc6f87492e3adc2e0704c3ae800fbdd8505f49eb8e83069f186f55f264d1f7a411a299e5a3ec813bc2d06efc601faef955711d53890d28b8e2edda83a1a26f63897c855b0c0776b8407d95f9940dfa20e1822add6ca37b42a2424b6bda0c7f943cf264a9b0f67058d9c6c4bc6334fed4eebf5b558c286f18daa17a1712d99d0c26cba873cd279fb25966d06a17a1b9b5d7af7565e0cf3e05e8c308d4130bd1de536bb387674afdcc162e79b970058a923c51980655b9991faf85b7555171fde21e8c87bed60fa50b42ac0cd21e67e5bec237bdb4f52229c7783c413d032b7e1293caed086e5e2520efc32348194adb3e89a4ba80818e9afe4b4c03022eb75d8101fcedd4335cc0dde184edf0b140fb1be984a79c771b96545337fe9bb41467f11470e4418fa010beb7f10072ce2cf01ef63e1bbb422b54ac3597a519ded5d98d94547e2d14f81ac0f7f16d27d7b69ffeeea393bb73cc11ea3a35f2fa9c385e01af565c5e3ca23bb0adbdb457ef5d5e1480a6f9ce6aee3541e2626d3bb32bd3c8505e341b0c9895f31496cdda18dcfb54ef7fa00fdf65e88fd1adb66b11d79650ea9d40a6f9323f94353fdcfb4a19f20bd8e667bf63e6976d3a32cd4f22d78ed46f9e138738a3a449ff7524d07b1b13163329cf85ceaaa689a72ac15cfa519ca62197badd66502b29eb158ce2fdb6b51482a083309c84225bb2e7b95593ee66a287e1b3e6302d3cbac6fbcff5402163fa60be033509573c421d2e1c1ee0ba50ac5d0571b264456501436f464183f94351191651457fec7ca9cd2bce34a47f74a63fb0ffb122b36d89d7f6e2594ffb481064408535820543387458f6c6fdc01a734dc82d3968c6af188e050b7e975f0be23ce7079c07eec76a83692a55e2afbdd195cdaadd3334eca0704435635c6e23bad3d6108c0b8f36c15c41a5c4c32a8383d8d6b4e76f240680b42c1cccd3988299d5611bad12f051bad27132859ce018bdf58857ca8c049ea6cb1d61bab6e3630064c398d92f301e316789d633d839049aa381801569b0c561871050204b2b646566c5873b3c6004cbe497be058a399849617d43abc501c7db466cedc700e925164bde7e6277d7fbc12eb844324a60ec6376a79c08139e4fece350c9502548d985b3e233aa352e3c0a628b903f13195600ff9eb33d7b9022b369c24bc3cd550db18ba66c48f2a94fb47308a21d8361587306c38eae0de955ef489c1d4b366049783987ce9f67c56a7d83eaa09853ce80fa49b10ce99b6899381b3f9caa0c44a71f6013d3b8c33ec7ae20c43820a7a5acfca3bb668cacc1d45d644ceab15f498dfe1d989395319cc39df341faaba3a15cece295f322b74786121fcaf0d9303ed469171b9d286981ff834bd650c097804847c5164a646f12592b0766bf1a07fd65be58498f9bd3858b2391f1a1511dc322c54814723cf507e0c417ed62b1e4d1aedd8908730128465046a29b6b27189140a6edb39487a18b95e8ea46ca9c74627cab611794d17f0f6482e2be53c3756da767d722a77235cdc6e47e451ea07b638ebae0bea67d77d53c1bbcc5c9f83e24ec405ccca7b081adb5de24e80f7f99896e68b78632d4c72239c8f118344ee682c374c463605ffb65cabc85df4c1d55e15cc5c64b8034e9aa33d2268a6d49da009ba7118c54de43b1ffdb50e10bf9453a861400d19247ece8d5173b3aa708da071e6e0a8da07374ae457549526fd94dedaf1aae3ae8a13b4a9c182aa1802af9d510aaef323f32f7b7ad97dd2746f4daccf11c0a7ef5b41d10e9bf857c9d0872c530d0c7ed940c795c54365f653973ee924e31533f9fb6dcd5ae123a7cfed3cc127e445ca29104478750d733495c99e4abb735d2412c270731438f4f968616373141029aca91071ed0b59e0b633f4ea61da7efec90a3673f37f68a8fed82e6250e2e6b579ab5b6c54f3fd12b0c53a52e3cb94134f4e1ddc7b756f315b4bdcfd607f04c0800df0ac0e5d97c3d9feea7189d554901206e14a4dfa14c8d7d26421c313a24ec502747b9340e085016cf40bdb747d1166e954b56830ad788f379f13b7772e5f88fc04c0b1ebae495d5133196eb6c046c66fa7a42465cc0bc91d76dd70afe2eae56dbdda08af241b6bff23bcc331d371af7465128dce69390f8d653315a0f1348def0eebf257c19af5b6104776f5ea787571719f9141cba47f65c53446ec8366ef8620c608d56f19440612ed1fe1e37626f507b1208ee00ca730dad172be5ac75fdb8c986d48a9fa4638479042382225e5586c9316865b39fe5f4a788725e76800a0c94c805b26a659e7b148e251e92fad5fb4b6a6b662eed4401e0899ea1a9db25a400c18c0f936519f8cefdd99dc737e7cc3fe5de66fb8081209e12cd32b73ec0e87db3f0e6ec913ad281719c1549e7f23683aba0499d626edfed7037cabaf907bb4fc4997fd8b66d906c38c571e0d131b91e6b308672658abb6fbcff250357308debce1fff0ba13b6fda2c017594820c003a9aba358d8618c4f64b536ce0ae1bfe533ddf9964d04e28b4d1702dd589de4557103bfa4be30201e99dc8cf0274b39868f2de026e2639f9a0bb533c5f07e56c99c810440549f88e9b06d1c452b397779dd270fb69eea7797f71b82f5fa673824f316fabc41910220067c842794a086b988ad5948a349263b8a93312661bdc8c7ec081e9050acaf869d9f7400515a89c7a487120130d2d4e70e274ad96fb132396cea89b3f1393929d3588ae079cf5310344486db4a6c509fbc7293627650dafc92d423179e9313f194f52e0d9d74403a9bc0238103fdb98e8e709d0949ed4ae1d6c2c0a1254bc93eee14838a3288c802afa5bbe237004c0d45bdefbc30ab02d7b107b7587059420dd5ea8bf8644ef8b0be22484977dcc5da788f2a1093239bc8ff7dca16db2196920e8dbb0e5e4f7b42510eb611b57b6a3348accc4d17bd81bbb8fe05f568ef391803fa263dc64b72ba99e9912ce3d2dde8b5f03039fbf9392aa92ed4ec9be1d0461a2aa057609d9eba0bfd6a916ae76bc1a42134c3b7a126b16d6252a43256a59669a98a08ad4f9810f3ea3576e621c7904f616fbd46293fc87045334868df6697bf48e69609c775a298067f3730d469132fc72c17dbe1e5cb3b5c7d525cf176a04b190dea4e1c71312ac35d0de5e77f308cb92e79d46d01fb2eb5009d7edaa4e349022e35b568f255eab03b1561cbed74d900813aeae6d3f2ee1c482877fef31e03192af48476406701b5b0f822a108907a75d1b5cd68c79be826cebbb75bd89df2ddddf2efb38e976aff3a8e51a950d7875fa0c3ea66b19a5f685df45cddf416718a250d6feefcf69f6359aed31b60fab838de960b794f6e7980eaf716c35f223f87f4208dd3243a041dcc206606738b613d04d0df9a9e3318e02206ad86d9805115263ea3f45c299a09a2422a694d18e45d3a52b5e5a3160f80f2d26f9bf73255e5a053b0708cd1d91bf215998764dac743f7685fdfc3e1d528739ee8af8a6741f01044e80f84ddb2a2d0c10e4b01960a48d83407a741334b4223dc14b324087e040aec402da4aaf5d93d981ee4b992be07a8b57c70093cf16d0c3be604e4ac1a1074fe58b48f55a9dffd718d575c798425dc926b2e268939c67a2f1961e7c300fc54e732f40582c0a57741e167743c3a1ffb2d5f5e27798a4dc0677be7214442dc172ab98bbe020531bf5410b8cce1ff5f254587f42e9578630193c548701bd5a6926828e101be48c94b0694e68734e1a838a2c51853ecafcc42d50f3b590e29be6092ac2c11a554c984c54762faae851c2b99c23a0933e9553dfe91123c27609e03be89c1206fcce3f56ea4037f2ba6c514d1dc2fb4080b962c31bbeb1f1c4646985596bb0994ae14fca47ea4553a11a35dd984dd829e33e8dd14a6449f4ec9477d692a354bedeb29e45201fd8d091a6547ecd341fbe67fc0608186fdf303b28cf1fa89cbf19a23eca6e40eef4a2c0100f608574b123a47daf8bfb8dec455e0cdc335af67edec4c9bb68278c411174e4a5be5e97ad8baaacca7981e3fb35e693216fc43c1e1b999d6ab4f5836eefdf8b3935a0ad058e90a0444548cab827324b0258de05687c862712d4fe79049e1f89805e216534f62a4df0769f8f324a0377859ed3afcb6e8a3a09b05bda15abd349891e7dce7a908f9db42a21146df7859913ebe60d833400918543bbfcab86501843572a0d6b55ed00f3775dd94f89750b4c06d28c9439a2231fa7177f6e43adb59e7b452395bf9fe319a1c0703248c6dbf78307a91a626d3507ef06e3232899b838c1932bffb4cb21368da4c132b831f53321df00420f27b99cb0e00ed33a7a92de86a3e8a49eaf12dc7d09a8cee44898775a65aa7514526eb479a79ce922277e4eeff51d0e91f3524b1b9cd06d5f18457ff988333f886106ffc7a900bf31235e8125765a229ee7165d587292dd8cd2c87017142640a36ce725550e4cd212b48b47a8d0d06f4edfcc05c92f99543f1fcd6253dd212889bb682cc699607bb05cb2fd935c12977f68b104676a526000073d896f80b93a68adbd6fc70b065bee07c582490ccbc811c305075d556766ead04d107cabcfd73e0aa02314eae7a13d88d61011e7b7f903820819359c384f53dcb59d675924fec61a601ee2f5d2c044e9efaa7018789d4d0d460b167a7bc5b0dc46b97fcd1ffe55ca1e3515ea8454c86dd91c31c630c9d0379731a90ea2c9ae09be0a88238551d91fd6d58e8d7bd165841aa031224d97f043c2eed202bdd95baeb68f52fd6b660f6ef9b500d7db28fde9fae0828964cef2fdc59892ec431d5452b87b2c5e0889753855dec37c7b29a03d64c49f92fd62cd3e953069e727a5b0453fdcaf38d5fa367b691a626579f2aadc8301f51fd7ce09dcbde2865b80928c6846db675d2d29ec0b8c3c994922b4b70efee8f7c12bf7cd9bb92600e060bdda5c0242c34a86b2610a0226c70c5f91a48c72e6ea41a5938f2e5e9587dad629552dcaa99cd7ff29e5f23afb5f0817be07c74bece425c28e65ee82829bab761ecc8a38a3df47264229b1151011bd477555afbcdb993ddc7d2cd57a9efeda0b7a2cd74817c4e637f151b13a8c1e51e4260dfb7c6665f31b112adad3e191eff581a16085d5f62633a3e05254284046e3a6711befddc5abe74cdd76e08448db8fc09bd91abcc4d2078c7a2c0051a0b5df8e7bb3d616e984eb5d7b0cdd1524794819587da8f89545833adc078c1596362d1f09304f42d20bc33e992beeb84ffa0787acafde7eb4e483edc33916da7fc79241c20791840dc7da488b271b2cdea21f7e3dab52c5b31917e20cdb8e8cf4e7d27c2ef1762ea5d526b88a13ec83fd370641d579b4aa61168d672e85f760102ead11dc6453b072301587ea0161d9ee1c83ae7546bddd11f738c13f19e2c2081f6077cfbedeec717a38eac753eadeef81168a6714685450ef08cf77070dc6c1e725a5bb73f16b0fdde29c54fd942b0f391227a4432bffd5cb462ab270a45ec0d240717ec722ef4ee565de35744f7add997aea68372b6843c3cdb2e1ba73cb220c8094e7c5aa31390f9b1cb92efa17de528a11687b223143101b2a88e3056bd5284272041892f34f13b41630a68c8017926172cdc2ef58e9b025ddf88df70e53e5d49aa79b74fee35758d75bcfdd8fb8e3f167616a2d96e3867badd84bb15de53b823f7232e03a7366a02c2d900cf144d7a543b887ee296d0336d93d1f034b57ee513dc64c05a87349a96b89edb0c644adcb6aa08f0e97bf54e630d2f15b6f8f9bf049d95c5e83f09fb568bdc597c2c383d9a5c4b109b7408bcfdbdfca5f7a29162f2af1d5c23627a957011e48e34ee143ef3b8e3532f6810dcdc5b22708fea8d8fbddb005dc2aa7623dd0a06c6ca5f438d0cef985b594740477e88c73045f49e14f8b87bc3abaa5c730575e0f559364eb0961809ee2cba3487d870d0318f8fb5e04b6c608929b60f7d3f699d1ba984253ae90854419d44e0e4eec17b9a530370dddcbb5241b62da1554d11a0ae13590e393a5cb27a6da61063e427da569785b11ddacc844f3caa460833a69d751938eb752bef693b56c606f1bc8562e02a3c94b042a01496623f32489bcfcd843f24ba211c2e082dcb8cbbee4f4bf95ac1bc88b2a076ef50bfb40b885f3944d3406b4c66c5ad1a2413a9a7d005a99aa50bdff2d28195aef3fe97609b24c2aa65d3a51b0e8af9f54d9b0ad49b71f81aa4615dda6d107f80490008a37ed05c693a0f7d7b05904a1c363d6fc3ce879f0b6be44b3d9329085d6640e5f1c047f87c30dca18ccc8eac1e3757002f099c58ec3d963341a10753f02ea0608047be9c53402c9f24712aec172348e258c365496b52ed9d5134cb2583be379e589eba760b9d74f840fff19288e98e957e57bc2db1cedf2f2b82deb0ea4eda65f10cba7917ba4826e940fc4221d5d306d1ee21c3b28c1b9a8ddfba7a6eb9af1a9bda9ed5b72c29e54d94ca0606784b79f599003a2393ba7591312921394b07937c9f9af839669aecbb2b060a4959b12ea938ca6ba0eb613126b0fcede3fe72e5717c8cfc3ac401f3385ca56d1eb14e55f2e50bafdf385d3692ad0de2ce31df8989b1a88443471067237954f6d9114c8f887d3617ccacb35dcb7cdf97fc200ed5ed5e3522f7388436245a7483cc770e9b6bde49ba178184a88f8065651711cc36da3752b516ac1ae1b07af5cd95441876cf96ba9ea2343dcacaefc4dc6d79f4bb02cb261c938c962b7820803b2e6d9a693cd1fe70d5227a401960cf6ccc63a460b4847654b15cab7bc470a8dc546c102e1c03371afdfe07f793c1967d1d37d16884b802aa5050871c03cb708b5f9fd251bfaca754745fccb02a2307aa832df1b6b49b387f6d9e38a980a89653432655ae1fede4d7f7b1ed66cd377351015ae4585ec5a17259690b66129c70e22ed9791efdb8014dab418190dd170a2f5c7d8342b2f9b580f5e60e582c575b1eca25836d03bb7928d97b451dae4294494d9c23b71cc8363c0f2e957688e61524b2aafe1676fbc5de1060442cb1ea124c248776a54970b7df31749ff97698e604f4d30348f4342d617237a43122897a575c489e7eff0dd033148c3854d1d5d0a5fe0b0eb61e0f2890df2121c0f84bd76711291b4e8688f8796da3050a8772e9a350fa73ebd54cb31a1c30809e34a9be63fa27932278ae1bb6cadda0631e36258b7dbb68dd6cce3ae5fb221f4b146ae4826afa7a1c7bdef44a2f5cd7318ee010086da3ef56ed9dba75cdfc3c52e5eb2f1f9755e7fbcbf591454401f3f12ac2dc8815da62163067342a5027e5a1031d059db1bda0a86329c09bd0189dc5c22b1191af8c57be0b7f54febc8b5f1ccf126ba315ec306f9ae0cd0ae3c9ba9f591442d340f842f9140c3757678298dc21d8d6e0707cd7d1624e89a57ddadb3f16ac83b635d25a175a42a05ad48428c0834637f137d2423f5cd80d021191c31e57e6c39e8808f4497c81f11dc5118e94f48a54d2830db161e962c04d4359343118fa3549682dc869638e50edebc5e019e9fe51ce4edda990b4d164559f13c763f31d2e51c907c586a685c9cd5613af53b0c803d52d8348542b97927857044d2b0656080ac000a426e0c1e4a58cde9bc06ca319d010c27e641f288e62feb07f1c2e3c4be63f511529142dd6d322840f7e8a2c4f04c5c320fd2d10e0b2e02e027612e14bddde2ac975577c1b76617c718d289670638992cbdd51ed291bdf39d7c89ea02df87d9ed9b0876c7af15e25e5dddbac7300946859a415907418c4f525777522e3a3d31612067e09108df41cd3b8c6a2e62dd45a78fbcb57cd98713c0c64b02193b45cecbddb97f2df85f23bd9d3b6844e511375445287409e3b0756e44ad33983bc4e0c773884ead6776c4dd28ef923026d8cbc7da8be29a1957ed6c1177eea83661870eb9d98b48ba61a569e1677cfe9998b4169f3b135f8bf1322c9bf6cb97ff4aa11e430456c1fb4b39ac99cc110b974d9b305d3c3a7c4e5160953ba998e1e731a7753fae0ec0e14566587fd5b4243202715af42496be1a87cfd8e30dc060a47e9c5376318cf148d6243b1801352338318a01d77b5cea8d0b220634ee9cf7be85d3868b3658f7687301233712f295038cbcf5de5adfbedb713cc7f7846fc540dfe340508da3bfc1e308c9ecc8048ef470a9379a455f509c612eb55fc4bc4ae8cca561f9bd32d44953442fdb79f8dc1a8b344ab955347e1ab16af706f8447f295d04cd7a786312be0d0ec4cf401e40f072a936560346a064955f6cdca0b637123d3b29ceb87970b3cb530aed7fac16f6b921e0a73dcbe340e1ea7f3e7cf019e203e43d93385137a52e0674bd54aa2aa36314486ba07a73c58619ee58e6c21c34c7d840c03737789fe841b5a8a9b3b470f106213c6eb5e68b14fe6e3ff502259a3e50c85efcb8bbe376f550a6bf535df93a110fe6f3ba4159dcadd5b858acfc09edca809e05f96f7d91842f71911318ac16183a50508deff5b5433478d51fa1acb9abcb2620f18ed63c2c8e1533e3073ddd14a2d0266a730df6a2e09830d96a5be07ed0d815a11376aa81dbb56bd1dbdb583d7165b0fed9876e22970c5120dfa16b09acbc0b36b7df8dfdc9a2043dc6faa271241b1c33fbbdf38e6600394dd7e9b5d5ec68332325ffd47e9ee3484be99376460f1dc641c26e09f13212f4e14793c99af5eef58de845809a53e596853c0f36417b349f05802d039d93bd8de3ec6dce9c3b3831c9413c58bde71b715d602ce701c1851ff362920192e51709195d9b91839aa54c83c67b07b231dccd61368da76a10842df80935ad67546ebb5b41699b0617d9c6b4b38a21991a1bca6b0fac79431115536282c840d356d87f61fc6c223176273a2bd72d0584c0868be84d8f1d8fc2245f870575d9d0a03bb6a56e9bb7891f2db8bd9183b4f8f14bb3b17f560ce70fc460cc80f19a2cb2fe718bd1e69b3ad54b76d003d9dd08a420fa9f12844f5459e267e7684423576bf120dd4b66270f706b93c6074b1a3668b6c3c21e7d9e83ad949d714a96a9851f2cf33d00081d159303fa86c1802b63fcf6e2af5311895469da22c7417da87a347be2e54879853bc44f3995c8a7ac460999b6ee8bda4212ad8b4011a3e5250a09b17ebe1ac218023cbbdfcfbee1017b175088325e84e55be2c7f2a128b04b36f8cf8a129a977c790d075af5b5d7f58482f8551b28ada09e64d9c8ba80dcc652866aff25caf429fdcbddf71909628a682a03824e84b90892dec9d3e454cd91bf8d56df529d21b8335f5bc13a870b11356085473df56a0c28feca64e709b65da3065ef64cba2972fae605ef6047c185c13df052c2416c959e65d07850fdd1b9ce2c551f393c623b2ebe31303e247b60a3352d9510ecb97dec82b90aa52a693a0cbd71ed9194136a63539d052c0cad9bb53a06f1dbcf25151ddfb468f9e2c229a0414be17051f38a47859bf86105a4e4ae2192cc7cebaa67078b2efac06f92c5911fee68b1768b2acc8a5f89a318592d9edee8d327fd76b5ac2d2ef55c162bafe12a5ca731ab69f01a6e0d116413d1e8e0cec813bf553a1ec71f7ac51d8f9c9413659629326dc88d6795af548b241ac386a5a7d9969bb43836d89b1a0831a060474e1bc733dccaa83125efd6a678d588b5052c1cecb4991299e18d503b6e0f92fa553c5e54a375d39fec1b69ae1e033021fd4dd0f7338379814ff336e3e11efb096d0f5313e0e5773adb8764ae812d241adfe499185d410c03ba0227ddb8c5e92853d56df6706221a01ff34373587e9fa5a2b111f5b99fb113110fccf26ef4bdcf5f838c19eaba76c0e44778f988462929d76cc727442d636bce0296356e66f2fc63560767df5cdaf04ff36167ebffd932aeb4d3452f32afa4c950aae8bb86df138c0d6f1067932b49e26b045b3f06599a7fa28123e34303de5397c72540ab29abb4fd0fbcb65b578e0ffc4e089c3fb278b0df51a51f759d480c6575a6ba51eeab646104a4d3d6aba09a8141de694de51fa67caf3c102179274c67d8b1e4a65097e7d57a0a4ba1cd7021a48350b281554f386982f7e13dac47be86574515f8c67c8d9380370874e76ebcd3fd9d8221754438631df98199e438e09504acdd50edf27d658fe8252a26fb8a8fafa86aac346019f37871785c1dc3aacb040253c2c9939eadadf7daa46e0b267b2a52547daffdff23893c8c7b488e79ebc04d74e45804e1e749faf4451f7fa3290d997f687fc44ced72487e8767eb83ec0bf3d8ded0ea8ee2f5b8c57fec0fc93a8a3eecd4d84e2faf8f978fec303f51bae5c8984172ef8c55a2ef9d8c4b772be1651cc67d4d5881000f428ef93937d1e9bb5481df09c9ab06e05aefb6db076b9d9292e40b0c2a80f0d005dd823f25cc2150aa3c0031fca598996aa7336ce1c95032d15200e679f3c60766dbaafa19f1efe5c80af28e0ed2fdaf8c9800cda1ffe2e5ce17c36428b040397a5ee06467d4abd2ebdb761054ef1d13d88bfd802da15bb9bc5831d216b1cd71a8849fbb7af3a6623e0f51a5b60259df189504f5806f02206848fdda644bd207a6eb8b3c8b95cd71c4684ddfb27931e65d3a85a4f63727826d7175970dfc8a89fa7ccb6bd54f5227ea7a2d887fb58d311a0c26792f28b2de4cc48ccd8c6c3372eda31232dba3b2a66df55dd93b171c3b32dfdaf5f7b685ade8d3f914c9fe6bb6523917ec9ae83a42f8f3664049c310bad5e4f7ed00eaf6c31e3ada7331ae43fb80b62b50b5f766e2313c1630760f360dfa2e084ca9d32fb19e46c97bddab75983a4b6ee647e00b8e042dedf934506c561e52ba61ec579af5c6bb317ef1f47ba98e3d818ed39e188730a639f352a7b6aa68d70c697c6dbf9d54409f9394586be0d7b8c19d04dfc53b9165fd89f48cd55f7ac792f0ca96aae19affe72660350e3eec2e705b32ab2f458929a974a31693bad7901546407458fc48b61d32bb8479fa9d1e5152b5d52bd5c8b8ccc513c9fcefa4ec5cfb7695f3cc9b3414805c412d83748d3c17ae191ad63a6ce85ea91edc17c6aa2c335aa08adc12ecf38b8dd0a7b9c5f9d824c4fef02da89d8929da53d7ac4e14912b6dc47f9361721768f30ba30e8eeea12adeb61b376418fb395d2e7e19a854f86b4fbc753b17dab64308f4b0bd2d3cb6e54f76fbbd728ba33b22d49377a10dff999df6cf1ea4568535532199c1f5cf33a286704bd1917695935b1557dc67d73dd6602f2f99d31b056a55292cd9863b20d5880048076c7e0af8e0d2e1223bda614d4f0a11c711671f59e701990345224d7ff94be18f09cf31600d2647b63899d6d5d7d2497bee02c9947dba99afc96470e3aca59febec4837ee02e37db9cddb9066c12157558bf951dc1744766b038c1c0338aaf8cf6761966a0121d5fb617fb82e5b83d1ea8e798b7769d64632a09ce23bf11923e3a73a3dbfc1b2339a2844c3306d33ce61b7c9b6728a81d9cfb9d194cf5cfec889a74de1e65fe21e965560d10b72a98a52df3d0051fcd446a9012ee7e33cf56cd860331ee93abc27b965bd50c5f3b12d91b922ec5dee44699d09918387ebb1f55b5f511dc11c8322e782d75ed0a8e1d3633071a78bb506d6388bc97e62e02a24f316ab5224f8c93e264c4cfb0657df5bb599480a6c6046828857afdb1bde71f4152a728b945eced3db9851fc6bcdd1f0843ed6e23e23971bea0a7432573cc189e43de63aae922f69acc5ec2835a4ffd30da4390fac988f6d3082ff9bf2bcde8180ba7b495aea8c401f0c39510453ba86ffecd88d8abf9461cf0d5e1eb10bea8c688b6ea84f90f440f63924efa19350093f53f58fa234979003b6e51f71e623b078de3a172a8cfe2b654ba791db2127032ff5d13b5a32e430d580c69ab1b165ff69d723ef9fd01d048252fd88dc7c72383e81a291428d4d2512154943768cd46e297379bcdac56208d742bb328757c17fc819fa3d950f4b52cc2e69685ab71912cfaadc16e15dfd852907d2e076d80b5614d626e7e4933ffa16f283e794454e64880001990af53c72df22914cdfe7fff6f28437d968c583018ab6c2b50746bcfb9fc420081ba360503aab67bfe03b85932674a2de891b0256ba02d0ade7243a673c1cafd2a2f27e3ddde08daffad4b0faeef080ce8ecf196e7f2b1da2442703bc19ba76d89f6659738c5dd18828f985620a80682df1b002fe6a4d8fd7fca53cc251eb07a1addddbe7f5b1ffc1a251a1138c03c92a01575ceb052113580b7bfb1f85b26cb718e9d458af26c77dc557d751ed515a0d80990109a31eb28d863a4029d843a97e3d982bd7adff8ffbf6adda6c11c5fce674d3e99213d5dd9c33c779397b3f9530e3701aa0751c48b40e72a0c3f873b9393a1d205e33a9d700fa9c226654dd3dff0a588924c386752cfef27889d19bb7f391625255df136894c71b1a83e9d7af3706384635b5af53933eb11c8c2231fab62d3957ba594e395db57904ce381a52387e4d6c38ccdcc1df49097eea2cec514d0bbb17fe62778aa918777e3f2c5e26d7172be0167fc5bfcc12a23d24c9c31280606bcbcb6dba6eb5de3c154a67f45b1dcb2354afddcc2b4feb456f64454447d8797996da0c7c758d609a22d6acae5ea72ad2a779a389bc56a823d6cfd255295ac3c5ac2f1fe91f8682e4204a0219175ada778caef63456265a569fe1c2b1534200fee6fc992b9301d9850edf263f1f8604bdea350f1a066c04ef14eb5f231ba36b53875f00c410e24d99fb449f71ca4423cc2c41023a870d8c3f193303d3d4364f57ee04d982148327ef550299ece5f5b2be81a1e715d0e7134514c782f7be6a057776c573ec38e0f264d3ac2f642f3d35ed77ad3c4b6f15173081c80d51174f9df8ca17105b1d9a387afe86e18cc70fffe398d217efaeb9576aaa803de788e1f5a53ce3a40ceb0375db564760e31eb6702639062801d61a4c82c115fce6d8e05ee03a0b8b1258981555c178ccff6cad7efd05b8e3e15d75800d0bf26a5904a0e93d5ad4fb834f3d0e66e6620993773031e5871d7f5b5a5afafe09bd94c51be88fee9b2fc859404736b523b55d15edbe62ff97e30313060db158270f8f09cf4b585495c73ce3930999cf0633a8186e386bbfd78806c8bdc636f29d0cba9f21017ca0d0f0dc33ae0ab72dfd31f5cfbcaa972b4eefdccef214e482c7772f85111ae6aa4ab76f779d323be0a46aeb61f8f8d2d5345e6b755489302fba797865eb2b8d5c81a4e8455ac776edf8dbfafc0451b5e5d00ac1bfd824d93a5f962bbaaeb68a1dda1954597ecd70de8a5d89ce521f72190461a492e4c9a67936efa8bf53dbfb202cdec8bc2c504b89a4df1edea4bd1ca82d5d3adbbe0f527f74232e5609272cbc711add500021d6dc473e98a151bfca47d8471536cf1055cb251ec96af2c4024deec81322daec72ed1331f95870639150c85a37c2c18d23a2f351742ff1aa8fc2f247353f2010f43e36b534001f1e10ad6e6b1d67e67e747cfaf79a6a611371bd5eb7c0e17da9943b531261fee9fd52e296f3ce48a213e831d42197296dc2be4a713c3cf2095e25bffbab1c10f610cf14ff180b0fb95b1d1299248ed54608543814d21e91278f473ebf7f4c12a8cb4682b102fd0172ce0da1ba67847be414c5e34cd19ce1187f2f93ea937d7c514dfceb7724a3153e2cbf37cd4ba53139abec08852bda764ebf94f56cee7b2a2368783bde1c912b452b2824eb6cb1a1db2978555af55097832b45fcf52a6c8d13d0f15469c532d9d3f3b6dfd7c78d5fd31b29cb9702fa6130fbbb348cf60ddb0f23aba7d4b1d69d07e9a9694bba4636225336fba8cd76009b335c2cc606b26829998c20bcd2f26f6e170581da01ac77bc3541fb081047a4fb47609c325f613bed9c535c0b59c5b1aa7c7a9eaccc5837d66c17dbe4c45a8d30a93b1d0ac553697d1508f8fb3830a6631f486e338f197fe216cee6d32249df5b71350de5efc832b31ba90d0f3e578bb1572b7ba7b643230421510e35265697449733e63c2d4f5333526f74708db274831def157ef2c4766c238a4e046d1460ce85d2eb2217b25a5e2a520b427ae4d8cf0d7049dbb31ec06f8ec382844c0e2e0da579b7d598dd1038309b516d5c0ffad6eec73f85e2e25574750d96a6a67d9c961bc6f02626ace08f5b24816e0af876fd8ec0a0b41c2f06e2c5b58a8e0867f248014110ea1c90cb8282aee3b879d5cec6b2158c3958de7ef560b38ca5ca61e3f92deac62c9813ef551195ef26da1d806c1bcf7663aaf1bc55757f92b5801b9ba8d9b61b3a660cab85bbf00f0e0e8057d81d33b733b649466573413ea3d512ade5deb3af1d0ae75936cc63f97e6a687a05f4ff1feec4acea061aaa10cff03175b7cc59ee7627a02d405a93d1a2c74e381df7fff8573491b4d30dc94d8a29a2ec5e2a85863ddc653c9d3f1e6d94e020bc54a97c3d3dbcffec79118d88e9a360a9245b2e989282e9c6f28b3171500a3ea97c244f6e25d07f9ef2d36ffd52249e9fb8ede471a636c1f4c8878f282429c4edbadff957656c2e56aaad1b814c543c7b9c70cc3fc5a41686dd35cf968a531400f7c3a5b5d798cf6458413b4438493349a9d159e1036c5ce37222a77534b48acd21e0615ca1ec39c3033b8982a8a6af31806d4eca52282e56a38e95567c7fba29faf9f13e24326ed3c548711287871238e90e55bc6d618fb8c6c72b4ef0bf7b38ab6408741247bba8b91c9610e4f42b093051ddaca1a24e196901c0f1dfb61085fc2a5e4be94e2c716fa05dff062eb1beb6ce7d7470b4fe493759f2dfbbdf6ddf13f22e9a272ed2f9a32facf8edef13b8a5bade29d8b787e1cefc1db74470ae0ca602373437d32fc95f29015b53eda93e806d71d9510148ab7592708fac250fe2b1d79270cbc296bc18dabcf6dc7ffae8e50ca054f17cc11515ec4f81871ae48e3e3ac87790d04f11cc5c7a987fc9222d559ea79310e17327b74fa0a73bf0aa53040bb1dfc75bc710344cd2cfc05ee665202de408d5a017d3d25139e4a750d285ae90b4fd161c6c9e1929381261e3282a48fddd264bca0407e91f1f4764ccbdaa9140f7bcf0671b7b6044701269ccec32f2f4e45580b0dd1b5758a9968f9f58dbe8743959b63835e6aa6578f33f3eca9d1685931601b52eeca0e7bf9e177c8ec1eeb037942388c1b7448e1acede1662a4bb8025df8a11cb9220c03290fb41a9386fcbe9b1821cb43ec6d454d9ba241c4e1f6a39b20a6708af943f9fccae5d6de3748872290cf9ba5ef108374cecafde9c616e5103c80c3032664d952bb136b3c651d41f7f97844b32a31cfab0e1ceb1ff0d6e9f7f4a360f04f6bfaaa860b3aa4fa2f51814e694345e6510fd7ea9e7606f7f46a321b9529324fffb431f7f6302a956b588e97a72f4e07028478840cb4c09559d0f6c335d121749e4b69e00b666aeb9f89d762086e0d87ed62a0a8e5a27ebb3334867d98e7244e4571670ce18e7eecab04c6a15b6388e91ae9abe8fef2b3433389e296ceb30b8d42818baa1131a4c1b954f506497e259b3545c1d1105b5a1b1010d6597957b0cce3981e55be42029585bfff505955077bc962339c56f4d8198811bcc18dbcf9021fe1358cd94d23f9cd976d6e55a9b63fba738427e31e57f49d1f7fbd96899a7678bcae42af33133fdadf73d8b890bbbf99066378fb08f0c1265f4c3c930621de8864f950bc8365c59e80e973764c2f858fb3281a85d3c11e99ddece4dbc149cc40bca8bf6ff9865d15b6f53ebd58c75230b3eabd5324de96a0068b1dfd6393c70b91a2e3a60f137148f2da81b396c27e0a5942a4036ff0b1add97d202e2651fde6303fbc84a80994fce08246eac79c0de2af7cd0786c8dd501aa4c4a8cdb13a9818d9df1495ecc59f9851b090098799a3386a39df60ea2e7a04e7f1a26403f9d30bd251e035377ba63bbd34e8e92d8c7675f9da5ae0c1a2b52547ef976153a3842ef0d3697e8115a804affb16bbf8596a5bac7b58f7c078c54405dfabc7ceef843e715f0bc2d2fd768f9feb52bba3f7ab941b88492e7f8737c535a8c2ff578af4a28720870499c70dc7cbfcfb9672eca9f5b889ad1a196a0b04b1baa4131468538939862db7e11036307611186f5da5bfbb09a5e6ed6a44a1ccd750b52b2be66fe362deb55b1905b04da5acd15cd891a81838f76d48a8c6391b1cfa2186782174870338d2e1318b6df47bc48c974f3f3cdf5c2bf71201933a0046ecb05d76906961c23f4121973b55a63c9712897661a1fc6c862f70b6510624d70969ceb8f4a1394c1dfd7f65a31529cfb1bd2f218664a1b5e46f7049ff2c9c6a571b2ce5c5535e57507d4657175a3d681587d1592870bc0b278746e128f9ed0bde3af407b9be6fef96449acb59c3f765905694113b315da016db6b48056d1108980f0ef27505341ea7ddb143b84727ead0d0487a2c08877977ab9e4ff89ea493d9b1dbf8bba9a58b4aaa9dfbd31aca2d06def62fbb94330d493715c90e25007a1b1d0bac66a7e8e2e1be892fe17d293aef188fe26af64d3826b1a80d4ad8878e178f3d323dcc948fbb55540a01e8f960b76ece73ecbbb09385ad0e824a2e17219de83152f125768a47872842a827bebf8aa393e37fed9aff1ac4df9b5253ff46939ad2fc1bcaf64a1447fb5ab27b77d97d0bc1451ada5406816522afa2140b8cafd159fc5fa55a0506fdf464e2143b06de8686a0340d216afca20a6d115fd1096b632016e15d8894589318d2936e119d756804a89f311dee49556f6d00ff733ad3e7f24160e2eef3c17eeeb037004ee912e8920a7a3643f478705f9086945a512456bf2e6b14a255a24399e25c048fe1809799c493f0e74e9d84fa4bd61f5998e3d34303d66b28fe33cb06a10789b90628d4ecb9923c371c26bbc51d5801044f5453a7cb16c3a53075c9f7da0d8ba60e1d414a09bb0d80aeca9bd7cc558903cb4452b3863d23a9e4337538303ac10f829f0af6a67133574ed775dee02d7df30d3dcd8846ab1a04f44492f2297276a65957d5bd7264d78ac976790560f565f2801219e4081807f3decc84ac4c23d95736ff0b413203651586b7c8a85042ed5f4701a5f79363bda333c7d834940d7dec31d2fe7ae11cef68453188af5548e43eccd2322c26b390aab7bc64a20ea880641064b526612c0802b23e1444c32c42ff8fba6c448c240234ff6e4e6b18aa00538cdf8ef2923bee8e9270e8854297433a444567d23174e05ac6f578bafa984d78b87f0963ac04da7179ae056b7d71121ac4157dbaaea8e8f823288dc0fec7e4fdc50d887ed26156ccdffe88548546b59a8fab005643b7601b3c11da225b92bfbe40bb9d347cb719ae7ec2fcc65281664d695b12c75a85f2b4e97fb65790150a9feab2dfcc57b2ead419744c9d8ed00aaaa57425264a68ae7872014e3a15eb6f718a92ba9daa4e8578b34afecb32ef7f855935508d929fbd315a8d04e8ed9b760b6118cfd789da7fee6ab4bfad12e0891344ff3f802a0f3fb53cd8af047bbd4ffa275bb24dd01086fc78f26c450552f819178346d8aec97f4fce8f9d6c7e2411a85156ec23b4353d4bf0945e662f4e4b8e72c88a10ce13985b995adcd5677df4455e680108306e32c593ae6670cd22ffca35959c00b349e51ff9f32923f337de0e3db8eede7a70b7a99bdf09ca862afa27228a6c635210ba541b78b14b4f3e86a7c4c8eff87b5688a93008ff9226947e1335994b509287edde2a90371e84df761c82ec3e88d734cd22c06ea03f93ec497ca4d8819699aa13bc2410c1681335bb3982a2deedcb937d84de6b49849dff2aa5dfae4444b98ac2ced1d00aca1e6e7c136a9ea5460e5f2e34a55c94d7b73ea70f4cd00f8b0ddd6b9215be495d9bb4d15c3f9f926caf99f5b8414c079c0b14990210a1dea49e25eb0c1bd63fbbaa31aa139d5f142227edf69be637d403f58dc1472d44f366a018cec4a0513b5404dd3af231e93b31dd8bd473ee27fb444068e62685f08ab5c19813f3be88517c22d9fcb6dd926544c4081edabcf21b652aa791022fc6cc1941869cd759e20ed881121b1a278c0dd541b30aa8f1311aa72b3cdb27d2016d1f3315a31588bcf298c9c9b7fc117c12661ea35f968b4ea98a870ddbfaa6ac29ae1ee55fe46d244ad6972ebf34f9327e62b9f3a3d6f0cb3b01407b667338b85980bed3fbc16b2a1461ee1176a0dedc0a87deeee6a61c98b82fc60dea7058e49326f7bdc410b3408382c23ec14d53a62adba111e6c088f6b328396ce30afdfc19183fe2675d5db89293e01a2024b958d009bfb199863e742944b4f062b57737fdc313d5e618ed61e14b6e169c55c5fd2ad34c1d218442b9f587a9d4934b0e4d579bbbaaf6fbe34d65336f89100273e610f1045ade5d62a6dcca82b1f3f762db3f42f18f85851017093d1060f691a92c2a4d3e8cd4460ad7ecc5f95c862490694d3acb0735b6cfbde8abd8e712ba05115209faeb549e399b09363074fc31be7782bda3a6b1ec26c39cd248835350b45a49c36fb4e1edccac2776e5c66c0889df2b881e8b2d85efe6673ded3b9e78156e9e4661a621fd57b3171c3c3943658b9d8929261989f87ddc695b6429bb854c9b036f10cfcf6898fe5f17a8084ebe9714bf525e19f31b2a05280608334165fe2c53065cc57fc68d9f9f3ed5143a45f5d4320c0a1eef7d101f522d901a5e62c70f05f470a205b4387918be03e87553f9afc4c46c2f177b4fb0df5989651577196ec1326349ac1cc68153c177938be8d209f1dabc3188eb87e2b0a5945063439da8cad01bd548146cacb1f6080346e0eb29fea6c58862eb7feb2ff7704c69ce288c13b9702bb003f0aa50df6a6b7600e2c3499e9434e7c398e53444b20d749ce5d759d3574a2eddd662cb47009f7ca72e9983d393e8ffa75f525466fd4d4809165ed94e7b7caeecfb064d15cc09ecec2510ca8a1094ccf7eb134cee35f67fb16923c3debf22314d9d64246459694b10a6673566fdf3600b35b8a1e2f0b2b81fbf0ace5ffdbcfeed5db8eb212bd895c4d7276e767f5d7d395951113ecbbb4271d83d63510547a0a0115b253724344282173778b084cf2440c9da9688460406c71e12c83b3f1de7856e068de2b22cf2bc96d82c59afef541190a1cb78dbe0b92fab12c9835ffc50f85caeeb5991d2dce7e959f2245df3c0049ef0825c5c35b4e0b3db28d70e3c1270994bef83e08e6c7f7dd46a43bdab3624d7d32d75d3d4fe2b26625bad7a831fd438070531f02c474b10cda4d432e946f7f78326e91ced849d7b391293a822186df54d4b596d057e8b12bcdcfe8a40c4363f3fbaa38a497c068c94bb6da2db1ad8a704c4e19277bfe1977aaa07976f54ad5f5ece95b1108832221c3ab86011df6853aacac37d0fa64cfe12803de8c09cdbe5657d76e90ad35ec864a94154f543e292c995e7eb9e5fcb116ddd4bca2fb233d4f43de6eb469df571d2a2dd4f6fad166071e612c191fa89c4742ac2b843f30638156559238ff48b3dcafb02c9b145356021a53c902096ee5aa44e3802e8aeba2d881d6caf1d5a14bd6b0485d1079cf98f1244ee1d18353e50775bd7f704b092c2939d1477cf729dbbc2ce360c6efb9a7d9b5e0a689d24dec9e3ee092509fb3598d840e0d7a519b0090f2c78ed640baeb2ec8c5ebf3f7a9ee104c72835f64d85560093c948eddcdde2d4f9697ea36c2070797c2c9a5691dba9553a0bb6c0ed4c1ba3d16db7ec2a1e35ce8ef5bca4b5b67568d3a7c9bf1593655fe6ee54bce2b383e0b102535ddfe021d3efcd67dae5df3ec0b7cce9abc034efd24750e66ae64d45cf3726e72adc5666518dd8d6958c9db73df7421f369959a4fa331d34ae24cd30c43daad9b269eff8db7007171e57606ded566a7f344fd7a059e44cea474875b154e2a21376481adf12e5ae82bc80c8e57bfb61fb3e6270d62967ca0b69c91f67a94729dcbfc22765c2be16ff6b8cc44fa9616592b8e7d14ecf800902dedf99d9822fdd48ceec7424ca6fb6df486ccbaf5ac627522a7a04d4c1ab4d8fec60691c60e285e35902c00a771acc70be16b17b8e1c0d1520454baf300d7a2e4ec0cf323645c92c23e82ac9540d286991686af735f103e61dfcdb0c6b8d8d4561c7bfa9df220539ba7da558b66747ff7189710eb9c5ed1dd6689d18c75a1f99d010bdaa1b634112d1d130dca5c78e8758b721c53cf626c92bcee7d8da494d9d2e3603b52924aed220e6130cf799b3afd2df76b9c045b3b6ba4a6cc456b09d8ae68aacc7088b3f03b860ba4c0b1db889fe24ce864b0fc6136152402c6dd6ec29ad137cbd129b54a6116dc39d4a92e0b1b252b54851073139803595eabbed7a2ecf901e2e92efdcd3480d8f53fff3f30dd74ee4b00cbdc53c027b560b4091cd79690ea9f167dd46dc9e6d38d965444a555b8ac5c2b0e9b7379b96a5f91d8059543cfa1e5e16e745874defa1338faecc8efb2538e059b2d3d449599481eecaca607df58a38c03e83608ff3ce28ec77e8b6128d246697199dddc87d73cdfbd19dd56f0da20a4e8287c8da6c9236ec0fb5f8de9dc541b72fb8cb4d7bf422eaa608616dfd406ed3b7a2789bb8b46cacf064cc77b94af270ee83f90f03ebfb43ea11b3739af79284a7f99bceb6234f182e4a6f3dd091767154273fdfaae4c553fcade19e9eb2770deb1a9c33ebf1fcc6b1695f7bfffa50a09fc435281f35f5c6e831fff642d4345c9569a0ad38020b922e6e0eeba2469f748607353e91988eb7c10085fcb41404e45160be86bf9af5540ac1358ecefa5b6f3686905dd4d585e623b37a6199c6a9f72136ac4911da19de0770e4d997edda2b51b0838ac726445ceccd67f2d5b0b68e1be6c2df9ae6fc91f40c07e41e04f7d375ab4700539d9617d2fb58913408a78b1c022cfcfba3e7a8149c9eba4bb247b39dbf242ab7d2f5cc952340c1f3433b66ac60d10e5ddec2b50edc2609edc48ebd0d458d9d679f08bc12bc42d9a1e62138ba6264ae51035448bb6224d3f1a9022b601c4ec5d9186bd1b1ab0887a5624e9e90163f2e8670e3b68e3cd0019648a4f7a7a35a930be602cb89fda087de965c9d4eda161c00ed8687ef3573fe2db5bbb443c5e540d53df70d906a193c92305bd3b71e3c3a4335983ffc07d8de8b950bd18a5f81531b9cf84576e36b329ecc50da73c369b365234977ca1087b9588d39fb1d08c6d6892464a529c4f55057ae0d94fa3a846947337794f78948eb434d649645c25a67bf5c59049ec3eac316fc92473c2ed80c34e561632291fec81f6570a0533a52feae9e7b3b20255696bcf13913c38c25e7e6dd31b08d6b77dc2318705b31a234305fe992fe7e9b35df5d6aad8c28d57ec9b57f3fde72124e7c1f15f2758ecbb47396ecc6b93f1318f24fba557e0965681fd51df14c2aa7627c05024b69b16a9b4e3730ff1340c202906e21ed19115117b0fafb27de6421675148b6e2f401068a89e2d8d5c2bade0ecee9d7cf45204a26462978ccac35e46d7afeff305b3d3fc1e4867d27010dca29eaa3199a605f878849765a77047e944975e2baad2b4dcc514369a713c41563b7189b40c217cd56f18e7aee39fc11ccde30722af73f5b3b9e39d459bf10241bd392927b5959be2a5b8920e3bc7f33267e9c22287744154a765d30d05ed89a434b99406e0d0046acc94fc0158a9a45da5ca8ae395e46345cfab9630b5c3eef93cb48edb823798a67cc45bb28863775e7bfa364f9b7a272e108da54b5bfa1a69cf165740781ed3ec9dc0ddbd33a7a7973053b2a4e07eacc8daf690a0fe70cf84069b9c1a6842f83d8dfbfc8e84f334fed43f436ee9e94ed9c33f1afd9f32bb0467c74bee45c62de7fdfff832000d840c49148ccaf68da9515c4d481089613ae1eb2afadbb888fb656c6eea3d00869f28f4460cdc382e7fd4b9d09fc15227404992a2b35c690706100adc2445d3dccb77fa7638c36efeb13ed68d6758c854e999b66c6bfc1b56893e91f21ed115d33d736bddb1945e1e6d5df525d8afc357100646c933520ef4a16c8441a9b134ebceae24deae2d0cdbb0206d1d3c4077a31efa442ec5fcdf737a7762ecfac2fea410c97bafbaf6b68df6df6b4979cfd0b0bebd404b3d516387328b814c4d27209644ed48782f0be566f11198fc3f1f97cb7c171eb54699e8a6e09ac39ba5e0c633f13fd075dc98cafef382913e1fc3c1fa129c8aa5c773f6ab0bebaa84c76a8911cace6c0914605b23e978de649e7ae256aaa6426f4985bbcdfb37f6cfd0cd799c75ea174b5c3905c15826dbb2025f49a5fc30e9564113a47b10968e3c260a088f2525f364aedbd17e1bb56900581fe8e09c2e58f4890b8fdf139044439787c29eab54e3b7e9e0f7c7e18376b35af139f8ccd6088dc825831a591d201043a45eda2378f8e3cd916d5a1d8885596b379efc693b44afa62856999a82d7fb716f00f5557ec2ec94e037cb675a727f60096ad910461f950e99fa3d8a7ae3b1f1035603ec2cbfcdcb4a5b8cf2d4e174c2f2a5f46fcd7dd91429de5483ac64b11791fb7a153989540d65da0b5042a15a36707e9e3e55f86ba5be77d42634b0cd34eb53aa5d0fa1a68d2eb1bff34ae77352ab5dfb6a7b318d5b45eebea12b1878452458c0e8385f36a74b8cc4ac5e688ffda752ab30c5a1f446d958af56d21cbafbee7db2540f8c804bf10e26a9263c99b9763303cff78ed04f6e2f24c88540caaaa3aa638d4fe509ffc59133c5eabe4c15a64c7e2060fad30e2bad7176f0080b20dc4a62feb10c9476bdc7a5b3ec2d436a31ae32283e9ef4e72cfd4719710ec36c2ec733ba4d07e61787a69755da9a3acaff7e6d9ed64128be242c5bc2fc730ace9656e26a48c44119890c0ce3558c731c64c7272763870f5c2cb3eee3362ed9c9bbae907bbb04ab321509f12b4f5aca17578e8ff041df5c69b41f654175ab444f165cf41bf47fe6b36b85c65f882bf9b0e7e8acb39e319505760747ccefca47c72ce727278e619cdd39e1e9ddc95f9534fd4475070c5844e9e12e7e52803f1b3b4ed22f4032c7c9cc2e6a05f57dc5640e68cab17657d497c381436348340fbf0da708a986c260d47f23f1c724b87af93a36ed735db1004938367ae7757a07b1b844f88e9ea5b4a1b41272a832877691d0fdfe6aaececeea2eaeafa4c3b58d24e542dcb439d4f5a","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
