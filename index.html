<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3ac96fb348675ef69a75f57128445e41bf918290ffb67c60915ead56ecdef360aabea9d691435c4881cbfe2a4601059a8ccf8c3ccb52356e5c2196600492f8bc3c0e3981d010438101134011bbc284320c9447f77e3eed4e6bee38faf3dc08b8888e4148e2349dd10ff2d77831f6946825d05ed157d091322d0fe6e35647db45d5396d4f0b08a9917e3fa2202c08d1852617a377624cd23b5f3d2ba7adc1a7c6096653def3b929e2826507e55ae57b9e68726c8fda14522e56e5a6f6eee257b345398a2e90deaeb12fe4988d9a9e6cb2657101f474b9e3ed386e168e3182c368eb6e08b17b496f2e9f6418644d1183085061f51324ce4cd8e6ec68791a25cc9fe14c4abac6478c37305d5642ee9bc0744fe9779391d5965cc6c0713016ad1e6ccdf7ddded655e2ad875ae2706cfb37fc738c3fa59644036f9b92cf8d66538d12b85c830d7887521b146d7c5d0fbdf06e65c39fc40b3f149e6cb5d559f38df9af7bc0167634b16657f5a9171948c1f3ff4f01fd6817e27e72ba87b3ef4fd87f36681325bc9f868a124501fbab13f227d0c2ac3d76666605105456fd9f43fd6be42a73eb0ad69f8553a20b57af9ac39ff49f4541046f9d81585b6d86b640c4a317a00eb8a2ae7a46d98f7bcf704a1850c23a2fc827ef721ccd5370c940d4fc5007b68c144c4e29759a1fb22df8b80db2cf43689715c8bc0584ef3bc9462c114f94d79c77ef0d08680a8f0e70b57ca92854605953bdd705ab6a354d6932e9299b47706859a26129e2eeb2da393b4e00685b31517dcd9e83c4a18c04b0c1a5e85e5c8bd4d62553d1e3d05e527d6eb266b45d876d4c95437fd34b560024086043e6af3b8c20a2278c44818c29a352eb877c026683fef5f122282a692a298ffc06fff9b3dd13042655083f59555f156c517630d634b0ac3c5fc8d227d5d6891b7741933240bb07c3eb2479b39e76dc668e4ff58f4717ff91c44f2d6a02598280b707fbbd4578b17a136adaf6b16aab6eb81a5bf4cf416d582e0f003fb3f3606d32bfd172687da1467efc89db2328334b492d1d877b6a441249a618832fe5431807693310d15722357c05efc92f24f5712a78b1d8149e2291f868a1f3dc05764727875c00e5b1693307ab4ad06081a702f3386b0acea366ca6e450b62cfc25e512729fdf42381fa069137e428a88db1a47dad814541d70e3a18aa9604241c62dfd6831d0aa80a6faa46d90459c96ab9d77851f17483852026e659f792b6e591ee8d2954b8f7ce60a61fcad78b2e2838cdefbc8fa3f15a2744b8d048ae856e6a9d7569af969f9c4ecbc4c5d38f88c116184fb3cc3be50b1c16c0b311675df471e6b80be860bfd2e49cf77b79590be1feb629e1cb4a7be92fc0bf7cab50d51349f502a5e548641f6c29e6871b9f9994aad3646c0ee1c34c9ff2e78c2937ad089a33ed1d1ad74efe59bf6adc4bf5e4b9b953a420f2128765d593257a997789469185be27dbf06bd932288f91eb8b3244544532316e51f62cee91e6df2ad5598c131b699e2c3d753e46433d81dfa66f49bc4684f2f1171f34e7c8bd146939356fefdc8da35df16c16b694aeeb6f7778ca485e43ac4d5ea0a5c366c4b930346602f668aed8c9405e2728167210daeb97d5e9d3a9100c3f76668e6f0d37118e20f24996cfc96baa12cb749027215c5a5695689fa268246185c2859edaaa472c6009d8f7921979b58aee0e079d5c07e28122173ca26919835724bdde3fb10e016c42e8ca5522b4c85e4ea55f26fc9664c7399af5998b783077b7e8367dfb36b861401779ae0525963cf35ac6ae99549c95d35fce91203494aa9ef21772cf22b1329ce3070e19694fa61b8d45c38430db367a0c435e4232d23a5a051fd7d7b9909ee965787c14dfa5158f072c7e5a67a12a556dc77ead27b53d10cebece4eeacbee4492be95761f5ae0ece67966ed2efccc45eef51964d3b24152a3f2b008e87b68b98a5f713d2fc9d429540e139113e9c3fb2bed24366090e7933494a069e2fba97145e075b452b5425f0262900c78f5cafaa73f96380b84f2dc722881aa3f9097b23ec81b88d7b7763958e4b5c08ff68a6a13b39df675582335e94de7cac9ba38e63fa3d38a969e1ad8a0637526b464d6c21f23d912f0bb6d65f34773618495ad7a40d723b2aed604adc5ef9de0b0db9961bdac43ac3e1026103b4c9282b9366a885ba6cbc22dd303c7c4d56960bcfb52aaa7595679d46a610a847727b8208ef31474bfa5978c00897216c995dd5a9c5c727b10bb76a21672a443003587939a15564bc51ab330f4002b53eaa9e19748f67ce93e9e7557ae4b22a5226efd3531bda219255d0a7ef94582a14e66a1acbec7517f754af7edef034b433ba2dcca0410892cc7d30d2ad29674ea3d9e61dba4f4b44f1dbd8ca0f64f3607fe71133989ca9bc3363a63bb09957de51ce08521060b114eb3c69d9449d69ecc1d709d7a196ec05147b1bbb994ee94d7b11c59b9a959d6eca9d1b7beafc0c444de7d7e4caa82a3ed625a0987474dda73c1d81c4f940d4ff575f44cc7c23fe84c03383a86a71989d9da10a33f70c484be3f5b5cebef2acfb5c5fbe85f7ee112c34f235d94b9b321582b20884ef5d984c2d9663505521e734aca94a21558f0dac65e255a42de6dfa4ed01a2eb81f252b813e343808f43cc076dd1c28ba70115b027c9565f849a47ad6b2f31560377dc2cdbd6dbd82fba97d508d587b9b4fa62c0564685e958b41637810daa0a208ad149a3b4f6ca4b0f4cc915ceef6da9da2acc157bb7f9ee7da9fd98f3427e4a410bdcbd01ba68af311671e936f7d4f0816d1cd2a42a520b4f477f2e42425235b693052e41684dc21a9aefd33a60fd9a3a16cfd541fd389df78ad7369d3c1376120f0e0648dd2894192ed846422eef87aef65c4de1ba9467182d231f5cf79c1cf5f46e9b9fe2e05a7a75e3dc90f2930a82d798f1f512dfa5449b28ae2cdebc26d43d4e63c096a94a5030a673fb06a8deb0ee22c387407c965794e370c5cb24c188aa975f86b5ff07be73b3f63994fa56bbc7179774783a343cdd15613b60953f61c2beb718a3eeaec82c6cfc0466f561bdae69ca684b25892ed254567b7eca5e2b85d8bc600e60d61d0e8430b5273b402457d3b7db89f2f1981a37075ce2f2211021c28755bcd2a9255a674728de36695953099c2a3e1779ad333ac57fbc53933a112f2647e83f4533f9cfee4023b227131f2dd92c899c9295311e6e20820cc593964ee91d9864f22339e7f3711d9f55e9431b0ad560105c0a446bccd53558b154977ca38c0a9665e89d9a081517c2ad3cb90074dc76721f22ea27e5815a7a9aa41219c28478939e8786a51877a9cff0ba5c754689b3a4f4b029dc67f03eb347cb7a01cbdaa0bba41145533670d0778f67efd8e338127d34f78080e392b17dd8026090c1ec2d4b5fa99caf6a895294b86dfb781f9e77cd634c1cd9233be1e5f24dbac392e90251ae55d74686bf399b29d9deec80d5b67f0463d55ee825f1c3db7dc026a94d1ded5e7d0d07e0ac386c66c532a27096a8b831b90972573ae499bef6faaa3af6f4133a071842fb740fd96710f26b534b03f1d0e789471596885ec7ed0974c27466879d06aa6e27677a97e8250d22b568c75f4a744e496ff5731a8e9a10a2dc78867e9c80e61dba2be400b638241202f29e1e07588a7ccb9780ea17df89e29044a59bf6c76118e6f3826c3d5bb892741765faf4c36f7f8881fe121cfee052cefdc0529d1c938943d5a40de329ef599aadfbc1710d19ab9df5f623477ce8c6ea3fce927f046b7992f65d98de688539d48a7a659722fe56047fb4f59927aa5a185bacac6ac3795c5ac6e15d0156901f2b78aa912584e10e95e772c4e5ee780ee9685195ed20c28a2e65e5ccd0a5cf02bffbbb29e2348536c37a81b23d316b3e2a233a39e24cc6e9faf9676e8302bf08e79ade97fdb8ed2719f9e3ccb25ef540639825699387298228bb795685ec42bd668b90a73e71db7f4c1dfc38bce25a36201015e94a58832c73e2d9bda5b6ed8082446126e179a1dda416c5ea07f3cc48cbd001abc5fa9aa959b9e47fd4e625f7d132435ff452e2c6f735f40fe668231c349f07868b9b667094ab33c251c54ff1078c83b3bc0156d1e4d187c425bf14281adc1488ad286d583a962dc8f78f1bbcb2aed93910d2908422bcbc9685001efd938aa5874f9f0a78f130448bf821aa8063fb0b81db46718292aa6ee4ea73a1fbdda7e9a314a7808f50a57f433a565b988a3d21db9bbc534f428be21fb08b89d49964fa7fa2451506dd1fba3111442a06e29abdd7a7e38766bd9c42f9462cafc71217f2f86bbc80184207700bc3d5574bc703172c3ea7878e432adf124fd45d2a2454a187a72f2d7441c02e09bfa8f6d229b03135e8b40b92ac3eb2ad8e26e8410e01a6d768c9c3ef12c85f257d0860eda4e4f67f76864a92739e0c41ec85331225b3a23aa8f2330f74b4daa0327b655cbf2384d85c803c6c0d66ba959f056115a0fb0e1d221b6a4b745d22164d3d2d57e8df5e60e83cf31abd83a524a3e35e0937c337a90fc184e810778bdb56f21e37f859f06b1979e9e2495bcbccb9448a7055c76e5ee57b2d0d96d6b26ed4abd9b408bd458cf7387d01c843bd62edeec68a40c70a94116a05e82236b268834c53a0b49ab5803fb7e08d54290bccff517f9becac099da2f74af49241ab2c6e5d0ad2be2c7ebd6ec373892f3bf5e5acb84a833bcaa7fadf02aedde012f260fce1ed85f4071a1b07c915121fafe519d58a453fc702693aa4694b119207cb11736b89374e0b995509411bb27ac2e0a12ff68335ce21e91b99746a7d40995430c9eef0fdb4bbcd0fcf31f0736fd200b07ebd87629c146df56ba904c237b2abac9b40fc9b9c570d5ea57f7d2614aa516fb2c71e018f4f20468bd6727ede3a9b68d9fe2c2273f03448d0072aaa094c5e2270ee9acaf5d9110fe3437b3875799bcb3b2d487884309bbe03bc56dd97d7f313eb32d7c90c792effaca060d48f67adbc9a4cdc84935e2b42156bb369529070fc6ed6f1037d4681f17cef799e3ae92fd9d0fba24de800ba51f2f7c0fc87d46f7a6e6ddab8001fa2c2385366b96a7cb94de606eeeacb0cd6d454d32648ae6685e36555c95aca7d2023b4aa055ffd4a4829013ae114c3ebdca84a4126a3d33963b09cddcab7284da9ac498546e5191d51c2137f47a67f8e04f4e209c874eb86db0a84e2ab223611ed9f64a5b1a750d241b74343a297969dbd9c37963c1a60d11d7bd7a4d74bb8092d8b4468eac1a01aab23ab61517f2db2b86dc25bc2a9328a1735e8dcdf8b73cc6a06120ced37f39001f21b4509ea2e4185762e596381fd1992871c25989e17ba365d00dec44717110f2062745746bfd3f75fe009782b7be314ec0b71071a61a637fdb67d92854a1f0ad6becdf883c78213ea4a41126f868a29ae9c967aa4e67ef8c326aef7833117dd3584c225cfe73bc6ee1319e2821cb9e63490db9bcbc1ffdb3235f6b9bc3d9e15fb03f48ce68f6930e191a59a332d8603ba0a24f739ab77d7d2b6aee9a756d44e96c1ed0c2a96f590ba27b325364df22f3bb0926b53134a5f5fa8b360ff4a9e4d99e4df8ddf2a8b36d664c346d5bda527412df1dd50f42c61409ecf2b4131f26b87d41f92dea80c77b2c521c232b628bcb7f4416f45adf45aa3e9e2a209ff0e10d02822cc5ea260591dd23588f757043ffe959c7c4cd98c0bdefc8eb241d9251ff38b701afe07d3075f12368ce8fb481e3b5bf9c6095bcf937085d6f794f2b038fe612a2b264b7791fa5730431b35528ae7ea2c05d05c86d26a4c7b27bd8bb04c211f9483459bcbde34a63532482e0b5d8bf586ba163581562d42052850f78e7cddadc3135f7b225055f425055ead13c1e3496466e511de4410180975a5a90a5721fb8e0e871997c741aa49946e31e2991e4f712c452f0209448e1de6cf5be8fcaeb98e32007e54150c49e5f049613da88a5163b93192dfa00bfbab7c421ee77e41abc6db734ef4d3cbaf85651f781d469b3f11352c2cda47adeca727d26c1f9f9b89e06cdf4c3603f524f7a22bd6b80f529c444b972a0d0090bf6f038da484cc46ac576e7582849ac03e95842cd1ed6a7901b218b1a9e5fa89d596c9ab27d5b62eff1fd90e2f01c88497a2dee296512844ebf26478505b26fc1d7fd189811b96e95ae04bfcd98d1b785f6edefe171ecc78be16396192f702ff6f10d2f964e3044d3753ec3af931f7aa7735d42357e3d8aa9444dce35d1ae0400282744044db08fec783e1940ea0444fce8043fd340756ed9bdec575198546048983bb98b70e137c981747fe9eefc9d13ab60086e994667e9d489ce68a4655674d186f943a9ad679ccad49692bf2862201f52db413f0efc517346bd2655bc4f98a176fc99f290e35ac03bdb80e025ee0ac983e0ae1d6eef9facd8dc5228e8f3bc55fce3cf09b63ea76f370d320d7fbf256b109e03ace63cd7b81bc93cebd17d85c59273a23557912ab9fb6f039d8fbb55f7631fb277bf5ec0c6d9f6282702f3d904b962d4cd0dbcf391ed5ca4b3534b167ac9376d931b72890ff6f59eda8ebda89f8ed8af201243ac06a738f5907a23d1d50608a3bf0d7146ff5a0031ab20bd0273ebf3ab8f208acda181e920ab54ed45159e5b517cb2da1a2f8ecc541764ab414fdf2f96c98f592807a7bab49dc749a26f8fc1d7c82030cd7606324e68fae53c050c8813758b4c931fcdcc890443016a8fd212c9556a3f28cd872824e8baa6e5aa395d261d8a3956a95f225387a6048a8f0960b2971b7dbed1f5f9eba6500f3c504d7b349893dfb43a7b64ad70301bd2a8c45df4ef5fff9ae832e5b051bce0865722f4fb5d658bc24d968bf6b7c8da84f884cba441e5e1bff3568e37e27fbbf17911fb1c8c1cf5dc72c7e2ddb62a1f0847c607714f47f90fc3e0611ae57f20efded4dd5c92c3207c206bd80d1f74a8f287318f72513f31f67a7ccf649c98fac5ac33bb12c49518bfa276fe0e0bb4b43c1e58dd9430b8fb61f34c58d4b527c1544ebc524c446776662b5c0c5da1795b06d507907f86b82d8371827f5cf8d6cf6f347ccc520f83072337f2ee6885b372fbe3ac420a80f581f953961b6e54bd1306909038a08764bb2177641c10da6ed5b77e6b5937ff0356d8ff7dd8aa5a23ac0c78b7f2305fb45db0d246a07fb46c3ab33159406b9669d0e954b27c2ae4fdf60f1125ce375b8561a6212f2309c2e04a240d67d597e6bb0e6fde7b650183dea5851fe73787f09b8e6176a562a49e417a49c99fccd842647c2c1d025352f09bbd95777f59a5d32f6fef3987796865e153ebdaa54798441efcbefdb3c2073b0c7fc1ec605151934db4b05c76510e978f29d6572cc9dbd32ae778ab15ec4e2693f317270ea27af76bf482417c94f07a31e093ab2f9906a6107088472cfaa6b75603a1d10221259db7e193cb1000bfb5db5b18d340491519f86e20e09ae0fd1d317121dbfdbd366c54e47fd9045dbd17266140562a15e02a45f84996d97fba644567abe6c6786f495563738d20121ed4aeb55fa6aa0391e2d1c2e54b0e2578ae6ac17a97aa499d6f700e26ee3722608ec9f440857a5c449d82db805099c7dacf54d272194f88b631d220413da17f404b183cfb13be6e24bacfa20857cf2407dfc6ff34e54b5659777eb895aaf021fb5fe506cc3e72a19d5772a2d5d6ae74a0e9a8ff3233fac08f64dce88f7ce0797289b470d6998a134586818e16ed449de20daef704b0e18ffcb6ee1ef1e5b6b22a04834e2bee600bc70d727ef1cb4a88d8de5634b885fc5a497aae5a320783008cb21a5eb0b80779ccb2e68d1a8d675095470dfb5caea0f77766b7da6283c1a37c7a0cf63e02edbc35ff7d3099f4cddf2c3995a3ca82b8b94248c1ce2890c400096e6be08299683375700ab6874bbb21b6cf2eed5604e083073fbddb708d7e03949b101d56918b8545ecb12bdbba85f9b76352a8e7d9ffbb70064fa6aa76e2df2a11d349bcf6551ab65377086790273715f8867529221af0130a7af2048bf743978ae9a88f1bf9958df248645ea5691e2ff639810741819cfd3644ff0b6309027946cfa774b898c6959ce197380efa11b35eb15e95f00d48def43471a1aa17aacb2b01ad6696ec810bf14fb6296e1804be3a606460257dfd5a73b78b42368482d25cb17e65983e33c00c3aa10759b763c2763582fa7262d81282e187dc3e29fe5446c5b44a38397e7c83112380355681bd28902eaf8534e3a919a20676448a9eb7343efea67facbca3312a37bd6c192194178081daef2d145da1e140c984165fd3d642c6133413c65e37bd594503077f6e8b2ade6d738ac2f099a9fea138d5363c24dd3e052758b0dc9a9b6b33d5e54c3bffb45654f84ac238f5c6606932281ef78145e0250e1e49783956c166c3fa51d95e8101f0c1c1bf4e271d1c3ab3e50f08da13d66d530dc974f3f348a6229afedd0bdf3fb973b15e9ac4faec3b497f607fb93ea27090ce494b383d6909af877afeec8c2ff606d0c44d3b85385f72090faa154dde39f9dcff0117c0deba48d0144760efbbc6f2aaecfd660bd566b5367999b2e14a70ea1e30d8b12d57d76cd1c871ae12d36a7918f0d4c9de3fbde7cbab774eeb1158205a87748d2a3cbaddbba5bbdff96f14e8b9b261474b033987f1e15a8a728bbf9e116f24e7a6babcbcbc5c5530618f5eaf78114c1a3441d32dabd1b5b9f9de60914a8112050db266421631c7060769d6af0c8c8ef8ac9a78caf23184fdbf24c5d93203e94fe34d241b2d986c2f378e72095cc3596f2ed2323a24017aaf94f87ae154d9e8ba778b6d5b882af964e06d4d04156da28ec7951e90543f24c3b4d9c44b8313a9dbcef2bc4d012acaa2d22cc842e460384ba68cf1d6e50d38d113e9f92aa889a7f2db4a96197c66e159188d159924fcd218a9a34b1859822735886336350293ba1e54eb44a6df8851d04c0021d880bc1609d0ca5a119eb811053d812316f3ff6f9c394f6213be8a2c20519b1296e4f96777b9c21201e6ece748b976bdeaeee47336696e10c5e5bfd6ae8298a4fab1aad93b09cc076f8bfbacda2df95baebb2092cf6816804134374e18962ed39cf772eb2535a2fccd076d26c1fac8359479c8f1ec206dd67e0783e8f8feb8e5c5694184d6109eb4be7450a94e6364505590fca2b2248b9fe7eb7fc65cf85f5f66a705e87e00c1769d39b40f6bfbb70fa83d99d9b136ab530d63cb8f25210d47a9f33a7056d010078dab91e968ead57ca0d25b29e6d0ae10e28d33825774c0775885eeb4a4b5dc6287d304264b023e3328b8a2801b2aacd10f65ea9e886e41d74f167dacdbe2c546a649f467f3d3a725a80f524484528f81c81af51fa50a9d86f39895fa6b66b0865a607cb46ce166b4172e914ea7288597e721917275f3dbd36b84f7d3e33f6c6a2d70b39f36158a192c0f54a38ea75e8e2ebb732946525ce251c18cc63f52cc3875549ce06ea442fa31542d95132cf199bc2105bfb2f418f6c10d6540f17a7446ac47e2844d6e8d042bbd88e1941079c8bd2d38a62999b1756f62020b7c854d3fdb8e2bcd9794dcc295fdb22c32fff0783ec7d3f13dccaf2a0e12bcd9533025f06ba5294f159b6b1262b4b002ee5222cbcbefd88205ccec5a8baa45bbc66d13168744566c9dba31b7680986150adb90b03c61abc09d674935e5b10810bba1ce8505af3399fd2c3030d0299e2bcd6850863350f476742a85d220146951fed33d29d95711971267cd0b6c2a20ca64aee804a5e38768d674e56002ba39f36c7fb2644d1915426ce3034a25b71cfdc494816a9603ec2bac51630907969b53d0017d60ad075f3e2f9196df0a7cfd735ec38a8aebfe15c360f4f6f0ba0db3257053eb9636fd9287970f0cfd3465864829b325b0f071e3d89898b7ef4360f3fe0542b1720b45e6831973edb80d580eb299386b7cd82d5474760009b7aac87b721ed697628254ce3e6991cb3d57a13067e5883e08c7645e1e788ee3f9656d411ff07ed94de7f7f800e837d201a8c57affb887d7c2756e8f1be74a9e7f515a20b2505d369daa2f20dfd86c6a1069a65a6a7ab89edf465aaf0aefc783bb16465948ec5e4ae49e1fd2fd42a6f97f3123c5bfb8817b00673a1448529e3d7540253f00d587d041395c1d2f57c966175c3b750e4f8a6c7ac4186ca262196aba7f7e7b9e6ca769e533a6083d3efbcd2ae7b2d35467d6d234249c678a4c7dd944fea0ab03fbdc7231eef084c4e32e14b186daa52fbc405e649132ac3748ab013697338ad39df008c044f0701f70d4bf8b19e1303bf9a16114c46aaaa3b68a1e6a47338b1aa86198527877ad41bd7e79075ef104ccbbd956a5cdd19516107441a6fa487612853e71ee8dc92af0d0e4462eb432e019bc8a7af28a549baa28f4c0abec1262fe80ef9e837c018541c27b16f0bc90d15551a740ed43222fad0f355ee5d96b8ea375ce331cbde6007703ae413119bfa37356814959d47d65f0f24e5837efe8238dfb82ad615c1e479703d7798ac97027bdff166d751cae89bbbda2e20454c40081c7b5bd48694d9079a3f0b13e3876b86d5ca0713b33f95bb332a76b4e5f5aaf90c1e252aee8bebaac908a15e8d85ddaa2d27665001a43203d89f4f351edc25d52c3f310d939f376131375e82fcf667d5dccc28b6f43010270de856f1662329d4acadbf43074f6871eecf83ee7ada726252d750480cfae6c1bad5771f41c9c4a1b67f37af2b39fe23ade8662134a07113bb30911d325196385960d62ea581d0ba17c91aecfc64cf89713265259e51eef7ea03514675850083a3a741e9bfe082a40b6c6adb0655cd71820285c8d47992c8125029bf47f0bacff57e0bd4a5f088609acc7e1ef26fd94f909ac59d2be993a661669d665a1dd9e82520169d8d194a06cf9efe439ca93105392b20af5d8a8d6769566c1fd63b62369953861e24e4feb14000ec321b35829df827a6c4d80c6284e9771c0edef27e99f38051859d20be38db04632527dd6fc6c4d08486eefd3dd9671e804c4ac73dd54fb0458d61b8253b700d9dafad26d5e2d7886dafae59b7a55db5c0f25b3262e24093b7b2a151f766212683583621dd83c1f436ecd43f999061fef24d411f3f5687bd1a9140e03fb90399d262efb16e45a2dea3dfd1bb70db3a202d40fce93daa32263edbba1ef9cb502c1822d89f51589fd682d83f105b2164ca338e0b5fa989378662648cdd57032e96f5f1e05eb7295d8b3314823a8e86e3af1348dc5ec3efc28ab0d6a3ddd45d1bb32a7aff4c44a0dc79d1b8e2a4976600fc19ba207dd97f9eed773e49b1062fc0f83e03bb32d1256f41544276530232a61be4f9545ed840dcdd73652f792f558eaccd2716c1e5a873e6dd09de1ea1c18d72deb7471b54593f0ceca16d3ef3943cd9ec49151e377961e94ae9b6d5f30fe8c20da74011afe7cdf13e27ad6746dbba091760c5d4674bd437fef219625d376f4268f0d42cc34f511ee57fa421143b440f94b51765135d2c3e626f550c29bd7cc9dd1805cea5f60653af17fffbd239cd4f21f8fae15a67fbd48196de428584233d39a263d44ca2e4fb6d16786985f0b7982ab2099c0799181128af3916740ada5f601787d90ad66471817532aa7a3bac02633fb34b5b66732edf6eb068cb7eddf86707689c758c66334500c6705d55d7d5ed58ebde2e5646c55262059478f34c2b9fc68f4b1d8d055faf2dab4a43bdbb94b4c0c64a5ba5f09addd043f7c7fab20026f31acf95747055d5cd6e743a220f085f349bb8dcddba411002d6bcbdbe25d5948d34049ea311b63bba6fb13fc86ee4012a8b241ae5025a8bf69567aebc160d16cc447b5417e22c2dd695d8cc5de963f2f71c6bf6a43d6a3e0b9dddc30f3f5797659affea37e6ddad40c1a2d589c679105195de508ef7c38ae5a33eb0b276ca362a2a2be409b43e4652b0e50790fbef930bc2e74dfa1aca26949ce3fc59fe1eba9452b670d8ba5e3b64730b5c050a74aff65512f57d5758ba3386e758c920f0d2defe86352f96b6beb65a0f662e904cc6b119b2911c4adab0d20360ea3db843e1d77d6dc850e4ba661a18b029a3d53e24e7823ffb73b9185c1b22984d36391fcb246eee916a89683c72fa3a9d47624fdbd174337e8375ed327ff558a8fb7e616ad516633e32a0de46ae0dd2e115b999e27ed6ef696e06c009714489f07e736fc43c596d469319c1f89f964ba7ed7980c855a48b33ea2834d0733e40a6e06a48851605e9a91d105ec48f0c588ff82af1145b9bde146702c278979521fbddfdecadce0c274aee7bb7573ad81444692493905af0cacac53beef0d821caa5b78ae596e8b2ad847e45b03db2c4bef98732e733ddc48cca625bdfa223c0592e27e185596a3ecd4d6a47475b664ea611919d33d9f2a64f0d4f654ebaf71c51ad2cda60befe96c942c01f017443aff3a17d32ad976272ae8f9f84430bf87cdfc47f4bd51982d49e61d3a721d90070fbd52f875fd3de94893bb2c66c8f874dec1b2fd5db1362db06829fe104ada27ed67460ee7a5bd4c33f2f6e1d3b671f6868de91b06cb89f0459060fb1a6371cc63d59b562d769c4f1dd63ebe07d923b944aa6e6d092bbcb973446134917b9ad39ff637d3ee90bb13837e673b615e4365865529c498f1179143530a28800b0063fc6c94ecfc6f41171a60e971a8000114ff71c0dec6969ef174e6f4a882c5743cc47f8c069901fb839a30c7f7b29dc20fcbef98aef155977cdaade45702ebd2aff830bcb64dcdb9bf93b7923b0a1d3e8ce1e90f297c86316f107a32ae75c4ba298a461c9666827e05e676322dcfef73c42b2a6a991ad52c4d301d07fb887748b6dc6781bbdb8df4274fcfa0789b0c9ac5c27c81c7ea575ab445a67dfeb2c0e76ae24368ddb6efd11d37311a6a2583e510fae3c55950a446eae59dd0af859ab0b099cc49d1edf693d7dedba2a7211959945d2b30e856f821092df8664e1db4f64759db033a8cdbbee7a812ca85f8843fcac437bbef5d2b134c82eec4ec32cc5da2363c6aed1319e1f32478ce9668e360318b1ce46f8fd25c723a4089d530020d9809c0daf57facf59a190dccfa040be77393d4a1c7c804e551c0953ab17a7ad78c2a8862d2833b35b77d4599a57c6ee73383a459d81656f222263a2e0e0d09131d08b5fb0324229ca7fe79e183bf0ca012f85c5b6f4f43fa8cdacad4dbe57e189a8a1b69151e8e27b101d01f4f1454c4d8664ccf9ae4f5fa493fcbf52ad828151a77d5c6eba25f3a347ed3632cac234838136b6f9fbe666d7f2191aa91a0052b91002143a89d3b942d485aced5651707ef500dbdb39accbb9221e281dfa5453f2a7786baf742ad409ca070fc6a1c9e609eb26ccea35676c7abbbb4fa3a81f1a34f2d894cba638ab80a5fe89515e7d69939b3e872ad7eb44828f5de09348a93baa8e0c180f95a2108f8f4e32630c74496ace32332a27cfdc210357d7b28e431f39bf8f11616b8b8c9ec56760cdcb77db5125b01cf1251f35b10cf5629402488da7ca2ecf703f8e3bc5d0698d5bc634bb7576fbbcc1ea21aa422b84fb2c44bd2d6db9dc499bc21fde7f3521c67b31d37e1dfad73c1c95d9a62ccf508bc87028be89f02d26ab3d5bbd985a257af697f72766aeb8ca3690882a3e6b4531f9554230b9a4c1df738ea0a9bb71280cd023ee8f908884dc5638ee0b0988b75268d04cee3ad460a54843ad81947c6b4fd2cd7391df8b1910541557acf97b1150c4001ad755c21c024d582051d2518e1afb37825e66ebd2ba212de00393127c5cab253efb6173f6f5ac2477d1590c6bc080afd527d43125d9f7be7688d6a8fa416bc837b8af4f67643d7e785bd44182f256f34c4bf3923667d5ca9833e68c019852b35da1cdbb7dbe33735b2b063635506abcdc2210226909b63dbefddb0e935b5544413cf670b4205ce4d7f65ebcf5d36f083d168750805634c278c6c24c98b91fb6f68c64bc668b119dda4e7f2206b92c160c85f8f1dd0fa852cfee81d2efd368d25003114886be827be9caac314918f43097f65c2a8a9a297a18af02bf79cb96ac41037efc9512332a554c484805e1b943ee8d5300e7db8d699eed65d0e5636da2557e63f4d450f38c7069bdf4289c967eb0492a162b10e9a596ec3de52c02da674a20424a08a7cb5a844a6400a5496896172c80a5b04c083cdc86dc2e3177bf452da94425134e5b83e757ea6115d36251e11fe9de0fa723e1b0a2f8bf9041b10317393a77d43242935fb7a9d52e2db009c1053d8907abc9f4084240f0fca670bd2c84a20eae39aac35ebe0fbae284e18f50ea28a166e4c2106fbc6b3a64fd7c47a492ec2f6417c6c679201c52ad7519990bc85e141e403fdaa04a7885f2136a8585180be1098fcfc5fb7957e40179b5622df6f819bc6cc4f840b5d23149aee583a1ee1a8f97b2317cb644195a605678d1ca969f93ae6996fec3fa3442f8de61be86fe15a4c2486a585e57d2c1a8ebfc8c61fe23241ad784c6ae1e50f8093e2e408a84143cf62bb5db2cf41f285a4524746c2eceeeb524b66481bae74dff2d3017ea5b0b18c28e695ab8383e4d8f163d7b1bef19978d9ec119f6d2a77f13b93738e760abe31a3d70255890c0674a842c7441627c640ed928de143ecabef4da5c0eb5af82a4c89291d1e5d633e282e04941072fe3f38a336982e148b63b67dbd2c08f3ec6a015f7fbb50b74115236a6167a9a9fbbf58ecc94053a958342b2c3e726dd57c3cde20acb8293d2f8cc0a256b6b411a370528ab53ed3441da329b6f11ff006d8bd708931fb2f1ed3324cc8ad38522594168ae1466f52438a8a3b60a79a7fca6a8c91f3e2b429011b8d4e3b220b7abb7b0bfbe962bc2645e56cebd83cb8657c1f054ac225c3251984011bfb3e8ceba08abb761c2ced2a392e1733f8a662a61cdb7f87fb0f3cc41e606f200e0f9f710f063d56317ab8bf072e8371333b645964618e49d09444ee73b029a3fd2e1e6f7a160e0d8eb051ab31cd2a3abd430622356d2a807d0ea4c6b8a7429a2cf465c6b0b7aafcd7f05cddd737210a8489a4d44615c51667f2f4f7ed6802e943cfbe1d6f6f2b127a9b45ad3d327a3e03af811c5caea1616984564c80a85ba0c2e1d2b69aa4c515df0fb10288395b286d11c48f8c98e835455076132265da04626419ef8d27469043dd714dadff0db05356c411226a396626e0d079e09ffa0df048378fbe7e2c7cbe4e9fe115d32a16b265db04bbfa56215cdc44e188987495a87746af4cc867c4b8e19036e243b1740b04ea2502c64f7d8c442360f2e3c21d6c24b2ebf38776b2f2f371f6429ab185825a82d1d068f26f8947e868a6e5f66a48c6d93c6977f93e16be86ceecc285a89b6dbda0dc35668640cab486d9c91c3add6e0ffe54d63f42a2b10b4f3bf42c790f1c91c8a6757aa7fbe1c6e0fab4a1736d10957237c7cf311808782689543cb2d6d7b6477f1f41727553ad2dc0d7bc9443df669ead4a57b3b9ccca5aa8b28cbee9f16e73aa6e25c180ce94b31825f6354f5f27bcb836ae9f64cfe5581d9bdd812a8876bd339022d6179bbda6c7ad25c764e6e4b9a9dd55e43b246c350b487d92fd8adefc19439b04fa7d3dda9214db34b5cb1b14d84a5c054668848c47569b615a82d3f58a36dd6d7d4f3e7698eb354cc5eaf5e1724ef1df87c859e80e5eed3ef3087e34c36590a5f8556726bf9d7aed16dd9a46fdaac14b1a9930241843714ec13e38f7bb3d353938231810baa5c325e019aa9f1e08b088a9f0b249531276f6e2c229a81262fd5be381acd33946057bf7fb0e5e8fcaf168a3844bd02b8d19db557c71061414b5657b38624a87b905d62545aab0fc6d16e5019a17e9d29cf6dd1b2ba939aa9674cb1ede7f4ec225e76171991cf42899e6ea156da4e6fde89b564b9a01d0a8512f59d31e08eec41c1dc6b8f7c986325cdf0f5a6f8a93d20cc0feb6c6727423b11b55461f825407902eeaccdf272d283fe99c11da1d888675a05040126b61cde794c2f23637685a8e93dda28e8bc2f8645964ffb4e9f0343ba53c6dfddaf3a7b5718cb45b4a29f11a39a9f8cc7d327c5dfce38f3f3cd865f86e1b9a08d8f6cbe1b31107b75c087d669adb024f170a8768df7c59058eb11be0142285c7f9bdf3ce58ffd8c85f8001968d94c3823cdf0690f88eda8b874f849454c394f7aa15d9e121427548ce0cfd1db37252b4a8c5b6f298323b558de61e5fcab089779505af069589a23b8762f70aec1faaecca6d582569bcaf71c590b92da8d6cccfedfd14dd3d59ecc99a3ede11c395844b65c923e5f457b7531648c8dcb7feac0aceed3128c36c61ba8069b4da1bab667964fc21002ab7551e00fc18e6da08928048af23f3b7bae3ab28b7ff27c78d5ebf9a64adf19bb6328b727a0a8bfc25eb77f063c28a806a9b43820ceac0791dd8722327611d573c2b6d6564fe42f0105792dc31495f83c267cd2d34255c157a3c749fd29434de80a4e8a1253d1bbce69c55af35d9ada3cd2b6d1bf4347f21fc13dae609a44397895ca2445494290f5be3b0f95edef1603cc53b5b63a669f5825a28de6eba7d0470653a90794062c13899e3dc1cc4f2f188e360cbc1211a6348f2e7d9bd8dd3ae2509cf9d4a67f98ca39fa15aea613d9a7148ef05f8249c2bd23b060ba5d56ff71ad87cd25534fc43bfeea69cc367b75864eb900531c6a3c74bb42b9f4f208590de5b1262d91c39e6cd81eb2a556171d33c377e47568a6ee43c02deb31d58a8df867da99726a54937dedcd7306c02a6a2b78f114873b66dc37dae71d9a4ca0eed8b371c88d6ad053f8e4f9c33d7c5bed1ed7702e6c2e223c7f5bda9e21df8ca441814eb5bbb0eb3d2e4e8b77e7316d61aeec557d5f02cf3c723c7ca80a9ee72df33e4533ca85461d66e113112566d68d672463bcac96282b6c7ef450621de9fa1577255aa8529c317a5cd91f8225d5e11b20340b2dca13e9c8a43b00d2ec5110e895f6a20ae21dc6a04751e9609bfb75f0f53756d5a005c920802fd0186a355bbe791d8a934334bc0d5b8c9f864d91267a0e20b33bdc53da34c976671021cd3df4defa1db6b0d20fc1a3a6e6eb2e59ab76c385b3d567b64225773af1022d170c76a6d66a0eea38a8298d2ba3c91265bb2213201231219329c1933e599c98633726a5aaf4f63fa946deceb957dcf13ee23b56a2b352b84fdde8123bb6e31c61280cb0044f003e39da7e0790272ffdc4f451da0e31112f82f24e1e5498763254337167dd132bb87307f9cbd430fed9c2e743c0bf333f4f77bb9a8b00da4b03a96dcf0efb991948e990dc79ada743652aaf012790fab94e419cab3fc78ccfc439d4c0eb5ffea21f980f4c84bece12bcf63cefc31f6572e86be368328d5a63750d075116be7b22d056fb7dc51b06f15294a9ec17fff0236cf3874f1a01f459eef23c1b20b27dcf46a2a2201b9aef26a7c3b638657b587d786cc8b6b6614b3a037142bf531a3f6bd025c6773a224c7f6107e6c1b5abcde189ae4a42d4cb68e1dbd9bc98dd5d0b5a52fa49e50f01f470a452a4f70744ba6386724b490296bee10ef09ec3984376f16bc9a11b01055bd17a8cf50326c58ba1f0ae9ef4d84dafba799f33eb23e7c9e1f3d2aed2875eda7e5b1965a71dc3bdec786960e3522c1839123ec8597da4c512ccf12af7ce46905d29ac2ccccfc6a8977dd5cf197bcd624ffd7ad1981d3b6f713ff033eb153540d681dc2e1cb1f9765a712f5b60b1732721510771bb03a17c97697fb7dc03166df924dca8c5fe97b1f048bf5f339a27230e010f9fbe64981c9db26100253fae319d146eb2508f788e77dac56e55f090fcbeb901eb2096f2ef889ed28949d30ec7402e5a4350b1223414b3ab2698773c61683eefd6765f42fb8c84b7e2e2658f7dcdd1ca8cb5d1afe309ac1b7916976fcecd1005d0bf91e5f1bd2aa959d45a79db821410ac76febed952ca698fc9f3648349d30b2bff1d4446f64326fa319b6d04b8fd15ce6c4bfb3e5db97caac8876fe278bba8fb5e4b85c0a244dce2a553aba9a147ae5c4db187101de726f7955c6808408ddc91e066bdb27f26593774ec4f2d9fb2ad490731f393b8393b304715773ba2a8d770ccfadba3ef9063fcdb80d8ccaa1aaa2d0999790e9c9c57c2549b8c893b8f0c1d8dd580cdf3afc15bc89177372ba3e5eb99303e22f836d5f105981aeb190d42f3be8bd38c365ddd1bd29beea6748d8ef9b3be3195a383a4c68f9ac409c316c4abc90d9b4f54bed2db5394e53f2f431328b879d70664aab94a106d7f23f228495a8a6673b71c9c3e8bf5592e8911febada3fb54ada7effc9ee58ab12076951c04661df1f43005db19446ad1660a840df0398814260d1e6546b952f4848c908cdb8dedcfd0867f73b812613c3093bd398bb61f7b5ba7be2333bab187fcdd9b4eea9da4214a770d0d1c8b199152224b80ca0b381abe899e680583f5d53b2f874b334553104bc418d433a22c35be243d5bd3757ef83d2251cab4b90c7d6be1c104c895ec2e5687f1693fd0e5752bc8b1269bd14297afcf3a2bbcc1a74860c704c6b9cf094a71a136daceae68c1f78d331c775370ed86da62e6b50b3009f605827df9debeb2f680cab27becdf697e37f7b0cd34014fc9e1ba620cce3ca71cb6c6e07ddefb13cd9440aa53f40ad5130bd31e53c6804809c30f27c32817134537b2a0b9999706358c716b385a01d79f6413612f19e5c00729a9cf9dda28f6a717be30f0c408d0a71494661ee823fb487e291b091c40fcebec64d4cc1089031df7d9ac684a43ca5793476e9fc737ad7034465eac7cd21abb7e5f4c4c2f5cf3a672ed8ef76fac46ada3f7e827ed7914be1b28b939a0d72d74195f7706fc889332295f883f08333b24e0149f2732b17ecd1ad3d36271433c37d36645cda1df50c013e57d3ad1b5ee38ce7e3b68d3da12977be7de28606c6b82bfb3c912b53a13f5a6e04d91096d3a3ab5f7211345f35c01ca86a5c76b5c20a7e129b978da630a78bc378201533a4b0e492255059a077cbb61ec4ce79aae7beea631a9a9d999d77cf8543a56d32f583b23226832fe76e03a749906d0f688bf5cfe150a4c39bd5b97b17d97b03e8fb8cc39d21bde8a6aa8abbc06f92a237386c87d4229cf4fa3ce2852231a3d8c296194b79f4d8bb3c6cfca3492e18b63704a92a9bd4888f6222d50e85754f9b54f83acf2ea3d7534dc5a8a15db09dee9cb78bb08e1f3b09d4ace2c92bade6b80b7421903c615378eef7bb8001929f7a5cc0ec46a73f5fae0d0e54e8bd6450b0dc7c62f92dd3a9d591c3186762db0f032510a08f830c3beff4d13968bbb4a6488ab47ada2780d0b09c9932acd61255f1a817bc77501c5ee262e1c0381931fdfbd14c858e9f6b363744d23ba42d28aa1094b0dd133da529fbb823fe701ef660c6e7ece4f551b7542b786fe0255165070e5b371c012aad6300b2ea6b47a7183803076bacb38353989d8cd25d44b4d33a192b8c4150277719065b1da0390a62c762eb7096dc71079e4ad3e7e1f8ab27d1b6d9ffd0c2da93b752d3c57235232b211eb3f4629209a8d4671eae8d1e50879853a19cfe611f4a2a755ae3ede4a8557236b066966a692d9dc3b55517717d9f275731e8bc49cf24fdcfdab8cb0f856238620249e0a06ce4fe27cc71935134cf3da1b8225e0022f8eed2760af2314ecf710c7b0123920c39af431e7779c735531eab280a8c1abdaef68fe8c7c9160b0126c096b7570a492e8693000cac2a6cdf4a117c6a39ce40fc79122872ce25d4803c10c9b6bcf764ea8c8f5a64e80e0fd5a98d9ac82dfb9c2efd5800e58743333b876f508ca8380a01f945202736b7dda45fb4166bce69156e0ed5602a35baafcd98912a1838ade8f172154757c3991bd7dbfcaa299c78d63cd3a8150ecf767cf080ca5416d6f0b89188ff4607a13fab3aa6b3bbf58263139be2affdeeeeb699ebca26610669a8a6253c7cc04e28990c12e11f44f9da575253a8cfe061e2e9e45bf80e9c88691b3fac6d930496844632ce3b017074ea87bf73bd71db44f905481e7a8657d6b4ac4eddf66d41668c6c0c2decbd50c1dea8c8077663d3fbb6bd02275d7cbade37cd7bc3034d51c0560a1f85452d2d0b824d56e497f99d36ede5866db3308c3a8e330e2df1855bb1b87fb6beba3146ddce47549bec256938950edcd18bc044afda8d3aa90c17c22da7be0b0d980103c5847983759a3fea95fb5f5047ab4bd6028b287319f3c9af1b8bad3ae54041578999f721f57383ee27523f5d276925db17bead89001e59433c8aa1f19a4bffe8f367476b2d6b85d21c0b12350655c469f8e04d99397b54ff64919053f7ec0ee7e62e68d0ee502bd167d00401ed52b4b23a94d9d5c3c9141570da6fcc7b19f10949a9611aea17bb1e433b55ff5eb5cac8fdc8fb0910e97c529fe3aef5601e68ab95483534de1b455f5c0fc2dd0ddd56339a48149b9036a3caa477bbf74581638d1a23cc91afbb870e6944e6a39e263c943dcec3d08f34af7919415c857f1a1d58af006360eae992314122b785c1a31a9d0f9cf6f82aeb38a9a025da282ef37cc67d94adfa2a030b0943fc4059de325a7eefe8b1f9ceb793ae501b0d59792f035d8b236a9b8b55ba4f3a52352f950af6770c52576b3be692da53a085b328cac5fe71d1157c7ba1ec1b6db4c7b7e6f24b4edc9b5e1b1daf20f4ab43cc4ee084b289ed1cfbbc17e9af10fd2ee2f0cf395d15f4f76adb9c3f015bb3e8c5f9b69f38992e26f68b9162528760b4e099137fe583118c8505f656206cff3487090787d4838ca7c927b3a6ee1946d48fc1ffd9b88f63872092fa2d62485f28a229c015de82b77fc3ef93f1a038ea7859dcb8e272240f9c4759696f34ce9ce4b04cb5aed56e6103724ebd221df844b08beeca81fde5421f9efd18ea7e02f0aa75d8d5a103d87f2bfc4d0c2afd52f243116b74319f25309b65595f6bec1623d4ca12e51391072d8a0850009deef1a3d0da88fe953cc1a8c2b054c66b55e6535ba2d10d78cfba06f69e968e4630d6c703b03ad1d2b0dae9339b9cc972fc8c71aab7660a317238f47a401bc5fd638a2bd72b051dbbec3764292601355a69cae2c3b26fcda763a76c5f76ebb46afafac3e94a36db47175f354adc8f5be29c436e831d957c7243265ba12b5edf05b8754535a828775604e4f7d8c92ae75e0672d43f1699eb31839429665eedeecfda8126c30128af9ace7d59ea3a3aad80201bc73bd81169feec0c42225663845f63ccbffc4bb56304d8f685dc1a9ae89f8499bcf72ec293059bcd9dbf6c25a1de75e51a50f4e078f732ded4a1f606507d80465ac0dbb9f49c1f4dec6bc3c3c01d514c09d819bf5da46a3e1d68ca5430f09f8aa825613d8f4529c7c01fb1c3cf16b29f4e3e7c43e7d27d0dc71b7b6902efeacb1a02584e1469342c18c877d97d875c1d55c9dc76e1e888454bc61eba056ba114e6e968aef1328d2c445f93cb2eef5155e7fc014c1cc55e50752eeeb64608eaeceb7493a28f1d3e73ddc28651b4165a39875fb20251d172ec3b62f3bf47c3fed921bce55408b663ab7f8e854483f60da69c69fb57be6dbd2dc4f696122a1bfeb42670cf437e634b0d4ae6d7ac681db523492323abb7efa7d7dd8b34d0dc905d7db138352a316af01cc18dd2fc69a6ad832dbf39509e17e29fef392517e776c17b4456ff2dc07529fd2022655745ec110","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
