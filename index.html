<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"447c8af2ef60976d9cb84c8bc2880850e70c55e348730acbb9c2cddc183fb5fbe9772565138024f6fe51a734150d31f958a82c9666494f3cd2410c6e68a2484bcbca3caa5201d8cb6ad08ee9ca3c0220e5e1398cda0140dbd8fc201de547b5d8c1f93428c62fb9c4cdea696d27af86efe415cf35efd7d9dd4faa3d73c9e4a5b154cd20d08f27df2250dc5a8e222fed3efe0457353d272e33488921ee801ec0898769e7f09a0d69730a4a6b2e3b30a913417d7c9456127166ad667d3dcfaa320411d69f3449522ae13cbc058b6d6bc39527ba0d526401eaa8099c025762d93cf2a87d140bbcd7bbc76fb6d234d9f4bafa084d6bc215a7234af30bed1205a08635693621d8b34fd3dceb8d8dfce604f44083a75d838e92544cc0c5d866b3bdf9de446e045a373136d514bdd1860959f887637352146c5e7cb543555a4f59aff08137006c7ceb5adefbbdf38519003367db055c956738b14fa4d37d91f0502e0b50a6d1b0b1707c53c7775799e0e70c66e9681b27d0b998f8766d8cfc2521dcb2ed47fd88c205739c8dc10330f24b6aa0b0ada124d51977cbb6ba23f6078846f717aee1fe8f7d37a660421bcbca009cb1bb9c43f468202938bd5a464a477a92d7cf72a7ab903312e873160443999380443d36ca7504b262ce110b3d084af6a86798f7843e837625a9d326f5edfc805ffc03dac67d376e0805ae820f00a282294c90132996811f5c2efa483877f770ba8109311d02e69602cd802809579d5aa904a880c97677bd8fde139676e00527d318b695be7e1be2e6a5e5d9dfb7e74253ac32bd4ce3ee6ffff2e37c31f50ed406fd2d3fbd43b9bba16f2f44a3604a984c67d614b303e19ee8e676520e77b95ffc293cdfaa272a204f44bd3f71cb9fb953e8ba172b402d66370cd2da4da6232a9ecde8c3dfff5d4a89a45ceadcba3e6f55d1119a903fc752c75b43666b9824fe797aee1eb50f08609d87041cfd9d6806803cae2bb963ba4534532e3a4f9a2623a2409bccca82c0796fa94fe932cc6c2acad2d7abe4cc506deb45ec2801ab5ee38eda66d529d3dc02fd8d8ed56d67405db0736e0d4feb5b6db99ea2d7fec46fa09f9e4faf4d38f9117f8a8770777e1cc84973ce7a9eedba4012d25828411b24d0706122d82f3ee7e58b3b3ccd2344a4c651e799eaac441af60db5b61bbf5f24e82af4357628b2e16ac3ca9b6fc47495855bcf03551482f4cff6a6df955911cacafe1fc1817281cad1602078989771f480b2a08a39a1dcbedd2a253fa32e98bdbd3d1a8584731e11eb69816bee0fa5a0a5086340ab570774c1f48ceec11ef5c363d5c469fc1d04bc5a26e94e389a058683bf737e1307162e19a1113bdd935cf6cd4294d0aa9debdc1fef7271a809ad45a7245d53ae1f1fd1f8894f2f244c7377984642a218028bb167588d61f67f91799fd3fdecf3bd398593aaeb24eddc0f46ae9bdc9821d34f44b3b508aa5f3571cbecc557fff4ac1b3c5e6f8c1aa7aaa4a2ce1c3e2587fdb43c0c29b2f580e1395a89047a9603108e203e3b6d0b645939b734fe3b332e7b4b81f8fe1b56ea68f5d10ec76d0364c9af8841c6d9355f2923d583404d010f797687d53e4204db6667e368b179c7586a7cdd58a288a64af2fc500dba59ff3c7525c7f54674028de7bdd0bce7c3ffe1cbcb3bc2732e9632929d72ef0db1b90bf09d803c0632f1a11e7a2b4d3961ec826f1839230f8713d5e8cbd668d7f5ed018eb33910fb2688fbc0f598ccb12a0833b3b20287a0da8a93a00ebb29bfb64dc80c4abeb013ede5f0ce4b54ed47e06eb9bba59b7bfea5e940749df9ae6a746c3aeda6dc4baea2358a782ccd2ddbc555bd4a9917fddee17ee12153f7a154ec40a7c651c55045e7ebeecc40960ab2a0c07384355cbd1e8d0deb07cb9a8c0809b795c4145d0d418a07de53b723c6b3ece2fea462cddc4d1cceb3c5cdb34442c3eb5a9680e2cc768acb19acc98fe31249bf7e3c27f1bed95b5c1e3588b6329eeb0a7231a4e4f0e1591b7280cf059cc98ddb5413eb2486519f5188de6ea4a01e681e42b7e70e0ce0eb95f238f22d4ca1902115783b0e2e5313b86c178e25dadfcc06f11a8426fd0da07583407e1cd6c339ae0d2f3ba6a9a01a4428926197f733ab0dd37be4ddd8d87a689b3893b519fbebe709d4fb68ba88ea2f28908b204de65d5ff14204c45dc0014afb1620c6d19d743a6697c609aa62f1c23647efdd7676b29e6300f277d0f12d6767816efcb5c65377f345c377a0489143f0f8ba7a5766f412cfea553f48703c6fd568a64202a20d7c078859ac1e73faaf75a4f253f0ac84d1d5bfb1d5fd927621b6507f023d9bb476b587944295e5d7655f5f8e5cc44cb7b4260a597e00b64b06e31d17696622121c5ce7b944ec58286bf2513d60c99ae873cf3b152901c4d8cc1bef792a6af1f22ded8ac4aaa06ffa75a79028714d78b659d8f5c22a1fff6cf3619ce6e04914a4c53f1705893fdc5b5c9dc11128080b04193c55fc82383f0644368dc15e05713bd9a01b8ebdb47fbda167a71cd60479dbb99401a93c2cfc49785f1b2a31139c2dbe1b4e1302919f891853b6f686929f782be0fe1580cf55f3edcf53d419cc220a1ba853fdbf6f64626b4d3ff7e26cebaaf0899467647e3fa765c7376d3a69a60bd829cc81070de18258b9aa92ec5d5186900ee08595f8a1d26e2480777142db37d4532a10bda34b763086279bb564d0c94de70a88ea6881b54da4149c269f335c1c7a8be7ee08818c2c43698f5b5cdc8ebb6c2dbb23fb6cec29ca74826af0de54c456319efe0ddf43802e0902b076f0f3c41de2ecc3f546f08c9d10975685ba61d29085241ababe37f01cc2fa263e8190483362cb4eb636a072005da2ded769e1ccbc1f6f1995b058c1864bd18e009bf17b5c7871daf4f8e82eed3520456ae4c601f41caa8a09a35fd9d3f29bf30cd851b2ed9bfc2f3599673a036fc8ef5bbbc6ae6f52682add9339279810e1d7fa38de494d7cec64c6c437c85f58ed64bac41c557044fb834bb3fbe420da7c3499a44fb37b0587d2afbdff984b45c2c5f952ca44969202ba0228ceede6cbdb30a76c2625dc8ac7f5c10a379453a5a08b334f61dc483a1cc7ed946d2a52e1ab54316cc83d8e78a48a39523272f1aeec5e31a0d594930a8590c720d00cdf294ef48be229e71fd5db38b196ae846ae4d8477de82061b6fd574fe6780f83bbc0dd3f336ff4ffc5a5b8fd23bcf99a609142c24a0807c6f7c269cc812380e914d952ba7cbd28ee2042f2a120532cc3d6a3091047c962dbd0a78978c6e3b348be8a4effcaf67f438fdd6e8f295e34484918761d653a7e7f564156873df28061242ab5adddf065106e728e451993f20ee7cd193ff1777878eb95ca0ad68af89d7f203bedee0762d7164ba5553e3bed4e16446bcf791eb421e599bfbbe83c8d3efd4daa41caf60abb8da00cccb7182aaf5e10d5d9e997d311f35dfe6d75ebdfb8e708f416bdc7e011bb8eae33ce8a0504d4a5f3ff7ff52f4eee38e68878e9d04aed31cabfb5bc651e9c7c3ad0548b5a2582a891b17d6eeb452c07f49a2f47bbb6171bcfa35bbffb756d98d50e88f9b752a8e4d0f0662abf28dbdb662f55b68d2f82031032e74445e0c59aaf9e7f3ab33153975159206e6aef3f3e4566f0818938cb1e7fda57e58687f6121da696c2ee9033cd4cf4129707c6f845399a6201007d07365c87358f039506552ab59628eda4e78054562590cf9ecf085ba7e4ee74dad1ecba6c6cc65d991d74799ab2b4fca1924fe6d70df466677fa9e4f1cef6e9df5fda580d1159da5f59efa9a5502c675350c85fd15966ee795084ee8ebf06b11a10eda80fc16d5736d44871db270ce3870b3d498f3e4f7f13eac181c962e8d3f70b9a0848dd5f2e457a261e8a5460f327ae3475ff4c1843e0e36b88c8738db6065bb2dc31d60f581ac3fe742e61f28b7a28be40bdbbc39717b1eaea7f945d63c713e32c9dc92df25a9a6ec06b64046c8217034a7545590f27a9972e490c330d6f708868d87c839add0879c48af8cd61c266bdc0abd037f83057022f823acf97897df714391f6baaf0c6cf4b3baa72ff1cdddffdc2ef125f79ad7e035c67e4b734ae9290dc77b1691fdab7d984f8ca85864ceff638ab7b00854830da38b9e7d1873c2e72fe1b18a9c27f9257f11f0de3d073b04085cdde27e98733a08e909a9702244ddbd352340e3a16fad98e7867efa77f9f263bc9925412d7e3ce8055bd87af9ff9518ba0749e285f0f808ddb77d56d3f5690311f5c70affc987d561f38318f1ab4ea3532ddbfcf459c9f288d12431f349118d5f09e78c801ded5a588aa01ac22caa7bbc8a8c44d5246266edc78a0773d647da3c6a68f55e09227ff588a0fc273f01fa388c0db068d394105a11cbe6a0482d6f60b39c40fd771819405a7c3c46264efed43ab0d12df7bffb5d3e3c3567562e0d7d942bf8c564806cb6e8bfe035dd3d80ff6fb7dd53ad81759bac6949d1dd77bd2940e1613265d56e21ea5d2991fcf7ae042d2da3d098d83efd77faa223a4ef17f43fc17235c34bc5e45db662ee878ade309a632f2e35a78953166b5a849993c068891777465b2b8d2a7ef4bad5f55e02c9c39fef8568322211d44ba53d5b5ded1959daa9a34991cd0333e8f260b884ce9df55f6d0d46759fa6048e000c9584dbbce1c56083c5644332fce7b9bed3bb79364b3040120f3857dde4d648e35e7a10b6d632f9b313aade21d02f1b475b018f20299fe4ae112022186857b728ff55ea025e2869284f786d3fcde94a167e85eafd9ad1ca7cd0ef439aba1643b05aaf8c956e6e0da53b3716fba3473f710895ba7ba6a05c8896b41a80a1be8bfacceb0c1ca2c9c1507b1ccd433a81b33ecd4de61a02b4ef680fdf994b4b1d05a4134b1d8f4dd4663656aad4b406bf946825b7dec06233a0ca816f1e8912eb8bdb5ae771fb0a26d755579524fe3a421c0c7fa194ca9b2be4c48f26bb976e3fb520c5711f1f7c2e74a2288d3b5943e1554d15b114af762b90c76589f8a20a15dfe106920e71ba47316ca24bebff37cca31718fc22c531c9b73eb3c5c027bd65ceec042463cb1915b23c9218fddcc9d5cbb1e52c814563897f7a5167aeac2f4e9eeeb9827fda4fd36c0ab4ad35ae0ea8514ef598fd25a1761184b8bf5be2d84c2817034f15bc85f592c1fc7bd121196d9e49e3f400bb87b609b43c5a962b5004dcbd7105461a0038fe8a3e78a5df1a53c30b56672e00217f4cb6ae049994f52d3c35c7a8d66a8265f331e6058073eacc285b26e531702e271cca5f718346b8e9801e271e025811d1ff530340dba6b682860dc89b23eb4974097f383b0a0db25a89d10b67ef027682ff809e29c580e04227652f0200e87e812b87449208dbfc1c58895f81980d8d8bf71c472d7eeb3027e53cccaadedcf95eff58affe13dc19d3ae47941d2137dfa82064724f232edde4b60cc292787e3cec8cebbaa0c041c42053fcb649579bfb27f8f22c3c83f234199bb146dadcf02de8c38584a7f1ea51f8f5ab889e538d53300e6aacd6b6d0cb1d458136e29f3cec28073bbe446c0ab1635891ca52d4a60f6dfdb18252ba88206a71dcb3579eff4894901272f322f64ae50e114ae6cccec72952f3c2c1463b309984a01796379cb54fa0e900a712a978e14de64cefe427aeb8db1b7d6c71ee00c1df6c1efd8ead866529a0917c434c911271e79cb9390baf23ed19c1dabb216e966650578897a6a539f6f9b78e8bbcade405419791a62d4eed9e082777a808f6ea3c3f7ce7ed3b5a616be3eef89a880fc04ba7d8ccf064d30a8b93b9cbde7768c192222bc46287d76031fd9461c59048d4f04d7073ce94e31a66a977254798af17a511045df1e271bf4acff2fc940aec143a5895b627f04ae845428707fdaa9a1fe80a4a08c86a430d03484a25e20f6b38de3cdaeb8573fee480fa99a63295404dabf3a871db83504f9f59ca18be3fa3d35c18b1a5398c8e3cee5aff3252fd035d1f5907db8356de02308ff917b2595fcf0030747498d90624763a7ee5ebc420582a3b3f30a7353eea823885564b4d2a4c440de463d641313f8fd3669e61f9e30008f97e7749066e56b67404e83ba5a43d86bdfbc60359dc7e4566a46490ebfe860d13cbb54309148f31763eb2f033583ce26928c98c0677698af85209dd500898840a52870b9a636d3a284488dcd66bf3ae3d74709d9ea22b8c8d7722738c55ab51c582a5880efccd223b500f0bf62379427a208ada244a189553ce9f6d860f493bbef77c3b8366c28ab2a0b6b74c2017f366ab77ec4967eeb2ae5211772dcdc38ea473fce90a67ca9322efee366df5bb77b107e6374df49f07b43be0f7e79b28709282c0ed4ff37f0cd65b68425c792d1756706d43a99b7779796dd35324e0cf20db13f6f57a857319a24890db8053c8fefbff2396ddd4ad333a7afca4edb67fe685aa1998aa967f2e955ccc4643d9a9dee6925c9612d83be7032bf06797fa51a9672d4e6e56df0d857ee4e4fdf6823789160e66277b734c84ed21e35d5a095f2fab7397feb73aab720ea8a599fba0e1507938b202b73783c9403aa7539b7445e81f6482491759b6abff4b32317e0cfc2cecfa063aa7c65d9f2f63fab6403872b93e9adc06b2d5c6f9bfe04d256f1e225a45d973e274bb78312184cf89fce65f48d171a6172eee891b49e6b88c5247fdb5270150d945526ad7467ebf2f173b396dcc98d8f70739034e6e492034d82c893607848799738e73559a79fa716aaf2c5958d12bf0be88718e647fe127be83ad328176327de13a5a04f868a9bab5ee6d871a39f582024fd55f564186e22abc545b138a58b3012d1784aad892509be4489067287667512bb0dd7f51808401de88d9083fff6edb367a607932323c4e6a0c9de5dad7fcc416ea967ff719467557de5247fc4feea5256a1945a688528f8b0ceaa90d4bfb9fb3d3eb6375a51f8878c3ffd9eb9c642f0c92ba8132694b84a93cb98c32f7dc38983881486f217bcd045946c613c0ce216178230a7dde06694826a836848f755e15ad823281e9ff00ad27272353a3b9ba8e0015023cfed801bf38a2fb08b9f95a1024fe5d355e352fc96da010f7b31eea47baafa69a70b84a36de7f546ad93e7af899d276d2f9c58b99a9e7d2bf497930fe0ffdc4ef548770375ca0ebe77281973e1cc7d6c09756d220b94427a3ef2952f0bd96bfa0fc827abd78dab8e138cd2cd34d553cc27a8505962355a48d111bc44acdad313229b2aa428097a71b82a307f9bc3176075207488c0d028a550b0fef73f7b736b2fbdb14eb005b053146eda065b14067a16905f17b9ef590f322906e2006382f14b8911008a1596de9983c28fde900c7ad0849b32271b148427538f252493a1455fc2649933cd845934d8e60dfd366df1abbac3e3a88481edf95dbac7f7247695c1328e5d32b3a1628bea467342144535d4dff48b67ada58154773b9fbdaf584a353e913da8a18eced1ba85b6903961cb02a5b534329e38ed3692e8c46714275ac105a132b698c2e7576c359a7c623af238b84f7b123b2d260a8414d28ec84eb41b7479dd285bc16abcde27078c89f17231909c7d6ee1df38dbe2765e99c3bca7a7eb9c383692b13885e684d9471a498ede6613a4a468c1f7de70dd263b1ff0a096645172cb0241afa9f0b31860361514e43d69c4c982c5008054d7894c880949ef143708b4253e73d37e98a419cffcafdfa9eacc9af131faba4d2d9bb42b376ff021ab3f3a4777d530db5660c5a2b99f818d9919355e402f6d09fc1dd30f4594131904c16f7e1e824ab9e699a94416b6f2e45d279b50347d329daa2118a8e063b80ec4d4c64c8aeac8d12c7ca0a4eeda787a198bed7a9ef522b97528ec7f6dcf83ad2c9528b7e22c65e22c2520996be34d3c8e773c37685e153d4f226102e256fae1f81a84d7fa180ba0b0a570f13b76d3a5a4907a888a33b73eecbdfc5850172c1af0359c802ac500f96057267c469dd4ada7238b7eb36ebd3cb3c17dcf0f66087c29d7fb06649aa7592d6d1486b139494f36774e90603b217bd6764699e6c42ae3d406da5b3382fda5f97bb731366e1168ae06e9e2235c9068233c86c1b9006fe18deca0cda942d06e83a9e23ae55a2caa719450014c7c737491bb0bb1c1a156059288a50c3cfdd51eb7aa00c5643f5d8bc9c3b7015b61da7ff09aa7c06c7355bc3349defee5734972db99f62052a44dac7cd67814a635ee888a8a9232729490b7dfbfef9799a57fd4d4f7f6b1efabd12d5fff450e685a0ce72d194d1bfe3913b8070e6a8f2fbdc4e4657c2e6fd96d0db6be92323e6ed422af49d6edc063f41412c222f9070d89fc591645b3d9731e99c26d39c61529c5ba19b2993152fc412c6a1d03fd7e91ea0fd80d85c7217a62e95207f303277754ce495ef86042a09d3a846d7773b476dc600f9d9caa5767c6138c58d5593e5f4c0e05b96c939195938a2be2f0c7108e3d45ee3add16a660e8ac2f8531980d1b88304836c26121f74b2ee704ab9a633ccc728751d553392738a7c837e6a3c0e4e90d271e8a5ed03c8fa743f1026ed47e37f4c22b3023b71f006bf5b8dcc784d34e86997fc31714dd2f7e09122e648f0e99f675ee90097f8218443676c002df64f4aae040898272cba7a36808512c3dff1cca1875fc5177d10e885928d7a7fd965f7b1d027773bde54bbd4ee87f0f65bb5c98987ae65f3b6d012290d11c3be5310f9b73d3faf6c75d50244a2501713474287589e46301e5bb2186904098ae8b018a980cb9509ab50d164ef3cd5ee59446a4a7c90e00385416201d7a3c0f27a93fdb78dbe74d34604c1701860c60f187b5017844e9799ab10e51bebea6a66399f14aad4992511bd67b147f9b4bb421540c61391d006606065715ca79fecf06f2ac88ba2b88d9176ef1018129ef7e784de46e8e1c9d5be1db88235414fbce1ef9537003a316158e325f39de1be8b1df8952e9e3a456dc0ff808d0656ae98524ac0b99a55833b24e3b73f003e3448195c5e410b02680852826a43517c2dd94ed3cf607d36172275dc7d84cb74fda7c67f8085b4eb164287268d07214186c4c15a583ae5854cf6a7bb62ca92bbe9719ab3eea3bc6ac1850c2ab71cf54bd510f76a1d429109eb168b6d33b7600304b729309fecb99718b1424aa46b2a5f481fa28506774ca8cabc9f902df44db17e4a89114e4772120f2c2352ce09eb0886a586667c69887e249391c0de7b0f40567b587b1ae84b56a493b88b40b24bb04a2bc99e059d519f7dc8846a225f81f6d61d4ff2bc0fccb83b327738a0fd17ceda89b7d3431d4ec582fe0854cb0d5e42615cb9adb1f619e0d60b973186aec12a9aa52d97f902b27e57472b6e0c3efcfefac22cc96f8e73e800f42471e15d0c9b2182836ab88511f38091c5c0918834fea37f998290378c8dba94ea416b7403b8ab372c266193711d52c3418788b6b3461a60867b0377b6ca631683408cfc74ed00141677f4e49ee48871f09513e124b941c8ae061a86ec900b936921afc238e0c5602763fd100dd8c2b84955b910c80602327298ca3cbadc472b9274a146c3741e97840ebd8f4eff992aae61876486ce612d6f43858d494b14ef6f75e7eeab3f2e74d36d971e2293d6b901ccf53103b8a982f610eb8fadc565b29327cc6b9016809130f44512f73404d834e84e8a79c80cb3bf9f54c4df784049fab7e7b1e9e4e845bb2c72f4b2eb4ec408e38e9447f7da5607182d6898c2d745e584ac829ee34009ee7376cd0049326129f714e20c93d0401ab1d0c1b58aeb26a96058bfb41d449d474788c81625b7eca6d7cd2c58eab6cdd55cd0d786e9412d074d92f656242955dd2341656d4163034eea3bf336ea8daf6cd493e476fdbf42fa52af5845bf946185b0a6e6fb33ec695d95accbfbdc05ce6174df9ae2a0ddda23068a83ad4043c05102040526941a3ce5568d24f7df8e4f1a41f848e9bace3ca59204618755bcdc61218ee672e5e6a25ce33462ea73bec0942e0e097ff991cb35f0345713586ea0696256bd1694fce7b849bc79e5ae7fe87ad7a47de6f3255a2eeed4c5e951cd48b1f5b0abf3915111190eb3842ee89e1f4ded97d153c021ac86b35569f34d2ff1be52f06f0003a4619ddda861870244a857162d946e360f057dfd30382d87e09c366da2054af54762f9fddbe7897e39818ec1df30918e3c0d75cd7b24a9cace68d1c8147d5db92378447a51edb020bb2078607ceb4acead6e6b8148b1bee1ba359d3b9f7a1807494b956f8b6fa01c42c92a07cfd0304b05b3752cdc841f5125ed4030e0f7dec15981286d637f4c3667fdd209e315ec5c6043d6a278a8f488dd51373d1e40db9efbe91f63a6e9595aaa61707e67a2a572345596b96005ec356b8b0737c462a777d33f3491171020d56fa69d156635672091ad6a2fecd964a0b5dee4c5f9041227475823c83728f1c1f9ca89f5f43dc70708bf16529a9e0467e1c5e72adc1c2738768e9f7ef6d744a7728cf230411875169edbbd4d25b349c45c9610b148d095f81a75d35b72a3775bd5e3f981d373eaa9499e18dbaa7c520b4ac94429b4cbea1db4aa52814ce24d8b7359abb5578ade735fce1371216bbdf012b6c91c12482952ccdadee135ac796e646ac8cb3a9a9f8c55acdbfc586ca4e755801d4d801675944a4f2ae55bc697cb79402b2cce71b3002354d896c8d75f98f03717656bc5c19b7918b55d63a390b6f3a303f0af1f813d71bafa5982fdb66beaf51fe86e7d20d98c4dbb9279bd694895dd9dbbd8175f352102453c1caac4697ec7e8b422f3761bd4048e4d5469a735f3a57e0c98edde780a2bffe79dd0fd999d0712275332996d08714f137a2a6802293678b36b8e85673c24d52de2393536a5b115c0b163d45ad74f76222a20d56c0a10640d52eeddf3d4a78bd0010139bb3dbd30e5d6022bac9109942fbe49247266361385640ecca34f39392ddd87d8eda1bbc34fe0b13baa0517a0a5f8c36f03518240639e45719d72e20da6c01c4d6b038848307c94b3d61fcfe6f506cba690e54201fd403b3a89b3606c76478678e014feeb2479543c6822967553a2b9c36d9ee38a4db606d8fde046f3e8bf648d42d1209379a24bf8788f24ffa60eb2244d4d59a333a862cc82bafac81a74af7c79dcb1d9051dce78d8c9fa986ce1293628078a923f1d2d02649772252ab37adf42703565841eaabcb0eb3817785970b6b8295503eacef154ad536825ff7eb116974efcdddbb63c5d49e79dc6c315a18ee8fb1996e81a32ad1613fa3a6037c6878a20f152121ff067d4a6ee7c01566864c0ebfe2d6a481e5727d37edc822d22e866aaa3254a75321e8c70164a3fbcdc80a009459ab8c00ae6de173a85674b0e2329a21e6eb585a7aca3337a63cf2d153258d8abe2629f1fcaec83e542cdbc7161eb55ce6fa5a749a377d53b8ed7f63a24e385c5c7e41092a03712a43ac89539570122b17319453b33117092bd9762539357f28a4e811e114f3a8499b204a33dbcc3ba41d0e9b12acc3abe1509f425ea352463504de43117be0b3c91ec4d680dad1d8e0afaf685fefc2261a261536a5c462c4488ef181d98b91961c633f3c8fecba9b14f84218ccc5ecd78d89767782a46990e05f3f00310e1a3b097220361ebd507dd5c8155df0f254885864d9409c2be86baed4e1172cdd83d38b205d22ba54bcbd414fa0c35ad1001ee3f12ae67bba17bb1400e5aa7a1f2abf2b8fde0847fd31291c37c0c0a2da2cf07a03175bf2dc284296fd10993a645e355787d4bb2694d429140fefdb93031dbba7ecd6fa11e4e13eb02d21060a44136953cfeee14c0c94690f706713cd30d1add67425c6a144d8a3f16cd5425a2966cd67079a9d5e2b0227b0dff3a0c3a93b80c23868089c56067e310964bb87c10a96ad9a117df58c3ab8805bc8cb5edfae8f7b63d15ab657cdc1ba1f04a5d55f0b9e4530009a5ef61ce0be971f72f87f8b3b2348fe8f7ce402ff4c1baa0a6b12af277993cf90f73b457d196bc082139fac569df42df1cfc6a42fcccb71f79636fef3172f6f221291208c3e711a6ec4b10d2c7e283603a3c6848fcf9e2e38c22e569e1851cbb99b4c8fcc8c87090bbf241949fc5cef4e8e90822e3f0796b817bb54cf251628f03eb0cdf7ffbbadf42fd525f6fd0c0a7aa0ffcdde93576fa2bc387bf0fdddf299cdceeba9333085a2094b3fb0742eb86f735904f263c9700755773700ab0d3af610128fc8ebc0a237a11ea67d4eab03a9884ccf77564e4150b45f0a3e75e3ce0e2ba82f2b3608cf529144e38ccb2f433d23217f962467461250660f9ed63be09dd253adc6e99f6db7c64f096311e309efe0b15636fc38608d18351ae66a4e88845aeb26ca0eca96b2e5d76a9ca643353c8d54b421521e0409c626eb6931a6e180aa8c5f37e7393e6b79ce45e5c0a77438b8d8f63408c141ec03dd610fc968b52ebd5955ce5238419cf37c1426b320b5ef7c6602286bac93640b3ad71beb44215c218ca29514223969c9309d71a9bc4de4a3da6623fd8a4cf7cb1fd2a1bc94a7546732df1def49bd02281b002441f2b06f015855a37b71a350d87551a80b20dda1dcff955ac7885a8b4fd7bec2223e1428c91edf23d691da90a9443f0f03bb4dbcb00ed0838a1617bc7a549724d85899f3c970be2e4e3f7afe1a04369c13c6a5d050ea665ef994c7d2c4e97165b4cd259123662f2a4fdbe6069265e344954bd08d9455e9159d103ad819d4fc60f371910d395d6ac54dfb047cbe3d18b0a6e355339138dcea7dec8f2975ccce25596dab372d1cae7bb7649de6661d1054cb4d1b1507d5153c9bb755037dcf8ee7e2eb52ce3f783c32e1fc4c946ab63d92b915678d65a7ae468daee2bba5f5daea5d9cdd51efd29c3eb11d905e6b51017163dc9e82a5d3ee4583e96f9c0c4821864e047648e0dcad39295de6174bba81b9d91e294b5b97360dfa3fea7f9985a612cb414b15dfce35a6e5b725b12cea47867f1b52acdc1452a47e5e54fd65b88e4376a322404ef585ecf2f1c30e4c27a8fec176dda4d5990c7c8ce84bc71702c30e8bafeeaaf5f9c6c8a9b3c3100b11c0e87d3796243f28ec137918607986d2ba231bf950f6fc056d666fd8d3d5a9c565ba663a63614d8eb762b7f8773353726e5d726ca50804f61c7cf2c575e7cf7818e56cfc3ec474b0c00612c35026357c86ca1da49c014cb260099ac3cb4b37f8b0bcd3baefb27728b5f47c4519694724323fdd372cde9340b5958ebd31208f7e08d9c6b4b9a7dc642b576e90cd5112c9101e3e63a0b8c5892ec8cb3bdcf503cd7e8219b280ee10bc1e6bf28af65f3252cab9a39df3de5c2d8bde87f761aaad28e8e3c7858b3abbd4eb7f47066f08259d308742632c846472f396af5e626aaa3168a8e4daa52abe39b8b8ba577efad39c45c1ec4890139296763075d777d78c1f96ad49660a9abcea1dec02ccea0dbe0fdc113808c9b66e1f122fd3f1f777c25780b18f93b1938183f6f3e7b1ed82707a026fb552dd267f8940d8c617b3a4bbfdbd1fce8f1f1b8ab8bbf92210d6c372993b3d8d6b09db144b76be0e1101a4a48d8bc22c00e6bfb98c54661884b4f88fb5ce7dc03e9813022ebb7c2ca74c4c1c53a50659778f9e95c40cdfb712d5802f6634518a3a06e10b38b36dab3ecc9dc39eadbbe6b92f3f26b233bbb1454b4f48bab6330733987a655d4883d6b7df6206cddb87e9a9bd93dfe1e386d30437d2a44c02cf0e0ab8c1bf25444bbd6c5e78cbe283fb27b2e31790381ad3375b38568cd52a1162521df348dbff0ab0c09c215d37199ad6409b372a16a9afc943e833b65d838f3790c77d8772da1975da8cabad5450d478b1b4d0398320c38758eb24be282afa6d9ae5a23563a4d37f066d685473ab0434493e4bc01c76d4a63ec58363fb8148da3147cc0bf8f2cce2b217b7cc74e28526d3dbdb7401fba2407e242536cde072d9d7fc339ddadb4b30a29d9189c5acd9912de2d620cd07a233440ce6aa09cba0a3e127b7bea1cb13022431a17a0ef239e28bedf9a75982746046957b0d78a40bef962d46712f0fc722df42fa18bd0ae95d64af1b960d9e45920a8525aa035dfe6ea21090c7587b23191979053086e95cff0ae015626755d4db086708c5a2e1c9b275a7323ac60953e49ed20922ee08c2e5eece9ca7a73691a4dde565e1b04e7b5ff71a33538a41bd172aeafa42d5d9274f49869989ac6faff76e64cf7f5ee14496959cf253129ac161b0de51b853a6c83bf947ab74e0fe4206ae6d429b7da2d95a8e3406f2295dc7ebbb8e6e7b1988b4a28fd5ef0e718b44a8aec60c3598ea57da3b347e42363c52dc8bad3199b2109f88e38874e214071d67b36c177721280d73a900a84e7763ed8f9c746ee15741de34c569f32f51cfb22920b719e91f903f468b0862ddf86a3a1e66560eed315eeef6f325e3f3dbd8a6e26ceb92d4d9224cacd020de4a3beae7a1c2bb255abe6cedfcde239ba2c6428bbafa335db1b6c2b35bbfff21407597de65c1914a213fc5e67a392ad78b755989d78207c72f98dbcedeb821785776e6f1daedddab23fbe3406724c5f18be8a009585c04f506af24d561e7183569846ff3f977db17fb13017bd3b8bb57da4ab64dc73217707174e48d1584bedfa52780ba99b30860ab9ae85995f951889b43cc46e6cef00859e9fe788944d9129a48160f376ffcdfc112cbb90b19bde49773601063c239f6b12b2dc2edf6a2c524c6472d7066e16cc2f27ea7ab7e916e87b8541cdba650fc9b175172e5da0bafa3cca70cd4155ab9288c42312d3f17869b4dc3dc4bc56b0c37b3260d876d33f16aa9d8cd2e51d78bb5b60b36cbe5dc85246702bda245f80458bdfbf19021ca6d6357d1c90541c4af3ab739748f65511f5823365eaf242651a73ebbdcad9681e90132ad64448f72ed49c3078b0aa527c20749f2800bb31155fa8b301197ed41793d7fbe2bf03c781dea3e8fad940ee6aa63c633496fe2bade1fcd79a61b870a62f7ac6a573f1ce19a7b534264b2acc3c3ada607938ffefa3293da18c6a060f1bc36dc0ea40536b1182b8548a2bd991351b8dd6f226df631c29f0644bc6185c40093f12f712f2002f218ee08f77fbb015dadc85a33f05b2a6b8d625367c4341f71683417ec875080fe7436c30f77a6815efed8aad60d9b46f05d79e60aeaa9374a40af2d1430470987604e41f0a99eb16bce11df940248de33d979f8c0551f36fca8259fb53005ccf1edab6e6352c06a0d5c67a3047ca7da0eb8eedb75c6229c7a32b7f749bf6e1c2c231aa9ecb58bccd0c2c89487019f7b5b7147e71a247322c3c22218e66a9cac3a4d64fa29ba0f58f22493bd9e1196329cedec6435fe7a042d5af12b7c5dd1cee9b8a7f6ce493d74f140b9dd10ef3efd65182bb4742c7af78712f97d9e41d1977a2e3e21aeee3abc098e597aef5ffbfb3794f51a35e97035e63e3170d07f33dba740ac324caee59c307d16248e4387ddc462927c08435361606fa79c454ad3720b93b483096ddbaf164e65e5f42adb62a31184a8d6d3bbc8184bfd08479d8dd0264a586078728ccd338cd208a6d3b2392114818027a83f0ed66f84849c441e50e0cabe639988b749567f3e1838593093d1240723fe1550c2c9ac733508412b9ada8e857f3f0071d9ca34ea68b1bdd2b8814f93fef5535ef2c1ff2932ed1ecda4d6122e5af83ffd04f357fc810731fa1ebd923e474ce50947672fcabdb609118ec87afbdd0b98a75b388dda9a743ee10429f4bb2487ae84d90ee1abb2f260d3fb08a4ddc6b2cf72cb8db69bb5d92d7c50923fd769786ea85cca66135e7bbf4bece3f3bf96d69815fc3580a6c50bfa564a2112ff9b05573e4e6cc1da2c91512100c8a13f6d08f931b5524706dee83101425bab7b4f5c49656414e94ad0061d8f691d2dd5856b390821410f1547df30531267241477b707cc11d2e2c3cd3d0693f820eb1b13d5511108a821cf0cd7b74aa4b7d7497ca365939a39102afd461264eaf6add5c2bbf4047bf7c4bbfaf2a8457f008e65309edb58566fe6f3bc11df09d43ab68517b4e5e76169527365628e7dc30b16a8ae487e3b2223b2ab8693afb4cf54f0a7e6b4c3c447400e9319856ee8a9e9fa89061be64daea9c2ef06108a34b75a2e8260644e191474d1af6df192d1dcfbfcd2bff575dc9d904b2a72cf4e69e91c2f88cf74875bdb6bfbc7187b1248c97d4f16081896dabe8d7b5956094bb128da4783738ad68eaf3c769a7e5022967caa0a86b15b4871695e2251f11002e8dd58348c0e2224358e8ebc7edfafcf1c62c81536ff1930453a12e0ef9b211cd4e83f8181ac03c07204f21973b8b19870c85bca6df436b9a8220dab6fb07a85c6d76fd541155d60615ca5a3b5d32b02f05e9ba40567ca663f6f2fc4109805b95a45bae9fb53727d80c97866fa0212b84aaf782c74c730989aa9de2aa93b380429b6268232cf533da55e089499ef3f1b477e320ed3041c28a072dfe76f8eb9071e8353f3eeafba2e4167cfb170cbbcaeb5b55d12bd038c088872c4886b3416936f8563a9edccec45ad8b97b15152613cd3f1a15cdea6aa99e3d1607bc86e5b1f5c66dd884ee596a7542f6ecd27ca0aefa4b05e0e0875b487559a2a3133244d7ecf6dda59748f34ca67e5bd370da57776164d4da1f57e7c6c0701b329c5fd04b37431f5d62b391a091a843b287447e21e07625095c65a14688dc005a5900e955fa363043d51502b7dba328b40a87a930ea74ef64226859c59ff46a873c732eca41b8c337d2593cc348dadc37e8cb88f722db76a43631f6fc27d840e56e0d9ace79ba1b101e9cb7e4017cf1125e2dc63cc947571e68f8bb6a234cf3c24e285b6004b9a7e8444a614a9a046bf6c83e5b2c13edd20c596092cf2f6fcce18c4a9436bc087159a32ef78e39d70ae813bccc68760414a9b24d54cf89f7300bbb52a0a18dbbd24dae9580f25dfb528ff805e6a4506d67bfa90c4a55bf3312ae177eff6e4134a130118906e840fee63348f9043a9317706b33076bfea7c9b2084059ed634b7f190f9c0d8a7c9e942f101a7a0060f057139cf9d8545ba2b0fe1f7870ddab15dd23674a3d2c8983d7e812d79e7b24eb1e2cfc6bfd90c30416f3c9593c1e492cdc27a544770ac4fd5b2e510cdb939e3274090682adc2cb4021635467d0c312fdb44fbd0d35d34e4907bcaa4d5e7f31899fee48a2c486dff7847419a87545135972ec02f776c6a36ad0c1756ec0bfdd37ef4d379eb665205ecf82e859fc7d3cbf5e2da55a4b52c2ad5811bd931ea05c7a98057c5e26058c27b0b744a308b3f0155780af213bb2ed1942ad2eeeae521243ecac3789da13dcc4cd37d3d9477a29a24786bf4e588079953071e199cdddb4b2eaf8673b934090d905dba34b32829df15c1f3cfafdfb7cf47c66e75d1dae6669ec3fc02aba18d562a533277cab8fd3a5cfa7049c434365c84dac476380fca8130dfc91efb249185865547a032c10f1c1ee9f9f2a2e88d1f084773b953fcafe5eeec25f96f41551f214683b08db4a73106646ada3bf8a0d7c7a2b7f88859afe05586e5194231210becad4a9718d3834668b71edaded89f4547c3eb26b7aa08c50f1898fb387bd0fca245974b140970815c79947ba67aa0124ccddb02fba817708cbccf4306c2e629527dc7cc10c506715b3c2d8c82d9a32532dfdd3a358ab615c1621f473bd10be61c71ef6c5d4ca16bc4fa30cae3fb480158beb2bdba7dd80b8f9612eff217186b6acf2b3dbe49a4abaad63a0fad61298278010b4cf6f23206a5474d771fb3e040caf4e0c1d567192b6e4f1a9290b5f2a0610ea29c9c1852e1ff9015446c419c70ddebe500c367682f45af75a2fcab0412aa390c00aec27979928a82d06dcffd71b01d7489e1698cf583a9dabcd0fa7a4c9cb81ce92b63bd7578fb532c068e7d01fa749f4d166d8d791dd6befc8f42bea28fb9dd50191a152a2d50e980270d922f3854bc09a79ad321b528a76e2e4b3d689b3cb907e7fa417cc8a4d50ef11bce3c79de692d20ece8e2105245f258a90a7dfa0bd96d3f40870602750746226d79be511c78fa06a01cd57f3c0355d17c7fc6de82364159e661207c59efbabb0efa9b260b1b7af2e33defc3e88b6d2fc48e8d2220348b453fd7e8f000c9ef37677f3dc80c46644939ca95c03c305d872e637b40877ad2e7916b486cb6ce2a9572250ee8e3895b80591244b2d9edeea9a5a4f839be67e573d8137ed9f5cfae1bde2c626f8f6300d4ce58e999a877a2ea9cffabc1c9f1f32a7243df927a54ea80434d1eb25a1aeaf5f3abb57c000a650540ade2ca6163a37cf3bc6b0b6d7183a4440d5f67634a77b3ac987b3ab308aade928333c03551e2e1625fb33079c3eb626a5e8733148ce177108ac08b593643de379db5d31a4825cf4e885d66077ea7fac0b41d17cf0fc04ccc1546bd94b77e76f32547ce3f8135b8068dfbe87c44222113e9f2cb8aa99efcf9329a6b64f4c8711b8170d1179c53256b4c585000cc62523e5e9175d537f9efa9b6369a2e27ecbe5aa70b6fc978cabe586d36d0802408327f41ec093a49fd23d439e8bb12932566d4ef8176a6b22f1ae54948e1894eb84d7f4f8139cb8fb7ef71ce7e1f8d5fb7d388c4e8423dd9fafbbb9c1a137b61b694dc56f39a70482a0727c79ccfa9d8bc76075ba2a54dbf8afa44af010069036f80838b955956ee24109a9323ebde104768eaecd63939f8ddeadecf044e3f7a3833bc693a925472c0038563098f7b4aaff796bfc592f85afb55bcdc65bcdce83c39d327d8aa5a5352941bf945ae211328dae696c414ad6a8a79e2487d6e3c495c978f11e8718a11321c70d91a1d1f56c96e084b4631c437a1f3d32794075279bf97175902a6d9535aab50a5d59933f8294b1b214caedef7417636ab8e532f40def241691f38247a157854eb2ef97e350c25f703919ba2844b537abe466a1bd65d4d2792dc85e452dce3a8a7202c0a92b63d1f74bfdd811f8ffe60085c2739f7b592ad053994f48b0a25d0a7f7b8b22b8547fc533b65229e63fd4aec991e5de332c32e20efc9737070437e015abb640731bafd5ddbecad7077dd66e0aaae285abaa5d890328140f1b5a9772ccbc933949e0862785f9fbc21be5de261e5590b926e48202b60f2de9c54b437bdef3a7ed3bb7c0e136feb62b7ac7f72e9954bc2ea977c4e98d983293a680fe0bc6709280948f15b325bd121cd88b681933bcb3e2944b07d9bf0d14b769ab79bdb5280195a616f863f1da70ec476602faca61070b21f2c0bebaa44020cbf3958e929d74e504e96069dd4a6ff8bbe728aa6f9597b6fc32655b4573f7244c69e4ee9e44d83c91b778b400bcb854fa2b924ac269c0ea88fd4dae5d42ee70b55fefcfa47e55bcae94378bc2f074518f528ac36984531f9893e94566d4a8869221911e1823c0ababb54ad19fe1c2de9a1312aacc909cf685d53f75c877883935dc8bb90773027601abc1869274442ace2994da1a0f3252183c30556253dbe7fc5612c46c7b08b7156b876ac1d9862c37e94dad1f26105af75b6af6b301a46404a09eefd378ff8530ad2ccd46f11b68e33bd7a9f852fb6fd9ab7d52e991020d6a979f44d40203dfa2312cd8b908cc44d57c7fceed7572450ce926053f33cc2888e8d44d53b2137974362d654186779860261e85fb220118f130f79516b331b1a130192609d0c02da6e8ad0135412b9a1c29ca615c79c1b92325be394af2b00a1d207689418e2d4007a7180b9f99cc33cf4313b369690f665984785b25c8045e2611315351c0bf906b2b11d25bfe2f5c9709e387149208c020d9a6809f9a6693151deeae413f101e2ced84d0769058f9b659d35e806ff7103477bc9faa5cf16450eb1ce1725e4daed21783dc0d4f750ccda45e23508f3660b32d29755db3749dbbb3b237cdd0816a83ba977891663a3be5193f789f4a02a93374c8e4c5094a35fa386af5dc55351c9bb6d8bea408af33752132a68af079214752d6c523c6c11e1ce7884df8671b743a52314bd4007c9263a82ee16bfec7c497cb85457fd78e0ad4984519a426a30dd93bfb2724741c66c49bd0b251ccd7bddb484bd8dea4c3d58336b11a003795f80547576c3ede7643aa9d637010d269f1a13706c8fb51cca964e3ab05b353c6312382e83f0225405e9fa35a2f376152e7cb4d9c32a348b89b17f3803a4b95c66c08cc80e882de89b73819d8a77246f06e17b4873b81e1f3a82f0b6bf5b9209a75b12883b79ca8781d64d8bb7e7a7b251ea1122d74d0570cff8c149a69901d25f4aaea8678438c524c87e0e4bb5961142cd517c2a6093d3c82f7b7186abf92d7cfe61aff8f2fc752285e4f23b9bfe42ff2203bf9e47757f1da0cab2242d235bde2e729407ba0b99bb64739ee53d7a11dead9cd29d9d22e048a61b7bf0e1610a899cf5cb11ced1486bffb55bd672e3f502f1220b70e7cabd188cd1144092abc377968c29b15073392db307cceaf538578f656f7d3e2a54cb46701ad5e953db1bd15c81565e66f64624976fce825f3f93be85b54e922afe2c3d03edcd8efa6ea95ba0a07f201d7c2b5a259117e319f2233cb278ddff838b8cdceadd68b12c2a2b2e7786055f61d0e410ecc58f56f6718064992f660b267618626e9637e7e085aba09b17ba900d05c875a7402ef11540ba413f9f7a58ec7c7a47e6102cca8cacfc8e2dd05176ab8fb978ee6337af9bd58a6dca2498b52b684bafdfa3723fe7e1cfaff34e570665ad5ebbca984cec0a175da152da914e996747bc7f5e9896d5ec13011e8ca6da96d8b2324c9cb0e5fcd73f36e17c99c433dfe82f0401d0d2cab0f8dd029ab51846e622428020a805daa5d8c7a228f55b8288c4c0ad206779b1fff3823d544cfff82172824dd9413161a6d275f8a041805ca3bb0217455eb70e1f472c70609e67e1d08cee473a00b77f6ff892de24194965e76ba16e79c5e473f86a939d15b6f71e3ca945fe86a8e887d7b7aada5905cd8211dc20960985a777bf159e8957322192c1baea1f666d734b8259b18692738d007e159fd737ed9217d45a8d465f585cbb4637d6be9d7f2ee684c052289607dfec2c7611981257bfa2c352ba4a7555eb0ee61afa9b84aa684fd4f3b83123554fc753b5fd6b94deb70741987e540b7d345d5b0884899b37821d9370f564365e151cde5435bffa30e3f47a9b2d5ef0bdacb75783c8dda10167a6415e7d1b21e714f0a99b8a25d962558d4cdaa947630c777c9bf0abdcebab59255d096895db4ee4ef3fb052f8f766fe207948924b32ca2281823e3d95407a741cf8177b75ae7f9cb4b331f8d0099c0df95519ec253b37bba84d90cdaa61afc5c33feb63aa2268b8e61b247b95bd399609a0df3cd837e5423496bcc83fdeb98d028a5b9a4b958177b82c474a9dd4f8bde35a30352edd30c2d65c669c5503fdf75ab951532dd0452d4b75e7d9308439886ac27ac7e769db0088a5d042af22eb0d028bc36c698ef799125d60da1dfe5bc85d700bda348ebe67c71e27ec5a6ac5890f8e7d0f5957298e5f1ac793f0e64b98212bf63f30e4a8bb4a919826c7fefd5e470455267d8780aac4d5c9729658d09082285b4d111c233d0ecb5bbd2563fbf1df4c3b372832a71841599c16ad113f0670029049a7e217334690599dba353d17c8f32e0718928daef7c0da370af388f0e269ff5dd54129c4cbe1dcfee929be0da355ec36e7eddab3ae5aa023297b265133daed4511573e7856c8530047d1cdad3ec7d7b78303af1f45140a6daec854313616b1eee24cf48d73da674645234d2f45a0c594d0c717dead2c9e227bacba1e38ee7854b64de46dc914d5ba00fdcdd93ebb36b4501e5de40d5495700a75aa7bb1dc19d77254346825e4526b112a78022bc25a628c079c66260394d6589fe9944f44f40fa897c037a640c6d9cfb4691352537917000197599902dcfa9717f37e885f538078d1afac220c4d95f5352df2b7c7f6548bf25711757bd8b66a6a46ed40d1a4c987196e15670dee285db4b772a051ef27210780e741db34221757e3016f6f1c4cf42c524c8a8f16d4b533d61b108cc213a831b3a8b3cd9ab535eccee5ff4f7619784bb9bf0192bf4f838df54d80fe3c0e1eb2f8e9e75a0900a95b2924be9339ce950da5e8fa9e1ee84c64546304e2ad0f9032716f1ca619c7bf56f04a187d3a7e0b1a886604736b22a88c7e77ee6661eba7bf8accf599c93ab3180235e71cbe437db586bb270cc4fb166b02884ab1a2c994ed1a4201dcfde961109567f6d5598ea601bc0a4e2ae8594a4856d547c3e44ffe8237845c375b74d2fd9494aa983028d7c47a355c01af2ba448b7502d499e951a347b401410a2dd781d37275385e61c6e9cdc7461836d807da713779293ec307c0e49fa0518a37b538be00414c440ba643684d23f1d75acd43263aecf989fd603ebbc97cf048d9526422594c269468d616885a3d89f7cb4e48719b0ccfec8e529fe27323b89120b2a153509d8734ffbff95aea369bdbdc55afdd036dcbb4028dfefadad275ba8f46f5c70dc5e1670fb414f95b41d36046334188a9f48ca13ffdfb1bded3d74b38d2b27bef5ea9316f56295951505fe823388bc0e59fc57449a9135dd0365f9621310bfae27031e5f6c2e04074984e9c3ae04ef6a3c557787f2e0b4f0b2a76653ef6b2a3b853f235da065126e6cf5cf62dd70d4210afbf7627467b67873db44437efb4129ca8da738f42a4aa4502df32aa819012da91d215df6c9c0f959be51508815fdf60899dfd8154977f4600a6e6f162385557043b072532642e00580fb682f160fed1b2c7fc1145f24c88cacc266163d1f8a89b7cef2405ee17dfb687daf9bcb9fe8563ba02ff388b0e98d5131d3d11fd65559b4461ff90ad662fd68a2b000cf12b81ccf09f049ad6cd8206e51efaea30790b2a59c4b3ebe851b8a22012fb6d83edd122ed2d2b9ea13d7a22b473ec66fa0b196b779e5fa1f383f8148dfb8a41e0a21560e21725d7154f9473240b98ef9b22abac95178eb5a27d4725bb6b6186a0871e96d9cc06ba41a8d60a13ed6a1a6ef199476fbcf1531ac50056d0baae78c60b4d6cf49ea4a7c6f0249262d7ac79a94011de036fb6292c7c1f317f96720c5940e2022f707bfb4b330fe4270c4b5c4d5ceb99e0a81814e70e9faa6179ce6a9d42472b288970bb49187353dbf753598f01e15167278a089a92c39240db23b817943b0bb5a8553b373cb1af18afafa64aee98c9d312295772cc4bed1f9363fbed37f2c46e615bb7f5ba96202ad2c8741fa4503538125fbffdcffb8b1fb169b7945e8f3dcc8efabc69a9563677a4e0e904e6015f31c18cca6bfd2cd5c77fdda61b071f7b1e2c8f93dd40787f986a60b848aac75fc7f48858bc23fbba95dac42076cc44f0988ce97f4500c1672026358e260e3018c2cd7b4b7221ec915adbfcf158bf1ec449a975d4f687a3ec78fd595529b252f86d5212b512b0dc3f5120f572428177b693fa3c4cc56deab0415e82f6366a188018ef59f17da833733974a1d55e83913c08a1f0f314800db81aacf8d986646035eabc4b9778109938cc4534f338f545090b3307b7ce60562813afe3a4fbeb4bb32201d713ad4f46f09dafba1145d58189f776e32cefcc598d6de06830a5934b99e2c66824b0853c76fc835f79ee862ce2398d64bbff104a0dcdba9a803aee62b3cb49021bf16c5b897a6b882f66190ff1edd2c49d4f66ffc8b45093bc59627ca47c9643979b226780acd2708f0d90b9fb8019f9abfa67f78920dbb7380cd9f5982617be4803529fde4c5ff1d8734c665539735746e9d359f78c6d149bf2b22699bccaf7b2246a18b4ab77dcdcd2faa23cf327e6a29b7d557dc50b65a9bc6a689b997ba999e174dc7a1df37115da1bdb4359d6a2494203d2e8b8147f9924d7529fe8326b0fc482ace1c0fef2055f1ffd15d001881cad7c112ef1c668fa541bac3c61d2196904f71ede40db86c3b8b72e0586b6cf270756310de5bc68f6a4eb0ec223fbbcddcb8c887a455eec5deb04c6c23787f247e091bbd515719ecacc4870a5fbf3626814f0a02337071a51c8db106499046189fbe3ffdd1cd8b614c5d01f7d3eb8513709d2f54109d057131f691422b9f3bfc6cdbe007e1ab934378619a8e140d9c2a01c1d81193595edf7d38cccd2a8e924ed60692d08d76f2f77e9a0354ac041345473217d236a873735f7731afda7a575cc57d12cad2cb8096955f3c1258ce9ccad47a9cabdcd6f376b1344883409473836a148a76636325af3da68412cc27a0e27af9734b65ba40d45ac915e7fe9c4ce61a3b24235b21a4a17532f8615c9c047e227d140060685f6f453a9dcc9315378f1a7317be403c613ed539b013036c5e566df88adc4095fce2d84b7bf23372c86675cada06021f8a17b4d9d60bc9c454486d54808111337be78dd02400ce46b43cc66ec8e37899ebfaaeb9d78555173147e3fa9d16e221e1f00095c474a876228b206d476c58da61d6b5684388558332142f9115def631bfed9868b7f2922baa352c3a5cbbe1e190737f1616e7e4345cb2093c1bb7df59e31e6d60eb256b9b20ec112a1f80c548674fddfc9f60bd1d6b605fee99ad4541ce03ddeb20736ec1e410949d1ece5edffc7a120c7e4a781c8fe91afa8c08b4aa951fd15dff88202730c5fb8708287fe83559b198d0d725d4837706b812010eb9136ca4bb1df3b896ff2e1c869e8449f97f3f83b13cd318a6cc31e6e16fb4b78a442fd6db3cf057ca8d07f7075fc867d6d1bff780e7ecb3fdbb74a8c656c87f0c9f71b7e7df93df23a8796cb8814511de932c0d1e2061190c85b844016355494a5112fe402082434d9069a784f1d4dd4f5f21e6dc4e7ad16d81a3f16c63424a26f59a3da2","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
