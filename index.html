<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"9537116a5d9371864253201c406c71a16dad0836c5658b7a56bff32a4285b0bb51714f9e745637dad9137c81155ea25c0028be8f16aa9efa89ab86be000b21b35d94c3be93f1a23b6d7d81b5b5422a57461f72fda29f4ae6e740fc4a016ee676902da59b04fcf0a2667669e93eaf9bcd10bff39244a3662f959dd96506051489f635c8287768848c094909e47826bf0ad7f3a94cd8941ee90e34fae64e17eee37cfd5a43931f10a10f5c9670965db38c0ef202c1ceb77243a2cd5e96907370ddc7cab848daa9e9df492ffb2b69cf7f44d7875cfffec7568a9614036415a214240ee93f4aa16e9c3e7317540aff97672b2377a7f2d9cdde5c81cdda8a536d6424ab4f9f73ae2c03e77cec29f8b13d9c1d1d8f4ba452370943da7ee41440f0cdb64e66935e05234da9e05852aeb43cf15a77373f6e4e83a9517292b8cbc2028975c64c370d9222b426c07645a40c744a040f96413a15f4cc405064dc57eb7fa219c1294b9c82417ef75faf82256c89d419e0fa56ea5e122155ab63690a610668c077aa267b61bdb84d2553c9fb56f92e5a9082699092678a161cff0f12a342d15bfbb32004f9a3d2332b1f7928817def4a811550363ee377fceba3735e8662bd588cc003f89cd9a8311dda7eec0c2dea34ec870623a704fecf3fdea1cf26a33c09bfb70d7d8bb5ebec21316836ada264cd75ccda50530e3b9916839bba251aea4565dd192fa9136ea38f024da4dec40b92e63f0d2ce55cba9dc68389bdb40605d8987f214fcb984cec33635afed511e693490798ddd860fdd7364f0627e72fd19f58fcd405a35eefa515e1475af0ebf5df9a8be9fd8eec6a5cbf9af5b06a1d7637ec790bb887fe13478108d07cc0698b479f03c9857ecb9298ce11e03b5694076632884091e601284c6ee8504b9b5f43056f0fbc65ebf05041a9853b0a47b7683e3e77ac3094affcaae4375250e7888cc7d885897b4aa16b1ad75118b7266dc582d82f821d91f996692890e862c3d47416e44348ae71b3fff5d4e803dac3117d36dd529b402ffdb766b624c13d992a31f6a725a6ff96e35810297d820fe7abce15814babaf90e07bf8ab7ba21ce5597a64e469598448ce0914b9180a342b13a0e3886ba45a6e769d03c7315b85acbb0a164d0960e45814460a8d0c4c808b841981f34f552d6176832959e9c7734d8584d37bda54f147f8faba4926f2fe04cfa3e379078af5c25a28bb8fa7fa8433489df287bb3fc240419c9d486d9ac97cdf44e824ccdd5c83ccf10e6ebc64346e1dae48b7161e8485cafe26a026589a6f25a0db115bac1954f25b4cf6ee5ffe14d2c74e784aaf4edccd72a89182483c70b616a2a68d3a003d2fa6cec4c3e85eb3c96459250b178d8e8784c545b935e3be6e3403738bbe4f1cc512178094ebbc4c59e5eb3c301ba5e732ce1e2038b053337ba4fef35376bb884c4a94da2654ae26bd780136240c4542622eab3ff570dea2a840d27d223ac586c7d36e295f64cdb856dc5fc426de5fba7e90a85cefac46edb424ec44db511a2a82b1d93e99e39ccef4ed09e438ab594a4b2653a0b388736056d78b5933e8ba27544c44e7640ec2e3c9e82c144ff23f48d11c0c978e5d21cf628c90b2aa63ca7cf8879bd9bc8abebbcffabbd173114ae0fb3883e090b5893461d04a7d0c698085ec271f65828e1d312f16537e7503baaa9e07cbe091d5eeb26c4c7acf734281a06c64dcd5e884143767ae5ba34729e3990f6df3f55ee27089bd2e687679c09b09750763959299aff7702353b46be0d74a56512684600925d3fca8a6c8a730837a8ec94175fd71c40c936c95f2616a9d8d9c004f19fedb1c911ba4a81dbccf47658589dea8a9e44b5ef2bdd7bc61649955eefac4ab21fde3ce36d66cc3cc8bd643a898615649593d6fa421712a8d701e0de583e92f512fca6ea422f1b929b5382b5ba37179ba392815d9019f0dac63fc25d9ad8d92a843a2ad64dfb0bef98518b08bfbb1e93e2290e3f495e2f9a02d87a75606fd145886058840d69437744cccc3166eebd2df6888ed72edc5f8109309aeb09850fb903b57d75568f6b078cc9f97d58932315e52b654b1be4ff4cc8340c77ad984e4ea89301006701ef2b198d637578e916d7aec08f16b31fd96adf968f509df06bbe398f536feb8dedf87d26c614c25a84c4d8588675a683cf0cb8e1286f61c37b7f57fc429806a7a4930f2fdf359a929af2c163aed334fc840dd5ef8e73b04f2f1141242bc610cd23a8adc99740e66cfb1f1f948d69ae55d76bb7b8d487fec8d64736bfd605bf3acda3cea2ac4dfa98f545734b6349f0b180617df79d8fc7e60a650bcfe5f055a13f1374f7ee16cb903abd528884255059451887d1224804408a9e9700517b1e0a6dcb2c62c7636e36f2b9339c74c9a1270c86b2012865921032f6c4921de243341abdc53fece9c94316f60daeceb71aedd7e4d571ac9108f9460aca101ad241baf13224a96933910191d8cc8997b66282436d50b27dd4efb974ba372d8ea755b9810fa69d3898442799f0fea79f8a3d890a3b9615acc1655d9d4aea021915abb6e4c5e8687ed4cf2fa00c23134f4302a44a1dd4f7b14eedd61482d0bb99918beac800a4631dd73ff1cf5cc35fb5465636e8bdadb88d543e2d8ac59ceab34b8762b19ae0b490c5f07868a3fe37551ff92136eead03f60128dfa29746f2fe116e0fa3dec1f6ac64d22900ade3e34e86ebf30b30857abeb14fda55f56a87b4868dcb87253b30c9d48f54de53353fd41a2630c6d098a54ba240dc082e4501a25d7b423a5aeae01e9e47074abfe136d2e228de2be2540357e72ee4a87799767ddf31dedde51a060c12aadef4af991bacf63561e4e1662eaab3f8f771fc828f23fb536ab81ac3a88653a8f4bc6bfb0c2272bc7aad7df284a111cebfd373ac1e755ca7f4490c9c6d8e75409df7b5341330812ef741c5e877a839e9b79a5f95d570c471d3169be7c27c3a9b130734c0d9b0c0be2773e9244d57457023a6f640843bbe30f50a48fcee89cf9750557850717e7e44be8c5d69f3926e76b9200f6b72d28b146c2768bf3f361a6e2e072df5bad404d5be4b6ba7cf79f7465d1c46d74e4f0dc19c578d5d14e29d2791b7654f0fb5a8f3e60e217c074edb8f8fde63762446791a7877a61ee016e192bc63699b56dde472357791f0cb4f22e1ba60b7d107e9a0a7bbc62e1a51d45ff7e6c9ace67da14a45a2fbda0cd06a9ca708217f1a8c222cc95223c3781241bc857033e8a6ce7783dac2f8173a890d4a3bed319050abeebd240548c89225c8d295a5293fe1d5cfcd5ad278d788c91e8dc99728f5a2252aa278c3cd530c62428cb84a0701c56b26622a1a8d03c004ab9478556db0bc4a3f34a3e9fdc2e9de00995862ae8b2c2ea0c03c5abd7928f02d2f8f62c83ff357cd14824e31e673a0dabfc5482401e02271da0c585a47ddc064b10aef347e6512e62e6ef66f2825676cfc47889a0c0b3527507a2d9c0fbb7858a9e1147950565a8f46f668dc7fa86b868d845ec14a8e69cf5995c789ca482ef897cfcf0bd86f2c8ca6625591b73e7e7c398f5259832d38e1239b7b1bc8d4c0e9adca78dbcd6829d8bd6796adeb2b1049b64dfa84358c5962d8bd0a219638390695d4f7212da64301cd71cc5fd8416d22934c5fb591dee1b0e63bbabf4720fb912446d440b86b09494371f7ded11d98193499c2589ae4442b5fff4dc3593ef2d1f308907617e7924819c5e5a90e3a82454c747a61c94f8b35976acd2fefb1cb14631d698f4b86294bd9809e82124a62adee8a7263bed41ff1071bd7091abe894472bc16834d10ae72f14c48bb87491eef84fe1e6d8418fa48c00c351efdaea3de26d6517aef0f58967178efd009d96b4a1f715164c038709a7c7b8a2a5e149959c2974bf8486a1ef96c33caab5d05e8bbc4b116bd4f4a6d43a00810fcae6a9c245fe6b62a788925ca9bba95dfd6f53a7c6b1c5088b3d44327d0855148de505e08defc863082eed9515252741836bcc50c3d80354183063bd972aef4cf949886b872576fd57b973e374991bdc0520fe531a94946a97ca3545b9abb7996e4f094e1a5584f11addaff7ee02fa51b93bfd95683846c6eeb7ad65e55d318032f084b59760e70feaf702c1bfbd7c599062f03d56593003df09ff10d379cf21a228c339a859d69a3b9f6870a3fdbebbdb6187ef8a32d8073d53c6ab252ee9565c07c0f780c763399d037905daec7461bbfabf41cdc0f5c23b94bd7f806ea63113305cdaee9ed16a3c3e1fe4f406280fd0304529926b350a18087c1803ca08f7f8c9f1969a96ec311984885ca39a595ca884cd480d67814d42280153ce60cfeccfbd297058b96e4d428e221fb9fdfa1534832c4925610fdd5ef9eaa3cba5389c0670aa2f41835324418038b8403e2a887f41f17d0b55da8012a47819111464d77f9b6130130e0c9bff6bb22848e6dfa73c51eb1400868d997ed96e40e35483b166955cec5932d496345cbdf2a985be02bc257cd9bac382d14b204f27f92097b55df3790eef294bbf6cabe66a5e50649d0e85054adc87034f2f879108076aa8584accc6c568ee01047b712fc09a7af43b09a292d75be8e0d2f685fef53c133893841a66430aab58e8de4d9bc6a8aedb56da22d714ef93c56a0fc9df3cece1628c3cedf7441ee398e850f84adff1b99aa9eabeadb703da8c24a5644e33eab82ed7ecdf39b567be93d4a90018c597e7a486fdf8875181295079299d011755d5503786b59214a7abef3099a74b4d7dbdc6827f93a7331e02dfa21defeb5ffa99a8a7f14928a094d5f29a42acf07bcb39914429d5215cf9ab6e8c1bb2c50e7291ee3f2639e3332358afd88c99be30d09f4b0d1442ed8018c8d3a163f213fee370f78677976f7cc03a46b657bb5c467ef0a6101533efb6cabf75d16c59f7f8efd028a618843de60bb884dab16c9e4268f01c851bbc79f37e79b4d87eb89ab6df2fcf2d6149e8e6b9b4155d7d19d25a52b9113d094fb51484c3b11cbf17a71bf608f1b202411cf7279c4d1302729e93576815252cec304732955ffdb9ddd55248986e5ce8ba7db5bc461e31011b83b8dc42ce7a681995c85e2353760227c0108937a783fe567bc531ba707e6c00ed98ee27945be9fcc5d98cb521064b3fda1c6cac9dc54ff9bdeecc202f06ad3028873a79b8a363a28bde27621e11914f4b14d1fa6f93a7a763949cc142017e07835415ca158c89e6f4028e8e1ce30e7e38fbb562689945f2b89d7638612d382c0dea3b531b587484fb799d96f2a6c90a81144ac120f959611d06994749ad7e8bf0fd5c3c410312bdc213d4f370ab79dbe510320f4d632bd3831d84ad0dc86d78f99a318d3c5d0bcb4b54b9ea2b3c881388874815d4a2ce48c6eb6ddb4d90d513c9daf48df2ef4feda8e0fbacab07001cb2d4f55d4f4823872e67d0210222d621369567c29f84d46a00032570b88a01d79c3f5d84122e9264426feeec550ebe6d6f0d81b290d762904f66e1322498734c0493507923e11d247b78b0b3272b36d0365a2ef12cf569d41fdc4f67e0bd392dd5a417956fbc8ba50ac4503dccd8fa3ca0e36c1c7dc501d9f2a63be6783333b62ce30364200c2f332c4aa0041bf6d8d83abb163c85b272c7fd2bec94b78e27eb999423c8c3710906c196ffed22dbdcc87fde790749ca1adb873bca20105a4d778ca8bf3af997dabb14b1db659e426020dee5d7da0bdc3231a509a48b2962141e6a0f880655f7ab9e998cd8746edf049858f85daf5bb868e5faf935f8f47d5721d51f71ed4ab420212645e7976d86cd8dd7e2b506bec5d9ca436e6190fd703559b51300845b1608bb2b495ed65f1877faad223daa332a92b2e873b6068ae58bfb1ceefc80870f66d023e1001963af9e07a6840624c6585eb957cb2dc384e1ed76b1184dba0d43b3dadd95bb41fc52bb267a80da679fb5fe9a7f9206c2b6ed4d98d589d69bac73fe9389da9731bdca70e22313ce994f3d30db27851778c60fbd3c388e0ac61cce588915d141814ea8e661df2472f6f545fabf830aa858fc673a8507eedea0a91cd2986e9efe344170cbf40a89d99cb0feaf70797eb1b4225b7589604723463945a08658f5bea9384897bbb307d1375dd8b18117bfd87f265897b272d9f881c2bda648954078a707ee5b765cedf8d2dcdb953d83afa53e45cdf31e97c967dbe5b7c0a95f4f11d481a6f06fa0241e64d526ca4c8b2bab530983657e7f2e3711bd7dcfa02f7b3d86e8507a7e07304bf67c802402120b002351ae4aefb6ee674a1988e221e29dba39ffece612b2115dacda6de0b04f5582a875261c80e57d3da101059904190fe78e94cd509a76b5e471f448701fb8b5bf61a9dfa024cadb8627884de85be47fa06c4b0895cd97eaababdb2b29a087d11175139be1fc97c8ec19890d8d7bc35aa5902d75c4f6f2f22169b8482926bc960fda46267226dae9e0b96a3af00a4f813e567263c8df2eb384304ce7f89f19b6caa771a17e0436ea70247d8c7fe7bab1cec5ca986819d08155950f2747d579f8401975c9984e02e23a48173aadd5c4a5ca8fd5c7b3fae07a3cb1ce84126014a6538e7c98ab2701d1e6c17fa5fd73f8fbde30215f9c26a45f07d221b9ecb2831a12732bd2f61b46dd87c87c29b669e5023c7ef7901b600c50ff9d9846d1fb5589da91cef820996ffbe58f291895e1a068041985b73dd41017af6fc13e1cd68157045dfeb65017502a81c3f558f86438e3102898ce5caa20f9bc227fb3cd65a54bfbb6ad07bf542b99f8d10a45aa757a916cb093762442ec743ef1f43fe4b527b9e56bf19aa8602c3ee02dea3bab661b18fba761f33843e39bc7b8891feb6bc3749f430e4fac3c73299bb2e9aed7b6fd51a42c9d35596f1ca677661c62b4ec2f8f9f25348f06ab5227840ca326fcf0056cd69623b96575ad8428bf346449fb583189cddab618b510451154365a738a28e6e7fe74681a2e60e1dcb42328fbcb5b86cca411f5770c7f56046e74ddd049a0f0429189e16876f04cd84297c4949c70613e5135bc9082ddd3e2a1239277f399b56913498c06770e449e03de6e9f0ca50c39d122e8ae62daae06bd3a080fdb65911883ed936e432403c3ccee0c725b6594954861ba140d712fe4b9883ab4782f76f5de884b5c1ee4c36720ba4cfb8eabb34171c2baecb38bb81dfc296199b34b395bf38d13e428c0dcf3b7b87f81ce577c841eb76a2efc4e29a524062081dcc552598b42373754dc442ec3b104125e7dd1dd443874b45cbc6fb3c0e403c1869bda3af62330fc07b5c37606c94222abf59d3a5f29ff58cc75fec67f0d19da6c0ff9418bc9b2294721bb4faecd36058fd7943d45ae93a7394c68784a5449c8f901fd87234485b252b672f76a73d94f722496543dbae86ce8537df90428347fd95624632e09567aa8c2bca8205001ae35c2bcd4dc2fbfa7f2d177123361668cf22b9a5f9ec91bf404fd426e0871485dbbcc780a513807b5df7b63af1fe0c0d28761d93b83fd0bb81b5dac2efcaddcaa22905778cb4569a4e798bdede4524e2ec1eda31a83650005f6c6a96cb5f86739eb568c5f8d2bc3b5054b75d2e639f8c0cfc2a46916bbbbc515766b32987d463c85959ed4260354f7987d9845651261c8e64ee1ef7bad500800d9cc3ec83a281b18efea79000b92e33a500324e43855fd38ac9b44e60d8fce45ffe99517930a361351f00b4341fe654409078c500fc7f1fc74ae4a80b226ae1d707d9a93faeb5e9b98d9651b347f71e7bbef8cee1bf8bb1b3451218bed414e295bfbb70c86d58aa89d469a4fc474bd502ce5f6a9880a8d3786ef420592a7901da3ef1b3ed997f89c213770b4de407b108fdd3ac8ce3cb3cd592b15a788113de5ddcbfca310e29e14396550974d8062f3f4b41962fb1cc7489ca7750c7427ee87af2ab1ff54fae8a2bf6327aca504a8341288d7b8e3a0922b8683e1951935f9f4b532b7c57ccdb16f1c5ad350fb6e9848f9e90c19e9c2d36fc22e5f92777dec9d41a6c9b6e17bde4bb02953c06ba14754bd10cd3f6f59840f4fa00110028d4d6952b7a72129b8c860cb8cc0cae22b6e86ecd3875e5e6660cd7a2837c616291852b7241e5582dfb17c1a4b77d2890e1f21ca74cb6776a0d37a27705cff35d5370971efe2f53dd3359c2740c4fd4d750972e1b16864694f20f350b54ef903da91f80a1a428290edb1b068708b07426beff7e013f0dc232a5aa24fc9c7a012de9ba2ffa65270c7f4e94ca5500a2d545a30fdad2bbdad8f58ea785ee3353b4ab8f452786694418ccb893e3da646b269490b044d0a3961042541350e346bb6df01a35433f47e86e7a44e41aa1e59dd933866fb53195783573fcc13375c8a12e73762b3f48dbfc194dec708aa44ec003b066fc8e8e50d1246fb7032da45d35f3b62c16558e89d488023c7803e7614d24dffcfeae03c65349c6c58c62e00f480a4ada1801d03174d6b2cb273c4f6fb6cb431697802e3a3c7f3b87f25d804612869a6c9ee853f7adb38cf618610caba1207521f6a2c5b2bb0f4f309f14570a1e67a540d44b8739a06f8ceb5e11fe42e0d5ec2c8846bf4b2ae2f8e6f6b56708f9590f3b22842476f100a7cd4a807e7b8ee457384c7eb376858753e8cb7e15984773da187552ff8870028bdc318f4e06310123cfaf80c1f0f8e37a50a4d4fe22407430d7a445860a6812ac0f2df181e0b0a7540cb42fc945bccb17497a4a134d9fd7f1b24bdc3e107fad6ea641e755cf797cf33ea234b069e6071154cba1cbb213c0a32b76a0d5176ef6e5404d544ea4e882513923e49791d30fe2b15004869e701c2a9aa701be0d96b1837f6ebb7776d3bb722d825af4115d2246acb26182263a2af32b73ab25bba040a59a1195643f2fa28263d2cecaed4664f467537801148d48866b7b303b41346d18555b73ef2f2b84df659d87568c82c9b93495e69d4cac44dbfaa0f1626732e14db007c9198dc1d752fbea3b2e13a0136b203ac0fa0c11ac2715b9aa492328582db630f05a60c8b9f910e0906447e0d013e1cb47d4cc5c48fc5c71bf9a50b1e9e24ca1431df70dea5384fcdad37b6bd1ce94570ede3e8ec719bc108ff03a07d483e36016cb336cf9af9dd3b86d40dddea2ae8a650c0c530dc7c31707f898e2c519b855c99af5aa9d899001033aea19f5d0128831e4049fffb36b692476f60532cb2b297675951132e1b3303192ad82429ee3c56530ef3f7ee1ff38db3727f3c6950fb57873cef7dfadf6d92fbb71de387618b04aa9d02457295c8f20887e52ed232e3877540477832d3dbe6bcbf2e1d8b34354ccf93bea961e7e8307b0abbc00dbc8ad6ea54e204689e6cc226af9f00d91850ad2b980e0dafb0411be5ebaccfdbdef4f7b9641c1e0e1e054e2439044a8900e0f0371e13f687b94900067d01168e7dd58dd99d7a1ddf6710458e0d094df6f7cf53c5d3473153d0b0d2c35308b07e2c9df93d1a52ce4d4acd4d74699c8137c92d878111adc662e8cf6b99a325041ba301ce4aff0a8caf68bf2e20fd0d52fc739977524c4f88859051491825e944d906251be0901bf5f22a3f939bbde699f9531b55e8f564b6cbc778214134596c4f6a62db9298ce2e1902f027e51df934fec6a9880e1cf0c35c7cb4f796bc9afdf8a5e9d9aad7206137689a56ce302011361af47ea52fdc3d85aedbcca7ae38d39c806334e001f91cc70eba97a3281191bd0a6b963c15584e74f1a24202bb2da4f655afc941253c4e524e87b6e1f57ceef252a1d9704e6426352b2998cc9437c759144c91ce4edc0655787d2e0682cafa32834aa78df42c6b12f3e79e84fc6b73109b3715c64d8e3a402e77860635fc787ff847a7c048feb44aa8bc1897a71526c64f053fcb9a92514c7fe7d5039d80091bfb53fac8cae5ff3ec9918daac33129568d83e8fe4e07f2ac7cf31f684c7d05e5dc907357cd1e9a984d41a3bccf8315a1f72097c51e775e68a5b8dfa71483cb4ddd03125ac3bdcaf59f318137fb5d1096f1c00f37d300fd99fe33013d2967bedd4d9538248402957428ded22ff2a00a5149cadc798f703a3da9bbbce7e43240978cb3183337dcf113b0fd5c45830a88deb0e6b6f5fcb8855c47683f565c7540278a9f536e4bcfe01c292104b8c1fadbed1fad8928f58b95801f19a063b979928a34c65f9c170fe9bdc44888b96543b72d592a600fbd5519b83b1d0745f8abbb83559faadd83ef37823eb79dab74b278b41f27eacf0afa32d8b500f8a8a4166de8f70acf9991c946830214e7c0efcc9d8643c00f95f96eeeb26a7de01bf521bf1fe2fb90ec434e501da3745bfedade8470067c3320c7509115efe2cf715c57f18115d2f773bdfba7c67f060f9b71fd251b9a913d1763b9b206e5783b0c995ae7daea91220e85794d22ddfe7dd69ccea736489140f9493e5ebe37ae146c50f2d9734d9c083425fa81c52b253c661362604d280736dd399879196b7163d226a904b72a452bf82f6c4d76671c2032d9f4e4683518f19a66c03f62c8ce3e1e32648d9b71249e32d7965f03848154738e2fcef876869e154a58c3c33430f7ece3b5391d32c92204506fba2a1951378d8b1dc7bca2f42685ea53c7980b31b67ab5f3f9a2724d5a05d61459d0adb11a27b044c8cbf256bb6891d4558052f93262fd7347f7fc5bec6fe5d84f6bbe03a8557ab7994ccc3d6c38a2f619b9dbc380def0ed56468550250b2fd53694b99049bc41a1c75ee38916f6e0842b2a19beccf1c895d6a84a5539ad9bb03a94f42468acbfb2b68c60240bd8ed2d61b79d18f7e4d81b7c0dd08632e04f90f78444bb206a2a16c0f3a1ff862e3e2610bf465785595606742acae37159b74752c19f10554d0413ff8b9bfbb54a851202f17bbde79bd67a551e004a4bdf0b4b84cd1f6d9ab15532c5d7550cadf550ac8ec9a8670678659e54be10db4819cd775716f3d005eae7c80637df4de95b22970d3d907e174adeb829593d1446897cd55775224e4bc6770e8de57c205727d80b635023d50cfa6bb3ce4f3b4ccdfd95bc2b6c6c282dc8efdb9b6b13d2e2da7aa51ff6e53cc8f178c32951e91c63d89100e608111d57c05ff4fb2200b2359fca300a07f20cf7fc15ea2de63a9837d87bec2316e90a55c98af8719fb77bbfda2f8788a362012199433b2c464775af55e13b34547b942d6618192c2e4749e18674e18ff1738a74918c1f79a1a38b5ba4929b2cd9d150a9dd4006df739f731e7859950d010bcfadfec5cf9c3fbb28db0092551a0911021202095da3df0789421b371ece8deb85cdb1910e8bff7e7dbbaa38991b2aec82e68d85e1036756e1a343c6ebf78acc366c0c7022b557c894f7e682474c381390476896d79e013adef23f0aee589006bbf277bdd2c857c3dfa907aecbf088ed7b0a5a392b4103e3107a19bde8d6d6cd59bd4c0fe319612abc7ebdb1aa860efa3a4301ffdfee9ee275d46e460254501470ba34f2052e28ca42478f933b30958318d01b11652a6c2ddef44f4ec21a10313259041a5facabf8468d5bea1c38df564ea2ee02a3b379a2047213e2276f16fa6a91420249da6ae89dea9096878f29e44ae860ec61d33e3bc40c15574c6fb6edc7db462fb9b71260b5a9dd8c58b47b4678f8f222ae13347445bd93dc160d842a72688bd0e33ad8d5ea68bdbf09dea19354d969d06a1e4dbff7d7621b580e0bd720baa08d7d4fc121b9ee5205faec187bb89d94fe23f531d0f89a28f596adba4e0dfaf9be892ea853cd8774ad4791a296fb9bc0550899e6b7e2dd6d67c346f2f58928e5fa36df3926649cce153cc5ad9d445f1cf3e4ed67e867f0d4fd4e51e4cb17e5554a469f7cd20b90c650bc66326aabe9592089df24d37028ba486dfa8a8d61bdde06def0a07d14e54cfa17236a6e85378fbca95f6d9f93964cf17cf1d27468fcdf4ed843def98e58d6899bd423ab1a1bb8fd30edefb16b87d80ce8284fc2edd2728e3f7ce6bd35b80311dc3170c1529565c3c6812e5816e45093221fb8f9c32bec61a42a80078eb501297ee92ac3bf7a575f7ce6840d4f19e2060cc997f00dabf022a8e120ecbb73ff2e95998a048296747bfa5ea90feab60c632a1c2686df047b1f33cd2916070606572538a2c0c9822a9aadedfbf46165014bb9d475da21ababb3a4a2aeea07c40208403b476b9f3de168b4b4b1bf01091db8db321a29181206b9f28ac19808a03e071d620b555565ddb218d5f6db4a252aaa3c6d9cb59fa73c4f4335a427ee2679abb81dbe55f2f79c1b040124ce963b1db174f871ff6d388c15fddb13be1cb135a0e2d4e345173c2f748f9307989ef60998593de09d83a6788a00e2e0dab0702b4a30cc99f637c08a2afc6f474650773a2e0effa3cfe2569e42d6bd3e350b7c1bb3f4bf28fcb4c35dea5da16096a680d18a8410595908f25e6e3b4aaa9316e513e48e67f20bedcb12dd4c042d0bc830bd34d23661ab715c3fda0e75e87ae1be144f9c400ba7a74697ea354ea6e89162517e14cf4dc01fcff581534927e67787e50d6d1473a0766b18b4eb2d967a88798986da19a9d24069466fef18616e76950293ef369771b429467590968dbda74fc1520e8f93b9696b7b9fc8aae273b43b227ce2652cca62e865d3fd2cf2563be84352c358466cdf47187479087892059977e1e22ef793a8b62d7d75c25daddfcfd262cf93cf9f04c16cd9effe5a867584e2ddf7ebdb5afa6c67c1e226b497e53c776c3a4b51ccc835c18d4c86dbf0d7c8d3bb8bf7b3343cdc3305cbe1dbfd4562bb0d34da6a85d096b5d427cd9c755bca2c245ed5670d352d5e8c01d5641fd5c60730efbede610ef9ec4f0eb043b68e8f2d6c2aca229f58a24bd5590da662332b52effea01650f3b9fe0be6463fcf5f167ed62c86fa896e44ca3087c7963c151945a5e4f3d74e8eb4a7bd049de10354716f8d68588f28447afc0e4b4459749b3078242475c12c429d48d065a7caaf505e0816e2cf14b1278b9e6db7b9c95ab1ea37750c924cc3425a151a7851ce5dd4832e63b8232f1c9efb7e34793b7535a4fb9d7dbda98cf606ec4a3851ec7dcdad341e4a5587976e8fae33f72723a512ef67d505147b3ef58c5d3a464151b394f41cfec969fe7579f350c569779fb4674ef620e6d8cb7899b78078e6aea2c17e2920fd9361f112389e67041c27c85386b6e2e9c4c26965646641788ae41d649581a5e42524cd71507632118ae31d3bd3b2e60357cfacb9accc0b6d01369841239fdb5bc61d7ada8d149ce538ea02bcd9d7fde391c7e65003a7c24f2db70470a272ace70b57aa67a1374b8357f8e35bcab47906be603601887d3a18108134c3f189d190837f4b28af431b6ebbc7d6088d7804100faeed616aca931556e9351482a24b170e5005d7fd868a934278c4b8fcf9ff7563ebea9f657f88a536a3414990852f3c928127bd0284957b0add6b6a2665cc61f79c47edae8b07f946b170a5aec8387f30063c03dcaed6126b6dba609d1315c7bfef1b43c31b79bb4a1b69b860e420b2f181328a2e2235bdd31e28e698580c907c8d464bdbabd014fd71e4f90713c2a37bf83c9bbcc068753dff1b5d070893ea8401af8738e6c3b6db442681848bc39115ab3e2d563fd39ed4907a6eaacb59fe513321d042b0cf3798e4da3316069d08a7ff75c894702041d5a3b7e34251bf3e5ddd9bcd1057493df2053c338b85ffd115457f1cf62122a6674af50281f3d36b69dd07f55fd19855350c9c11d49e4c9d1fca81aa2ddd9453ba6de01d636d57240ab1e12e9b8d83bd91c34e055da681126037f5dab16860a47249147745491753e4aa3bfb6f04c3d8c7638ac97eced659168480455ae76b39dae3846ea7f7d3ae188d5e451119b27e366f0ab466776f0d9ce63649bb8926679f3e6cfd6eeb4ca90ea19726a1e239b88cca888e8a3dd8c023701da96b0d4a7a270893f64056f0f92d915880cacc3e045b34a145c4a24a8abd588213f417e5df9ffe7734e5e002fdb36265cd917c337e1b40129d87bf3bcefbacfb77a6e4b17a043722f901e4c2337d2b41ee0eab68d36daa7a9dadae782eb78a9538f71aae348905b876f9b059a524526e91028dc9c0c901788dc7a2b6475b0d9e0a9490640eb80ba9c4756846287d0f46aac773ee3fe61624af0797c04ef32d9cea350f1452a8723cbb5780eec1c04cdb7b4a2a9c46dcf9a76699d58a463e4962fe61daa260d0e44f1b829decfa2289c80c75dfd50f9e953c91f3a8cfa76ba7dc8ecd4b9e9f90d70a492d38d678172a21ea09206c08200cbc0e9abac90fd4fe1565f9926f02178f758251324d74c72e622f5eae11ce1f30187414f5f1febc6c8c8f88a4f40ea3c3af52b950079fedf8d55b708ebc600b2c9852e93ad7ff99270560707a7a1550ef9b8a231f10602f6183dbad003af5e2e33cf9b1e0709a36001ef2e9afba46041037b6a542d7bfe841dab732c1c6ffad50489963f62888d7a801db56d9298484b4013b3bf6ba77675c59de918fc0a9d84d77640fbe42c0c9dcee432972d8961c099d96609ccdff817dadc65141b5e1c036a108fd6f475420f8373c5329cd4cc37634e728f42dd2c744f2993ba130b90d89b906ad0f1ab1ba32df1d855cb68a28689f946b0bf582c2e8b5e43e5cef42ea3f27b412632a1b61659b58f5e421a7715234d25f2ad025b7613242b3afddc164d6ae45ee9ea40c0f5ec734806100012e0b0634c2e410b78be8b0ce664ed76addb70d00b0f22d466a57be703aa2bc821e5df0fa9a0d6e01e61838fc107bd793d56570c7f6ab01490355fc46f339550f372267312d0e58cb5a04edf1017a8a77a633eecccc6ea5759b9ebcfe23cb0c1c358f7f7322ec7bd73e3e10053cded7f308a6f4c32e3a3ee086b4bea0fed879829973876dbdc044d0e202c2b3f6ad77b1d40fec33bcdc2066e5e10617e6124a7d74bddce7f2dabe92eab30d4405f45719f531a70486737f8e58fcd60a22fafff7ec585aad7153c79c083451866efdab00cab40d9226b1a04ce4704cb5b0850392625c4de584de40a53f760054de6b2e71f60624e2affd67bbf0d81607c046b1f1efdbecab7d61ffceabe0ddbcd666317042d7a484ef1c586ae5f531c5a61793817682782d81ca3abe167d46d61d2f7f0a1338a882779bbe32527210affaa66fbf16bfddb1ce5e292e2af134edcf24c2469d01747f7b863872f1c309ad0781127dfad4c43cab6f4aff554f3c59972e169dc3eebe88ae13898a8f9fbc537f52fd0ac89cca5b1f045dd5830b803cee8c55b185dc489563adbdf1bae56a72ba7a4cd280c07434a5bd4f9011778be5972d5fea31fc3573a471c98bd50f24597d7ea16e99d623e8cd9879aebd36a3f3df6c6ae7cb9226768cbabcc7ceddf27424d2f4e68a94fe4c25d30e58ccc3bdd4bbf448ab9a24acf6b9d7e9b7ba32b57b189795b4b7b3517c24cd2f9a9b806023b7ff491946a793da3104c85d8fc000c11b6572e67346438611a9bc349ef398cdfe2729a3645d4fba176510e97f0a92bda56e8507c1921a82cf51b4ea9e21f29fc77debb192de1592598331dc5a8ed16f5b5e7983533ac206e6ade26dbb9fe055349043a6cae3f0d83755aa8b841a1c920464ef40882bd720cea8447c5a5e4a7aefd9934db32900b13412ca81b8fb0fe03ec0afd1f3ef4c8ca2953682bf5a1df53dd8da8164de4fcbb26e4a615bcab7350df4e17d9003dddf60a4749596659e820c9059d63f3c85eae3e37b6b855b88c67985a9bcfa4f4909f551ab4a17ed4740d28022b3a564e7e6f18aa819040656457323a8e6407abec860418e3aed2600e01b09e4fe1b7db5253598e765c58c6475e7dcecf486f3fbd154646d8605ebe2e2211678539334c29cd5f40f5d282a7119e9e7b528fcce3e862786f74dbd90b5362e657c7da291bc329c2b48135b6a650f18011b520c596ce616e80aa7edf0d6fea7877873a97e72a520a28b720e807f5dfb6ac4914f5be93167f354c0c6dedf927e9f5db8367f7cf962fb7344c0f25e9187d457776b53356d577f5e66d2eecac6163d916d2c6eb2940a7a7c9281ca45531f22bdf983d6b64b3697923caba0f00f3b5c84ef599f746bc15c99a88d8a476983c411e4e81b527d70ebd05ae99daec1b23e302164000cae63704121cdeb77af9bfe505b73912d1a5de49c4e2989adf6557dbbcdbdcc72c54bb976e16d7b1b41bff4413385454dd724320f8e8402e99391f679670999a738ec839b600050d6cab747b909805ceee4916c1032728e95e73acc95c9e4b89f4aa0f8d38bf99455d4420ab0064600aa483cb9721e8c8bd13970f6f280e185c7eb1012f5d288814fcd802fe85dd32282adf51fc0e2ba0787a69a337f7820e12b27a83958d65c542474768d1d562caf0d3c6c6ef01fba84056056e26fb8d833bbbb4e52159743e7c0421ecbcb68127a2ee61a83ccd03d32d1e6fb02113b02504e3d1f0021a95a0ae725ff2c7372b8ab2a5ad67d1d084289d21a637d536df15ac3ab8ec56f9709e4a1ac6451822d42b4012e70a6f50661fbd9ca8ac67a7f84c6d939088c6b9938869f47cc854aae5fd48513b94533dec202a96b2f2ca6bb5547ce2438deb0bf5ca81016b8693e7ea273e9eaf9e4b28272c271f0ea5d30f6e604f1ed44337ff4b61d764e04b9225754fe202da48a007ddb8172920025fadd8d8787be51863eb20c24be3fb9e4eb09d48fcb7bda9509afc7082705e2ccc37030bf2125adef7290e8a442e9958bb18de7dd626594a0c8c8ffa646ae32113dd73084046e51ee24a2911b711df943fe81fe30c39d087861ca8d1964bdff7933605575782fa6359710999f64bab8b67b18dbd47e4a3bcf0e7bcb3e336cfc67c55168f684361d1e3f3f3cac90889fd6a6612cfbc09cb8a13212b2368e39e568d14ffb37f004c6790c8c745b94046840f9e59c48bfc206224ede1349cfaf684da96e12a8a9dfbcf7063c2879a89f32180b17de4f12fa3dda61f6e1a4e1353981a6163d7234f4a937a67b9baf8ed33a7a3974e4167ad6e264f02ce53fa4b2f53e5d005b96817e9544834b7bda6e5cb89daf223aa0bb9fd7436a22d54d385f0e408f0e0722b1754c739f941a96d7f476423027175d3952090f4b1d5e09519563a9b5dd00dd351a86e57c05d6815aee540222b40773430b22cb474b1e267e211310c6d41411b7b0f311c5b9e501b1ae3fe5ef9e88ed4db3d8ab19610846480a55f32a9b7a079f9800d014171c1d68846f5d6f109ecc4abf335870bbd660c02a89436edac971e6ac03a892b177749c13f5d731acde00d35294ab768ad287222ddd68f14007c50abec7bebddcf0f5402ae058a72ff3570180d3776a705a9649ac90260e5131f74801751bab8827b6fd420a361251b0039e6956c00b68e78de5f2dce382f10aaac22d7844a6a0301cdd4f037ca1b6fde8264f43847a5b23daaaa440ced93af7086d4a47e0e3637220daf23797bc603b28ab879ccd94b6d694f994c66918fbb3b16b8ffd203aebb7ef6fb37aa5d33df3232c46fc44897511573b2450354f04c32bd5c51812894e29a34fbf9dc01f0bb774c488f030d9a38d53f5fa473e65087bf22f8ecf4d87cddda8af41e719d5c8289ae38837e565c8c28fe306c5a0950754d23026077629b9e0dea1e5612758bddc4a973f939342a41b3df23339d61f45a81e6fe9d8c84079df671b806180ba58cabfb2e7eb9e54355a51f9e4817ec947d26c7f972ea1665e73f0be3fb3662ac8c646560ef1221e4c1bca39a9aeb59ada19f4524b43823e46bcd1433a288b741ca1c7326786a14f26219a3b296714efad8ff0f64308c35f1e8de3a68e7f3780e0dbf8d9935c6f1f6dd93c2ed4d630501bd439975e2e9577645547c5634c188ba11f0857dc1f6fe69198653875341e95bb3627441964e1ffc65c824da978d7db4dc92fe5d4a8509fbde057c1a64d692bffb50bd32dfa16af0e44a9ff800d59ced0c95c69ab1ba484e36876e667bcb2da9903db754b51adf9808639d9e80ccbe65ad521f250945cd131e809b728ef95744c5714126c8e0ce67e14dd91713539cb722fa37a75309825e733483ad4efb6ece0a10562272acd42104f9c3973f2d05d048044595eccf03768321457320c0211055ab7f1b71ea818d60b82823c83dc49c5c67b39f38a5c0aac676a21642ca0bd39275ef739de8a8924966e8a87164732bc3eb0f556020f95ea78c7e4587e508d754c43816c76f69ec93ba97c379bdc62667ba12301e61ab0874fed74d3e9010598a34eb3ae6d81e7984f30d0e13d172f6bb7e15604b129e845ea9113b6783f2f0f48fee09077267d3912044c7885e63e35769feecb5589d7145c513a18ea493b1f4fb1db37ef9d2c400cc178fb85a0dfabe9a15103649fe6ab370bbabc3b805df2e7c7c198ff912384a962a6afc09d028bf9006ebdd6956a1adb10a2ab2241abc945318388065c16067ac6a168a3e2ff9e81d83472aa8f19eeffa81f10d1f9b7b07a35184475321e4cdd84d4aa5184c6fa2d0b575cf00a52ae0f30de52aefdd16babb0825029b4d12d2626460b84e2e02d7d61715a5aa2d097f6443bec01a0caebd4405f161f7c50652ebb7baf7378553f6620ee611d72999d93aed0f65dce791ea3cfceaace578ffd164d73dbf1ec3332df31ccc101e77e4dbd92f6ed4fb09ba4a0f6cd27dc192b2f3c85a536d208bd98e3de6fca8c5b90a2b6c332782eeb6b03e0695b98931e0ab6ed379c137abee5788976b74081834defbb10a0abd9cab65a239d332ab358f475133c9435873f9a17bc661c2ed3ae6f439c0adf2ece5e66543e06817f61fa3c343b0101d62b3bdb02e6c3568dbf174d9641c739121b5b7f4502ed8b372abd65a2de445ab1ba3a072296e0b3b920f7a0de9008fa8adc5e400b8676e897ae45a7c3c25ef1595c9f0f45fd28d7a78836d6b741daadad14a686872ab541b5c0fef629a00e8c610e13b310aa98e5a16881ef0365da791f7be047a36824f866e312ed0eabc28c3bdc00023e6975cee1373f3ec905283b9c02633ad1b0fc2936a79171b5a4cbe1a682226ad5743ecced1cd8359b2edf89ae24df8cdb6a88a12a4b9e3d2584dc52a8e8b8d6feb0b97887fe1c70b8ce5b9194beee29d699ae122520d2f5e777d5d953913f8376ddc4fd2af30bee78d23f03d6107d413372784a36ea08b07e3c08f4b7272b4ae38eb1383f78366bb682d2ad1f538be44a83a9b77e3b43abc4485a183f9ac9162d6b7ae2fd90a6dc83dc3ddf8a3e22d206687134c78f1374ce08dfce38166ecd3a898496df639d4560c6b4dd2975ad604358db0625960072de6a7446f51934f414571945877106cda8a5f963d8c75d57e74d8ea5b62a012f722b2f29ed6c22a520897e5849d1b1ccc5a6d030a5ba4afe7af45f0d1b9f904506439b4f87cc6f39041bb55b0f4ddde2692fd13ac48357dfa789006c3b5db39a35f9af864952ccb7462e9c2abe783bc4ce5bd3497a1e3bf3a421127d71b8b3417edbb80b78a5ee3b8cb45a90c8ef26ac5364b72e9bcc2dff5b5efd0967aa46e63dfe57a3249c407ae18a67a8988bf9529e485aa81d55b29ddc67199babe1ae29ced857ff78c39cf9d4fe2b5adc72248b7b83b50e8d66fb71362003656f44de4b1cb0c363bad0e5cb0babae16ebcd68e23a50009fe46cd2cc88a747bdf31d1a740ac9ad6bda2dee73985386d2a3b6","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
