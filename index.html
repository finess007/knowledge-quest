<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"488f80065eb0213d86352eaaed810f6f434a52f5de0cd45b8cb4a4324746745119917e1176cc62537fb562a299bb1d6d5f88df76d717c89a4b81ef81ae311920ca9f2bf3e5bd500a19e81c71142300e309ce3c8c4f0df6af83397b26c5a5b5f7fce3cc069c0ae04a1bdd5118f112f33003fab77f835bf000bf94b7906dc22ad4cba1e643647bc09bf40ea6fe510478b4bc8c1b79e79c8f3142d365b9be15ef8c9fdba9adbe7d16354bc79637183cd6e1f73dab78bb458b1dd04ac0e4a6fbc142b4ef5826fa6f62bbc36b98ba840ed080d394d38d7d0a575118f8311c0c7359355b304e2117c5901799955e66cf8a64e7a6cfe432ae4c4f2842e052e25e735e714dd48d0b238a183c39655e5204374c593ca3c1ac9566348be18f66bdcab3e8fa39ebeebe18e3a6435dbdeb2538c2821570b4cca6884f85dbc4299830d35d4a59d6ed56e7b01ce12a84cd9368eefbe67a8292f65332854f92daab8b555583d55b81d86962abd9c1f676db6a449ac879172ca004bffe7ef7867f3fdea3c23c8a3d63d162ab00a7f9fa960b0c143717cbe2297b5dcfeaae328d4b7085e861722bbc64d88afc31cde00431ac1462036a384632f984cfee23f0ededa43d6afe382a18e2f56e8a1f7b23aa7c3924aed9da3f645be82ec0e9a7fcdf509d67b30de006c3ee83e0a87c611f88625ed9d078c138948a3c54e637f30b956d2f28fc7ba5807f94b79945debde9ca8104849a21ff9d7d03b18b226ac2e111a5786b67f473a7cae175ae8f501341b2cab96ebc1e9a0b01ad8c7f4db1019d230d0ab4106783b9f99f7bff228a795c3d86af3a9788777cdebcf0ebfcbd1144713786f48e84af238c309fe7bff644d3971b50c54ec5e917c4bdbc6e1a8ef5f111518f32184806caa266cb627968e8fda5c70d5d0af4db8149dcfdca670f8f0f76d1f68bff19e8591b8aef60c337f03d992ea75f33cf518b6bf1c06effb7bbc021673de43ab9567b7a3d3cc833b19874db10bfb30d89db0ac01be426822fb0b18c9e28e153f4919553325c43ff2c6d4b965c2f1b41638658684b39f15371d9c462bb1d04dd031455c679472c78f96143453f10810774d4e573f749b4b835988a0d3500d598a8f3bff0543516ad0517868fe72788bab24a5286538a2cd96f70cc3e5889450db245e75ae710de40e11ff0b3b6ff8bfe3b251bcc7860a140e32b7246eab1fe9853c84c76fb77d797b5ea5d9e60558a57a2a8f67dc69f1dfde6a9d2860f59f769c45adf3ea299f5a0bf554fa852db7961130d9e2ae80e60679cbb5efe482a87f0230f6550bb7a798661f55b97926f65d4694c601b6d2b93dffab8b8536652a2711e0f4499a6627822419e19dddb7c834149b24c605cee1f0d0748124b398a7000eae800666bac9345936c39d1eb159f495b290b4df634af8ece3dbcc185b2586030f7d93f607f2b11ebef269096c86106a311eb8eb1f87b2b9629113b84faba330e558ebce2cbae0b36b52b92e5a7f7f0033a9be8e8edc83f769191aae923adf3c768a66998da50b970ba22d0aa9ff9332474e571d5491a3303d5e2abc2b56d26da86ff213369c7e6f19a8b483d3c944bfb0be63ad68b256578319deb74c523d427cf22e9c3c05ce1775191bc107756ac97a7f49af51a02cfc54399b179ef5f1cdaa5f19f135404e56e29fefe04d2fcdd85715c6617a2476d1bc4669b687c3ed4b99dbe44eb1cf209b56ebf192affeab352097de1ab185d58a91dcb8532d7f4d9f25f6719e54710c14f211421b813d6072ea8bedc94b5a690075d9da5f16f81c707e6f1ddbbcff0ef54adc594613a03213eb641b94a56d12e653720bd9f7b47e9b4317fa8c7ad3a4387ce1104b22e331c0a447a55f872c157b5e0f1b69cc8fdda5e1a8e89a040ef96df5e979ec382919d16201bec342c2ef3a641ebfd188f70b36b57e6688b11467f5df74809f56cf2fc4a9e7daebf5bd7dcfb60aa3b756b0660f21ac562623b397928bc41baa8c62d0f5131ea522d7e01f703543266750a1574c446c3c3fa217bd82a5aff5ab03aca892136ef558d6b78072e264f5275c077c68c2dad3c84e3d5e33bfd40e3cf6d3e269afbdafa4ab06e13e1251b6180aff5754c492b4bee0060a67c90b1af6deae5e875c3f5368b4809a91a09ed2419fa35cda2aa84229025bdac6b5f924ef0ecfb137b15185fd89d9fb80da0f27453a9fbe7cca8a2d2967fbda3daae3f1025091a259d2d67816ba3bcdbca81a1d3aa13a07e58004cc9fbc63b9329fdb2ca01c5ca86c0880b5570b56616e9b8e8e58d0e369a5b7049b1c8426c215f0a73853b171bd7df384568428dbdf656b8581258db07eb798eb124bcecd9e041da051868643f166c6109a48992b9d8c344aa6d6f0478b9941f37f87773952308f2562351ca1559516999d9a4afb68df553a7889f665e05714f74ee18b86e226456e0f0b96b92ea1395dbe1e598582ed0d2babba643c5d810839d232e973a4647a6a6bb7f715aecedb30cfc3e918990cdac6654caa29d6cae6db2b37e5f5d80e92af6e9cde4be2f182e202815323cf01641e121268f47ccdf0f94d59def333b481fee67e8f62db45f58aa7e4670501ca870bb9bbcdccdb5752ef215e99351e39f5d1192888178beb509fc595326eb4350e0f9e5c8653cbd217786dec1516d1e71786e3feff0cad6b47b3c04b8ac39dab0641423561e0dab65d9eb03b64ad983507adc264f19d4739c3a1ec5cb1de67afac2b6990396948e26dc4a9f8813d5c5a55fc5f349df884b163e761ebed676a66decbe36f669ad95bc521dda152db59d80e4d1fde226d65f88a7c57b6d99957dac08863b3e20f0cd4e39bb5f56d4f29b341f443b76d71b6679481e96baf4d8a12cf18ec60e84b191ed5907e8a04e6b992e1561195db6583f5c19380c8c431d62a6148296fd4f60c74435ba7a22be5e672f8b639dba5fb7c3df260252fd27361ed803651859fd69bb8768405988e9d8d6af913f167f777178eb861c6e9c76c6a7281c9da851dfd325807328296c6536dddeca77b0077d912349d31cd1471ea3ce5c0ceb252b921773cf3c29d693597d27c9d82ff764606daaed18430cd5590011cb1fb28c7039346a0100fd863a878451186ae656c1f94c18cb8bfe3cc159686ad9f47723af46cb0489f5a10e46c9dcc5488a05a540c6fe4c76978d92d486ef714096dcd112697d5c58c9a8b7e0aff2c06e77326cb6dc28f93adb8f0fb2b5aad1258c9c0fddcb8088ada372ed3bfd80cac63ecf98ca48ae3a66276ea49f952497f5ff4c3bca3aa9b1f3a03503b9395581f1a96f5d9f32d058c1558c88e8e4f70a70a6410b948ca07b405150a4c30769ad4b2e145ff0b0408a8d1da8ba2e27b1e86ac249730c00505128c6e642371afac5426f7056e90489314622b11e97e29ed2f2d7a241bbb35384c4cc0c0487d75afbc94749adff80de56d13a9b44ff565642e250ce801d941e59567521ea262753da1287baa2337ab3250c5ab7b2f4bb32a38458fdc7c7265305bf1f5596d2c41f5ecec1b32fa1398b870e25b27a4e8cd18a7147de3e4fe5ca81f3c17488acd72ec857de13b34b81d3e4a2d62d62ebc317c87163d6cb785b5fa90be34e9ea227a6f184eaee5c5d9337bc920051ffdd3ae265cd9bd6f735de2ad012ef42e26b7480905bb1367d461db029dd2ee9e0b57ad6f0c22ab9773f590d97d3be401eac107b4204635b3577f445767c7cfd4e9679a81513982b8370c64dbfc5de8e2ce141d3161460e7a87aaa96237498a42b0b2ad8315dc6902241b63f2f58f40dcb4e4f2d0c40220a3518b1f534953ccf3dff8850bad78bd9f98b27b72235e13c72b5b165a23f12b32c2d96dfcca56718a64df6c2e23869269b53d9a018670d1437a1f3e8a63975374de0a4a70f7e4376cf8cfe0bd6b429c148a493af1f837169314a5da0ad0055602b24fee01b614e5c5b05dbb3dd884da9ab183db92e443851819a20134c28382f950c27813301030a3a7db99ac7779dc859612f65e3936a1b2c47018d249aad4bbe8be9d88ec02dbdfb08771fee868eeeae94023a50729f7cb5ddda83fd136fd7f8e90f70e85a57f67a8fd404fce5fd9b7e5efcdacc92acf67a486a2bba8a0529e3b195b3f96e80f09a4297b8c002b00e844571d9b36de928d78e774817aa93e1f2ba89ca4817fae03a3ccd3acef7f0e2e09ca4bcdd72cbda84751daf8ed11297c5b03a9d21dd008f727d48e6fdef0884854fbf1560a59bdf398ae91ae87a50e43dff22aff3e9c9321a07904aa46618d6127d2e5e7f82852dbac3f09a7d49434d61bcb7074ee59f69e63e1c7e3472ed75bab1d810f80a417606ee00a73fefa90188461dbb61a672dfdaf118cf54d44d738f4de5748a3490ccf823c06d53880c687e79eb8f2850e05bf71bd24f677a93c2d30b2ef5c46db7716634ba28cdd9064e865d15b131acc9507383099e3271556d5efef52347490d20a65b6f8ca6231784e1be21a477de11754f5c4abd21c82a73eeac4d8bdb7de4d9461dd38caed8696206b6d619601116d662f8f1869d9e8ee99d646e7a8e02fef1166df801823eb8b81587397ff41d3529a563afcef9b7b03b48854c953423e16c1559ce9500eade6194b6ff20c83f66a666914b7c028c744af49756f92a50c01e5c4928ef74617e72be5861b5b026fe33813122176e5dfa129a90fd8eb2714afe6c8f5264878efd6354275674386559c61862ebeedabe6dd07d1e1bf69ff5a8fc391e9977a79190b0deb5443f51b5d8886af8b6a8ecae50df26313bc9b430f5fe99cda5b609e3c8985759daf459ea0576fedf84daa0a128e5987ae9f776909792b1dc5cc6703dec0f47e0679f52137cb8d6a04d3259456e7024d471dc3da986158261714673b93d0db8cc92f58fda958d5210aada179470cac9d593ee2f349c8168d189660882c54da3951c4e59b9aff949ec572cf3833c0652dd6442c3063316009161969e4f10d18395d0e169d44f60c64996e51e87968645bd21d636e882afc9a778ce7496673f8151f2fe6853bcf55cd146699d3b656bbdb198417647f3b53a3c22f6fb8306124cea49d3addc93009f2cee41d9d50337f08e8ebc969b4bfbefafb946220dde9c57714e10b906713036e2b8a9a4d4ce4d477e55b56f42fe649a4b43044d5a972564f6d3e5eeca99336fab51b38881674b7ca90315a68a68af1cbf4b2a72db14d474a477b5aafee20ee0a82059750a86503e4b45ddceac78d7e319aee1a1e9ef5ece1e8b65ce621bcdf22f3aac0f969414cc023b274e00f8f55c6b35a8c49a85f9bf32b4375b116f32726bf113763f8a226e777e5a2e3be263c29dc84283f1fe503ea68c9037fcece8275ea508a51baf9b3f4c7dd6d5b3f780c33caafc2628b65bb75ed08280b738386c9d7726a166f7c4699b85511b8304c4049ba2b950a681ee9314e13df75040db5befe634d37b2f551821979d061564ea2a3b0b0cd52cb0d93d493af1420ce1ea7221c258c72cec3386c0958210ef1bab287ffe18e30b35ddf8a2faddd76172237aec97c098e18d5411cb7b99df030e62b55621cfae53fee8b481fa35d9ef1f07c3f4e80f69d3d8a9ae208540f313887d3cd5ebd39febb353b740929eeecb64bb81d43d908f18acbd69e75f498c42c5d8c661c6f514479ce396c757da589b436e6a5bb8eac49a6f2592dc5620664375585efeff30550cc1bb2706d77a797b8478df71f5bb906f87ee2412e52b4691ea99f41d81bf1da857a92f3b7c762a962cf0fba610f5449f5d6ef4fece4eb70fb083891ddf7fc8652694c7754f082c0132df3316cc7c474369d77ebe327f895c40fc31a968292ffbdfaaacad10ec6d2c1d2ec3633b83820089516df729b7f348d26db8e7975b0535b0b55792e8dfb4fcec7593cebb9263e6cf3cc41994e1872a702ab89c0c72d96151857869395257424c26cd0c311fb56a5b95236bdf046ef910235a42f9b41fc0070854974fc4919c13ec6745d223861ed18029d1b339ff7ebce7328a339dc80ed2c442381629b850a9ebb97c195ce4b70ff47bae72b0a9cbae76776c9874ce15c7b3638d21709d5619080bc20942245056fba6be9c397c39d0ceb50095df25dc2fc7241ff95ef38d0a2d2c069d69921af344aca009d6bcc24bb211191b6d62f42fb499ab701342712900f4d2c7842d70ce92c067b7c8eb409da00512df381dd8354454a1cdff38c886e87cc9763ceb514e0d2334e1988d971f4732f9ee8a37e52857d0001dbd95b9e5f6adeeb6ed9cc198628fec2753f68a702cebeaa27264e091aa7534301691e438f22c658acdba02210d5c80b75907266e83938d70e8775dc9ccb709f8fa8c6bd9204e2f1be0ccfb3477c9be78cf4982079f9e0119e99765d69cbb6ca24c5b430e0ee4aaece86727fe710d523ebb84346491e870a1bb8b09840fe256e4ce862c9df48fa651a9144dde617cd6e2c790502760e6084cd894047fdd7bff3d9612348d225bb4aa33198c9c7be4665f0e7beea65fd8f5146d28d0218fe7d5ff5962dddd038298f89a23c5aff34d4f0be514577dce1a99ac035ce69c0bebd7c0d008cfc85439c5635f0e6ce8635119d31714875eacc6fc8d59b7c2ca83e84a4505ba1bd6e87a1fb923e8f8bc2378536115d12b2b760a8afd27d5c6d8c4534a724187820013e45c8d505a3f74afef5e8903b183d6cdfafdb3aedee2406786adb2bb41851698daec87921f093187695caeaf1c938f9b1688de5ae7c1837fdaed71dc6a2e57741b04a9dd88f63300067088c4cbe7b44089a7dbf43e936b44fb4cc4a782a0817261a2b2c96ac2fe7adc940e22ef9824540b716086c734c18368fdcb08c9991681da8d5ed65e261dddea9c862c46d122582fe61ca1f1cd06a92fade9250881190e795725744fb1af8713e4f56c85f7a0dc71c8aa7ecb7b94d0b555cad95db23241cf95c070da881e6fe87ce186db7a97db97853bf56d726b53c50e0e0e7fcc5b9d210a792a997933a22d76547ad29969fa99ad8979019e9c1e3540000ce3c0c72f47e7465d0a877e05815683ff74ee0614961ee5b1db83235e85fd67d6b395aa052fb5648ecc862dfcdcea958da059e85706d451d3694188c4a32f7bf2bcd9b434e511a0dba430d4dfd21cd4d16f1c9caa3a96ed442494b7fc5b6927896b30f56319c022d8226bf8c7edada54c8d08219d3b824f12389d8d8e5e135a3b2476f76c0f837a800f757417ec19dd69eade6fcc82e06aac8a91ccde1c040108cdb0de032c9567dfe53e235dde5207c784aa2c1294fbaf1f71178bdfe4117e887f1def8e4fa6d0173faa76750f3439bd8a790dbc0192d8cc271dfe6902e8d6d03009dfd21a9e35a889252b7917115ba225beb18d7fab9dc24f6495566dfc1e5d4e043883ca72cc427ad9b29f5cc5153b5a6412bec86d556a9de6bcc915884de610aca4873b2bd250863a11b135dcf13b2f4b233f5f76bcbaa8bec8e67a0845063fc0179c90e6c0af32f3ab8e00ee7006bd607272ed9269bebfe050d7c7872cb16e03c73134c7cc767125e142b5d64c97c59a28a8bc8a84d0b338f54fabf4fc24c1caeb09bc12fc12cb16c0397fa107c9c579ba157a785c2047db13bc27bee3a6128006447a708c800a210a043cdb239c078c7360e1976e8a4aad6faf4ce17b0e612d14f92575c3959d3c6166643e96b686b07fc39489225a6dd5f6a714dea08528e4ad8bef47f410b806765a3c1154346e95b1c2e6e3572cba5620e1ccbb252245e4f5226c79dce70e7c914ccdfd30662bf1c95160e18ae43bb2b93f8535ce9f63fdadbd7a53dffbe82f3ff00c8d36e3989ceecb92e66ea81d0c2cf97d8365f62965e3d190b045d1d819702b3f251a5b4f6c352ffaec2fb5921b07456d2ac9a00108ee25ca7128cb26160cdaf4b356ba5568168afbe72c5cfb3f85b99dcae46258da0da2af588fba5f36e04a0f96b9812edbdbe41b105cb5b2b0867e02d9de7e60a14032212feacbd9faad8e842295566025da05e628ee88a3c9a67a68e94b35378e5329c5ada8e3e75a953f54f16f57f2e1fe4ebb68e99286d9e8ad23a64fb64c3fa63c90d1165bc523e5cb216cd27a6146ed6f234ef77a66004c52f07de9e66213da0af374ce2669b39fd1ccab586453cd7abf142d8f1b5d43dcbc75b71ee05c8b0cec4d220e511ad1b550dfd8ce2ebf63008d7f6973342d6ebf87a2255f65d709aad66d0288b9ea3f1e76e82eb9ccb62579686a261781043af0d94d2f66057167a7df3d3d96a45fd64b58421559ecb1a9c91d2d46f98951f287c1da0d88eab28b47f72de3f4a142c4c0b142041981b755d070b5634d1a456dcccb4a585ed70e47956f575e048b8843bca4ea30ca616e3179e0c85e225d4fce736bb9f5a1a97a33b4e0fdfc2db2bb115b9a83b0d9b04c076536f3fa293657604859ced285d0844154954f04d6f891085a9b1ae67807a4d6930f01f8b4fefe4f1d6893599913c69839152aa59dcdefee5de591c6965c80e4d45698b99a9683fadf7d3d2bbd14be0f559a41a6125c3cf4340c29680f7bb7c84c9ab9e22da62fe67e75fddfb70d3e201d30605b5cfa9c000511b20492ff5f22c95575e35348cd99c4ae1f8f760dfe577a4caa00c94074a4c30c6caea7a3b8bd0bbee224dcaec0a6cb383012162e0793a53b0a3be4af5b454cd4bd2a8ea415b35cf93ee912af92f8d3e3a23afbfda2451482d2d67ba55deec5251a13daf79f948213589c6ca2afe817f469dada227e28ecd75273597dd6bda3a34c8755e9bcfd6021ed059608b8f241079639bac018e942c548560e192b541609beab74df64b39c1da9ad95de64a678c9becb79f7c109a82a4239b61c7b7424f0672d2c9d3715146ffd00dbf55c5a1d80bf530b31f00917ac79579334cea34219c6bb087020255ae4a75a810df6235f12ff5f65fc6239e2ee9dca8f2e298dbd62c5a4ae7c9d03e1e653e7bed70a9871c72cad29180ff1ae96efecb3320aff328526718d33cc8fc8aac920f5326f232e361f2a62ce7bec2a580690032d834916bd90637a5ecbe0b5684b8561f251ba05e090662fa746063f4736038137ac2ce2591b76df5557f79699be75c992b3929ae2610fd98db5a5d3f46357deaab51d8c4a43a2b24a343b6f152535db93d997143d0ea7c5a06641a3cb3272ac6f81abc386e0763088110a5f8ef45724411f67730229048765728610f6e5c1d36cbdec6763579aeeed685a64730009097f917ac87cff769a32accb78500842d5f396485968bf867c083dc75bd0e963f26c0ed78b58c78891b333daca46a8370a61ef2d23e38967a46eececd494b38f1e0db8445eebdc3cb9655d120e2ff1ec1ffa90ba810fd97a7225197415767ac7b0f9dc15fa723988790a5a6b5b170437125a06de251c87e7da80432e416707e9cb08128ef98f9cdfc2549490e121a902e58ed2d1bc796bc6963b743b5c78131d5d80d140056f8c0e602988a5bff4031c8782951f52d8b7b3b91604c9a44c91818bb6956b632fb3d961d66f2a05e1e7917ac8228baf74ed41ee5c8079e4d5414a95ee9670b141536bf2f255f14824a6b5e705610ecf9dcadd36a14dcc2b567b986049677a2f0d50f24bcd36636a67d28be4136ff24d39c3b2c52ff05b3d555a486a43ad6ba050efd674d2b6918a56be5c36a3e6d724ddb0f7c1850da5d8805a6fc16a7af6c7ec0571814f3f7d3cc04fa8abf426cd76459a122cac2f77eac4f0e435bca5e2c930bad54559fa86b89755e310a08f85a1a674124a3cca5ad4a811a7027f7bbced5d3fad70ac4fe6257fa4f7d5f59e9a84cd40ae05c205f9f90f775f75de2bd90f2fd27edcc9a00c0d1c4a1475d2d67868ae7f68f529d2bdb339ee9c09e6231e62028ac9d07869e8e2a362ad60c7a0927433039e3db790792ce96de8c1b0fa8f9f22766595d06159e40b7facdfadadef0ba2827727147e60cdbcf16561084ef9b0558708452d4bcfc80d831d1bf3cfbe7536e229a0daff2855df1e4b2e3f9e59ea2cd367d96f06b7d8404022e80d79af1b81ce9c3f547a82be14c0009dae203601abbeb093adde48d6ceda064ee66dea03ac7bee3d0df803453dfbab6475691ae7bf98bf96048f0e16fa877aa47534c732fb8b6dfb5e57f25cae7c6319a316427a84dade0fd1ecff7c87860d92c5903ea05de41a76f3d8ca26eac546edded4486e5328a15ec0ee459494a5dc6b73d9a0fc4af3b6632106de631de15f42f6fc20ed62903eac52f50e912bd1128f83af9aa576bd8a02b5c38958adb1f32064df752946e745b8db167ad5db9994b3aff7b53b3139be0966b33964fef45d01648e97cf427a9bb4504bbfd88ff7778306e955606d0336d5846d9f0ab18bfc68a62735df22ad3f6ad1a1ba0374214de016d2e642dc1d8be6d5f5b241da86d5f8c16316d1d38cbc83aa87710a261809124a918779d6d54e037c5ed1f94293eb5add7b345f82767bf9c622668c321e5ff55424b58f20f3c9926d38ba9df953922100b5ab25da738c9b0f2ba16940e0465a4476bf6a7d58c73510addf5b34af8e1bab3f0f21b95d2f4232c749fc5ae0fa3372722c52eac22d22f2cd6ae0fd86b88f34495e7e2516a7dffe8fafb321903cad640dcb580ee75a1dea9b211314270664f9ef863f1b2ad0ff915f2d3e7a602e3f4edc1a2e8115e7f86ff76cdabfbbe85e61434f07ddbbe27bc27fc498969ce83391c7900fea0b763f1c435608d54bbf72e36fd1496a8bbfead9b606cde210185397dda3129c579102f5e70fe4f1250b9c3168553ff42ef9068b7be286d3b0730aaa6985d758a93d027da519b47e84d8efeed551dce64a62fd2c63303d2955a8cd46594817782b50b15c1baf1cd69d66ae055348e350a9486ff07278a7d8e44ab01c81fceef362594995bc9e844a055516aef78bb7d9e071f7b52e19db470b4cd8dd958ab3caeb715b800c46b46ef9ac6559a92ecf7782f340779d301be8ebb3ab39a51b2ce39e250bc547d07d6d0671e12ef7c5a16313f44ce15fa9f4ad884bad2906f0a310600d8084aad9bc71f5c8bd03ea0cbde3cb96037e84474c2b3d67981acf4e4e5374d967284ce99f5221c7ffcd9e806fda061a622f00a67d7b79a1ea9b2ed75507025fc8754346ff634affbf03e55be36916dd8d35345c22a73597e7741a850068b7832cbda032e0284d5b146a5a3e0d9fdc2e3c8849730bbb273bd97978767e46d401c71af5e70aed13c9fd878fc0b65ae9ac2d41eb2ed1c900fdde260a46215415bcbe286f695fe0ddee85c06b1c70891c645716dbe2653710ff1f65afdc93d3e6ae9827223499193c73e0d34ca3e4374c2432294a4a0acc25f255ada04be35b47a0976b8afcf35ed87111adf65c69f1269198dad574c0087c1871a392fd738725ce4feecc83a35db9dff9ccea098be76b242d0583331f8f200ccf955c952032250ef1f8acdd17f33a986eead069201d030ee70a9b9f4964765bd198275d550ffe8bc48cc638669af7348b5d4ad24461c560cea92d48450faf5bccd719811ddc59573445f2b0f99b71c6885ead2db5cba1ed284dd087706c4486faaa684335fdbd7a36b29a9ca27db776989bdb169957e479a1cdadef257c32233d2eac0945ac95792de47d319d469c740ce102052d714da8e3fe2c0f6c60d0c68b2f19ade0a05df14e85053953110034bc855d8129df02826ac60f08760ef57ed04080ca4c10e8094888d047c7ce100a450057d7aebe130f11c34b2c9633637f3cbc47234bb9f2a9867e6ba135efe2e7e630d3d725ee30b8b68f89034d82a865685aacb855b1690d25d20c92b65a2535762192ba732625e3f0364f09d1f73a90c422c4a7092faca8b3532577d02ee583275f7990f00b9883842181970b2a142af7b73f32e7486b9e7bd3c0d4b02b77074ac79275cd5447ce82c1befb378870c176ae9ee5a774536d87b7ba38dc7dfcda3e2603292bb43e8ddb28fb91383cbd02ecc15d2344262c339a4d1e2121311d026c257033b8362678e024e542a201c39378b050215da809875dd3d93708b5cb1063ca56e8f57cac7491619cd30a7e5e49d248223cb73f05d7a72d57d6e871c097e6ed40654650536bb4deb80b67ad280f7d265f9fa91639c0ab226eeb0087abbb7c2fb368440f97fc2897581b01efcdb2934e535253aea24ad12d736c15ae9f785d30c3fd450cc01376686e09b1ba28c238939e561248951740492a7625a1c002b9090a43990db680ac1367dbba6afff6c55aa3f24dec095460d2c17aee81ae48683438c6e2de9596789efad796d118ee03d0d29fde94d512a31f5148520d99325d1e5b83102b6eb7560d5f4fcf6f14757aa849a057b762e98f4149fe7c956d691494f83c3004bb6ee05573f221162d1525cbd66d0446f74497d1ba23db795871cd523838e594343719c585fdf73290a9f50794e5f3f069698627ca1279b41e6c51a0dc1148bc7dda1e47014abdb161276a23f1f41069f5b1887bc849de105bbcf0fbc188927558abb481bc8ae88340f444eb11650d1441535a24ab0947713b9e0e578868affbac6befeb41c16c3ed3ef44097806b93f3d24f4e1ec83aa73bd12682dbf64db85aad8077a3f1f194e8c6701bad39d85f3b99dabe7e4619710da103d0e688b9830151a55d3f607b5fba8b7572649a54371e5eaa46878d624c59159e0a1c5237395e7c453b7309e71c5709045a81956fa7048ef8e72ccc8f88bbd24aeec56129f19b29f6d694a39aa89ca7d20a063487001ada9994e1f1d0e92b857ea9fe34e979de462cf44eeb1c1b63467ce1eed26346ed4ade8c0e57b25eec52b0258ea7e91a06a65e7a0fbaf37400d42ad7a85842708830da8e6d38d7c87be4180360ac34d1cfa6ae4d06d9924795268abb900b3c6ab33427164488b13ead4a3b195d7f198448491d5886b0bf77430ef61f1f60c42fc21ff5de1219487de5839189648da3b7622d922db6b1d413536e67073f7da8184856ad260624846230228b0b9e8a0c71c7f784786aed071b1f6cca2ffab42e4a6614ff67160c4ca544b311457ff8d7a05ed35568875b41f90ea143fdc0569e47b14f7ac8453e80999f8f887b6b9915a93179b8deb9d7e11581fadf8c366adcf8bbfbb65fbaee2917ee1c2af1eead0e8d331ebaf8f53b9cb86c0008fab7984d8924d09a6d25576c88fdaab342cf74fa39f0f15ec562658c1716fa2faf6cc415f915bf46fdd1fcf60631ebc03be20768611aae5c07fff647104a6b1a5110db44b68770a35c1a6c06d5fc966671754d7b2944b93e497c40f1b6a144f68f4f85bc999a7ea4543080d28026c17162f685f032070b96048c6ec6f483e0ff60d502c5474f9662941b77902ff2edc9d15cc78efba7b9c1024c3dbbc8529893bc214d3a7e23dc24e8c1162b4afc79ec9c30a1ef8a2695ac6a6012e9946a0de845bddee2a805c964cb05bc17465891ddfe4335597acbea41e3d93a18b0f8b751d4260b9483851e54c6f2c52c06ec692443cfe5d3acc44049a9cd35a24fa864f5f49bb8eb8d3d253e0fc1cfe22e5183133ccef9108a9906bc3c5f0578fed984f53e1e282eb9d40320e245874b8c0585ceadfe1bcc6fe3c49cf238d8a60571bb533852939a482c41ff2f71857bbc85dac848b77a077fa90d9a936155adc9cec2b199709bbfeb476b09665f05eee8f5ff517abc53ee33e23a1ff4521bedca01339bc177d60bcfd10530cda6e524a2c2384798a3fd81791f6b986949a77687bc38f87a3de76a80d55340e3d716c9b955dc5d85f995c74b330098c8e08e92e72eafc034550b7797c6f46b19c9953d7ac4287b11a9a0514d81ffaca7fec338556401a75f9ec5c91821d6459ad9eaf961e931c889303304ddcd6d8fa280b8c7f69cb3a2d97c7793eb5dd2c69d369a7a02396d1f79cb22fb511e3dd53404eccf17b00cbe69d57c737146450e7393992ff2c3ec3a78c729540cf9e460a499aadefe84c76d0b783ec1a2f37f2084539f0c4aa02cbbc845a8e3cdd56efffdce3aabcf31ebaac808ef07d59a5b83349316b71d29f98c17b76bbac4d2fce35b84117c00ca83b42049d2cb344633c905b7254c392678c21bfbfa2a042f0d348791aa73d194f9320ce4aca80a52a9993b62f6e82bf9ed6741a00cb1aa7ac5e84ff2c3675d8e6330537e9365044a1ad151ce68fbefebec6359a4ea69607ecfc231bfe4c82056f7a2595ed873f72b5e70bf81eb821fb630d1df958b3cd46e0afe03ce9dfd0096a16fa354cfe5ee981b6facc75d0c1085de2612782ad852a4e333a9fb4bf9749c809f402430052e5e8f4f51b387b496684dbade32bb77df90aee901dc6ba450151d8a99e0bf23bbf3b2ff4e099ea3172f34a79d7a049fbd75907631bee087989c2aad60036c4085818527ff5f9524a7474833379c37080610b06d7b9a3c19756c6614fd435d1bcffd0a6b34265b6c6aaf2cde9eccfd562f397d7478c78338167d47668e077e1b4a8d429c6d080d3774ead7bed152fca23ba8d90dbcff7b775e5d8949dd32c4e9328ebf02d9d6b2dd4208c528fb98a87d7a254564608405dd4d04398e35ff0f52d64466bfd25e07da9f7b0d5aa7a6cd75733c98f7e96da68aaa3757973a0093e82289a91475a88d882cf77547fbf9bd9f6d9e90a234aec4b0526c7e284f1ffe78cf1e693852c397b02a703ec99754e9ceb2e98170ad6ea041eba7b684259326a5144109fd7b31671e6d3a79ded25287fcbed5869d787ad8b798b842a118d9d2f42a39cb021235726a7a85d14bcb4958722e912978bec6b91d5972c16f3b04b5d20fda6accf09fd1b827493a7bda94864d09e2880b1f54e76ae963cb8d96e744b7a8fa4e0260eadc49727330f91862fb6081488ea4d074740766ba9d4ff25a97feb16dbd49a6161f13f79121041c8a7cac3980796f2bc4fc36743ef081be75313d9d4850d45909f3a6b99f535fc89d0a94197b104d522e9bd1636f8bd9ecc14e9c41687bcd6e97481cbb8d8f57113005796cb28cb38132f1cef6101a54e837ff687ed3b0cfc8c93c7c352eff68da3f2f8464df2e5e7950d5ce37c86965df4668625ba6e2ddebd825dba84e9f5b036e3548c18766fba7ef70240acfdc336c25037b65ee6b6e869571eefcd25bbb9fca0dc04f68d3fb2276f5f43e94485a6b41791825ae2e5e7838a679dc46fbd49e34ecbc53d577e594fbb6e0b3aa2338c02857044528dde549b1c427d9942e79f8ed7ac5dfaa1e12226adfd890600687126d84fdb9371e8f85ff2fcc6e5c97fee5038ed99ba11e876528e692e35a45cae47df78a63325481d313442ee3a63af27450b28012bf60df0e92960dc82dc0c0d602e03eb61bcb12f9c1c79b7534470f2e04a660dffb6d63fc99b00889bc269661ed1e15d7fad3b502c8b8b95e9b8150c2d6784f2d43aa262f154cfc7e81d7f92a927cff9521fef99b1c040498861edd2b9c0281d7d79baa5fe60b07ce918fd21d3863336d6d52c7511b1be897295b8efaa3da41bbcce009d2ac280476ba8b434bb16948f96407e93b293106dda623a52b1492b922776ce3726391e3c1c014c9faac3b459827347684b4e54b889eaff15dbccedfb11d37533b88c02fa1473ac460f7f041b8c7576f0b989fdeffab35f80ebff68bd759058263218ed3e980d492184d7ab2afa5d83baac5f5539668eeb26e348ad00b1523d89fc14afb5c2abb563d299f1384c183165b09c4fe566e711aaa613bb1eae9d6c96d65b256182e9a2a664481473cc47c8b0594b9135a804e91cdd121e3d2b258009caad773424752371e2bb1dd6c84b5cb66e859407ede8d00c906238e9c196166b6d3bbf49593bfa1baa38039159cdd6c98ce9ef961ab0085a4f492c74f9d08b99116feb379de5a2855c8838c02a5b512cce31285451d4e25740384c974d57b73f8563d23d99fc7082ee0c0b00b6c4b993ef1c831fe3f736cff689cc9e8bf22dc7318b16a8781f80b49a4ab17b96c894c9af256620541806d5719f50cd1db980e7ded4af490a05ed4e644dac126006f4b619c64961514f1965a8a847431bd0b6f4f325bf419113d6a7fef2d0384eb63316f1893bf8f26674cdb77a7008d800fc7ea9ea64b86efbd99e27134025ade4969f1fa5ff3ef650073ab9d59c2e14a69ddc4d1d6119d894b395af26e970433f31b7f52707a57e25187cfdf658bb0899073e6eeaf273b2a31a8145088a717ae0208b8850ae773de08a2854d8afc4aed790c3447fd39693d066942c3a5794d800d5bf89025501f5ebdad007f751f608fd64bf12e3e34aeecaa4f6c1595fe12badd835a82e86eef1ce7955289b98bb1774a17be3dfba8ef5f16b8974b948232c0f4726b963a3d118e4350d7749dcfa5914e2942e7f4ce46e929861656f7de57b7e73792ed606b4d3891bd938a06989530a731905df93bd75b92a66ed9a1bf4d49798a326e296db13c74e267e113af37e617350683230787603ad23301cc63399f41909a823ffe2bf821251a6fa1bbd1c427582ea37c9b106ec5129fbb8c2cddd1198bfd562f02f26f63fdf6b8f22c2b99f98735a8f219f1f71692cd6c1a4160ecbf1377586a697da167cb44cd1dc4a28ba853e21c4b1de0dd2c852052a1df5d7c3154c6046bd3b5a804460af1f987ec49cb595d4928d8263e5e650d5feedc235c23b169b9f2b8d0b5274e1adcc61070f115764c04193632685c54e7c3bfc45971073355b0696a8ef592d03daf60d203561c8be195df8b04bd18e1f1b76791a6ebc24a7bd2766c62d80974793200c8430796c1df6963511799f455632cbe80f06ab62ec8550ff7083ed697c1262344c94729f0028f49ec45eb45965e9eb6343652b112c978132dbd1c3bb6d1d91addc317b20a8da1b9d54e4b11ac512d09e40f853d665c6c38988ebf32030acb6a3f00bca9398ac713e611835533123d592ed9fdf40310675dc9dbcd4eb693025a224f2c861e32dbbb5b57161542e81514fc70f02c8019b4aa0ff6bb63caff5f8c7599f0cc30979bfd8c6e739863b6f4717436af102026e469981639f2717623e4482dbb37494d6096b2ed1328d48b119b53575dafd5c21bdb81cd0abd54d568d972377359cfa4bb45cf1ba08511bcbadef7c78148487f108cb973c39dbebabc485df3cba26a02d62baf4e1317c355b31bbe06fb7c51335acc09eb833f7445f8ca8cdc63d7ae921281a9fea9a6b33d1ca928b8638f1ece8247298378a5b671460c173fb8f146c398cf69f56485ec9491ddc36f264bcf17dde1e8a2b45bf54282368026821e5548b6d795915429f2675af38e6202d78b5cf7ec3d5a7ef186feec5e8db32972750f9fe2fb31880f76b95120a4d6391a9934e2be0cbc6dfe0aa77fb9e17adbcaccbf8771c4e4b1089360acd8c507c7e31038676035e45e03974900205a8456a7a2e4859e3df0415c1c3aa0c6d394b01af8dbabafea89453a7881f9750cbfbc5abaedfe00163a9d7faf16dc95c1d3f51c772cc09ad4c77d63ae4489850bbcda89bd45c156f5a3704c3962994d88005f0dbd0c8f0e70cb5c6e2515c98e0261d78811e34dcf8dd15839cc31261c236829b52d31480ef33cb4b05d77461a13b8a1eac161238723aa4d2ae3f1b6c89d0dee663cf4d207d438895a0e9500df33043ff86cc5780587ceb949e81b24866fb986a5831ae7ddf0f07f83cd34bbb62778beb4c69232af9a90cf9d3a739b47fe4bc3dc9336e539266f062ee846e385ee4631c2cf84e8b3fc647fc1164d7112835a2f2eb9d29a6bc8cdfc5ab8e3740347403553d880c50a9ff11971aa71a5d7b076934844ea4147bb9c98255b44c13f283b8c74f417886906121da2ba1b5881d56d1b7cfb898c322345270179800786787d367a71b60e841ef60fce101fdfa006c39adaaa66e6385e7befeecef55cc03bc98181eea111453cff33f04de8a5514eaa541c79efa6cda0fbd177f786d7510a312ad507ece7ab4cece889ed586a5fe0b19c2fb782ada0c9873566223a8a7bd53b4489e6a16ee7fe907273bc593227567e977aeae0b64acdabbc699068d158dc3499ac91e53b1b8b4c618e31b967951cb2bf5b88fd8c01607fad28e3d651a4971395a8445c47d1cdc09b2242c61e7330c55ce1b8909ade726f55144a8e96959dc13a217566df70dc86e33740cfc576577c6743933fbe634b7bbba0f6fc50fa0b93d678743b59a53ebbd85bdd33c3b63f6448f942c25c418aea28a1c0e3a1e9fdfcda566452336e6918fdfed06d90c90c084640a8835145b46701d7e89aa4d19cd0d0cef46fb573569ba23bdc8e43bb197ac8229b67d2ef9ce4eba0ce4c0e20847bf08af0a64de4a4a44afc3f65127b36681a24d5f1771e8fc30d6dfd386e6df1011f0c9f3251559ecaceeb12669dbde8039af94cd7f27af1b8c5802a7c5a3f9a6795217a564840e6257e7fe1f49e12faf2da1c79649319233e1b0514bbdfaccce9217c50a55a4ae938ad5f17c01324bd3782e85478ac3a4a4702285b17486827e21d3e25ee968e31e04138bf2f94b4d4296f385d7baa6c0e70d52a396005339bc379cd81ff18ec1d7dec252e4e194d9a67e0a42605c134050c2efd7e5a396f8bb79d60a35414c5c232b9e9c6a366db3d4471d6117625c3cbf7f4cb21a4e63c657f2a1f409d89223d79835a9edeb63fc9f654c20ec6f2fbdeac430fab98884817d737712dfe3718463506b9a4e1c850c0048d6f33b9d077bf68a81cb1d5205865a01a70076bc7bc927caa8543a49e5df1632930322d0e6d0dba74c9ad8797550ad46966c03f6d283af734f4fa807539db23df5ce6369fc97f62a52c45c901328faf486bae0649acecd6bcf89fc18a5716b227675576d33fbe2fa7ec1ba47ec614b149a05712ff4c23b8f6f7ded1d78e71338541494bd8068beaef5ce8eeae5f81fe0334c6a3e28447916d90d2e49c1bb02958ea504dc9b202b627084786ca8e9a5d11b25c87053e11cd310cc011f1c80646cd59feb31391b2325069923b523de68e62ecf11081d60347d785e6c25458936c881afe94b765f6c1d89331da39973bc92afd998504f4a1165a60075809ec5d8732dc6b57262b74d93dafcf3481e48c0c4a0be116794f976dd79e030d7ed9880b0f8ebfcbdc68e2009c03bde2edcf00d78577be286d8e444f1a6f81db15c236ee6ebb3b64472f3331ac14b98190feeba60c292b66c4f3b7f7137576b234927f7eff046a70747706d483804d54874c9dc87ff443f4c7127ac69327106802cce0ee6b801a746b42df30832821062f6b421efa511b6d992b451b1fa690adbbf44ca504a3e95fc145e0da5dd740583ec7fb5aebed1424bfc9cba39ffa5660ee315a73d7916339136e421b4d2432dc8d93fcef5b608e1b3ec91b09c018d52fe83c76daca88a8050c550ee15815fcb239770e13cb8a8b13b190d05d8a62e49d71753738f5dd5dd821ad42c65d6e05eee3d64b25e1d84392387deea4e2cb2c59d4337e935b22fb18228b8127b7e9125dd3dd527e794cb3d637cfe33e0417c268da005a0508484769e043dc1125924b7d0ddfa46f65267ebb8c954e36c1a323d9c030cb79be2f71fa556e0980b8e09329ae64b87157838ba8d91e1a403550a1ee8d9096ef84605956468fb5f9929092a35b65ee9a065de0eef43a11c8fb72de3432871db64356f32250c5d4ac825b4b72cabd4e829ac4bb3edbb3bf49ff1807de69faf6bbafd5a4fb24126828e36c12ee9797981b9ab74283ca12200df3a21698a4c6076bc41c42fd0c9888992834d92c16499cddf7a4b77dc42116d39dacafcb6b099b88802af3a084a1bd8f3ae210d5f86a778e50d19eabcfb75036cca0572393226cb3ca6e740a0762b3e10ac173947249a0eb6da912f99c0926c420f2194d95d92365fc1a114cfa218de84d46c61aebc25365b735896d7afe54e15286385d0bae249e3ac055d5de8757d5a2ef71070c1f7f850fb30c8b80b2d89e4dd7a59453c5d2a6b611d411a3e5e18a446e2841d66f9e336f1a63abf58facbc7c054a72a5eef74638bc9c3b90386bb569616d0c325c09d1da7dbc6a66924de1803ee148cd81e8f1d0afa12a84a625b6c75dd4ec9ec9abc7cae06bcaea493df3b3db3b12ce78de8a601664812f90ac88e7deed2079d2fd30e5960448e95b155d0706f6656a735ce55c4578b432f8c786ea9158c3853933ebf383a222db1f33e67b65b27f9025dd3eb66a00d5e79f7cf82963bab2c8ba54451dae806cbaebf6de16a1296cf1bc58c4d14abea38478223af3ef02b3e4a468f62a84ecdda818ba164b905aa41423a17865944d8c46d57d075aa8ceb597edeb088e209b31dba85cadc9aa981159406018a059cf007849733d060782aa2b51f20db2ada41ee2bb546d143861c1079b3661f5df210c18c5c43cb4cd17ff6a570774244a6ede4570d9bd2df38b845fce0065650571117047be58636a7732e1fa28f1bfd7a365fd03edcca3f6d2eba363dec5cba8d328c586e52003c8e18291ffba5c5af55ac6c62df4952be55b6f9279e6e14bf77d9b5ed4c2cd1caf0167ad0268b91e1704c78e7fa054a594dd712ce46e0d8ce3f175e0039657a98719f7f48755a1b1af73c7ff55cde97b8a9f7ff616e8695e60c454f077da7fddc4db23ac449233862ac3385375c7301efa007fa5949c50c0ef9f3d7e920ec6eda3087d1ffdf2b97d8f19d350664d58132888f63c2abbf87a9684c1229d25118edd5173455ab909271dbc756d2268fd4e45436725b37f884e92f0ca9ab2937185d22606cad3522f8a6085ee76f1b54ab5e3da58c24e5e4f73fba18665c0f067cf8d710ee0c710a2c5da05c0252b9fd12eded7c7b1086ee5a125d4bc98f9c543628aeff180e3f8a70fea1fe17885851caf8766479a6648a14387a861b80555de636e703a77435b8e127b2e135bed0cc3e5a20a8fdbbfe5347a739cb83fc7450ce89c1d87ec2985105af66188854751726783840c073d2b8dbc72ad53dae16fbc1696a1835cd6c04f3e022357132aaa6c153d89e05ebd3619f2037937381d41f5421a902dfcadb006909709a772c79d43c92b57332f45cbf5515f6188e83b54baeba9dcccf48c2dee91e0dde600059fa15b78b7c0109c1614647f6e47b9ce5442bbcc8517d43cb0ada3257d8901f2cf493984319374ccb468082201807c2bfda7d094cb13fccc9f1949f1d61470e072a4f5997085c16440f3382e22358087f3612188e35b0ab8883c544e5a75fdbb04a902edca96aff3bfcbb9b7832469aeb4f478435325f5d48d9dc29f2aae5b978d2a990c74a9db798a02c2fd8ce2d547c05a0bd805eb73e00177a0b85de4f0591251d565d238d04af74c67520f46596afa3d8623fc210dbdb056902c78fea4024b0c6c2b384b7345d71a0f871c9ac4b355c6f3e579d81135b03400b02628c5f1e9af1e0f25d153a146b019cb98357954259c4a72a5fd2a963e0c9d2a4910afe063c110dfc5fec7aab9d42f5eb55834d2e30c127f3354e624720154657f79f83d6466d5f62b414d9ebb1b8781eed6e480b51318dbc36f8cb499e579df2d3194860e3b9e354c0911a846ee0500e0f37dc1e2d3de35680e8fbe04e470281a2d9871a5c3ec479f79a6ad63b7c7a32c81beb351d254518d37d92446bf108cb5e9a6d63d1f3f755121f4ba9469715a70ab72d413769cb1e87f8453f9c101c4ba701e342043b0d49a0c6456d0c8aeec39673f1383c2ee980c46548ac10ee3bd677c21571ce8c6a1fef75b47f059011ab7bdbc4a7bad713557727970180cbc0d2208bb98ae13a678149f992fb5634eae08fba6a74a95e2be160a5dff3433bc7488bf9495796ce16fb2125da7405370887c3cdd0892c174cc7e0ea41ce2ded8b1cec68a2e2daa8898242b9523dc29076723ee4b339ee4eed6555f48a25d96ae2216b2aa38025d4accb856d6cedf7a2ebc8e1dd61fc5192425204d78e30aff3cc0cf4a5952a3ef0113e09b4e86edcaaba7a1a71338a078e63b7f02ac71ad243af927f0ba55f490caa0c68cd9174616f647c832847b7abb7d6027b05dc500dab82afc4f63192929d0ff0c249f68c45a884d11c413261d804fed61bebe3a2288fcd18dc6dafd48e1171841acc0e4bd4e1d7dafb5c4e470b7acea723480b48fa02596d36f221a32bb700b2d6133ee34d16139a30c8ec7da802c10e456ee07e66ad31bd19e2aea1c79a108bc17323c26e9d358b711287b69fa1b9f3ba6d5a94ffc7bc66283cae721fe340aeef9144ba819f0b353b1b4b8db0e018dee48a7034ab8b09c5e1cbe46cd1db62033f4c6aca3ed349fb6e771d970f02862bef32e1332270eb36103a0eff21922f9085eaa6e9f321fd750b738fcc5c969ee68b9fb7aa8c5d0dc83f810c5173223f8b49b08ac6c5c8220cd4d7f1abfaa51207aea6c1573aeb0bc15e7c23c2fffae80f84f4515e1e3362ddf3c5431d6d45887233288e86714ef059b77d8b27a76c52e0429175e2de06bd2e808846315bde61e161b25bad43460ab503efad48ecb168f49508bb52656ca187a2ac8e58ea09abff02b11c04a63225f71006f2b78e0a913c3321d56450bfd153f155b07c4e8f5daadf7694a01fcf70c06ce52d07a95c5f353baa5f9a7be4c8d30aa8b92a159dd5aaf1779bdc9a18071c0dc6613564017cac8875be4e81568756c4105db47e0a1e93397fae2a929e1b15c49881154a77ae24343cb59f4660687ff14666ef0fc7acb760bbee48df778f67d2bfb0c4f2de0b6d234d861d4f011aec113c7471c30aef010c4c19b0d0b4c1519292002c8ed3e76f7bfd00f91fb9032ee425b191eb908c25977107310819dc391eff5081c545546d89fa4ae26ff2da108b726c244560440562cdf2990637d12435a7f2a25c1bd5c2f6a125716bde3c84f2ab36504d0f9e88a7562a56311074da39abbe24eff0429ab75620bd09a58514428dc690cdfdc1282652e08448a60d66acfef0da4965dbfebad41ddc7ca977df5ec4dff83146dbcdc8cdcc1a169b092e974e5741c1442d692dd258dc8a09b95d8bfef9a2a51cb3c36626bd4cedb91b3a5b567d18172648d87e76256d1b1705eb3af798fe3d2bcb309f79ffa8a3f5ea5cb23dc996b991a36bf81546821e7d0338f4070b555a8c0d23fb82dce8fdf4051277b43893f209b53e94349b9525a0377ab1befdc91ef6a4bafecef81d2485dd48ae89b836d8d58a826b28d0276a7f3d944620b7d312740f9ca7f9a84738cbed86dfd3dcf226bafe1410c321f2c134e7784cd27d4efaf64517486af270db477b11830f55d3b844702056eb53468927340dfcc513ccb4e421c29081cd7e895f6510b79bea0f257c90a4db3b73147fe0b1d2dbd17f17e76e3da5cdafa61263126845169e08ca35d76331ac9edd8acab2a0d6b3042ca619a0e58afa8a9284237addf001150b3be631cfc4ed03bef4e6035765f06ece579cb0d3ec39b81bfa3e44a84911f181b18cdd51735b2973683137e2edcac5a3202d0233c676e7212e5a6f0d5feb5043bdd732a3184d473208a4e35ab943de240935a4fa505f09792c388e7fb4c8438d6fd5a353dcc9914e7d93df4b262ef0805f222dc9a8412d254493ea9f46683cac892b32a51f0b77f22727bc2401f3e7e6b56f13ed207b4f0780a626e58a91cd582d30a62d715343378db5b2483edd079bfebf7d8ac6e36b3a8b522c823572d5a64d0eb8ea7c6cffc1a45d7b2fb96b637e4471666efc4851edd6fad005937c8d80c4d0fe9d59cf1002cd4ef33de1cb7b999bcb0b0e95b37f0593fa9401f0b30848f3d84322db4beef09fd34628221fa7d7193dd3455238b0d065368b9144204def15073b99a1d500a8fb79adaddd9fbf6f32cbcb04f8b52391fa19d6b4ceb2d2cadc9b6552410f4b77a1f996d43a2592dbea064952","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
