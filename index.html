<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2369d0ae5a52d60ab9bab8d2380320c262527b8da3b21554dfb828e1a77fa06561647a46c09644861a2fc133c4f65591a39ee146ac8aae0cf6e03e5844e151f3f7dbea37f5080e14d2f7d4eaffdfb73a1e4a279d382c96ac1a0ceb6eb200d8769d9df5d5d2cb96a801e45ef21ed02b974fe891062ecce7a1719697981f3ecb335aaa588b80d1dd3f7a6b94062757f87f1edd476976bab8387ba05b57bd52b3fee39cab60205203a772ec217b72e5d8e71c867c73007281cff2f96c996bacf74b11b311cd26d559dae1568feb6da25d52d9ff7ed8815fba87d49e9d46d09c491856f3015fcfb551ed9310e6b0b37fc3e996087b2c1d1a1faa5f04120bc8e27e9f042e3b52d6c983bb11dfae4d92aa17a0c38342ed57ad6dc4845a60fa7fce405cd2686dd902ac739ebadbda51b140ca8c5f72d432571ce36e3002efb515668a71071d299442951271cf29b6d86db99dd92036e9c6e6c462a1480a6d71614a320e0301b2d40851378aaff361a75410f414444f76a8d76410d4848c12930d0767de162749d6c35b79195cfff14f4bca32ec046d8e2eb8ff8219b3b0f99587126645066c3bfbdbbc99b49c2b64925c3ddcd1d00d63ef5e4f5f61bba973969b650a34baba80c3a16136182ccdbafb51d4bb0a93051f29582cce7cb9fc154d25efcca7accce95179331a88219abbb15fb43ff140cd814d29567889d6b5eb35b2b28453fc3404a89cea5db17786546b42bf57a84e2864e83b4f4945ea296bbf89c43a89a3efbb31547e6d4ea4f13a79f34a409d876ef0805531a6b3fb56c23ba871b751916df0843a56c8cf6a0e46a9dbd4eac78ce5a5ac2b8b5ede3d9f11a74db33bc468df4f95b2381edb13a911665d8b54793394432ee6907200ef5f25ea5abfef0954066ae992b27b5407543e3703dcb5141456465d3f5a5eb426210821a8ca5f07aa4226fbbaf3765f828e993bec23740b027370f9aee4565c2b2a5cecb3c8288a22c303f80c00e36f6c291f75acf3bf9cc70aa1dc69c6f63c96d1a28910c608a5b8a85bd9415877d022ea9c98b8d5aec8e53e9411314b78db9ac83729970bc80e4ea4518ad3bb0f529a8c5b1d305662b14a5c237f583cca26e51cc0c424a2054aca31e7d8b7ee34363d3ea6701e07b0e2271e59da2e812203e83d2cc3b15d996f41bf47699388e9361d9afe474c613994e22db5d2f87dd0f8cabff539f0512dd9b8469944c6c10b8d25de3b7b13a2facb87d63a631605e11ab8e4b01ea560edb3ab319d706c935d8b7da69584a35b2c8a22154416f0084bd40578939be86e1fc078c8c40fa71f770827ee7fb94cda94a41e9112cfdcc8c08b3501ae459fa26b7c18492311104bf91917a4afd64e879a9626ce2dd0da26247cab9b62463e32094b8bf8cb8a47ca6d80452c836ae00b4b8dc935b1bd31334ad8264a45e63ab849d72cb09403f018807c02f1012d41a7d0d4005c84e92f2093d42bd9ce9d7b96cd2bd864453418f6ed924de60f868f859efe0223fc54b7bc4ee04bc4dcfbd12d460c6bbc1e7f13ef5aea26cf079e98cb4454e0e7c599a8ec0ead94c900398b210c4c5093b973c47f73d1bee864a6d19c1d6082429974e2be2f72f75d116c95e59dc468a8e9f21ff885136e1ce36941f16db1d97e0553880999805d874474165d78afc5a1c465217a0a30ba481b7bb54dd18d79ed165f65a69a046e4eb60f389a85e460d8a486cc77e49f17110c59a600c02f3c3ac5acc48798dee08f8cf12cf1e5cf2df814f9cf3e3888578dfd9527d2b133f2f1a112df9e03ad3e40fe1cb63ed07d447bfce50da7cface5a53b336ac238646ff563326239ed7fa06f342a1e80214a71fc316bc6df7897b15c24156146eef80ea437841b433df86cc4a1820c295da6a24a1daaa8ea17c2edd70057e33393bda2a4f8a8d0ef329b41fa1df29e1d8fdc77ad5b4b6ee83467b64044dc037d1ac82a8654e38ec2ff8f3bfa1d0be3a49f2970c28def42328741821ff7e419d1181f37e5aeadf768379f4db9c872533bb4f13bd525f8aa8f68f6ff4e5b0026592e35e3c5f8ec54e019388df0715a8fe258ffed9f71d5d119e6f86732c98dc5ac802755946d59ff88dc0ef1347d5c529396a3d051274197b1087800de6c30454d98e89161c84945dee4a1d56052139fec09d379f66a489684040462355453c87098bfedab82f3417fed6c149203e3d3abca9184b76d9a750a61256225864d085eac957b5e3264cdbe7503ad86d50dc03b7a15bb9e7750689713ff90fcf96a5ade21d4e425e1dfa8e0dac6d0eaec811a35f3b556bebeeca542bacdb9ea078d9ec78d046ba428fe8c4179fa6211b4824c00961f6b075722ed1a682a0502ddb1166d776812496d2b60d7afa03791fb625d2496e4518312be022cd7c1c199129b7ad6e7dffe31d1c76d1b1ec93f3ceeab5176786c918f03182f89f551499dd15a68bd204c62b4ff66c639ed09af99e1c7c95bf32a0a36fb558966fca8049ae59a3efc5d657995b0e01f689b4c4564b2ec1d508e60547b1780d2afcdc4ed02ea15d973f2ab765745bbadd6ce99f735d74a29e712183902b85de8745b6b0d0d883d480fde213cb1807837573323f3a7a8185e3d5dd31462ae5a56acf58e7d2a0699976eeff1f9a988437228c1a38a3acc815c666e08696badb0c4b286e71d7f225507d8e798bac9e612ad4324a09899c080d7811b4d52fcdd4d7b0171e48935d098380a248370823b7de0fb02d92c808901ab7411fe11ec293cfa31b52ba415b7e824de437a09d5a0fd5a22ef187b681009ed952a10b3b465e6558f500f32ab96e459ef783aa35ec07e83f8ec7a1d264d2ccd04a673dc46bc8302ca0cf1144f2db5a94b401a498674dcdc39009671a01be27122563283207dfab2fea72656861d59a70f5db43bd6ff8631509bfb5816311f292391a0468c5002f75f2de7acc8a1fde9be0d062d804c40dd8cc752fa56006aae9f73c25eeddb72ee9dbdedaddd93fa5b4f472df154101d05b88a29fa7cc62052abb7f901bf260fb5b5c111eb9201d716e3ce3c378599641694a823a687c14ffba78adc2306e8c14ccbffcc2103f4e0b7119ae22bc80228f5a306cba9f69e74a4a5bc59a3c1c459b477eb1e02ef6f6e560adc844484850dac786723d12e30ed278813c2110583cd55294e9074a0b3da46c3665e867993931c9fceaa8b431c0a2e413b32a8b78cd44ca816774019e9efd4b1537e2e0ea8c019b542a5d4985dedb07ac723fe38d836d477cf12029bf2b4d3099545ddb5cca7aef0b9a572bafd70a27fe752e8167424eca1db9710f00ea2cd9fbfc4983095dd5592353751c4b24617986fdb5e4883feb53ed1ddc11a0d6dd52a0e2abe6b01b02696a4e8c4b2f0068ec5089caf481131242e5f2340f0871ccbac2e873dd792c19b8b7a8f824d403d9c1d64c8ff4471c5e0d86cac8fd293f78611cb4a3db95ff2b4aec775a6494c96e3f1a25e511d20df300e50c3f988bcda9ffe48956c786c8828ac0808d7decfc5833a79fa0ffe62481066be26084b3a8a0659a1c2e70b608a14efe82ff8a11e095856a5102e969f135025bf6c6c560c92f3c567d0e0d24eca29943d95b2e271e161fc03fbef4b3a0eb0847be03aa8621a02b3be320fabbb572b0b244a5d8a2ce7c1fe4591e764b99ec8931c0fdd900c352e405ba9c0300415332eaf5e80d7baffded805124c17c4ffca18639db106b058b8175cba1a72af58f46b85b32ef9f789d3c0f0222cbcde9c83b26beefc3f77154324a97b01a09ceff0b1078e0536b36b9a263758fa5f23dde9cf3a04d25ab3bf7dffe8cf5550d9daff0f55ae53c839081b4dcc85ff1664fed053d6c0da2a1172be4913bd297d0bbd3122f3d7c027408f47485d9f6acb6c74157278715f75578294bbd6210262170c7815e194e4a2e1a8c8563dd61caecf4300de75c813a97120a2284108d9aebf28b14f7ec3cccdfd6059fd41f7b35ad11d2da49570a184bb98c700cbcaff4077b7ad0561cac41b982d3d0445b3abfb553e24f9846121ada8e1a2ba107ce306fe36752e776b02025bc8712b31f3c868bd32f68c10ebca0aee53d2a60d361732e38f8ce2d4ff7cac3f3761b99680743d8c382f185248bdfd55b8607c45e8470268a7ae2c86ec78520670575eaa948cbbffd76de525bf2d13003e1a02106883c2820cea6bdf156e270f7a43da31545e0abb70630a6f42d8751fcaa21005eaf93f63254a71fe806e6926a37287b09b04ae7f31f747230e332e2d35fc16e06ff3cff77abc090bdec8bff9a281f57c45bfc9527d7220a3097a895c30f627986aa3587f85fcd44fd85a3b608f903de562e3a09a412089237a3998daa13d13d8f6fd8fb39f316f53c209acd4dfd38a985d0774c2bd256f27e625d3580692bfb2928cbfdf6b1bd247e48f7a60764341ea38c1ac157904bc52abba5743524dfd23019e1527aad56f4efaa05e3f9f6ea154434ed02016713cfc4e1294bfd866fca283dbd922fba5987aa1130ac274aa330f809d67f0082c8dcc66af8fd702f7b4e71db0807f48bba8cac44d3c9cd0ddf91cfebfcda86544e6f838240f8194d93705169173e72461f58c0e19b50bc4e225ccaa42b0dcb1246985d26c144ad2ad9147f58030628e3d1a3264b721d9f80420bb4a04029f8df151dff6b779fc577301288d48777226fbcb27bea0740e192ea5bb2f5343ee051014979189eb3feb37a1a831db2479e9fb60d762c673a9877961652a0bf30174a2c3a7ec7f19ba304242bada3ace7ca0bf7b480e05ab6c33bc62ea54776ebf816ef66be91e8321ce51297706038ca07ca47c568acaa9552e7948619930e8086faf64441aa4a95ed3c878901f454167954c1cca0e73b0f23fcd6db1d0904d98098782393bb8beebba13dd124fca126dbe9aade141b6351ada345e0e6ad90085493c9a94379d664400d974d5d6e6dd5f17d88c5fd417e9398472023c60555d4019f8b9e6b31eb6b5203c0360fe2dc8a784dbdb525ec2d8d76c89bef64e7e546529bc6d0ee3f85e2a1dffac33d23d06ae54c9a653f7fb9cc29c42b95bde78e00381001e692340bf6758ec6c248bfe19571d7fa5f1c9ee64a9e25160857d9cc167036c8f8cd12a3a29300a87d32c6ba50e19d5bd062bf9b4a736efdb519a83aba0b658aae44ea858325c5f30dfcdb9b78b2951beebe94a32355e979086738e9524b2678ff10dbbcac52478d53f9005aec51e54ebd8d9d049dc47d695a3c8bf9f1cc39241e3520fbdc931925d3226544abcdfdfa9044a38b6444303be1ecc2c5b5c2eddfa9539d6b7795d008d0a844f90807b476c1e7e0e7d5fcf8dcfed5fb51c48ef3c625d11eeadc5743919ad2398df51f5f21f85553660bc77a29312da15e1ed290b133c3df8e2dfea6ed4a297d1eb0888d7de1c44ca71f8b462d6ca26dbb6176d2dffcceb9e1bb53837d8edc0c45110ceefd70b9ce1c4a0986bbf4e326189f7a0b03663a9005e833a80c3906cd3429f1af9d58f241d4321f9561840b38b3afd0b2b849ccbe919d72555d63c8f21247dfbc374a304d6e5d3aad201cb65968fb3f654f5e95c2d7366244bcf944cb94dbf665dd4742c4b9897ea9b43c3977bfa477f3a640b575c5de757d64ce75961df90d900a2acf620947b64b56ce0e9981fcbb6fe6e12d6765858710df8872c2a03949747a655ae114f296ae6e468f0ca99b93aeac62e96103e2a6e63fdc977c403e28154b1aabf734f504907401439cf897db845a564dedf8a9f9ba91b01d4ace3fb2e2fe6ed8b2c0a1ff71ac919b89ef60c739e893eff82894d862e28cab26d5ff2f19417c2f3c4adefa535deb3066a8f057b57a312753a6701d31ec9e7da49e31b61b7956d6648e3285561a95c2619de3078a07bb6737de4c9170fdbd041f6d00e96525ad96c0aa3f17981dc8e0a572e8f13e9629ad8fa4ff7aed525bac7874e7a45952be9f423c9ed1f355546c529e9209b0f26647e215bb172da60bd97580fd624a78e570590e9fc3e8358e66a451e9b021416451daffee0b41f42f50ee3c80d36319a5365f580acd64a94bc87027ae41f42e936e9fb83d0af9285b1c4ba2b2c366ccbf2272bb7813093eeb4d0d25f7011ea462dfe5342a0b03735633a5ae420f23e6667acc7b94680052ce66b01e808d8b5bade5fb9679d3553aac3f94380bdc44cfbe06d1899b1de30b3046d641b4990981ae687087d03f17f2ee8a453150856fb8d21a0f9ed5d3b5934342c56b278980d9bb973620c5a011e9b3d0fe783b164290768279f6abcac05cc010933bfa56ea01ca1e76221a94eeda69d68c22617e770c1ac7ba7ab597bc24a347ea74c473e1180961f3a50edcc686c14b488479c9e84d1cc33a626ea73801048fdd3d2db2d5c5ee73578451ce0a2b8e558800f1c31322dd1c2619844734543480db5cf1a653fd3c86fff8f1f062142001c9633ff751dafccafcc4424c0babc81e647ee3938d461b8067abba272c160f3a55d19b1d18f015b7c0bbe83ee5b6a5cc900648db80f66f5889aae398e4b13e5d551fedfab97f9771b5e862f519e1a779aa795d378bd5e6c927c9598aa38e52b8f710f34bae1879935f0557b62d99d5ce99c07bcf5a4febeadf77e758b087f5a3eb0edc8559e243e0ee50a5829840b44e40b72d5a784cd32942eac9235382881e440a6922373e90447be7d4883bec2065bba409c9ca822c4dee298e1e7345edb766c09717d7b9f888e9518575293154bf03c2dc6ca1792661e35bba772a45cfd08cb0553226c5979f2d086f3fe6b48bd0335f8c61221f49fa3a3d3bb048635c8bfd0908d3cd25042c3756dabfefb7121fe5f744f70558799edcff80818553b2a8c6901189d0fc8bd104bb7eecddbfff4e6ffcf17ba52ca7880860b5476f6a9dc49a2225099d893b0e2347b614f87d96218f39ca1782ecfab72db4b24e6c7b6d09869b1c1cfa6277204fa21b0e7d2528f2a1c594a7951ae7359ab9857cb962bc08dfecb5d683f7c048e962b186e210ffe27eae64e84a5e566666b6b03af39f4c8c8684c0c5d1df1258a925093c368cc04b5e1022f4222b916564a0e09b44418d79df275b864a66b04be177ea8b392daa3a028fdc7a6f5f36f3011e2554a3b1160d53573931de8847e2210d4569758568b4c844b77f3a43bf3b5477bd64b6fc3b1144c67f2bc77c1dfc55f2aa2d73b62ab0e40eef3589fcd7589c833c217e8e59e9a79e5a80a61765aa4b1fefde42802294b1f22f7c403198d9e2fe55a7f2f160cb68f6a9ae520f0564504cb8398a6ccaf43f2611f72c88699207113ef0092d1f423ee3382b112e07aadfa081528842300c9c3915b33dd33db6c21e63975eb81dcc97d25f4b38a81b3218ab3ca4d9971a6ca2e396f890ea8332f1f33fafb19c3cfab31735f3a5f40428c94f416ea692543d33428198012f18894730a38d728daa1c0ad5e99679da63a32fde6214d6828f10aa48024e1215a076647a5ebe06a0394497d2518bdc9aba872b4bbdead02fbb4a4aaf5b681c0688de6b95ae9898dc10e0d3ead2d905d991971ceeac4bb9a38ab87c03e2cc401e74e1736edd047d6214112e9bf89ac60937c13569500daa55415f70ee1b6e82c35e5f22f234e846658705d73008c9ad4d335474fb99e074a54d9b366dd2393662b8dafecfc6b2d43cfccfe7198368ba9128667e07ceeeb68acc98692dd844ee7c0b4d91fb3fcb9565e5b5960e47dc84cf751f5d99493edcf7e3ed6bc14cce1e716df676869f73d44a2e884bd1a95c2f11635056194a828c0f2b22b4292d4117dcd50432f8bc51de0c4056bd8edb948b80f3b8a2518d097eb09ca9fc0b02346c860d91e709718a860467038cff9b26cced9326c38f40667201a2de1d9c9522f7ac2d715d2d5333e05ffb4a81c0b8bb0b1432bfad34d0dd5a22d8304253e9f0dc3e675a9b4d3029039b8f89571ed0daa9936447e52d3f3fac9077059dc1475eda7d1538f28af33f0aa4bbb54db28e0242136ea9dbdd037dd5e0ba565442147db282bcdb42f1af35b33b8ed39bde5265c60672a764687b84d82c2dfe706a4d7ec7f28a8d167d4d4992b736b4d16ecd85b25453b739a12cc7b5d23c4f14a620f712ee9794a804e8e1e2ff7c2dd730ba9a71a3ad4c106cb9b940ec03fbb9bd6a76694ddfc1f1f1c464a738e7225cde9017f77563567f59bd982d2e0dcca0d1a4fed4e520a8b75f8e7c647166f04f007d86b42cc851b0b04629321801799b85e5793da88987c408e60efee73b8ea96ff32f4780dbad10a7fc9e7eceea86f6a59da3cb4e98796dd782e6f05191f0f10b37fc8d598f74d8a5d6e661ed8983dec204174d0e1e6ea4e69fb01167135c24ae19069ae63a221928c05c7a7105cb9725592ff20063485530f7fc4594da2ce10caaad052f960c5cbe1c5b70fc3173eac9d3547ac72097b18427417fc3c6eddf0c01a4615cd270fb89d4b6017cab9c9bfef9ed1a30030b1c66471f4c544a94408ccb8ed35a7cbfb1af392b80489ef0aa358c6c950c6b9c4e9232201d5184ad6ed06494bc372f445ea5b941a08bb74bd58b3c5c1c6653c6a98eadd1a896b4e050a5785f6658bd7da81d6ad662813f260a49206f45bd18fdc2bd659b777666a2e7b95bf66fa74cb36bf6c1872ecb88926f83bf646a6de7ea5389ca3fb88ad02f142e74c39499bde9acd09d947a5a22a392d98eabb423f5e988cd031fdfe86503e13c53b9f368e8c6b71cdb9504ca92ffe68e22adf3acf1d4d8ff6482c78f07b7e07b911ed550be5f65f946fdcccb871bb8ee3322d9d24cbbbafcb23fa3ca7cf536a51aa32b1292194c698aa8a642086258f1e76a7bbdbb05b78df3fc1c4bee736a1d473fe71756c5fefb908faf8c7637a7e8a98600ccf6e29d27ddb7fd85336434ade63b1c84c53ab61038143af6aba3c7eae30d48815fbff6e0936d7f49753e54de70d4e272d90001519fc5e9d207f327843d7f17a6f57833d5e92f9f651006e0d3fd93045327111a3962decff8494cd83d7495bfe3ae8a339d09ad0c4cda31bc68a3b208482113d1bd16599481b196d9b5e557fcb84c959ea18b07bf82a9b3f2c995100ce9067364771bc96b8fabf94fb6d0c18e4d8a4d54dcba5f177b0b6fecbf99fbf7021dfd43c768ee17a9b9a5d21a7efc04e5ae992c9426a9c9437fa85a327f3249630f25c550380dba6a8803d91fa1d7ba0d0995c8280e5a7d058b25cd3e92768b2e7cb6666ad334de60b020de635728fc8a81d18d48e206a9acda505bd92ba423df43ddfee5381683d4671277ef897d23835319814f156c1f16c985d2d9f613bc26556143902b5cd3da96cca5385df320c08b1749058ba3bf255146a85f8a5b089257ca00dcfd7f6a3d97b7224922a87d5ba33221b2ab8379d752a7eb3066af4511f56fe67fc4f89170abff23a50ee2784ef1a81a12611aef60b91125254affd68aa70e655d0bbb3a3d35554c15e831f8e7dc4431b4462abba886b461a27ca31b7a81b38132fef63fb24d5e6dd34be8ffbf1d8dacda45ec311fcb5288a226c722444dba0eb603878f6fdc1644fd3210a8642bf697c3f710d7aa5a486a76ea5ad3d2089adc06040b2128257443723e536a998c38fc36c6f4c1e46d556c568be27c41e4c9f4f07eaff24d74d41b8c314c21bd4816e67114c8b3e23e91e34546290a6e054c5ffe2045fab068d1cb7bbf4450cd02a2accc9c5ff37c0fd09d88f95b80fc5f0c8f47c860d2d5357d01d32d6046701db9f5d91ed0a22516d0511a7f1b2ecb589b4e87a303919829ce23c077012950462a855b6d5201914b7df707dd4c48c052ee8e19664dc887b3ba57cf82f481c2cbcd3a966b9ea78f7079322bf3a5abf40bd58cd4b3d2aed4a9a0538b074045dba902ed9fb7e5f2afd23c7ede5c97a5f0d91e1fd843c208e90f338d1a0d1e795ab5c8d580e0111864ec7a44234da8a3f40b1c398cdd7be04b72f0034660fea90d26b65e7e78ba42ef3bf1c5ef604462736722e20312f734251c759f4fbd21c89427e16ee2740aac1eb84a533f814c9d82970e191e661f1dc2f6a22d6aafdee33700b6146a422bc6a01bde18e558d3e0a7cd2ce421735d09a28536126cfef6401df63f5b0f9953e7007a7b67556c8d4e83401287c24a0f34461bf560a34d3a121ee36aff91fe0efe0e0453ccece6ca18b5cf4ec607c8c685497c340270ba77c95c1f022b25ece65f8d66de229d452a163a062e84666c2808127f4fc19c219a24148001ce06efb1e18dadc1264513f62f77fb08bd78077b251865c238a6d155e75d59e3d503b08d7fe12114d96e3dfda7c2157cd928132b2417a4952d5a528eb281f0b13cfe2eca71732e4bd91fcb5a19ef9c903b3888098c8d3dfd5d27a702a35e43ecb5ded7e7d6280efb8fb0e49ad80017466b2b7537b759c2668da06a1aa2d88631cd3e42fa5d279a86187f5d316b93b9d014c41945553ef944126a323e4188bb37552ae22343999d97992aed6b5bbdd2e0a4c31ca508d9a95d8065be076b1dcc32113d10045117274dda683a68c0f5f6e4c2f52395b61e2a539bb7d354a18c0c25247910afde59f2ab65b7b33b7a27620aa6a87600d9197171045028f63e722343dc520d127881bf372484b88148c6451735cb9cd6c772b99d962e36e153aff4293059e3dd582f1014649d092c18825c33052f26e034607be8211e5839d1389e2b0c356cd38ec2bf1399bf64d61f95fb3c27e288ce7fa97428d8f7949a7f65e6d1dcdbd3cf65a00aa1f2bea1c118aa4be16764b408e249bc2b8346d8b1d21b4feef25e624bc1c9d261dd52e6866b84adc651abac73a42d7a79f941c6222f4f653e67aec9c25d17248c2f8208119fceb2a7573d01891e09cf90df19d5c3393f30ae75cf11fa797aa0609d6135b677dd8a339c2fc69d51fc9dda9cab99fadf67b97712bf8c226a1bdd606544a3c4aea670aa9a5999ea3912ab5647ddd58fdbf90cb091ca5c401d9cf0def045e9c6e605e0899d1385cc827a318a30eccfe919ff244491ef67e48dae014ab98e3126604bab1bd48bd7f219ff7735df5a05b0c5b19984b3072b4a2b0c676bb40f4d2f89e4b0b1aa081acb6430b1c15ad4990fd9a780a4fac1d73137afc986f8f294039aa5716e2700610520980bdcc6975c0178c7117e842066b13024375239ae8bcab6ad7e03cedb04c26959fd9d9a7ceee9d6daa9e70bc83fc07b286e3bd6f72c369c0abf532783e337c79662b68774ab0e13d6be6dd9b842ca3cd2f07ed91d8e8d70ec2394c85fc389ed16b19c5fb9bf413c0f6dd5af2e342b03e84439ce74d88b9eb1c4cbcf8bc1ccf0d03cae7fb36df141877a7cc95456bb75b0efb19aaa08351c2d5a7332f9fea93a027e8cb9225505f6e64285d638c05080bd1eac674c1f6ba673d019498dda02dcbce8dee17c6a4dcb7b40b099e197d9ccdcb9b13daeef85357e72a7c4f443eb57af84da8b305ad1e5dd8056b98de85fdcc92c9b54529f546c870e9cbb7443b319c71b58d3193b95aed7c80079fa885cc8bf550d4001e4ea97e8cb416ea6cf9c98bc2c05ff0c2e61880f4c4159189e564f1125cbff53384902201913b2338bcf5598e4fe5c49361dcee5ca8bd5e5154da9a73aa93066997cc9f86e7a710047d9d2c82562e13fe667532feea573225baab96ef842ede7ced00620516ff51b2347e2b14cb66c93f69fff1206e12f6cc11ede67292bd7b9a3619bd69ec056d3c663c0a1829d7152da0da21b28397bb97573d9ff60fccc4e0030fcb2b9d5e93993061c178c94c8def6e6d295698873f7814859cf46d233cb83cd8bee8e0a367495c6d6cf52a30018e29ac2947d1ac1527e6c8a4c24df0af55c606306eb593786f881615104dbd14d6cea29cf64f5a8e6b53f904714e8de04eeae945f4edec6ac3218551fce3056fbd4ba85b110f6ce03057b818d3a0fa38e48e6bb45393a0155266f3937a588a713be97a82cf569722451d7306da4c9542cc0c3d37919f0b48f69a3206ff05ca1a839ef2729841736ee87e9700d31d713b2840f87458fce728e5e948f63675348191867e2fc68205d4cdfafc1dfd90013ab693cccd06d1f36e43e7aa4e1ffb8a60846905054051a879379ce8a9e50d064a961f3e808ee4a3f154e568e7b526a33c20652f1292ef70b5a6c821a8d2fea91069f1e550e5c8a80900090ebc96a37b5ae3ebc0b61f540b289103ca3e1321df90c66354bb20abae144d48fe5fb5a07581fffc8703ac30c3b6fe5548669df78dca7702c408f20625c375b85f769ca114d3ee1df3873015ec93911e1149c7b814e80beba284b828a91d843437912529962773936163dbf3dfe9c54ff8a7371b767657c19b28ae112c931aaa646b31416162cdec59bcfbca353905f612a439a4f3589867d65ec45d9fdf0a5e5188fda30b0f2395ce868672f13969652448d1a568a751d2acd21397f9886876027095ddb5813dcceca58411c19a42a76f18880144ed98a6a5f0576cda2c32300a90e20878cf0398fec72d0e6f829b3a6ab1518739074a12c68169b1f82a240beef14a18e0dd18a25774db889a4cd34e9345f5d7bc00e16fcb23c14bf204533513e675f82cceff56262c68483fb243fb2068b3b697b2642d4592a83ade009577275a2004750b7b8d4c2069cd0c4cdc4c5f1309aaa28dae8a0d138c4a27a8777eafbe7a502e96ae2b15eb551a57b56d2d9ccd2c2a69eaa4f09067a7024e067b54acd415002bdd1a7bbb5f2c5aa0b635c5e98d4cba10a110af0233d938f0817ef800d3098077e8804d60806262f7f8abaae50cb36aeb8279a9905a6e21427a5dc55400651509b4c5f624600fa5f859e89921b021e39cf8f4d37a9358b3e7dd897dd468042e551a4ae4c7c7d647b7d15494762c2372a964379d7b40f6a4c92ced0a3d6d711e58d3d818a68dde8f7248a7dda7a06f70df36c673c465e9f8b7d8738481ea40aede7976b9241bfc754dba89a3a91ac6ca04933c0ef10a26b3a2a263cf3228dc4d3d39ef832661f2001329b01819e1d2408d917d54131e3db854af79f778d2596b9ab0c7048e72d2deea147a414851a50b14c0606bc692b387aa029b54ed29f012ad42c24afcf866fafaa8113d840868d4ffaacd96eebf692cbdf07d1a09adefe87325e1b84ad68beb6d923581d386942bbefe7492eef4b5720ed895b1584e172dd9554a289fc88222ff865aef74f0c23df257d7074d1443e85b104fa7c1ed53edf26cc78ef9649f756231df40fb2b867b75a8d0765ea7d0aa9e19be6ad6001fc7577f6ecaf9588000cd0bbb0841c487d3821637207493be51a33dd07c4dca280d2b346c787c4f9c07b719d3a71c24a88621aa00ca9f65204315f551677f41b8dc169d7e6f2fd49d4c1c00e060119ba1ff9257b0b52b8cea4a22fb24e8cf5b25f695e64b416f180470de28ccebd961e49205501ee5839545c741ff683935754f675632a6bf8dd1b75c4737d0016d75495d247bc5072adc726706d9cbe6ea0d01fa2162420c7710fd4dc09c9e6f10bef40c366648324b5d99c19ff5d2e966690bea0585cc36bd09a1819bf48a5f5bb5bba5c526adc765d7d8d1e494ce0c748c5c6f0c7b34ab67ab1eb5fd237eaf2d9340d1201098719ec91ffa323b865e20eab6c4422c8f52291337b54895f030b83c0c9a3919d1c47e1b9ac15af9371493173d17b084ebd84774bf0c3d55abd48e385e0f3ee184e25e370a259e03e6eb7c833be01875e4fa1700ec736902a009c0b033ce883e6bb9c4707c28582e253d3ac95639e51fb5f367196235310577536841d92d9dea4495f30dc1fb428fd569469576865b4750011f9bb60be9b070efb7135fbd765ea6a37f52dbfeaeb24825fb74d622d0dfb518ca45bd2131cfc2b7fababc673d3947a947608a4d07e73ec830d543bff76adf8cf393d3e154982eecdb18e3f6087543e8f271c8f5e3ec7df4159018d81330892301a7c86e079cec8cabdb545b4c5e1887ba800aca1d809990c20b69e1e5169c6bc6a2bd048d8c86c9029aaf95deef6e5bed25a990181a4c58a0ac77fffe0fa6a32030fd83812de6c2644c6e91aacb6ef2c8c1b558d915d01225c96e16957acc1c98a98cba392bfe660e78c8272efd60049bf1c5d1a36d4cef3fe33b9c4116f92587c51a6af9e56288d7801933dff8f14a0b6ce896b2899e9457442ba05fbb5dc70b7b4c3d2a200137442bbf49ce2e397914b6f3eec01fc1f86f1897683f3c1df2fa2a6524bca62359c99e6017eb2f7e643969481ee3bfc7864bfb4683bfe37ddb5fa851a8777d83b708b1aafc82fa45cf607a5757af1ae3c98d70c68ede71a5356e122a69c391847de3b76413dc739e5a8bcc47c7d31f05e63fc52a02fce8ffd8068ea7e0d1b63b3385569baa4ddcf73af89dfcab80b8c33329be51e57cd302fadc999155c9132cf8c9b3d2f8eceb8cc81d4bd78d34a599f27e1d279b3f116cbee4b574670bbf604c9d06ff8b4237799f1a08a4a6aa0707699475605d3b76d60c83131b8b0d0b1632a7ab48b0bf0df30fc575658f85f5be7b9390f9595f216dc5948b4cbe69d4882b7051571ea633b79dca765a2011176e63ffd479700ef93b9e662545709ebbd5848e848b052544488e6937fc1c0a6c911fe45a68cabb42ea9a09f2584483b2336d6d206bb70aa749b81e216cc86094a8245bb4721e6a84825440fb8362b73eeb0b715a89233353344d6a04dd672b5f4b0754ad538d2f3f425ec0f5d5353a08cec10cf34ceea24975c7fcd3b3c16f670c6856a4c67f0bd3bdd71dfe05d824f2ebe2c2f930f73ce5ab3d807d53bf03e82a4aa28dbc2dc2a4e3f95c8909c4dcbe4b1fb2ecb83a6a17f6aa432d52346fbab0ca19d372fe17c2a12846a8b51116b7792aa37d1494d68fb43dfe3d57c546c989e362254dc65b0c86c02ee8aae9160ed23b9e7e5b35e3c2098c25a0e998144757b8c96fdd9a01445b1f9513d356e178806453049cd9fb6b9d74ded906aee45288972be41ff5d247dec7bbf896641f10558f3e1d049ee12956c605f498f88a94bd11996afc7be5d626a2d8991b5bcccbdd393f44aba593ee734c187988d7de84a35cbb6438212dfb1cbc5ce3ea5019e9aa2007e76abaa1372ab6c0a3d9d5cb35c56182e05475db5c398d7dc3b1629daeae39aaacdb02d2ffe3a9d9abe91da26e04e45bb2086c51cd5b8d92e7d265dc2e44484450bd0e0a30b0914ae152d15c7b1370d3b49504e1940fa41ab32322198edede1145d292faf7027268e23715235cf2447c63ce604ce4107f511d9ef28097ca6ef7934c1d038bcf546a5415c95ef8a6f2c7e925596f23fff216db0ebf33ac62b6b452d4f5cb4f14e89ecad201fb26f00e78f868cccff2f0f29272e3c9809e69815363554f9454cd9e3b290b77e5e18e84c7ea44aadb04d21b336045736973306c6f4cf9c9671d16101209f9e40a39b163578df3ca855746d19b28aa8813f509ec7bd4f64bc44cd33ee502ec86db1432c5924a25c86e81cfdb0505d4966b5b90a4556917ddd0977eba5277528f91319168d28d59ec519269c7f0e6e826cb1b025bf9c89bc6f8738531f5e4f8e4754c9b6d213dde6020ea122a55eab1910ea819ab1c3f9cf0e56b368b9e465bc82c2b7d8bc730c214e2e5c47953ca885dc996f88282d728ac918daf0e397346d87397e9dbe18784410604300b744e205d146020beb4853e5a1959370993478bcf3f33cd9ee425574d8576d0e6538bbcbe6a520a0a8466ebf1ded68af9246d839a6a4e0ad3976e90f3134abc2580afd311919383d40e4ad58bbeb78b91dbf72f19820c4d4169199a920d81e46ab17b989d3017cb6bc460c1d1c4e72672e185209b90d07186b20a2351d9b82b88dd037696eddd6a3c19f0c29e5857a5d878b25d9bd3005cda5ce731b007f406bdc1672151e6bd39b8e546a87ed50e91a3dfa1f83c3ebffdc5ce99c45f74f2e88d3c13ff410fc675d8d6e875f7c037a4a1869309e2e9f7b18e48fade901b762ccb6d65ec37543ab51aebda45508b6e20d2a98f3b0ba47ea1eb2c935da124c28539dc4644575862d69f37641693afd3fe3dbf1b04d5ef9ff7a016963c5f3fabdf65b3ecef9707cca2ab7c0f1979f4ba18277f49c3ac47ee9daf94099a29f5d13910bb3368118cad5196b07d3e7ce3e624ad2fdf85dc4e45752f7b24c15ed2324e16ca5ef861cc0af428ae6cb546268f6c74ec11687c93bd92681aa817f81d0f97211987badc3a36c1b1528067d65eb87251c019c354b063063a73b8464407ed583ce4fc5cf7bdc18de56e3c6f0acff64f945f0ed03b079f0689f5c921b556e5ab35da5ec9c58d45f4f78097b1fd2c905addede576c4f21c3a94f730de1762c071178f7135b913ab57c1e1e690aa0f9602d25027eaf4bd2b8a3f76545b5567e31073a0057af31bac29494bfe5d5a4f1be248dc2135a5b7de9b73291151a7c230574d1a6df69ff83fb4fb352f6c180ca5d2ca6d8ca7360ba8f8e6aa978a3439fe6385d59effb3358b5cee756487c638007103ba34354df90da996064cac1a60fe48686a78021e3bd8a1a65a01f0f5712df5c495011c35c7ff408b20924dcb9911cffc3cdeeb81c4b2d8481f0ac3aad4d07e5f91aa3d4c1261f4b67164864d1ae7c8d670bbeba1a732e233ca3b974a4147394225f6ce3f58edc7534688e61e807137ff338d6251f00142507a4934c2f6403c230f0ca9323b6ed5a4a3b06246016c95788b8f5984d1510d5c7cf935349a339578c4ec13ca80f070fc7902679c3b6c301472f41f92a7d2c854d0a91a137d95107e05a66248282f58b755946d5d5bae80f168d7080656e5fb495b4278f3e5b63a09c3ab4ebdcdce3137fda16552b9a18e8cde47e27384c646609cfe0af45d4428a1d3c0758ed3fe75e4d9be8f2a333254c7adadb013dbee9845724f63e985a49b979b148a0f19b1cc35ad0a475236189fa3ff6ef6c804a5d13ed5ab93a5a395f1ee723a2c10343f4ac6fcf36b731743507c57e81f3b942d58fc26bdf13c256280e2fb209b00720fd831681c67b7b17307c4a863587db5815a0905465fd689dbeb65ba306b4c3f4890a6ad67596850a257ce2f4682424d7696103b54aee0edb8d64050a501fdc0f435e2438a29fd2b03d62eff4e0aae7a48f33eb731f35ebaeb5ad852329f61d7c79e0e4c4673aef0d11eda7e4f25e80a5b1407afb8270df2bc69bfd9dd16571ea77bf8e73cebe607475dc3d579a059ac4508009bdd7d3304be9090813f1072a5eee2e50fa197ef2194082d9aeffe82978c528c1ba490f868fbc1bb0d3af45a87d8b509d48a4ebfb3222ef4da4ce7c336462166caaa488279843ce945c917367c3d23cb356729331326a50634f0f4c3978506e49aa040852d494801144c9de262c600f564171a2a8b8ae58c37027959eaf6d4d4a10543a4f91727002780109a50c77ce35ab9549b98c400a3e49bb8b658c9d32ecdd5f93b0903f6b52cb160fe758e5861d691fae254f78b46419a3681d9bc50427b9c84ac19828e743b52e4e7c639662be6b9d57b6dc1a684d1f0a003a0f0a157f6fe41b051041f9f9368012786ef480213232357b7535b724eedcf04ee046bf946851d3ae8f565d04be3d4238a587d0cacc94d67dea63368c5ec829c7d886fee1ec5e103b2a1eec3f56eda23485ef4bb5146e050e0b5eb14fc702a02e25d0aae2db7bf1b5f951f9f67b737c99311aa63a7fa4f32d7f7b4092f06ab17d958f045094b04c6f291af4dea48166c5d1870f8e7c82e2ef5d8618d4c4b7ac055497909f633be144877df3fd41b2e82188583b7d0ddab6ba6408ec1e0082687f4530fceb6ed9b0455212c98a24c5f99659b0a7526e7dc834c705d628476f512aae2c92a3697303a66c1e53e541b2a3a59aa1601605934c32283b045fbe136e05548870f90bd03ee8dc3646ba54c527b44e122b7b26382c727137e601e26f1d31f07563c679763fa9b9525d20693d72752092214382b5b33a8fb27702af289aff98d35c332c71bee9bea32665ba1f5eeb0e1660507aee9a3767949938eb6e49cbcd9b36b0443db75491ad7f053c583110be2f7d35352825ad66a4da6760d6ac81d9041d48894c80e36fee8371c1f94135e07290164713fa8c94e79bf1c4601e27223a3ec4eccc318095afbef2e5d3121e0597ea748ac6560b7f22e7f5bf25d6164ccc34ebef9a1e8e391de5a62f75fc2d7c49acbac53523b60949db82db4e137c80a26e419df361ffc0a582bec32187c72888525ac3a2b3dd1d74a974aa893b04e22d7031f7d6d7907edb98910b36fc065a780ca15db44e0ca1c23a2fbe4b00983813577245230dfe7bbd21fa44eaa23abd6caf9596607929b8f073a8c3ea6af81593f2a931acbeb7fec4e3e985d7ed532702f373428b1989f8865192fdbb8ee74d6cb89693e7d7a3ddaafc292c4354aa32f8a057eecc2bb3e69a4d3a36446a58793c914e1ef2cb6cc5d8c3000d7e463dfcd22e202a5c817ab9bf25b6cdafe3309005b3af26d2a45e83a4a3d56bccb68eacb6551fe41bbd86aea0f12da5d134f278578fec5f6a61848bbc46ad1ac20a658e77682922b50aae54f1e7141ffe3203948f048d72c57e1a049f3a649c7c22dd646bf713d9f495b492ddbde6bbbe675b10d470359421548b1601d14ad46585a19a79b58ec91c4e92e3737d2afe52142b98259307ae1340f1725106caef45273c142a83339fefb6b233a12ff68b2089d512e790b77a300a4838caafeaff497d7396ba87ba01f193dac9a5f09f6ae913cf72c2db6a0a7562195087457db0532440bedfa125e56f05517ca77d9ef7db903df1043c9223bbc457614f0826f36a4e96b53cadbbcecac9ecf884833a697de1b19ade26ec1e0ab4bb7dffe5277c4e396ca9cd6aa70e1d34bfa431534eca95061b323e3a29585e735ff3516af5e6098d29aae5afdc3b6c9abcbb50420cf4b1f27dcf6f784838c74315b424f7a37578ef06ce9b803530c87b88ff07f04280dd889d7fab644ff932e31e363b9954a5eafdce875d53529762a37b35ae45f450c6376183e21ce121acd1aa794d9a8ef9d0d649cda6e40f0877ea04553d4af142188c2bafcec3946a33cd4d487df4f7758cec81a2775f1d82cc64f00631bce2f357e7a964591820b3a4b547ea2b2ddfc994c2f05535755a0b39103ee95c41d4c6c1d19ed3bdab169f4882c895530209c9f2f5c7c32762fda1163e355b54e1cfa6237249a7735d521470f057b4cf51474a113c5d84938ca54993ed5f8f399a709f5915858fedb20da92991e7474f4ee3ef7684e7cb54a57b4c1c0f54bc272d4f2adaf395ed3597af63c7fd92abd1fe14dced550dd957190dfa429b21db39bf86274386006c911b4af471acb68e0fcc55a883571e70999f6f85f869a83ae8e9561df9fca981c00ecfd74bb4d58d2c3263eaf7454e13d6e333a4a0048e7aa94edf550d9c2e412bccfbed36c13f30458100f65235c47b6f8cecf840430ec10483dbac33b49651b961a7071b951d340816a757afac84222efd360f939eabff115e68c9d711e1322c7fb5e99bd15face7568d463f9630f6b4b00951c7495132809920ee975906c98a793bf042adab0b83c0452db20c920aaab0e60f176a7f75f7ff0fbc04a607ba3fe61bb0c86a4d001eec737bbefdb115d98ee7d231a7302e69fcbda75002076f759366d1239b9446cfc67cf6a6646a335ff87c3cab013fd193bbd7150786ba959edb482a0eb544e73f0535a40da0f8b33e1fad15c57a7921dc7ce30f0cefba11070be17495e879f1760ce45037704060a51fef7b457ff707a129fa75c5d44a0b79bea92da117c77036e4fb03a7a1cccc3d4304df8b96b13ba28e12451f5d664d78770e3d61f78c494abce5426e1e8970cdffc83e83b191f00134c3963724ad7c4a78b0977c7b23a2793aef432d4b3d38533752487f29dcef9b6e0c87516b3ef38c2ac684beeba772961b5006e2ac36ecedb50b2c4f6aa2151fa7085cf78cdb219b0a6329fc6e0eff6545dc0fb57644f1f68bac6f85a4435a0710345bcf6c8abb3efbca7608dbebc60ee8bcbdcb5b352297707062de2bdc51cfc9655130e69c4eca142eaf42046a4ee948f57fc28aab6268e34b0773edcd2cecb9bbb2602066db4a03efe11cecf5fb8c63a2cdf1d2df1b46fe3e2dfb41885d03143e3cc43ff930da57fc15a25c53576cd9833ca8e12eff68b595eee1bd77d608acaed320f81d03d104b41fa43ba43af8797a8fe25e6991e43e5e82f5e830991c8ce5342bd5c4c56deff0214839e50b5737e1f7779595df6f967b0ac71a4ca3dceed925ade7157a12f08e7e2641d798a26b2a949453645f06db9daa3f34c5e2ebb75b6d6b5728da17f662bc5a590e4a3e18c47380b41a2f1828e62ac294513fed41c1f27d765729c0b4f283d2ac1fbb07792d819afeaa31fb192f5d2cf2b1f9e43f90c5ccb6f7f93be73188f10fe4b922d3fe03d9a754525b3fef1ca4ae67b403a2ad1df1fe441f40148faa6d8e3affb0895511dea0bf60e446ca3e91489c0c0bc8ad22101d8ffcf15f49308ba469c8cccb6f5b25cdb80949e0ee9d776c121ed478d7f5cce61587b638fca44102c3ade00b7578b7bf14eca3341cc91caa7a0524eefd532dd532ec01170e8ff004fc008f94293d6de1fc5631a4ca40ea3b776a826fab01c617971824089b4e15f0586f9e9d8bba0cd35f1522a4ae12c02e49a7848e7a89425cf0126e9ea1db392b1ed990c2028a313437a6ce967413a6e7ddadd8879f5c78e5b169c7e294f80a516dfad1bec4dc9e69f40e6828effd0ac3ddf4bf91750554dc77c83558549ba7e2ada65f87c60a16c2cfe416abfbfc96fd4e3b5cb5e85771831ac9ed38641675690eff0ec2256e415c5eca41ec755847b5b1d7352cbaf9c0643c28eedd82a7059763cbd50e3a880faf9eabd623fe73e62afb96f14ceb8e58b0deacca949a3ea7c60ae4e5c0fb25a9ce92ee26948de4effbb80f6b42f9221d4cad00d1c293d6880a4d8c8a02f66c3f0579639a8d207a30a8b678f7822f17fa9a4307f9bbc9571b6c2928aa24acf4b986cd59e129bc8e7bfec704ba08b0cf16fdf712958453b2d1cda6556f1541d2bd42a291c157766672e06b477e865e6965995c42ec12bfac22e6fe77fdba210b9018ac07c42dd6d7a03f5d8a424bb65b1ada6c0e3e76eca6e6eead3ea9d1564c7cf7d236343542c0da212370983f64bd5ec19e7fd739c8fdb24eb8064903e8aa8db2b83648cf97e235704ee055ca977adfeddc36d05cb5c4babfd9f7b82c85af30af0d22330b8c9bbdb1f76","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
