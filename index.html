<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c2b38a217d980478bd1f89afbc6fd7e4003fb0919c19644051d7de089277b9b185bfecd3caec83d68e9b93dacef7bb82eb8c3059f5d81360cef956b9f49c6db6fb8312d4e921659bf033b8189cb507fe3e2687a866d75a7dc68830336a71b88361e99d5ede9895de625494862852b8632d6774f61ecbe1e54a7e183ba719710c47819e2ec7204b314368548332b8f77467f763ab2adde3df24aceb7235e17c2940272d9ec8948798d722b29d20d8f535a9f98302d928dfe2030fbc1e29c6bd4e3c03108d2b14a63107760cebd38ad9e166c482df3618422f4f1e07d7ef66efb009bea69dab76a785aa6cac29f0b80b8f1e3d3ce408a457490240f85a5298397926bf5bc77391579715651695b33cbc7c731b8f4b35309e3310abc128a7bc72038aedb58df373f9bb2268d39a598ece4cb417accc28bfbf9ca4ed2d99f8e9ccd1a5509d47c864c76a6b4c465afe92d80bf49188cef844e361a2941f460136dbd00da686083cd75a9f71d8b9fa9e90ec04d13075a80db76aaaee93e2894f84871153fa281e4b7c581cfd3f89730fc78cf948de3e5e6b8655ba0dcebc15fbd0e377751268626bebdac8498b21cfbdf343a25933dda640c7381b868e741e3d43323ef855454df1f24db8e606caa9ae1e6dcdf3816a5035fddd62fe639929ea84630e5bd316440bb51314bd9980d40b83f67fe989a26fa323b5515ff7caa3b64292da76d2cb332e6fdd250cf195bd0c105b8c4a2bf8c2d560ffbbeca36b476d7bef8bafcb7ac6dd6a470e2824d1e79020518458b7f2d973ae4c66c5c71cb6b02cd791e607e9ed012e75323164f919eef6a0128af132eb88084caa8b14f64e419f272b4b010783f62ed1b3fd06cbd6d38cc0d3230150d791a7c2011e8a4c8b555653cae5835bcfb481fbb3d96630d1f1ef96759c5f73206b8ff74857a76b80b08360abb4022ecbfa8cd3e36eb787a2174dfbf03e7b25efe51b91ddf8651bfc6f3741cf64f8784ec8dd24774436818a4851c5d1adf56d17a83ce6ec02090741f4a24a95c7557199cae5fa8cc9ac5f68ff9ebee12d4c4cb70723ecaf1f504e7becf702805351ce0ee8092021684936ebdd449b59331c8144622ca78909aca57bb65f8f1aa631df3b1db29498db3eb8a54d796f475489668632106c27517ad3eb0a7ffac41489c41210a0c3090f211653116a09ed6da2838f7ab2c7038c279967052143ac39801a79a1056151722f69c011d5319d846c1ad39504e772eecf410676c9d173ab165d551ecc7e6a8f24803c8ac4d5811b355e6263fe80b51f8ac251a575844216bf48137f9324446f1223d105066d0216ca19eca6e57ba3f8378019f93c1cbe93ad369f99cc8ce3f2d29864065da9f0c819010c40c356b77f1a322c65417366c7a9caf14ed8f6e34d4dad73ccbde4d9f9dc1a242d8eb8f59a4da781f52b4e3a30e98845134b5f35c1c9ebde6a987b6956e6fbd0d492739cb4d80b3f5d59825c84597aee3f1d7384acb66c41a87213bb001bd1da34d66a0768c1240e954fcad96dac74d78b52468d2992a5cc81e3cb24c4b8eaba38281eb92efdd12ad3276c5d157541004aa99e60f265a1a3739f9564dd958b6a289de45685e0d303df1933a9eb4e09f9680e209348c63af490c795d574f1543e6e82d0b36d5702e9609267b9567b1c5f2068aa9e1c3a84a33ceeddfd7b634baa721fb7b30f4f1be5678a3f064c897e5c3a9d8acac020eea07948fb94003ca1ad96afe0ecdf81f6993422c36718b38e4d680f5307e800e230f57cb38f8091163a415506d8a431f94520c51d34bbea7ee13367f7506fdcd50da4f3389e4b8822c6d3200df4105ec020caa87969b1708214892c47a4f5350ae8f6eea3102de9f99b1bf33ba58b7d858c7b05715fe0cd4221f2c661878ee77fd3f09dbe8a727dfb3f599c18d52fd8838a52f07ed5e156e000103a8bbc6e197df371c66bc823c2aa3da752d6b14e033fab69bd208b6573e95b6b477e657c2ef305798a567310a80d140390b51899c28dd7e7af7025cfc49a535ea856a1a8d3b6fcfe17d4a4f860095573902c1ffa89f42218b0d369cf4525109f72b2eef82d4ccf90b333731c71e3ff0f78c13ad349485f22783390da6bb67c640ce8aa26d5cfd924ad1c4a0014616cc3d5607406dbb24b9d029acc3c93efd172eb5bc74ac3aeaf48514fa48706435fffcc05571ef4c72e01933bfcf119ac715a8128f132d795364fe39c0c0e539657e531d3251ace36558bb92dc3ecff2f6df9147bd9a2c1deb7fa4cd4e6607d0617e87379beaad50abe08aae9839000e9176b9f405adcd80c3694477c7a9d10853a53d9986453b5c409e6050d5b381a3cd7833b599e99b2de4882663429215b7d06b99ae2fbcfcc2cbc4f5d3a2ae9da478c3e217846b54e7daa39b1b29f0cc0a7c640c863c76061020a5dfbbcf18f83b423c258891d82001e5a991a9ef212d0cb160d350056e19dbf8a34737aad6619a8bcfed76a6dc58bd3cdde36bc73712c7e41ccd9e4ced168bd2263f8face7e3c897dd32cc55d6ecb6d75da97b78f3a80502cbbbefe9fdc77deb9bf275522b578458948217ee685817affa5ce92f2e2e0611db930e265f548ca884fb03619216de14496968d579f8240fa47a586e736dd0a3d3840210c3c9235069d6699488ab84e7835d4430391fea061b42bbce2102a8dfee9a185838a1efb91380defcb4fa342f742895a1f3ab2c13260153ded42512aa1bb8132e0ad59ee4e181c2cccb333f51ce7599ba00ac498a00b8aa0859d8cc087a52845f68ec2c067e679666f8d33fc6bac281ee67f9547cedc54f1d77ad0743d4104e6a91238f9474e15fd19c21ff474efc6576bdd7f8718451db6497ce462f90b58e1e02913ade79d0a703a01b4b4e197f9448feb32cafae778e5687b6db5bd4e2db2c7bd1d7fe3dbe19f0d318c515ddf3a2076898a3d4907bb587f6d4a5aefcedf2d66d9c8f5b51a5acdd8bc775b7b542022414e2e3c74539477e91fc6685f530a2f33d6da2b34675ad81dca8d8931b6fadc93dfacf4fced664c7a55aafb093c54efcdf07eb7d8d112ef553966cc376b78279e4dd9df9887038a9de5fead4e08592f88036026cd588ae5252f547841c389c02397533666ae562586c16b0724ef092fca6bbe4f213425ebd83c878ff098df4e5e231dd5b34a334d53a0e755fd46d5bc89b0073b780d8ae1fe91c51ca3e527c4b9c339004bbeae263d3db4c917f3983be3dc1c8500a6565dd2f880116decad4186b711af822a985e54e0e2ae9977e8d05da450b0b91a26a5fabbd5f46711346f9cc39bb22616cc81a9d75fd2141e5dcf5479f6a1fbaac82f6ba5282e2f41f0ac2b5a370389299abaf6735f26517f3c2370938da52d064a9a4f701acbe8458e93997d88936fde486af9b8f7d88be65f470f649255428e27d3ea83398a9f9852d47e9d3d1a187c4f5434903e0eedb1a4d402da22533e173f9019cedbb777c8a761ec0794de9f42b6c8fa5d5be6c1f10493b00f45ef2b1544da03e54b1b2cc209087664ca3ab82e8c88624a180030e56d59ce1f7abcf5e8d69378f737204e82e398f9f1768609a05f0ef5745ee9fdeaf81f564f900afc14ee9b6d274d648294f78abb3f504694370e28d55477058b455acbe6ea49b7492a27ca6e71f256dae55847f5f1bffee78fdda40aa2c0632208a37bac8a8097bf314a9d67bfa5f3f89683ae47a0c22d41a6ecb1d5941ac26f243cddfb3072a1fe869d7854d59b66d873d7a4920ca0bae252f206de892913deea91233d37a18d0736fcbe71b1aaa7c14e3bfd74143c5f66ceb13ebb1b20fc9bb02d64b6303038f547382c99825024fc3b247772469892c63d0663796894fed7831593566c091260aaa6c012c40141e48d587d8ecd6648b75056aa8047a01447e7c0b42bab34dd1ca7331d29005b1f52d5a8fb5fc964ae584a3f93cd94c33df13f9cb10db6084eca86b4bd1d891121892c4355a08bb4126561a4ec6eef7a4224b12e2b41625fd059772f1cdcfae56ca50b6b089e4d424e9c54ecc0a4063f705a0543dbd74ece4a68604ef8d39c109f2e6bd48f8eb092a618c076264bfae35f6e2802f42c0888ed5029120cccafa2254d798067d4fa9d1ec4c145ef2f864f61e80e57bd5f5a882683e7247b323df308abb68f2c414cd2d16783e793d5d86edcba1f45c261d64aaa506ab900722754c25de1c1017fc5014415e72ab78dff98e2eadf573cb5bc4781e5c63238879fdf4437a65fb5e62e8595a207142e649fec5c58f6e43b7886f62a701360503a78c2de4b24eadbf1f7881f68059804d7c24d9ad791e4f388e096343cd12b65bb5b2a83956e01bb8b90d41a66ca00305531869a0850c6016af6863cec414d85f4d713f589d3ebdb89ce046cb9f83b76cebb033751602e2350cb6b0e2aa7eeeece4fa5b3f448ae157dcffc60101291890530af54600d48aa4b352a3b143fd9961c0c37569d77df7792aa9ce307bb5d56428f74148ae5aaedd8f5e12750130938c1ce18e5a372fff6a6cef08650cc2ff7f81830fe05bc2125e469fa36a1033c7b8f830431fcde23ab918a6df7f6dbc8ebf843bb4d62af525f8f30b405b1d7ec56335a245be0ab493c4627f9009ff0d04635b18fb25f0b3bcbebbf7f23538a1892081ccd145059ea333c78cb88879a7ff5b4398676c74948e8ca8ab3ab0547661d5b18148750ad3b3509a9c7ed79cc81eee5c8090460c5f4e6c65ba47836f74e7a550f9f6762ce9d6042e847cbdbd0270750bd9f6800900be45169f6fd0577403f24ea5d21c1e65d9d768244e871a44f27c143bfb8bab195afdd89ed5a5e9e684e9032282eb037b2638f61f44a47f9850cefec4235f4d7012bbf3a348af0d198c432cd9369b4cbab4fd737498b215c6d13e8a83a61f5a6affc44d64a6f5906fcede71826b8f048a3f64a0c511ae9a50c15836697e4f971f1ca6129b4687fa1695d7d7d0cdad3eb6ce82936d6ce123ced10559945fe33c6ba14b55446aac802a4da77370c6bbcb970f123b24226f7bd91998fc43eafe9fe389646fa80825feec68609692da8689783cd69bf41f3147ac196ee2827274c73120d59ec7689fa5204fb6ee7fc6efadb7e86b4f18b350a1b071b052e8b2c522a674a0b6ddcd50ee69c1dbd46c206b447c24f48443cce52ea532b73ffd0a07f5141c31bafd233fcd532739549522bff730589eed3700869acd5661640c81f9d6d8a170bb63f15bc9ffbacdc58f6fa6dc100668b65dacd13e658ed6dfc0df919a8daa771ca84e57e3f0672962b67717dd25d68438071797503bffa29a1b461546a19f77ec573bba4580bc2937be9206cd769296855e65c1dcebbf4132e0b7435120539c365a24536b6131d90021144e7331eadd29dbfd33e97da33cbdbf344fbbc83261f5de3de3de8e532ff95f9d4082fe73b6bfa83a7765949cbe8715600c95b427f82fb5fbad9c6ad67485a0a0188415dc9baebd6352b780c652c385c34a39287c5beeada64f93154ba3cd201a20aade242ca6403a439bb377701bbc12c2712984020d2ecafa18ca33da78f009cd74feb8feb78ac6bda1b675093587d675f4c29e174ad1d6c8f7de2a518470c7289ea94e0991f72eb09fe4417094e7c37273ab860d18cc93f92a7c00de6bd61fe6adfd1ef4520550fd79beaed1503ece4989978b929a894076767fb2f21db23bd7cbaab69c2f7c809144f8dae9bcfe4afeaf4215b1a88077e75f91eb034b86722c9424551a9f2921ef084a5b638d453ed41e1f3a1559f804ad01b19878f593ddd22a65d5fb2bbac6d1f845c6803dfaf3d4ce4d046bab4e6ad618850c5a5606841ebd3c2f6726084dbf8fea49df8c658d5f7c9470dba35c51b3f06dbb718ef83c77151ca61f510b8af3224d58ffad4a2bfef5cd80b6db6119d1fc013f9f03b5def0db1fa1ab2162feb016ffa649e94906b5b4965504c4bb17eb198aa49d8146e1c4cc8430be9f67634e6b8ec77bd0abba9418b5c96a2054038191dc59595982066a2e83ce8f0b5eb50a0f764da2824baa958c03e5683a62a125349c81c586e322615398d1e01b4d076f47ab3722e4236c7f9ab11e4554f927671c3b67258261aca0053498e9748d3b4949f2ed735ff65c62cf72c99e6cbb92466d7e2d7e2f9fa3413b6a6baad8798fb515edefde978922199a03b4e2a759c0b7f73800063e238ff58a3d0880f8f7315d5cfb57dae26e63eea08609c89a463dd745a238f1d9170644a783aee8c2093770f53db440ac9f969e31936531d3660f81cdb449cf938e7d91c6befb0bfd7b590fd504f8cc0b3c3387d30d89884b0dbcf050e6b865e8be38fa96ded623b202c33487939f3a475cfffbbaf3ded7b93cfa56caf61a8d8cd52ce3f6b26c661c6daee0bf8ee6cc079dd3812c36524c7308702e488c4e6e4dddda0b2098b7f13cedfe0ff9bda2989615671a773a70ad45af376c69019d32899a0a185e2f2f16edb1321b3323effa302ba7462227b04d8af7bee0bcf0cc6064c7645d85c4a1c901db13bd968e2a01850b82a83915d1995a62cf37b724f26a89b93c029298ae1daf8a98431d4c9bf15b5ade82ee816614145344f216319522dcb130fa73b27bb103f7061b1f647ce11e1105d8ca0b3693f7ebd87e681b695fc24a8b82e2418c93dc32dc0693e105036d868bb16da8f24aefd6c77ddddd3a3da8781623bfd32f955460f38af7e2a4caaadd79c0efb1fd82150f967e0fce1637a9a4f85e22c628bdd5024ab55b4bad8e6086754c7cc31af0f13cd2cae87ccd21f352e1e4bf63957a883a5cab57de7b7c2df7ae22942fb33d871c2c2cca108260de931108a967a7703e0f3744876c222be4a0d3b51179215ce47c0081dbcd35b61a00dd0996b5865a8616f5ad3622eca2d45e86d460c465a3c7cd7617f185b07e452018243a47216c62e97e68e5743354ef962e579ec4a1cdea50e32bf5997ac6fa782a5703f08346a2e0e918808f34354559bd4d9f1901797a8dd3f50b4b70c510625644703185b0f17c5684fc0e434201a382c740b73d2ef3f53fd0d5082d72e76b24e8c0d3877a09a2ce942364e0952d228e5e1b4dbf89f6b1a1030b8381d149c39ab3da509196c2396dd6f06aed7a2e12a037e55ee02839e09e23adcfa9ae96fcfac7deea8ff0a2aa5ed7d29841840debeff51c0cdec259d1c469e4d80fa4a30a7314fdfe1ff31b8723219df449e57c72dfe76ba761b36bc0e0ecdd5dab4a5a98075a9bfb7fe95f3554ff299c4d287ae3b2967ac30fd21d7d94ef8e5c362e8ecbb988482eed3d93f47e347752cc5dffb3c80c7d54ecca9aab16a0231e9260d6d4afd724a628879b5058614b5be7d2ab8f0fd62bd9274d4bf820eeec8048a8b90ece0e1d7e0b1790d7f59681bda518f2875d9cf6c34dfc85c85e80391fd9e0386033fdddb53fda5f49af3a2a2b3e911dae76284a6ac98323723c138ffe86f2f83a035e1c929d9a51519cf8054ddbcb552e8807c5cf482b0a3e338f040da55711b627b86b8801f431b444d7e3b511a09fcd8a73b4ea55be1a2067568031448633764c03e84553d77628ecb696d2eec35ffe5228003bcbd7147161615bfc54c0746429d06ebff97cfd9c457d57142c62ab3ac8bff3194b45022f0b8103f3e05f1fdd7d0ad7689de5514d9ef7df779ed389d3c3bd7cc9f18a3226331539712891f3a3c73a9f9e651acf8031445331ff373435c5035fa42e200f7716fbe39c800d91a527de8deeb9d9f7f9967bc232dafcc964d0613461015596a642afcc57329df9c5277d434ae2e56e32382a7438b18c8e6c51244fcd7376675902ba081a21a3c3b4eb7a15f7e26e416d2ffba197708ce6fdba69817f364f7736d10172e8014fba41bccbed009fdc0bfad8e5e76a593b853e0cfc1d183afa814e122d0069aea9abbdd9a538bfe8a13a95015fd0244df8a0eb2fbfb4b566e42eef549cfc5af2c3ede3abba6aa126c03952e27a02a86ddff5a66731e326321b1a1345eebb33bdd134cf28766c11f0c4080530cc47970e7513753a1b58645b8f4ceb6880f7b28ec584b45d038e5ab8ed71b1faa1fa7c0407f97752ff4e06f52b7ecc6da8481bde25b53e5b19b153db57d8fd7d3526ab49dd1f570fce973da945888c79214202faa954816b718b88fa020d44bf72ef54c82544a7cd45bf58d610e44bf00ea9b72d4245dea7406ece50ae7761e761d3c6d4fa85251e6e86ed22634147c80aa0d9ee1d17b9d354c542d4fedeb439e53cc8fa5a99462a46f194056fb6c3608ea5a11b343460ea8b318a474f1c1637559a3a5d05f363e4797e65bbb3220f719b150a1fd43e9f66d60dc84b23bdf336d48a449c41e680c834362ae5ec63401c3d7e328acbc3a3aae6d7b292ec6e82477f85d6fdb86d5a503df5538c3264932f431f526f7d6c523108360f91e14fad76f82d752b2319fdfff1830604ed98195f5982567d644c0dbdea7096f3153cc0da895b1b04af2e9b83554ac1c13fe65b6ff8bb5e1adf2a868313b9545f48ec533b92af20e619c2d2322b316dc8a81ecff760f4f39b56eb14a0596356f57af042e4bb4b4c0802fa5090254b3bad4b12ab178aa7084626bc8246138e337a26f28c48d0b8f67d52d1b3bdf4b6cd52f11f538f21a137f150c1dcae76d2d9ef19de5bb96ebe5b6d4e1cd9fada38fd5049cd168132e928f4e216886ad007b9247ef2f75e543f4321033f281148beecc8e7180bd07b55d5692b575121aeb17056150fa43729868a5987f3f0dcccd9e52284adcf4a13558889949ebbdd9f571b171402711c0901b0a24d323db3a5dddef903b3cfa61a67bbdcee29a53b2735a1d03c25780601b820a37bd42b8f61dedcec148f6077f69444b2457dd9ad2af209a89969aa2c0dec41254ec9f6090f7b15c05c5934533fdd771f21cef8f0afb96e32888bce57e9b41feeb2f8acb499f9a602eb56153bdfc096817bfa4eb3c36dbf6f05642b813a912c4db5219e14f66a188a33a67ad4b79b728b9ea727c2d743cf0172812713d0d38868cff7399200fb41b2238a12a59490d66682c5c2d2ee8e73cf94d9c6b9104c49681526faa13f612fe7fe433e4ca42588e264b2e85dcf288f95ca85676c5d181236928ff1bf230966280aaa22b602d80a9ae16f0d98c1c62df9bfd15f9e35bff88e9f27a9c3272cb1b868d68f359564af28da18d2a4a215b003d42f97c5146f4bc1d14bcd82755d34636ee363f646c8097962dac13b1d9a370d3748a4a651e0e8725bac32a519963f20e29412b055b2c25bb860f12b74259c458e4bc20263f04d8373202098beac9b52681ba969160e74eed35a831bcffb26d40d0c69d3c1a4c1783a6a4fe7cb62898d85d8fb058ed7476214d7f64c336dfd648b5533c8b17ce8287b00e0bb3fdf0fb7e7b6a8831945b33e09160904c6926e5865fbd6b6581dc141eab5c71c8fc60bc24d12118010cfd22436e1dd3dbdd0c0d4b87eea76109d54bf69aa82a8acd46eec4c8f03bc6c5707998b5a0d0ec39476b772dfe8e483cb2c97819d78d2dae37bfc7f7c8b73364120ad1552d804a0909a1deea5f545e869365677e8ea9c2b852abdbd7d9942b2c732c0d7b625f673cf321e520bcb706407f161e35553349edf448474bca99f54a5d3ab60e826639e6113c78c6a0956e81be6302bb492d2e19e6cb1fd4cd78af2e10ab8cefd5d1cd4d8d4cfab2b6173721806911a1f37d9da3623c53bfdeb5d7023fac5a73d2f37027c9481210b945455c2d945d72723ad2605e2b795401158c265d6b7788ed0dc924c2bc000bb59f2395f03e13d74137a033121f5b9930dd09f915ed1b1e39c33585df4b53f4719e47f7a79b1a37c7347f16bc69fc399f5a46e1f411e9ff1f2e6c39f68afb0af819aed0b5ffb458ecc7cd692c391495f8a8a266adc74ff1b70518928d78e474aa7fc3fcb470fd66db84562da02eb4f33e853d2a12b6f0f39dec837819d83f43a34b7294c70b8124384603c575bf5e6ea7831488a3c6a9bfe146b829704f8d3e2045082761fbb4d51809c4da26d96143f5fc6f6228d9de0925353404b9efa62931d704d11f0a8e9b34c9447b99106962e8f3283aeee6c39f84ef69a7bca44e2c0e3e0f74c1f10c6a91f56426bfe0f1dce20a8c5ee17f34c208a6b5e7af5888735e46d964bd0bf32b9abba042d5e11cd24ce8df5a7c580e6ba5f08bf2c5069d86f0c78220c39e0b57767ede18611ecc4d04dfabbb2bb5b24710ebd06e7e43b8223ee25d9c21357d540dd9816dd4dce3d7afc73097de53fd96cd60a1326948323c5cc97c30c42a27c4fdb3ea02ec7c2c050b2f3c0a76f1f46532117287355935b0f37522c1c7f6a9ae5b727df9d184458f37cac791bcb24900fb8d8ad92b9593ad5d8ff97b31b9ce3c2972b0511bbd429c34228dfcecfd052f9debbb04526db5c76357372a5e242ccda74ebb63556fcd1512a0b5d03e6c31b199eb51d0347873c6b881d20c3ebf82ba1e2aa6d259292a6253ee65cbbd34690c3701763e17e98815bbf21f8cf1762c162a8f5c7a9daf344a8f14d63bbeff930cb79a66fda45f71a288ac409bcba9b0fd0379d39560c43c271d7cee7ed95437cc73ade225de4124fca80e70b3d2f573d277e646c5ef2552dc97272245ff17842746ec50b78d6d5152668704f74543c426120664feac9ded18607abf6ffe8806e1eddeafe0f9b5314e5e41ee9477ebbea0ff623e4361203cfece704531092818faa7789e02ffa3c71b6b8ce8d5f139139ac6c0a4070eb6aecc8eba798f14ad703b8973634977947aa7da28145af560b5716ff76d72a156dcfa50594ee957eb928f964d954f9c0dd33b7ab505a0682a89e6f4e03e5bd00e3e6ca1062fab394fa62657c455be69d413687dd004dc57e879afcf1961671ff4d9c4dad48d485ef16f19d4ea5f2004bca7777446e2edf52a0914f5181686c3421f031211675316dc474206c3a8583b2917dad0f16524b5d72efecb67e0b6a155283b5c0a107847a1c6582e61f2bab4c1915b6c20e210dc4fede127df4eb73ddc8eb5d362f3d4eefacf965a1cf4c315fd982fd5b95d0115aa581d38194d23f953ab8b4d25a3ebb47937ba4be6ce03a4f1b58a9fc435aae0ba6fecb3eee98c0627b9d0a28bf46b4e5b48d35300550a72e501df61caa0886a9abf3caba81d8bde5928135514e6c32376e2306837d6ee3d4903ca1e6bd3ecca6aa5b5b1adf59a17ba59aa9406ae5350c239631afdb926b81429e64fe47a9257a24ed7a7e4b11a2084a9e916117b652ed21d965e4dd274727918096795d17d3ddff720202b2986daec6fde060557ff520291003623ab6bb0703c4a802fff68b012e67febfd45cb133f0394ebaa695f02a2baf2d7e5b02637a2b1ca1a291fff29203204df05a50330e086d8a9614447d10b98e010eaad52974631610e4b620be8ac27f8b1b8d77adeaa4562915899ede670321161b750f820686c80fdd5189a734d30f42daf8a938d3f18d38ac2ba7febac38fd1c2d15bad3240c9ceb1b568c1aabe92123f932815f4a224c368ca91cff85d7f701fd7b27b2655bd8e5f33ebde6f1a7770d23c88f57e1945e6d1ad30bc6b1ba45d44096504902a92966c95745c23bac0eb427190acbbddc4693ca744f1d1918aa678ff7f73ef28248e1ed157daac25c5505de165a6e8fbcdfcf102c289bd311db5e820e67b4311f47f1a8f88ac7c9134c5b91bbeff49fee456996c524fef4cc8f65632c782ed9b42838c33ba9b97f34cb7c8cd0cc28a756f11646e0b8c94124951a1f71aa5ff4e9e924745e500770f4cc345477cb75f9e97d8c70a28f2a06b5c93b2f0c03a628696b4271c4ca33c04403a65169a19602a1428003ce7b932837017c6c267e867bd35b7b0ef5d2d55168a59bc1be35a5ed0b41b109894042a706005241c6861a0e4be5b0b7443568e0bff0069dd54094b3303ae1e787693ccef75e503edf26f23a20b44ac03bf37a3c70531c14070b1857d37ad4e7e5c09a0c4731d0645a172151538a3c6d178856e48f16bc64328edecd88a426aeaa80e7d7b8f3af405a076fd9d8738e551b08b1ed0353ac41d2a67bc2421b0d459fa049fcb45f4049f9fd0d1b4f7eb149b613ec721112ad4227e090a988f07094c1d70e8cea24066b780bdd33f1e9617a0cfa73d2932a49cd929167f8020365f386156b684a36725bce88ff742dabd08b5ef3b130d7859daff9d4d80c6750f35773b0b148e893b291902c19b7eba9c40ecaa2205fa71e1ae9e20b160b636a3725c24bc443f1b9c7f7d13d3ad7a4ff62ffba0c8df3d0ca6fdd1bee5a907ac7d1df41c841f8e9ba121d44f29064e3d51e6698f4d18a5de609509b609e0bce4f662d64b56e2f2b43836a7861152f7f656a7c88ed0b2ea536b5b7a1db528e728d1e934f150334fc8eb9127b8bffb73ba7a23912cfd259fdd8fcb41dff7faee57725935a171c0ef0fabbde0ddd541200cb7e4818e0077f43daf1c5a77edc59e995284835e468e1ff3761f34e43a3bccb7fff3338721de647f6f63a19d4e021ef1d9c4cfcf8361e2c6677b9f0bf1bba1999458a8354eccc4c353cba441e922d1e45f4f342c6f2f82cb8418a48e17f823605d6a691d2737ec82c5ee780c2b67bec58028212ed8a72000d3ca7eae3e42c7525f11c53856ae9d54ea14a82254c41ac6f84f1178d54f63f5cba065e41752056db51e0f19dbd00511c087b7a056d8f01ae7a7468b3b047dd8dca3dd02a5e6f764a8e91c65c806eaadf8617150d67dc12bdf4d45cfff259ac1ef6770a8ef064354252b91662e424f09805a41104aa73f336488733102c07fea100f6bf5261989fa84bcbf1d4bb6b237c9bea318870fdd6c2a520a5e7daf8f90b093547b7e9538fe8ee8d16d981506298072433920e2e647ae33e733e5a33dc117acf396bde5f2b3aacbce214616bc481ad85e2a869c932580922f4976a6b29355fb28cb846927f20c54755cd8bc36ae70d0e1c99fcc6185a9d4106c23236a552156df422b3c9b4f5006bb0412148ed0148ce5b3841498c4f4c76c3ac70526fc52ce633f9422074f124bf6b2f6b772322c69c8f3d36736982fa90d746dda8215af56cdcbccf0e544b8c6371e786614c3770253e3253008313f3576ad66d7fb62b866248af2e7a0ad51b027a6430ff1444f640e94ef4c920febf373974059629a131268d928fe51adb0f567a58eb777c2966f88718df4b2d52fb4b67e51b42e980c6cce34bef5b3c1f7aab6603324802ed104259ac0f5ac007f49298133135460c0d322b675d24728ee97ee243f2e3894fec3b1cc407503d2a7605c64877636243529a696e77a0e8fcdf54fbb5f78f8618e29227c036d9112ea711f6b2d7e96326babae33265d6aa9089701ea9da03f18ac87df9c2455dc81380dbff2bb92563ab5fa87797e255d1e02db9df810d5228856bc7eab0445d3f105615363e5ae94de75176eaea6de9a53e87f0cba9b60296a22b4461fb88e47d8dc264b8dcbb4d789248a3f1296407eda53ba6d727799d21ac92e92fd36cdc81274364ac783f52c42f9c134309774a07cdc9dc68dfa3e0d8528506d869b12cb2d6aa08037092eaacbf9504b15ad5311fd531fef2eaa097894ac2931436766c3860c3d5bf5c8378e5ce49fc5710f1a0e521dd7ecd6a1fd094d83d13ab55ca8fb84bf6e6b4475524c4bd499b6bbb4fd0ffce2c9c4ca873aafe2d8aa19f5e58b5ca6bdc5050806c0c6734bb877a9dcf2e30e9afdf4fdaac1545fd6137a6b062916518c25ab4d2b089c8879ea1912c7ccbc63cfe2c371a43196e3fcb77eb282790355e95045a36fe041c70b8af29d328ee65c8202171b951615f8c3c7a97262f57b6ef854136f2e73069113ed727602559af48c534c0befee05792d48a552536cc94672b3a08c31579e825ece0f86d3b7510302f6017087af90d7f2a382397e23b212403fdaf89726efc4ef5bad030a005eed42da648cbc37b0d15c71e10d8a13c84523e235ec8084d5666d4f21c0bfb885ef91495330a6d5d8334c7487de2f07c110098895f717318e2fa0e7fc9b2e2e7f92a9f4b226a7ec7ad865182f35282169a90bc1706f773a7ea2d4f48e9f548d5769e69fd1f320342ed4f5b7f3c90fca888ca66591310cfafbdf95e8b4891f1fa8eed2ac5fc79afb01d243e033d1214f314117dc620043dd4537deaf2b3ac58b09eda19e9ee2cd34cc7cf39920dfcbb5f9cfb0c9a5772615e3ad0428e561e287da80592d0123a437c94f317b66d2a944069ebf5bc5db14d63183ac94ef3b70edcc28a84d4427f49dfa16b7492018c2cdf0ed8d249af7f65c25d3e96e0bc8af21a596e16c4dba1b3554f5b386dd7cbac1e0ca8afbd360e0cb584642b3c7de8e10733939250c4b87b2661167e20157e201b9e2d90805932b20496805a2a7d5543dd752aa9e8a342741cc89222faacac457ba725e2d0a4bc2fcf62c3a07cdd29bfd88fc2238d6ae4d815078c5c45926d9edd7be9821217ada9c3986595dca8000456e9926a62fe7249afac961554d8a90e6027df3cc9eef2067e26f2ecb5b4182141e718403f7587dc797c24b3de279312a076783e07f3e5d163542bb69afbbce1ad2edeeecd8b1595d0f555e49d04588bebc994966e34b201ce0b9bbb224a7acb22ba6fbf70f53c5add1d3d2aa033c5d91d1600bcb2e4ca95720ab42f2737fa305dfea309c795004c8030025396376d29dc3a81c884e7c93089f95b0ca66d6d2678bab1932f08aae3152b089b1ec90879828e24c1701d38e52b76e30726b1cc980cfcd21164e1663012faa56fd964f19cb4f688b810f927213a0404b9bef431257239e7885bcc166b761020453d7642856ce265a71b562b5df4b50c3d54e6c5fe40ea43aff95d92f538587beb9af99db2cc6b99eeb5856cec64d20317dfb343a25b45838d1198df527d85dbe679394806d6e125d02303b24122177bc56491bf987f15923bb34d7d6ec996f7319ca1d137968be3597812f7d795c560124ab9baa7592e22bad01edd668d7f33ebd0e0da27e21bb8ae5036eba83d21ed5776051a92905fb7951ded640b2b91b45a7b9fd7508ca5b75d546dcf51ba7d94a7f970fe3fc7f516e423b335a2798a83e40579f0c2d9fca75ef35a5659a41dda5f99011331efdb09a419b2b9d16bd9e710ee1d204e1dcf3980b30b0ffd4cfb7113fecde60921ab33c5dc98d5569a01cfe007bb8e8a42d7739e7bf0307ee51c469cf308f3b82d8a24e81cbb291b188dad2fda9ea204b8fd857134a8ecb0ec4fdeee7a5cd699ffc8187cbaf727ded9b0b183eae66decd788319262a32c123596459be697fabc6e2b6c14c0e6908f0c54d04390ecd8c0c1a3892a67333af583b2f468ef6470af2396c2ee5760d60aed6fb1a4cb06c2665639fa9b8aed965584dc38763e9888bf5bf3857fb1c137de14cc2d9d544f908156e2a9b67d7280ee8513806362b3f25a4fcdf6f73d4d19406a2102acf99a2b66ab808d6a4826ce4bed8dc78201876e9e177165aee224fb7d1e4696f0a4958de24b28cbd623bf894bb54d23955cb7679c5815db54bbe68dd867ef5e347879968be5b65c6a4fb9a5096ddbf2ee9e4283dbad32333ac11c976e7994e44f73b01dede8e371ba46752f7476df6fa766d07c52c5c4c900c97071afb0e00a4bf07fe3b37384d11d1542b32d898f46bd7b68eefe7e5ed5cdba030535170bb286e1bba9b5e021395acff41e3d9a0bf03fac7c24c75dc0a120f4c150ced9ca7860d0cfca61485c6f80a1ba4f09b19c7669602dcc6c8ee7b5b1f030ac6f2dd2485e8c956b2ebd15b935621b2df0e6319748b16a0cceae67cd3e5b75b0416b334209c7aecca047e3bf05b4aacad954039cff36440be38191ecfede08724e5d94bb62d03740bde149a2db3c63587ef8c4bc3849cd42286077d305ed9bf239b111931aa9fdcffd9b74d651be535047629854ab7adfc28057b82b735ef11501cc8dd2fcd34712f79ae31c091aa3184aaab25ed380323a9dd0614217bdf69f8bc85861d59dc93c3a248a825d439060e88383c2a2df986ce64664915ce6cb43a3d7093b01b49ea16daf029324c8727fa1eede11a7a813ae465a53dac10d77a6cbf51f735a8f741f1a8aa898fee94c6f6c010e4082a5ba3adac3fabeed9d955fad29787a81b75f44d06a16193722bfe9c0f424ce316e60ee261eb3de778b401d173cf4d22875db933a9d86f4997cb208da2ab373f08654683ea2283a98845b1199941f8decb6321f8871089e617edd593674c3104aba4f5117f17bf19e609d2da1c866ea331b347c13719cee3c88c9139be24185a106946f9da14b494b688dbaba044a556884ebb26beb82d1b76082bb865eb13b9e651c11329198bf8cbdd2c8e5fd4711cd02c65e3a1bcec4595198e07a50397a21348ebce4ef495afb6797ad8f70c9c24c8f83a5d53d5585ee9fcbd27c9570afd570e1e33206ed3bda6c3e49622fbd28d538673c114126430691028a19fce4fb00ab925965e8b677ab8a4a7c8a057c6ff72b055169447eeb20225d439ac2d7004f4edf336a36d8612b9cba7fdfe00b8dd60962387472c1262213a5e964f14e1e93a09010186d9dfe1b8f1845731f53beae1cc1a7eff2f97d68bad141c75762544d99cdf33cb935b3fff2e6542bbbac7a57b6a05b60be974ded708265db030492005256a859572640d9eb6dadff52b4913830a2a30ec37b6d8135aecfd86740f2c2df83dae5038a502ba84024a8173736e9f35b718d9d4b7f078eb017f8c2296d5e1e2ffcf6d6d637beb4e97afa73e05ff95253c38d20d902eee808df8aeda5b08bdc50aed6397e333b46d3098adc0ac8e17dd5142b9d1b74f277773a6bdc96829a106a5679fbf45ef34ef2c979ee5ffad00b9f70e02d375f33dfcf8707e3cfaf387f07f82cf56abb88538e00bf5a4398e8dc55a95bce3f0297096424998f9d1bc7782a5af3622ed07e03805840cd20e5f481db68fecb46fd00592d7f4d0cd72f2ee11c24a5c8f309ad8604dcfcf71a546b0bd9eb57565a57970f4f31418f03cad7f85c4171632bef2f6cf1ea904fa2f9c425b33a9beb30946ad1f86579acbf0f90272f121d19acc5d23e92146696d7e059fe268d0ae8f206ebbedf21b75f607567c6a914db9a58bf0be0359071f6dac638a2fe8ab494f679fccb19ae951a735df3ad240fd729217dd250e3ef924c94b39be68e0ab7356de19acccbad3fe8e81b6258baa78cc67bb5dc94d02848de61aa2f08511fef04c69c9335a3c6b79267c9c6c97bd7ce8de70a6d5cc34a11b8380b7e21ee125115161154b58b4df19f7b8a27f95a76bdf3720363b9e56295147675275f4deb007d9f0b267b6f101c6b8f84dec4b92f225e2d409b5f3255abcb470865399a99a4226bf58ff8afd31e4a969176c757cdb4a15c9518d689fe1d7629628a4dd8e9e469860d6c2e970f57a86affa3977c78ee30801702e2da33812e26216eb5bca01af183db671df7cc1822be03eabe2a01a343b27be7447fef0b8fbad961a9dc41ca86b1eb5ca2b59af5adb8fa90493cda66bd0713322c1e34d90fd6090b4e3d28e895c51dfdf0cdc58def9e80482ebe6dd52212dc8c870bb29cb6730bd18b169e579d6c91953471f999a4c149af23ac7bd0b00b6d76840a8c2baaa9f97c4ff62fb0f71b2dac5066c0d874ec2890df08ce9d32d05f20d2781ff4c6f54e8c38db481702e5d8447a91ce0c40399883f775b88bf236d2b8ed7fe21067d844ba340feeed6f6823f89942664a9eacdb2fa33a11eb6849cf08e528e05aedd19ff875d34f0093c19655aa01b1860c1130a601cc6dcb10c7a6b9e7737d104055e86f3bb04f114a586c775c80aea20057610bcb9e8fb4aef2aab751e2c1f210d0866620b0a724db55640dd48c8854ba770298218047550da0d0d00afeaa68c7eddc097371366560abab029a46eb709a02a81085e4193c00c472cd6afb0f79826154093581f8f8d0637974b3c2dfced22c13775af00172e40ca58b737d04032fd9d122dca11060e65bd6f83e9fdf27ab4baee3fd1987a508a6a35724465dccbfe4f9da40b7de8ff85e364f69b27b1b9fc724fb300b1fb1f59b2db44020aa6fbd055f8e6f33961a8a37be565928f845c9e9dc665881ef238642139d5fcba1e8b1f634723c7ff9b7f67c502b9620a0581a8757457dc23019bb29d967d97294c8fea8ab25cbebfd6bf8e3fb30e55bcffe9f2f0f010a8ebeca4e839edc51e0d715600a08136f419dc7264b12ac597f3a18962b48e1f6e643ed588d51ca97300ee5d46e7b8ee776305fc2eadbcb4ac84d6ce18a9d24cefe831fd68daaa049e98a07fb74d370c10753710e777a1da62e3c4073bb0cd625a3457f0ce5de99abe322fa4f5e3d93b34f613cf603d10005202c719c6dde84d9c5eed4d0c607669056d332ead185f49ecffa0079717ad30ac5e5b80a0d421235b851bd2909f19b36205ce2c4b2fcf811736d5c94b7675ae2fbb612e768a47f14f99bfcd58489bf49a7ebb7900e77e7c48e49537b88a42e6b2d142473bd705a366951862fb5d993da5f09456aef4d637aa5adf83c5d62fe9ba0219d982efa2609a78ac1ecd46d33e9dca30dff8c958719d6cd08e30dee20f2c1443ffa77ccaa5dee2661629281d9b7cc39d2298ee95056f357f0d0874edba22cdab34ddaca6c31ff861e9801df89af7b2f1e4b00ba7c9bcb72bba158d8a13cbef6b6bffc4d5fb73d5022b2618edebab3fba94661f0d6330ec882ae1119a60f3ad0f3f3d911203aafd1c5f184b4e68ffddbda2eaa6f8922315000fe0deee90f746fd2f762749ac54e40dd6657dd48deaa465167104cc5c51fe0e43e066d04a5433b0ba86c769deb752810afbf652b1bf11762f9d4ffc452b81c8ff215aa801a9ad9aa3811ecd49bc5076fc31e6cf409c35b09e9f83cdf54a6d0a06493316bc1a4b7e8a1b53b00c32ad1c2e608afafb1f15cf3e7a52d783f9af1ac75d8fc18bef43f37c0d68cfa189cbda17c7e073a26ca5c52439c0a7fa20d70676e48f35614dedacb4b751b2f8f77ed8e2a9003ca9b17a819abcd14b042886d3199ea39fe4e565f5f13b8ae69473bc35d1a8a9c9362436b47f333831fb2508cc19a89ed4d51097df27a982045e394cd6562705e8bae544197c73d0df308ff1f3c20884568160a80b705a8499b868c6ffb6dcb6e591ff2f9f87bb26022cd6c3da43cd97be2315fbf81b6f44e4a421bde1e506bd32c0bd56dce1a63c041431c721ab2a03eb161a7804a00add18f4f92b081f6c30899a31de596f1b7d139222d748a621dcf1fe70d53c1d9654d0f804e34b00bb7e0cc84c710e17f654b12730905b3503b1a7161fc43c73bfd22f4db72ade66b2a61da489def3044cedf90cb51955b927c5e202978e1b48d878fd1a89df61efb8ac78b2cd8431ced2cd9109a934b100b75bd24cde8b9f93ccec1a333648ca6ae5addfca488d8ff9925436d2054a95d87ae2d5f295cbccb1db6a132c3eb62afab06a1dfd3717359802fc21107888c96c07f4fd69cc18e815ef234bd802d0dfd82a44ab2b3af30af6bdca9f13c25b03c5ab4fd535ba47215b9393fb7ae6d4a3463c7e9b0b22f2102c47d88c8baed8f32f23c517bd6334a2d14c9b749b86a2ec9c0dc460e016621201e5fddfda3a9e60cfa4146f7ffa4f5f3c1ab13c07e10295692ebda11627a50336704519919f087456987b89796c767bc390fe6711cae53eaf80286460fccddc058dbc927c1e21d99e35766edff42cda54b34ba4bc89864febcc760a9ce547c47661041bf5a56b279df928bd575eda6d19a6eb7859cb6074b285d21f360419c5990aeec438ce90f9bd8060825ec78a251ed2b60e4e15ae85474e9602f48bbeeceb9296fe1f8349159833d60fa05084f5ea91aa122486f23d7b6ec9d90542239ec3c590d6bbcad3251059f286e3d86b7ae0e97a73888ccf4ff32a44e0da7f58411f64a657a7f726ca664ca71fe014709739e010558527eacf83d556d16539b46b8fb2fcf5deb5437292688dfaa430e4e06b3e57c9a0b2b665856c797339a451c601cac4d7b25312b7a4bacad8c784300e6ca3811c4866a8ac3aa1067636fbd0b06efb7dcd3d7d9a1382948f5888c83362718f6424453018f9f8436925afaf5b1b2b0e4e7356a55131825207078eab534642dfed6fd1f11901c4e170289a69c543b351b66bd95df26681d0ff580dae6a98e16a0b6e90fa1776019929e0d2cb17fe6172cbe921c49a7fb7df5a4d6828cd639b972653e7fb7354e50a73d5d53d95d067143d6fb0f2d6f12de45cb927927f05680de82358bdc1ad18c19532e6eb2046603646e1a74d790c071c3e6d0b9df06c594eef65ada9fdb9d070972a4c36007dc3d5c884fd191c4cc8feba6e597a4197a0e5cd782b9ab4925a626976be4315507e4c62285f05990cddd303eb8a7b9202b8ff1ba5879d7749552d5392f140f1715d67866f6ef87af00797e05d1e6e8be203facb5d8e1f895eefb71365621d52f83f7d43f20f9f0198512827123cb8dbfe7134d3151026f28bb23534cb785a37399e678fdfc0b137b0dd4cbaa767cc9d5b7b1ffc8cf54d62002d0c7650714ab4f74e53b2bf12078202397e2c4dfa256f3d91d77bad60ceb50d15e9a08d65e74a15cdbcba8b7d8cbe7896d4dd0fbd71f29ead49436ab93d16e34d5e445c77be7b12aa28b61777b96494120173205186505f8e7bb1f51ea201ca7c9a8c014ec86ed0983e823146ce9e64312210e5bdf288e14542631a8aaf27d9cb5ea8b4c167e1a9edb41edbb9895d8b22c1902ac9ba79b1447871fedc44c874f833bf0c38684173a182a9ed72d25f516d07ee962e32ca960992f38b909ed17e27e40f24fc4bc67d14bc350cb5c2209b4fa0f4354b2c5491f29307cc9c26d3338b71810c5284d298dac6c24df4b701bd337dc63915058a517b3fb2b3b78faab2299d2ba14a464936cbafd65b93b7232312457337b9a3e1714f579a219ff4d92437396bc09392b803a1d0e867e4cc94b9da43518a42818584992b2e71493fc4aabd4a2a5dee4e488d2b2d392d84026c0e7f3790f56b88f8a68c90e9439fba2ec882900204b50d106bd0dc8ca99d07d7da56453cd54892824b0ba93da021756d368466f5ad15a24ec6dcdc488db02519f270b30f6856bbc1c29b7965735b6f690a5411b0824d977b7c055a5cb74d7c7a92b6a5efd3bad3bb7404e19d76efdcd0298b4a5b465ab8f9cd08ffb724afbf12b76b2525432e68945e9f8c2ec9407dcdd30c4bea640c9c27089d2e8c2cb48dd511c87281dc8af9095d7854b7a614cbc092589d2ba42e0168498b84bba57e5eca3210af748b8411c161f63da9013fee00bbab86cd14543954dfd97e12b05b351bc2a0bc9559f59b8842be2bb217868a667582e075b3f9f5987d9211259c2dd3d6cd4cb40f309b9fd0036b52a8ebaac11f4bbf2259dbea49355e6bee68360b35b4a035c7de48daeb0f385a4ca28d05e29e566a81703f26fff2b9a778703006031be24b86dbf05a2d76046ddd7fad7acf89e005d8807edf2935183908f6a0cea8426cf03c2c479f8a7d790b7351c97f80ec63a0e46219858e393656f7ea36e9873f442ccd3b481b2951ddc4178ab70ca76c01b5c42e9b5de53fde94d83c35d75e7bc2fea05e018c226f43913b68ce172dac8486cf7aac6b1e9908d627e138e6a17f77f9ed1f8a75e83e4b7f2a2983df8672c2b71d971db74d32a18d17dce49ba45cbfa900b10dd7df63c9f02fae22c1cc6b11522e7f0edb0b56b9080c1c2b56573267b07f207dcdf1a5717cbe2171026d2be53ea8accd0caefdd2399ef379b75eeaa9fc1c8e88bc3a866dfe465e772bff6a70ff3c213cb8200f199d76e3a57976c07e1d66411a685e4eb8dec47c139366d6f00b2297b6a4635245faafdca48bdeac05d0798243181556bb932ad1f3a2b343f874a30933e86f7353142e5acdc4d842d2f5c328091c17d7743ca0056a21b0471972b43a74606a1425871e855c1c62aa53ff879170d32ef16d3955aa85521c48804ce899e01336e7c25c33e9b26f5a2535e0649a50cf639d74135bdf2ae58b958d8f3ad8a05977a6672b5186174d29ae48ab07dd3ee15bb41d7d4e3c28a22e035bbc9479066b2001601c9f54cd3f4e76f82650f49db0f21f6167007e645a88104d242040a2601ed81991e762d60ec7b7e8f6ebdf134c8609f162577be63c291bd925ec01ea400deef4357c3132e0a7ac54fc0223260776b4107a75223449da756a8dc6befe95cca45fd2562128e71c1cb051100ce8b4f15894cfcd93a709d22f6c4dc2c07b44f210b992eb83a735bccf8854d5f9975b91ec3413cb53bfb7f8933137bbdad06bbe143c86329c6e6c63fb9062d61e13edb2876ccb99c097d72b7502d1a8338d805b64a91bda5e186065bd7299cb26a9f1cf0aa4bf2f89e0ac0f9bb264bc5c4696355d716b07108cab783b257d9bd6b24c1c51022f7a77aeaae57bfdadf6c8189b7064852d9254c3dd1d634769b19b75e767bb9e54d1ffc6d0e307303556a28a2279d81b43b1297057c0b1385b8b47c352ecc5597c27a0cc0d174604772b72033ea1a4456a0af9c93c2cb6e042f7626034d3b3bd2c5cddd6faff544add85edacfeb587d1d662fca95ba2b0651e6fc4f20904915b9ac1c0479b8e4b02383c9a973c47b407c7272c5b87c70b642f502b967bb3cd8b7121d581b79b38625413b09bbe56d7d20a58c7abcf65b30a6196f5d133481962941c4067753e3394c0acf2ee32761cdcead9082","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
