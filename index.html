<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"d0b4f62738282b8943d1f024ca4175785006f88ec1d58ab48986b0cc71a50028aeef49266de9fcf868dc263914d2df50ab9856fa672305183d1e84d26913e20b83b0b55d04dea1b1bf5ff509f368db02f2d2ce30fa9d05f206f8a4562ca911df0b2673e501b861da04e794ec57c772cd52e4048ac9e2df9fb701a97501b38664d4655c5827ebae0d52bf7e4fdfff1ba5da18615ca113a1d76d3d686c4c488a03ecb9c6be105990f8950c8d50598ce14ca27ac0a217019d9c02441e001dae8b16621642bc33ae7f45f4cbb801905b057a743b345d22c8bec44f9d0248c891663fd609b7954a3e83c8a18f224c1304f4d4cc342b5026fbc1b70aad50429de3ca6d57b2a70658afc69e1cbdb7d124f99ad2d3819675a42133f321b4c0fa84fdf590b2a761e8835998b622589568246ca4375fcae5257d2aab04a42365a7210c8b503fabaacdaf13f084765333824eda9f0d461d9f6aa30ce9622ae73b315a775b22044d6e2024a240617b47046aed20c3cf355fbf85bfeb06600c65e1418a9052efe476ddeb5251f58b624558aa1ac97aef686e6c0654611c51f9031d0c0f9d2c9fd1ed2a3c47f21cea47365178c41333f765389029e4869252801c112142c626aa60ee0e37ad9bbda57eb1cbbbafda37a027ce09db103e852817075d4074af5cf630dc679cc9701ce229d08c0beb3dd6429d450beb3c24962b33a63574260f84d138eb0541b23eb46fd6bfc4635e48073563a7d913c7bf0444421a4ba23e701b9cdcd30d014ea887df05b6bd66978f1aafb941870592481b0e9973a2e2ba9b450dd7abe7c2dc80188f57797636059fe547e4d0920bd3de092b89f7d3375ec69c8b03696e7d008012917e2cbcc1e1ef15c5ce213f894b319368f4a69e8de71b071a882dd98a602d783292e394bedef490e5950adca1969be4e2c80805f37904f805c4252aa82608651d204801ae8e133099d361a2d403d698693f18b45e0e73a12d99ea2f82591069c1a22ebb7f7b3aa6054d44a3e97a26d139057f9461d57cacd38fa60c00f1e22b804452b5bd5969d4a61077aef7f178324dd4f3705910a84cbc38ebc9789c084202ce930c6facd26adb7efc119f983748a813f60ccb3f55577590c1929c4a7a82d8233d281239576902826c4f44b1d97c8d7c211d84caa810521b070275cfd9c9063c09ca8d88b05b5918258f923332442e90b41b5f44e0cd352851e7d233e53844ccdc2b1e29481b875391c019c2ade567735fb1a9d2927835ee4d9dbb4b06a145135005ca68687a77d8ea90e7178370e19a84d18c4ac1e7883d736921d5b17231887c227ef9794d1c02224adffebf1e262901517df1ee517ae099e2f1050935410a6cf455f99427f27de68293873c42ebfe5a2f2a60be0c83a1d3e4fe92d497a1fefdd1d3721679d9ff0f093437d71c50fb0d2c81f94e3c38c8f0fc96e8a2b15143ab3ef6526558a8bf0bab5b5a24586dea01ea6fa8ca1b6738e321b6c80806ce147d1d1671948640b4fe7e0ab36737b0cfe8647016ea46a26682ac8ae7d21a483a06376dc34455891d96c450ec677ea9635717d739aa0f235fd401b1e51a4bcd155aef8a37e6b4c78b486d546f8b9673d1017208354318c26c3f1c0953a235b690efd7918fb885a7c3db6c88ebdf1cd4c0e983df75d3d2d8dd70edaa0c4f5f954ec57fdfd6ceb2d3672ff874635a3bb803c61d9b4764601ac2f56daa5a56215667864b49f0f4d2e53054058f24dafb62e0038ac53ff2124638056fe37c930a81148ab62835481202292b7758f7dc84308bc91c463d16f2aa6de9e271a7ed6dbe314c479c37e8ce1de2ff7d2544ab1b43531f631d573ff16b80db1541f6bf2a1251469f8162bddbb19bef71a4e3374feb6fc51b27574313c18f770392717289be92ba97df9df4fb23546c52bdb5d64a73401f075bb06fa19fae27eb4f51724cb8f3fa93ad4001b735f325df7c97d01a7b9d911d5e0a946005babb6099aedcff56a17aa056f221fe8539f1a9f6609ceb0fc3ff3411d06fc3ec99e9a681d5b4500c694a8ff48ce33d588f96c2c10efa514d3846ab188b3d313abb8a677e0ee535a02c0843530d6bbb6ee83c6a8adfb0d39ab171786ede577bb076e85585a5d2d3b07019b64332cc3657c29549ec1d50c734b54943b7e941f3658239ef686859140cfc3113a4af9768e4dcd4722241467fc02f6f203fccc209e7c0315920ed0d710258691cac43fed40d1209fae2f3251f6b0ac11025e987c1c4aaf3c81f4a84e15c9b35ad52c3636edf4e58db303827fcf4ac71af3fd09798007c8cafdac6b90354eba6dd6abed401d3c5f81be4a70e7b7c3d4c104ae5045140f72891722face4bf13d73ac1c28019288ffce8181a32242ac4896220685ef5430d72fbc2057c528b9d1a3fdc0022021c63648caf008e8f7ad25d8e2f5a8ed322ffea3efe8902d8e6c0f3024d9defb6b2cb326de9c8cf96e826933db16fec2184edf313531a714b09bf8509f6add8c60b71d967b89ef9e6e492cf083d40900ad18c6869cec1a0667e5039290623fe8ef829a863599ad098535661908ddf66e0e99eeeb8fbfd66549efa958142a629e4a141d111822eb1e4f382261ef43b468bb34fd7f0d4b7f54c75a8d62db7c670dce098cde45ebbbd3f74ca291507ac2e6fe3ae083a91dda341d835f7073205ba78d013ff72f361711d46ce10c87be944dbcffaf93825a1b74dcb759444c055266415588882459dcfea50f967849d49d10cc5992e6372e7e222c6d09f536d18173d672bb942a3b1a6c8423f153eed2d25dab4e4c249b15994539f009da883ce5772b08ba1dfd5881071c85ecaaba25f8a42f6a91cf62e89183c1a49a249a7f23c36ac0906d31e4a91bc5f69b89a1ca7e6c7307933f73f452f899b67c84c9bd841008da67df6b0ae3c65d0d8dc882905fa51880b57368907b71ad20f955ea37d57d8bd709da70e2ee9b21bf7974f33047446de91d741784cc3b845cbfad8a92a139489cb2d3dd3df4868fca96e3cc2e795538db5ce3990a5cbee2d6d72047c2e158e93ba6739ba529e47e5bff331bba07a33d32e225c1b9bb96d07fb10a8a1c70bb1acfc8cb56ad32db552c57f517e11d0590e2ab56cd8a999361eba284081cd9edd1ed64b8c654b81da9f5dc9f6c0b97ba5d33c6845487cfd75f7b929a3ad42a3cec2d37f40a3bbf567536aee17c4f5e1781ad3f58eab2157b38d96eb872dd3b54beb54b132267eea7dcc068755ecfd552e4ed170dac9c94c5d14e9150a1fe07c0c98093f072a27d43f11e571c81f5162645c64b456f1ad41294c24cb5dfb8d6b04361393f0c94cf21660b968d443ec8fa839eec54c4ffed652eacdaf7f36478bb6e43dd863fcbf064b1262f2d174548450fc4e9bcabd9002e26460b874e65283b019d050dbe0257b8c6ccb3534d2aebd9bf59235d4d98ec61c89b76ab264954581ff347ed3bd9e158fd70ca23e1e01cf01b9a2342d7a99a5e110a5bc4361afbda2d74b9c67491d8c00c397869f44dea050ad1ca12ab69fea5a6693a0060e1a2ed03191b404ce2b14c38cf4ee50646cf303fce2b10f7e8210240a5803520a5e1995ec403622262f6130d445790bdac4c2659eb0fda6912bed34616a41cef7d9840de5622cd5d2d43d0757ec8369bc22fdc9e6879524daaff19bbad2a070cd0635d78714fe5a64a5783240acbe1d6a0468eb92a7e1a7f8945191c8917db16b7be5b61d6bceb1e7c1815e449b04b6cac75e1da67d0313b57e945ff8b424328b0bdeebd958c39b8b40e0c02fbf46a26c2640f54dca2728cf7c8043295782ce3a52cd0fe2c0c209b739f4a15533589eb5059d56729fc3d9d262a6739b4778c4b6aaf6347ece77b9b7a82451a882ed699cebf2b3cb2e469a84cd09a636603c93c1197292d2fa23ec8884eb0d15620710038dcff1d381db1239d3356cf9f487dd064331a31757441802bebecbb927275b31dcb089be8344f85409af198c1844d2462a92695cb727a7ba929b56993ba7ba22f8852bf282754662f9e84750c78bfe2cde7eb282c6bbf829d2271bc6a4cc4ce7c4eee44a2a143f61f90d4afe43c683f71f0dfd5aa5a2b1ff8ce38cd1e88367abc826053d464221a1ba1fef8feaeb718bbe00171e844bfc0ee868e6eda40d92fa01173b5d16278ac522f4b0bd2047571b4e1520201773c8d136ae4f1ed1ed68ae2ec92a92dd09d8964d9bd96bb95e9a9b881aacc40083e57ace7e1b49c0713dc71c72cca5a6538cb52ed19a911d6c3161b22e0a5d8b206d71af92fd86839688419938b01841c4bc50d57a9a5da0f23e47dd45b89b6f37c23a39eab761d6c0ae5aadbda6593a40630864b76522d7ebe3c68929b67864f297b42e94162d7ce318188a77e2dfc81f473c5a4ea4c206dd4cdf254e7e80c7790bc9811b06e01bf437c9ed247d4a78ead2cd0fa7b3c07d645bb1c310bf8b903d6e0dbb17c0127aa0b7a2c0b5bd52bea7a6dd37a5916b77227cb4f4bb1c2e1aca7bf7da3633678758aa1804065e5936785ffc139652e26b6aceab270bfc7a7ffb07bdf71aecd337b324c683330b2c09a894ce502af2d3d6475a77c478c8829ea1cb828d9912e1eecca05e5be6d33a06085a09bdce29770c671044eadc0cb171845a625b5cfda9077aadcc77ff02b6ab61dd4a608e2e773a276c2d924c0f5ebbe08bf636eda08e5e4e7adb22e48c3335a4ec598153fcdd2c92c6a96990a4b0b5d48a0aa8b6f0b09e2ee7c4a9c10d52f2295304483cd497aae73a7b0603222823ba2a3d76550e48659b99b5cca902a58a03744cc56b9af3f8aa6f821fda3060867a45724628a033dd95490ea42fe64a000930134dde78b82bec718513b2a09d60399f0e90d354bdf1af5565aa358be11eae6c9f730d912ae302e67c2f8c83fc5da883745c917500988cc3f277762d27dcff892aa03602a6d23fa09a6946877ec5e2b7e7d45a97bc20b6dbbafab9c950660a2206a35c7c5cff107c5ca54680b18021e388046779acd05df51a1d762ddd23a888e999617615004b9d6b72ff41c01a22fc280bbd8d290a7e34ad6def0cbcd8249b97edac8bd3fbc171a618b59d93eeb32ee8d5c5a1677d84e6ea78ca2084803fd1d714acc0200f87db4c16400cfa9bcdf88333ccd82e13670e66de4f10760db2ba27a37c9b61a4369c18ff0694017e3a57ddd9daed9fcff5fcd70e351a0ec8c177a7c420a7287a395a41a9dc976420855afb629a48b044345cb6ed4e35edf03871d929e29cedfe9477fc0e6ea0b67062360a98057aec020b3191f4eb389a3b4eb2e5104a974160f7ea0687a30b5806e4cd1ab18db01e2c0bbc525a06c3f8d81506c24b2f2b5f39df3f0b926382eb740aa51be21cf7f9055e4ad2c24dcc056707e974211df85657dc9787afd46d9a645d61e1d599c207549ca7522ee49d40376ed3a547142f8a7a181f67d4e743002bdff955aea677e203af86a68875b5b83dfae5ec80a907367787759e3b2ef86d119d698fccc29638e77db481560bea337eff0bca548cda879369e56caecaa8175ad6a7e39551b8115181017106df8081799b461106edb0f20562ece2ce1f01d203f18291266e03fe82c94e7e80f0611605550bfb0e9e88c2347114f7316ed40432bd3c21c9bae8fa8a3875ef27dabdcc05cb386bdd401a31a943d87b45fad695c0fbc1b246542a51454b946c5d210fa739c85e26540d058ea8def7a5b3606c3038d6ca5b578c9bc107b5fb4a10aaf760b7506c63bfc9f556125f9856575abfac383903f8edb22a3a696fb1b0e1bf4d66b3c6395a90c985e31527560594b1fbf271009d8cd0f1f7c4baf558c06094df03de40135efe3aa1d4dfbe06ca37254681b67ce98a72af0f2fca81f4f309772ff3648a64bf358eaf9a07f7be384c98b07b832153bf6bf6450fcb68232260745bc944eaa5aca8c755f520c95a4d5d2c0d4378ca86e00bc518b26ae275cf41fdaf9f65475d0827ba04ca5012a495ba1e2880728b53f63d211d5f24114cde68c850133a6316a98b62f0d96d48e9c8a78ac8ddc729f21c46bd9b4fabe6d4e75b39c6def8ee0eceea62f52a5806716a18ccf0f06224a1bd410b3200b8438ce89b5abfb7dbd809181a02373bf6f4526f3bb84c17ef67178d5b7a23162f287300e20e3152202e887b80cfe60398d868a4ef5b61a79875ede6472a05c50a93686e398178bcb2569de961b878fbfa6813e131b508098d38f1b2a58a45e37827025824f45eb14d97cfe4ee9a774076065f55a692e6a7632e4c160b8dc39b21d77c58f8a96d7f909d800fce41dd3935cfe8490c45cbe0f61b7e810fbe7fd34cbf13b0542b64e1e2de6924ea16f0cd76821aabb870f7fa791004d571aee9becd9c34e0f5aba6ad5691169d4e5f9176f08bd1df5bc0bd5bf5e969f5c018416edb8e9b5acd43ee15824978b20934abb022b04f71b6613aba66cc8383087beb14192e73828ee21a95430a6693ef657d69c270002ba0f4aac44cdf9350e6346f981918c1f1edf8c306154b4fec8b46df2aa66b6b21726fa7d766b78cc6bf7784c57a88b76e3ff049b28ae437a5441dae55bd865440fcea1f043622ddc4af1fbc8a01c07fb63db269412b9f4ae541bfc1fef3fda2ddd7b7065b57a31c67ce41bd04186f9b45c34031e126975cde0e8c0c6adb153f19973f7c88a9826b15b29cf8a43cf865164492451d5e033854b78c0e02ae3750f40697e8643c2fac142206fcf1496ed3b4d8aef6cc7aff9a72063903d74b3760f2f90bc1f16b2a7c6e232f2355ad9a4f6625d84bc2e512ee4e15b5fdea05cf9dfdd44f7b04253fb2bfd910e54d78d14a7368a85ff3f9e94776ee81b26a4c4db5db4a6c7bead08a540172b2c296d49e95f70611f4a7535f1c76f4b519ac6d0ea7f85add1b4a78eb80ee1640d00bbb130a81bf933f3fef6b595fdb812af0252b2d09d97c55c4d9ab68a2ed5884e7ff0aa3853a8cbc200b212ea6b88be72a597112e47a64b2ce25c2fcaf5f242d884d49589d3329a97abaac7ed6864c811704bc37a2f36448c8a2d988e733aff957f8cbd505af0ea98963336d276e7ab77a55a59abefcfdfa97c993e6eb84ab604402151fa8f61e5631a4f2ec26933d87490c8d15b48778a77c1314c3f22aebe039a73632e6e1eef7fd5ba27b0f3abc7b841ea5f75a44ca261a99ce979fbd505210144a0a185cb36467dce6e98e2360e2a8292d7fa02e30c81b8be95c79cef57ddcaacb32abf460e224502cf8d72f52bed1ac3aa1a654b63d432a51f25ff369ecbf7c6890e89821d59052e145f0244991986fb542b5e4a95f4dc232f0f61a5ed3463ac3292bde58937f913a36dd008ac709b5a5225d2d4a93e47cf7b9a5ad33aa8615465a56307eb5c90811c7409930fed20dc7168683943a66d34af20eaeab7283e61a1b84548065ca40fe8760744a2bf3f60dd37b3b6d710909dcdf192f00375f57a31fdac73849b0651b49788a4f0b8c7e068a5d0563f74b961c59c8acd25a7e9f0bc02da6202ee5c871862d6d7e4da00ff11fc2ac13d02d9b7d90a0280fbf47313516109f160f5b670686b159f024f9733bbcf11d0ca393eed2cae208f5b4f645af521f93507f369afbf761efe4d21e5dd21c91a9143013d9d0dce5b6b9186b8704d06ca9c91e4db811319368b703b57cbe220a27c74b235d091eafea0d4ed93bc24b53e75317eab6839cf530ddc87ec05c181af3e6a2601a7ee6f64e72f4906ae90b8a821dae22f14aa2916736adbd1e185cc446d31e399ce562579e6b31955d9e6e028b82a824dad86aa98965c5dc36db45d4713385c297e9e1e21875bccad8ac36132a4b00419c62471d6383502f6944d2771b859692b56f707a512e72af48d946931815b5f70c821b91cac9d1cfa369fb1cb1398f1a311ef7b4cc1f02fde9e6c285b6afef7f537b7900a58824215cdcf0c612f4b51343525869d5b6f1d570589aa923fad1a4c35f85d43a8c1b5043dea2ba60eb99f19eccb1c17ad58f1eb69c29bbaf42d6be800f180432c7753681670d02898768bb7bef19ca0a004a1c300f66a239df86827d20c5d874168bec0d94a920f41eab5b68999dfbe11be5f50c5d6c40f82b75c2f2e5bb9cb7c0ee48da7131436aad663c236d0d46615ef741911773a609cd966dcb5b5b6bb52f2978f098bfc2580eb7d58decc2eae2343888ac547fc5f062a1afc14ec456d19a0055a2009a687f2ef93ce86baa2bcd0264ae2e1b29a0780b1a37c56610b3ce76e44386f8788ba919afeb728aa56d2696f7e6fc294f76e8b6eaf7f14506e2b40eb7e5c78f0caa55a13c97a19d6d1f3a3be598300bcb1f2ece09bf6c2da80d467baf670c0ede60df8cd8f9ab560c5d1dfb1d6a10f19a5a9f939b41a8ddf204210dbc927c37ae405e88c452d5c01cc7df736cf518f55cb3604c4292401002ac00cc061fbb10bfde358c4349e82e0ef52935883a77d8f3a5efdbb0a86ce6a85cd89a5dac21b8d4486a4470b5438ec73c0909ad16f892798d967002bdb946e0e6612f99e2d4c36ec7e8e41fd3b506a8e04b53070a01849a2db58a7904613140ccebcde5ec94497e714c67156c1cd6c06c040c6286eaa686c7a5ec082803f23def1b3385fec7d0d151b520f80973f522fe07d8a20caa8d497d6425268a5ba44705bc91866f0632df3ca77dcb0d2bfbdaabc6acd70a2928414fb8ccd9e9f3262f3b9835c8f69e3634fccc29e0abbc98727d4445c8cc1b3108ecafd07452bde806e20d804718668e39042514bf412b38916a1ea10f5639110c03d2249d82bc7ed9a8fc472a60741a2563fcb4308f33282481c9734e837ea25804f0c1bc297782aef1b3f2f8d20a0aa04ad59e60ec3964f2d8cbc96571774c22e07f29349db03926e51be16fcc04f232ba9aee26bcead9af2d1a90fa14dc70bab76db2a7fb48d0b836e950392b4d9113b5097f0d2d3dcbbc42bc74804c669dc7e0115779a3bfb364e2ca6a0878cdc2cae45406d17e402a6331bc73ef951bc62c9cf38f133467261541b207c9b95fde149383f16d5280c9934b323361a5347120b072de2dc44b9b74c3ffbb951cf713636ad8e55f0012932453f0e86e81f3cbd1cbb36fc22075775e633003a05495b162d8f8914dde2e3e88eed778affa47b4565d021fc9c55d361270bdc071181a929320a78371bb1f4e99cc52862d864f090b264d3cb5d66468242a9be275cb14ddfd1db7b26f80fefe81851668bc5d0c1ccb468be3482e32e774b2f912b20188c405fc7ff4a2f7fb746fc31559eb71c0df21612c0999fef027ea8444a2ba80281c939854e5e02f17933c80b20e83a831ac13583209bac4287aa2e8f3f7bf56405fe7c86542494dbffe85a7ff76c792d338b183163ae9830763ae973089aed14642e838cd88399179784bf03e6c09f7d378af37231f9e087840f54a8aa589e9e6ca1e9476d5efc0ac71f964ab09ace49a859dfefb244df7210b90f9134e25584a90001cce20542af7beb356f1111abd6f3861de0e6cecffbc3ecaa1d663bc77e750d4910f0a124d186062627606f337ab12a04a848ffaa56a9f04eab64c807fc001dfe81543af15de0a7663105178ce86a1cf75319c4034467b3c20adf587ec3f8b82809ac010ad380ff6e4e9956ffd78ca5bd437458e29650bb34595554ffbe8e150b52d841e375d9d54c40db3bed07a4e5ba0ef03ebd8c62fe4f7ab5d385bc13eb3eb4cb5ec0adc1048707eecfb2718866da4e227bd3c522959e860804f421d0c541be0f43d57001aedf7f9752397f106ee348404414893686ff6876e68d6a89b61dd5808444c7d0167dc0dc33fb834725ba211e289528f6a9ccb9b537c6ec144b682bcbab33430dfd7b4512eb3c18e07d52dc28c1da19194b20ee73f23b7fb980ac55b6bab63cb91d3c2f3e3ce53df35c11d465c6123fa1ddd5be248aca9033fa066b06baf75c5bfbfd31901aaa19d9e2da782bdaf73cc07eef2fd05d64a8a75fa7ff09c07b025330fb8c182d76bf5c16eefae0f799ec696ca14f642dec156a3f3de92d666c25a31f3fbde608da3bb88557b41f533e07b0d3685d4b02a1395b1969bed0a5d5653868f87fba47e8d8ec57bef475d967d32534a943197c98b7dabd3086187d73c2af0e2076c4e51e00951aca733206b3654c6c0bda5f19ac9030fdd97d93134c7a21694e2500c305293df6da35a84f4bb4110e2ed1f7c091dd356f0786c41235985d56c4512285b6476a0a4ba269c7d478198297b0635970a11784e5c23498cf725ac98a1f8c91ae9b4eb50ec0a0a4858a93bf983f8ce4b055b2fb31ca60c7dec812e3cee5dba91fff5ca8b15dcb0855631cef542fc00d66839e0860bd61a896a93c681bf0f9c178b470016ceb42384bd96cc9a3c4575929e15f4efd5ab3ec320531372baaedf84d799912ef79d924152bc35d79c102e9b468322b8e05c5e1cb4e906e42782ceb32b87c38e7ef4a12e801ed55006b2266b368f7a52a98071d5df58043c69b15c76e740e300fd4f2b1372059028b12645fb45003b15489e549d0402348c39738d3f03904b6c98e9ca1c19c10dea83862c20030b5354f693069a46112150f7c783ed37e6133bc070cfc6edb190245d0999b573a0a1d8edd761a2aa9f54283fa2d6786f34e50cd41dc994aeaaa81b855d8980e2f0e33b363d2e4a9d409b9dea9e40aefbe782e12fc03ee74ffd9c5486d3c2c22096b081a0d335d37ac969e0d3d93e9a803b466baf937c4b264c0c320ca563a1430c3e30c4c2b7d12b9f6b334c0bcf2ee998ac3798fce932ac7de0c9fea42e5fe2a176a1ffb5f767fd9b4de9e4e3a63c46d7f59f3d6f301c69b0027df161c994a3b68c5a9fd4077ecae20adea5a27761c10475935cc4db1b28b96249504e79455cd1822f721c924c13237c7d259db3cc4b094ec59ff4d399bb2031ce4f73e3a10a01a2d7c99be88e4053cc33d44ae622d30bf70312a0fb712b4ab6177f248c00a1e59a46c701aa71cb56b51472b1f9f473b4c36d0c812549cf7abe88dca968355d29687f471dd3ddf8fccc978558ec1784eaf3625e1d7005afa4149aea8e09b8bc69f35002b361acb2723ccc2eff6d61cd9596e9b91ef0af82883f17b4712f6d800bb996d0b3489a7213222af76cf7cf6a93c2aefe644d9a51d4c79799684471101e80cd56afa26614a0b46edce5771a7585fbadf8ccbdd04fafb4ed234d4ad5a0eec0ac1ffd5eb9c1fbcdfe16575693961de638ad13821197c9476b238cc560ea00e697ae166afb6ecb0ab48e0a6acdcf71a17893c1a0c8436460a533f832f80c25c960ffa3388499c1daa39e364345357e9b27b6b95c6a0049132e207f2dd76905542509fe2f047c6c39848b0df3ae90930437f6e0fc9da6e982b3e2e0156454b9fb6855601092a67ec1a1fb1c092b9348693ce57eb1897db608643a45db419b26c22e391274d7f0b214b0531b33f03d3a1bd823293e57d5de2ed6e194a2192d98b141dcdba83cfec8538ec9093079cc1c0106102b63426227c22c7afcfaaf5a495aa313c74b54c7f0ad31ef6a1840647b7b5b735d6c6edf2ee038b4d344e16f25fc1b8a43a0e515a747d45ceb22fe7a5175ba18c81c098de2bb40b38397ee3d8b868513c247fa6827ffa725df2a00f37dc71f2dd7d55e058d3fd88415b5019aa291e234d9f72565dc5d7e2a503e7a6d228816c4344b7aba0eefea9c51e5e32bf8cef98f830d02f849dd47a229a36d35219f2ba62cc4b07fd01059809c0b05e59fb14f2f2fd373af66e601df2915dc3d139a5e7f9ca432d315acf9cdb4cac2b2a5e8b04082020e8e733b1b7b7eea22191f8d11f7e14bb673b0c44e24b25c6f81b885bc6e2016cdd9ca4820417677f9941bbb23cc4b41af2f7c7d08864acb39a655a46bc77fbc69deedf9410885befaa54a664c686d8c37c06d85e485cb2c1fc89d3d1c1770a53bbc3d8c1c44d471fcfae8e4923c562117f5bdc70547994821d972b239de528e009350a585db2b3af26106eb7d756d5fba531428f89fc3adb76d323cc681689db332daf697711673b41cabd2ddb1f6de04fe798c47cad6f7dca6c644fca4389339acc90958bf1a8052203800c438275e97da0ea3d87a51544324603c84bbd864620e991e516b9081947efd1b0cfc221a91a3d3453729fded1c8b5e4b9244a178e4bd8c3e58f2a87d34b6d0595777d65b9c097875d04d227e9632c45fec194250eec09a70fbe8f0b9f0c1f879fadd0f5ef896a42e269bdafc12253da63715429bb3648eaa7d9e37b7cdc46e21aeec3dfa20d55260c4d502759a1039935da709dd87bc4b0fc46751f30e3bdec83debb825cf6dc23dd843a384a99817ba41fece830e19dd5cd6c802bc504612a1e504940c9de986318c59fb1172c9ad789ec7510aa6842e214078f288581b5019f0ad56818c87a2af95f4d18206d67d925c3b9d635c0af0d5b4313adc75961e85315da1011b4f0d1046f73f74ca9a91efb8c5b43f609fc79643d52ada1f9bce460667c6bc3d1a78bc02f0411c59baa2aa31789d79be6a6e12da3764ec21022a869532ef8b431a6c681450bf32068779f2af4cd7777906e6561f72f1bee0aaa144d712a8efe566d590697443852b1230e76acee3a910be1a024bba01bb1d46494f09ff25e378ebd6cd3c1f67fecfefb94d64d2cd777faf77f9f9ee9ab0ecfd0bbf863cd63f8578f337baf0166ab6c12f37e6e83b2f9d895a0d3ebfd361db66204667c1479ee25d891748ca38a65671a2efe86a31c882edb48932931453190cae88e8c71eafde4a0d8a622436af33b82a2fd35cbafdc6b14cda8de6db67884d9fe6e744c8de9209fe4b0aff0dbfa0460ebb9e0912ff3fb00fc7a8df5fefb5a819520daa751d8f713af885ef586a6a53a08d72f42ba8b283815709737006a78cc54fdd571cb0bf176847699c6f7e3936ea4d8629ba79247078f8cc265a759d94753dfaceb8924b2f6b93572920ef0e2544e74ef46f4f852f2369a7ec3063409a604403fac791d227ba339f797c8e04509cbd3d689ac56e98feb8b44c6f1b138444829a89335cebcd05d8f0b0899e7fc44ba53154250fb6b6c170c8372ae1a4bdae735b12794b480ec9c1770018fc0bbe8dc482a7f8e2baf1989b225e96f256e74a378f8f42074a3ee0ad14551ce647a0493f98e2212d5c56d8b10a6f2bda20c88bd20ac61813c9c623c26f6489d7fa2f01701efecf75fe31d63a46b6ffabd7e033a23a5f953db7fd99bceb472c587b13d9bb8c38267d785683a7d3e8f5478aadfe90b80ca731c061a28ee66c72cf5b1373e036b29c04abad05d8a6ad57481445c53bb6c3990a8bb6dcabfcc08509e8c3fe7f4f149f4f0f2708b9e35d000d0bbb8889983f6f046db2dd63883355ac60070c843311d332d97bbe6ed5dbd2763c34a2697d652ef65094905620754dc58008e71262588db1248d24643c0d8d22714d610672cff3d81801da9681895120ebfc689d20c0765dc409448b938cca5edcb7faadbb99db8660f984c66879b91ab867360082695fe50547847ab8e16a960042c0b9d63462b7d5440e5b4c8454dc64edbbdc2916521bb7592f5bb4c3b2614d73a7701cb90d424d1f412567baaad9f7d8952d4f7186a20f260bfb73ef925746f4eec369c31ca642426f2028487ed2068085ba08dcd47ef5ba274e28d867a62e9cac7fe412d58cc4e7bf68ec08eee8e684ba529124edb7aa3796d21146ef720fbd16ac396f730d7cea2165d7dd892867435c49360546345786a54b70128941a410d67bd959e802d8a4973bfd09c59206da79b2e4f047b368ba76627a54e9da9155d459a58345740b40d674318f11de472a5be478ceb39c0121bebff6bfd8ef428f3462218d61036c0bcb3523d1235a9fe1b0099bebd318109c204f8c30768233512c5d91c9887524d48f5fc328c7178aa9fb6a9340d041124f216f1f68fff989a17b94e5f3e4677af2dad04191655e9ec8dd3f7b18ef8f224646313270952f5cd4be21894418a13e6d9353faab3219d3291c07de0ad4e11168bb27986aa2c3f4099e1d699dbbf4e36b855336c7ea0382e2421c3b5017dfb4b61facc4eb7b6f802291ddeaa020659c6aa307b7a182e4a023849877451eaf1a0b17a429c4d9b33e5ac665a78dd288fe3a0e85b29458ecbce8c1bd3f3a6b302b6d9e2d88be6b8928bf52fcd17bead15c6365d16b961ffd975904da43da94caec4d6900ed43d053f641da0ef220cb83bb5b6570fa42eea6de1b5ea95431b77b3f8ec8e7d600fe1fc958a88914258a14596cd8e475cca77aa20511dde21d9149bf882afcb9fa06f16c42e57eae76427685ea71b97457f732b10cb0b76763edbce560a0b933f3bd5b0284ebebeda2dbd1f9f6207348d4292c2124a5985cf0dc7f029f89daeb97a9f15792371c1eb7d36e7416a910d44733ca41f7aa4c3757de9bc435b9203db378e4355e195961c19bc2c5e0798f794c6cf0133e1c69adf8d41fed93d73d96c2182e046ce9960a98c0f41ed66755aa15e8c6ebafcf66994631f46c05993e3e234df502c1c60dcf09aef7b9cc86bebb50ba32db56d6c9f3ff4417c285c0eb3b6719b4a9bb55f2273712122db9e0173adb4868f4c755e0fa65d53acb01f89a455aae36f0da9dac9789d1da3b3647ba1c57623da63fb67b1cee129a15c94b80d81730db4bab57e040a5e001c7c2c70fdda8c90b9296522b5e8f2f5cf290dc96bc631a5a535f82dd50334d6ae1bb50048be705adb5bcc40ff8edf4181283b77eb3e52f70060449dd9aa3ff381999a33ecc48ef0e19577583515c5d8b631aafdae605f55c9535e9b1caf73df621bb7cafe05f29dd5e65cd07742b6aa8042ec7f1f22897d809b55516c581757f287c32cae29ae1b62d03ce54e917ab9d09725effb38d8a816734b1d7fa4768b1185b1e26b6fcefd39df587832fd3a3aaf47966afbd002f4ae84590b8ec2a959d4af5c4a8b9751ca58e2dee79cd2e9204248c97a7a29401e4e1bcfe7ccc5a7564f988407e2fe7850e0b1231ebb78137bbb14f776f267e0f32c439ccc71ee02ad023910002d7f23677694fc698da440257912cec333337583de27155e9d58168d595ea219f0a7e25591a9794df5879242d351a64d3b1583744eb765c6bc77582693dcc02bf6ee1dfffeb936a03b554420da7a0b3d8644a7fda041057d35ee1d58b4d6706f686da9425f4f336e3f24fdef6803b0ad68e66fa7b9ef034582c1766460a7fc06b0aa5b14275a194ce38d1f478a3714392629e91e6779d45cbbd52996e3bfc0f61ed021e9557c6e844ffeac293b92c8c38098fdd7e386d6d4ca73273e6144fb339889f4ef6807f32030b48abc6b8066e5ac0afd893c4813003121b0535b807096114e071583864cd1f79b1526bf2b87122b435d1fa71a7b3ef6fc859e051e43124f137c41d15fcabc7beb7d4fc922b46a39488f12121e835c420a12942bfd175e5cd356fc510f8d6665b20fd8eac428dfb036c49104c8df49ce8797f2147321d4ec0107527d2838466ace14ed83210d1b7fffaec283e55944135fc49d7ee7bee0a35d431b84ac0016bfb0c116a2c20369860ccd77a5d158f2552fbde843a9dab39aea20759b1482559bf1827a843c6023f8a1fcfccfeed9b59ad0d5a137f14207fb064098cc780e8ce2d10123878ce380d8fee5851f80ff86fb7cd023c510e0e4d6d85496a043c35bd3e14f1cdb20b5d4a3a721565250f8087a6c191926fa98a1bfc6092b36059f465f7e964e6cdb31f797871fc80f648c4d9b91abb0d90db4beaa888824c1b471c5fef42e930e0cf8304921c4b981a62ecb2f0cec33c8f893b0ee68c5ef8dc49a59c779499156e8bba9e3c58394dfbc7a6ee548f9c8e9932fdbbdf0f73e80c4e7ab48a8715ddd287d3c9643510613d18022f7b8c5cb44ef572d7d32a560b771431e275b697397ecb2366259bda3f3e0430a6dd79dce5eef531cd12bd4b494887c6c8d39e8253ee02fc8d86101edd18e405ca192c0436b4a7c043464597d587fe6400ef7432916af8d36268ec407f77684e47afe51719d69d32edb853e72c8485d0f225aa737c45e957df565e37a813239b5d2eb0a107d204f5468e1f660308ec0b546151af9017711fda882dccfb83aeb139948b7a8a51178cc31ae580ac9f35b848df40dddb8769a44fa359dd2820231ac59b260b06fa143998da935c02c700376608861f2dccf452bf01f2f362324f1bd78a02523612ce5dfabb41f55916f21332e758707e557bc948ba408b88ca49d0e14a92f1069b7364f9c18e4b22a0960c30cfd2d902101266c738f1be5bd84ab8a8df5c344f5c54b35dbc2715a7adfe5e826d7dc73fe7f01e342ac7f277168431dcd01e879aff5fe0d15fc88f1b3bd30ddfa639b003a9586df1b314671587588b37760a600931f016308ca10b29a9d3ac17c4db20a579d9741756e7bf5a1074d522849124d9ad04e1221a75cbb8951fb3767e64bbb07d2689ce2a9c31400ebf41a99f4e3f8a2c96f48c26bca8edcd10eb11bdbf1b9547a18f951150d648ab5262bca40056ac3b2d5abee410b011a618882121dca38a1074e3c49e2c109ddb57dd4c9ba04d5deb0fef53174e577903e5df91e7a4ecbac58f75ed6c641c4c193e9cc2cc4137aa308eba9bb262ef992eca02c586450c8dc8b154e8c464cb6a0e750ec27d0833a65d3f718e42f74c2dd2596c25a36af6b167879ca0d931ff1e3948790c0c1cb432051d280658e52a436a052594f607ed32675aa5729466fed344e715c42dc41f4993bd8ce0c6dcef7b5b8b02debf2646c9560ced34e0d17d25fa48d1152d5b1be9a757c871e114675d0170d58a3ae9409f4dc2d6630bc1e893a18be628a5e57a7a722f7137c923e665002d92c010f2bbef43bac11143622975a6f055b2621893bceee4845b172ab52b376916358a006416b4382d0b44d9aa0969286d40115814fdcf3a086122110a6cbee489e3b1c078fbde93eb66c2e4cd4a337c9741d3876649b15d975815ddad8c05be2f990549763c18b025ed0c24ec07808940083850d74d4c4fcce7679dfc193af0e25ce61b738f959281a5fb86e33ebfc759e2dc51a1fcde0ce760fc86035fe1dfaa70ceb775e519372aea1208f91ae044b05ddc78e26a1a6df3d4160fe0d32aed5f7e54c788224668c9973ca14e58f13374bfda90d74fe0b76d075ee7052150082381eef65fca0c8b411baddc508a26447463c1e01d9047f2af58f4ff99fc986f309d1696cb89b440a51c3c1664758cbf1419b7b38cb9199ec12ccd2d6bec3f961332e6bf803e0ca7bc7a027e7c218bf2edd4ffeb9e3413c4c943482688eeae9b04fd83ccd6356eb185811f5afd7c6072b1f50c3176391960ef0061850b37de154a5c10f467708a0aa147b7c0b314df4c4abb2d4efc6d4663df6b9c307eeb88491e522e06735e27fbaf6be6091c2b48cd263947b7c5531d16bdc9325bd3853342262ab0c2a5a6599f67ecd26fb0a707a7f92c864f28e9e563d3751c939c927d8713e5dc2324b044c515989821885602272a06e19f76201321f828988b13a05ca8ac979a00381fde768ba2a7dbc31d2c84aa2dbe73a7ffca98986e9f8eb1286d6ca305230e3b08fd7543ab428fabae6500e0ac07b88e6f1c22e432fa1856bbcfe6749b8f1cf9c2e7146943903b9a033558c574efbb45efb7dac193d7cfec56d8bf17572275a43f5cccc6a3db6676dca7377e2eddabaa5a03b3c2e148fdb1e1ea577ffdd59cd0833d7fde1a5b387d29f94d168a5aff1786ea7ed0d7316299343fa51f6243527b31d779f1bdbabdebad214a0050b794191d3bec43d17a170a0d403a89c91e426e2b2c2b2e4290a6bec289c8f381698f6b7fc64d8dc81b822329aeaa4e82328093f46b4ee88f4bf2dd14401b04e80e5b96deb1c1b682fe7b5ba2e6be89e10082a5b9a876f68db223a1214f86bc9e917778a6b1b56f531246214bdd91f1772548e25e348635d9766219972592ef07915f346dc335b224ca3961cd4a53650a38d4c416052f7fa9149a4dd1d09a68b00b439c17b4466668ad903da9c202e2c0bbcc45d13a3b0b2307c17379b1605f89ffcc5825ab7049d58c7f244106687e6ffc9691cc5b39773c9112ecafd00c07c8aff0a8fdbb66605c238d899339b8ce1f8b8f233b7739f04244cabb21dd514d7108ab64838b245c67adb0f7b5ffa35e2a34e4096d11ea51eef860fcccb6525c8b7790307b08176168a70ba24ac1c943822cca7fc44fe81443ba1e9e6fdb783f9cb7c085365ebc91e93147e58fa3fb599b004bfaab74e7f4481618be88c3be07a18cea457341ff5d599fe5e2952f99ead398a425aa69e3e447f6470be886ccf8b5b0046d4ce9faf3042d1d3e50f9e0a2ddb5e49d294b11fb7fd2b9d52782831f73af6ae9ed3d5c36ceb4528a2bf84bd5e8407bb23653c26591bdda7c89f4b5e79dd6f06837f59a4f4e737b3e78324da6bfc3ba69f5d0f694028bbd74ee4461239ba41dcaf13a4f2bb942d0b70789e33035b31f584efe0df65f1a3d953566e6244e23b492cdbffcc86afffa04a2d827c2cae1820f9920f81d24ecc290736f73697d401603b22d79e9d6a1721ab534e7deb2b7542dae229cf576ddd84f018b930811fb0d506d1b0bba992c3c71605e6af84bb908880ddf168cb4241e2ec70b7d6dafb8fc9cc9963fba11f6112c3a7d8c250f6c455d0efae33b5f6e2186be2d6ebc7e84aa91aeeac4d33caebe0ccdbbcfd61bdcdb08d4cb213e1dc00d158fb63671960cf4b940cc2e2cf5e2778f0f77ebacb4245b15c035e5620d828500b5177f074cefadd236f26e7a250f7d66b8ffadf714d14aca8716b46aab6d7028687e2cae0ec069560734bf729122369d2de16621e7ee49f0064a41f5eb528a4be1a417e1f6438f94cb7bfe128ae08f50766c964c68f2f2460d472d89a2ef14aa8ce4e9a5a88f3e941e91e1cad3a1ba24c2f4c8e2d11f14ac05bfc79890f7e6ba8b844cc4051118f64a0489c1ba64e38a97b9e15a6f7632fe5137458928875796f4e27a3be6a2bfbd67d1522e5b48a139b402b97bf3abcf7d23907a330212045d225bddd0a04212e9855a4bb8da9bec354467ec2fe93b5c0006612ce7c26609ed2c88e9c046a9cd89d49b1da2049bf555f6040abd9f7c5ede00b9ad53b3665749b62a9f3e0ea4d37b9699469686e1d8aed554232eb7db6064ee128aade549ce9e03c7220c2debe267d9375aeaf6d36b0411250508dcad132eff13db7291c485da66350ac76a680fb3f9b0468f0fab8a336855a024331f4fc71a703c943e68b4e7e4dcbb615677aa37b5bf71485ab8c1614a09bde60075d5e15b2e17d369867ca5927bb8a62e570a2642dacb8ab643960b78e23e6eee238a25b20a18d54f31bbfb4115ba87f6afe70292b2a22a73f1744ec757fdcf01fb7e558ff2bfbaae771020fe519d7000e2b3888e771cfad489089184c8b489e700b661b9a7fccca228d97c9152d118248a43d6d9ae60b7a720cf0fba22b1245a1bd6b387d03ec7278dd40e08b2b7913d3f79291ac404ff5aa4fbb017efd7d6b74e5011695e0b704547dd464c8e9f9fdad331a5f37266b66a7a7ab10f1536c627c2f5117d42d219628756a7643f862e5c0fb8a2d5ba13d0911818e9767b10b67be3d2f96b62984e9f095c0178acfd557dd2a41241083955bcfee0c0297c249d84dc1c4bfe7ed6acc8fbb7c954d8831107e817c0554a69843f66179afeb6b6dab2d141ecb58aa0296a03960814fd33852f4dca9f8bf352","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
