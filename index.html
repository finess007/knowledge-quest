<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"fed31bec69a0b7cd8739064c46c5c15d1347fdd19a2266d924aa23865f6fa79c1823c23124fbd6104131c10569598bc8fc755dbe5e48d3a7c13c5b6e0f420608944e9b20c85c878a63a707e09de4fff77dec1f53cd3e21301bfde1b627662588f560c6c0d283e92e4a016623bc4204f592d8a3c0f88438b28455bdc761f50ffd64ddbd671f472d4041f9b8e098a802574ccc1b52e58d7c94fbb40ac5ec3e12d0eabd90b36abe6117cc25602ad0dfb94beb4dee8d07d754cb395c74a7fb6eab83115b90ead957dd966e3b85c7d4f9d9aa35bf44d30346ec3159a9c94e49ec4df39ab236d43a0582e09dfbdc83d78c759dbfa081a2e1750eab75665827e02ee9980f85b2800db593728604946303e506e67696b084f1c2c6ba7d47983a83dd9dda0ef9709a5c73d80728408b8cbd3bdda0bac17debe2688f24b3ba851f1b5a89f5177d444b0408d882bea5fde1d64988e8d10e12d6dffe6a86dbee8bfc43356251e55a562fbd47ae9e9d98989ebf81730f6f24d8e22f3aa56cafdc4b7277e85e1274eda23a4878b23c20084b1e8de578475a574594dc2c8f9861931f824ff3c2408bf87d8710cee0eee3c8b781ed5920f170f0d6f7284678f11620abcb39da6f4ad048c11708d5fd00991c4bd511898ae477462843757dcd2b29ec605a330f982cd8f563a1b763f36b6d5200e5ba9d47f26c5d0ea23272afd5f1c3fe673c8ddd6004693b4b3ee636d64466d6df1159a950ea53e86db41bcfc157257940537ddcc487b3d160d1d765f30e530f040fd82754ba205cac536adf419e4559887ad181714f64a02f7b40249a6f0216a19569df49b3a8a6e6ab6520ffbdff824297eabaf6cab763c34b1e96888309a5928587a4ef29e26b463ee619e6ad7784b5900ee7d5eb3f643ece4cf40d080849568eb8c2ffdcd24eb27e9e2016964653f800fa78df73c3b8f714a3dfcfd379844204cdf57833e07361b9196ca2e13b179b35703e6d3e6f089b0e2c796ac681661e5c7ec0d5393ebaff79a82cd67815a0aa7ab725c63533de813035993ae38a655f15640f546c30e9c663b3e1f7c87596189cd65955fb9181fbb89e6c9ebedc2e8b24cb1538bb7ab1971e3f70a9864474ce9d141af864278fafb29ae8bda6508be629d17f0566e08d21e6df3c2b6d72bbcb9c36a13a311b88fdd8876a0058b9e67a1b40f9401e945e223adf09b8cc5092976697a8a5a016ea62f6c855214d288b6cc7b31a992af8c1f6a01083126480b184c803d8f1e9149bbe57c78c4ebe4a21180acc5d6111950b28c0b65c991a2b4ed163aa55e5e3f41cffc0df0f730f454acac8add2085290b286bad929eda5e840158e6ed0ca51c7a5bca8e1ec23158f5d6f0c865ba27239e7a4d3bd2520967a83bada133536127737726586272ec7786b63a77b98cf56b9cef9781f93b577aa48434c56f239acedb58d7ce7126071d9affd20f3bde7162ddff2a909b8f69fbb05150f12cbedee4df103a3d78552cc0369fbc10255014ec33a02b831b54e21639095cb95711facf14b17125ec16af0bce8e5af8e3310fa60532b66bc5774e5e4e9ef6596b9c2ed0eb01e9f335687069f9f0bc5137e5ed0193ee024e411f37812edb3bf14913e041d73fbeb481e295d087775b5d0ee4646fa5815c9a260703df9fb9cefd8e90cbd8c9c15c05d51838245dd5e1a86f2f23d78b7941ce6d3ffbf5261dcc13c286cf7344c938413f3c9193015d204d1520470d445d7e862d96d2ee48fb2e2f210f6d3030453f73c73b36ae6db6f496a4ebbcd02e4f8b0d5b5388dc1d14a05175f11a5bae888e44293f4366a7902ad4da75e30f2d9ccad7ad97291a15093f80ee3a70a13953b1c373ed2c251c0a7acd3d31c1a09ade37fc00fb8da285e90d66513aff7ca6e097d0ef8ddde736fe9b5ae111f1014b9e30facf2bdb4bc9797ff415b3a679a2a701175174c28e36f23beea7db3cad44720b68690e462782c0e23c0837e9dfe696bd8d33a1485dfa67f43ec8f0d9cfc7cb9710a062e9e1b423a59d7446bf021858d7ff2d5e15c0d405bfe3215e58598ed396d84bb5c53f725309563f1d917fe54fe5cdbda4cbdc839e6e1d25a8d9b358ba60e37fed9d39b74583a9b37b675b3af07292ab7735c677c5c4ed9b93a8dfdcca9b4cf43c876e662c91e25ca316ba39cb5d6534bea25ef861685f2c427c329a72172556e887907236f5feb8b755b791fc4a798ea56416ca1f7a14652b901bab44fdf1d59b6d044ebfc2d3363e1c3c30f57257c7d0cc62cc3de14dadc27f2f4cf3bf217f23d4e7389ae09ffbe41eb14baf5de23f00b7991bfe35c6bd78ab00cb20b0837200f1fa7c4442d0fd423e96cb9425c3a97a82f350732118d5161ac8a3fa1e976e5c4af3d0498d8ce8039ea59fdd505bd665dd07b0a37162c3c4a15223c1f985e5873a8de9e874537b4054a8470091e4b85196e4bae2e56f1dce6b46289febe0247770dba8792ae6cc2ec51319f5b12a5e143112dbe75244695ac9fa0daaff0dc1ba6f7c893a7137ab14d6660863beb229525cc32834751abfcc7b5241fdc1e5a1baca2ef6426cf93b10358cd4ed5538965df3359d19459ddce8ef1d9f8886280e3b2567c909ca0effcf0c4515e82d47c46285629e8697beae08409ecc13369575fe488375908c979bc4ad249bc08726c131d5a62431349887577fde4774bbacf41ff5284be9d5415696da1b4c0038e833952a63f56b86f9c59c9f12d9fbd2683bb273efb2e814eafdfe6b1260a569cb919d1e87b3428c003064996a2528f6c66f7b31b9d25d675836f3ab7685eb217d62c721a9f56869188372d67a4b7c055801ff318cab9d8101ae1df138075c8899384e893381cbec7ae1b86b32b82f27631ca18724412422031e0e1d03afde7bf870c4f6bb3ad2f0564d092a520fa338f82c85db8e6cb7a83836d705c36286fb56426f88d6de468731d27fc794312c03182b06cc77a07d1cfd45052b9669984e0ca6657dc85195a144e02217f775b5570bbdb161f940e6d7ee175a27e07a4b0568d3b1c18aa5eb4b8ff3a40f3ec4742b533aa738e5a539015802996b42b9608ebf12949edffdc8254f349b8bd778112a99fe5f5224c9ad77a32d44a530656eb482a56b58d86dcb5f93b03d3097b8efad6fc0980bf4167b72b8350ba33dc08c6f0a734db8429a171fc4202e2ae44a99dde193454e5084fe304291df6946726784f7708685c8c50a0c0055dd42fa06a117aaf3e1b992574deedeb183342197870f7e1842022e27067896235a60c325406c8c8179bb031eca96e9e506fbf51314ab873235ca2953e41bbc08652b68ac8c69239cac7adbfc1d68b30f1b282f050c77f34bf3fabb4b2d625160a4d52a51a10426210665fc9b38d1dbdfa4e89301cd8958f12407b6597c29a37ced80ba05babbbb9ddb19af1e583d12c89047f2503bd53fd7fb6d882696731ffdb87f0346c7fb7f9dfdec3d2434a987b75b143604ee258add01f48c54656e372769944424f18c7c22ede85f7a2094a21d8c91d2168cc636084688ad363eb44d4461111a1efb190ec06a321df845f12546d594b26ca8267578bd1590eb34cd17863d4a165783977c320a2daad1f1aaa2c1511ef0964b2a6db7289fc3bb8061ce75a456e12368493811fd0d913f4147aed4bc879de274556ead59ae8ca1fae910bbe8f1694f99e171bc1aec6713fdb99b991aae668a151770f8a2d6d053e189d6b79571e395a072e6de9ab41d0235ff288dc00acea0a78227696b90a1c1fca34c47ef82cd314c32fb71ac53fd8a61568e3968de192136456657be90c72b6842b1b2425d40104bd300a849512c14f914a88f9f450cace16bbe193feef16cd8d4e29bee898025effcbd00423c40c77542734e6351ba055003934d9303844c8cdcbe7ccfd5ed2e35d772710c83518927a8f14331d961065d06637cd10584430d38638563f4db7e9382bb18e92a8e00807da0d023e99fe0f05822abb455f51caeee81957b84004c7b06448916a4c98219035d292ddbb59e83e4b80eb6b51dc5a7274bcfbb8d263651cf09496efcfc409a8ad21e9136b923a71bec5e6e8def408ab5b56103c5fac031689ceb4bf918ba3ab066ff50f4cd06544528846c70c16a69d624783f036b30b7e55b86f1ac3a648644e81fb19815aa9417022be950cb2472bbdba09f08d175815fa7b4fe96599388dd51b411c43b27f683ca6840cd5d1f589ef0fce10b41b4a2d6b401c2497a165f0663db2d2fd81301774788353a1e09b3249c2e98b0acd859c5ca9726adb6688876908a017a9fcb4551cf0551cf806ebeff4030c031c90675bfcdc467fd815403a190cdf9039de6542e39adacfdd85e652aa695adb34dd20e93e1bfd2790c2286bffb08c941494faf64891ad49ab1f4ccdeb4371f69ff7f81f6fa82a0b2a15a74bc1518dcb2a6fb55be8f0483e0e763966faa32b64facafb8dc9c4cd543d076cc1dd8cb0b3d5b41ea198a6f8178d66fb9661c5e44f486bfa23ab157d1203bca3da19c1e129e67222d32734bbaaf0d4fd8d7be6f2d57595d918c248db6c3a35fdab86aa56d00a817f8cdcc7f07c1954f43306e35cf0da416bc8b326247c4f5dabb3b12d0bc764462903467a8a849151371224605787a680c5fcbde86a5db50e5a3116b08b09f791e4cfbecd3129e41f7f40bafce4e625b66f7ba388cb1dd54428b3cdfe246273580b46b83a7a89d6c4a817805d09f94a1032aae952f0e637ba4276ab189de62d95dcd38743faee4f28a5297c9cdbd8216f7db8af9616817e0439aeb6c0fbdbe2daa8781bda986588e34e98f59cab2a41fbdfbbda5526c1d2b043021cd242ae2458f1d0ef7421f853b40d48cfb6be7286d94fa4d549a1c6fe8cd8e6117ab49a99ed1bfd9f5a1b38ace6a10bf8dd090237a568b8aea64d206654f7eedfebab2f8c5fafe293dba86e9e130d1b97d5af6619262324bc3738348c7f29ed073c52be2dc6b0899a3a6513f1e8dd73e7da62dcf8310feefc3703470296c12fa46e0118bbf6bec50b778f96a96c28bb8526b2b67baf3d8d10afab7139709f30a25426e7d09e191bdb83b5730f566a309423e62e259c1650653c8441f61781c32dfeed55bdb9e95f0a35b4661185be8418c74b8c9921a52465c6945a944e07cf10919b3dc3193ae32c3ef0e7a8ce3db086f14f7cde352a4a743b494d88d16ddce0ab7417a33aed5b26fc532509ee3b63b0b4fdd86d98c8403bf1446e343ba372ad3c5d10d08867fbf2de855b672583e6f2b80fe0c57031129d8959bbfe9614b145b21237e697ddc30882bdd9ad81432e599128c9c9a59e0e3eda257c7f50114a2560f4ae1d4a9a5b045a4857dacd9cd7dd7d98e839237c810b2e3ddf84131ced0ff21365eb27727a02f6fa086cdd03d52bdaf82555467761d36ec6dd871745d52b7f47ad1f816f7498de02b1259e6ee24e61faf42822874b2b8b0994b49b369fe50150293fd165a9c0a641cc1918b084c00571ee7205142bc88de2de8c313978e1b90a2a4521ac80b5b5150407aa0f33fa0cb4f5f0d6ba45f3f4e4e16f0eb716b3c6c15da2693bd716a1f2b81850387c05e1a9a6f426ea80e96e55ba4d396c1b697b42a44c63569ca6d2f310629c7c2f894443a39c96fb4fa4c032108c7f65b24d164330373bab5b82f1153f361444dcac7a3d67d8f10e1fbbee8e78ddfc0028443b36d3c36c56aa3866b4bef7b726e650546da88b2ab8cf74d7c697811eb2fd0ec2bf2583a8bcfdf0d0030103f9a9f44e214c953227e9d9b61b185cbe029596a216888afe55ec07edc8ab19f216a8b252b4d87ab476946617f465814c59f82591d2b538de7ae840c2f2b753697e34d1173144c7072658815412dd3678edc5957ae738e49e185359bf3731db617050594b70e32b1cea7b0438cdcc7a96faf657b6ccfa6e4275f50f4010c7749be8be9149ea7b907335b10b95bc5a1cbb97d9c54e39327eff83e94efaa01548d088b22d697b8e48032e42754f62c6f312124837a81ba7bfa4e0772e02141fa3c726ab9b4d8d92fef677d3240534738bda39017b0426160e32b526ec5a53c3a84e75a3e519c4af8cfe4d9d0ac71d94e81f764c62b66bc90b10fd5ceb8d569771204b5557301677e35c9325df37e9d5c7a38998deb08f531367fbf6ab5f9365984a0287704d16b7322ae781eda82249fb03abcd99b923b4efc341ec1ff0faf5b2ee5d025092b84dd074abbdd566ab32b17bf1839de61298bf984d16fe07004820fce692faae39e4b26c235aea20907cf28f7102e78e7a236c7e5c5f1ee30133aff32d33d4991502dbe79111cc054f7f02c68bf61b5838dc606a398331bac8bcbe943014fb5a6de783f4f1259cf2b70f06db205c1be4f15011a317ffdbfaf7bf82cda816be21ae65e253388f135b3bb1cc12cc34e048121f45ff0d2e3a1571ebbeea78c75a1f0de3227d25708e4df0c7851ee3fc966c5a4a706ab276b51e34590580ef0ea2a10b6d4a2a1caa9ff5220b0d19e94dc10e66af161724df084674e5cd0a98bcf78c69c611e48e5b8db0e8d61e77bcc06e79bfa1bf389c8ef511481c607dea5ee32508edecc6eda2b8f7b783c76b49fdc6049767f5eae5b1e829c889a7da69a58ce9a18d9e67f9065d6d76bf0385175ff59980f1f84264a6a4be76e3ac7d2bf8bbe4710e6e459cb96b49a5e319dbbb0d2d400a537640901c33c582e1655dc36b47711072ad846545442035c1a5857d89d6cfae20f5a095beb712bab7ebb6b5b9af69ae860d1a8d6f8975cf3eda60cdf05df705b2d43829f76025d280590ce1f6d1730e05679f6c05191ae877eeedb9f4a142333794f3299a2cf8ca6a37c9fe417ab7c7ea74b10ddab22bcb55095716c3437adde0a9c61afb352d3733a0b93f5722334fc25939a14ee10b4c2d083916118ecee80143bdc1ec151495674dd4752fc7878766ff34c80d6f0460708ce20424c456933e426ba5d8d76321b27e8c440b1439237a9f9a056ce9342e368c1775fd699dbeb1ded682cc203108acb8276a6b98050f319229802ded83f83aba27ebd0b8a86d30f4fdef8b8b746165783dcf0b4bef92035506561052f8c2ef59dd87c539182273acdaac964648a6b9cd4cf79884b849a27976a5898dc42a912b6a89d4da29ad0b5eaee0fa503f1364dfa0ac3bf2f4e2815df5fe06b03e374c50a473527fe5b6f1b56e19c47ddca35d4e12a12de59680ff22715b51beb1236a35985d957ccdeb5d01fcee0e935d810f5a397ba7f9da9ba35af2b1f915962fe08f5de854c0a6f155868ff9328711547edbefd2e91b798e7c28495771da2f81ac0ecf5c5cf7fd37efce2cf98945095057e08c1935eb7ee4d8e88e061bce66cdc5448b9cff9dc89f9d3f8d316a156d5cba1960e762f6843beb3dc5a84b1575818f90d9e4ebc21f7be0c4b295c8dae4c0c9b7f3a242db0d09e133f4d3b7edaea806b18fc65ac5e5e7e4d8fcc2c424a916c6b9960c4a5ce74223699bd7e9a82a68be27b5c25427d02629afe99f0a639c42e6e7bdbdf28e4babe6f32458ba52f18048bdf69533f0f7e0caab165743151b63926f9d5917bdc9463c3d34b695d35f245bf3cb839dccbf039d1208242809a2ad61fed0d8000e40d73111818f4a855799e46dea3a11d0aa9534be0e8463ba42f37f5ec525a85479a2e0b94023a812bdc41389c99533fd631bc1e7a0b0239a5cc62151a43210a5219c00618c39c40b549a94be95eb4a17d41822149e8d55e2c4e7d15416f7125be0ea18d821c58c64fa349f46e7f18e87069e8a26fdd31dfa52f002c9e54e267f8c95676a5b9002bfb19a521ea9edfb4f856c5a17f61d2c7b2b95d27ec828b54a0cc02da4842615034738e3222d8df3262e80b758eb5b41d8efe9d24d70a45f6a6c5c8bc663e03d76fb1b1a182e5ffe7d6ef62e3d81c982993a975bbfc9e58b2275f353a739b76109b036538fb33dbda075a87e151ac2b6976bb2c9bc1b1b33c67ff1d2d7ee6cd51beca0770c27946b852e0fe700db6b8443d7f9a6bde1a3718f693474fba999ca9be77a43a8b86ea1e17dc35ff54c98288c191972cf36f93a25121b954c680cab7735f46dc27e48d95ae87b89a85079df7152060557ca69e9e4b1fffda1f24e0f17be5248cda9b62f01a8395e2086fb4c6f9683d6726033371caff9ad9ceb2d73eed90d196a603075a345b7adf51be9ed68923c44dae6bac7d3d4917f04cffa130bc98165b65d27780945945cda30336f532c5e4bd915dbdc7f71bbae0eb8c23402dc0eeb88e29c60bc42ae934d4ee1d46be5bd3eedd9b094995da129e15706a6dc393ad899fc0a50cf50f3d97bd5e2071f51f65f260305d988a7c4a153e4a8c6e5fc60a593864e7b5dc32bd437b33a70e50c03dbdfbb97e5151ab940ae6533019a2a78624b2367e9e6c396c55b06699800e2356743b453b4b09a14b5124ada90bff478d55fe3051c2afe04835cc23ae5d3f84be6487b3fcba8887f66e652e6d9db57fa484e67d028ad3b126eda79ef1f886ca3e10018599fef6c42c755aea8eed7a1f290258c5dc5918586953753ee69e91f9725f991410313583316ec4739e85574583ac80da24c36cd4995e8af9f057de14b4c7c10ef2e0af4966b531717497975c568d89081dd7e8bee0eb3fc8d0b3ac350e75e3116ff96480c0771d9ab003bb9adec04267b8722c345c2e204183792aca3ceea549a8d958764bcd1d29328339eb84803e0e6efd4fc2dd6946bfce7ceda9ec7a6a681ff29604ee9e5bc67005163582262a1aad88816ed8f820c22fd94106645e4ab6f02d3a0a043d55875d07eae47f63a2b7f790d512a8799c00aeeee70803cb751a4954632df69683b8beb4e2e8f8a379f3951bc56a65897c584c7cf9c214f9b22f8c77031442a6cd037dcf133ad307fc097c2fb5ee446290f6a28c52db501fd4d69538f5f8a2ad8dadfae44828dc44c73440c68cc0bdc6338fe06d16f7e7faba5836af68824fcacae8dfec9da06702f1a1649ab6e9a07ec7995d81c2eb9249bbc5bdab31a5cdd487f74f50efd4e8035b5a066cc44b52c9d4445402315470ea4d19342994638de883b669cfe5891b0625a21899a7d6a17b7eea62152ec899520434f54755260e77a398ab200342f8ee3f1013c274ba737a514ff23947e38c512af44b765282f1cfbd4a4d9063e2244479cffc13e1ea95a1e7d09289ca3afd0fd844f4df9d95cf4b00ea471060716bb7085473e432ed437c82ef29f6c3dfc8adca434f50777f996e5d7fbe3a13b31fa14645d6cc95e055c593409fcc8d42e448d9a885e672588501b36acb880018aa82650638eec476aee746a20fda0ee6f08f91f27fba00a8550c6f061f1bbb4be6932495640bb6147c5c2b4359b258d8af096660e438f1e76799a90e7dee487420a598d03453363e75904445003ec44a9799878e831ff8ac11c61f0fb685688b47fbdd387f1ea9fb4d3c5cf6ecdd30db39630ca37153c10c32820cc9314fe0b03ac970ff913b0db58141046a8aa4cec9e7a8f20d190fdd5b6da762caa3043472a8606a0e8cd27236975791d5fe023d53ca68266abba6180c64643df1ac760b22342d51c6fc47cad1201baf4b39efc29226b101ffd510cd90c5aa1f638bec48fb4543dd11f7b8b7482964893d6d1359575a07152173dd2092358c7e7ca939f72f79188ccb74d40bfb3b358a6d5c196912701257d3a7e574a4505e2ba34ef281473c711d2dbb8b8ba7a6d81e724e04cb750d3d991ec59f5fcfa850ab164b243e2409b1a5db0c42249eb48f24e742b1e86b22ca9ea78639d58eb3076d8ad920f06388680dc0fd6223d104e46ad392152d3283a208094dae4a8471ff9dc621fbc443c5885d513c7abba52fa4b9052757a6d152d5cee7a58597de2b7028c5d3ddd3b95baee9343f4fb60d82b4733ec511925d128cb59c1bd2effb23c2290f476c468cbbbd30d0d70af0e9826f86ceac638f4c7bed2167cda8ea0bbbfffe738923c5bb2edcc2261349b53b5de72711ae5a1f806df156c8715aa6f251df14eec599be28127333fba8099726c8faa5b29061640029777bd6f1f42aee0c2806b76d158c3412922fb30f1724e93a8bf55f5388dbad87ad18965c9d5a87cbef76320f46e592b20f7089ab9749ce4099ad8776c3392e432eb2e95142ba9a356c1e503e6f13fa4e5a1912cdb169259f890dc579686bbcadb8c80682c883f9ea8788cb9f042f37c448414ed1efc3744a3c0bf2504e9f092c5a0aee9eac4bbff12a3dab2a12c2ebdeeb57f8b2cf70890ae967ace361c32b2d578fe01e2aec2257aa70e1b57b444c8a0e7caaa0cd947ff86b1bae4dce00db81fe105ef84f747b7a0bd28f16baf39a21b7afd7a52138e1327f63617bba190845c936d000b5485363d1dea6465b5ceda15eb6587f87ec49df2d70c9f7d2b92078d3db0adc93262dc88ad4d768594c9ef6f0b7f7b0b68bb87d06f834563e15daa1b3990e1ac64ae39d0e44d032ee8ba985bae371b743629c5eaa6434021a627e6014bf2bd982677f9dfd526f1ae9f3caa432c9c05cb68ef1d65850599b06085e6bc13e20ec17591958ddb1d13edea16f0bab1fe483727b8b8b40cc1f57d7bbbc268ace56962076f6f36d7cf7b510e01058970c8806e1be1b99d599b1a7ba9d232b9bdbd7f5b2979211036ce9227264b48be5fc25ec6abd4026adb47d1a90fb98fa8678994b573fe6f12dd3c835e33ba1f4def45481a1183a7a31164bb395463127ea9a03730814643d405022e3066f13e9514f2abaf50d8079d8822d5d9792c183f33072ffffa99a2549ea7791467525377684a33e71ffc1a55bfe672b187e2251652b05978808de022d95a344d6df2ea0466cd35fa63f58e4045f6850739a1926890de274a3631f568d76654d2c1112559adef517cf2c627e7706fc55f369220f4de9d9cfe43e0d821a222342bc3bd1dfdcc5bbbd6143da0570b12bb1df673ad491d9e0dede4ae453b3dcbcc1bd30d42aa7653c942751ab84418c3c789750bea0ea364b69accc48cf00a652441e6da01d2c06e3723970e613f0746f47c0429d2ea2d8497d5191d4f30be160351bfdd30ade66ede717245cf6a6405b4ec2526d03e48e14705a63863122d3704c040e2379b311e395518619852fa210a2deb6bd50b6f3811571f45647f809df2a04cd255f5ce45f0f9b16d0de1713854c795402302e44da5afa7560985855e37ca5817dbfd4950db2401bb809e45582e6f0ee520c440d0fec6fd389f623297d669731172e6104b92429f8586dc89535df3642f900852f6069d74eb0f587d3f5b20474ced83955c077fab6d329a81fb00441ec91d42e49f8f9b7fd20b896fd9d975024cfcc3d51054c03c16f8b34f30f124279be6019d7c3e6f7e2d496abb1724a7b7bd5fb27b9749fa7ae2f74965bb690e841ca8959eff7ab7b13e052243cc2fb774e80603ebe777a233727a6af03b0431a26ad67fe704b32c94a54e35c67e024d61a5314e5a4dc2d8c40ed7fbd4b18010a7253d8f4805de089b41e74daa9278c53ad798b2768e9d90f6812a50a9cd057cc72e92220d193e3ca403e76429a31e05112ad45cd2f48168cdb1ca0afacb26a8063cd0cf7190b2d3287229752d5dda6525e8a7a688fbc08e245adbc5bd2cd182b6f018f0fd49758e05f78002e634e141c3ef436940323977bee686d4ff0d3888f5a0c3b4d35b5938751bd926655c5dabfb29c0c142a623bab5d8df0fb00fb4046e04d5b7aacc773fffdfa6888bfc4c72b6eb52dfa185badb931d81b3f5439c30a19f20afaf6f9892b91c041f00c1ded57484edb2faeb3c90cd5fee9018bee9617d341d3b647bbac13fc2abe29d5ccf77f0d22d2779391c4067bea212548136cc8011ae482f7b1d68f1ce7bd45e41983364f6bc68e59f3ff14e5423c4f01f7407a401ed16e2a08258f1fded3e54aa82912e28263ea07cb9d28073b1d7469b83aeea1a3a597cc19622a889f41eb9a78004a05559c5fd0492bb85ca4530b38d80ae187276eb981c1d8445af92889e8eeb4fd336dbe4aac29a2e330e6ef0f3b9a7864255e4f5f1a6ee0c56a9263b15956a5abe11d15995b1e44dba7347cdd92da9eb226b5a58a7d282720594a2e87653fede6ca120ca07a5cac79c04386293bef6c798c41d4a3753fa7452656ef6170b16b0af83ac234526f6c4764d9f97fc1dd0aecb4d10a6a93607718ce88e6cc433ad5d05502d94cbe283d3294507d82018373d2e6868fe3402e490331897daa06ece932db1f05e673310c231f312e6a1a9eee463f85347651a03595a3dce2e62cae53f2ee1766ed4dd2b078eac42fd9cfc98976cb5a5d0d93472057c148c549efe3ac9f94e0622dd70413be74072690429766c05ac7a0afcd6c39120006f436ec621bc35f1757a6b6f6e2bb31a92ef7848565aa126a917c281caf2911c27b81c9f0cd7e11267070a95fa2486d83232d23358a689c27d77418fcaef6c2e795697453a71935471637be045cfa8c59e3ea9430081af350ed538be958078947098e034738b8e5f4704978ea7d7a34bb4901057704d29ab2161991afa86ea694e0c6d9ef38651179c4b9a6d6b09cfe6ef0269917fca03fe078fa5fc76368e02a3db418d23d4cc5036de062f3cb696eba2f41c2b7d9fe6644921d8efb54b671acfe8bac82c74aedc7571d76b67de21a503d43ba011c1975f8358a0a535d377a83b74a503692ffb3327eaf3ba2ba94c3b011a46d28cbf6f856cd045adf1566cd770a302e2338e5ba1aa909278c890b8d5bc7a6fdcda12d93fe5b8499394057e40c73c5ff92153ba1e8347e8b63b521298c9136fe43a4386a2fb6e78bae2194bfcb79ca3ba2e520c3c602a60ae6175c4300cc68f84e04e3ebaed7f46df4ee1fbf3ebc29c8a6fd38346bf07662b02f0a97063de2788528bf1ab3ae24bbd08d39b3ac2cf8c5185290e5841ccf85e6cd281a6c4bca54bd8a9e3684d12d70d99d8e766502a589e5c148f625cf921ce849c6d506fb3b3d633650b80b67dbbd8e8e64802325b317473aad5241aa82edb42b7459f9d0a2102ef51f454ba194ccf2ecff018b464c01329fc34917e13755d35e270fd898172b53816ac85fc8da7e3aad2643a3fce660634d36adf68ff40578d8effb42c5c89c778fe80283d003a8d280dff5107b1a6ad03ae355d5619ae8e2c8dba828c3b073f20115648db0dc5d8475f8fe9b4fb92c1b6c6419391c51ba7e61c761c7cca4e658fbcc81f6a3d9455df52c567ef12ac7354ac0457f7f5a8ec055e30ab7236f0ed2d225e704c3e9a61c7a85d1972e14be1ef264056e7c4d5309bf8a2ccc3c61f489aecfc73c56a95d104a6285ae1f3ee3e1e29636f89205e1b547d4bd00ad2736836f4f0d5a9ed4cdb7d0ec0a9ac8c5b3ac8f81c29f938733e74212f4d2b4e686f9bfa88bd1bb0b7faac590bb34f97599f3962fe4b9048e7819125d62e47f58caea3e0ed9a8b723e071b2d1bacd88dafc7cc9e72acfbb72a49c7eba5b8522e5dbd80334f66761a34b54d208858c17c1b3038a5aeee85a8961f94145ac39f3a4ffcbadf3a863040398b42442e4a6c3b9018ae333ccf5ad5bf603cc050117fa8e41268e2910779e8fe88fd21e6792c641b11704291cf168de17663b726c4b077fa1d9de418d4cb18686a03ce5282f1461ab5ce476c522cb1ca8b137e936ef3a80c8cb89913d1f4db7c8f43eede6ea1f4cc00e17748110fa82d6dc6600314b7956bd376989d545a3d8ebfac78aa5d2dbd53a57c15e8e4d75d306092f3120cfe6c71b1123c0ce00f0c594f9103ccc9851da85bf11844a2f877b96b0c9c94c90354b6bcf9b25a8261f454f535c54f665ae67ad023fb31ad6eae16ed566d65869e36ff963a096fa51e17c79fd1c8cb9774880592c0e1802b86e01243dfc0326c3cacb5cb5dccff40de7dc02d6834b01de5501f3471e482098e082379f7f9eb9f489f31c58d7229994c7fe9461ce7527576c49da80cf371acbb7e92bcbe851f69c78d997146a373f52a076f6809a0eb615b33c7648b53c16810938813ea53701273044f15231d45b0a8afc62a3a0e03d62d5b614115f30008756dac9461c104aa5e07a4ba376f6d7f103a884ead7b659a5c0c6d4ca5e8b209bd7226784bcd35a9988df73647d9a76250f41c50f246355ff54ae7ee37e5def238b4af65419ae45f28697ccdc02677a6ed691f87bb694033fd3c0b6315985ae25c55c7299153beaccd7e079034c384e5c1384b01cc88b8853e116b68f1575ab4eabae31dcfc978fe8d00f95829ba854caf72de340568189c77274c309dd8a63a30e0713ac860935c010194c9cd021cc63778ea2177670163bac8ca8a317b33d5e8c1dc1329144b88dd752d1172e42e43c38693ef1c6f2bab6abeba1b9c98f44f8f898da4f2d3f9039d062d90a82e4410ff89aeff6fc2ea039d40297672d800460f055cffa8748a3642b39296cc36f52dfc1cba41232e5ecbe7f5159fa81cdae4c7148f667b435af9261f59b6dfcbe8a5d9bbc0cb12b2a3e0e8aa3c16c51e68aaa70d44cbef9c885f0d3edf5db790d923d01c471f3ecb259d7c536c982b09f15cc9f3e82b4e8dbf19175d644c449291b20ac7282d5ea5203802be94e2d4098c4fd8227a101acc07922ff61b7b26bbb7459b5d161d6869822bcdb262b7c35883ab787ae1809a9a6d3771af258d380caee090f2d93cf39e64a6087e089bca365b866317e50a30dc33216502b6b7963ab872488e4a7c1a4a0518040fe47cdc82c72478b80a2bec26eca2c334fb0bc6899c7026a6044319be8eea3ceec1a3c5f639fbb617368e7c1b74be80db6b0957dd8091c7e17a52a2831dfc874d7c0d2c7f1e26482fd26b416a9f2d2248b0ea98dd230492fcaac7943ddbc2b7baefb33129380cc5246eb1d608b6559b62caf049aacc1a96b08f9165cfcaef3756e9346a657e8af538712c951af786fa3243ef36dbaa615ad066df8d5301c4d179a9db92c3f7b38b93398e20664ee4c61652c86d278839705888a459c014dd98659f1f1d1672c430944ec3efa67179276a854b81b5a48239606ed7afbe251d8027ee5012b4fbb72136da446c940a076fb748ba5bab27560ba9f6c98cff449f61e4a26ad4b673e42e25eb37fce3b686791c8db3e1c713f6b6ec0430c78e1f6f197ee5edd3f64501712e999026177f8eb7c97d59fc7fb795fee1a2349460a949d05341d53cf562d7dfa5c1c9add2e65f96cc4a903056a10bdba1b4868ed112f78d8b195b4ec64e2bfda031db9b7b29ebe9aed9b057ec431b78936a35ff89aaa0c341b959027b914df2102151a515de4e2f7164e2c4cba5385cd27b6e74caa72fc3bc567ef3998f30a54f3d3fc012a82919cd4bb9122169e5d90261e88a717779bf7befc3f4e5a0b309ba8051a22bc384375dc0dfc448e14bd644e169d013a95b468d446c7209b5af5ff8a455b2236b614d8c46ab3517656f5995b5592fa6fe55f1b946e10613c390d86457c42ecdf85d8ce65d87eccea9d8027626942c0ce6fac173f48b5ff3c7dbd6b76eb07b45fd4af7643448cb1eb1746483517ea5d738250b4bb09d5eb1903027f6983e22f40b566b61bacbf1c80a84a38e5c469a4e09acd8e741eac991395e5b3a8816b788cac875e77d261aa3656684c8eff32a495a27aa3efe0e1f67399738de501323df670fd8a78d203efd1a0a2509a5bbc999c9591c9c1a680a31885e40c00ef545ddff1f98cdc51bc15eb7ab760242a77619802118f4c719aabf823af3393e345c1557fb67c4eadc7eb0bea44f3062f64bdef87d7a312090f4cc453d615ce7d926a1cf4ae587b242090098c037346582ace9efc59ab28339423a5885af2255af404206850e0eb247aa34d62880b584521d7d6202449a94f854acea8f5577d7d3d7da0761a6ea6b7938b3da93bbf3cd167ffde26f02c730eaa0aa384c22573fd61450194bf11697302fabccb6c9c6f2de6b1c3654bb621485fdf479b316460f6db041ae5a0eeb09ac3b17c7cd3132c6c6254e8d07aefbe9741dafc1349d150107c0c8fd1908ec737dc1b95078e49ca9b8f5d3611f40768b80aeed3d0a3aac9a92bdd1023aa1331224e77404bfbc9be45f58d5919a615e7955ec07e3f04517a5a23d76cfb7ff39b13abec2660dff8cb3872da7476d4e41094f475b55bda914a145129fb3332827b767fa859270c91703dccc800d9158e2ed3051b9b5816525a7d254eb355cc8a9d8dbed1de7ca9d97c6ed07496640a87d3692100281843f140d3dd66c4c86b99c9b2488541109e1a42606fa7d37df1b6bce4d3eed80f17a2aa3806f1d584dbca4a82743dcc453924ac3af834f9a2be3934aa1e4bb54e87f674fcca355d6fb3a4868068279f872ecd48d8db5ba5f633c74b7a0bc533ca40602fd94bd55a5366ccc4655e4cc023b2818fa21f959d331cb029d1ab67b8e826c87f760967364611cd50d75bf8e4478a40dbffe7a506a5c360946661e92dbb8b00a712728bfde3a87e233094c397ed32e7fed3fe0972a0e74b45634560c0dbff5bf1a66abf65fcfa1c8f2cd55e41896b1c3b1c7f2fcfcac29c9587f2f837023d01f8ca2f06e35293a7e26e644f7f3742e7dcc54d88a43b8e738f3c83d9ea17feceadb9ef2dade229cbf4e511ed3b20b548d720dd9ac983c639cea2168b225c71d79b5927cb5d48aa3224781a00dcb91696a3611398af160f9532dbeb2952dbe16a6e287dddf761a4471c461721318c67665a474e7cf6226a382aaacd4ab4ce448289fedf3bad174e62b6abf972d8a9b66c853710ee4fadac630873f043509cb5dc533393a765d1b200f4d15197d11889b90d9e7f80d82008fb0cd706f0530d35f2e8f0a1e8ccdd62a36876f30e4c25d4b7eae47564c7d6a22a5aaa60223007a091e2f2ee1e0f6f1e9c24caf81050b337eb851a423e692e790252142f96a5f967e9a9cf6005b588abd8148a6f47396ff1ad02e771e2ded8f440dfdce809aa64ab0dfe63b6e0fd7139b74211ba36f26943401a0cc38646b56f5bdbd7f9c3274fda2249a2c268cbec3415cfe68583bd0966f07f2a65938ad3905c19c05ee70c52598bce892958a9649bf7b9c8fef222fe8e1b34c3333b4102481e51a624cc5512fc6f31bc841553ba26f48f8f404ec3e30a60a6b597aa98fd940e612a2ba18e3347c3e58ff6be299cac00683365d68b9f74de62287fb01e2011cb1d1a8a2ed7d5514040fb9472ff609542d3ba7529920590b01c504a6d96c682198e3069abc920c0b9685ade76e3d5486a5183796eace552c8c561191bc7454e686894d662064dae2493a45ff850567303a3df87b06db542dc0f07e410599d9a12accdcbbc8dbba9c5caca39dd8436ab0c53030f442670ebf7f3e4e717772fcd50fd4ae6b184e1fec0361dd4c7bdf7bce4e86527ae88bc26a1985858adac262f56e97a294318f65fc56afbfb0f1f32e54c391d3f23b6e076e29c09d47551d00095923f8c63136c9829446e6d64d79dfc8103649fa6c2b5d3ec6e841c90d2d9ee54a49ec6ab667ddb4af0aae525571122ed630d504f8d01dd1f000ad4baee582b08403ed5603b4c2dff537225460cef7817fe474aa5b2f47d71f88e1afba652af84f902fd78c8e51a5c2baa5d8f5071b454670ae33c50216f75b87151c54021480d3f2711769ae7234f373a38c187094853f5c9f7724686906f84c2356bb7c52a293fe7049a79ad664198ad129314de93a6f5e4e620d1e630356dbdb6556007f9e3210945c9b38f2f6dc85ddb27ba7e869390ea3944af83d1a4ae26a9b628536bca2df655a5090ccc4f8fe68428f14a048c6de2604dc721ae630db4e32d2821fb2c789ddb2b3e8a7b21a5ae8807f56b7fbe6700c504e6f00c9a20b8c44a5c1011c73ed1c349a4c98091b08536be47d2a9a5ae8564364e7b9d4e172f31189039ae2c31daeea9e041774fcfecb16ed6d403d71a090986754725879c175603b014636f8842d2dbf728740379e219f3502084dd287823db40fa565d18cffe3ef875b2cc3d63dc178a540c172d2c65b482d1446a86a02ecdbedaa990f7d3db27a7dd7c44abb09759020821ca889a2f9a735a79603d23895aa2f87a89ced2eb9639e9e5b38fa774687d49c6d353b5d98741f4e75df3047780df6c074c56a12d011dbdbec84a106bac4a8158011516b9cf98fd247b70ac4923e01cc73fa4b0775256af6e808ab00e30cbc41bf887eba57eced56246a8f4bb04f033a5be212822732a46751401fc6d59a82995dcbbbd135f051f4d8d59e5f49817b185c6c1ae26b2ce8b0e62ca10ea1f9e3a9e651a3e91abdfd498debd383a3e1180c2081b7c5095e3d55436d4f20086824d2f47b4902f22a87277a6807fc4bda3e181e83979bb76ee8a707cdc9c737147953205fe68cd184c071841be3407d9f769114d0428cd19c7d812c936201a625cada5554d3a683dcc18841082cf2a0ef78fbeb7283e484b5ce1001854de2898454331422791bfc3a305ad10ade1cc2bc1726dd4cb1ef4d7944af1df9cbe7331afbe48430beda97caa1f23c7715915b69044a2ee0773514485be33f334aeec0bd61a629a42c4c14bbf344d50ad50ab12d166ff01f4e2b25e3e99a422b3bbcc82c01483b342f8fd7e90ac6c3f94b1fa28b3e1c46064ce7ee98ea45222c2cf07e44801f60a67f77c4056b0f60cd9d7634cc42f27b4bc194c630637f0b5eadb32f4162b1ab1c80f881da6325b478e4330067642fd3f3cc08faa37062121dc3f7b505fa058a0ef2f41b167582919c14497dd8c1fe1a106043e48c1bfe370a9b6430792f548129cdcf647029e53f4bf80d39c11ab2effd9b8a7242ed9be9c16d81d5c0b384c3e9cf1834aed49e19dfc390e242720fb775c2a82993ed6ee698cdcdda2bf8afcfa64ed348a13450f7f1e5acf5bfb455d6813e8c1060b38e48a3a3df10177a486c4f2d37c980ef6a2f4ee150d6733271c8ec8c16780535d05b2acdf4623062346250ddd0f0ac840cfcc8633934e395cadf5ecd2bf9e0fdcaac1bef5bb3a1e27e11295b436a4f6920d761091f92727105d40b33035963aba432bb1d5ba43cce1d5fc7a3ea6dee087ebe0d5e3003034ae07d2e85b3077ce9b9df61b48972d6b7a33e09fcc6fc8ae9bb021d3744f9c2b7ee360d3d02576ff398609312e805340d9edf7a2214ca6d367e0ca08bf91544ecc1893056ff77d9e8903d769e4043349dbbcf8ec53f8d9cb72c4474e0ffdff01579a9de75478673af5c06ff0c9ccf1002b96e9651df23f5b2967976fe05b19579b70fd21aa6e6faa77b8ed6f09c303e2f134bf3fb928bebb932e922ef16658cc507d977f4bb157774eb159ef36b098c2f1ce0d68575e50db6d20dda1037edfd9fa45becfe233188e032c014f55473e724790b38607eb56fd0a9680c4e1f57d7a9c43d9fcb5295f8a0572894c55b662e47a54b2d81dd006b3c3a4a1006745c8ad51ed5a9115e8e1d1f6bef206a4c5e868b564b2a59baccca178cd0ca456edb637db678c7770e597a737fbdb3e95f0d39ca8935735f1b5a9f76fa186d1f02d91e17921c42cc300906d382099b17d20b687a0a51bc11d2e15fb1ed967ed022f20823367d4daece63ba35ca42ccba3dbc5e84fd07f3ed680ba9494eb5121dbc46f8e0a2e28eea97ce4690092bd1d213db07f87aa18b709aec9cfb1dbf61660ffc0877f8c0918d6784137073a19d84194663f2e826e487373d907a69fe7f911380cfe530e8f388d2380cfabd40876347630e33de4e502a9163ee683d9c47177e2ab21aa03f50417ce042f3d1cad253b637ab38b8efcb5a533fca1fd0cd0416511d73455b7fab59ca109d27a398766de55c900a9bccd921f66e6cc68e1cfde2343d882046488f842b24c9d26504dbed453cc56438714e972fed9f174ed0c3cbd713cfd80be38c57eaecebd563f150c788cf4c8074d5e2108947870ae6b3d0130e7cd4fb3ef232cdc6db1e0cf68386f34c581c732c28accfad25e52c3cc4b97c1172d0490693b5c9fc319b714f6688aedf4d79f4d1140a4cf3e1a3b0a933d7c49fe89d1ffed0ec751e4d82385a419450a36a43c4f375f56f90279eea4132fcfa5bcb5dd94f6d9df9f6c681b441af220d91d0696418eccb69377965f1b4b1cb8736c9f735a60fe4370cea3ba76a24afa1271ae3dbd79fb9c5fea2e2790eb0ef2e804148543b01aa060bf0bfea5b7b42db86d6a4afa4df311e6cede4b1652994b9e1739f913ae1894e202fa6b209ad059c77404fa310bccc0210ac04191aef1d42923af7b3bcf619ce10b713fe9148dd39b2d65d16756ce107efc9be629e9bff232232d28f81fbefe9c59c77e90c58cbdce61199e9b787dc755e7f8447b0a136c60dd390d255e32a7a3136cce26e6685b7e329f75a98b47b0dce548eb1bf81f7179846fb2665a85432bb65c641c5e6eac13c88e5218c36efcba5a996bb1e6e216f27926cbe96e831a66d8503cf2884eba636af81c1805308e0c3e556d8cbdfa866070a7f8428b90767a19fcc1e0985f46fd3423ca615a42184a3c33025f1e09e9264d43e251e8d215fd10e5d66c39a14747d21dcbfff91ad7c448a304d0c474acd0c1d767f737e79ea3914227478fcf9957b5cb68de18b130f40ac3bed9a76cbccaaaeb745ca43f8209fb90b3e2cf64d6cd75ff876f57246bed90c3cd57272c1f3ab40d517742ed09d0a1ffe105f0dde8b202577363fc11626c707c1a3158929b08588fdc6f1bdc2338a525a5fa2203a72e361fe3dd5b48e6da80105d94169e64801359da8db040ced28a760905e5b3aa3c8b3a16ad05b59c9bb5e7a3f9a7eedc801d76587373feff3cceac4d877f3b2737d2db444244bac3568dd8f67b0eae4399cd10fafe6042a267865cad8750dd5f1fa91cac339c409ae0d1422459bd7335d9b61942f9042ea4ceb53d498742232adc76345cd34b6ac30170ba8be9bee319ffdc6a1369df2f13f1c31ca9bae660e58773145022060a89195ef0af115b7ae43a37d4dc1b0d6c3a306c5d7a2330e0fb55e4d7de3a1d6496178f11a950330a1b30c08a0b016f8702729ac9e010f78da271b543c94e67cc5d2bff7a8abd3e889fbf53d92e6f54892a69c6b24ae052f548e960a8e5b11269a5d6ba0398eebf5eacb0ad942b0c4891bc2732c80263a9b340a06721de11ec3c807f34e08bf4b361dee874716989df8d8febc72b210bb29a4ac55da19e7a61b5f96fd86a45647b4f5d4124a98d123e6312fcc6606c8f03fb0e28fe350e44fb9c1a3fdbaa86caea45f32479e3a84ff4b356635014fcaf6ab7b872a84245f243a98ecf596f5973a8077d9a72d2ffede42b574899e451e4ff260f5579b646d102f35e3a2dbabf0fc7cc13f18021c53d408f88596afcd8cd25fe68566fd3d968fe35a8f54646f1ee8838bd2989f18f68fda2ecf731793517412004f0de0c82349df12a15a704d54a9978dcfa5d954a94edd607a8909b395b50d45c18dc838796042cc27c6fb3d15b654bd6989880a786cd885c7fc9d66aa126ef0786be9b7ceb04dc7c7745f2577c4289e7051d23f4794afff51d997b89f70941ababa4bff14d29ce6da95c89a573e923d2b61308ecce5e34c6725db31f252120fe72c540748a9c5c491e275f4726574a64f2d8cf391e6635d8eb3d4d82c7ff92f51dc5bda92f64d2d351d7d80a37db9faad5d0fe65c3a5cd74a13afb13540d72f3a04030446a037c1c43ff9d113c5d850cbd12f105df25d7f2907a3e91fad8d85e18f77716381dce2d290331a731924b345815c18bf0d96e7f48663fe70dcbcc10e9ed00d6358dfbf75b24961bbaa3915eecfb78caa08a5cce183ee807bd3f4ad15e542b3036964031dff3a3658b6c99329c37df31db1c83d27853f6f772cd19b49f8a663da15fccae31c689f8acf4f34a4b34dbe775cc881acd0c0c843e1f04f543e8cf01881a30e7862a41dd52276f152da3d24ae2ebac546ec1cd786a92c1c2d0ca31b3352569ec2b3621f6ef7e2ab2b03d3b3d0ffde76a23fc651e4ebd56ca80fd500cb71a94eb251d4af3b0cb21ead6aa2f79137f25262e915c0713c055de299b520d120d884eddfe912250ca5b3ccee95b020bb790205caa023e752297165f45debb5c663cf626b2c2f2c74dbff4f2fe233508b61c8b7999f0677546bd72c9f4f8fd1976aed672536a4bd2733ad4085eeef8ebec3be22571721c0738a49ee8ac1ba83db821d4e653aa549ad38506333cd29814c01c8e754165ef9c0515015595091a6ecc002b9244ca04eb20a5238c12f32b3d0bd816216cb11b43708f24d3d11e1b60f9f0ee660d17615cf083b2a2f3a3e651401b24852bec66e36e53e88ea717673d98d58e916dfdd185c21897915c7d393f5705dac67625d3d816c63cf7ae8bc71361d9e422bcdd601007e30c11356d6ee551104bcaea47f0af588c76a597c1b0346a7d4550119e959585731921d8d0339c754ef204540171e032590546d7230a4a7cd9c4f24ac163f078f1d2b360ab931d86a21f1ff21a8e11d273b6a1cc48a3b583c6cdfdf7459f023c04e17e33ee6c1fc589ea7f1d8d4780635ac481c6960d03e77eadf2e2953ac1f2b633a9d15d5ec619366857210cea42278586a2d013fdd111918208f9d4dfbd2ddb16fca6c8363c82cb80055f9af676ecfdc7b01dbbf84beeb3f4a8839f0950c50c21fc389708d7f24c23172c844f97b28fca1de5f9e029f0092ac2ab519288bde8ec24f32f7371c3002e5a7c272bb977690f09ee606b38519ffdff771973233cf91ba4986dbb9be3a6ba555955f3c810394115a01027a0019da58385c1268d8f4543921d88b94231e0ac16e48e91773f07251a320d1d68c6bfd0fe1bb2679d5cd2d19649aa9b0de74ef692cb2ba883cd826d122044d4b1fda7771be62c46956e4ede7e15ea922359455b161a02065b08100cfafbeb29a046718e8fa49612dd2ebe70c022ee9b33a338660b3565142b132737e87a843efef4ffd0428804469fa6c065e50c72b43d4a0e81018cce4bddab3fe961541243e8e48277169f1129e6810339092b603e0400fd495b1cd2e2de5da78281c6f0eeccad19afedfc58e1596c16a67fbea78c220cec19aed22f01dc36dbddd1b44675a0360a7055b498b5fafd3836a467c8874ed949b973b097a8241ed6102332aeb3b52bf8127e557b9ce86f80f90f0e32dfa5f82a1f1b4c18d7260a12329ccb2dbeeaa0abfc1f69cf3bda95d329e52e81882653f7acb570d9b8770793c7784577fec53748c5a791cf5c34d155de11984f5eaa006f9c6b99d8d442c669e281ab636af914d42ea871cd5ee8f580afa3908a0b97578cb46e6c16694a92debfa56bdcedde3e8c23a890dd230656538d94cac2ed9e7c034dfe529f527d9637bc8fccd2e3885d107567790da3f426d8143f440557444fc0d42207f63ebe45d949214fed4d19ab12f282156fede5192d12033776d02ca74f53eddd9db1261083c4838fa61789986565115230a870919ee09427af6042e63d283f1fc38a1dcaae54294ce016c442e5801ae1b600a47c751fe20d7fd45e76b0af8854f86ee3c9372f4a00e46bdf38c51f9d82bc1a1e484f9901a72545a4470f43c20c895de5ef7e54f35b44dd5045e25158a28ea71800cec27d9d344a57cee18a1d7c3a246f9d48a8639234d8ccdc0d081cdb3f510fdb2d18316806e9141aceccadc43a2e085181e97e9a7855bb19cc3703b4f2d811e2ce7e332ec3f420b21755d6e890eac66490edf02fa3f15946983ac9a16ad27e0e18e3853cb9b0ea4df052d1d9c622f023ffcb9c3d54e2f599e7c663da418305fe358f9df424e5d79fa589a71b15b8d1975ae594f6871df3fdc4f55a44ec767edd1ea1464a1c5bad0b722b5b9fd1a8860608a152e848ba6b298e7994116304f8b47e0d3","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
