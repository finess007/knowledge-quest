<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f25674b4863768089e4f602cad00a1561541e5c829777b57ac1d6cbeeece437d18d21e69688e8d372ef20d8c9a59cef0a7f50cd682d3f6e5a97081df71024e1d0b507eec48ef4c0887181b7e5a0143dd9971357c732741b8d57153b735f17c8924b367d77107e42b5b0d182445998472defca384d977bc6fca20787b60e73923f4822939e1c0e5a101627f55b53112757a4a6f6b3dbfde13e7dc83ed7df6fef6db1293df72eab845e2624823b1d92f4b1bac8cee856d07b825895d2b2352ee732cc4adc4d31ed3aa63c18e4ab4129d51a6d528d91ef063907390926f9ce726396f84ce053ae3f683fed6cf796507b17f5c0cca10fd1bbce7da4b31eebd5995d447269ef955337ec4f801b5225f26ea459f8b7e1c3968cfe49f4aad8f820402a7a15ea1e50d443d14496e0277fd37ac7de9773a6d96ffc0586d28619487771f31264ae3db260e7dab5b1d61afe6f52dce8793f07071210585bdf60c53807ae34727722ee4d9066e7d5fc9abf008b5aca81d64f8c0c5a3fcc4434b60821dfdea43888f0fee47768d1d0022051d33b0aa7cee492371222ecdfb4c905cbca1006a0a6baeff2450a364505d802c12a7fe585b326ebaf452019c33da6609a1e8e3ead46ceb4abe35fa0728805f7f40a139e73acca7ec95a74df6c58aebadc1bd7bb9fa16cfd89012496038a95244f140d10407e0a270e572a1adc3cc91168525d91203b94be1737ca0361b15e5fb43ec093903971a97ea4b798172ef4337b5bd2867fbb3111d712af1490d85c2d5b8c73c33da97275d8b4e01bd10bc7ffd0dfc193037c9f884fd899af6a4117b9c9f8ab883d80c82c9efa1d2cdb3c50ad3fe4f9672d0e295f0edde8b3677254c718188f144cf3caa7c4c1ed3865e048111b14f0c253864946db8f875b35a9f7a190c816a4d579b586c9d4b5c2579e456c53fed16cfcc8c0d18874e7a9817f896998ed594ed7d97bbb2e3061eed24e58e11d769fc931167465ef4b80ee9bb98bfc975a988025b3c6b08db71b4737ac4e95bff73ce494a525ce933695e1059cf8205daf617618b84a776e9287d2683e3e4f78e91ac85b431637126a0acb90f0f439e99f3bbcae63d957838cc650b5038ae140e312e85697c107b221ec8c49d24c3d3fb8011b8780a2ac02aac50842949a47932a450d04d8aa798178c12b2cb4a52f32cbfdae8b07c572b8f0d63549fcf72d6f44389cc7bce8d0d74bf912004b2d2752df605634fe4e82abbf74cafeedcb7a7205c451e3fff6d78c1eb77a697d5e6362b5f1e6f19d3494ee8dd9e84ac9bd5a9b5195a42198061a1cc84540f12e5e35e583f215e17f4e18a7220e4d7bd17bb52c61667a07fdaf87c5310229c0955de20853aedc3f240a4691b2e668fa79e6cc4a07f8ebec5ec4ceee18a6ea4ecbb5e62f1a672ae669e4e3ce1623721f4c5877c1e777279151d571f9a94961c30f99e503f7280fef13bf481c1c52d560915e3ca7c6f7427c00e229e649d77398a42daa8bc17c380d082096e1459a0265d7c32b3ce733cbe7d676685bcc90780ccf332536bb01c111e0194954a8348bfe2f7457648be67ae85d16bbf49a35f27e6456fa08bdd49c4e3227c751816c1d3304f1c67d9b27a0eb70d955ae3e6c0b9bb24038ad367a4219e6ef790432d40bb3fdffbbcfc93ad6d91705ca3329b3e2f680b711663c42401781980478c1c9102c166d6affd121e8c0040bba0e196c35cd85cc30bb8452955fb2bd1c95bfa94c26f10297f8c56d0079b7c3326d1e1e86d115daeb9a1769a9f143299a547e3419172801cffe80bf87c7d9643bee16544321d41110cfcae264b1eeab0b23b56969cb9c81441bed66ed809c342ac7da977d290dc22f56056abc9f38544fadfb8bc3b53b7ed90d034679fc762bf9a5dd89528dc5d69f993f2da7728ca1a35c960135d370ad30c99df0dc4dc52b864a5cd4882adb7f79fcc093b59105f3974e6f5901f97dbeb9cca69bdb40539e0933d129ffed863cafae216444fcd29b2f55001191c8e6aa401d8104e5f6e26aeb88eb5ec247a16a6dd0d511e0477e1c4654e772bcf253d153e76a0ab5dcb43eb260c0e4b5fcccfc73bd3fa42b8a084f24d88ff2d8c26bc08b47ce6a383c7b994caa0b80a66cc61e0139e22158d86c2effe45d103d8cbdaa72d7453d351d491ac671057f87e8c75fa720b5cdf069b89b62f69f6bfe5044306b72af512ce476af3a3985c9ea2873aece3dd45bf91098f056d6d0b6f76bfd4c62fc7e74d055661f7f4c84873fe47636b27faa9e300329a365eb6b825c5b3b1867fb9a43233952f9ef2c2f22867ccae61556ff81702794ad8cefb5f2ee0e9a926650a59cea53654ecf0b417cbc9822146a203885ca71dd6a054feeea1cccd6408f5d246eae3e4a51f3fca97cc1b6f375d3ae0037192a891e55c5c10ea4d7f792dffd56f721fac24c4b051eafa247c897b713e462e30bbc43189d810eef4a1ac61b886aeed5a253f49b4ffb70843ff6e9f1761eba574a894872fe24afbbf7c79b0c01ccd5557e7aea5f776fd51fd85bd78d727ee5bb3f5222703971db4a7b95d0eab66493bb2d1d5b3df95bbc8f2bbe4a0c4a6db6728b8a947c6ba0d11b6f8af6d55ad1afa93f69dfa7144813ee4e4f4d28fcdcbd667daba2b049e83e727793fb056a7444e7ad8684258c23c19bb6b2ae231e425c3d09d715f2689711042e185d3399254a573500bdbc30175a0bc02d4a003f50989b17574880f3cfc966842ccf8cc1b4e0d4f160c36e6ec167d3808027da87e90273008cc01863781ad57068964a39a2ff942dd0dd8d9ab4a26334c8df71a3bd9cfecbf15085199b1879ffa51b42cd4b66f72c4f4f4a3d03efe9b40e25f2eb1f5d9fb9755390d352fcf2e95fdeb0877a485fe0fad133b332c4dcf2dcb1f4ab3f41a82091f8ed4f622c9968dc839b4b2e93584b5ae11863a02686967fc6b7b3ff2398a24c19e4dc8656fcb8f7aee8fa0ee5d4ba107993aa00950c2178da969c877655da3e2cff5ee01412b206dfb6849223006a5d1501951d7e40c505189f409932ab0e81a354e463fdb1e798e1ed35b9911d591c20681632537644dc970fa2e4a70e0ff0a036332eb1ef951f123061ef3292addca2bad2f990c9928be7d75f7ba3ce2b2b199e2e12b8865de5d0f4643599bf41fb4e91a09edd39f95b5642beb6f81a7e11edcde00632c6f2d7f52144a91388a0c1f13c8891302aec49e0d6c2671fc659a3e6cc2c53c9f2d84888e4358cd89f8915f3e273b6cf12211d70bb5d324daf867f0bea1c23e5a30914f68e0460b32e06412db777864dc14c5954c7ba09d30835dcd9eb47d83ed18c370c1dbfac11952104daee1344657631939083018df566f6a5e685d00e19308024c6e6e5cf5a62368984be62c4c5db8bd86757cf6d1642063e2ce7d68e82746cb349cabbd6590107cb98edd44d06017672cd98aebffd53a5e9d57d43174818541cb9b15f2121487782b64ddae11d3cd0141c11b8635094b0ca583fa4581f2107c0a47a7b468188f9ec6cd0bd126e61719f8f0a672a017cbb1886f74fed4c75b9fbf438c2549aa544bb540b19321c17011dc67698709d29bb4b0f7e20e200612cc96f6b396e256a2a0b1c5a92fd0bdf6ed512c95f01aa3db94d543d0dfd06c6d8c65d48e4ab054069ce13fe3fbb8882fdadd07d8ae34ce70af4303fba992e55ab089096333cacb43d7b26b3340e0fd5ba8f25e4a6a43c99164b18b0e814ae08f69997016982fed3300106d16a6b717e8c90fc71d1389be2c6008f9d726aa33a86e70db554c7db26ee14f231f78947dc6036b9450b9c03f69e28da8e91655b7b692e1274c7321048e80274016da39224f029d47c43805b75d8f3cfc659ee13ffeb7121accc8cecab0e3e95bb30e5f188a1d47f64ca19426c82b3887816dfeba5abcff7f8156cd6aab9dcf5a034e6d2ef2c5aa6edaa14d4a855591580e9a4b189ab6dc06e56d9856f7329270fa2c2f1650765795947e778ef566b28de545d2433edff71940eb859e39e3b31f2aacad65a3cff3fe0a162f2f3e74a1769d20aa793c1d4da9c38f2b6bfd079f28a41376103023a72c7771dee550e40def28255eb87567cf2bb2164a1af5e9067edfaf34e4e0b94ea9d64317fab0c6c89377014ba93d580158e31dadc21462cb30f95f3a6b00250f93e602e9abed4f315079e7a30287f5c70503c18d6b3e26dc04fbc032092431275a2b86679d11b24bd01e46370c2a9500f9a115ea76ab68b4a130e1fed7f5eb84112633523912325e51980a2d24b33d5cd75d30aeace13a18f321ef4167fc669c08e91b6eec960a501743474616aae5ce44674b733dea2108adcd4ba9eade47f79fcb0648e749ccae3edf56abdf27587671b04af373d78c349b723aaf261267a883d7bfac892650e5604bfe30def73fa619ade645049751f60637e58d341fdcbc8f56d676e2de85cb9916a998abbecc7e22a00d9508dbebac603240eb5d46213e8b952127f3c90bc4f6c6160efc1d1604e9db110e7c0ee5a77be6aa9a05b9671f1c94cf878a863d11c8b20ae39471106d17c46e3f994522516e985c06c2ff7f562eb2ca05096559def02b133719e224c5f4eecf0e2940cc2fd12cefa31a1ee56405f50bb313d62b6655c05f2b6f219b7c6b1ef4ef3b80dc6a57f436b1568a687b57d9030330f466454a88180c0777eaadc97d86e5b9dff05ed9109d66476a63841a465a8a9dc125d8c0f6d7d6f3a9d662b012c568b4c688317fc875ae1de6ea85669a59b866b725c610bb214a16d293cdff7ad905b8783b844e9353217db2be14cdc584e34b571ced22e82cef0c0445bc4bcb3faf0c717e1bb46f944615f52c788f7de6434e9603315b60ab12d035ad4eac647a6c4dbda4b1a26d52e00ab77e322191dc144efd8289c415f8187d407e78342cb638ced6a9757d1a968d6725379b1c99d07b0ee5cf0de962032f2f0c811bbe54abf852e909fb926f77b601910c679859f90bb58f9add0792399df134d0db39aca4cd84685e9c46bb7f132cfcf9b75798873e5087156cb3d91ae25212c4f74fd4086488e47a7e5b569ff14f8ad7952b066984fde8ce27fbc0a5cbad9a49d7add67ecfb38daca9eb1c0e31c2d053e9064f6a98dd8f5da95efa5fda107db05b2035a9df0e74a30034f35534bb0265b72fba123290982d726230bf971b587b60977e87835adaa39d1c160e8dda757b12175c9c895e88cd02b6f19fd351884b2cde40c3bded04ac3e7e75a392f3f9b4b9cdbb20ba2ba7aa8934b7dab19d8e8d2994d4b5f34e4777a194115553cd76ce61a0385708aa378116a5ce5d2803d372be7a22533e8a1636b5009e16f7130cf39539db747a13de419c697abb74f8f889724fc8806f39a5bfba7df0e295172312d8dd29b8cfdb88454c6559aebe83dc8ca2e834ea54efc9cd5421ff5e2ad84e50639c535ddfd3eec8ed217f2b0fb8f49f45909e860eadbe6d360548e1f8c9aacf4e404229f32c00b56b7fd7afd2ef9c673c2c6f7bf1a10230851341d647e19c255c438d6d8defb7b7ec1111301cc059b9f2df3302617ade30417848f3f53365fe338a0d7d7e4273567d4a96ba82bdfc6bb7af301bdc419b95a40d8bcfd783fad84fc97df2df22ab79957490bda7dbf941073fe34e1bb6e865032810438f63ce749fe295beae33a04272d8a631d57ed17448a6ba0d391b77ef760d1710829e577c1ccff8a06fdb5a793b82a1be26648b36b83d7ca4f397561eee5a28a639db9be607d90c08149a942e0bf5d8a1286da84d3d158044b230ff402945d5d30bc0e516d00aaf1515a783eb93eaa6e653dcb1e4cdb573bec4a72ea692e86b435c2278e230c86d3a02db4f75d0af2bb1c79627d382924051596820760d28e0018fcfd0f407725498a1758a4f62a9310935f0d1bc4aef3f9a7b89aa928f1205e725a3395fc42e67c2a47e0228ca425d32c2ebd50380d8c9564bdb1f5456a61e2839fa704d7514bdaa71c5d76c877c4a0739a9294f49aacc20f9a899de29eb61c18d29973b504337f551aa31d7aefde4f4f5c66104b5815375142fda798b4a8db822beaa0a69c251c12b06a42a7c97a8932a77184e304018f5f870d4089e69d35f91d1976238d51d063479a8824bded29aa82adb3ff442a855a2eec4908118c0bd168d40819fa3415c297dc0418af6ffb1e39d12de9ef9fe76dea0e09122ffaafa9916559773f2e3a0fff717e55e248cf808fa171099f6d0a1430085a59dfd6e36da778f3fa101be826d3b5affab1f209540a4a2117883a6302d376a5d1aab014c568e9e7ff43bac017c27d42c3386f4c3069fe3d31084fb108a9159d7c10fcbddec4b13f9ebbcf77a290782b674a7b4256c2feb8088eb203de73e1562b4099ce6e0a686a923fc5d971ea4cfa43666f5d16a6365f214a252ab95eecfb9e9fb52cb03dcbeebf5ae012b6333de8d732c735ff72b7b90ebd9df2482b98d078dd4cfe5e63ffd7d90a13e9f7dd603055edbb19579bb859c63ebf4da69634af8842b2c17cbee38ad1c3de3ec124edb572322c3d5e49e35fd7defa57cdc1dc212d73cfdde54c49d9aa8267bb3fcf3291bddcb23a99fdb7f5e6e199a6aa9fd87984b9efb91ff9ce2d1d5d8467e0fd9547693d2c371a83c074b941a1ca015c370a53e8ec0bc313e1d93e1464213ed987af5e3d0de6f080d215e789041155c5fc47870616ff8053eb4fecfb819829f23a20f0489eaf7d6727c01d6d131cbd89dcc758f4b94019e4a0dcdee33f73468ca2815ab52dbe22ae9d0ca68494bad66899cc858d7cf95fe5e51bfa6fb1156b317dd98973c3155e1795b70513a69610212e0e6fe1ad9459d94e28ff5d56633991e0626ffa2975a14f6617db9d0ff83b3c9b916859b8bf153e9cafa5fd3b5a0c97c8af2402908fd83a7e5e0795c5c416ce633a3e196780bbb8ff069497d559cc9f3c64d10f078274fd187cffa2b8a11aa03f1e719ec7778409baf8cde3fa84e6793a5f3716a7ca33015bfbcf01b1654e1146fc3112ea5d0b173f45481b369bde16a3258ad4f6286f18d6fa435c3be8a2efe8ea6e5c5b8c700000e800bc4664c2baede1306a4dda30835ca83d3175945a568895d59d86c372ffbb245b042c73edf6764e623851aef4fc83c9f169f1e082a23976fe096862603d743b21bcba8020b1892d1134a1223f802a5b5085621b739f141801a12015cf7023e9d35adee451e6580dee29164ee668d1ec18e986e6a3ea0fda53866444eede0560ede34a346a25dfd70c537e0707900b7b9bb6b708264a6c1847d67ec3c5ae85efa91d5dd7f5b2f07d4b9233a11f32dcdf6ed227f5663d387dcece481d0d2d231c7eb078438af7d70f7136fa4789942494be12afe1a3d1f0d10158fdb45337a3c0269da95fc700ac674afd53773439a73f88ca71e408404db80f37c55a10b8717889ed49c8d445630a087e439305aa7950a7252b9d9435f2f9deb0cce22f9e0874d52ec9cb89cfbdffb7f186d40e010160e294ce2164c54d57b73798283dd428e58202604ad6bd23202d0ac9a7084c55f6c8a52d4b89e29bded328806bd516ebade5a1349f396ddc510238cfb6946e5f653a92c732f26cc4f321cf8f78452b529eb807fa512162c942c73074a33d75c94cfd9f877dcfa914a1ee34c24d82a75bad63ffebdb36704d3407198e7cfcc5330b063d5bc0695a46b50bc483cc1c14e0090314c5e7b35b5ffaff6506ca9eff1834315896a5e6a85f1439f0cf2443f2d4273fcbf3d646e4a9a2b74bab19f5afd91db5b7633d365184e02ede84b612210959ed5d549ddbde05a8ccb1f923f522c1c08f40cea271163d568e556951139fc2b0973bf993755d888e4f719f4e126487b4c7492a3ba5315058531df65768c0c70deb3c87121f4d08d7132fcc88e83bef1d1067cfdfdc12e79a4f7d5bd3bf7d563d0e271bd7ae08646e5a9b0ba23bd761793628bf65f501d1c76c1d417faa3a7c79d799950c76e92be4d7a94704caf584ab21d835425d0d9ec7be0fac57f2f27b5354251808e63e744792c2be410dc66e24f35ef2f67573178e52477f4d8b2a8e5fb390bd4b75e92c73c9ef42ba33444632439a94dfc217f5e18e75ea34a0e98d17480dbcd0c4aeb6c3ab1feed4f92e02071a8efa9572c381700dc1c8c4a36507addf785373b40277726809b2d391500785de6a45206f6d4b511d2f35ae728ea33b01ee912dcdaa0cd5b584360bdd8c01c1329442937f0645cbede080bb88edd72f259dada3437f434eab705cf6e74b0c6e14e676551c4e8b68bf0422ee7620d0c19420d78c1d04f29fcb303c6352993297360428aa14826c5ba3ad82dc13ff73abd46d17507433fd8e187e86ce65be62aff37cd545afbee7cd848503ab69ab11cf112a330196da2891ab2bffd0e80a40c7d2c2da2146826de70daa1d50509104eaf2f826ef632f1be67f4973e281d9594d1cda17ed62255b68913e5242834a2d1c54cb7fa5c67eed3e983972627a0d0347c79a5b1ad09218b34bf8464589b2f36efcdbc0677c5e067385cb6b5eeb97de1ff42f0719d6ce3cf8e90abeb514c3e3a0a8b8757324906334fcb364ae7e5a43c5028715cfd6055617d86218d407c676a61cd4a330915e11e8844ca6b16b090411f35d68504c10bd8a6e6cd3b3440af8b7b3c2ced523d69231fbc6ae56ce0236c38cd5cbcac1379d1fec88a5e418c40af2bd692763029cac33207a085b647b9f1b43f426fba5b93013f5e9bad13eebcafd5a979214658fcf2bba7e97a8d5b57d7d5decc755de8ea7c77b94b122b28c38c76294b419746510e87660700fa4fdc722aaa16e8358faa1e2f76469fb1fcd3bc4ab17f8750001433051bbb92252690c83f58cadfb56aeba983508b1faf9e2338701aa08f382efad0b0af298b6803ce98dc952a9a1c9008a095654401ff23b4f67a788694575d5a099944069bce55bb0bd41715415fc9b9c477cb7bc4cfeb9cacac8736854df6f38952e891e4da6e73cfcf85d64ff1a25d4c5ac2e2fc0e720700024200e96d5361a75d2003e1868eb82f68257cac6514d0e98622d4fb11f7b5ab7896c0c9f55ef4ec5a6d237d86f57439ccc990bef3b72bab1a051a84bed68aa677029948f3377594b4f36a2f9ee9437205eb2e70d00553951657850c1a63accf46c878c0f107c4242182743721f8588483202ab6a22d6767e9d334273b9e19d65d81659517c8af92de5cd530e11a6251deec403bf85a70d58a3bc5a169af3760369488f7d83390fa04876550bd5d6b771220e6a5fb3358614127f0ff72e78d308101a3ee5e00f09032625a51d19731d2acb487d61f4cf4652424d4627680c59bc43755a4f4e7cb874281fd8bee687e9c2d86733dd281bd796945fb5214332df05abf86317a743c860edacfd1d8c6b252c81d886508afbd6c3561475f6d009f281cdf04b17da4300bce9e37f08a38579746456a1ade00706075e7e05a3508d01cdcbdd9346f7ca93a07ccd9b6eb06f0ace351c7f0d7cab10d60f758c7879bddd797a195cbb7d2ab5a387fb109d75ac23c497b60cea4693fa40ebec409bfdea3da88ee048ea29ca7cce548a50e9b2739daec78876d27c4ff0fd525e7339612413b65346bb654912ea9eec593a7c30520a6d5f23587989a5d2dfe9e2da9863911163a2dea8cb9a76303309ddff9f909530f4494920f09dc9ea52a8717ac138ab323973f86e961ce8da6f5fb4c796938c34df44e68123fb933e44e7c273a9c505a8bd6c2bce2897180f6a0786317bff424340ff1a5df5ecf031f66cf56a92435eea90146b58d1d04778e78a96bec8ef0313e7d1709a0493edf817d520490d0b0b2e0f041bf5d3d5e14489b4cefe605b82b34c65cb3a15a06b14e12279b497175fec6f407a19990520b190e7af4f97b701ecbe4fc45391d6c44425b60e2d53132059ad32168ba7c510b3627f966c47e3f3f5ab6224a704e5e2625afcc81663bffdae2b46f68d2fe2661eb413f15d376647d7be57a9b5e61d2b43281fd21a7cfb998590bf4f7a78fb1e5a4063f45c3d559e53dd5d144bbce03eb3b81fcd9d35997574eeaad56a6ace86f704f0ed6bf075820ebcd99d00fe72653d2dc63205b3619caedc8e9a1e797c702e1fb094088bb5d941b5dfb291740ca2602a3126c83b9c74e789a510091feec378db3caaff19e457864632f01bde50e444a7075e979a711649fe19f3d39fadd846a777d43d49215a3544838ecf0a6d499770e0848368e174054d950f39dfcd64482fc7112e3403ce7c99d90e85b907efbc24bf0148a96af146dc44afcb869b43b796d839b3a6842e77fce28b1877ad20e93b22232bcb60a7d57723e28a88fa5e7120f1cdcf19392d73ea08e5db27bb1a4db9e56f9bc76d49d713cdc98169c4aee73c03458cfd9c3f12f5873dcd123efe0e9cc588cb6eaf1c5643a4cdc236db248a8e93cd12ff6fb5c70f9bc60340f3de8ef6813c44c6515b712e2b5f951efeced6c1ebccb2db992aef36f9cc53ff1d73b9e19b65dde5794061ffe211c1018f44644ffd559ca5135108b8a55fdfabe90e19854e5b597d30819b4b8687ee36e021e33c508f3e24d5cf41a53cfd58b939951dcc188073ce5bafab81911cb49e974fc7faad0d3419ffc7d684f42e6267bb85465b1ccf5c3dd9d051ac29ecb9119531fad3010e0503d45731ee6fc5729fd6d233291fb3bbc1acf1a1bae9a4b1af391a68e6e96e51bd9bb3aaf38d6561b4a49d7dff3697d4a143faf155705339d6a9d72b81bc53a0e4ffbc8b5e64c4a0f23050c468c544fa12c6bdf6db6b0c2167f2a49560744e50b24dc998d82ef423a1f4dd68cd65bfed30b83985416742aee5d64878957f3b9a308e1ebc5104fea14e601b275005315418706f7ecb9a914813eca28f7d395789c967fbcbd284a8ae429e9a02a6b5f1937cacce64a212655890a9782342f3113894b836d19326c27691ce19fd117eaebaf2cc99836cf2e5714a08f249d977f6ce62fc0d9c9398ce745ad063e30d8bec8db00da12b0f1eefa9f4dd07290839175982a7a5f05357810fda65b4a343db5e5596657784fa829ebfc3d306585f14132280796bceba7ea5a3ffddb58feae99e8ef1cdbe98c52488ed06ca0e0f8c45fc76dac7ef757e20959d643dc38bb9bcb2c7c0f003cb69298b492a329a6a835ac818b5edd1506974b8f78fb0da6d72bb166bcaea986147aa118ed1c08cc14a2266c88a596538c01f3f827b2d261ab6da5dc9249d5f5285721030ed166de0d7b13e499423d1ee604c60835943ecff0a06cb86014ccaf56e133e0361a5229504fc4edda91277e33b5b1e539dde93669a40a434fe502cc8db0f739d81ee888bf2968385951b8b72ea25b2dd807631398f93a07d5434d804fae79432b66dba23c18d2de80d81b4caa457aa70f02a0345ee1f0e0374b5507013da30a372d92ecfdcb75000dc9e4be672191dbb2e68448d12aca4ecf5373ee420b55ad583b49a2878940ffd9ef3702c21dff1b91cbe679ebd56768d9de9d46065065671c48ff036ca28602f6dbbea2d7c6e08540e9489175fb22e3c06c0f4cfcb00083c3c34232b0db67313f32d1aa9cdb9db0ad965697fd3aeffcedd324772f638fdc93d73586d6260563c802393328122d46f12a4784fdbe1be2cf576bbc7e1bce398fb8d45ba94f0055dae4310ba4f5730f192b39b8a54b0b767b81fe77ad3f1ccddd9c0af2420a56e4e7c0d7503b289ecb4bd0f30a3ad5a1079cfe56248cbb556c8344acef291115e7ad6b748cb7d4f7a9f55c49b7fe233c6533bb38938e63b9a2aa324da40492d20a066c0c35973f19e1ca994eab9dbfa9c5ade5f4afdf3e7fc2d7ed5d9967c5b01bd049c4ca90952771d1554ee8b5cf729e266ef315c2f9f525ff39756736fe887d9ac72f171465d24e8a09eaca8fe64d82d4035485683a9791d4468420f427c806d6706107465aa976fcdba932ab7475121fab4c7ea160ea5e52878cd60aef8a7093613bf99a5da9a23c68abbe0f1d4649e53fc1be27a5d6ad73b870d6ef6ff2a2eb11dd406ae6b19309d325ec11d8a77f70c3d9e40a8463c11f24213fe6bc8c79dafff9dbe071cc70a915fa4972c8132e19b96c32dda39651db0e6ab0e1a4d071210bbd25859bd4cfc47a0d9b7c249ffb30dc26cf5d77b0e050fff8ca586dc0339e402508c86d2b0dd0319ffc1d03a033ef6647cff39639ba29f78eb66625529d1e8d7a616ffda7db6fad8eec77f1c0bebd519b263e9f89924db7a02eaae6f0117839507cf11e0bbbab38d959e6583bfaaa2ee8414a80c46ac2ad9b7510979d714707e50286e3067c9246d8b3caab80646126f2b810cabaa63ba6c0905bc1f676dfd9483391c12664b06c8143326efb04d93766363b44487a814ae54980778b391af154ed4a0b988552067b1a47b78d7a0d380380f1f06d4c83313166bf5a88332f73423bfed044377633643c05eb17baf0c6a70d3cdcbce05ce8e5d72308d2646ff7345e213dc84554a2347f5c30fe0483744a8139ac6c3c35bffc3c05b5650aedea8a44f4cc488823e6313ae6fff3ab8514012fc5dd89b0ab480ec4b2662483fe6c6a14399f295608da23242e99fb3c534ab8bfc58325f966d6fe4f9da031eb954ad0eb1e8bbb3f4b45c341a917c92f12d7e43ee11f873584b57bc1b78cb88468cac33596fef0793ce965e24f1e016e2c6c7cf377c8fa6967807d0805a563d89b49e2532c660fd81dc3c740e956eb5265b3817f5fda9743fec8db68d84916ab3c1d41492bb3bb0d3d449211fe5fbad98418268f4132c8b3fecb8bc8f41c75396cd51c6bacbff340c8a5633eda6ac177fd89bdd3fd85b26bb4462bcb6f56ad97e8b60293a10ecb79c53ead56e5d0347fc1530e1ad619cec2855ad6e23228a6ebcc162120289864ecda71aee48f776b6b368a48a2fa09ec605efc9a7bb92bb9ec56de101133eef4e9c2f496d5dd703985ab96246e5841f43e2b1fdde1472f333ddacfa3885cd07031069e2f1f7d8b72b363dd14465eca6e97b70759da70f4bc4fcfafd12cb250eaa889116df8a63cd9605f6355cc626c5e68dd8e8ce46e8a35555a85a7faad10fa9c783d926252b0760382cd16027b273c5ce9a5f8abe7e72ed112ed473d985fe303093b6d3d78ccbeab2130d86503c4f74ddfcdfc96e8d8ed2a6657c3898a1f9ae87788ba7760c299df675ff2a76c3029428c5482645d489869eef254a87bb71eb7b61ed7f7df3ee8805563112e05a46cb224bdd7ba4d292bb2e57f50a71a91300a2b1f656c88070f212704774f666ad30d0f2aa200ec479ac75901471b4ebfa879b3face9e798ef45f0dbf3e6317656f181018c5239f7b784b05db3d10576a45527bfdb843042378342de797bf864e57c878d8fe6aa0cd1514ea90de6cb095501963eb85533f3ea109f444490147c46bd39fbd3b454c51e548ebae23c9457d32c0e64b8bb6dffdff46b5f7bdf4bb1980bdc2c1ff4265d16f2f2327c7585519c2d3a402227356626f21ab1106cc599e7d2b8f4da69c63cb91addc5ddf19a72e5c7d4d30ea5354b3ef9cc10bfc64da50e51f277244da5834776243459a61238a26e4922675a4ae248950304dc2f7253cd6c485940423edc0d51880327370c73993266e95994f21c63fff853dcd4793f43e4791ff1decaf4ba95054eb7f7d27c9ca1e8d13cc7f3ccc200782a759b9a2303319e833248fae55bd8ac4298439584303a13fc577fa8d62ac1d90ebf27ee9ab207557c6d3ad2c04cf5bf39674b116c8b8e0963bb82a6837c6aabd14dc1e80f24a79a181b632656a8c3a746b4edf2194831b886f75f59139e12a0434ded2fdf2e2d68e00680945e286e110ce835859ef5022b82a06e057e34d05efae268deb62172e2381fff72879701d5e7f1d9817b4d51cab4e87967becfab7d3d419ad71e978c329a37cfcfb3460d30ac1f0f3a6b19f6976c9c4321d3bc4484fa01917ea886d4dd05046b4f6d58b7415aa53dba0cf913c2520d0c48f147c08845e5653445b25d7388c4bc963d3262619f06be69f0cfe5823ec595b5e8ec4e983e7e77802f5152e4ffe28881ec6640d7478fba7e95ed73a2600609569b2d5e3e66894a5c114645729579157b882656b21c9b71efb88c771a8c9800f1e81ce2dc94d325eab57877dd7c97a24a44d4e3b4a1720da493fbd8cf2a43d72c10dc4d78e2330511bc53424a6d922ac2aba523e57b09901658e0f6c2c2092d5dfc3c8362b6b024e15e3216679c2feca2d91a2198cbc4a98ccf3560d843d26c2f73596212a22d2c250e73abedcde61ea9e5d028dabff30af3d280ecd873adea246843b5e70f83dc959dc22ebd8ce1742d2f63e80a00208c61badf40447030f1d263697b509d712996a4a6ec2da8eb3dc35775528fe21993c69c5bc3b868557b460c59548c6589c493bf7c9cb3cae1a2c5304b7e36b8c6046565cc9e21fc5617d681719d7fc847ec561776ce8e7450387752d937c1455d950bd6e6ad0e6785a4de9665a9ea19957139e743072ad67abbcd0d7063e12bf47052da3f4b76df9cb76c9991ddcf3f79ec9a16789756b3e8611db06fd693a6f0921126eeeeb247ac322255329aefab526257e2877aab7afc98f10a05cc8004f5a800366967573b78461d039c855857b45df4b5a640e3b793d6502261acf5e805503882cce1828e0f22cbceb99abe6542d8865e761152f51578d5bcc835a16555676872b0ed769c18762420531eaeea8183839ed63e410889c35625beb7399f076c3861444db940bd0fd53d927d68489618617cd5446bd8a7c8c3089e75939676452429346b06bd5131cc32d3627055d36567f783ee171ed478e3a659d43447f9307ccf9b7bfd0cf698dcbc0aa8651b5105acd0220c115ef161641fd9e205b858739a708784ab1a5d7b1f889e98e6e85c862edc2c9dc0ae90e471c1ea5a6f4f7bf012c84a36e4e942e9f0eefcf9f1f8901a6093a80fac526fc3ce070bb9604c296d4f233e09fa5cb073ef526d4271053c40a1f1e79460451a677b3bef20618b3bb9e0b0f23bac90bb70cdbe545a7401c440006807dff0f22c3bd974fae30b8d4c9df4f8872456b243a00069176c0e6ac8d5b62dccd711ddec70fca34d48a55b41117e58b238a8825ad1e987e06fd7562840aa1453bd4732b0d58d7c249c227350bdf11509c0376f55a72aa1ab2d0f39eb934493e28faae188b48eefd5bab0f623ce517ee54fee3b0808291c15f122f248152e821376355310f3216419adca67b5074ade25a7acab6106add01e3b40825153082b5a4eb7b6490107f7e30d705c0b19fe8361f64297bf34291827d57b295451988652807a47b00b2d3d1c59ac2c076d4e8cd6312e8ba5e49ece6515439cc1f78c013c571fcd0924f42c23a7e88db2ea3e1fa86755f87cca39ffa4b01b104a426c9d02d1711cd854654cfce1635e57e8d669842536ea7153c1c5085f61418c89785203d1da7560876d8ad28c7aa2ac0370d8de0fda20f6bab9fc2b5a39adf4546a2462ca52c83b55f8734dc60c1f70b8a4699ecfc81f9d31f28e588094d773c35aab2964c96ae6a416a948459354421e6c09f0b01599337a36b3ac0ed1b1fee7e10026216040fc16537edd6f15c3a01f5f255f974906363b06f56177568ccd03753c814f953473fd72e25b5bf886855480e421a1d3adf9c831fbd5cd32aa0f7317b6ecf8b673087c0d62eae9db1650e4c20ed49022ca97c2cc900b361495ca4f06b113fde242807264591935a28769c115df282002e5b6ddd1ebefcff87c73ef103c9f25b289fedc912cb2dd5a591504c94756f673333fe5c674a5a8d00a4c01841312218eb75f8b1f1adb05e3cf6d1c769317bed9cedfd91a310c78cb51747960b05f64da20e2b002a2d867a1e9b77ff059f91d3aec1bf075bb4dcaec6a6b7bcf5b019a67ddf0df8d2c1249d8aa3176405ad04d2099b5dff29673f6e7c35ec2f8df633af98c484f51cb5de941d86641569156842524579229e1aad7c9b4bb6e175ad60e095678a14965ce608f625b2e3c23872e9f6559a88d35d873299424b5b7f51e0a2ef04f63b5575886148a4b40f7a1732bee2b71cc3bad24941fab396ddf33d2b3d9af735e3475e70caeee58845c122c3c8bb4a4df835720b4bc8fd2d55346167238134c4b1ab67c28ef0828734c352c48ec634549ff117b4190c0e5a62b98786b46f44974c76fa2c75553d1a3330450fc3b183bcafd45b963d88db9eb7bb13f0336b671617ae3637bd1ed8ff6ce01fb14639e8604d36cab0fa71d13a5416c5dcde34fe57d23531c10b60ced8757e46fe8459e0f342a52a10e7a104e7743d393edfa9dfea80ec922b93a26bbdcb42d07f9b4c775ac4eb94f8008cbfe5fc656592a0f72cb7ba6ddad21934863c3e75b6379c95a47f1693640224d6beed31d40bc643a7325ac57a211cbdf1fa96984ff8c6e829bd37b40e3a20483b70135462025880c0770f691c78102aa77feac819b6876b68f699cbfcd4d71d93f7e99f9cc5020fc616fa5421988f609c5739b891d7ebabe72453eb4571a7dd16979f545474eb03946861ce1e16384e72e80df756c0832e9ca79bdfd1e0230314553f9b1a2ab18491656a81cf42472d9d71c7dbc01c4b925d2118836db9c64770b4d7d658ad297f2bc09b94c3b96138d9f860644e9df70c48b6069edd412fb6a07a32e646d2a2bfe82972d2b7ee3907ac297a6d721e94484c26f0578c3c0c4d29163744cac9d9a7c7e98db38b3ea0e0e5322bef4b2dea20bad0ea6f203e37808f6f05641b46baf5a1250e7852c5963a0a98c3acc427c01fe1bb790a72756f020489975c60e6c1cbd8bf80d0fdf0768e26262f0909389683d3e7bcfda3fa3ef318514b95bafd88458e11c2b64cd3a91aec78fe3ba21d7f861bc831affb324564aef97d9e0002b564ca28336003083a04752e64fdc2e2ff7db7338489fc64b2825fa3b5dde1f636e0b3340996c5ee201bf70f2e5c6228d6e44f9e8eb27ad60cce3057730fef91dfb9983a3aff116c1d9dca2e77b29d299fec64b9d19c02fbb938d76eaf82390ed94ca6759b39cc7ebdf5d1c3caa54603efd3c4470c950e139a8680dc4f1f09d1a50cbf44fe7e7486eca03b02f062e7707bfdca45fc81172b294cd30957a70c8a71564b16c0518097264a437eb73f79fc892c811185c530c0de4e4171549c8892e0ab5d0e7a95fb65d90847462ef50ad4e957890e2dd7a62c577ff80445d10c30af0dddd7202ff1bfaf019d59302ef5ead04d2d1a8bb9b5bae5521b37ef4e12c0d3d777b899150dee8b5d5f19a1245426e58156fd65bf7364c186a54a8d2eae8a6da7a353dfcfd82803074c952759a77578a86b12ea3c0c687cbe9f82a831c25fbd97c3d95f945b53b7b8ec109d3ac9b0e201960244d101e0bdd7db66a0065923ba93a565a24937f45947323ce014a8316a073a40fb2551f84f5894cdaf6fb4d795fda89f3674eba9b6737c3f40383841b03071ebec9c376fef2553bde8629a492e04bd3f73675c4e87044021569de3134891ea0b2acaff2c56e5efe7bb4d2fddad3c12a38b01e41150efa6abeb56b3eacdb2fdd834dc6f7855956cc60eb8bcf7d085511a0040abcd606ea64d36e4e0b99b7a3416ef6e018ec47f5ee0a34dfd9ea11f93b2a8e3a8c779da18c41f337bdf49da2781181d9a4323fccf9dfe4cc972e924091dbd72f68f743500df257b0653f73bdbf7d2bacfa3c152b5b7d4b6e2b55c9c8a1889c46347ed1f14c409f26aca10af3d916a2ed3ae650095ac370f451400a71be2914fa1ff615d9d6050074e94f88093835e09f08b2f9ce468d4f87e6a255270652f2036554160d0eafe7a279556e9863d40e0a6422913df0ec37b238b02156bc3e092285b53623551cd9dfa168730f0da3792bee32ba27a9fb2ac2ffe1e4dc62be9b0705975da882d043c199a6cffcba886431588673302c726da89b2619284560aa5d8a3fdad0be86dac00055397a032116ce2a2a9109a4e6140f23bcb8e00f5e3f25ef2fb99b398228175c7eda33040db3ab63b695889760d3b1ef79ac11c469cc6956d5f57dd3d58a81a93060895a21c26b8668cc672e4068ff6a0f20fb7d4ed59ee02cd78bfdfdd5183352e16912a901fc32ae619c14291e27d7d8b4fcce5da788984221a5b0ef946b8c5476075cb9e09b7fb15ba3b63b11117cecd607e9c7f8e216c5091e5cfa678745d5a4d513cbee1e67196cf65afae74b62ac9ff724a33a3cdbb2d9e9416d900730b158fce64bd2f88630012264902ae29f06f41b99d482b7d754f60f8f69935b28a8efe923ad987ff46bfde80f48c0cb0b92a1057c8f26ea641221361f96a50bff4c0b2ebdb1a59c869de74ded86735506afaf6ddad14701586af614ede68efd7a1810ce18e8f08cbef7952d42226a9471078308369f93df9472d222a42c52c6db6d874500b576f3c16ba0fa51208f0884d26aa783d875c57eb1885122983c5173dfa234d897c87f2b56d90cf022f3ee35177a769c8994022fbb71f13ae4eafc919ff3382b02694a976f6e98d9e1475b3274c575ba943d9c2da04b209306224900698a8ebcc4bd6c36f4bf540c658210347da750a1c082db3d783c83cdb02772dd1821587626d10673e357e036efa007e19bc5815ac1e34d7f22f21060afe226df5da4353ed1dece575e1a33043aa01bbc4c27e84a7cb7a8efb76bed3aaa4418d130a99e137e670f4df886f4454428a6b9691894fc38650210a91b8de52b6195edef8ce5cb250c1b739491b04aab8e86e94b8ae7b77d519f83c83b62b6851c12a049a50ebbfd18634c0fcbe032b4b26a78911c363a7ab2a43be8de1e97d56e409af48dbf6097a0fefd071c840a27694edae8ffeebcef4738bff8cc0baaa3ecb385eb076e941d5e4c7fa6ff168433ed26b3c25737d5cb613eafafc00d0eb50de6253ad716f55dd5b0ac7b223087f798b378a0f7071b9507814398d3c3ce349595e2c0e860db62f79692b2d1367b7d97fa6de97fb7397b5e1fd7120329ec908bc7d04ed020cb98537f5871189d8cd43c40e745ee2c55f421f163ec8791345a101ab415365629cd9481bb789b4fdc57fa6523bb8083a0bc419bcce9243b7abb3304805fc58418289f155f08e883ea11b0cb40d5a4fdcd3a8dd42283717dd718b9ac658920e0531e237095c60493ee81fb61f0c5235731e28657d2d561e012b27be2ef8e5ed5dd542f21d7c73177bf53eb42eb1ff40a14d6501b458735939a63507af77056299a497f5453d17e4a8cf6ba05f34c4bdb175793a2a62ab8fb5fa1edb788c50f35db83371ea6ae390f0e4866175fa09cd9783382e145a6192337c4785dc93649aae6345052795afe0cbb03eb6331ad7b705a628d1a9676a73480d776601c47a3a267b957a55a298e68727fbeb7a275f3c57b8e203541978541a90ec89a4e41c7fcccc6439f67353dd4490f3f1236c1f64357beb456a21f7ca6df63df89438d62c993aba8527e4a6615dcac685da33b8c8eb295238c20ba6eec1ea8a7ae6bc14db4025e68a16920d6b9aca979e0cc61f8e4267333201745b765046d513346f8a2d66444400d25fdfb5a2525cc33f68a2b243d626b5be490b3ecf5591c0acdbdf9d128305745a2ac6c7f018c4d7405f3ba8bb942c1f2a7e92fd9359348cdf9d29452b3a259c959c231e6fc34ec2fc5af43082271c12e64b3b1c710b5ed0e4e0bc48d27acafb7d841134c26b2d8c7a56293886ea5b2a0a27b77dc2695d48751c8cb79e55c49c09fe","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
