<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1867e76f7679512df424d89c56c2e9dfb9cd3af8ece91090242c5e56634fc16440d2ead146ad141af10933a5ecebd7481273821a86539988c346f4cd8924032ae3fb6f4816f78bacfd90c0042648c0071f7e8d191e2de54b47a95b557132886395e6e6021c3a4a57453b0903ffab8f44cc92338b828d74af77ddc1d96beef6f82af3f99470efdff0b3bfd5f8b3af39c1e3ee98fec171d80c7ebeeca82f6cca992ae47010a64652b1a1fb56350c8e073f61a22b3ef261c99d8bab7db104855f203b05821685deafe1f8e382808d0bf3636a08ced3570924ee4c93060d9200a1ea089a6f4d737603879b1ceb7b330e9bd4c2224b63b90774ff9d276e6e94981c98fd0b604fe0d359a66aaae72828e947865e187a1ef6faa4083e23f9f5db548159c32ca249c3c959d8f88a8b0df46c62e8708941fe75cdec67d7d831d89929afcd053f034d5b4e55ceabf34d244812e59c2044ecb9592786bf62043b9d6457a6ca51bafe497eade608e4072f24c01c93874330fcbbfa33457be348356280e68cc2253b9a7e3cf60a6ec9203f48f377cbb78ecdc30b52ebf651951410683f18cdb90fb66b0296cac591cb0a08448969daac1b1db5c0db04c3524df650c11e3fd74cf807a50537c95a1fa2fb5edec752c7241f2583f18efe15770077fff8b992405de2b50d5d57e67c6f709103f48d4e43870168ce2d3cd8b947231e5d77527473f484139736bb39d8ec25542cc44fa985a7a2004422339fee725ec32c3244a4ba0c48f444a9f4d65ed7de9182857d4b0985516351bfc8b5c31e9039d04c55b4c03f9c309afe219fe5baaaf8236de70966390134243f6cd0417fdb296de99250810915ae79918a9ef60ff2a379bef87b08e3b2d5f963ceaaadbfa600488dfcc59c5a83bbf3ff168c9c50f6c9bab88430d816488b804301c101d8aa01fd29550c78b7f196a07374ec85ff37275c8038a75bbd3975bd5e4c96d70a50ce0ca2968f619df7ff78eaff6dadc6c31c32e2ffabcb23d1108f8376287e7bbcce71249fb025aff8812c5d103bf7834fa0b9aa85fe22500ebba854eeb0d459e3c60053e84182ebfa2d7eb92ce41f02cf57e27c04bec22e6b00656905f6f5aefce7b398039539755cc1d4a56379119f58a597d3871be4a4a442456e3ea6746e71ae19f7ce22e67b2a5a4de0a6d44ee9078d68382b2167f56e6c5a43077369e25a6afdd5667abb24f5cec6446dfeaf4e59dba319b93e5012148e702fa4165bb746cd0a1757c642c2aca95dffca6eb480caf63e2f4c6c65df5ef2c7a288182d0557e3a46c0a895bb372e3588518cf24cf3a6583b0c2cd48dcbdca9d1baee54da2f6399e227b3d7ed0820d408acff7dca5aa8f960bacd954422ce98ad9ed6378498a9a5b845a74dbf78129bf494befeacc09ef2e675674f1e5bf791a2a8a5c9100ac3397153f151e66a23c3fc0c7ce95c31a16171224fa5922f6dbc0631f02e0679cca84c45636cc42fff732d53abfd153c7535e87d0d450da2328fd194f154a0c7a15aa54aefe3cc683828729b10740e7b202ceafa89706da84928757f0f1237c76b71bbb315b6a003cc6e369fbcaa229afe943d36b03aac44c3add2de914c557872f454962bd1f4f09b12f450b06e0ed1aed81fad5a17cf2b04d9d36929daae34b3076e4ad4aaf5e0ef84dea339df63ae545258f6ae7f30803be0c6946823dc4680ef0b586b25e8ce433f346debe8003fcd4fb735319a919b1605b82a658aa8d28e7180a110d8ea48d0e1ebc2d4d9ac767daca78633eb34314d15b895ffe187afe9ade1663c2ade1e16a9ef5e0d89defbac10f5d34fb7e17c29bb4b932d9269c6a9c23f65ce3989c3f5dd38bee29246b8ed745c478ab51525e551fd9618228c6ccd97cce80783e98d2f2da31e31c427c0855809e93feda57f71c9a88ecb8d404890dea650f145f531cfb8f5ae4a78568ad113015ed4fd551408d59a26d959770816337fba44a7c8c45935dfc2cfcd3cfd4facbb40fdd89bc422e9eae2c748b9f9b972e88d4f239f5cae4fcf0285780673634210096765bf7c57c5606ca57e6d0e8a432b16a37ab61227dc6c74eb3730b78d49cecaa55b67ad4c16e5f0760d3e5832cb90a05748a0cb426cb5860c4c377ea68c0cf13a9329e9144c1875abdd43b7ccfe9676b4a4964f04ec1739704f6bb6bd8916b2fc3716385c4368a22838c9d578c4049550235e7b45ed807a1ad17b51ba86082b33130babdd72ed6a2f4a53be81feff2cef148fe340f3f8f26ee92b996934ce56f3a500d5bca0b436dde7c8e205ff8fa98e74f1db45d48c06c857b992fb9d742f5d473120594ea0e7fcafaa8ce1314e8f4dc4718a71f8febf08bb828e1325422fd75ef28bd4d3741e876a8b3f97f1238679907982909fc8e423660b825487ebe6c8a8a834c19a3d4ca3327c91ceb84cf37a01c9307575db4de67ff35b84e7815fc201d75599f667052b2b9e6a746c7fbe8380154f97ae899a46b73cf9767e09f98bf593b308b71a28de40869d5afd087850be78627cd3d887c870ce27cfb0ad7ae3f63f1da4aad3743882169d5d970275123db584933249e6c1021ec1769ca30a3038ee767e8ce076a138d9aa0edd011132c962cf8eaf0a86a06ad6ad906de2b229f5f3f31cf961135196d8ff7d32e677ea759b9dbd2af23623c87764d87b5a8a4e2779fa55f76b20b94f59e500021ab5e70984e78cc16f5084a332348238640da2ec7e7942c7d2bff6104c97db0c2a6b43632812e986c53fa46809bec084fcfed9c4a6f2d43d4886845fea8581c35ffec74c42814a37018564a85dcb0e340caf4051c01d4e8ceebb6f65e5d1edb3fa8e7fb07946e65c8ef7f7704b5b7a0c7150bd965c2f840f8ba6c81f80256808c31cf8e7c04593760f36052df1f32cf4be65d89eb1d62d72970732b5cf374ba99d2fe13e3cd9ab206c6293e6cf46a00443ff032a28eb61a15791da2e2f29eb8e70b278ecb6c545ce3af510225f0e90e318384f515d087083a152cc1857ea5d0777e7ba8f9654d9e717f5bcc88ca42af736e695ad9adc2521230130f83fd3507735f5b03988c718c6057b1a1bfca6894c42bf52295521ee7afbacb99dcd44e43e3ecef403aa27e3fc65664ed535b25f5f59abc2a534ff5265441cf3d663a88aab5e11313e302112ae4915c360245e4b8a4e895420c2428d4bf6f828aa0579f8ecd2b7a0d89c6d89d69cbd6203ee165f9b9d0a426309fe5e144fdb51b9abeca036828080893b0f1e7803c95ac9886f2d3de659d7ea13d9d87fea151f6c3b75eabcd41d321ab889542a076b149d56a15ecdc4368bcb7920f2baf4aab32f584f8bc7f60273f42d527abd81fa1b616630ced9d25395256c1730cc1d396f5b6b7e4b0f230f8b8ff8281f5a63b0d6a95ff5c77ff5db569b7c145fef37041e2400c1ba00249822a4212fbc5bfd01a8e6a80bcbd5bf8d28c02176248d358f6310570b32d5230956ce62821ebf4f49e498074e97aa30dd56b0ddb7b66f89aa043e048d5bf2456a9cab11776ac4d53b955ca470a85e0e386f09a3306f9c8b124c8d62af9c8df5845cdf9e1937b93e599cbc069548d46044bff384420cfc1a25afc8eb569dd4b904f7ccd40a0a315dd116a88dd39116b673947552dd4b68ea7753db6b2b46dcc11336b0a3502af0987019b3e477479500cfb5a89dbd85cbddf4f6a04b87c161c19ce1d021df166c6ddb074dbc3090e2b20f2961a6444c307795867ba4366c0fa984b7c8e09b70b4e162fd8698b4c7189184b77da739d661814c0a33c716c742f9ba01144cf54324df281680b7cae9e5df55c1c721857ef1efe52aa17256f26d93aae0194b9fde1e0e121c31104f9194b6088ebf2cb37c7c4374a5e20ad802a33e1e0687a1621a06f311e757797ef18e31799b877d7705e7e4159dcb0ca56876e6a829081f4f7d1af9eb86c4acb54bf7a0b8de56feffbf7f35b964204eaaaa9282d476a379e643efa5ef5cc30f18d363b60a795f75dc1b9798fdcffbc7207c291fc71b9ebef8ccbfdf4e2a7203b62a912b3271ff431e672974d6f4ca5eaf440969917c5f1eb9eb42294c3a33de6dfaeef0d716d863b1abe486303213349823bb623398f4fdf336e72eddbfd0f2e3c2131f6bb44732958f54efba76bcc44e72d9bd84b8aca661cac1d2edd26e0bfb075e1aa471436ce13acad50dd3d4acd8f9f951f9783fcc6057cb798551762042b845d4c27c168a367fc13e792e3b44c635f6d6871f2e0e6b05110244bceff87b427ca9e16ed190a034a9ef3d81859c18eb6d143f13706e8f272536cbc256f4da8e8a963f3c2ebf33f8d11e2c1e874c12ec13682bf469081215faff88a82e7cb17cefef6fd013fcd9ef95cda023aa3edd035f7bea5502837e6e5cb9513a95a7ba1767d49510c14a51b63912e983eadb74e66ee0a6ed57f1cdb8e0f2a56297ad32a47e945b3d0e86f23aaa8d6504886a7d473f2c98c6f3ab54d9e2f20b1de885c89a4d1c72e23f1f359de1eb8159d50d23156d4ebcf87de3edf1a8ae64432be75691c7b4052614d994b3e740bc30353432b3601d9382d7cf1b87f21b978ff76a2a37b986e31037d8a0dc38d2ae4ed30a0c5b611cb1dd57b6c00cbb747e55a1ec7302b798ce55df794602a2d8986f28605f64f1e580845ab237bad4dc67b480503106a953e1d07dfab6cf977ebde8a91e5bae85e5ca9e6ae953dbe9b34628a7b6e0a0f156e972e5eef2f8bd3ccbba3d01cd3adfc102e80574662e35d813d44805884cd5e9669d10445946bc54bc2c50a62d8df08f5692a466855e10fe7f7dc94c64584d290c6bba2b70a13d8bef9bce67a9c67aec7f31684f38e397e130b4b8a878048ee4b82dde86e8a59a4f1b0cecae6cc6633559cce14aaa61e5f4c8c488d53805c57b300cd282c937c9233fdd1cfc31548ef89328dbbcc571f71369ef43aed17f79a664878ab7c47c4463d1e017c9e27747ffc55f801d7c1d7ba8350cb842b494dca40efd80d14064c35d485bf1411323e03971ff4a0d795087fed1faae238d0388cf4240e2ab50b656f8ba4ed14196c4fca03faf8500672ac1c90e3e352e069c7cdc9a338a8b8394c1b247fb03618e1a05d3d13f1b584bfc9a388341b62c6651bd54614ce8c9afda04c762763a229fe5adb18200df02fc290bc6382e9efbc3bbcd5b6e82513bc2ded55440c310769ffbdb4709ae6c39cc33706337bf27dc4ce11a84ec0e4a9cc1ab14b38f233907a6dbd63eb2c9acb7cf68ea6ba91cbce9c3b8c1584ce967dd29cc524df6bc6d4bdd129cb841124574c857b9a50739b6064a04dd71233b62b0b2734006213ecdeda7ced991d34f7369d7041d2e6e04fdcae4f71eb3a84fc4cb5fc591c121f1296be4b65832d0cd187fc268cf73686d6c2559920d6ebac4169a4a7bc0962b83601b4e3b4551c9d7d39b95bf56ab6dc62165b732ddc2918f540129c4cc06943cdc8af1e1d46541e92047e16498dc7cbe57ead50e47d5be07588c04f335ccf8967afa13a1b394abed461dc79e7615d2732b1fe993e584fdfd625ab6c8fa1595aa135e36086f60f9dd217d825a806088fe8e59519c2bf51f3a9a0d68e99e7e8afed2fdfb55ea0d78b6d9cd1031b52d9bbdad124ad65e60712798c69afb673e121036e79c4aba8e445d249878d71c643a99b2a4ec605a4fe8ee61092900d3590de63ce6dfd689aba30d798c51072c3b9d9646c3440d434b84bd6d63a2bc6fbcc099302b389418a5fc2e3bd830d34f41821901d90ed5db5690d4034a0f71fea2faef228bc757dc0995d085461ed10ca055d07cce8c914e5fdb2edea0a0b24edb5733c0f33b943227b35c586a262e11d72d1ec6d7c407ae84739c85cd594592792955eb17405df9b33ac21f54af96bd289d6044b4a94b061541a2a839578b7b11b6c3930bf58c14acc21094cd3ea5a690b3e7335f251a05fc6193090afe4ac5e4abcb32464f20fd7001eec792234872752c2fdb21d73b1f0bfd9676762480cfc2c37b991d751dfeb62d3dbbe8fff3201df8a9d38b27916f1bff76f0a4e672ba98e4cbaefe728c5b5382e232d643f014f850c20f0c74b18cdb6ce03c7c602b609e7a3f0c4526c128725941ae1a9f62f07c462d564f1943b2efad9068236bb0bf017e1a4cadc343ff88bc4f306ea68b23009c002f61892dbc13f744544ea5faa54b05afa3d9fd127b2a46f9bb5c62dbb504d695c916d197764287b455bca9be4d69c76c914f69fb5fb767b8a8aa5302dca812d8187530b7fd659f6aec530d709285f51328afab4fe491598967a073b9ca98bc138fd116d274a02f25c5748b6473df00917052cbf672c79f63da79e9235bd0ec51de96ee3cb262fae2c13f77cd0fd0c6e349124fff6a411f68b37bba79a2ea35a789698e0dd9dae4ecd023b40fd9f7ebf6c98da734cf493b2d35b59e8411fef41a39c31a72e5e43a68cf6fa79f6705ec06d3cdcb1495778f0a6cb4bf6d2b739975ee04c007b6ba24e7b07191c992910663dd65945109855ec132076b824a82f10e798c018bd0e861bd8db153a5c2349d8d8f3d305f207613739b00f7a3753c5c3d111bd03673449eca08b7aa4133e5a596d2733b2fcc30d6ba09ecc2015c258b0d82587fd4301aba8dd970b5164cd21527b690ebf3ea2d11d3cc6deb07b9d867c5fb74cb94f46bf77822fb87259c9045097be7b55cb4cb33c66115817b8e7312ddec299acfeb45b6bd695e70890948a83745ecc422e0f14e99090a3527620c31d0b14752b2ab5c8906b8a18a56f2dd21f3bfdfde0bfcd6c68c905bd4e79d50c11e8eba91a5cb1e0de1a32fef110f44c1baba79c752767574f22ea127993ec0df37bad9d6c2b530ac0744933046740ca8653ae5a5c484f62db7a39d94e8decd35b7a43a1d3fb512f47756a383ad8aa61fe5254a797356f13a7769407493a786b5314b84f084a46854b83bd21940d4500e139ff32a9ec333d4f5cf7a055c981f6b07f0fbbb3f404227b72503d8ea66d8bc38cc2afacfac028992258ab47742e1f4c22c4afaf899ef75827c056ba5f18519ab4708e44db0ca3d9bc34239fc8d5d18550bc2808e069c8c1303736bcfe31ea20105b6d6c34f63ca05109ad1815a5e3c0ab1b522d0f7e4fa607c0c68b6cbde39c78d1be1f1e514b74b15191454951702329b88f3fc93b9b8f9eee1122c0ce9f9374094fdeee8f55f7df25c3d3c6c730fa6e19ef4bba3bff3b9b239db67d12f7cd1fae31f153de28ce8ea49d7c4d76c1f4ea81fb7a32b8c0902facae9c5ca08b8906cbb30c401d15006b60c9d383975ceb40881c6d1db7233870e2f92880764024746973f4933672c22e4e94c80dbf84891af82ec2fac67e5756285dc551432198b563a870ae6a22525336bc2f3ced8fe3a0d9f3bdb195b003a85152be2b92791359163bd0064ee5cc095b397bc803275532cba0ebf8b63b44e90287873e251c1a3a4d0428d7f8fea365aad848aab3c95ff65571b2c8c953621f29e814804034682e2f3090731b3047a658ca7c262af8dcbfe0e776b55938ed1be994ffd8c1e2e9d81dd0bb286cbf34fb3d9077403696970b9b49a074b265fa18d329b9a641147e7d65ab656a0c6b5fa9c006239047cb1a41805f6dd9ce42ca28e0b4e2e28ceab31e5e37444793ae011ee30be2884decb89142656cb0b0a3fc2a8db9be974b005ef0e49d2a1a3c11113382ac85c8c4cd540e6e768836ac4d70e01f5d4d46c9ea38231d5bf85f6feea816407a9fce84a9553d6220d697534bf00f5aada9e0bcaafcc66840d9c374b73fd28477632825f2964ed08a2db597982d6817e044e3d9250200c7d4b223d2a9d7e3ece6bc4f15e81c5196c1b090ed623f8a662445c7f0abe17a1c9b405de73e2e193dc2d40897b85903b50400b084436e451d371fba6545639f26670204c93adc8d974864af618de487ec320751a93ae1d6e4b693ce30d700043ec77a0e650c1ccd91fbd9091cfb3e261bf2e500fbfeef5e4aa1d38734850f6f30e6f635e250dbe40fdad170419c23df96025d8e441ad43cca30d06a359694d67a4d4b4fcf6914b7c0ebc9a96b2ecea4a4f3d5e1bd63214bc9c63490801daa16f77bdc8c88b072a28ae6d6d35ab9c03480e0b09dbfc8a5552abff5d144e751ed932ea742df78ddde7df48d2749629ce5a7d7d316812eba470ec485cd17c7b3ba187d6eac07667fc29f763445e267a8c8ebbf9f1969acc3f5b049f0959471614b81effc2d2dced0fdf55945070e7700f9b9b13158b89132cbf71119e3b6cc8abe6ec9b1c406db390bd7fa69435efb8458487790b6c7d88d9a9e2b81ba6aaffc8326e8286aa0071bd918bb0657809c4ab0e9f2618025698adc00ffbea22092d108ada2e4ae91f66a4cd0e6a0f16e386d7a2f9b6758cec9837740b66a1ad1c3100693e3780a7282ca36e1bd45d1347b12d408b6edab4597506404efc060990d12bcc8ae79f4bba0b585d33f1be15cb0176fbed9a2c112127dd30be829eac72df4c19a99c2688bffb8080934f8a72241ecc777c35e7895de13fd8e5d400baca6f392f6008bd1a8d9459442f141698eb2daa3369575df606febd6ed3f5f094aa6e91f9d1170c50651d8670c91448529b0400e8df4b850450be59e74e669373e3b78d2f750cc900c35fa21ec89cb046b477a2e72f71e3164f201b81dc0ed7cf2a298b37821b3ff39e4e64ba07c4321948ccf17efda969fce769f861e30a8e2ee9e4dcf74f36deaae4efbc3eab31bb98c03a114da77ff81bae39e34ae2b951836db12dbe0ddc9a17c485cf83c6a64df71ef84cba15f047d4520fc045d8b97140633a7e5f510f335c8c5cfb43d85287adbbbd3be7aef7678f180717d50a8507ec2ff958cfecc36c790ae47ba3f276f95e45a066755a67e1bf36d3a7ffa340498a9305f9d82ebfe404611ac707007f0e6efb9b4d1cbe607a7dc3e78ae9ec5c10c59661d42f6c7241cf1fbed513929164cd2d72c6cf4d86f0830654c4be89053868784351fd5afe3857d353d5fe148e0e4551433201dbe9952e68345f93b1fa5f86c586ab232d86a2ce63e92a523239214342efbe686c177f216f88e3cbf28e214875df6193e3d93a3c03557820cc22201f65539f4f1be908df75d835b0888df4ea1e84fd6e939c6a67e6d4a0e5094ac449ca2d03eb6e0af111dac0fd2ef71ce6b975ef056caab436775384b02a25619eaddb5f7e694ad67c33fdbf40b8d6b4200a8a4203cf2eed37383e043d78202eb183fa7e06c04b66efc6dc1aeb70c0a3cef70301cbbab3c26efec6f196329e3e4ca05e0bad1b85883eea39415277b0f98b76e932e86fa8e603907f17c971efd488c14ebb4e3f462abc2931c35e7678c3a696f6e59c43bd2ab7d5212719e1b90c56b0a78335f41f44ffe1469fe819eb3228b960bcec9597ef317a8e8e417bc4776d1718405febac0047b38e507895f73c8cf088b2b3180a70337d339d51637c3c4b018a031201e2be6d8b75920a785f2be8bb119f58cb90ccac420c68f4ce2e879e25a8359bd13ea178f153400fcc28c4d16b5284b27d429cfd47a9adb3bcadf434ac4079876ecbd529045b2df3eb15f3c923414b9ae9ea101e85d4cc33139030bf65475a5140b8000754d839a196b95780327271f7f6ae708ca5ce6d74a6b624bee4a839ae7881f89faf96dab7e2a8a75ca8df28f2912579e68ee683d6f4bdc900e52bd3ec031374d73bdd79e9c767bba82faeacdca896fa40b847d7a52dd90e88bbe689d450ac3d2aeb2ad18a264f6fc972e61fba0cd264f998e4904d6f5de63216c4f5246375af9a40f557e7a7c50f2983776a9acb85ac94d4e21664e1c3050386b918d32669bdf1e1d0a735be62ee48f9688e57d13525dc8d6cf8af74622ad146d0cfe5351af98f4a039171306bdf1ea97f86935a04b6463cb678283ee574c009cbdee10414dded7abbc931dbb10d54c5b62d09954d9bdb578fb29d9c4db7198519d0c04adc5df173ee2fbcf2f1837ecdfdd48ad77f40938a5626b2edf98a66985fe3f02176981cabd6b2bb045d80307a32c71696443b3ee3592352758fa23657548f20dfca9d223476298a75a16e7b9dd2bc08e6c0fa5e15c72f3c2c40037e8483650b471e394de1d817ec67f31cc03f0dd4026371cdd19be391d4d4739fc10f17e1e7ab66b368ee67bbeea809d471496135ad02bb0065214ddada7803cd8fde30685f5c6fb8917e5054ff501d4cc021c5e98849accf70b68d314f952842df9fbbac491592deb62c78ff00e2a0338d8f4c31737ff6c19ea0ef99442709ea3c21147bbc0357142494e74460f52938446adca8ef040fac0aa94bb2a41cfd6dc34b9a8c30873b2f17085614fd4d510821f68d8076987d88c6231fff007bb5b4c101fa2cddf048fefc3650ae0ed87340611c97e8a473d75384e4870c9f2acf816b61c5e901ca7985d6cff9e3d9e3fa974e913eb185bb7ca75c4a7377f81174cfb580fccbc561ec3714b1a3980831ea5ce589f61ed44ff3af9991b352f2ff2df7a7a9e51632a55b5c9e95d85509219ed57d0a2f2895e60281ce2813bbfef11c913109f8388fd41864914ea9d4a5b624fb99491886aa69b812c3e89e254a6e0fad4dd1b29c9569b4c94278d6c6f8651aed1f3ae4bbaf29de0ac74c0af1a83c1e35d4b2b7d810b26d2edf83b5fae345705bdc4e9159aac0a7db122cd4fbbfec43c4502ec05545e25ecb12c90b74799ef4701638c6eed53e42cee8be068d522c971ff7d0310e0ac5e035c44514a301bfdfc8948b1fe33623af485c3140d372dccb59611a5369c801e2882393265e2c215f88e97e7750bbfbb9a3443f690ffa9a690c62e6e17c4742a0823b8ba9c5015e871793f45bc8a038cc18569948ac5c27ec47f8aff7d71560dc88c2ffb2084d72e663b5fdcd7e5ba2dea8066e413517a6319e76dd6093f476d0fcff8637ef2fe1afe94bb43ae6c33b3d89ec04beabd3aca12ae2b4ebdfc04fdf290a3478b890f483270d441ca81182270d3e17bc19410077c4176e23822281e994ccca4da2025019a721f22dbb263b02dc13da96fa353e06aac2cf86eade713587d8e93660a719ab8e2d0df360327aef54b8dd00c36de6b87b523c6cf32056771ee0500b9fac297c4b747ea86d466ed48d97a6ef1f324bf1b7f262046416f6e0bb39663295d7bf6947f9448f51d299ebabfb3cc5434aae49889bba8c55782ef8cd66070cddae94131102418ab3c9742bc8e88773602f0a60355fd0e61e5bd0524f6396bb559380fa4c2b44121d5b77c2f2ce9a0479e259b8e2aa8097fd9e52b6eb180e9da7b30b004444c7f2e6d173c8dd2a8fd809e0ec8497185c7a8fbd586ec476becabf9a199641db1b50dac38e0da3772d3ec8c480bbdaf697b485828408b43daab7366a07edb0cdd87d2ce811e9d749b3084f3d2dde35816badf1f6e323325c71c11347b912d4cd046f965b4ae9b704fc0708b89b80e4b22d628126f822e01b9110893970da51d41e7e0f62f0150151752a71c17e5fcac7f8498123d151a8ce6ab30b8e103434416c696341b541bb3fc2d984799cd8cc7251c5f2fd305c68491ba916fe48988e73612f2528a20a3c293ca17feb3543b9f2a80904bd2517dcb10ccbcf8065ec64aebf7df31f4d460e36406b0815191f7350caa26a735d44e1e7b81675017da0cead5de38a3a93e9f30f519ecbaae19882fd78a5a313d43ae84c63942634e982f7cfc9296d65af4307c00690fed88d3dc286e785bf0878374ee3132fc9483b86d31dda08716f1371f2636fe25fe5a718f489fadfe819a66aaebd03ddc9d948d0f9f841faada5bb1c1b4a13db56a1930d87d355cf6533b689631a408271998ef5e925774c51362c101b968dd2f73b590b895103cf70e3f3314f3585db5c6b9ba983d05829f50b8c6b02c73a23b9bcd1b1d55b8d5964067733dd19ce3ff7184a2432cd1e93a7ec7f8f760c6e0014e5d009ec7c30222494a8d982d37c3f0bf8bf4c564908c41d517efdb60f0f63e5190e204f62637ec75b78bb51aaf533bcf8d96e2525b3e3992adcc5027205ff622340a34a31965d295869418c2b1c9c237f16cf019c46fcde968337e2fdbfbd9d6f13ae127318e405b9a4e70e074d7950c2b2b836bc5c0dbc635421e170d953456b96f5ffc56d4f186c724a40b79e67d80ca8a737c67d09ea75efca4e6c8be8afddfd0cab7dcc182154d9644e85fb0bf044a5b554dd8d8b44d9e966840837918c530c42ff1b5f0f253609ae200ae993611a22b7799b35f0a116dae1e603163f26842521dea7141a8e1d8c41e4f2d51aeba8f0c25a89518b5e80fa65cab685cd08ff4194d1b2a3324c6c302046a93c1876f627175aef54a81bdf7dea52b10cb8d1ff56bf70efd606e19dc2c9ff1190f7bee0c4e927d4b2fbbf2fe948f8a7678f668883d1ca4ef96a7ad91becb7e6415349d9f57877e1803776f5984a2bd996c318f665f30789017381202b50c2e1ca4c406cc58a13cc722685bae2b083b593df655e3512475d417ca7f84a4031aac364736cc125efdc5f1e1fa2d811f63e0d65a1e112219d1ffb2638203705259ccf3b2ce0950856751c153679f8525ba0ce451308ec5adcbb83c078507e8472fa7286dfc40bf930318ca2585d02e7ac2c705497e6df0a22b038579de118bc0ddd03fc99c41f7a2d706d0e7a90ad1d23864c167da904b7946137f0fa1fb8c8324442498709a9f29173fe41e95e9a47b219fd919f3783d6cd30d81bdc1b50244da22410ffac5eddf460f60a432dd852c5b4c11210928ff99fe0a3b9417f08c0c7e4411f2f530afb555b5d7d0c505a41454ca1301f70f513d1568eaea6c5fd81eaec9500317c486e3b8e70afc3eea029445823d59d5244bda6ff492071672e5f684f8a941a72747d71231538cf6621b3a9f99edaee04795e72f75fd255530dc3b64b81b17ca69b9a9b163002b0db163c4ffeb44f7ba900b057774bcac05e60f112676bda071eb385cbcf1ab416ebcd8af091ac740388dfa50bd31e01122169ffb88fefbe024402630131ea6c7b0514ecd818b3072cb631591b3171c3792a7668c3472a35f38e004b65dd1386dabe9999ede0f441ebbe2cda1bb4d9d06264698836b1f5de2af7dd8f2a91aafabe31d998ce0486c033b3e5cdab419563f86ee8b24f3b3a80be104632e1fbc01e23e0bf3072cfd3c7c7b9f92018dbce21aa6a4b886746d2ee6e2d65622a0f6b21a53c59f94cfe8beeae49ff9bbed8766eb44ca48e0298809ebd87429a1f3c265d4cae8a0555ccce8f64a4af56b321018fa93f05032b68f70b3cc4e6ca240f31d3d0ace9d23efb99c4cfd4087b874a0646835ea2e5507b5db7fca17f15fc30195479cce2953eab4a2e93e56f0f832bbd5772118140d37a2403ef79cbdad0cd90ce1eaed02755d7eea9dcf3dd172299828030b4961838156eeab028a7f7396ca67a9ec5e1f591faeaad86710ed35b38f4939ef4024daeedd5b164b5f0ffeae19a1701f4ebcd939e17513134a1368005c25fa13d037e001c4a4dd55d0576e5381d314d4c8be6f57701eb03e335eeeb539903ea93b47583ba09b2c47ed996fa77274d9bf0f1a9966370a28551b88575bad999c3e623465ccf468384e58bd30e71ae0c20536b7da537d595c197eff3b7e35cf7d6c8147ed6ce65a7ba962f991e3640c71da979ba3c9c7742dd22fc5f25ab241b4738b13a32d018ad9357bb264f6746860a5704324098147322daf96348f16dfe5b2d3460009c3d10cfa549aaf7dc055a9aab40724b52928b5f2ab48aaf37eb0212c7d8d88a5f8f33c56f2b798e6db1ef94123127a6b7dc162fa0a7dba213015b9ed6b46a77b984cbca9ad4f6211375f64fdf04f3df1d33bd4a5ae766f31d7185178f34c70a8a2eaebfa9713ef02b17229b3e7a01b2176fbf44fa52eca633c27b2ba0646bb62236c05060a7d02279ff3200157b2c940d3a7da4c40169d80f13122ee8222ff0735b5c5ecc9d16137a64419d05d58be5d194ce811cb0e37810c8c3bffcb77a01e489121cb224bf0ca58da6085551c4d7c1ddc430a837829e3bf44c487fa62a8e1aa8860cc83d8c1280d4671628fb54c7c4c388de06a42ba25f6f4d9b182d36fe4f602c8b64886b110840dadcdb35099d00808b587ba06f00fe281245df5443ea34c33674a7c03bfa324e4117bb7fdc38fd92ac4e2fb4f5e9735d3086932197033001da4ae5aa0a84a27fe821fcf132d438eee1b3305e3cf858becc118e36ff0e39226762445b7fd8c64f25e14c4cd9243e304ded626dad819cb8f5555ed08c16c832d082b70f089e9f288e7279e2291a393d7ad8ec3ac7c41d74c141154f421d274df1b7e950aad40547d2c95e625659650c57d7db6c3fb79f1a43a84af7134e82f1e3b0cced529f9086633d484a5971eb1278f0e4f80ac2b2a84f206072a8c46b29bfc1c701f24b7e255f23dd2a0cdce9a0712e8ca2cb72c2d47051fb1e20444fa5041b9bcf173201b5780f0279a6bf7b099ecda178e63f3a9bb381d11191c63742a55b5b3124475eeb21292e4ee9e73776fea6c1a185d002aed4cf2cdd45fa058890257547b41f8d015012947f7810c4d1c8a3adddcebea6bd9e7374596784f6053bf82c7213b43926a921c097a7ef3daff400aeec2855603566ee1eb501ebfe159c894ffc5c44effb784346e3f118e41db5b52f2469fe1a3f44555f0e24a01d14d0a04b4ea6ff14709d946c43522485b64b172078bb12e2b3f5468b5d0a36e549a5825c0b14837d624911a9a6c7435864742f03d5d6601b4daab3b5696d870bbd703ce23f2ae3c46659864a38be7590713ea271122393b8a9f7368e6dd179b5896d99df9cbb6c90e7ccc331b409a3985e7175d30254af5ea735a552561af566d1f1d11f92145815a03c675f7464bff944dc8a7dbad87eaa45dacc1189b31a991ff38efdb489b4b9e9c768c7289fe5ff527261d642fa026407374f9195839bec296df7e5d86fe2ec02855e82131c0569ad27838064cbe54644507ed358036e5a9398bc68a18c436221dc1f63989e5e0388e999a11a24fe98110d124f59e2de7a3ed680b4daa452c3d9b8d65e5eb83aed66354908dfb37237acdace0b2f5238f5e2108b317907f66ab9cf44635b47812bac5b0a07af9be359fe9dda7774bde17c3cb006c6eacf8065edd4b246a144e6ac6999235d5fbeed9eea6f905852612d1fe1d9c0caf9de519fd688cbbc954c9b9e8621e29d49c01a9ab1028f0e638bf0dfef8bb18462d5abacb277ba6e8e458636592d7998743d4951afc21b2e28972145df43985cac0a3a6d09d044ffe90ee99f65b789e4edc595e11fdaf2cfe01c5445dcf1abb5bd332f6acd956858562e6dffe2e95a1c80d8f24c6d476785800975a6392205c478832923736544155bba932374e7f5130ca87fa8df0c97a343ae0d8103ccd50d0cdfaa7a097d6c84e677f295d5932de73e129c051d1c053ea1ed04dbad4210453b573308e521098df442bd92dc1902ca0d15e5e2932fbafdec48f3cf90eee266a84697301bc7199b938841491e37c03c8d2421ca0c79a8684e65cae398f1897b735a4dbbbd0b77ab14808d58004a997dc196f50c5226dbed00dc5de6e973d0b119afc0b6d1bd2e1cb52d50c36f43e9616d25470f776b780aff13c320c5cf40448a3e7e82f222769a4773bea2bf8d1dba998e4dcf12f8c3dcb7443bcb72e4d5bdba85c369057e16de59935d110df3657342773635155703952f14baa9ae4fb63018cbb2343633443234a4664a38e46b109663e574738845fc7351d62dd6a60abea2cb15fdc153f32ccc4e5e8b50f45ef649db329d4aa60ccd700800b9e1a25c21fba7b471212e3899aa7abad5375e112f0b5183909e54f1bc424a007d74c885a30aaa4682272d68e2767e980652f59d454daa97dc1a1a82004fb129a32a81b846a42a48f58ed520bdee002912668ca7378b0151cbdfe1c44ea63ee674c30f6b0d5bc528c99a5c04301dd874c0f455b88950e764233543480d774d071cdb4b5ad356a766007f48d56cc1c86b802c106b702a3de348efbd22bf43097af9ce2c8f559f1e9c932c842f95fc4a1f908a19cc19a6e9fcb62a2ee2b58d2bee6471fdc1a97c735d28d9332454a43b46f9a67f7a601c196fe623b80a3e60bb11f3099f27580bb5a37f7ecf7c5df5638e4cd17d93e6ef14812e1e7822d62849cc0b2de7a90ed8011762fc20e4ab543dd8dee549f5a367cdb90f6bbeaa447670dcd98c12e94c75e5878b99619a1e282cdebafa7e0895756259a49c26b60e3a03a2abb278e84847dcbe80db75023003bbe1c861f11b793e8dc6c8ba99fa83a41a19246b59667bdb7a2b8840faaa14ebbf635795a669a905a753fbb87a28a9880e6a71aca432e2c2fe99ce9dcf3ac6eaa84e65c8ab18f19ad519fa03b717a086731a2667e6cf1331adf71b29a770a12bd76956cf001dabff86ea427e72044b276e1b702b434e923ca25abc61bc1b3e7c7884efccbca7ad7e61c9a54c5c1715850d4a0c1977fe77ac66d416a0a2a69550eee118b142291e864dd57231efcb9c5af06410b6526cb4a63198a06723fec668e65ecc1c62a09681bfed7b1bdce4f62ee83042784a14cdcc798643f5621afd5e6913ac3e4f3b9ac18dd112e42b0dc4d80d99a2011ab327a75c373f13a7245a132a27083d35df50760a5ae5636a03bacd3060d9723547d26e997cdaa0da7f3e40d9a343742758c5c53f11ed765756f7d7db544ca5784dae267cc1f6c583c10c7b64f886b0814c11024c0b2ac9c1219af683271966d7c4ee11ba8e215d6dd8f0bb0b9a7008e564bee77c33a14ec4746d11a08e62801b54d873beabfa992728839718452ef9792f57ffda80071418f9d1a215c74c22d9c96666ca8b0ade05d78d55a5f39ce0e370af5d00845d6cf956d7475d5dd38eee9c3b7df01d74599160e1ec342c19920f9709009b8881f0ac1eb6854feadca364decfc63ba926a41102f897f9d20d559012b0e62feaf9744cf2ba266198a1e7915b284c77bf79919ea3a1e6dc90bffb5ed8b7cde78188c64d5aa3561fd936620a25e5628a26ab4d77cc4e9e4529d39630c0c15afac0060709d1b2bbfdbc5ed7c10568c9e665633254dacd46a2758934b5e581068fdc6696601bec0fb9f66bd413eb5126cd43cba080aa67b1d1a1f7e0efe4cd7013d806688fc982b6cb5db76b7362c11cd732c78cf46117bec4e896200cbee96aadf943699eb39ccec57ca3033486944ea3f9dceac99943bacb0ff8d51b597b1295e9ad0b28d24bbc8c336544e750e1dd64774046bccba66f765865625f208243cbbef40b6ee431f040be5e48b2df49c7fa1fd761fc8a1adef60b404f0b3efcdee58f5c0b9234c81dcfdc952421e13bcec88545d91fd931aa616915543a7990fc68e7a0f153b8c6f00f3e0648fd1b8a75530001f85a8c06ad57c6615862c47d08e77c6749a80bea39b6af7df27b10170a70d78875998324b2a868496ddb8fd86bb11711d0eebcb809701eaaf3a8bd16d89e359e5650945bb059050af535356758cb7842361a10c4234df8295f7774bf07e5fe0298dddb97394c9e3af456edca99a09dbc307d13763b664b2c97782f0af57cc069797294d0268b72f7d1e7ee72223616dccedd3934a5c88a41939c32cbd0ccf51cdf7bb4c1d4d4687a3a8f5100f2670f461b4a62f49c87fa750575e50d72534991afd078ee8c8e31cd81c0f005f1382dbeac30f82f544525dd6025873aee34dd0c2c38b18e330c56887c4e8be8a828dab9e3eb96ba710352642d456dd33f8bef5f25c96aa63f87a2af2e2669c227e8fdc68b19d30106c8f1837ea72dfc5fa3d2394b5f63cb3f7a763a2c3f64350f6b7a680f996c4eafd264de9e1f853ca9d3345125b12fa8bb032a35f43ae1d63a2faf0b95b0bdbc0d52865949f9d2be656551e3739b975b7ac2ab94a8619293a1d6c8be3495090943669113706f2cb2e01bff803856eed70c85de1506a6c61d86671b5cf6d7f87d88e4b6244c96c5602cb0046a332c7411a4e7fc2aa93ffa7200c8de7e8d7fa561475f6c3bee6704c13984df3bc74a92a538fa6e20679d7dcf9f11314ecd5cc85c44c30b4311cc0107b44b61e80d536345f0443670bd2bfe7fd58f6ae5a077f30434f32f7de61023f18ae340183a96ff0f4fb8007413b4f5603ba676c4d807691cf43d6fbd306489487106c53561e30de3c2eac6e6ece20cbe57a691e35d659fd304d5cbc2c85522e0cdf91bb09fdfbe2f0979c28f28e4d633e9464bb2738cb759d2c1acbcec696ab86c0a09f359e1c181b9fc8a8dca8d6137efacca42626ac1cb52534157b1ba95641bf6ecb8adee3c30e9548dfb8bcf8c9e0714943cc708a7c54285f6d557514ade8e884e3cd1920e3fe31f26db564f8f38f441df8fd5967e83ba3f3d5e06f55157f6766e84bac255bab242fd4ee598a955e4c35d044b76ca1f6b00b585dc704fd5704e945749a4f45e8c9b3af09164bfbc1e390f1b6542a834db0f1e846d0e50a77ae26f89d28a793a073a5d67038c60df1a6c68d4165eaa928e8404b948b3b96d9fa0af4a4b798a6f48c35a986b75291613b4dec6bcf24a8c0907533f1b9d05bc65c432dd4ce33db88ddab217d291df3531af3f590fc3691d3434c147c1a591213833a2ac58c0455b83dcc11993074229e02150c30d997a85a0f6ac6c6c9a0f5d9a40101775cedcb2b9d19d9d5c7dc2471456b7c96256f5d30001f551d057d54f58cb12cf93de8bc191a6678b139d888f2c8ae94feec6e0d4bc41cd98ccf8769b9ab2bd20afe13ede0711dedcfe452b751f5c1f3ea9dfc639a3ba88e0cfc6c9ee374b01351a03de2901852a4cf8a3c019d729ad5ec2c165ca4c0002b10ebbcf2e0cc636759bd8d8ce68b23d73579353fa9b62f89a3fd787092c34ba6d0c326b22431cdf850ae3908121bb7dfd3ae58616d9383db1cfe59bf7d28f596107649f31b77e631cdd729a238e247c288d57d83cfcaef7481904268f8dc45222de8e5348a117fbcab004491e4033f6ee94c56469958b2add966a99c422454e7addde3853779edc666d64ad18a35382000b6f43b34b5092b594244ed646279fe97542a2e6bf2ce75bc178767bdf32097c257e76881b2c2cff1609d3ac70b53288b5a270671f155b513da8df43df7186f644ed71b7b955a4861259424e38616f78c84e094b4306fc6998c50a3e545c3d89be5c4e6aaf1ba0f6f0fe27e466f12f285a884f4254d167496c5949ba691cbfc627dc78faad8b27b1f2a30a17fb091f141c7fecaad3ec95fca825bb7b8fb49dfb2db17d2016812bcd0f4027c2220ff21c28ce4ff42cfbafaba1d9707b0709749f5e1f3c947538cc62c63b3e539be4c6aac32f14ea8b1de7c7c8dd0570c95e0150008d847ae3a0e7b1613205ce4f14485b0d357b09a9983cc0f86e90c3660aa0ca23351076511029b1f6b513c0cb690b6093943907da42dce840a2307b69e350b63ed121fd65bf06b341f10ef8d44b3f14d366ff9e70803c27fd58afd5f60d45335327add5b2a8c12d675c566d9c472c3a74ebe514a2fa8fa433979d6171a8e68fa454ce2b948b0e403b983c12c2a79b49cb779916bf4d4c66dfe5c63add4fc40e73372caba139973e90121c5a0a1c0e0ed02a86da1e2a0a8329f4fc5f8bb92b3f9a377b6f9044da0592b92e5d13612d6effd4463bd3be263b9867c5f51f2f5b076d01151573112ad90b23fba5c9dd90a1add5415446107e7f3b58b5f259d637d5285285214c502d35f599960b90be59ac2c88d9000b648d63dcf6ed1863d7bfcd94ce1af4f6e57fbf1b04eab94de7b9442be78bcbc0fe8e7dcd380bf07002ad2b6e7a5ad3be568a89707897dc0bd0a0efaffbf93588492251b623b7a4debac5e08778194793c48b4b1d3bf75bcb159f93ff66a173621c8a35f058b29de94a44d267314b2ff49c3ae835f495adb80744a2a2803b67b53944947ca8e7c2adbb8eecf6bf218c8a50e215f00c0fe29cf5f30cbc367947b7327c6b0c0c489b72eeb8a10892210972673ecc77dadd09124a09bfc072c4ab1045a04c15250e7ca6e34620cb23d4029dfb6e599e038a3748a95303e9361f3e05d9afe4f76146e09e389a7791aa01a45d105a67fb956cbe5109c6633b3a4c13fca433b41ca6a48109db64e1c00cb1d0a32216567ee4e524c162e4c1a987906c60478ff8037b01a771d602c6e3562e002d13d95c3aea2f0b7869d5635f0519e5054713a70d6b4f9fd5d23b5a654dbc152474dccdd5b34b696c5cc9adf0e804a2f986289430566e1e335748d6094c4f8f57eb2dfadedc0e9ebef77405d00aa5140f87f20e50ed210bed7cc5c08856d33b479b9e6ba13fcddecac3febd4e434edc8fcebc13c68896f494b17a895a5ab9b515abc3c7d46d834d658771fd8bab7f03eee335f196d7c7007be8ffaacb09faf80fb330e5dd4a8606a3ca6161c1df9b9e5149731cd7843a7cbbc76cbff76abd41c7915e179f5ac7e7b9121bdd6bbef6a7e4fa704c86dfc1d689bc39199e632e537e6d649f3094cc2791c5bd5bf9d44ae24d1b2d739a316c2f0c945ae8ddcd53297a81db4d92dbd99e9748a04973d4a76b9ff33cde3cfeed854ed207f403cdbb3c828a05778561e7a05af84ed1fe6722d7fb34417d92296d12f58f816a04c451195d5a2326d64e1c7c710db77a94595ce985ce9bf578b2b112839160411ad5b1db64774eb0ae1f59b46e89c1bb7c86ae6e599718741adc9ee6fdc0c0fdec3f9e185c1279a3f4e36cb1ec439d1688decda04a80899bb754bdc01719ae9743cad96b6bba390b8dbefaa6fe5ec5bb86c39f82af5fac4f4b7f2193bbc69cb0b04c09f7cb2f9e2e0eb45ee70a4eb410e3b47f4ad956a8c30b400d2578ef4f58240d3548dbc47076f8309b8fcd01b234db6adb5a9bfaa53cc87b7af3aa6c9c0a8721c59438e5c3bf23f390f0edbbb244bc181816a47a5bb1fe5f7012991b9177f54cc86e9bae32e40a134ff764f6be854d7be25efe4412648531486acccfb6c4a0b1f3f8186108d430f1d3bd67998f24c0014871aaa73b503e91ba4af2f30bfd5704cbfe3d4b5e68dccb4b7a4c05e18290b28a6cec6758aa476f1c3c06fcf10cfcc332d24c6435514249d6e90ecce07a2035f8b1a351bc3daa33649066a94097716f4ad704ec4132d6e88ebd55edff59775e57b57d73ae3587378d0b18da7b8560122e53ce5959f427bf262b3f5d72c8e141a5b6fcdfb5e83d0cf2f630c58ad4c5778a940acb312ecf801ee5cd5b9ba5151b80e4216053846113f2a6289d3e69a44efa8a9af820b9dabf935b040396fff8b8684fc6f2c1fbcb2215f2f280ab132f57525a47199a6ce02ca1d33247c0082725cd06d3a3be565053eaf02872ccf2703a9aab97771d4d5b5605adb2ea2809fc37a22d4ee0765204be3d818eb61a2ff302c63d987ff75aa83d2d012b0b25e861f3f3e32c9ccbe3c61ae02e6c0cd14a68985127c579c0c31d79384570cf4d5faa8cf375c58d7aea4d5396ed8df01a56be2b612367ed4131520d00513467c633c2297ae3f6ceddeb5898dcebd7085b870beb3eb1f4d97be38e43cd9be7b5e44f6346fdeae6db017e2adc3e78c6f79ec4cf9ccb87c692fa69d3ba9f35d68475b0531818fa85b6ffabcc11dbcfb127b026df0cf9956fe9d9b4972084ea4ac6df49c8c8d0a606b12062a98bc5c82073b0e584262bf454da69aa2c77ad8d921c9b61653eaa5f2e873ded4f3811b52367a75e24456c7b4027e2d41aa7e4b6df14a701cf4de5293441856e76bbdcca7bdf929c58780bfbf9f61bf8eb6d989e336f2a29bc760c77717ac288732b024cf02c82c121dd51a3e0449943df397ee052741bb15ff7a635e7f676ed3fe2e7ce006d1e74988cb6e8d42337e13ffd789e904d072c350d0390c2ff7fafde58dd42191fd6dfe7713247a52ebeb0067145bf188facbd2a29802a192d67b72db4fd30207da8812d874e8def648ae20c6b32424937b20c28020d6320432412e1fa0767fe483c764a92cc5f971b1e8bd052630e5dbcff848577b84f532553081eb0af413fc2c6fe368aee742efcad8e32005a25d395856541572959e1dceb856ca6cb3eec1087b1de03c4fa0e4bc9f92c575acc5afe63d8772fceb5f99cc1bd7b10508f6301e1020d42b66b9ea1bac93a089de5a3c27151c672546e22cceeeb189a4f2bd1a338f61905cc183829785c77034f1657227f05b74733611ef58533d64b8260ad859133554262672c9abe3498c44629848842f748dc0704d104c0ef3c92f2a0e86307cebf2191def5e3c696d83f5e927ced5eaa4838d6ad8c2e6d8193ec9f7908a8cc5d23cf0257148b7a9ff2d09fc1bada081a662c4d9955da280fbbeac4921b60ed137368654eb02046bf7383949407522278dfcf31a9be44ba62e508236f8c7d666c0a686647544f1b133345c48546a6442d03463411351e31277cfd3a70c9036dedec6d021cf0243e239db260b31e87fee1c38844ddeb596c70029cac77aebb6f638c7111afc573ec280da10353eafa97109e109e646a2b25bda148ecf2a43b257483f070c6f499a63c0669d93fc4c0d871e499a642003de471d1186bbc95df2893ff7cd0cc0c732f9ad14d742eaa4b4ac91c625839cbfbdf00c24c0523ddd735917b43abaedc83d0353c2b77809c6826c814d42eadf02a21933b9b7f84f8bc461f0839d30527bdc7e8514e5573d3fceaa4a4c7aa8ad0a077161cc12ebfd5c0b58c6970e0074ea9fca5dddff1d13b7d174120ee227fdda4f1cc511a2306e2572e8a8498fd5ea036e6de74247cae62883f193c08641d12d3d33e80140372d4ac555ae2b44ebeb217ad3c046954e1c3f143b500cf18520ca09573808c0b0e5000ff4d9f63a9ca0d1ef344c0f394e765725b5821fa146a592532318ee677741dbfacbab7f5b3c8dbdf92cda42dbe17bc719ec79bfcc4b654b50243d9cbe870e42289fa36979e73c7d4e172f54150c89bdb7996aca5a24e7643f59c65dcb5062a8a0511a3947ee6bd075f14fe07d0ccda493ac64cd47436d8cbf3cc6d7ec57f5e385805633bdccbe3da3583c9352025719c151bea61403a29627edf68c4ee08abc8ce74726bb831ee5d6823ebf0dbe8673377e79e8032707f7cbcc978fb2e4205e8143c5fa85394713a4b3e032ae98333aa44904dbd6c15695125009bbb789620c3a2666d969bb371fa5bc773e7e5366caa0579d7e9faf094f6a051e304d6d401c6bd2badce945ecd060ed685cca7d6589e64fa02be65030d8c547785f8c25a63ee9fc5efc56cc78dfd649e6d1b83cc3ecefca621be49dd7d89ef938c968c2f4a623207cd525892e39d77318b265fef40f6ab0471c1d2892f18e9c3169c74d64720e236e212ccfa9fa9bc2637238a0ca19e9d615c2586d79e832da8d11c60560c38bedc2825b4c61b1637bb2dc1ae5f24aa946ee98d8959d1906942f7668d11798b87d67f1f0e6f0bcbf1ed358c640c819bea423a451e20a93e731096d2b5eb509b56332d24b6206721eab558b9ec125fb5082437094f28a402d0fbb7f37daa7170193e867e4c68c733de83393a81545fa4d5126b111f01be903b2ee6a47f4ce0902093762b8e6348257284339c6706509dca50ec8a972dd845f943bfd74444368ad9bc80faef882b40b7d92b913ef75c00dc77e6ed2bc640a53f34026d73bcba8f12397a458d97969db5d8d4166734ce4b7901173178708d955ee26bceedf80b36a00e72691a1f7dd359ad3cc2c81f9f4ea0fd18f58a9158f7a2c375798d30eb5a1f64115423ccf03260365f1292c3999f6a37ee41c77685ed377506993630f4a8cbb4e6c84a2db6ef1ca9cc580f2aafe2d55ca70ec1c27ebe9217af2e5b3e21b6c0fa47bdacabc256f83bee10bd760d88b0eb06a6b0e60626d068f8b6be2de4057f3cdf0e3e593278601edc61bed8eaaffdb4839e0bc80f419ff62a84ca1b932f293e456285f2687c10fb6556eb69e4034d6a8ff6a27b0b255a2ace1e5843f6718499e7e23337408c586a76a0feaf116c4e8d3c68f974d8ad5fd5a753c397e6ecdfac27ecc9278f379430bd32f7a4d5fca64d1b314259a05610a55bc75bc3733ba62132667309a70918632bdfd88ffd586af12912c103f8d5cb9a47156af46de91ddfa2b63035d178465997c364ac0c2adc40e992d645cbc2d5a5a0466a0301feb754d94d969539356d24ebeb0817c40df47aab739005edc524eda11b02624e70b3e0de7dce89747427dca9c4ee5dac77343d92b22c5f92d35c1bec914ebacbfc7051bc02c2bc81822a7f0ed61134e69b4e5c54283cf68564f7a1a24c3dfa3eeb4b7265e4d8016913d644fe881ac1a9802c6af657de28e846c01acbaba22dd927c53c6bf8ade30a8676075b8518f08a06fd2efac0ae03bd7302d3c420be45e151ded791fc9d72e6164f55283257bbd5efb4ad895624f375b46ffd801a773624ed697d5f46789bfa7bcce55c00b74b3e189b94bc6185e60b3e6f1d5ecd182688bf831a40c6cd8d2f961341fa14089a12867c95358412c0c98d323c0e6844df4073a8ea604208872e57c158a2b5fd550b9a7d86b925023b3ccf69e5ad541e06d42456340014a1d5e0a18cb915ddbd98d62bb45dc87cda7dbcfc2d06f76cd4f59f5f8b165ed332729e8d5c7833d697c73cff6e42863f6516b6501ad89ca2a9067d580f2a22c3ddbbdadd79fad3055222f498e224a42ad7053c2467533fb4a77b5ab02b9a698f547dd85076865e610587048bee11dec99e285793e67a262208d1f375c3ca66cb6233d1dd2e9718a63f1a59edf18fe4004566bc7c010d7fbc661c7962e0205b355ac0abf5e9f2635eedad38b32e28b0a45041883dacbeeabb6d0dc66380d128213ebbc511b2e223e2e10e5a75c0eddb1ef8c7528ec78c521d6ce77f0d8208bddb0b5430e6e2f5195835a742adc419379406801cf515ab3945186ceb79e264ea67706c69e1a873eb44e627dda0b54ef98463cdd2a0a723a4624fdd512750cf905755259f39624bb9924685f71750da26a64aeac8070208115ed7a018b58b2dd16761adeb4430414bd0202b2162606b472b8e8ca9cf5e930364107cb6724d25f61557d68b1707cd8aa5fd56b66ce5396e017e7a35e98d671ebbc64a27c29a1fcd232b52c3356c5b5483a3fa262ceb3a53b39eaeaf3a29b8c7d3d9c421814ab2f2fab058c6bee73c666fab5d62c99d7a54cc72b01c1ab5600c3e01626fad14a893cf400cfb36ac6ba4237dc304ca3db61ee4a3ef70629b199de3c484b34b86a9920bd2cc4e9f4812df7470ff67f19651c0b8f6929ab41a9bc09631a6abc5136d08ac27a312861e1216ae6ba6776c10ab5ca5ae7f7de514e67b512241086595e1d7e42370671afdb62b7566ad212c79dceaafea2f3c25ea45bd717085004ce084f54af92109873839f26f57c1b8b8b0faa43b75e0ac056f2a4fcceddc261e70965467f1ccc70b87bf4baf787ae5f631829c58a696b7e31bd3d0e513bf3294920948d0d764eec9d148cab37815cd41471c1e9a701fdb589112eadb6053ade1294294cf8b9265733327eec985993d4ef00fd6678ec323cc24696ee2baaafc42bc1f8432ade139d411fb081045c2c378376b85d01340c7ce024a6a8b9c86db50b3a76003dcf59d0a57cccbaaddcc16cc1cbfd6186bdf309f4de722c6936d80aba49ed2ada8e363cd0d81777ca7d323799dbe61f13d6b78922ae71a66332b82c35b49a4fc01a04b8e115d89aa51e0cc96e50a3d60ef708bfaf669e102e912a22401490e6a86878b16844904567af555659a0994307ed7d2c45ad3fd5a5ed6c4a05131b2c7b4eff64e3f8d45103d894222234781057a83d4d5a9315931948a4a6d9fcbef05dc55ff61e3ffddf1bf2c21ad750f450c98a4adf4f1ca9e955265e99c579299f9941c32ce11942033e624696599293089f418fe96d186fab3bb6278b64eb66adf482f186ca5dcc5d71112945301ff5ac8e0783b59e8fe9125b2cc8768da2d42efb781385575683a4a54cdbcdd67f5fe36bee678fd6b0a8eb8c46644c4b0115c66b1c12da11d0285eb56f87a7793e530f8120333ed01ff0b3f658054c9bf2a2dac15f28d6648b5120130318ac53ae9ba3080c7e73dbc2ca148527fc5385a6871d53ee51e9233b3440c65b23c2dc106720e9cfcd4d49","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
