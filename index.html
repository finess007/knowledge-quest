<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"45695c1b16164797878b2f777741b293386a6c812f88bacd8ff9cfdb7d8a31757bfcd04966fb6c56010b35334914c55ddffeda9a835c7ff8e00175a1eb50dd76f673d45114c2740adad06be11e9864e21c98244e098b43e83c526301aa87e5e70dba742fd9d510ccb738acf7876b05324769098781093607f849e7bde68fb2d065c2e3cb990304fe833fa894a2a74286b3961b3dc5ac665cd6babaa291ebba5594f3ce94dca229d62b377880a222f99fcd7bfe2e8f6176fc257117ea7a3f651962557889fd64ca0062d13d8cc7653a00bae074cae638850be899279ab697d95ae66eae79d00640bbc53513b6c037aa88cda6b82f6170637ecf219260e21355654baf19c872fd583e8f2e7b7c378d7eef169c7f02c79313ba7a4952280b042f8e2f7c194a3eeed755003bd1d3b77d742f7771e9a40d7ecfd675ba4c7d3d5f4620d5a133bfa8220bdb91cc6d51ccb35b55605c697c412ef0fc710a157cb4e3058119f842e61093d81f31da2edd08cffb4a8409a78cddb68084ea4599acb8db37cf869d1f3be49365f7176a830431f18e92d002aaa16281c44b5da7a48dd03be22fa63c1cbd2b6dba4966c21c314390ed241354500c5a63d0de59a4a0de04d76df7335d66d1a2b95a53f0129b9c06a3cf3874827dceba8a2431144976c44f1d7551879ac46bde35666a36f5722b66b3afceee77ac6a0c6b72272522e183d32fcb91b281d1c9cf845da9f96cecf98a7b8da82f307cbf41deee612a45c669c8f7d744d478f3828b2d546e511ce4b554a64a88b121e84a25b4ed919e7347d409c8a16569e1ef84c7e3d54f2dc68e17acdbc8f999d1b90956299e72d6c82368b2b87c626089dae0b9b84efe0543267abf201d51eff247215ead8f73283ff236c6c9d69f0330864ffaf9efcd71bd17f187022f6c2eb9427b1905cd4dd9f7eba8f71e80d0a43afe745a093ad3852287f07d7712ac4823dbe9b12bf459df4fddf19e4e2f282c3096f095b2f66c0b215b84b35b4044b4648a35defd45560d3d20dc9689398adc569934a10dd0fe57c28670846a8a9f763589fb7fd7c2917d15f85ea8250fce6350187ec13bbfad2b5b89b0f257f57a16f3873d37be9314ebd07cad11a43f5426461ed899e503b11b8525d6a61f0345096972207fa764df9d084ca95b2a0ac8118723eb9f0537580c216bfde5ab32fdf00e32c733da717871f1e5678bbdca8078a5ed8ba0edc414a734d0eb6c4a00c67fdc41ff9d0c1063a5c16c49049ce440f1d2c99762437a11cc6497f03019c287afd51445982de27bea0ebac07be08d5867bd143a91b8e0c0a2e67e34a77f0e093efa1cdf6836220443a8ad8c8840690afb5d9e33aca4d77a099d1842f500d520f93b1b9f15c5f1da7d192adef3e2baedb6980a722c5d9fa3ab644fd4029a006e3650b068940d8ad0d214934a1ae682dd6beab897b0e3e466e41a7ec7ad33c28d447104b531f6d9bb2d5e4dad593465f4e165e5ed7b34264ec9a8195e3bdd44c0048c55f55e4faa17b62892cb891a4d35808195251dbb0021df6808568e24911e8aed365dfb3de9c72b88487c012e27cd290eb6de29e6cdc67f91d939b750178107f6fe1fc88bb7c39c8ed1d69b91d8b124c118e2d87a3a867ddcfce9a69c652dae1439a160b31c903efd1d11d4b0a913d57d08e65fef7d41530f456d899ecf0b257bf04829de33e39b33dad626448496bf457dab54fd8f66d4c2ab3acd4a6c40e1ac2e01544fc6720669f843fc78474a30d66409b4d64dc02cb651d6d75754c84fca67958c7b68ea61a43a9416a91f1c456760b1ac9f52322963277b71918c53026040719e2cfa650c656b4a010e525dc8106c7cf8b8b56d80611194aeba5c0ac25fa99dfcc8a739718ff078fe0fc9a281563cc59e8bdae7faa947ef9f554daad682c3716edcd3790698f5a16e31e6611ab71ad12e711b422771ba3f53ec727423f4dc5974c886c6b8c6071f9bf032f545b9a2576f94d0d57d0fbb1ed5033c97f9fd99f8352e21d7df602e9aecc65746544f255035ff527d8ed779e184e4aaba0c39a53b6a6c8300829782cb76d2175b3002a9e8cc116a82b82d909f91a4f18c4ee13b2e55f0162b5b35ba89b5b1c0d585f6980a7b4c76f42c7a6172c0131430b79f61dd97a98011892727fd3aa13e2445acd8e0b1defc8cca83f318090b770369b9702e4f83a20a0ea83a801a296fe3348f6a1aaf4dcb75c29bc323e120424cab615335cf7a4e6f7260f6756ce0fcc40eb4dc9c1d0b2271c865c11b3f35e19be398b4f38dfca885452accf98779d225da7b965e38a3ac5b79528a018aca7bb93d0b30eeed95eced99778bc298d3e9fd527504bc7230b1b2cb60a2fb70814e099b26bdb2fa0e2be48fd841132ece5963e54460b8eee45714decdc76242cc31f4b1ace88198175f5a2602f8b8a662233fb1bcf3698bdd010e6a4995722d1442f17064650e97e27cfdc570154ee952d7ec5173f5df09b0a632615f4e5bb077900e380d43fe9fbb73b1edb09f609254a75c46716df216579f81426cdac9e249b916051a0b9aa09923bb973a42b89ce833bf567e9f6a2f244595355ec3fcd8040639321fa1bee7590f38ca5f482d2fa0b788410919a727a588db95223b0b7bb26d4aa32d93e9d759cb82b7586dfca31bed0d2a7a9d56066e414df5bc34d5ae9d1b9465ef1b78f2c7a8566ec871a0fda282b8656b2bf5d624195fb68e9db368a040b2334af1ebe86cad2901f6c3235102fe42938cbf2904a74cc1a745b133427f6837ffd4ac7850d8a4ea8be6e4a4cf23edbd30f3922bcabcbbc277b86fdc6fd98c6cfcc2ff74b6ebbc81acfb9eaa83dd5a42dc979a48c629ee1a241951efc2688ca65c6d85e474217de4532b4749bf1563dfa7af61d3905bb578d981307c830decbc854244b77fed0d637ff011e7cd16c730120ce212238546ae8755ce0a812821edb183349988a031099644c8607c8a0905e3dffb72f5b33471d116c372534fffbce75a14d8ca873195b5f7b9410bb623243442c797fdb8d92ce39cb2ab81d19b8af8e9575107e8a2c7695e1308e75f7cd20d774f8aa60c0e22cae1c2c2d37f54748b05510297678cd2c7629f13e2565d322240ca6aa3afe9b8b30a81e93d087c945389d83bfafc41f6a9e4e9f466f2915d575420de77009798b06f7adfb7945ffd706382ee3196ebce2a621587552cdd72ef958f9dd8e6f16da91900da4ae9ec829875d6bf1259505702f21edfd552f90df16059e149491ff91b5b2e4277325e8fdf35f29b87962e3518cd1ee0be44e555730f1470fdf575f634af2939c587e8808c8bc5477b66109101bfe89bf1c66ba6ab0cf0beb105162c108b5639d848b24df9166a324aae25f7daf5817d0fa0bdb8e02df41952d46368439df677da1a40b0a18187e974015fffb95e16c84e9bab0457e80dfe714d3a4d8b708ea8dd28e9ff65b9cb225ca62466348dc0499e2af6d6086ccac8e68e4d5f75f7f83eb0a2c5f238b14a1c9f062c8f4636be5b08ebc41f5d163da17829732e3491a746f64a5efbd860fe46d460ce3bcd22cb1276717ca05242d2328c9a46c03ed62c259796cf6bbde86cb31f10b1175fee4daba42c0738b3736db8f9a55c869f2561943cfadf1fdd756dde832de6b9ad91e026f1a006c2b77685c82ecff426bafafd537c32bc49b783e65808609de2e8a0e1046077342876ff32c22e596d387f143e4913f82fbe52c1e8a2ea15f9697c549c33e93b54e07aae64891ed95ff01e9e92a193c0ce1b873be4ac7e393157b77105e181368bf13f0876b50e67dc971b53ed9f629e49eb403ef80f3b5b8c784eacd8386de0d9ca4cb72911ecfa6bff2c83a74035d4ee5e25683302873f9d5d8fe4fdd24017f1fe553fc5ec45c4c89a31b19146d53f80475fc1c0150c36f3c3726423f618223caaab08fbad6482c0b13a0a99548138457d13d7b9e365e497ce2beb4d55933879aac5de9010f5ea121895e2690d46ff27f8b4fa91cd2b8604b1c3df48f35ae1c5ae7d6e626a2ba0170b0a9974dfc6024c8a7bca0571e34ad43323eae005fb1bc0f14dab6e79b42174785b00d24e167b66851d0496cd2db64aa098b725cf5d5aa5b284d0e3e159c6f3068f223bb116a1244f9e51063d3dafcf90fd63bdbd18aa6b7d2435e6ce39de098675b2dcf37ac90680dc55ce4fd7091c8957278992c2d8195ee6f288d2b7481025a8591f8308e74b2b69c48ed9865beab69245a9c37f45aa627da05d8138d369a54b003cea462d9fac9f0df979b3e10e2003a9129f0e6017982f18ce58d8acc758a9fafcd8c659f58a7155bb8d4cbf98dc66e0ca39b89bfa4ee68e91f91e406b970400d9ce723d5ad8704c0f918bbd21aa49168e143aaaaa483877d4bae2046b848013368ad64718ce82f1ce9de88813970ab827a14aeb31b0f8e1106dc60ebab410eb545572c86f47e6236328d81a26175c01a23b7baae64effd0ae42b0827e4cb17dff376188223a41dda8b053b325560becc51b14d7e02efedf32be92af4910939e4bcbdc64663fe3aced3af217f658cc0f48075c61d21841eadfebedfe925ae8b9e26f8483608e90f48493b1c7784a894ea9756ecb23d52b98b65c2ac31bd6dd0ae30678a7ae6c8a1d6e8aeaf97c8d01d821c244bd0e8a13cb9ad3b4860f1a7e4fb2c2849e4416a11119f3ecfb4d2eacd89977aaf787dc7d6722a4b97f133475fa1717b9567aafb95d65c5dcd9b21942622a4e78ef5be2a1af2bd14206949a1e01929357cf3e0d66aeccc171fc769a6d838c132c7cccdfbcf93f3c8f269d1a03516a3a98f32fe4bd8cecd1f0ee39ec5fd2001a617949a37d6d7fb07c3d47b43fa2f3c17837da0855837173db039d79693825a93a7fc25fe44c49d3cb4fe40705c43ba7775cf7d4bceeb7e11e7cb1623205674ad740f5c914f2d8bafe0f9da0d7577546af9c63aefcb29941cdbb7bdaca6531bec20b5a9484be539fbbb7679c9ecbd27b3fa70d9ca46841653f7144e215fb68cada6d40543396778a70a8d8ef4699f39f86cbbe8166820572dcbb9d0ed5a7014d8d83c207c90288cfe58b1357f9ff2dd2dd34654a560eca4153a483ca541fee01252d70eab90af27b395c16402f1d3bc0e61c8adbae790dafe6668b20f2a02657fd51100b0b4b7918f5f3f317af29c593b0990c75cddda9ab7979dfd65c2e9dc1826a3a33e7f4623c7a14db5d4288c7661376b7094d0be9b943538a0f4fd58c15ca982175d1152d738d50c8050286c40baea7e61ae6796415a2df36e12851d08ced43d0661d652edee5f55bf634caa7d1161289bc992385896ae2a13e8ac82e0c13cdf3bda3fbbdde9f2a8a3c667819b7a28e983a0c10fa5410037bc2ef7c564d3ead103158ade656ff9f0ce2d7fac7af9cf2113aaa4a4a4e6e9676380b6b992efea89d92303831e4fa4e53b3b9174adea80316dbe834915e41a942325bf943ece03ebf44d38c6145bdd1ca54a117c0bd2d9885bf465e6a1534edfa05c0d26e325ad7f1ce6df849f9536a6aec702d91bdc8fc9f4a82fdca2d7583498abca1131035ad002e2423940ad63d8922b951ee0b4aa1522a4f8e5dc36826897072e6212284650f4188c62f316cf5f88255c6d56c13e040601a8c2312ce63aed1f824000b1686cf8d1ac13563442d774fbe63bd973797653c79d2453325ceb88f979f5904f186cb521eb6f726777672110715dcfc2e993f0a5b521ada3981f496dd9a67fd280985ca6cfc7fce322b9d7bf285e79e8f7e502179df9c4bf7c7de8537a6dde623ece2ef01c6040f80ab2a3788fcab292afcf00a914640d6b7a40bc4e32a112184ea439f4be8096af9252360e5ca1d59ee9fb675cf5dc80680e57767ba212748ebc3942e34b672f16fbb3e61e0800ae51065dc038dc591cae8b72dbd36515fe2cd3007a89b17970d9fc6df448cb92e3514ba9d4e8b3732accc9da03dff325ec1b69f7f7abd89671049625a52e7492e5ceb503c0cf6ccd4805fb58ff1de011c1e1451aaff96287e0078099e767297f5d68eecb80820c2d3fb5e68a3b5ad012b73515ab71472244efe49dc5ad35df54c77642614e850d6cf8c7d0b94219d85d46788821187d34a34d1ab4d690025b1926e4b41d9f7be75d40b1b3a99f2b13e43243527a580aedb5e9650b8de36ca4ba5f72ac1bebf4f4fc204dfe830a0c107c15f823434baa7c24014bf4683f8f6a6f00e1f51348df4992a5c8eb4e1b780bbdbb16ad68fba1ff85917f625cf3cf6b5802c40d9182b8736abf1d08d7f79a0cdc0588e4bf3e92bb283cf9a32b57db9b65b95b8c18722f410eb364f18fee872cb29a4008bc630450f451c8660042adab2556526ec76555bb685313ab253c33e8b9702f038c414733522e0fa052c537642be34c7d939b0abba67befb5a5bf18521e5b4eeb1c2443edcb9b9537f7de7efe21fa418bd9f225fa82e794177cc81cfe6139481b692765a7f9648a356b681169a29e1cfd6c793f91ffd095159eb82ea90ab7c454ff96da1015770c6780357db3f2f07f4e3f38d2f8e39d6d1952f35c098402fb076f704cad65b213cba378d9c6b18fb749d5e1d1558c0c70f71a2d40cfad29f5c4c7f1324704023eaa15de975be9001923ff65c3debbfc4a0103efed9c218152302b9478621373e83986cb2f0d539e848b2cfb3f8095ee0fb42b55db662e4f353834adb9282fb732cfc62f7e1de41f971c244d60edbc1d2797dc1eeb90b80c865359dc45e26b3a7ad696280cebe07c970f6cac7ff42c0e6ae3d7fe69da4f345c8f6dff521497e328aa58a303292d87ba9369c9a04feeb70ff79e9d991688c53b8a466206f9965b5dcb6813a63160fe9305b3a98c71db359ebd494b9baf4f6192ff18ad8815a392e6e693deb95be43c9766ac200b1434b22f0d58169b23a91773b4ef53317158a53a62a51a6d213fbde2a626b5d33ed00ef1ff5c729753415b23b57c8e5f0ac03bf62873c646a7ff4c208458831c4fbf07223cc87c0493ba454e416e51fa1065bdca0b538d6e101c9e62aa3a1f2a5b2a33df168249af1939a6a1685797f1684b5213c1c71052e185f91bdf4e4a07b22eb76c4cf5be26b7adbb35ba92a93df5415b8bca8ccd1ba37b6aab6dcd1d0f8883dfd5d31c34261859ad897913f1ad7be06feb5112b9ced7184f73423e23b59b5005604848322c7e91dc675a582ab65cc55fdfe45993db8f3e6f279b4f9d909c6399355d9c0f8a07dfe6ec2fdf23bb6ef90995a5875907685657e433b0c774c9765d88fa4ec9053888e230c1c9f78b85a773cb89c533d907fa8a53fd516d88751fba6d2dc6fd1c10179ca1aab28170767845ff7075b257ed0e5993eeb1de1b34f0a466a6553232d0c20c64a569233cf149051245922274f3e807d062e1b9e1b447f35b3f1d7756f2e7b8dc52ba54056215932c69585d8ddcd6cd3d8022e532f086055ad87aa58b07e2b86d15602b1c7e3793472ba9fdebc5f6fa184125e60d7f74e48bf95c366bbcbfa4a9896ccd42d694813027244b3a429dd108552ae856bc5ec47e3cdfda64835d4d5887dfd73816e9724de8843d628af530b8b3cb2ab35221c96622aab6b0774e89d616232d4d0aa8f87658931af3571bba53fbfa1a958e8547b0c150d50df773a226ad0de3741c9b9f207acdc0f615c6d12deb512856d3eaa422a02cda1089e0c4b7a08c715f08b572112d820ea996f6ab1256447890898bff95f47644b90988e3921cd36358117e18cdc671b1943ef8ea475fbdced08b39a9b1b20fd74b91d69bc6e17cc6a130831b969ddf4d823fa6a2a780ba681bc87943683013cc559e21ebf52bce39292243d6931bd66e43051ae66c023b967f54d26e7918c1ce8aa6862443abcbd0256853841bdc6168c4566d464f54de207f5a9305fa2ca0c8efddbf6c743c00dd68cfc1158496a5d311d093e5eb99c61e93054445d85a6c3b87cefc48515a744ec5c405e13f54473ebc2b67b8c30ffa0a19087cf34354217019ad9f7629db65f47af418ae73734c45196d736e18b0bd475635149b2f61f24af3097a706e5569002cb2437e702f37ede72a4f6eab7ec596c99177b475502f538632784b9cc1a5f34f0764bacd4186ae97408969499e4c81daacf2be374803ad0fea075c7d04940554e945af0793825b43e1c68654ea41a2cb13d13e26b36782d9a46f1c8cf1e370d89c6a244ef2c430a4cc47ae36d164745cb232d51207cbdb3b3e87c60344efbc789eb955b909b45d89bca68c4c3186e7968425dbca101acc91c567e3d7eca46ab98422bb785f7c15650515c1c55e40946211376c9788cab2172f933c606e77677b87cdf91684d32be4dfccb4ddac01538247488f9fce14940e164b9d0fde1089421744ab3c85fab20853d16fde08f18b8b85e8dc2affc5fa7c68fe76c649eb36524c11c2f35a5a95e80c3ef753f4deb3b792366bcdcd4366a590596ebb04f78a3ff7cdbec1146d35540060f93f8623779cfe590f223299d4de842b12ee0fee70644bd031feea519be059feda0cc227ad6f8a793c8f073912db994a3e4ea58f1c1055fba60b4658fb5b55b631328de978d66abe32823908f5e689449236a84fe2ec3a23d9f4c090b10406b4c623e82b03f7640633e9122a8a2b669c23c66c42c6a18afd9e9d0e14409a6f0de25b9b2bf13e539b9ee8c2e689a0f8f21d2ea930c69c37a52b556fed9e3c6951c36bb85a6f142da70e6162d73c63035b7cf1d862915bf0814d4fab41488a9bd4262ea1552805bd376f975e98c18971b507d1b0163ef5e8aa1db018dbb4f75b542467c3d29f5b0a3b48d7596fe47a2652ea7ea9f0ae2362cd7cfc2b31ec337d4fd390bba3e774d4f7ba3a05c49d91b2048e29f7e12669a9d6b54e4ba5e99949a691ac6b359a2c47f28b0f2bea386f6cec7a34525221f7e1e70682737a76b81a8409bab3a6d57c3a98d944c73aaba6f40031a5e8eeae131993cdd7e7c50b65987cf87b1561acf40f4b31f1ed0b36ef3db8be322b9b368b077d6e869ff1dc02487194d692a07debf723d94c252bce038188801378634568a4a57ea3f4a259e4d00fe8b394242b977088a07b9e115a0f42857f6a38aed807c84acb21b03cddc4bd995d66048696ab9dcfd53fd46fdee19b77684f976b2ecf96b7d1dbbe35e1334285a79546455ecb57aa5b3f4204cf718349f58537d72f7fa721ab4cc7dd9cb90cab98307e46efe94c640a447b67e58a0a38b8aea6f8e3c4d7995d54560568e900aad5deaff8da2610ca3983ef818875215b4d7af19acf4ca09a7d8fa907fdcc27b690de784807b9d7895668b972a02632d4f18d790ed6ae55288de0153b72436b683cdb5d076ac9b77217ff7016652a2aa3a6c1bbc5b3e4cb9248f18a368e52e81b2c0c73607f704b8e73ed6223916f50f1d592460abae64c2c90fa54561b69e8439b2f2931f23aa170e01948765b0429687be0364390ed643c8089940f3fc8f75cbf777cae45f4d399052845e527041b01b460d6d41ea6011e6ab242163f3d23094237c169210ba8659aa87d5562d4267d6e12a09301f713d2e935c7e603344891bfda477c5c67c9fad197bb4c58951981d0d4e69766df2d7869ffe9fb78ebd58308b2920237bfb2b6a58de03d4c8cbd3c6d443c96970794a9a3310002e816f2e05059129a1154bb96ec43975d11193447eb60100e0a2d7fa1a2479146e3152b09e517e6e85d9b8f52df010d015f986243e553e4b1df26bc2a50a93af96c173eb4dc6398b0e794aad4337824842e1be83b2a8116dbf40f156b143f4cfe9716f87830746d96a5444eeded0515ae6ff02bda045c98aba1f5931420ffe867c712878d1375da521f7abb63ef6aefbf9a3d9e382cba17f7b47aa90d21b7c655f291026b578020f57db1b0b48698c6f79df54b682348a7dfac19e98f28bb27bbb7748311f7e09a5a239352abbec824211aa9442429f37d9efa77d3abda2d1e215a0db882c53f4e69d55873acc8934cd69e6472e103cd10c63df7db8ac2136fc90ebc31f8cc4f5650c07011dfedc6f763218b5a3ab2d4ddeec15692bcf6708f05169f8eb1e7dcd7bece946370ae7bc3285774deb2843f797445dba34a2edd1491a30660d807fec89374e135525e1b06d1857072eea6444569c4812f9cff466442a625e159de1f2881eddd5d7ef25618411916eb236e0e6079f355de6d39b89616c2e8ca73c3b1cc7a2fac01df85d67ed73b534a3630e03b31018f6bcdb75fabb427ef2e3827d6009ac02665cf5131242819846f1117495a84855173cb66fa304c46f627425b44e08dfad67198494d383a435335d54159217b6f32d9283fcdad73aa48f2303f3e4ef8bf8dddaebf5a6af6bf1e19242af88a54bc8be6b2c4527927d1a60da72ac4ce7671390c2a5b077526b38231c9df82fc05dfe3ecc954b9bc14773cf3a268a8d0b5c136921732613f114c763ca7fb582b2549d44a2aa6ac41d974112f2db1167de70f8027bedfe662f696b152e68965f8d20a3ef7b53e3c58e5ee68034f4e3412b45d34af90706b8dfe4f12e2fd09a35c6ae6ab7bb3e1343bdd49d95a02b830a817bf2a77e327059eb80fa4bfbcc1605d59009963c93171ec7c9baf50a515d68a798570b97e2a2995aa6e6b3759eccf59b65bd80cd7c0096ad8c4c81210349e5d37c7e869fafc52dd8c6c689fcbdb3da931386c73c8e5352833f0924ae242dc9bd3d4d1c368bf76865c546a2d9b9e760e356329b65dea7b2d70a0c31545a3cf407f5f837aed251d652e2badef266769b06a0996f1ffef44dbe7206014525f54405d411d1efe841f8e7146a6de98c31861ac1c767f0ab24586015b931a9a601d208c0329de9e839a0efefc0c1266a6d354e0f4645e355245b797b8cdeeb4a6b7ad7fdc44503cd68f9388f440871e656e43f94dc487acd4f4c29dadf82ad3c4eac38b2eccfab03775f77405ba85d2dee2cf816c8daa86fac72b99a8a73de49d5e999bf3fb88826c34db55b364715135430c3fbc135843f1e39894a15d2c517fc72862ebaf12ac5613e76464456df9608320ea34416e2d3fd78705d119289ad70a058797290c4e1f1737ad56afb8d75ef53709d7f9373581b5bd7c4fd161b05ee4f39ac4da2cda985abea7547d2f1bff67347dde86e0ffe744004044e6757714bdbafba8167e2f2df26374e013c78af564f0feb2bbba8b54e87609aaee7ea0fd9e8164e2cf4d09de8b1a9e719d9c253ba9e273bacbb93cc7b6cc67a15c62383567157ecbcc037e71fbc216fa008b8e661c16081a31245f642f181a06759268b269560bf9212c653751d4156e081320b20a533103307d56e7ecd796b881d9cf77fe39382653685268f976acd16ba71f90e8288654826b832881c5d05693cdf505a7b69f4f3bee0f37783e77d1a99d8e7d7fc32945ead3d9a5a66191aac85526828e655014a61c3b3f2232c3834800b0afd7ea67d049a7a4729600741f368f5572e08357ebd438c6b5a988beed291ad5638e3836ebdaee9665c3ea99e7a06ffe3f1213fcbdc6ebf34ede52b15ea81dfc471969cc844aee5118ed7aaaf27eb8911493bf2e161716d538e6d49525f8a7254bc9e72318f9137068af22502c028a38ab15bd066eb00154f3011f1377370c78b9b525585373db47712b80ad7779a48313675e9e21a623f997b36a677d6372de10807f816b2de1531b5afa5f0aca15eada6f05464f6519585a733524a08476f84f6354353a89f0a9ac130e35c1f8e7abb38df80d1ba7e65eb6d0369e3306b16a06c49789522702305b48cb31af9f9de600954f7df254f5b4ae93a73ec6d3ab208c7545ba23fb0b55776dc5392ae9b491d5e3bcd5a8ea761f8dc60a17dc5631cdb4d9913a310cd6b1d3692a71a5289324f10be0a15ee493b28746eba80eec3fd0198a2ed1a750364251745d1ae9b455f6503d8caf57b2fafa2cc9c769eed5537ce1c33cd3911cdb90beb643a48e0e6a7688a387ecee07198773cb6961e326ec36bd0fca51cc0c40628e7a819cb3115219d57447bf82badac4ef7deeba7289eb57a8d973c47a6da026e749420b05354ffed42c22ef35ec1535432dc20a5717470982780958debb404d4a4914ad88197386880b31bbcaaed2324143377d823c90a63dc55eca2eeafd655f66a060cb9ad0b6e66ba016ace500a4e92ef7b9058d2797dc8cdcda81e7978086fd7081df17b915107ee56543f9a47d63ad555fa2542b4cd23a079c32713c582da3c05d7f804e09c956e0f44017b577808900baa99f98f3bde523a88c1db71bca5a9f69493c41eacda1f137ec366234526ec3b1d02d96d0ae8207ba9eee8ffb8c07a6cadecb229d4a6910e0504055486b58f9d0fd45f7c750d2411f7bad4a4c4e457313c1f9e61e6fb9b326fe7f920433e33cfac57541a4f39e4376c29d24de7790325a9218fed4063d83bd68afd5061db9215304170191ade973cd41e692b59b9d714883d28831d33fad4ec3e2b68df2f2e79b48db107a19c0c677f41ddf0e752fbadff133d27141a84e7ca3b5d836f99117624c0592141f60bccd9d52093e9b1a29b3503157f2c532a44fab60004b7725f996db709f2990758240e2ee53eb563e69ab84f2f5a2816e3ab061f693a327c752a992ef82739fadf9653a816d768a884c1ca4127727aae75b09e2674b5d0c42da9c6fe6d9913237c4b898a9d5f503380c40853adac1ff0f722b39aaeef5495ee0b0501081dd5875b82ee68c7d1eaccd3214e7520d3b81e060b74a1db9a7b71f11e847c4e1487ad644854abea4e5d7ffef12e0f9a7c986dfd34034d502fbad1434a0d2dd0be1dfafd39c6411e028947a91d7f6665ff492aef672e95bde989db31fad1db53ab0aeaaece4068d179bf54478fa65a6ac6a6e6354828e9328be825e094b8356ff9a179f73333b27f2af2a382492ee6d897a5004f5a38d78bd19f67098455c5b3e432523b3a088fdc0c73121eb5afdcb042df22e2250013fa3171b6ae63659168b0a61920cadce156307172c04e6f073250d45339d1c193b2bf6b69b5a31f22a464a456a085437d6ead40eb6c7d90fd0e2493d085a622cc2c5d0aab992623ba28c51d1543233927eeff7c48d703223f8b4f5972d80ffa08da5b476732b9487fff1db85ea81eb1bf793241276e4becacaa5e2666730278b42fd0b18f99ebfc197823e9ed740902ae02c486fc5cf539cc1bd3d104492e34fd24b93b28564bb756e9e3f75b8a5e5788ed52ea2916a77c1643d69e4654122dd693fb5cace46d40ba246073bc9b5fae731eb1d2e89fc8dba10606e69f970d5cdf8468a550d0cd5419f129bcc371149ab5080b7b3d289d4a788d9cb00a07cf5e74697f38e16d875d4ad170587d3893f39aeb03177890fca3a3773ae0a2a6da86756004765a3cf9628e5006b7a909275971a33b4b422320fff46c0a98c5725d746e20d31c2da095444b710d3b1517448e5381d7826a25b29b3bb4b853628212546704b473fbb0da09d53fcac6cdbab094ad1686436e9d9ff3d23e6a2f08ee39988059fe1204592cec34bd8205f6561cb3234e07676dd1ebb523f1b6d8ee16a502f7d9723dad5ce507b6d2cadf9f03b5a5b81f52811375ca139957e38e1187405acbeb15f357e3355580f4aeb5b111eff6c51eb14d33f79f0fd67b1192bcbc52238a4ce945a98b1fd069507e06d0b7a2eb76ed3b94e25c1aab3f3c46e42c99c7ae804b38577187636e8b37be1fc2952ce8b92dc779b76f8dc168f68269aa17cbcf6fc96b5483dc6c5fb51d28740878cfa366dcba02e5bf65f59c0221c432a65f732502b279e2ee31799a952337171fabf2f34311ad95897a25a54aa463f83df2c6e64e183e7e53a69cca1b5f957d9e74c9b1273b446211ff3722e4fb759dfb9d56168d7fe52fcc276c1f6d74c850fa864cb19664e04c7d35a88c97274d4ef1515b4139de4c64946b663814c94b8871a3d2766303cdbf41b9f0bb300579ab7fad832d5022d689a705accd61f1d57db26482ec6b159c7aca45f812884d960a0bd22d1ca065f4ca7d32c45e513af67b7ea32dc8ce79f79f5114904c22101bd4f05c419ee585bd092065798e849d75bb17bf29acf4152aba7d1131a284237eb04ada825f03848ce70044a5f5019fb8e9f213aee2018b6c697a70d3d708e5f5a8ccebeea1d801c59eaed96a357125cf12603945565c47a2d1bfa33ca47bcb3f699619d753e11a44a1af9e9ffb21dcfa2893997b35a646c660d9bb97e38a5c6501c5059f34a253788f24f2a6cb4b52c4e9a9616eb920b68a65e782e74377cd61639fefec32621815027482507887eeaa0bf9a97069f907571ce7d8a7c594c1af8cb05c54ffd55fd1b879b31ee953c11d688d249d02e392babe8c9a2293fe4a339227590e1565ff1a651c8b418a69746a0d934b5c5da6fb911b33b0265bd771edacd11974dafcdae96490ab926b507f933456c2f08b8afaa9b1fd79ec640956c43759043c0b79390bf3c34787ecc4b8fe445fd7b15787c65f63ba2134391dc4544436989227c26a83b1207a64913da640c585552e5fe695053b80117a196139a45fe61a57696308104bbb82a0839fe855cb227fef593c93062a360e5807966447608b4d74a9014dbec31d8a8bfd393560fbb9c04c44b0e311567bbf568b3879efa141b8231310d67e9e3dd165578caac3be9d8561a6177c373abb2a6c85d7aa58d9f80bbf563523fb93c276e464f7c421aa4bddee0c0b759693eda65de43d6daecb4cdb49584dc17efe0305682df7b6616c24e64b34b98121196aa0d90fa98f1954ecb49a2cbf8e16b5294c96dcc3c5928dda617caa8b5dca12492d52b66b77179f6703d4b680e0a1b2f37351055826853d0290db2573acacc19f60a14d1e7b6c95a6c1e375b43254b3226afe204757a06109741c82a60f9f9fc90b025bcb3cf53611da17dd584cd1d2e93154823dd9c461aad47639ab2bfff71febfd0aa77f33361c42abd34fe8ef6af70016157d8aac1a0ee7f5f1048fca40e463c0f3133c7414cf422a79f7595df935f3f5c148d7c75f6fdbca9a77ea7fe17fd92f572aee70a49cc8b9e7413778c9bce372bbe46760bd0c0092e2db96b4f8aec87af4ad647eb394ef4cfa0d34a1173989d2a0d4df2ad38696e9ca0a45067113c012ba89cd37af734b98bda3c29e8c791d4bd2a03b92d0730a547ac921d770ef479c9f8fb08e7ed0ad551ec3f88fc2755d32cf3ba7e97da87e0425a765a0a6ceaa29b24bd622695dbf55e4a5c7c08672e5203f497d9a368bf920a9704d350837f2022b565e3a2d549c4c71dc7bf1b6ee5270b3b3f8373181607ab7e19ff020261e8ea8072d2dca61eaf827ae821d6939a60041415866dbc2c75968f5147fb41d03b55bf95c1067ed34e527f23b703f8fb8043203b1e31bf83ee85c06c0ac6c0fc66a554ff13c3d5568c6ce049a5b424c121823372d41ceefb3f761e3e1b9fc3240b48291461e34ba66acbbb286d460fb9e195fa5756069aff6292beff076696e2faec23c0f51322251a056d5416820dfba462cc5513ed3f5712a110799ddf4928f2b98dd200c5da32d7f6f72be72f3512767f19c17f66c1e1a6dc19871723fe099e7bee4a079909edc7feb17c1a14bb327ce9bba845e67be6d336afe031318af87552b5697dc702919d0b56aa68661c7c658d02a646b62ddff79bf6f5f860039fc9de24a34ef33ce214be0ecb4b695a6df0ef36d9afab58472a68f571665c1f05a98fcd323ec0c2fc27523ba0698d52ae1a11beb205ac65158a1a4c8bff21bc2db1a518f9ff02c27ae83e0b266b155ca5d32e68441946304a1d9cd2f5fc25880616e63aa286792d03aa6251fc955c2416921b258fc603f4da7ec27f088ebcef4cdf65f3a5e5a8b0f83b49ec6633536600d02c81ed094c6a314172c83c7b52900105b668d02fc972ccead6741324ed13168117133cc083dd1b9df1b0d06a63eec2a4e701dadd87c0b528168b778abca1ce2ac5cad54a15b87db4243f9b7f736a660dbbf742642d5ee0e8b41ef553a39df2fddb85710250195793cfb8db534fc27dc0ad01592ad1e414b761b20caa118e93e60d7235f9808c1a5434352b6eb5cd5af60791ce4d85e0989c03b8652e4d16fe5b8e171467bc31e9df42f9f89754c75442d90293b5ba2f557079d3214776de0859524355b7a3ef40ccf028362e470e9f6511ad43c657b08d0cb832aa1396673cdb73405491b6b3c58cf7db709cfb6b5dc78b85c18693e00523ddd1753e8c65d2bc11555f1aa0cb06e86640e582c1789891b9f39d40ca63ac42607ed170552521399df8f753bf4a0d6512ffce4d2eb09265427dcf4664a458c5d5ea2eca1f2cfed33f270b1c60dd86c60a2d2c2a16e1dce0622ddfab3ea2617193c73b7af537f61e1a02834e48f4f87dc5ae55b5779d2f6be710635c0d2c76c515f31dbc94bdf2687f708d59a0fbf99ac2b9710fdacef08e5bad9cda3d2a457aa5f5439b822fe2a9eff9a788ada05bdfe3539e30f952096a41708ed0d15ab99c4fddeaed65c0b36012e1bde53492e38f9a7713ee4416e3c5434d7e79694fc6810cba93dff7e90a32f852fb07c0b86bd52ecb1ec8b02f2e00851486825d3d03ede2f05c19eeab30338b8c0875089062099f4070a49c61d674145a3124f79c6a7e9deb8c23cf165b0e9dceec0316368c9ab610bc7215dbc64bde4c1e5053d834c48f51cb49e0ceb778069a6efa705cca80e23ad42897e5c97f719b29ab08798d72b387c36b8e0fd3626bf3f80a9838068f3b750171fcf1f4bc8f50c7b4269d3e60dd119fc6c80e0f6ee6b324ca4515e755654fb52d80023a797d5952fcf319599b12b2a3592cfff7665096d96fcff56ce4edfaaff0d9509ebc1e5c4bebc87dc5a398c9b526edb33f3fff5401bfdd37ed13df4340494d3f246ec53e4b2f320ae8b9b31b036f645b302236924b2d12fa8fac829cbf3315699c7094f7199b4180d3ea97010c047c726f796e0b9537672102b9f52fa7c97e52c52bf08175361d3c23cfe3cf1c8148017b881ddcdafbd2d7b52d0a624eddee023de7a75184f10da2a64d7251662d28dff2d19158229dfdd12760c583d83a46b98110b50edce69eb6c71ad182bba5d8802a6b41d16d09318b23886b2254517bca857be4e7bce0110a592ad696d3c263efd82de7bdd822a0a86acb8dcac8583decd7d94b83e5f7702558a7a0a4c296347e0fbb96f1784b303c75d3d3f37b1766ec530599bdfaf7d0819876bc51836c5eefff0ca8efad380cc5d48a187e449770d1f2fa14bfb66f27e63ba8ae20d75050127adda44e3e52955c0be64b27f26c0fe0df3960887953ffd904353a7f9a77051262869b39de38322b434d522c1db8380ad66f144adcf295376211cc3f041a72997c0e35a0cac5969a8f080e8eb75c1f320b87995dd03de4be6c2555059164179455f165feea233f7c2e2a85698f97b4e9beba3beb5b99374b9ced9b15f7209f61145cd259b129d9c4ed27b5b9dc74201a918538632253a0dc9f9ec807632f021e539d5cb794a03aee902e93baa4b24e3cec74c47bf5651bb3ba3873a47ed8e07ef9f2b728a9117136a2b3ba9240f174913315aaf37ea35b7f667553196ae54deb060a9c90b61cd42b06079695d03e43bccf4d2f52ebdf24676b8a4cc53bcaad5aa223e50d3695c8f02f38c27c282cbd169c54ce3454ae999c843356e8028ec8d209885b1bb7ce75d9e85e394e6d0c0cbbc5d247daa7a6fafc589ad4762bf12b3081e88e79d58c3829b930d7dc6588ac8d800693a7623d52eddfc677265a3fbeea1e199baf7f0ac2541c2802b3b58ad75b160d3a4942076430414346e50e7f51c6fa396762823bf2a6827d3ebb50b7e78124bf20a1f58b40d2c555805448f69d609d3b80d7e71acfb029d880a051a7b37fc27f3014c65ab33cb7367f12638fa950b991dbdd928156d192af8ecda919c5e5cbfa859c3f65c21f0efb91d69d7be98519dd40d05b872bf67f40f30dbb2711586ab1bc7e1e223115d784d26c12fa03ec18d1d1ec26accc116dbfd13027dbd2723fcd656925d7ea8ed6e2de909a6b7e4d642cb8397f454b61ca3df647aa235b618247a5f755cd4cc2bb2da370a4d62529cba6f49c71c096e1fd86a6089debeb8b8e38d5e613021f6f0ed302bd11b2f0b8f76bf9276ca46abbe67620d0c78fc1ef93c4834b20dfe8d31b6923f5c99ad9b98c36999dcf0423e6a4468b91d426a85aca22347fcd5c91109b5c7c7eb5a900c7365e6521c916078075c5847e165271ee8cd9ea4c725ffbcf812e77ae3324ea08664a00abff64182f8afba23bf384d00f0b06873ba906ab624cd77a779e00e210141d3b86b2cd164f4cf436cee795b4432faadcf095b6b9738ac91dc69b6100b5defb5f24a37805c3ec180396c1c4c081c3866601074895779aa866016dec95e8cca6ec0a46fe2fb29e1ee23a9519e8065d8ea67bcb737728de05d2b00885e95a9e65c82dfb40ae7625319c83774f0304438312b9fa5f1e035082048e728448d2822750904c3a921702c20683ae29a6fe8fe1a58ef823c0641c13c969d37902a1771b4f5830ef5aa2ba4de4a9189bd6e3565b4dc55ff736fdf263807739ecc1223f0c1047686780a0d9c6327a3920f950d5ff8b46e1844d9ee38809e76e6a4fc27c3c91adad02fd27b41693c52f152b04aa126692353cef5f4257d015795acac42e55aff4ef43838e33ecdfdd494b2285349bc508657aa01aa75d67dcb894326e85c2da9a20df8e9bf300d126c7ae74484b807b3b17c209f43d94fd8c263daf832bdb1c622031f1d30a62baba884e01951d96f5c9ca396e3c2eeb0a97bd7e19cc6140f84780c632cacff38b0db762aa2b42fb6e06b49ba74ef6a3eded010e06d18ea873967807f788e95f9975e2b9b40f61708a31806229e870943f663812e3715e750c63cfc1321705c372e2d94403fe5c8a43c236fa4cfdac959f6677168c88a7c65376a50c6a563fcbbbd36d523a934f3b36fdd7f480f41b4d7bc8c3a0974b85a948065edfb1f054bb420a6d11d1101f0b9e3d22d693908651e3d380b04fb75a51448ed8b0f8768b12b1b78db566d68463eae7959dd98a724d1f88a3ba7e9395e96d3fb5c0ea6953996f36e247a8b1c67fc1725208d4a20c7d3f9f3cae7a2e20c245e47d3f96482c13e312d9c36d989da9701b289c17b932e1f2e950cc0db899e0f4d0a54f1c676f1f05b5ad2f07d22e5e44247e800d86ea8d7c8e7a197b19a8c9e874f2c72a3711fa7f9b3360ebc7b8d2e5fdb0f2e1458ab3964bb1bb36d223160b4b96a35878553191fe85f6c78ebbe7ac29546a171a696468b7bf803bc2c0b2c60d40c207c539a1e79df822c9b6cd1ca9458751363175b0fad122e735c8997dffd5b1d9f5b745cf816ca2a98003b097578b77aa1cce8a1454910f065426299c9b86ba84e01f61bfe6ff0b4abc5b302480ed7618344c832ce6104a6dbbc357f62ebd7d19397196085afb83cbf3612302d7babd76a071a3d61da08602332390acf5be2d8b2620811b013aa9e0bdced88f368672f5c07d0672ee45fd8f64369debb6f21c7e57d0d38c6eda4f88901566f9b993475fc0c5bf383b632c747bae50edd0fc496376bf07ff4ac3d69792701390c09afc5d9cde692d6534f5690d959654626e0b07099dc1837db86045ed97add66b7c8380c08d864e79e83b9fa7f6367d71d0407fd40e99556c473ae26df5033867a78ff2466888d6c9daf24c67f67940f467ca21cfb1cba03948c696419fbcbcadb49ff6fbca0f3a2402e4e4ddd76201be0e79f6eb9710006257fbc77a7935131ee9834e5176f8ab43850bb1593319eba7d08e9a9873d5ffcd835cfdb283052f802aaaa010a025690f438282348514406d5247455986068a6aebb360624456009eeb2a12f721b604f6b7a9533d6eb19509b67ee8d1a5a4fb3a2413c45f5f1123d3f0f4d0dafb37f21221e090ad5a4f3d4dc167dc2542d8b79c65a72ee3694b79b54275ed5647f89f4c82e654336602677d4a2c5f72bf5c29e1f74fd5187f27f8e7d840de720e67b6cf85a15a69b528d74ad17c740426008ae6ea286434d029653148b2a201ef8a0df05332ea47e3e3a7382d34fd41b0953edc9f310cbc33169e2f81b20174c86a51484d64c58a1ac6dd1415e79fdbc382f2d5427559956a06ddb9436328586398429af7d3fd60c29eeb007ea2d515badb6b8bfcc8ba9dba75e2ed58151e8c45fa5af5523f6ba81df704f008ebcb3d7458bf3e0658a2130d486925546e8c77caab56e801d863f897947c03a7d97c0ffa4349e4f294fe934b898c659ec78333febb6478dd1a3fd45af3e275070d488c8ecea8b9b919d7a8367f161221ec7b84ab82840910ceae655af4c3302617292532668fe4ad1706a743cbe4332a4386d55cba24f126f0feaca6133979c995900bdaa43effd74f4a46d320ae69ae75f824ee55f68f9509c8ca57184797eba5e940e5ce8d7d5fb864057df094a9727ea88f9c31961707d19c819a52c0a4a84f9455c51e8c44a1c657b14056efef6d5594976288fea81392ac578925a3649c99634fc30c2988d98189c3672d3a4ce5b7c5944f6f48ea59e4f62ec6e8e512a8b1a79f99aeeee3262749c7eaba661cd5c7cd523c7086952ee6df6fbc05cd6dc535f770068c608977689d857bb68825506c09d56e1a25612e7fb93008f1340656fbb0885c4c72834a167d56707cb103a161e57748fcbed0cdc50411104662fc88b369127cddbd7c831c8c38b56cb58f5669fd39536ade6538fc140ac1b13563d9fb6c4efcb744c41ee0ea5a9bcf6238e1e28ab3af3ce89ae625860f564881a8296293ad7ea2bf04d4dccf1d9ea45e223a65def2442bf4141440b7070160075a4e6bae8724d30842cac8de999b005c05b14ca5f2bcb6686ebfbb2d071a4cd5b40c8fa1e55ce824127c2b5b92b90142dd2ab9c184c0c6d0204cd711632a6d341302a6c4e3909d6446f026c6928ae25f25157dd6edff6b909214100ce47040a996e009f6f9ba3a4cad0c467f277271019dfbfc7e7786514f1794c9add2bde1fff7305bf548c327c6c5a3923170016d201a3cc40fcfdfe62bc143a12bbba327d77efe020f1b335f49ab46e0191a582ac9a268bf8445581820e73cd9b5032e8a9987d4368c618ac400f051acad7dbdfccbac2bb92e804d27d2ae175b0cf131de5b0363c870d923648e5b3ab86f9eb4343802d7a3f1742351fb5396594d3276031b15ab1284e7837059c7093684d0f126a99a3142eb0adf3f7964b11c4650ea71b70af0831ac2346312a2a9e759711e88641f1345dfe831b88a4adf3def1caeab255d8f7596916651f60c42147905fa670ddab8c8382c1f760fc8b2639a895b04b761ed34f4f29aa0075b2cc10a3f03604105959922c9952866391e0503754944a7e6ab522299154f472787f49f4b3c01bc2cb4931deb5fc80d8d144c7a835afbaeacf7170d50297b71f6f46d38f3597bb5f21bb7cd9dd9c846a1874afb9b4a8879c2b6b1e076cead85c3a8a552b84a13fe6943cc0bc8ebf3bb66ec0686a202e30c215cb7a405a0f4aebba2d5ee8f71d3875e1e82b89e77dc05641224d481766641041fa05539e27f0d632ddebd3deaaaf81e64b4f12c1886da0a696c71e87ed09a2591d5b3dbfe36780d4855bc024f9810d4cc2c5c9153e440708b98d5e23df2a42bd338017cb13851dbc7c54febb300c0f05f34dcec12da0cba9859cde4b2ba22aea18240642b230fed312c1738bb2548b45f08107d3f7f550a88f68d90a3ab8d718f6cabbe9cf2325defef58d052f0d5cc76fee1c74bf96b43e","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
