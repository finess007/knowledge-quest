<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"d012140e28e281ba6feedec4bea5fb47fbcfe37f1063fea85dc9e8102b3407f89fe3780f03272b9ff75e791ec58ca4598048b6b76f644bcaf609b10d09289dc1b26b94454700728f443d6e7bf621584ef9e49259f36e3264788772212646d20dc6b3b2a6dd790f91db991eb6e8b51b3865e9b34eda6005704ef330a7dd7dbd83d2b8216c13704e721e0370891d812ea61926fb9db55a492fe44149fa50e4b8ec7e2f6081200b2874d8fd285b45cbd254ffa07990f55b8a3d18463604fff5730160a4d9bfe3775891f7a752d5bfdcd0a8edb86863081be4d58dded8518f98f9530526030679dfb1b3b4310445409960d9444da1f39f7bc2ef9972cf0368afc68abc8bd518bc88e78668c0698102d3b9607d97fcef18aa4fa2b7a5a2000f6268efe635dd9e14dfa633d0e69b88d301bfa32636ff61de2f168050b57741377bd14fba5918a876f48f99433c1824ee81d273fce1a0e9418d7463e05b8f01b522a1dcb094609d2df6c6f4a6aea8b466e711e6003763f857e34483c074df25c6e39ab9a137fa0ac9159a8d8c677e17e170ab17d424842109bb7f1dae7f8a0a06988cb5cb0e7172abbc9fa3e87db5e786f946f13b7fca02fdb3a414b09da8dac57fa91cd8c0d92f271cd53e739e200b60ea265b62cc9cc2e33c2083b947c3da57b54edf6d8a59197a22d3e1157fcc5bdfd7a1d2f0eb370be6a63f30c01924b9e438e903af666428fcd8d495dc20732119370cb50ab117bfdf6643df1c93249d2d269eb5d0275606239105b507994130d867448d3811e354b3744f4d9ef16e56403bafc37ec3a50ac738d78e918b8a64b053a1500b596a8ae40b814540f7d8a00e7721453a32a16903820a6c8e56741f82c1895c50324020aa08313b5bf8abeabaf394ebc274ef981053c7380212ca7ec45327cb165ce1be60baaed40270a4de0896960860b00b041e6e169c7810f7b9b5200b8e28fa3b36ec8a04cd93b751a969c67a3162ba69e1a3fb0867a7df18e61d85c86e77d53ce89f2b7a8c4e0c2d6475f878f3c12ea49acb5525b97246dadf5e5bd4b8d770b128d9981b7df38ae71f8d08954cdd2bf85b256c5a311adc08e31f780c7455c87d38f76ffaa0b03254276f92ac3f1343d01faadedd5d63f448ba3c6293ab82ed9e1900ca265557c5922648f3425a1cfd0b0991152ad2495fc61564e913c9759438666328065b11cd0a74473220df7d257ea5002a98e8c6daf797f9ddcd5d11c84c0cfdcc1dcb39fee8091a404d8d0cc2175eb7f4081d56ed8175a70318592f4077101677da15cce6789b7194b112d5f7d90c1d339a2590240533afd475c36f3eb5c12bcf9a33456a22aba60b0fea6d7448fb82671bf1409aeb71a593e9aa3e493494810743f2320e41da390c67f9abd6a98c5bef677d50c4f794bdc5139ab41b1dbc9b2c55e3724beffe493da01301c42651c9074901619d90ba1425fb84964d03282b415ddfac1dc1c7d0f1273081b0894020c93f09e40bd5e0b9bc036f172040d4e59a19db71dc26dc9fb5f817f5f7257721f16c701e075801af3878909126d0d90e6c9400ca342e6bbdcc63f90f685eb8dbf0395e6114f5a42d1917b743e92e6790bab9e250797b32471a4c3288e55b92f93c389b459aa40e4941f2a0969cf65aa2efdfd59b9de07666e506fb14f53f1b75bb5509b336f7e256d254d9d9588ac42261083577a998a41877c098c6cfd6384e8bb853ef5299eb37b7dda58d49ea76dbca3669c9169a4153de512eb98158cd83f6ee128134dad3c854108e4ffda1b06ee658941edc80f8deed95fa7f3904b1af5e00dfd045778e787584c6e63452fefe25afb39fcc28cb5b629e4b70c4741ea210460ad90b060a9bf598abe248d7eac2ff47bf9e1243c4253b5fd665446b2616d823630f3808afa4f2fc392a780380ea965cb267ec3fcb82a11714bcb36bdb3cedccf0937d677fa9acdbfb72ebafe3be84a7593e8cf03c6e31fe3a64abcd6858b9d91436f6658d1891d21f5e13e67dcab774c34742862cb473fb29420e389f2c9b9205da0ec7e70ec04abeb5e18c69156bf425c961e3efab8e436c47b165b83d2714b70c747566d85333c7651245bbcfd93dc3c3ec1c10e797219d0679e6dc8741b23a4d8463c06a2a52dc547433c6f2e91312dcdd2c3ae7a1e25fa6eb4b3c3adffacb2246c509a30d8e12abf08746db83b7798585acc8b3254c0202f79681e48833babfd473ecaf771ab22bd8f27b83090b3639b9f235affdc5f4d52b6e4b07aa72c288cce39ba52f21180d1e91a4c17fd6b771ec60dcf7058472e56ffc039b86bce73ed3db223492aa73426f99eae52fa466ba221fe37ad1760194ef6a48d2c4804139b90c04923c69af08f9518e30523a485acfe7682677abd27f442bb7bd9317c913ee3d732769f0979c68a13f5473b5c2674b31db043af74548d1c9104de070053c10f75a7a7514271d3c9af4203442d1e5bdd511bc3228525ab6d950c2703a0b4f3d4eb7e4d086486df45160c7c8b082893b300abfe55d1d0af886bb55c7c0a49042dc3c156c9ced1db463745a528eb495f22a6a17b3ece1b5789141c0a644aefd0583297a0b09ca5f3ee0cb9e37afdee7896df660c2ebabb857092cd83aac10a313548c5ccc7d51a2661132655dee39dda445a276bb759cb8b887dbc60aceb47c048d161babdc1e9d5c6463e8eefae3c11c5f903f692a38cff676f55a0c896ef5a2e473459cf3d4c75a5ecc1309a9b5dfd6079560950ef7189a5b36def3ad9aa28b6542ce87ea9d4ec053c8ba1d25decc4d45244399673e42adbfeeb5d0426d896a210ac088cd9c97086d8fa6fcfefc6f51c134da014bfdbf9e3098cc298fabfa310a4e4ff91fe22b83dd6818c7dca30637257cf8f92811b788d3ecc457b0d928058dc4ff1ff539393315a30f7cc49132d014d1e7c4d0cc3ce79818bc6a52ba5e198ecb4a0e37b15988d4f493491ba5250d91e291e19d26770f32a619667cf8817d076dd1c020e69ad096682345db06c7d043f42b5032bc2b05d50dbc3e19ef5b129d0a5720e83ccbee2f3801248f3f7141d32567268ff747f45629538c4e47baaa2735f4aad7b2e2a9ddcdd1189bbfc38d44dcac9959de724d4a09d82a0a40bb2ac81d0450aac8a739c00f632471e9e0f303f89282803a28029870c436f680260e07fd8d17a38cb95fccc8f11aadd0db146a728dc3f52bc6c2c6f8f37e29285b269e0a312f00742c602f6838943b0fb8948647ed3a3075f374310bf651dc8c6fb3441d05b984f908f34fcadd0627d18d73bbb2f8238ba7ece45eccbaf21ab26c8bf8a71015751beff2f0fadcb38e08d2b12776ffff1c486b778ec2659335ec70b30d8b26c3aa6a96bae91ebe9b65b060d64fcfce8f44eebf1dda5e7b48f959334953fbc4e281d026dbaaf03ec3aaa9060718d29ed44500b33c2882b954904ac41dc680d6105952ff695bb2485770efe034e13077b5ed2ff58c94b7e34b0903c8cee6e59014debf2e5c820f04933e52f5ef69a01c1d15c02c47e4099ecaa1aca8208cebdddd03dcd8aa10c773b9dca459f80c6458b12e46a7bd03c14472428737e6b52df788daeee9d583c03f6f0ef7ad900eadb37e0382332232a20e10588647387198ce92176b27d55f77c007c3fbb344f4da032614b9c13fb64db92991603cd203393982b554bc3d9c4d18b018dddcd6f8b66752b22846f635097ee544c946dc22cec6d6e6501d555331eb90102e6c61882e1154a0c873f928d406d5d23fdb20f30a14a5bfa510fe63878858a7fedd82b9457c8388515e14c0438c8256e51aba818c9c517b7fbc96b398bc953b0872fc05023ee45ea663ef6b67b69190332c58e13df6862d12435af9ac1a23598e8dd2a69d0c014a02d0a7987e84d3c131e603e9f4077bca78bf1d3751c675d4bf6f1941e9e90a366203550e6b24a25bf824bf22f75dd87a98d1d59da2c6bd14947ea306c96f04c60fb023034b2af2ac3353a04acb315c3a3ced1ccd595499434aff760baf83f6edcd05495475bfe3c3fa1ac4005f92dba354efdfc41d4943d604af8cc284475981183941751e477a378c03fe71dad106fcee4283cf9d6d601cee01097e7eac1257c1c7c048765b689d0bc4f382ab7ed57a6d90430e56dbcbcbd25d562cdfc254643889f25d6add4c972500deff850879ebab4420763e101db2ebb50ab99d81123ba755952a7a2d8d918e4970dd65d1c65751bb0711a00beea213e08e81552fd8f99f92ee3dd141317b7e81c8a0cc2a21f08a9a43f5c0674022e422a49fc6fe1291cfaf627e4a171bda4f523501d026df97c4d3902a5ff75b1185a3ae1540c01c47bce6609bc4361f2bd107d84cd8e8f768be4478a902b95ea63795e2e3cc6599089f7bbd9a60ac7f704a316bd4d1aa1365a135a4149751f99779f88d54c39ea8f63afe40b5ee78f9482f522e5e19c6ffa7ac19c31ea0ec3bcc2a8a2a9fed0c517201c44c55c1728726f82762de366c168fa00912634f5af292d91dd20aa3c406a41a9cb5ddd40d15fdb452aeb44198a20a43ef1e422c9fc390e846404be470578e161c3a21481a9555bfbde409c1d5d2accbde8de2b7eb04934df97b1ba59df931ad2ba2df867f9b544953e9511f37397c16d2e1f913999ef35878d5879c02625112046287997430be0322b51659c2da22df84fe4aa71929404a422263d94599df0c6885dd26f8572b20a1bd211babc620559cdf187f05c90842e73119dbe87160d7cc8fe448035e5f107b1dfe831d78b8508f5bb9edaf64ac9cce27a55c2350b8d92f181a40f3c9922e5aa52cabcb9c42c3f8800ed2f54b6fe0aebaeceae0ff5f566fea488aaa3ab952654702d56048c1bcfbd381727a61b37fdf4f440ed0af112b1ea9aec08297a48596b9bd9eb552a1d27e92582b70876931d0dd2f9c33765394f8293fef42a1f7db4b1a11c0fa2f794c84773bdc5155486ddb42b82dafdcb9b720de7ba7394f0e6ad6130c69cbbeadeda9a1f7cf606a8be55f0a1d75e9fdbfb0f98fcba797a25c5d426f95c7626edab4266b90b00c6b49a8a66fbb1249b8972b510aa5f34968e79a732b5ebc2f29631c9e368e95e492855dedaa2c6fc1d3d4c8cc393c896bf5fbade4815dea50deec67a9254c2cd202e23a0f25dffd8d267f8428ae3f49cd51d64993c2159704883b589c34e2be4a5d5c44fd7f0241f476a7a0b0462a0c91697f8ef0728eeab18ffb46587ba1fe471a835c78ed4851be77f7c72fd89910733ca1b7abfee2d93d6663fc77c3d3714cfa58042c70c2aabd1ad1a68f3b7152872d1c14f37852e0e4f087cdd863e8e4d5ac3533954c081aebe7c3138195e77f5b18704d3ebb29f5724aac4c1bfe5c4232d7fb0c78b992984f627046440fc8f65a9674fa713556ba7baa3579d19628560ae0d0614f129bafd54c0e750b0dc0330a0e584d24ce07c70ec342490692a350392ec425b98ba42023e736729687d955ffc6215e42811e812993ee32ea919045a1d01d1623b7b5195a5567b1c79df7ebc551f75f2285718f37bd2f225e98fb4726e62e10fa9d05fccbcccb0c4bf718ffa9c4974a7d13c57638914907536e777aa2d00abfe08284bcfdcd157b912da003a1bfa003054e06da453a56f719f4f7572b5db542670518e1bf0f805bbfea84f4686ffda04a1840529076712fb1cb98186d58ca9eb634b884abbb06a010d9324664e6aa311707844400f5718f14a98d6ba2ea818f386527b481be548cf6195c2976906835e68c73ab4f5d0e2d941c4b4aaa09a6dbd63134aee9d20aa806481076ae9ffa8af4aa14d8fd41ccef9a0ac8278f2246d19579c0cce2b12066ee01a4733f78577939bf0cf745a8552f784801479360619fcc688040590f8a2923e34a9199f7bc63418032334a2e76f68cb48ea9ad157e45ed0eb8d7d3eabaa9874a88d98729df24954f2074a909b65b8a8e939be74be5468001f838af14963e61dc6d70a6ab3234858583068c6ecd696e5f953758d1078659bdc224877d6eb5424916d6c9471a9002e02d19b102d7e07619be0e67ed917dcd41bb405adf7223ab577e9eb12c20242f45824adc6d0e050d6bd20a6d2d453ccc0e4613782c8c99f3f3e6250dc40f8f1e925d9d7bf2c79469b51d60889d2002d0da5334e28c083b82f2b6d6310921cad2e3e910218aa469145c04df20275fb14710c8955b22f9d548e8eaffb1f82d12d0f89ab8ac8676340d312c9433c2fd8bed22255482dd8ded49abc794f15aa81ce7ae8da7e47a8260cbc70fa935370eafe16cf45075b298968714310c4cbadca95705bcecbe94b5219194317056db0eeea1820fbb3e3db136355c221c2e7ae4009f6635d5556d8c8ab3f224a2f315ce44a3047538b16b3dac4a0c7bac4772a8b1de234383b4baa663a2ed5ea5e666a32972cfc3290dba0f6c06717e474d9dfc9ebbac4be89f4a5c8ccecc160827b610834c07ccf1bb3a15538d14ab8e363df7b387d110db464eec6cfc20e6981d7fa2541ce608642e8f91e758712a9b4d45be3d20169436489d4dade34dbf4f3759a5a2028346bbb85340358fcd366fc5ba4c959dc7109eb11b17ba25c58e1bd2f00d550129227d68412522185bbd504f8e2d1340d88fba39770ea97674e349db89dfdd10b320a9fb4c91c7e1ab2dc3a734ad428c85e55e9fe87defc9c22fb6e3d61b81cccb7c13a562832b7296261e3892631d2853423c3d6cb6ade6b2da22ebcb05fb2872d091f8bb2d76c4717b04a4db339ca059e9a50fee59d3bd79fe85beddb491d0eb59e24dbd5aee0c008b2f02c1d34e8730389e325d7e7273de57d115e8a5aed236fa4346a44fd1f8de8410931d714f8d6a76c61052df8a290a38f3bddb9ea15192c5977fb8907295a638d4689a9529a4592baf5d5158aea8916fba92f0c7111fc90b45702187238f704942c5ebc74f254b3401498eb941077f0f1a4dc6b915a5f468c9622cb680d69af867cb506a4581e1a8a9443783f910c99e3845054cbb3cb24d2fe5a3dcddda809f171c2525fdaa0b755b396f6ef528512f355b3030567560fcb8db81d216d13cb1aa818381a0243a7d64698b21dc8423ce92188c5795247003e1a339766c1061c9a1be8ef90173ded544a5d510e2b523900663aa1b0ce756f9b9487995f74fe7e8c11df7a5b4008fc569cd1b113cfc236b0f9bed653089e91ffa3b639c94df9f71ec29e597beed3bbb9c49b730f9e6487c8defa9fb850091f802b7ab7e4ad038ceff7d0234ea5efce91c7d7a55071b4e3b1ce369c6c6e69a0cd49144fcf86a5cb320f84d6aabea75b14a8ca42ef4a3e290a66a9394a379df2943931c8f506c5445f18e5b53d7e8c65387d08d5d18e922bde41244b4ecbee5c4cacd701b8fee18be8de430416dba0db032c610bb2922df8fa1ff929d922ba6c60eff5ed150210a9ab1006c48e90afb903fda7a041c0574aaf3bd289c939b4334cf1df11615eacfaff239cc380ee48e118275d576fcfbd3834b202e0e4ec3a4836e0a9765a66d28df684380dc17f4670b36f41037d17ff25acf89a283663e34cdd8f49a31bdcbd8770c2d8af371c0eca3d4a8383fcb55346bbb01ec97686895cd5bc13e86d6f7910bd0672e53762b651d1b716c798d33cf785295ee30bda91f003f7c53d4d3a28229271040cc2b22c9ce599dbaf26af88365b27382c69fc6c253c95c037ee1e38723fb396d2efbbabee9485af30b823691a9bc237a6f4ac7139feefeb25d5f2a56135d77fc798ed5ce8858d7093dbc7fe35b7ff62992f8f35fd1a4d79e9affcefeebedc41db9fb899ded574ad01560001e9cf4fab5b31275caf967696e46a5933776a4c3527587e16b942c577894fc6c2b86843e8b6091df2a89e883cfa9deff435d530d0150a390867c7ef9e0e9a116688487e7ef4121cbf5f39371e3ef0aae6f3e293070e88dd8928664c702a7d4c497b445c1695fa04e6a39b66e78b35b70bfe89653713cbca5e8dc905cb8b9c023df25a7af0e24ae1e2f586bb3a5f5862de96f97b3ef21c288934b596813ff80382146b37e662005e17c33e3453685bb0d887eb935af9d96fa3b57340ecd5f52407b75583a5e2858573a86406083db88613002d01ef5d9f101a458ea7f084e7af9ac8a4755d11ab39b6a8ed020909680dec5be2ce6ae11ea3fad4501f249e2ca81d08a2489c617d93af4cc2c881b26d386ea39f2d1e5e6915075be82738676a2c541ed355762d620a09959e875ea750c27a5cf26cc019b23a4ad310c5c63da1329190380904c8fd8f91dc0cbefc4e02d779410f966a53a264f18f065cf86c620d6e8a38ad066e54cb1f1197877789f6deccfb395061c3bbe54cd6add462afb5303e91c58954c6d55168a55513c774be7d1a75bd1b2ba31e3da8294db2896ba53f3db2cc9b4a02c87863b08b61b58d6842d0b8a060134900e0f2074394c42c1ba4362fbe6c75e51175636ebe048eb7bee14eeddef5e313cf5ce445ecf188063b352abfd30331e86193bf2704b3a3aa0155ea73a0d833d8807a48f42bdf7c37f5d601d5eed77e8f4ba0d91fa7f6ef7cfa71a40f4ef7090eb3fd655dd064dbfdac85684f9806bd587ca5a9b536529387e06d512985361d2fe6e9a9eeed728cd0e63a5f9694e76a6b346b52ba4763e1ae24ea375be19090d5e87c0296b3a692d62bf9d3f8304fd6908ab7c791705f33b1c3de5e46469966fb1cca9c0953bf8b120f71eec62e49b6ac94d5db0c3da761ab467dd8adc7952e841be01036072f87be3eaf915b86efd8fa334f35dc03f7d631609fb95f8dedd0451cd78226bf8b59261149bc09efbb67e1e2a8fbdcaf9c4086a3c4cc8b4685ff7fd4a49ed9c3f7731f6b875ea226c11d65c88fef3e7bd75023198fa3743bb4e3ebe49d3aba76ee0a2b07808b6a8781f6c0dca565a01d47d5feb34c92933200a1b8dfc03addd181c44b76fc5892e638b490f2cbc5e85c13fdcd63f01ddb2d44a8d5d3eeb0772135795a8c1b1b0194db1b47c4f48efc7dd87c803a5061c1b8529418c40a43a725aa2dfdbf3bca1f024258392814f84a6158af98e0884a102fec5ec7be598fcf595186a037bbd8b9f3425ec227aec0fba5a1fa9dc6bb8530b8b7d1df0cbebd94eaa52d4af2693c7882b285d65713a8a8f890868bb47bf246aceea5e85483bbdfb4bfb9d43ef49a05e7ba8302f7f87b1eb7c40582840374e17d252c7f416ded1a9f473448d77066f8a21771dc5f869971128dfcd08884257c7165b76dd40f027fb15d26664aa87ca5e94cec43d1c9cac03ab5ebd2c2ce97979d16e88549860b56ffd55d8d5667f30750a0debeee49f1a802bf6f619ac2aaee840eb09cfceaa3e65d6b9e5ebdd49bca4a83d019aca80d2f6d262f35be71b8a9d59c23b5679c3197553a7416801117b6d65941c52488cf42ac761afe61399d02a800f427af1be5b6794543f89ed7ce69dfc8a690a2c41ebd40ec016afc2dd02d688f01ff65041871036122d9c3615a27e617f8a9f94ba29e597c51e528b1310c2ac46cc2dfbd5441a891528926d2be71284d72face4e7da63b0fdd029945cd101a66ef04c424db4b3983bc898b5bab0664ee43d3dc960ac0bee3bf33bb600a4ce6ea67b66cbdcef478bbc21c37dfae525d71debb737668e53f3f0bec1819b289d142d23280df0bc15dc6184b07cd6f00746d06e2e3004f67c10881c06218a20d664888f918ebaf039dbc4a73a324d4f5e2439dc546c858fe51d3b6422d39e2f966f5e39f342ecfb36acbc1153ce30e0dde5df4309e8dc3b53417a46e12c2f27a33b651f58ed7599f34cd4b0297003a0e68295e46ec8774d2382d3b49298620eb7f353c73b499f4abd32528951f010b71329925c8534e7399f037ff94067ad4821bbb2e332ab5605fdcfb1ced8b99892a593221a8e12762fc6bb7afc08a14bf6ad8d58e45ddfe56221298e9b91ee5557dcae5e8e7cda89264b223d5550efa67b55e5048ded62b3f3ed838fb99922b1e4bfee09c30a4bd5b65969782bd5970ee648f2a7b5aef6b01724cd809f4905a994952d9eca30efef640f38bf765e6fe9e08b76ced14237efa358cb2dc8035a0a472f442c08204ec15beaf52821edfaa90728c7fb25ef5bd6b932d3507653e12ea8ab7a01ac83269e3d30aac58468a7cd36dfb8ebd5659c30a31ebd41eabc94df49a74652774df8fa8399eeb3d0c350e74edfd3bcc85e77c4d4bc68ff00aa575f27df5efdcd12da1dcb228f885322679e536326e14bc9b47665ef2f50d554c930ba058acb039ff4c7c1eb9fc47ea64fe1bba0618dbf397d80196628950cf6120d9cc8c1015e6169c62a469105f4648c01e9765b48a64cf975a0a72b75d0b8a2a3f56b40d6017c728e63185d2b107411e3ff1d0b01b5535908b4355100a3bc49964c18bcc8748307d66284dd2e94da955432642b894c6db27d42bc06877f3e91c7fe124e19517a0e263c2769d3f38bd6a20c806b9b6732a64ec7c1e16d93238dc3f3e3c8d359c625d5fe7816324079e8f26a33f763b9e59634e79fb9d58d5545bc04d5de6977bd42841ea04023bbd87ee40a1d7e53ed522184ea87fd5541b273b81baba30855ef087618628d3c916f586f985fa0d28ce3ffb59bbc78d08039d4a6d5f6b1202eb4db0628db335cc0b066b6c489bd478a333f0a2ac61fcd5f49b737d73b3cd98b42b1261265fbfd63995e37f4b2d7553d8b741861b41a90c409e3ffc8ef24993cb898d9102afa586bae5ddcf32d88015cb61356b1cd3365c7b4651782551c450aed447c82317705198b3fdb741e99b3f43895fabc98c09b56b203279ed613f73c774f13f8ba4dcf4aa307e063e0a4d52f5ff92116461be73b566a8e6ebba1d365a7f190331ec8d5e7abd15041c4ed758aab1f0abdf9757904f0dcf4b10b2bf23d857b50b11e760f7d504094ea67e44e7f8e2b8422c5a4f80573e093475251f825b1658723070dbf5255b17cda1073b813d9b9aabeca628352be99c1fbd08959ff80ff4a19ea3711b45ae0c1a0d2a49186eb294ea4eefdcf03c49a79ca6fe4837f64bec6d29ea4b0188b67d62a02d2bbb95d0b35dba2ab5e7755a89d7f377a63a67cc32552f46791d15d93f1cff4d4036b0872945c2dbd27c259ff15d12c7207dff2a364d4c14dbbc58a2301bcf895ed212103737adf3147f971889df06b53319529b85787ecd3d49109c2ba9f5bbf85e9d6eb5d1fc8384a766ab6cd365ee21ad4702ef408078d93b26eb1bd3da1fa0c44cfbb1ec1906042438c762e7a324c9e77a592beda21b58fd0428e3e63f2e90de988c1ef039ad59d431f75c4e73ee64ee77121659b37741978ae3585f988c30bba57c5b924c0e8f36e1b50779d6beb72f87b018805d5081f434da5da9a1bf0c16ce3ac97ab6103392961c45367f6e84761eeff20d3f550e90669ef3d97f0b7a9622955d8c265f5d727439ecd13093bcc07863bb5760ff3ef2e04a5f10bbd22c206142d8dfa3106b01191ba484a8d71093101e1769f26cf5ad47fe7f130f39d7301c51425e7a90e113d21f501d2388c1d4b821f447151eb2bb11571384ab206be252d2a047e27834775f8c0ce7d53e531c1bbfa618267863c1a686960dcf0c84ef75e42ae04933aa990fb618f025efc2799974b1410c2f3983a1a08c4e6c40a7bbb1b5cfcb3062891ccfdcff4136a2e373311cbc052af20c755d44e547eaae906435b7cc23ee7b648396cb15654353dc0570a0869f72463d614cf1a0c5aec9901bfe7e5d97f48fdec870249aad0074ff84f4d585c811456795cb2394f53c4a614fd6bc616eb3d1ae6302b937b2ebff7b9736c6fe99f7d08902beb4dc97c6f5be2f3b194618da6d9e88eaa52358f8b3e322ec75cdfc7ece6fc40f2477060f6ab3536204167f5c8e288470a455b8aae9c4ccc39a8ecb72e761ae70ae308f2d5dfbe6eb6386978e6d2344b440a9bc1a232b099db91fa17d13aecac68ba930e2e0bd4700968ddfe03ee6901917a387ff8b72b67027f8c3ec762a46eecbb83c1ac0933d269b391dae8938c57a8b1c7c2f57c1a7fc081261bcd4ad32b96bfd929c7046c4e291bd89a17266492e2cc08fd9804c054b009fcb3983bb7f60ca474ea66d2b84b4b1951bb3543542423cb27126854ba1598b1a253c390383e38ebb807c6bcd7eae4d4c4fc2938b1da1651b5ce83b0172415d9a79b73838fef4aba07b2835cabd38732886398a5ad23be65561753f5ced9428ed658d9a39ac4ae445f8343de1ad5af5e5f9bca1ae1c5a6985f5acd7b140e6f4bc15f87f82d5801f9165bdddcf6f4be07bc339b97e2b424b3ed65c5083b66dbbba4f4d7f0d017f65ffc3e85c9ecc8cfb905a8f2530f0bef7c84104cbf52fb16cd8744ff7eb7aa7993ee230c66865b117ed0f89296419979c341548747ee805c803b286561546750bf174a741d17a514f39dfbdb212610b70485d9daba9110b829dd564d6bf097793a36af1001af1f42068de1a7df65008b0eb4e72240686bd86eb80de83a89e00543d758a932619bf6cdc9eb8d6fcf93826dc18b13b7265fec0198a316dab6f8fd297f575991da2ca43ca0d41d73b7e5eb0d01e6caa8bd9dba4088cf4c8d25ea33e38cfc456ed376939c7e53bb5c60522ac2a1d1517c721c0848a421d6750cf19ba62ea473c3b410810027ca8c23e6549f0647fe013c74400866fdfa9e2e324461f2dd145f7c993140c4804e87962c8107127cd64524d9185e18f3b8bcb7a23fbcb747f675d739e5108732a58640c273260f107cb5c476a39864214475b239d43e816f22182ecea9614cbbe18c6b0463d984a665fae2c206a5835a5fadf2bb0b944d3bcdc513d3a2d72377e44cc2674c90fe037798e8f9e2a133dd9f5b70438c53f02f579e640d71589b0bfb0908ae54f29c913b1fb53e3a049eba32bc7ebcdc617bd4e1483e460b706ec7a861edf47bde1359fdffa9e4957920d46a441bb39e9dfe56bfd673748af0d74f72baf7f95756d32e364c2d8670421ad542726c205dcdd9c3b8fffbb3ac337cf7bdd726c635847de083ca3de18e1fa8b6879275d7f7030f180076c7d05b620447823e50d5a2bbf656d86eb2468f95921de82faf08a5e8dee83ff2029225dd03d9f027377032be50d22f8e19856224763ec55c2527b62a804f4635cb1879cb1f8691ed46bedd998ce7a34894b7462a6980f0973ae54b77ce85f35f98e7e56bde7279a9e9afe1f8ad78d7415258b512e2984558bcfc9471874288ec343016f7f73fc85e9146a20c99dcddb17720fb1834bc53660980e788f86f23b3e1a947bcb7d0b63e95b614920344d1acab7acc0db3f526ed98d2feff6d5348d2702031e2eeeb436f74505bf2808a3ec531d1111d7ba60c9af4eb87cc5d10f127a923cbee0ed427440a5e609781064ed022c718604316a4c52ebfa1cc3163c69d60ab29caaa0479d285f113eee6a6e5703a5f14f62f537aaf334e9302f5761ad300eb0f31cd947617d7f6c78f8eda1e48bc9ea8d982b5e81dce4cf3472e88b4e84e32ac17d66a8b4d9a4841522bd47dd7146bd178258708914228b2ee46786a89147cb2d029e32cab44540546019877bff69e4f369900bfdd8ac9416ed38031d2e4e484b6600c585211e12d39391519b0b6b2ab3b803a4e41fa268844a3778a3fe9546c0aa6383f1b33df370fa97556aa5bcd567be14bc67fb26e507ebaae42e3d0d9a22e26e861aaa89c4f13ef41b63c094fd95c3eb98cc73b2e9b8defa4fe880b6777f87f07940bea4bc73bf0811f6a84fca269700e507fca40309486ec6bddf354da99ab8ac93fafe59a67b0d1885a435d4701416531dce09709e2bb1724df0261b8c5a0cb0b1aa489deaeacd4479e5a5e5adb752b8ddfce9ad2fc150ebb31dc45956648b6696f86eb74a0b41812ed933271e360d51980480c820b97f5da95ab7a4826d50e5dac977fdffd760db67c398c2c5902c0525779f1bfa597301811029e68b987a50fa9a272dae205f04181be4fe4f497c8cce6998a7835598ba3552f347e720b42e67e86575c976d747b1f11d8eb407bd52e18e7541a60c493f1bfee7f22cb4378c92a251c298adfc2159e72dfd2486b5b5bc67f13faa1036f929f2f8cc17793266d140627e097ee4bd2cf023784fab8715789e1cb5ab586da6abb71d1f77b50a045fea3a219bc6438462734cb7afed252d1dbd5327240bbed3f2b4b2ce0d824913d90c9829cde48748b490b5d31503dfbebb8e97292a48e6085a646e6a9d6f717e6719bf16ab0ff09ecaeb1f89d4feb5f01cdfd3fe8a01fb691e9460b00415cb33ee05537fa4d3c29fa4c17c2a8b5e729382f51f085abcca3199b168ad1d1c78b320291ecee16562cc2e5540b21a5f96f9dc1cb0bc1d59c3229ed7cbd02a24fe2b45bdeefc20e64feda6f23e63d8c696723ef199f216f97de100cfa27a7872de7e745525e7c31a9760715a1058c6944e8baa2dd3d820feb0d0bda6759575ecfd1422c4d1651fa429714b5fc1b2b12f01d7966eba6f47ae82785a196c5712a427064e7e6450831bbdeabe14a7bc9c3aa13108e7c2748f379959212b968dcee7f8f52b1fdc26e16e823b49e7e24dd5fcd748cc5b713ef3f32dcc60b2f9405b5ee483a425e24eea889f319724fc827ef3649159e2d18d843d72c9965a69e0ebdd411038281b648606627a45610b400e619b5108c265a79f153e0053971915f3203a384e9482893f7c589645033d9ee0aef09fae1fdb670875c0b2ec19ddc225180f8747ff3727b0edf4003004ad79512b33f5811f59e12190f0df037115843f67289c4e830faca757cb9912d77f5392e16b541311295e2ea2ab261ff7da00972b4c9d4e8f909affde50cb0a701ba054df8d5ef58da46f156cbf21166ff5df80d31b53122b36a5fdfa8a5ea090b763894433c8ab46712356fc7d17649a590bfd172763e531784d325c73a5ca309f23c82658a0ec677c254c3632a78ac0d1afe4a4c3f4cd81e30fcf582b850b582416462914daa23a05b031b0cd134876ccc14cea889ea62b534972c034346d3b42d75d555eb408a890e1a15b9fdefaa2937354e80c2708793b36127e5dde15b912e17b841f8f9192cc4ad69e3c253d677944b02cabb74a8bc49c461e2a0807663f8ca4dfab4dee76a675144cefbdf05956b486b6a5bc194e55899606c725d1bdcd125db3cebca861c046e90aa6282f537e53ffa30b645b4be32aab3479e919f31e1d4bc17c8c02ca3f115e020478fb1141a2f52cfa5d196576a83c060cd6d0d2b00ba597a15097d797dfded98d539449da200027e96d3b39560c23bf60e8812ca7082355f148fb79f59b06d847e828ace4415555d4178eaaf95e7599831e1744b8c0dd51750a78a72fbae879d82bedf32d8a473baab4971570974083bba25d62f6991aba439da8368c0e0066255cc8bd8531c43b3fcb445c37cdfed50cf50722dcf6af5bea06e04de03447ba40e069a6712e8f20e78abd38c18dcbf9211693666ae17ab8cd6c6af1aa3354ddc8b238549cbd65653b28830944a2a9a363ba24998acc220ee10350441ccd6d185f1ec1b30fb20edba87fa5b590348da7519683502bf1bf15652752fe80e3b1e7a336b60e8b14cc6c01860eb0157ab1adc8573b1e98908e545ce917d288994550751a0946f369f643348b97da86c9a3347ce8ec6b54be73de0743556ca3a5a7c8e27776d7f5792418715132de425472ec06941b55c36f8901f9e23ec6ea01dcf0fb76b43d3516afb8c9d1e5a26b367d174612a645cada10287d73a4384014947441d5bb27ca35459340874812be5a50ecb59113476fb28ae5a6d90b226fde49dc3fbef485db896f2fb846cdf9485242d9821329027746776744adc8f219ebaccbd5254922787b859e9d1c5dc2a9fb9f91ea3cc8599157b847d30c5da594c7d95dd112947f04d48a4feaed60dba142676fe35f112e6efd0ab5ecf3193b9753903c1bdc5000ca8699f396db5b63a97f86097cdade4e94fe4d8d200493ab22e3f6c07d8cbbbaf57c93b72d09481a3a61ba61ab4576426919e88a8a921edd7e00c84f79f73a1321d18584b9bbc744a690f7c2e371c36c1f2fc6840a54a12ac7a61093bd49421e973439815ebc53db8114db302f008c3f4d5c9e266fdedf8cf50ee8fbbbc670f1f625bcb76a2323458af5c0b3725036662ac3fe91728e399e6db3bfd8be85008d614c530dc9f7161502c0c2c0aa7f7f3cf4316305cd3c9704d2b00f7b6eff9c7274e39fb1c98c5c703e2fd752510c4b108f7b8c767ea3d1480aa46b1845957d88e347dce2d3d4eeb4392933f6cb78b1b86bdb8d0d43d93cc05c22d616f5b47f0bb7518b553167e46d6ef29a3eada9f2273e4827288866e5b8889de2d1a2557340d58f99bc5ced178a385580c199e09bbdc5b21b882342084757e118c8411a1109f64ae3b43bc3505e663104db7f33a2bb461d8e6682da1d97cae11f51cc45962d2d4d46ac89adce694fd348885603d96ee4e0bdae0bc882756ebea3b97ab7589d7f673eef42a2083700cfbf469e7f924784fbdf0d3502c4ae0c12c01e405aaef7369c9b80108a86989a120731f5242b30c405b94162b53c4324804748e7fb1996c1b488ecd55eeca9c50f6eb9961fda14f6dfec81731e540c4df3b4cc4a21cbaddbe7991c172d66fa6e4af1728e78b3017be017bc9fb0ff34fa59fcd77a8039b29020b8b72047705cfab55cd4d987e4c3417fa0534dcca21112403ffa7ffd5097bcf46bd07a47152f5575128d1c403c3cfc2a57b25308bacdd52397e212ec828e35ff883aed2c847d1915d61a12e55407bc216c6c5b1c4cd51d5898040b9fc5464cea6eb245f05b924136253c57099107a52c83333fb6066f3956b87a618a869c3bc0a1a5ff089f785187c2b6dc38e5b052af19c92ed483760275162092ce98fd85707d0e0849aa342da63c651af56a14a280caa55568f3e6c8d194c4d8ae1c4d4aee9b8f181082596e33f15942009d77accb4042dc7d5864365b4dd430ef345dfc6d0d0352dc47df3e56ad054885b498845eb6a890d0b1eac5c9655730bf3596ee7505d8c85ac535e4bfed021bbaa0fc3fa1ea7932caf7430ae9f203bd1f1faa2e981d74e7f3ec3489b4ad6929e668fe1791442074de482b4d4d4508a10d1c10a7ae5c03014b67343727f7a8cc2e707a37a1172d9251ae94341fe65cb62a9fbf7e632b25a200bf9eceea5203c411fc94fb25a99653cc2d01fca30cf02bfb90adc213346a61879a74df65d632296dccbe7280604805a095799371b3bcfa7c54607ac71dd997a2aa5000524f94630fe345cf0f1c78caabaafbba7eaa6d956a09f1fdda1206f87793b04527fbf21f8b6a0065185b70a1cd7427160c7b7ce419398c73fd9966cb73f7074b09a76ca22e5c70b516318e5e74e5f0864355ba1fa8a3d787d5c86e854cbccf3810f767306f62b308692a977a2e476ed4cdc5ade2b49ff897570a9263264b52e28578ae68930ac19cc279d4d53746e62ac6bb9475a5bc776b2ac1060065f0b185e18075ebaf7dead523c770eb5c3958c1a3eeaa07ddd52d998e6f8ef70159179063a3f140517ed76e9deeec6eea26c401e842eb6adfe9ba9c3e2a178cfd3a6903ff704127454cbc6e792cf0569bfbc7195e62836b43ef4df507c9b111addf5ce29d9cc7994bef1826d72cd1ef7bcf56620d2a527810bec5ddac058fea0fd59eb4ca64628dd3ed1dd3d6510907110baf9e04dc3b01ca6a1738a58cf1dd150bc7f1f6f2504448427ec57d35ffad06fa06e25228dc25a1763e749b101628d5cb1affadfa5b29259c463e6d2f75f932aa73ae83760b7beb29a507fe3a5624317b7ad99c2f305dcc78676261b8add1f3ea7ea3e4f18672010970c3208761db2d3a1caefb3bd94c7f68415ef3b97e5c7a4fee75b30f5b1333510de41e55787fa74785407882deb1c88991486226d8fcefe1a717ad2cc19d5fec20801ead7a6cabaff6396ceb449039cf5e0f0ae463953d1a91a866c000d97098fe18dce9d57bcaf736b8b1732462f37b32d7e7b0d2d70199734aa70877cbf0104e41344d2f87b07b2623fd316d8ab97e62ab30805387fc9608431ca298da4edff0b97e06847ca3f060c8986a1a8ec5efec802be246be56b0169a97bc2874391464889643e4b6c10836fc25a9085cf48c47046bcad2987899c9740ec7d821ea6190793ee5436b3f72ed0ba2bdb67e6a1e4f67936595092c5fc05fda7ffa194b061168011da79d5ae91a42d369ef86fbdcce77e5ff024bca991ad0f03ccdc389bfb3e271986969f3e38a0a1403e8ecb8fb9105f2448bad2e84ba78ecdb71119183f714069cf5c4279310308ee583c07db5fa1d78d41eb00ac24320548215bbfaff2b4bfe82dc57cefa48bf654a03d5c3320e9fa241797ed8d680114390d4160e59218d31f0306562dc90c737513fe25af9e2167d5384af9962e5c1e87f848dc6656f31e1f3e04886f5e0b840412c2664cf019b04b5481e3beae4cf1852b1577abde839d084cf18552b7650196c8b4f9dbb144abcba53401ea6cc26e1c0130435afe74b3d0354b7f7199dd25f47b7e618b2237579719962e7ee9090fa18090663d6d525aeafbd19543a673e4d79d5c9fdc9b71dc7b687bbff4a13c9739de4ba1b716f6fde873c11f4065cc6007cd18aa7a07c66cb902daba1b7d4db4417bc49443bee82aa3a39dd2b4980780a7635d6660fe2f76e21c00adf9c0e85cc76f55a3cc525a80e13ca5c8a90533b77ed3ce992207195fa0523bdb7e218ff677c6566f421fcf15522c43e7a2096923786c7462c1f80e0e21c9ec3701bab7c7debd4f49b4d28903c9c69a3657f62e66fb0504a751395c7ec6b036f9ed9d8476b3a7f42070465a9bfc360d7181a3637dc6690f90b4a17ae1b104576be5c8cb4e2ea46350588693b5d229c322f959d6c8ead5909b54b12254eed3efe8dc21ca5c2b1925000c03cea2bae99372c72478863e5a40cb1148a76a4af3715d71d1894161d23a97c639a6c0de1d7c676c7b45f1784959e267b42a74e8b0705699460fde64d018aeac60da7a67d4ddbb2e7daf26303db66fc1cbb5afbd4854196c7da84301cc7d4f8f6c9abd93823bcefb147f02ba151ce6a99bf1ad59740aa4b8271103ecc0ba0abf6d69a9b5097bb8a070b5c064882b477fc26d19c46b5ceee4556af41963e52ce919d61acf22b6d99e5a76380889c91ef383cc86c6a33882577dca31f1780c23ea48b8354e78b00b7529efb39bf7424f59c91005d580279be26364a3e4c39a3913f35820b49ef6c2ac906ca5491f9f76a9642e9e7ed1ae5079f0a3db79c2ebd5a26928c6b08349a9a0b3dec04f11fdcdd2ac1f9eca245284266d1dd67ec439635e8d77f4d39852800962178cda895518cba662726d70f9a865e8997bf9cffa891e0446db65331423d453d9d7534e496c1209997511d36cd36b30c182289dcdf6d50378ef9dd535dd3802d9c6f126cab2f877d2a71b7c3d77f23b112e431c125c863f91c0a5964f7d087614142288ee5e30698985c34035378a4d118c826a66a71f8d641790e9329f905d132abfbfb4e34b7c505f86a7483fb14befc919022b19c377230b77ca8b6600b4f71444bfd32d1b06726040459a34d6679e4afb95cd534f6d55cbaabe050bcdec04f6ce28451e346e7341284e72bea9401d61ce5ce42a808d06260baebbb805fe250179a233837a501233a84114e2dad8e8db7274a71b3aaba9396448743fb5017dc845b3f6d88ecfd20e0981cfd4baac511aa6e3fe73538a8864fcaad0f56744935b0072f3a1eed9885b42de8f0cc30f955b7993646e527a2715f52e7fcdfcebcb28ce7044a7ea1a6ca9826d59f8905c2d897df2b8895cdb32f2910e29aab76f2be3d228576565617690c8dc35d351ecf02475beda3c4e75f4fe35f11cf30a9ebc1a00935ca1b1f91ea15ae1b835c69081037e9fb89a56d4812b7b7e12159bbdbaf320023ec6227b8e8f3b49bfa7c44e8e85248a249f081e66a0dccf9bcd8072820144e2e8064ad91c177c661dae6f38411bae1d35504538d451c82927a882d98565b34235e2fb170a0c372dc20a011782139250781ec12629af4ede84a2b09208b661422d51f2b82f713acf9c754a9b697257b5d0e1adab3f6bb1b970ea6673914cef86098cb44738494d21f831b53cc3bc53f199f2579f398995ad9c6bd4708fbdf5d50ee244e48ff6f0322ec90fa2e28bd15bba0c19ec6dd4e1c68a46025fb8f0f59fae400f323720d988cf4d7fb558bbf8b54e59d27b8cfdf2d883cb03995e2c56ce3e8846a95783139a939be565194f7f648d30ae6afa8c723fb7e478a8c8b36b60d879a9e06edac38d7cf05a26cfd8dd8fb62b874945c49a4ca6f3ec4bce1e2051d2f082db413ef7ccd090a51fa452c1c0106176b3080cfba2f5f1d987576358e95c4efee514749d32db04c94e0ce12457037c5983a426a8e31346bdc87ecf8f9b80b0c07688a1568ea406aa0151e12e8fb99c9478b9499bf76de3c04334ff27d2cebbede5e62b812ed785e7bf59d2e2bf7142f3e203b7935360c209db615bb3591007eb4ca405476527eb6e203781649b55e9291a1fccabc164d06317da049ce36e9d3ce86692be5369af6174e99a8063c84d623c66f2e06fb442e73c94ccc09fd32e92b74ac0796d264139a1564a9c3bfe1ebf2d0b67bfdcd3d47fbecd23caa7cb554ed1c207f3cd093d4f53499472a96c11f85dcf48e6742104383fb9d7e3c9dfe5b3bc5f8a1ac775eba1712677dc0498dce4518473e3da3989ac252eb3e3b5b5f2a61d1095f6bc06dc62c292f9a3603afc90d867cbd66552760d1795a939b16e3d7484c699223143afebac586316474b87b5ad6fa69a6e45ecb6481c4f8ed3e735cddca424c11d55cd8d2bf87d210aa0740ba5eb7db7a93b67d021190b2fac42fa278689c29b3171baee38e8c455ed4f46848f49e33a9965fc1211419a0d7fb8888731db9eeeba99461f11ae06e038c3f6a521beba79f77ec4b174b115c705d5288f5ecd74a0a9caf4e12210a4ecfc9cff1e346f237589ff80a6986e199389ddd20abb2158480d9b08468105ccd986753acf14907a7eb25a0895aae4eb2cd9e93757798ec4a15b618c348facd0d893ab4f3d44ee695add3ea67c06cff73ec3bb6c3042f53183c1edd299149895d7247926a95f0313ba82d066aa50689e17487c88916d28697aba5dacdb6aa394c0f02477fef296307bb38c205e5f60eaea7943d79c8f4ce122807e01c5a376bcbe910de8545310c68458218be7ea72ec70b35f4ab68f6016b1003c08aba4ac9b404ca00e054904c872f6ca86e4a072bd153944aa835eafe567bbdaa0004db3ec4cda827169dc7bcb39dadaa01b31a0d4248d64362a5e8a5997856328d636da6b5d6c4d75a5f74c789dbdef17477489cb1e8dfc917e0396975869a157fe85695228685ade1842b3fa4a91f71f08e7c238dd086efe2a9dc40797bbd0a03a26fcc97d17383816b736927426184706204f1e424342b4116fd6f34312e0b8ed7b7b4a1ad1441e559f9756f8caf7f9fd25a0dffccc06f4c6f4bb6f7013c486c42b824d6aa41cb5131d51cde6bfa14d7d1539cf5dbb271ab0f1e952a3f482d188db23a755fefb84066d090da59749f2050f91bfd1e46d0fb9c325ee4fbf27f4348944ceedd75ae6d3e889aec1775027f93d969d6f970ae5e0dfe9dac4a033bcb0524abeb9d371b79e8df60dae405eb4e22fedcd7bf12bda8ddff8537c4d997f11685500b7e9825cc16b0617cba0a97a4b9fd0b6ce71f75cb1bcad47b3b5b92e314befff7a9d70ec453b5336af64d41f96f2362257f043bf45e6f594e8c28b7d7ff699121e28cc8dbb41d4a4caeebb50f13f64b3108c08eabbf50afe3c537bbaec9732144770c09dcf47f8081de5086b31f00d6ec9f3225d87c820c16fcb56eaa66f8873f5193bd8b77d48f0f3d4328b46f6089cce1d66d6cab134b3ad2ee75cfede140778e3f9768b2b2670f64758a3a0dfe2707d88f0e91f62f1a83007064424a55dba082d83429bf57f81f4033cacea8f8fbdbf2a8d0ab9529cccfeaf628cc50fd058d361b3588343864b84d8cda57f027feaf8aed7772f546f68b68096b4aa9c3f8cbb3bfbba47ac285777ac0ebb87c64cc4eee446c9a06f7c9bf973c9d046251946894b52a2d39f4f40010df2f7891f1dede0cffbde8b4b6d0cd9c27d6e10bfb1b57aebefc687300b4db8e8166252705321ad0f195c1eadc16b56121ff8fb94fd4d4e691f475b03294ada79601b57f92841d564212a276853b5de2cfcbb064818a130cac2a3e1a34b706b711cb603d6c7f2aa459713ab95cd383b276996b374e935577bccff67fdfa5dabd2f0fcd79d44dff3f37d491b6c064578b3b28daff232c4b006ddc3802968f753ecbb4a8e37dc07e46bd1dd550bb0dc67ad056022c1397726d7ef80140c1bacd17bcb2fe4120bbdef10b9ef6c4439e181fa37ba995d0e356fcdc6124360026f03bdf92ea13127252499dafeaa5929b2a9b1524dfbb4c5faed926c5884330171655ed4e7159b73c4577fae9a688a33b94b2ee12ee5c5bac13654e030e693a1fe445feb56cbc876e3e622fc17a47e99016d92189f717018497e6e37081cefb4c45631358914717b568662a9a2a1e0fd64f845897de2cec2ca03263700da0d6ca76c1f4ba77d9b13341627a2c3b156e4984e3a8bc8b9c5b8f7ec41f69cf80c45564b08735182fb02f1d1547771076f7e49ea9920e10ddc79075a5b4a49361395c061f24a343fd56f072dd73ea418ae2972f855c18478d47b441419dc1b367a1f9d9643742b23c8bbf34ea303e0256493b93fb8fed5000af4b5244ae2e1eb75c8acc6e2473172a19d9a4acdb5999302ed44aae453b028ff7350f2c17892bb07380dd180df94838ef67bd00a5926d060e864c165ab6687dbcd7f78c024ebc9d006f12fcef9ca1c120c1a8b1ca9f372f02137e5ae23f3eb592021ca8015228704bb88cedcbb64ecf9140309ecba40db7903bb19ca7679038f4700f2f9e9efe71734af03e7b7caa2304b8459ad3db27a8f289a2fcbd7c1f00e39554c7bad3cd96c695f4e3dec21c3a6dabffddd698e871b691295ad74c9f7cb8ad2ef83021db29c232ea32be4d534dd8748da2aba920c9a0abbce8380c795ea2758b86aa37bbf12063e259ec6cdfb3c9d59d866f8ff60f29efc58797f308f135ee514dc2b71cd0a007469d84b0b52cedcc2debb3ac0013f27b56b404b02fd8c1ab1be2e9168d78c07b4cbb1781c3bf59349b20720db21fcb9cdf91747588b561f25119e1dff922b59229073557f3488c696c8556e0f4a58f7eaa895802f1ecb0aaaef2bbe5121ff949d63838c93d6126649b8766689dae05be2901c237ba50dea0e0c99dee2c1689eafe2564c300d0ce900f947a6a5a473e68a0ebf9cf87aff0369680baba8bbcef071e7f1fb84ce1d61f92dbac68478e19d6f5799cf40780eacc8607b13dc951942b4b0789f2f7d398917b3c18c6efaf1aba2bd8406eea794f58b7964ad658c0089328bc3bdf4cae782a9689ab0124a5b118ed7d9c9a4d50b6873cb4d12e9a319bc68ea4457568fdd0792c549d35dbc69f6898489097ca40b4cbe8be8e0dc48a77c0011c7617381a12532417bbed60422a20f2999db2e68896dc87101d11a12fee9176890a9e28ee5fd21106d1ebd1ab63dbef43e29934ffce0ca41247e7713a19a7b7062285658bf9e6d43558a6abae6468ffe6d831c4ac002179c471b1f29cb8c2467dd9add05b9ba01a348aa01aec5525c9e4566abe5e9c1a7e20ce677420b6ce126418f19375ec40717a7c63fdec2b5a7687add8a0edacdccac1a72a0d3911b6330c017f727ff9df19a973815e9cd3b74b2f51531cf6529637d11a3","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
