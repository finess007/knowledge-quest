<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"8caa61fc3cbb8b2a72af504acd0f8756ca66b700f95cbf9cc72532215768066d642409d89d448356d51f4f3615a0b0af93e96fcfa5c2f452d7c8b23aff8001f1083f9a98345c586c0a64d5782a5208badd07f5ad8bd10e1b054345665be0669cd725dcb63d8efa394d195862e101511f3285666691c6ad02cca4a60647eac3f696b725cb398ef679cdd9865fcf50fc8f989d1d541d0831c4f5500d5443279a3c1ae560f96a2813f9bae7c7bd54c532622e93235af6bcadac202d2698fc785ee427c57da7f61ea465a26be640425b2d88e1e50777fea171d4129e136e839d9f24b29f88a6fad00c7321f4599e28f84af1f8c2dfdd445db30151ba703e2e178381095abeb45d90e2a2ad09251bfb60104082d7d6533571198a7472502bd7afd669606edeafad2a8f0be7fa670602054cc04d9e3a7e2e3f1151660e90e7ceb0048309d059decd65626b93ac3a058b6e3572e7322179936c8337f0c5ae4f7086a3771b3b407c1ddd8dee1816d9caefd1c8dfdd632469ad9a6f21196824119e8d220eefac38c97e28ef05cbe06d68ba77d2e668ee29e7baa22c4e9b0ee0cd539375ab6cdfbd86b11b3b3ac4917216495acd637b43f895f6e7fca792b89cd40e5590cc0165ec6c2e724f0799c9aca2baf0fdd48ad992a5c67533605a579b284a15b0f273a860cbe2d25c6d9f5b3f6e862ef2e2b3d77cb79c5e4602317fca7f8cdac6dbb55c76e0956a277fa0c71685b227ceebd799513404e13805ccfca28e9976f82902c9dd5d18be78bb15fe35342b4894428863dd5eafa92bf847331f9ddf1f58b6dcfad2b2a7712ce3b1fa74e461a1120b0ccb99583d4cab5c7d6effce49e50b44944b94989e4be43bcca1759ef92d202b8b2cdf8b791443c6ffba90dc22a058c462210d06cdc1608ce0fd7c8b47cf092e5bab1907d94054773db3a1dea29eb31cd88dc799beaa4d6a752823d019fb350d37e46576745ccaaff5ec3f40204d7d442ec53a0e73858a9cdf385992414cffe5ba504e867a7bd5a48c200974e67180994e90317c34cbec570cec40ec12d7032d95f81615666fe0665d51bd7d10a02a4ec0b617ebc74c79e41aa465b5ee40e0bbd4da391737ee3084bdf27c449691cbf4dc332b8a62ec571665459aa16dfd0fbb926aee400c0da920ff91550fa871533bd64cd5aa5fdcf853718a58673f885523b64b20028f842e9d668c3c0f6b62f62d129b743d14ec463135390a2548871e3c3d978c09b1697848ed1713a0d3f2317c69643ff0c9cfea288fef6267e192e20cff865e07c79c80803123cfae7e7cecaa89ec02259b5de262e90e195137bcafc62e36d1e79214ff9254ad7036ab1e6bc9fcd14e72feeebede20b95a1031acb2fcc9d27ffc883d56bb914ab7025897e6ea8580dbeeb762f24b87880fe124ba3b295fe92e9ad61ab999a61164f420db3e2447de91e60574bfdbc44cf0143f4042717319192e5d02ae6f9db46af2ae9f631bfa1d0aa91f5058271d661d48bc979465614124994d84b926e0883fa99b54344279cb37ec112ae81300592abcc6e23bcd5648475d6568b09f5a712866d6ea752e109268ee6a447669a9a51eae2dd3608189d1f4ba0d55d198c0762f26025b4a45e9715fbf4acdd5bfe60cb6d17ab48709b40bfad679f9ee7dae3a0effa3974bd601710e5c077fb3c44c1e49a0f4cf06f2ba32807a80635096b71f0dd1fe0c04dffbdff082a1bef52370694ba1dd0c2780abe23e8eb474a94c9ec89286a8840c6644e357ff0134e817ced2285bb7fad6f49bfbb680b561818d3924f69e18f36a76627d0108ef9c2f9ce84df6c7bc6447ed9b5a922efe086b1e72f8eb91e16b0dad788b74c63963716001c580f4b56380f0ba9f81a2bc22b03e9e8265fbcded151c909fdcd5102569b8e1c8720e33a67050a983f749a8bf50c20887e5e2fa12fe9364692b36cb69018256790c2b59cca1cd8da9a2f5926627f69612b27e4615c782d82e2123712cc73ec44e8f09bfc125e09ae80f0594015414eaef2d9bab7b1c523304d6e118e4bae4a3d4154aca8d9e02a4b10cb1c64ff9f3fe81d1c589e8df5a91853b5acc295cbe4c50c61dde2702c231b0894283020bf38e5b4470b7c034f865d7ce3d03c1313b1a6ce3dfc61dcbcadefc9bba8680c3a6f6dd62cfea4add870a4a05bd054aa42dbe225c006a17993ef542b911e6ca55b5df60cae5658ac680df93b42ab6afed606e2bbc36f89767a49b2dff6c41c47ed4a553675f2a5a47ad351f5cd2120edb1cbf6d3c69fdc007ee1284748ca5c7b42e8fdeec43e4845351d3dfbb4e7eb4d06b9fb9c4333a96cb60e5e4a06f870d10d54c9165aa16b80e979ca71f76cd80f80dd344cf0c41f112d859baaeb20b69e65c6eb044bc1e58a7a47e9e2f5e1e77a4cc06b72ed19d0674c1b16e049c2e2b6819a92e02b1841289c1539916da57c8eff5c22ced60ea781559498450aa232b28f8fe6e81fb15dd241bdd682c25b118e018113943952c0881391d61766de1fd5ce8a86ef7f7ca6b5267de9e0159d01c35602947622e72d11fa50ac8ef1290972b0556dad16bc6e4505975be021dd64bc3fa56279906ccb91e69f5926c3d5ff0f1268ea41b2102820c319df81410b37551683838d2c5e47fbc8fccab89c7b33ede90be390a1ddf30da659e19239ec4836c7e773968cf6ee629243a4226faf8344bc027133c8000fd01524c248ed0c0caa9d8a8f73a3e84b723f684f36ffeed3e86e6c86484fee26c85f043575a1404fdcfb2168950450156f7a62af9fb187599fdfb63f037d43a4144bc57129d1efacadd20a5d9e1062890f6318295716f0634f502d1b27d1a4f78b364322e5cd4ca7063e476041c2410713929a52eae8f731c525da87145b0643951e53632e214a74bdceb6ca81772a10f207db240bac2f4433d31e158b1289a31e4c7ac0ccab27f29ebe1ce571283511c78212a54805ac3f29b7d5e8151fbcd71df89caaa06edbc8cc3400b2687460d79957c62ada50f1de58caf38859e00d0a46ea029bb411e0efdd90b4318375780971e045246adfd5231e6ebae21d0c43ee00a138f2e12368574ba90a4b1b2960b96caffd3c30a4b13ae3ff29734941becde3e5d94a75a17de92d2dcbe660e2b2a2bd8839b42d92fcc059329228b7506db7212df8c3e3910a2fcfc9c7334c5cd18a6cff9bf07e9e03917997e2411a91693b31e1f6d0131665c5378378b5abdc3c4bfc13826e1484c89182f659b35fcf32204e436048eb05e7eee13d78f2943b76971641f1526e2adda810a2362dcf962d088c8b819d110283bbf95e0f719abc3b113ddd05fa04bc5268585576b3acd604053e4228e034b8dfdc0a8c6449263ff6163add9b18bac6699ec7fbb0965b0900d1e4d36f2eb60fc92dcc7934c12c957556dc6d48f6e0501d57d2fb68975ab4d16ed450ed2b8f5f3b1e5dbb1344a7f4966dd5449a99900aa427f9ce09403e734f0044a370b6aadaecdd463fd6ada3ee269007dc21cdffe34b496d4bc6f80c1d11bbf2d45c5362a73fed017810a38e9e79ed8def0126c04e411db66e054549b413af4bcdc5ebdb892dc0c2af081ee3bca6ffdeac232d24de012f431142d250e9f87c265a4ca22b8c7baac6122112f1a98d986fca359c4f1be876917012b6bdb012ce2a926ceb6d6177a9936a2ee5854e98ae29e5f40ccaf98be78f3cbb73a8f5ffe18d481fd2455a27a2fa04c05e5434611d2d0b1e9208c5d831068b542530ca2a8baf68a95198faad076447dcc0ddaf1b9b9218e54a0f99015c500ff80e7afd2d3d399d1d864597ff7e15c761ed427b3075843cf8797dc627f2fc6afbbb390e2ed482381b9ec37edc7989d314589ea946e915f88d88c331e138daf7d587c7927bf2d6db789a77c7d9c9a51b087b6baa0bf748f1f8061998ce753d0c9b6602a8c28aa066d87b2f95ab7096dd450f8b1c5a6defcf890d154fc9eb25c1d21a375b7d8ced35fa8361ae8e6e291ceeed839771aca99e549f09004c1270f9b1b008c6c166297e34531a2de61c1e7928dee08df98a326f2583b10709879ae2bcb265b2451e073f1c86d7d44d39659eebf2c482fa866588553323e2f337f73ab7aa44e68bd999de3ce845db78f9864b2ac043a36e2f18d87ef2b78242341aa5d5ce34d84d42550bfe20ffaa41b032b25be9453d6e8652c9acf759b491a31b542849ceed1390a42044aafc1be0b9e71d1c93f95678fc408a0dd98b582c49f3de9e1b5be4f91a092cbc033a21742182c8b3a377e9d90c08e7d4ce06f79d661ed7ad6a2f2c91c3f5f34929ea410d6ec54f3bf1eba96c32706085fd8c0140cfab527af05c123f8c460df435abd0b9d99b8a34a541faa796caa8f81632c8dc8cfbb4e3ea95c3fab214d01f9f426199ba04ebbb4602be6730419f391bf53ead67efdd64b3459a3b5d4190a7bdaf3ee49c5f3fda9116157cc8b105d441c1db6ef0b46aeb742bf133bd2c8a4601f3811e89f827483b0d8fbe857398caff9a077ed62857cb5d3781119d2122f88d226ea7fa08530f5b4b6937a56407eb49bf77807103bfc0fd7a4a652e6d8f0d5f85893c8d9b0816bd288df061057197d9746f38e1fb4ffc4d0f85a6b749382562ab0ecb25386a53405b803a5a40ebc9eabe693289cb87e068a7051ac7e4dad5e58414c9a7dd1466e6522880d3a44dda069d9429b92c8b19d14ded3974098344f2b60034328c4607526ba559de6e9df92a8b9707e8464aea2cf0c14865b1ceb4e52aea00073c3c4e69d57b5fe76adabdd80a15831671aab34063e9d5c9ef982d46d562940677439b093fc125a3c6ef9b703f1facf5c8cc175e5c9b9a5b56864358a48f353da5d1dfb78c73a1cb210ec9fba718a1b75e90355cf6fc1bea970a4b7d83112de1f1da3f428d5545bfb00120729b2dd5a86c8f5a2263c0e86f8b9a66c7177a13f6675e965813af93b8510b08622b59ec0d2eef7997448eb6febe63a0f1f0648b02dee4cccc8cd13ea0bd8157174c6a16accdd248c0a111cea83c73381ff727b576164cc428bcd326be06a0fa5686baaaa1ad7b8fedb98fab07cf3a50bc924e1a18d197d9bb3ac519bf2fcfef37cf449441105b1ed33d8cf4b0f548bc24f3826fe02099fdd5458ab87bc72a6b63addc0ccad3d7db7384e73345964c89c1a938c158ab11a76dd8d249475852ea7d59c6578dc53abca35c1af5ff742cbfc89b43c399554e7719abfdfff068e26ae1c6d72033787b06613d6d396a137189c3852b9d8a13238e902fccd027d26de7d43a9dfeef62ea36467aa0c432fb9efce0f4ca1b3d7023e066686ff2db58159b1c85defd8d68db6b1394c34aec0452459d58e835ea6eaff3854a52b619c251fa4603dabe6a0a760b8126dfbff3ff708e687b8632683f41a8a2e641549fb28792cbdc4d3182cd7fd0febfa473bd6d68ebe654759e75fd704f31871229b77c3289bc64e1650191b7e12c624688c0a71489d01cf5cbfe9dad71ba52a585b397fdb6f6045901f0fb4c5c38ffab58a5c1a2340a8b619a341fff384bfe999335cab99e1580242a2b40d253956512722b0118e1dff8dcc9547d0df052bce3f312413d2c5ebe42e43d2655aaa8a35d2a2b8127fc525b5a11998f211fa8a32cf13d21a5dfe3fcda38761e0526bcffa34f7e211f2570ac920f81940c3c89472d9e0b2f5b72c927597446d4fa2a2bfa6c1db8f237041b9c41395ca1c31e4db28f0b24b128a420437204d4a1529c94ad67d6e4ef3a4994bbe806ad10dc80d8d9f3d449499782930e8389e10e67225f598547e925f36eac620053c0606751a357d77405076905079d013bdfb1199cf4f12964b46b8e8e92237c2c68c138e650d5c2ba08ddfd47e41aef41bed943bf6ae1e13de4a9e1719ee0503bd6197e841b37a9e5d40ef5bdca9fe5a85617cd5e9faa1a590ade9ea4f6ce91634d05b54ba148003664c77bfbc43dae3be91e096193b42319156b5bee906a8378a518f12f5302cd6f329a2b2a1bde7d2eb9227569d8971266d54ebae167dbea28d9e5f7f0518d2457c3b267a767bb32f9cd124940cf3f48a5fbc2b3eeb80fd4f1fee2b5e3e09e77e0274a72046a0c9fb03bc151f980404ff4037edfd3431c0c0ed9483d3d042fe63027adb8f64eb849acfecced2d30aa874333a798f4fc1f1d5923ffea12dd6f6ad8f22d661df83de4762aba34eca7c2f4a58f8b13d9488c8542ae72ea359f157ac4a0c69347035c3019b3598273baeaa82690f6ec7aed422dd3e6bc08b5081dfc3712103876fd909c2c1fca1d85a945fb26ca4d8356763bd5ac1d722c4c0293f6fe25002a4cf2d6f2088ecf98f66dc698872d1245f89794003ea2450d8dc93f1744e25306a3e8bb92291044a0985d4ce126025ac0e2e85052acd51b0a219be7dfb8c31923d1e64bdbc723903b041ca4ba33378c1371addc6d2187d12de79504e5eb3ef0ffc856bf4f85427f73be6c2c8a2ff08422a3b73e9fecd62ab0afa6c72211772440aef9803397a6a26c0009e1e3b5bc18597915b6b38acc0b434ca696f3caac952417472038a63baef423a2c3bd41b3f98fd47b0635ffdf84b374c2068a1886d42ad3e3482afe09d6b05212617d15dc633aa5f2a8b163187b74de15abd29c6b87397cae1a04c84c7d0e7c4a41d254288b510b85e139a2ea31700077f15fa8d4fb2680715f680f1ff8254bcc782905b16a9b337d9d0d977baa0a55b5af47e172f88afa3556bea91dc89d7649c8f81e50c9d803179481c630847442b07079373df4251be158310e2e8e4019f66d3893035d9e362563d08d4a10e348af91c9c33f25df7c6c0ee97b61e8ecd207a030942fa556a5e19928596d37ffbf01f9cde7434f488b180f553af31a1a307a78946661d1bddda254415f5b039118c93c5ae9d6e34c02c3e84d69f315bf024d1df428c3015bc42a1dac410e4f5c58292b3607e016773bd73db1695e803be4e440ce6c09fd331c0c2ecee3b527c29fca4ff9cafd704af018e24b694d495018160e4b65d4f829e67c7ebf9108bfef24b2a30ea01d40bea826cc74b665bb4f69a2c88d4d465b5527137b6cd427dc476d902946abc844319cb08d7cd5d9633ec4e0606f82cdf85fff599068f616c092ea0aecaa5585482f367aedbbdbee155effc7fae09ad780c990e8762a6801d1a7849adcee2315d4a7afab729fcd2db0ae6ec466bc7ba6d9b28b3f4db37b02e91c135f5fee00d124610bcfe446bb13363391894e84613ed681beb60919e4a6b2b59c98b0daa359970d2f96610fe74f83030e853e0775b8a0522b4574642dca03c0a9bca0169a0243534e1dfd3937a6d18985390056504410088eb455e98e2ec6fe011f4eeee56309f8c6410ce0134577912f6a6af3cf5a9eb8d3cd64ac13f67104bc50137878d698b3ee4fccac9139dd1491030e1db521fb509b1c7211ff01b70e76bc93a87b2a79ffc01f67db4daac932474550e17a5bdc01011e9ece81b5afbafca115a0971d0a381e27eb248b7e1560c2461475ab8983453090270e8a4a2d74b944162b10a67fbd227d5cb302bbb7d0699c8e51d3b497874f19062548304d90c29aadc5d36287aa94b883a539686690669e5226620323e88c758eb481f95b11ea811f6a4a4d992709349070504d78c7b406e05a92893e4c69ffed60e543ba999b411de5c264708f65f71468c56e31d851612ccc83444db8f5c7a2c8add86498e26422b5940cb532ad4f4a02b6be861219d53672738d71815befe64e73f3b5313062c384100d03657a4be3c3c4d438a90bb91348e5404191c243c286c9a2f159cc28cd768894dbb1cb9fe7efabed7e02ead73a4db86cb01270a47697c9cff483538045f91ed79866ba212e0f4482247296513e8f13242f6040e59bc8aae5776232ba9df8af2dc7f1e74c4ce072b49755e8fa077eec604dc044c8800b1cc5b52b6bfa04dfeff150c4f0575db8532f6841c77f4857d449acaf0a145469fd4f91694cfb3a5f28782b6d921e4cc6eb42b6b8828a0e00886e1b29461a6f35e1837ad2114abbbfe3549f39f6f5709b3c7687304c9baf1502c02e469b03c9074bf8da31b1dd52020fcda336c3dfbb77ccff1d06d4016cff2b1f55659c828edfa4823bf0e1a3a1fd1c7bffe25706e8702ede1f00bc78375b4f9ed65c8fd14e8d9c7266807a1ad9af721d6def4cc3348c76346bc492451ca443b75a0e1021bedea4cde888ed456ea666c454a0e6c208470779f0371a1be4a31b18f1b59a6124df210c6049684bb13f6d40df66a51102aae40b298a31c730b544e5630ce865d6d7fd52d60613de532477f4a0924ae1aba13dabf4a354fc3545778cccfac4ae3f2f1fe453d300e4eb9236387239fa40779eeab0131478a4881f8eb63b15cec16b3f9ca0aef45cc30b58206c919b011bfda27859c87524151f3322926c1bb318d9fd6ee854661436e6ed1140066e88ee800e7aa0e3d505a2ef505a3e47ae45ffa042863fa45a3a3c5d93bca4c9902f8a186c9ef041baef5959c672b56d440772dbd9770e2994e32aa9d15818b7325e40794f89a7ef2e2458a380552187bc8b1e7af554c90cc58f748f042f343202ea6c9d75b50f6abf405ea740b0a988d390d4d3167a5980a04574d77517126c179a671140b183c1a7ea78873bd9b5b87d7728b687fda26c5d1495c49920136fb87d327c38a525b1bb6528625d60df393b1baf7782d219a06d715b1b2e49294a22e1db2dbe0c22919cdc646ae5691fab4dc9b45fef911ef5de656237dd6ecb3a2ed5fb14bae6892606eda395e21faa03d161d0af51be4607946dad273797a9abf75f1d808dcec742717bc2470cd4a8e29852d37b21a3dfbb23bb398ccbb044124c6c82617b1e0da9f37d2e692729382c0f5d152887b11b24a868cdc5a88b27b03333ea8dd8f81ecf29ed766fe422eedfa722737ecb983774e9bd478bffbd7d837ea6114bf4c502fdf4f85f17f346b18b3ff0c4a4d2bfa2fa46a16b91c0d15a0bbede28e078875debac1fd91b7ce99c8e693c661059b1676f84ce31a1377353bcc54de7cf3e96c2263bfb92e211ae47c00a4e39abfccc40f0576c6ead03d050df0fb8626ace5fe29f48355383510bf724f41eb5396056fdb1ffee3975e6e602fbc33020adcf29672890bef726702b396921fe2aec26d9abafd4299e30f76753c5df2ec07c9a7af898dc13b1a634ea05b1238b40ab2e1f1af143377ec31ee42cf1f7133dc99639e740d13ec6eee695784e35c535b93b49bc2127a930251c017b46e2d3f42c9a4a6bb69171585f2e669809496e6aafd75f1124a7ce5125cb10891f4cedcec2f371b1a8b95de75c55bc3ccd3f0035c365986d3f1b6f0a2a85dd3007364d6e6c2748d720483ec19d008d023355c7ffe354b4e778cf98f7e9eb6b0b051592c2fafa754438cc82a7be1d193ad0269acedafbe22f5781066cbf71fc5dafa7bd4747ce020b723b568c9b3fd46202d19ef9094ced4bc32dd0c15a648eb8f1f03c9fe0c734c65161699a74cd92da62d3665a7f91d32eb4490d3c92436e380c5eb8fbaed80ff5bebaa7d57e490c04451d8aca75e933199689ec2d1600fd1dd6a75f8be140915ff7e6f58bd5cbd7485a83833094b64e0096afd466c5583dd6259471ec9c7e458d6e09bae1c647c037914bfa3059d3e482769aaae5faef1f711c124130c841fb2bcec46e10afa62960ffc4b0c7f14c3eead5a6748e837fcec5b69358ec6f4643bedd5c6bad57094d0f8b58e584700a117cacd3d128d414907a1c555d0a13c57ca562e9c3769e9d2c3457d008cea5be8811d0c8f0c94ba83adf6157869fc48fadf2af99d71fcdc567aa7f263230e42dfdc064ce1ff9d753545faec84e6a537287505b86cda7821c2b254c59222c1d95b093a6322b9629f1c42b3f3584da336b56a8244dca28114e0202f297366f30bcb98f555aae808d3e768a4c1b3c0a07226ad436c6734bdf7a5a253442515cbbddf2633f47dc66f81185931cd2c0bdf5a5afcad2a2c5afa1500187fbfcbfc5073986f75b89c75bd70fc0e733707f5d1d02604ea2d735bdce569e06ad28b6a54d9b9be6bc76058cebea6eff87c1b6b6973de556f8831ea40c6f16077a405b937e5a152f90ddc852d36d703a4a368578c1b4eae28c01109fcd4dcaf730fa160e27a137db524f723252b7f65bcae399824853ebd4aaa97562e80e86895d2e6ab5349130ecff6c0ae5b76378cb198bc2039a50b1c3c12ab23046983922ba13e25720cafc2b10328d56903513456e5d3874fe2406f928e1bddd8ae3c1e0a34f5bf186f00c63d5dabbeb2b8a57e4bf5e5237d59ae55063c7415e095b01be5336c89c3fc474b5218c181bcd44bf15b2fead88eed457cb2fe98de25afbad948eb31fe60532f3ac9514bf0497c026655034a914d980edbd92f7fa310d5999e0b231846dfa363eb9c06870c7ecc2bbf7a1896841f173cebeadede67d93f7940dad995cc8d6756673630593de295a5c9244985c0d2ebda80f695c0dff623c7c97d81616333c878cd850bd41987d4f43623b1ca075b60984a27670588fa694e8bbbd398c6ec72e73e28c697fb2c940cf24038073e65764041a396e6bbed0083b2416cce033529cc482d3739da88d8241714d75a9f500242a0a4837e13adad4c18b499c8fa0f36d93d5833a7ba97a239ac6390c6fb15cdb6d9c433abbcc7e0c42bb32d8fdcae5b7f160a828597b112826410dd7afdef4f93a228c0e274e9d8207d1bcb73f289bc25db6130d505e971b1fcbee0fdd78c0ea634706f0ecfc5823bcd19f6c44f155cbe23c888c212c45d89827448a0fd16f6c5b90fc3b8f5be289f4f54451cf927dfd6a07aeb8e88e67530e566991fb6715c87d1ab4c3467aa68d7364751baef0577c6f2bb236e3d0a127d934a2268a219f96267fd1275fd3406ee29285a1e17c1bd4cf4930114a7a5a65b326e5215d5dafe6c5b7bbd0099b80b9557e1ca684a9011d4345fccc2f3e952b81bd31df9b338a275f59249cec5d09c832068a38d9228675f0954ad4e5ddc84d651fd3840149d3fd0083df97b6ec92d927838a86b2184cbbf65275b7e73d3018f6e365d5153287b11925806822272d8794da21b16ee55a7759bc88e101dd6695b3c0f78796fa15403ffcabc97ac66469f0b718aa97825d6c7cd3142d5169d0d39e01540012f5f759e63e83b31404002948cfd12135dd2762c4b6e578a80e515f75ef4920caa7b8081a81dbc8f40dcc23edc9a63131f4046c8a862e243853770b4ea8dba309cc5131c6785dfde376a3d7b42b5431e170cb518cd1aaf910be69a21672fddf2cc880de6d106ab14f5e5fcc8d254628e00f58a17331fd6318b9b5a4e3eb801e1b303cedbdb235003b248785e9aeff1ac323844a9304659f286c506be37d67f2282538ae88138d064e28c2a0e2251bbf916e3729e163a3f9a59d3b32f90f5a351ee61edeba9dbb47ba0315102059f60587dfe38893b992babf8688bf80539e40b7260d0f5465b4e4159ed3de34ae78daee60966d0ea2dc8ac89c91b5c7606a29a4f4ea71307ea59b380899da516a8308c594fb4f8e931d33689c8d4a642f4b310a3ad68c1964654f91e2ee0b59c2d28f54c6cbce6d0a7457cb7036cf759af89eef1f6e0eaf904625567950ef3d7103406ce1c05348da9a5761e8dd49bcea1c5bd0bd2283ea99e5dc7333322524833bd436284703ab28a968163a3525957c881ac2786b3045efbb92e23957d1ce530efdedb7b2a2513b0082dd047ce7fee87ac5a9f90c7f9cfcbeeffd8cc08eae3248a6fe57eb3a5e8aa8dd887954c74e1dbb071dd62cc8455c28320b759a9c8e79f09656494a66c9d8a6836e2c3593997f0ea1538e1815fd80733044b64f91b0d7ced4dc3c8298fbb1c98c1baed0ae37db206f5d83579a64bf21adc9ff749ac1b8ebe1a31ff9b9b1f8f76d2a85f92b66dd0b48f6965c73724027298d57a8f9a7129dad74ef2aeaec34613a2c4ea521f05bd8dc172c7e7fa5ae0dbdc0d11f5c32454a34c8cbfb22ac1655007e39386481b0a9b7854bc5a0263b484129675b5265420e1c391897192ab40870ac3fd8eb9c553150e01d95cef5a2914cfe3e3798684542bdfc8d876a2918a3a5cbcf8462fd7cd8220b0bb33eb778407de0ab16368fb99fa9c781699e5d344eaf089541b81d3bae10d360cbfc827faa997ca7130ff0a6cbfbe5a11d00c9b3d8f805bba589c89f244acfdd46b1ad792a15c08882314b22ee1efdf266edd087bccc343a4e7ccd77676002d0c05d8afe025a78374cdf98af14f4d97951bed1e281460ec636bbd824ec8b6448652df4b330a0b72c3f5b2f2e4c3874f75d77cd988aab2d17e3e54435bf9863a06e87e6e4847575b34e44afc89c2f4e72bfa83ce35afa07a295d1f45be80c4b980bf06c8769bfab4aea0cc64b228c0a46674793dceeee1558437169bea32e221aeb44d01a88fdf3e7a1717cca56b652995183dd1d8ead94b3e01862209c215d7ef72855ef780ad29d820a4658b44ac4f000b5bd2e076da57ebf1e79d05551f1725ee1f7a3c40788a99ecb06a9adfae96ffc141cbd7e57c925c9ce4500720a7bea6b906de086b2035e34f694f4f9fa7ef5c36783349c797d242584d2c1de49f7d4dce1d1dd49c0d9a1e7ddfb234079c5ff79d6eda5f9e0f98905db49425f5f7be5bbab8218b8c99bb8e14e928d2c7b23221c83d188563588adbecf9a8733e0b06aee5fc43a4d81a9868e57db94929d9570e9305f0ee69e90ed7592f13164c5aa00845b5a64de453395b2299a2900b0401b84a393ab9b836e0e097192ef41bdbc348280f8f21e2d47bc4f6140c11cdb399a2ea7cb24763317a924f1da32ff5b36652f3431f4090a3241f7d667fc03a087371e0d42f0e1e42f001a7ad487bc71d7f22875d45f6b41162f60ef4d5855633cc17901d346a3bd7cefa895d12c577f3502649f2f8ae82b756ad8ea4a24f4c7a1cb0354bee7afb57636564f6cc601fdaed5a0a2249dcfc49c80fa5a8b6d2453cd9c182f6351bd879fb567bc971556d20ca4db59df4a62437ac96d7c9af8952d334255d366d9b7a89440c35fd18c932168f20420eb81922a79b1925b0ec5c530c24b80034fde54d5823054feeeda7feeb46d04af11ff62aa17c36d197d52453e511da8cd4b1085ffdfbb7de575c2886832f47f639fcc0d8583d48c980e16059c0711b679d95738e0d92d78f6dad4136b0eeb3383087f293310c0bc4c0099a5202123c51ca7b835c0808e2e8513a779ca64fadc103ecf06c6cca0846c75c3ef5e8f7af18d6690735fac8f8c85f1e497ae7f18a49b0086253085c20ab68d2a3ae870823422056c516fe2195484b54b4576b62b7369c24af39f645f3d9f064f1ff043ffe93809d81a15647400808f72a821a2262f631f44f43c7cfcba72b9afb3a5d1d7e1f9da186904133fb11da60040af043eacbe9ad369af3759df61e0382585f9c074608018a50914a8c9e21c639fa227b5ed7c99b8c3ef4926ebd378d159d81d37edc3bb0f23472929280337f017b6fa9ea44de65ea7c5a117e6b9ddac93d497c5ef44f3173bec498cf7eb3a031e29368e6e9fa5fb10c85a5d17207e2dbd641279804669c8b09869cd3d1607542cb5db4ae9cb8dbd9f42f2f0f1a8699b678b941b206a7e5f46c1f016f0c706eea5620c95a811a4159df2058bbbbedf0004073f99f84b4a541d08dbb7dca1cfa1eb0fbc11e1e36cfcb572f1c7fc836c045f5e28755d030cd78cfb02e62101d109859bee08a55e8bd7f324c8e9c2b9e35d3068c65d6b98ba4fd7425e13cfb08bea87facdc6186db09d84b186721e374c0142bad91833d390b9b780ac2c697a63a34dbe871c7926e442e9e2b99ceabe748c0a83288de2bc1c8d1eefcb18422d59c28db8093a4a3f237f048d51a34530c77dd75d461b3c7d8d247334e543f0eb4a1e1a04c2a22eb310b8c9013a60e74d8b8865d1050d3715d12e6435b184048e2420cb17fd3a374c5e1c6e0023078853024658f95e70650819c65d64c3647e18827ce4fe0fdeffba7d3602585dc7d784dc1fbde521c28ffdf0647c59b9da366666600020d771b6a790b512735f35d1f4ebf76b45771e0c85b3c6497dad55f4c4aa006dca51a32f302c40e0bea3008872ade19ef31f32dde75e5bbf12ce92826fbd6c44ab2d1ecefb09b91e1707a9c981ef870a7ca14f887e4bcfcacd24001e12e7eea48415a23f4d09726292c5a60b6de6a567de10adfc717af7efdc3602cac89bdf8984933e446aec51bf0db54c7dc9a779c3071e13f44847ad59aa53d164354d6f886cd889b312bcc27fcdc474999ea943e2746ccdcbac37687ddc691128c02f556b100a795df961c5d7ce2fcf359ebca8f34988408ed0bb67db84116af6bdced0aa614bd6d6981c78fa1550d62d7b1456713c74a61543e138f41c154210e4b01e4f134502d70192340df529b55602d77063c2c7041e9ce5602942d758ab9aad7b2a964eb2e8fb6f979d807ed72995d93d79ea2b362035e0040465ed2c851ea52a1fa3f61e604b2337d8c358ba4a75bcd10ea21a4685e8d193c12037e229dee5026c8224de2465c317ff2de0072480161dc80be4364dd596b52d213e006a9917c09ce0d334d28070d4b68fe82710f07494766c140d38c2e2f3405d88329a891141df60abd9cf76be7407b118d702fd5605cfa54ea60caabb4c0cd4d373a5847f9f50f113acb113c2202596ebb6a110cb1ad20cfe39f424510f5628cd8642bc6c0375afbc7f87b38b7df59b0ae1426693f5b054edc67378bbf5e5b8207e77fb49ac43fcb5981cdcd468dd2498e67ad5f0e584b1c134657af0592227a88e4f6e40328618065077f8ef5e420da021a546ca824fdcfc386ec7fd93084d6d5d20f43d4b37b8ca7398b8814b432de807414434447b2f5fc687f487ba0944535d55357e6538adcd0e1d9805975a3e4aaa921c0483a5767f8ae63ec75f7e4b5d877af074352829c2d65418bce15fa79b73285fbbaa26a3dc2b7a038b111cee5f4eef3ef614aea9e72aebbdb7efc7983de3195890d30c6a34dad92d28840763a4a82b7d5c31f9daf5edad1835a68baeff250049545fb0a0fe6d66d3f156139a6c32c534c52e0f323e8c28f01695e52b32d704d224677e6eb7707a96c8fa12aa9caa0ac09e5d4fb5a760985d85d8e7780c0e7898e03d4383963dd8b39251d2ea8f4fdb81bfc511fded025ec69ce019f364ee6ba67f691b36b02f6be49434ae1811813592d3191f41f87798e672c99691b66aca7158a49ddc0cb8a93c87bddbfd7fc6e3645d59fefd1e8397f7eef298d8daee59b81e4c0924d70322c10049682b1ed56f8315a864e1d888b5f0ac53cd695c34067d6abb397820c2b9b3abc14b363840febc3cff1d09d8273ec15e4a9929bfb43ddfaa38b72dc28de6d3b7e73d35c40a7f78d2c1fa3e831c55db6de8e23bc99cbb22c6f41ac3ee7c5c4c07b6fcac1853d9fcaef82377b38645f4cdbd8f56cb19644be662eafb930d56a350d25c81eaaac133e5dfd9365665e544193f5a82923241e31b40aecdf271c6b4a11d24373bbfe8ae5c0e7e98722b6ad30d8c6b0bf8c7a7fd46222fffa5b87297c81c112a651d760d3b1b50d576437f43234196ec1f7e3ccff782c5b2101de3d9a51703d8b31137ba81eff073f17fc9b4a843190c7f98657b626980f85de50d0b0bb2d082ed45cac7673110de270c8f3ce40dee355e9f28dd4ebd90f0c47a430879d52d844ff628a2b906c031c1594d4affdc6507b06f3c2a59ab04f833f45c647ed16dff889710fdc0744d4e8c3898ac70f032dce7fcbf34f24b0b919578ab5d91418de2223b22ba19f80e7a521aba12f37450029991ccf6f13502a24ed1aa95e2ce424707ac8dcdd0c7eec311012fea64bade291aa66495ccfef630dccf043eefdc14de252cca60757772552949ecbe618a4f9281fe26732f34d15c450538f1c67146aeddefc5ca4fed820547c3fb23c69aa16c20e2e12f5a2d11461abbc721289bcce72c1eed7c8a4ca1f07ab9d87d90b7dfa221d0cd78fdf1d8fbe3ffdc5b845a68f928408474d2d9744f2d85cc0b4dea8d2d90eea4ed68aa4af522fbd7015d9d983eaf8a02320a466d84d81831dd3e1ecae61ebbdfa0daf0485a78d269653ca76d7bbfe388ccfbd620046ca232c422bd5047bbe499fa252982434efa3f59ba3086ce4d2d420d1ffa71b3ea6b12b658b9d700adc0d925f12eac75200302406ef1612c7e0533e2f4ed10a8fbc2a01c0772bcaf038b035265a02129b7a0c89af0ffb199881ff12bea32cacde2a653d170302167a5de0964ae07eb487ca9ca4221dd3639977831fa402f30546a667143499d566b60af63c783140ebbacb1bd8b0ee9fde0517a9a5f83b25ac64e6f209bdbac0c06bc45ebc5e0dc306612a32b7db100a8c9a178a87cd5567ae5e9d8c4b91504348152947687fa4d18ac625f4e91aa665d4a8c583b9e916806d986d3af6bcf9911283820ae6a36b77a27fc5075a8f78cea19139261bf7766327ec74fd089332d3d8187a09228fdce7fac46b3b665faf49df35fc5bd8c65a18805a02dda9bb8331f4d6d013fd7a0c0cab944b0854c413732fd0cbd8390a258f527303113fc6ee19a4744992a8a3af4c5eddeb7c72fa4b8d0ac326df11e41a3267e21a1883d4530a4f17e76d890989fa4249b8fbc3440d2f253be81b7d46589e88a8b685679949f0bcb6c134211cd1a36d494de631b671020c90875fba913d791991e2ffc8e6e74643ae9de8cb967ed731e4cf595bbe53a4d3d9ca0181bd6c57f38f19dd3f181f362d62ae48a6ca6e43a877e89af7f517b9ef78541e311b2a887cdf3355a5d684534ecf3283ae72af97724b52847d631ddf3624bbf827f67a17c048bffb950391cbd46e355cbfe45170a44f6f0ff4eac3dc65d6d0b8d7f2a4a94731cf1f8631336d1cd224c69c5d5446a69082c04ea615f2656d694f5337bf3647410b895db52eb63f8db6a1e398329cfd86fa7822c21cb20bbc28dfa118fac222f9d8dc17c00670fc17ef9fa72dfc85ac8ec8a35e05faa456b0a57aae9e7586c102118f252240db852ab1a5fc113975805cfabcb5a807fd8bf38e28dcd96b64bff630a5a7162ebc3e8ca757a094927faf21d257938ec571e54f29899ddf07e6f0ee07bc45c57fb1d60de9d455e7c142c287303b948a0c6c73bea05652acbe0e0c0bbbb9c5ff7eacfe29a866e37b80b51bd2bf085937dc4598314bdaa0c09e2f4bca33a3070cb7bf2f9af5be9dcd2e10678e38b80e2b04e2ab32763e4c515a597e8d4756096fff57038218a39e68cef6c33135d4f15ca539a06d6331420c1c99692de668eef190bdc5a63e23bedddae9e7e4228d531c702d669fcdf3aad18867011b5af01e6b3abbd0f16995de0ed464f316dc714cbfb009983be6c8b631559eca9075c54377ff6f391dc1bd7d34c386a82a5d713557f25dbfdaf44097b008f1e9a423865826d4b63510f6851618cd9259f28e706a2a977fbe167486075b829e16de7ce6141178b139dcf89a3374ed84324f70fcf89fb15e63154bfd5fd3abf55e359aedb6908ceec1314bd21cb78b77b1c4d6d6fdb62fd153454c89de79dfacfdfa76b4d65172007e30ee226acc622e2784b83397a84e40c5cf89d68808cbe7c514372ba775c9b9ff072c07be44b98649c4604de4702fc69448f8b351da847ef42ee40eb7353ef911eb3b2f677c5ce600b8a4ba0588ad2a7788c9ed618092a22dc4210650f0c8c56647e1791e80bfc9f9159971e331cf60dabb08d7ed0c97d26c600dcde641bdce4faf6253720c020225a25297de2468433c8886e97380891766955144054ed2c0e9aa01422eaf6c92e516ec5769757f18aad025b744b9f0a2446a5de90e9732cad8282671b24883420c3a33f22f57e70e7b43b8347ee57bdee11f4b042b5ac13d6d4260cc9e4be9b4419c86d41e8fa24eea3bd184e2bf50a5b4094c533483231a1ad5e71706a902712ec130cd102ba064bb1b44fbe5c1fb7113a53c46b4499be40162d4873b73b43fbf90a8d0fafb2ffc9f843b7657a4b0b8e2c6a3bc20bdd6bc4b882691ba8e399250a57b403c958dc4a94f00fb5e1bab778e79f7b019f2be438921c1cbaa849d8d8512265f06966655e7e4d382e26c906517b2a6884b259436bb097ee9fc06c8fedb8fad84bd3e22c9abe15a2bcc9cf62981aec40e26d2dcc64d5c900817dc79f5f9715a13064664c62de0f4e7a4b3eaa15149fdb8b65bdd53eb39ac8a6d536c2819a201f52362319e51f6aab44e6b0e07c8b1d734dd011e98c391e5e4e16368147b72a934dcbb4c3f733bc5f68b7c3ff1ae1d0d517c8693713b644c2abb84cdc1e335b2ebc47bddc503601080114ff0a8cc98e80c65904b94fe01c8ecb4b5cd984a524a8bb894edbfa3526d88b7e79ae7f7b2bc7a5c9ffbeb3fa6e401f6fdf5f8c85ac6e8525091add5d2d5907535eebbcd276a2a4461fbdb2bbac9114336a01e471d4b95377832c7b19144ead0f35f9f00ce604c26d5c551fe251662c0573b79d09291e4f2a1c3f9bebb4d25b101c8dded0b3eb7ca5d3892d83fbf1d41a95a1bde603c37d103be8de08666997ad0a1f85a0eb799437f65b0d79326e0d80b0160d729a49aafde2ceb71923082c246e84b6a3847d73c098ff6221a6c972e4b9a359530786c655a9d1a7aa2b5a761bb9d6b88e0d20613c6cfbe19dc96ea1900b592e2dccb27a27293b2422734eebf1a5ff2b349a9841a81f7ea762252022fb4c335bef695f901618fd2b355d3388311f462914f5796f9dc7e85da39753285cd50dbccab238c0ebcc44dd68d8c85b01622d8de790d4ccdeba5a89f0cf08d979315313b2ba1831a60a8de4b52f9f360ef4ac99d784979ecdc0470539f5704f1338c7a92ae0f17c302284aa69fed98d63981848a8702e4beb78567e3c6cee18004c4fa72b3171fb98f5410f6836a708ae8f408fde35b871d911e88458d5e486537573bb74f35d1520bb6bf1a8d1e2f286f3ffdcb714805ef4d44f97a662631206214cd4e0e3c93ff74578e1d44b88ad4d745a30caf8559b6e98e7f22c65b9cc7873f16ee2a7f2929a30729aa2136f96bf3d840296741f3ba843a260a1fe6b31e08c59bd9381786610bd541e9775703d5a8686c84d0d637289daf4e85860a42231f72457b2500e99455f878fe8e827ad2432408fc8869013dd339ed5e2a85295151fc641f085d09309a36fe1c5e6ef2b0d5789e37fa6e99269bea9b91291dc54071a8c3b7661661993d2abfcf385202627e9223deb421aea4d6cc01092d983fdb797c923f2f847ba88a4ce881ec31c39c89016cff0761f3a8d82a749c52bff53bc811a4a5272ae17ac180105e13eea26ca1fdf1666946932f01b3f32513a45e5592be35c777f18ab295f39c7edfcab011dcab7f138edbc772316494efb48b0fc474a59a2ba8d507269e639dd947d51661591b59dc015ecf578b072de1c63d13dfd2a8ab5e51f3d3894648a5672698448f7e298cd9326af0ce053ec660fcc15ceb274d41c9ce8b4d8a03240eb1322b1ed5eeea26e596993b5b27f1d3498388220ea3917dda2f852a4e3a9fb1cf1f19fb51c81f0f512951ead8c87d6f8e0d226afda3394edb0d1c5f170186cd4255f2c16080056acb9ff12b43a30f2c7f7357a2d5cfa0282443eb1be345518bb19c4da7e18825d4e0b454297b1a3ed2e4de4182664d078c4e781cbfc202b8ed3d31ea63563c5b782bf1532e2eeab14fa6b850be81667b49aabb","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
