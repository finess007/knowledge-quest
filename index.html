<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e76843306bf0b88760bb9af3d7f4ff5ff3b4ccf0b5eba9c4e1d14cac9debddd0aaf60e2ee84ed840fe3b9e4ba57916c229ead8af7ef8132b3bed5ff63c773226fd49164c7f18c28bd0e414d1d2ee5cb8795d66fa7b7044a187fefec1dac91aa800112e1b6079825bc8c5cc9d1e51383b98a8fd6c4fd8b89a9fae3c424883fb95b694cb03252496a93ecfc1341d6029732d0d9fe981ec6448b62313169273cb4911d059f675936efd18db0d5f4a6a50d1abd274340ae4426cc4b854e165ee0d506897033fad9845d8a6b4054475080bc4e9e3497f9c65f89f00bac684c26ca2d22a81400741f933c7ed244b5afd8aeeff22aa1e25321de0d0109492f83997615ed4f17b2e5b026b47458600c38fc6477b96d4919f343af3590727d30c3f940ee00c2272a1f9cf91afee5fb40eb3a75d160a4189d6599ca73f237752184c63789533ac5bdecb7480a1984a554ec27b40f34fe1023e7ec1c2f2c5fdb857b6e6652e257ee3b09d93675ee914968d23f99a40ea78c5098586ae39d6007f349f27d5500082f9bc06d63942bac4f1c864166a26a7c8347640a1af1c13bcb34637cd57c00ab4389b5be90ad7c8ad9c04bed27e07c166d9dc922571cc5d10993c835aa8071bbf9cd595f847c6b9d7ece986746abf081be9a7af0aa64be6e1ff9ea5057c6e3ade17ec4191ccb591cab74c46e5d4a9d7ad2f07f261e97b8b9a326ce305c9dec486eca674da69092b57125294dcf7bd715e81894d24bd895bcd17145d61f691e4692d788c0e64bd9bebec3190bef2437feabfefee6d21ccc79bdaf1ec2f924fcc1a50ad7b1638bd8315ac36c225803c620494d28c2ae9e38851855e947aa1cc9accadb71e98f631e8eee6f4ed784d89a462a7f1cada77b15e7f377ffed05c5f21c96954637c30c9f1cd423caf3e6d1cb6753bb8b3f8f23f8f4c6d9fc14dd4c1f7151fef8681bf7d72fe5d344ed926f546803e2137a5fef4f60b29c8ea99c0774858b241f15aac542b5604c9efe4dbefb11b537a1baee9b6008d40c7dbe2e32084de9c874daae9042b3e6296379ffff172058b55a529ca5540c952dc1d68a678374dbe041aec01fae8174d68773f683577bf5719f9280d043436576280bfa8ccff7995936b519fa38a970060bbacc03f357c42ab3d89a1f4b41883a2b4465283f0c5b9a91f021918ce97669bdb92b2fb66db3ded6f5dea5984cad1d67eea4eb52ea40b2f0a86c8562444e89724632a8c2de84434193b8bd9eb59ac3e9f9b216a7186d82e8ce767b133067e83c63296510ba0b05f0f0e4acc55fcf7dfc9b291f9d3287e9ca57428e5155a505326e6f2c05b62dce44caf4eba4abc12d4fd7baf1abda870353b1db43284f6c8385c65ffd9194d01423566ad44ec083761866e3906131f123746deeb56599e5d794f8dba100de8ca2888ec26bf762e18c401045b972fdb5398863fcaeee47c7717f816a8a7999ce508c6b091693f9c3965de03f7611874231368dd1225a75750c5ea06ce4eb4719714497a0711fc9df1b01552bf559990dfee3e9bd5655bc84c84bed4fd6bbd1c59632a8e90ae777878dcccab3e1f461efee4eedf9a1c23194843beb83436a04e98fbe2b401d15e018fd9dd366cad92b1bd8cc74446c17492c8c8a4847d9f3efe384f62fc3a8cfbfbe0ca99f6b66c5ee5755dd72a5191583d0f35159d9d7c285647a0c6dbe54c5b9ec6903e8adf69e081f1ce89bc9251e7eb54efa52699666785e93a28baaecf7d88cbb597915c4e1510ac59c1726f4c47bbd809cad27020145db457ac601f56df37aceab743cb1b21fbe680f991c7ee7e1bdc7d254fb22498bf241ca534580b94c2da398eb137105cb68a1955c79154c1bd3bf3d6d7804269654d4942dadeb0d0e613b006a450aff06d20a58142d5881aa73fb2a482ba18de33911cd2a7b758e56ba7c555bbb454d98216872477516a08d5a6339cc13bd9efa6a2534a80a611303bd63c323bce9c40deb050326a2f31934305efeb3c4b863398ae51ca1d9a6c36071d5d4943168291efc7e99a9526677eba8e5cfec8cccb017beff6bfa3ba14268fdf70a05997f855777c000c0b9e4880ba76d4141cb8c15f3762ad55190943a1fe188e695be29379ae44554910dea0cc085a0291c542cf55ee0ad466a53653fd9cd3efb79ce1297729d6f888d0b092ac4a583802e4a0bba89d0f546c354a14d9e259c6ef67b546673990651986aae9acfa20afadd47b94ca9c11908b7664f45830ebeeb6aa2ebd437b4f87d4a8d322762be6fbcf2682fecdcb822f9faf26738c3a2d41f4fa5b106d85a8cf7b6ee3dff1620a5237b10568a308ea3a94bc6c42891064c1a5d29a57979f0f0daaf83302fd168c725c2a1bc160a9fb1dfd6e25d96f07eddbf85a40f97097411794023e8578600fea7973dc87877b9a25882e46d2b407046665791564f5b0d34bc4e146e31d01ec70e323e6cf046022c1dd713d40eb82017eb07d86c7da235a7db2f4dabf34bee8b1914501cd3745a37b8a174177018caa7e67c5e2aa77e9f7d73779c348b075a44b3889497a25f6bad886edd5a5ab2316a1baef8888e0bac87ddff870b6acb465f5c724c2f182796e4abaec2193d830f7e244e737db3398d8a59c503e0db350cb39273ec927edbdfbce5009671662fad41d10a02e6d16c29b520788d01ec3d2d013ff478b74671d8a8a494df2e644f87e3d85eb1b3f1a90cd21553b4a5da2964174341771b3266f41c3eed99aa4460e300e5e7748b79d000e590ce2472dd4550fa2f7e36ef430a4a1b05531245bee5528c099304135f3b1df01553c6ea1c29f76c1adefeab898c83d5bf1ad4e58c7c19e74c24f352d7ae57d6b5cd2f261c678c67f26e9fdef9efc028298fdee8d5f89887ecf6cc9e556bf83d53971969c1838d8880cfb470f7c228472ce0d28091c4f15409814245fc2e645b80ad710ef789e35426e17d0c236e6fef90e3c81f41ead4e00c4bc5626b877068f0ca08e1fcf9384bff806939d86821a9797a93b6f4b0c16700c5f023bf3d488020252edda78b3fdf26588b00bdf7f200624899f0add14fb153bc81b767c22fcc618c83ab00ce8b13b48c783e45525b829241b3a819acec4bf0db60b0574cb40921f2891ea8a154a35e984b8e78d929e378b1ab03023bb0fdf0dfc391de827824e14c035ae8e01a93bb93b0b0932375fd65188928ea16d24d88306dddb19bd4d068010df15199dd45e4d3700a8e353acb08fadfc6cf37aa8049476a0342de764fed454f68cdbf77c830b2d14ab584703e82264f8b6c5c394dfacf6a10c5c9d990e7f67fa1486f1c04be240357c91bea2ffd260f8fce6f980ddafc50f060fc127d73cd5a7083acc0097f3a6b2c370ddbd3c7889f0aa163e86d7fdc635bbd25d52bbc36010c14014175a8d6ebd5624e750458491ffe79e2d7b3c1400841596970f43b78da0476e4f79438c0a5a3e48080d675dafec8c5611b97218e72e1bbf4ab2477910a62fabe3e52dd30a564d35b6c7d488117c4292d62c1157efccfc62c68645b9abeffac18bb9b06c13d3a2569be45fc326d5205e6b79db98c0e6fe9410ebce708654e4d60999720a20e0bf203efaeb0361ca7fc6fb8bb18ceb1801e41a7770bc46e53e0f334acd456402c0fb87157e32d4372f87978addcf37c2aa25ed5b4ea94831c9d0781718446be83bee7476da915373f9f1fabdb80c567de720a2ef45b495ee7fdf4e1af89c32dfc7d5f5f228751d01460bffe2168ffddbfcb9a138ae988a3cb3d8e87cd87d89e5285b1731079b0c78340e6baecd80dbd6b50940901e624bb56ae23fbf2333e2f6dda154dc0922bb1c02e0a35dd32026dd34801afbd3af48b7149f6044f607dbc051390a026efce081667c7f5f9613dc8e3010df7345d5d0ac0897364ffeb4bdfe7be0e8d9cf4b58857eaebf50f8b1baa2891bb6ff0683d6f32d55407f987956481ad97a52a44bc0f3da365268fc691ce965f46020c61575371e9c50fb6e9b878b8e311caafe64c1751088aa1fc97652e0ca9af8fd113b6c1499a7a5d4569d5e76b5dd274acbee8aba9b1f4a01c4c91c5dcefcbf7a862f57d869495e16cad58b6a9ae359c912680d4805ddc1e4d83c5598431d8ec91ff2d481c55784ee6bec068ea9b919689e8025ef80e16ed73d0ac3993496491e1c5199f718b2402c8f3018ff734604047ffaaa06cb83b949867ee7fdfa86672324516209dfbee9b6c652ca1f3816120276cde16cb4fa7a88418f14c0df9ef3b34a5d0a421d5e863f20adbac2d083e6e6efc7ef0d6d010668f3128933060b1df376f0ecfe5715429dc7a8669f87a38e23a4698e94c0611c5b5cba26043ad909e5318a6948e7923b4eb53abe0847aea101d5cc6ebebf0825da35a319610c33b3f061f865135fd7fa6bc0f06a595ccc7f4e65c2cb792323c685bcd3c97aa67e465acb2b0be0fcfb1fa43af48e335e6f6d1ed1c760c1c5a455ad41500cc0710959617585d43426671f9b8387e38aaa14b831b53718fdaa34fa791b66e478aeec6a71fec2eb77a5518c61f185d671b61560b49094c893408d0613d406fc67c0e2329de1a022383076a5fcc2473c77bb073f53efd27e278fa9a3af6ef032c848417d302e4ff6a3d6523a252223491c42f44a62a1e3981880c15cb75c9f1dac436102ea50e5bf266a459c73b28d5f1a7754443fddeb7eb6f2816bec8d55284cf93e2ab5a26166dc4d26c49d320eb5b82143726fba3696ad9c5ba0ae395c59211f16c3043c8abee4e8d81afaa3bee3fad9fec9694aa532389b716c399733cdda14bbdab8ff6a5a8c2fa070d287d01f7415f683125f87ffa64befa9016b48edec2af647c3f9360c65f78c3951a648e22f58e6e572b5e5303d280e9db64c6f85b640e3c478a45efd8e64247c1b1e4981ac6d86dec24e9b37b02618facec4b7cad917a76f226c468a034546206aa792bbd55de77a0b3ff71ff731f6acdb7a5229cdd4e04b4c6af7bf5a3ac5efb1ad9a6d9e6e141e16ce8f5bffb0624c9e37db423d19216d256e8cdfa9d7b086b9574b7c46195640a30225673f4d83254b70be31f05a2ca3a4dcbee30adc9a0fc8e58d46f6ff3eff3fb9e907031f32712bcf91d6563a11b5f7dd8dda6deffcc59bc36d60caf7729d70800435e6d85e28823243909be6dae4e33619bc850d129080f9d3e1ee5bbbc4618e93a9479af18082edf6482474a525e03845b3165fe5ce420b4177ff1a75ae28e7b1beede6f743d67c5bc96f264ae6861f657da4d93657d57324dad15e2f6d74bf759b1c9316c67749251e5ac4a6402dbd8793458d26cf5b8c989512080f979d4628ad8589a02b150dec93f24a45424086dc993970f1de126a66ca0a3af123cc657299665c58c8ce608a8c3f4645f1cbcfbf0434cbcbb4fa73940cf489faaa31189d13fc9988b32feb64b134e3ae6b54ba38da8f93150e7d444c508d24dcd786c6adcdda18327d3abf2e28a52f9c0b84f4b4ec3aaa9ac42d2a8141ab10e51decd8975410ff9adba437a2806b9e2daa72e9d974204438936f2c2c94a6f0cd5092c15bace42c08687098481f44c3d14a0e2f22660fb0140b286168077d6c05573072398bce7ba8a75443ec0c7a5b965303546c365bddf79052d0d1872f7c3dd5ff6958c62b5e80d25fff0dbe60c4fe823a18e634bd61b5c9a535a4762e99635c78a81aee1069cb034eb35fbda65040e9e5376d6e5313204b07515f738f7f999b248c2ecf246ca86069a20274f6f6852ed7c49d61ab5bdc75a53fdd82bdb89ec1b99aaf692d680226ec2cec6681d006621a481c066da48878b07b1479929d4cf1336125f5d41330d95ad8ca7bb0bea706c6eae3cca5c9cba4d946d31142963da1f0974cf10d7f1cbdb3eaacb42af3fa4a6214a3ff0d7e8e4a855b54c9f63f7357f227408a7ee29ac95546d1d15ccb26605599040e2668a60969b65735ee303366f467e4b61248f4e33b828818e9625eb979b41871d6e75f057818060ad4df45137d4f9a6dd7659397a726ead568fde0d319e5f87a8bab82fa10ca225671815d24b33ef7a5f7d8f92edb8632bc0c5ffb1dd3b4f50d5dda8c84a630e94f0ed7cc8e6b852c739993b03161a3510fdd63d37bb1fdc53e5f049a591d06c3ec5d95cb462973f683a2ecc58c3ef08051bb2a7dfc3acf51497f0eb60d892e997233cb003673a066c746bc98b986ee6da3927fa9d63ba0fcc1e398660c82c79418f84af53f2265b2de453917f34fb9f78511d412dc508f3a15cf76803576e94a0e408d518b91a0212e95b4d05113da440eb1278f26e9cace53aae328a4d8eb71fcf26027dbc84765d4b515500805c82fdb4432c67f450ce91b2bbec6cc61998487c0e2e99734941782a2547a32596ddd0e835fb4b32cc3d511a95c3b1a6d1ef9180d328670aa1bd9181a84ae27acb9235c2464077376bcb3ccd8c231fc8aed10d4501de12d826e806fdb01280f52202c878f8a6e0539a4b13d6ed968586b5871e0e577ed98a9c6e00ee0d2839cc085087cab32c4fba4d13f9118f75d562ac841233bde384d60213c61848df1d11090f5e06d7f6c1a7867fe3ef48e5d29bb82d6c88389abc10fee264269dbdd2e4aadc95192245c42158ee4dcac63233ca6eec7e184cf0c6a3b2372d5eea11aa5264a4fe20fb0212ef9a75dd30308ae931f5508e2661c25b23840555ffbebe348e59f6c5fe8c8fd967fc6f46c9a7d8d28f69753bc6a756e06bce48f16380342e9f20192f98f399b1589cb4a93dee9c9a2586b1c59674ead5904dd2e621e9fc58e3c7bef780c0dc32c4325c7f6fd7fc9f0c4235b0967bc9c139329d7ae151a3a17c25c26e9535b7e8e6187d1cd12986986da2949037a2fa7e4b9d8e060fb464f1ba3eee552c6596379cfcef0c3bdbe86e56d80065ec612787e06c2a6b57ce03d040f1f65191597a49adbdb07c81319e6a5c2bfd331160cc524f29531b10462d903baa2d67ee9bd12140a0838459c499dec907b559b67686a509b8a992990a5c03e772eabb736ed53aca1650dfbba3d7ac828dea928fe0d77e08d1241023d32ac406ba99088702a74347a6ac1d4ce7dc30622a1f18a99f9b3772c534f9e37ab7ae5fc811de74bec54c8fbcc81059676ae61a5119aeddfc92b7de8f54816307bf0bdd2265fab0823c72a0f57c611efa77119d7b8f556b43dfafc847a6fc855775f535662bb658ca29b2975d51ece4bcfd8798aa146e06c2ec835c4cad90439be5fd526db9e5cfea1e3c6116ff82a625e53662461febbe3bb03962f216ab07d3a306e6fa69ad7fe1c3fc0f459533d924910cdc9cde04f4da3de2eaec46e262545aa82734c2cf735c68b7c925e217ad75bbcddff9cf5c72a812443cfa1310a88e41af14b2f329771dd07b1dacef6f0689157396090e347ba550675bfd96aeccc07517d212a733dd1a500aa80d116530331ddf76ef62a50cb7ca68adea26fa99d83fd8a7ea6737e0687476bfc63cb6b2510f2aec744886014c046739abeb3e3e0b6222e80fbfcebc28e2be5f1042d82ec90ce7a95d8b4ad3935aae3f59cf7ed4c07f39fdaae112d1edd51d8314a144a9f46aa99e6125bca8595723e85539a2ce399277d2ef170488082fc1a75cfd2ae9e85ff28b47fb33cbd5fed9b07661b97212253b3e2f34eb6b0e2adcd12896f864ce2038ebd8debd84e6efd399b5818a62b66e38ef254bb3f7021098ba331fe174c51b4000dd01579d1759179d4ec382cea75a7972c6dcdcfef1292c378d463136413364304ec5eda08665fa87e1decd96a445a04cb0e1ca355effcae8c3d40b3f688734016b488cd07b377ef23f46086ed0e8b385d0414668de2c9ccc680eeb3e2d373b5e07b605e5b04b4ebeb203310c67ca1147ec6b7cecbf66e785f3767ffc923ec6d949fb3ce44470b4634dc53a28e5f07a1ee7874ef566bcedf0beb78d16f0e3bb65b538cb3d9f6ea68a561db92e11376ad79e89767f17b9725038b1fc40a6ceeb0351563df95e22f4e88d2080719094490c1cd3294f78f712de8f512e0501eb0e877d8187b35a4b99dc101406af2cb5569f98ce61d142f9e626143ef222ca71ff7cbebc72a0471c8782a0a32bc9ccfafa3c178adc14e5c2bc88b7bdda118a3907865eb81522ce85a1e63e3d0f93740d9df24d0ea178e36424bdfe12f201ff6d19b05ca5824e280bf662537645d5de689ddfc1f42a1d868906db1e60a4a89374a816f84ae4224d784e4703e055802f04a50c76376ec5a5b5829b65648e3fed05560ff4fc955d970c7408f4fc36165c297e33a35c6e4e4992e80306ebfb6f7bd5a3c7b193b3c18670430b6c3b002ad3e87d62e808978eea3e4a7e09fe268384f586e17792d2df264d1e3d1daac04343df32dd71d6b588ff8f73dbd5f58259c377ad8994520d2b6c4823220b13fabfad4e1381fa20266704930a76856c16dfe46f91baacda4b2c72f1e962ebe6950129d66335a94595c4b6d6c89c4cbbadbf07adaeec99716d3ee72d7e35ef88c216d617082e8bfeb18e651cce82fdc0dd8b0666d75a1245cae0b46284a05facf6b61677b162abaeb43197f7b9f63acc0733a6a85869bcb42ab5959ab90c5564f308e7d8fd149f3fe0fa210410c989c4d160c9900e31747c0c405e43aaaf113e59756df9d6b149f737fdc2d4317ae5aea794d61e37b6be3e9b7744dbfa31e59a2697c847bb73231442cfd81a1b36f0c2b7e571d235f88194ac1f85169c24a238026a8e254ee237529e186251632aee22a858ed5063e4e36a4b82575ac0093d24a6958eef18fa94b82b8339c1cc0dad8b193c98871b9b923f13f040f81bfa7e5737db238e6dc8e1cddc111ac3ed849b00a336ffab2935488bb7752bb973cb87b896d402e2c2746c813b5d392479f8968bc1b83f3dc97e63668fa3bb5f27eb2daca3c555d048e84d3f50221ba1ad950ae831f1f822ea80f6909e6f02e9f603257fb4d6aff7071283c14b9fc71d2b5f21479142e77f95725331238555f11030b3b02f5c85d221a5bebd6a1dfc6ec084719689f2a21707e9fe3b648aa1b609db08f44189e02624b95acc2d542baac2803d0cf388a5a667b5865dc660cad4a98dd03fc96ea4886117fe3230d0d3d8e6ecd8d47bee49f4066e4337fe2df45e16299e8963b10ae7f69ab5708a1cca1786b44ca3d149e757ed8806c9fe02f851ec77c9580fa269b4e30977453632fd2789ad08d0c3fbf66065b85965ded5a3180479681607cdeddda65bf5ed4a2247db9e709f6d323d6e19c8bcabc8f60ce28f07b0e0ab85d721a470aaa784b15018e64933726161644aee4309e427b6d2d86218da1756e9a3b1f21967cf41c568ad09fd7dc8d9ec4731da24d94947fae6e75b9c8cfe8c402a409e203e3d23b250df1076d80da4a508adb060d58163de97dcf72b41abbb40a7a902dec3e11e78edeb8a508f08d6861101cbbfc3b09401fb10ac1b321d419464336f5d5c8accd422ed3deee484c3e5ca2363e39d944cbeea79bd5548e659f4317cdc138acedd9ecba11001dfeeac322567fb7af981b40f9bef0c41f95e82a5cf99ac3f27bdbc2b7ed601b2491a43f9c8e5cc164007e1f90ba557277c6661212de27fb13c141d52a349795b336848c516ff220c71ae8dd69800258a4ef43bedb16531e26a06c1b43f7ef275ca63791df769189d2cc6efb441b75056b354ef8b29386836a2caaaacbe1d500bd4512a3cc88f8c2e860d45348e414ab543c53a80b1200962c572033d36ec29ebc7edee8be44c240d1c5becdecd347e03ca4eb806bdead7c1bdf4849ad411ffdfdc33613d29806f29286e7bba9d83265e83536a1d81a16358e60020cc50208d49ac669e56cba49484af97db802e703574b41ae8e3b2cbf7d35172329489f0cf09877dd51dc8f2efecbcf87fba5149272f703ab4e867d59860c2a19dad50d500902c7f9df6668dd0868c3679bbac5aa7ee74c8d4d4fcc8cb2d9b9f51a9a7e8f4b10096a67a6d1b60c75c4f9da42a7905e08f239b7cd2437ad031b9c221310ffa5b467ad3eb75b1d87dfbc82c51d1586b56a28a31a81eaa05e56c78ac4345e314d088e3c894b786da81824717e4b7497120eaf2fa6579b653dfff9e3e38b5c43a7de70d1923860695ede41aa9e57a607b6a5110634c29387dd0807167097480a52a997ab223099b6633c7b5d1f4f23b3297fac46cf808541f9f07f7f5cc2de75e960884a5eb86763768d3ac52715e34112869153bfd03643f94043c60c95058343250e4453ee2048ae87c4226cf0ab4a1d0f6df9a9b96b33b87e73146fe0e47834ff5565f809332bdd1c7e3b52419ada5f61bc81ec0a1dc2983824c8e6b27d35a9bbecd1ca3c324954cab9e385b42b363851c1bb5e8b1d337d6312547f178767962213898e6fe3f045fbb64d52c60bade32662e7eb8660f180435c1900c94a0f9bec44be69f3c08f65875667eaf0faaaddc916b511eaaeeb209f9506dec00b00dc1730915ccdd2a2bc4ccf10418644d8aea96eacc64d34f1b4ca0b21869b57ad7e94f4783f5714cf3eeeedf80c3ea0fdfbe050599444239e533ab6d1dae23b9ec11939f737b92ad5fe91e41a965c234cf1760436842115ac584d2556478a7cc31615ce30bbbe9c134587a04c542498694c30bd92cd8b8ec89f3364eba909ecd1044eab867a048a6a837ed82fbb81c758a834b3e37563c2e56449ec2a43e45427db6f5c623a2e093627825659eac074a49de07e691de5e6682ed32b16adb421f1c9558284d2ee54d18587c758c5aaa4a4278a2b10f3f5ae0348747d5bf00f30f1ea8dd0b6c877e2e63007873c86af8fa0c6c695ac55c1122e1c8e89602406194c4a8937fa532649f546115ced229959c9d65a2ac11e5aa6bcc9daab818e5c26f1eebc4a8b0edf1180b7f972355e7bf4c9d751c95f78ce076744e6bd90cc300a1cb504f0e5797c417a0ad68258faec59c33f144e9ced58961e181e9d41eb051487b24db2f3c4254c2c9bcb03e90b9969ef07123a8f0cbbd2dc4841217c5249c9c61947945055c7298e9e36ae38a07c3af70c4ac17ff718cf4832a4e163e40ffc7516e04e93e7528121b47f6148c3264a5fa852bf8da7207c7fd1859bf1ada765608247026023eec085207b9ddeb78f3905e6725754147eab4f4a5f334cd623bcc4a1b91dec6ecffd0912cf4747e2e6e9040368e82289d7602972268f4b0c71010bedfdf11cfead8347a84a9a3cbf38ae97c3778ece4b613f742f900a965877c2d1449f1e5fdeefed87c9e95f9f3cec48095cb9ac5ad8b1a7dbcb2c71ebdd04d8def8a7a8569dc8570d36a8dcaf6f45b088aa8e70b1330fba3f261f3f562064222b302ac1ec3ca2d349596ec8c7e5287362e9d53d66fe3582de6c142d157aaedf24a5aac234bca014636ac9dc28fb641269f7a7af30d8716df8c333c2f4693b1c6b467507c769a600ad50b7a32161aa8705f905154f2dc1df5135c1067829a83454071c264d0b815ab12ce839c6bb468f2ac29bfd86b815be02e0655fe42928f8d98e0c0af7f2986dfd75ac50924478fe2edc746b4aea36ab74bfb4f3e5b027ced4342f7523685bf901e8b7886600f05f63b1c856f739379f911c9441240dd4d5605ffb66d88d45481f3f771e05732e7f9eaae616e49071b5d6ab5fe7c438a8e5b3dd3a41de77f3eb271c02fbfab734de6d03011bfeaf492a7bf5f1b8a88c8740a03518f321096dd6116c4298301cf8214d8e92d2bb2cd7773c35dd5f4cb7d27217ce18f3c294ee7dbac552c8be96492fcc2cbeae9c2690b9f753dc2676b00bbfb9c35c2d01bf9c7bed1ed02d5ccc5e024afcd447e059df02ca8331e842a940d5546033fba59c4ef8c1a584688b5a0e8abcd7642afd0fe260c29809ced8a408ae7d21c772138c6b63d0715dc1c06e7bb55f75e3951396a90002dd36a4bc859fa8321a21bf01c11e18da4a98a3403553a83a13216c2c07913c04b743773397fd97af5c95f51596c09ebb09e53cc75c823ff63bac572ee03f99cbb1936f8208eb278aa4ec5e789a3b4368747c61be9805fbaf2f3a3270b40f2cbec57f1a362919804cdc9f87cb3a3de895de9e9fbb567741eb39dafb2244db702dd85433c562e202940fdb0471fbc7694f2631d9e933ec2d86b4949a5ae5234f4a25a92e8a0ba07d15319698ef34dc8b6cc73494679be463bc53c4bea0ec866812276a53e88a95d43497cd36a5e5faaac8d243dd8cb8e411422d827d21479210e63470c5b60c63d6cdc4295ae0ee2f72f05b24bb74289000d3fb2de6a82b2f3a603908bf47ccd3d80c8d5230949d2b98000e157320c59ab1bb86e34932528e145e898b4ecf4518628dfe43aff66675b123dfa4737dbb3bb08d137a29b6449d94008e8e138d7cff36aafbce7c5a8e61d84d014fea189422c8fa6580830532b7e89fe677cc16ae9cf83dfa11ac6dfd2b1a79a3ed4509745d74bc13996d8e688f33b425a28de9b119fa32e6c30a5685603214f791fb4a1fcb0d2a321585e0cbb398ab705bde0a691811ec22316daf4baf302adfa98272b0a7ae145f9e8e9da3559b2e80349d0b389906aae7c039074e59fd3087807ff3330b5fb1f0416c8a0af8c34a492d4335b2f7250c451e776515e44bad34cf6e50cf92760eeca262fe94a979bb3542ee47f2b34d9af2883cb72dc354e660e2151de82fc07f2ae9720e6c72986e5b280e57e57cf3a9d898fb471d53f62d49c20e863064735ca728663e8b07ac19776824d814f18409e890f74729b11c8612eac7d4e0ef51f1f72b768b5b9d72688ba8fdb795159a9fa3b4461d70772fa9476daab8c29b88c190300c9a55162da3a75f4778982ad3c64a4c5822dd68baae62093464732dcf51e94797d7c22e85ff36ac916bcd7e0e13b3a55307aaf79aac8e859a0ccb9c7cf23569ea9e8d872c6216da3e1cda1593aa09fc7234b3c82271914a74ddce7016373cdbc344ab217e236a3dddce138a0b859352e3e84e07442e13090e984f06ddf8d353afe1238bbc45846dd53504d594bbb86623f8856afabad0a8a02e37d11a55e100ceae630a12344ba3f39e4639cf89a231d0f09b96834823440dbc572563c45e46fbe2d01a3189223abbc2a3a02af6e0d369c389c552ca9ab547ebd10cc80db4b3753bb3a83f63a4fd75284c6109bfb28066e0a8649ed07405d621e3f54f738cb41a295cae6d55a0f85bd14acea5325830162257372b0c392d3b9fdc8e12611eae67cdcfd16f9c64f19b705fd8ca696db9e87d02b2624e720aa1e97cee3bb5821c0b45b7ed267a9fc609afbd88c9c23e993cc137a037b2e36159e8c62838f0feb0ff19735139c989b4bc074f7c9682624303b4c6d5b1f55c5a6634ae3ba37a3d5d42d6d1d15ac6b1d948d4ddab3af3bccfdfc6421606392d712396fda58c7eaf9b3448c34c6cdac5203f8c373ab36230adeb7a66375327a5c869661bc91475e2750c060ecf365be53c31053979e2ec332fbbb120204b5774fc8fbdff84ad832ebcbd8606d639ce68a11885e1f4b6d6c5d71d71a596625c1d8c181e854334562819955681a9867702a871c7b8aaa1512a58d1a6a2594c8020b83e095e5c7f7dfe0c7d7b3f52a3de194259a4bacc558fc87cd679a15eeda656a41cf1566f8587d333657f13f67268536db807f26809e654eda93590a21a83cd0782339c5450cd7f0f70cde176632a6a33af87dddc10672d42814e5113e0baddf205074637bbd79370e82cda6c578031f7329304b5f78e32399992537497fd57d001500362af3cc7b40f857abae7ac10bdb6598ca4835c9942fef1a09ba027653916f950df4eb25ec994984afd04bea57a1918f45ecb27a1b655fffd552fe96cfba373e34cd83b96b788b3a057eb99aedd2b9bfae282337635e142315d34152d53718ca55ef372670396cd4161082ab76970d567e2930bcd8793fa2e3c05dc6c7be7481f1fcf08ee74286b233ef461faae78116df9f1e6325df70e14d714c353cf3fafde923ee5cced22f76b190214c5b789d8fa85b90fe8829c5efc31e71195cd9ad4601b4df55681085a45d8fadc5a71a8b0ec2e82bcb0e60cf54b8f8ffab01e1d93e7cf1472496b34cac6ece52611741828fb08440971e3616e4a4597da10b6f8c18f10a8769b11fbe8d24e1f0038be11775087d508f2735d595b9f9724aaaedc0bb94e5756aa5d111526035484f6483765d7414cdea6aa4da6ac743cc1814708d34c66cd71b7fd57687283571e21707e3533f3f07252c8b06f8e468fe7f9bd998b3d030b8c9055597bb0828c2f3fe478413382ade52bf8441e78669d33a463713293ea25a1e2c7206ed0b43152cc58118bf835148ff15992413c9f0f083a742581d1b894f397090e5774cf97d5e77e93e302ba0b58f185097a5aa6d7cfb0a1d6853e3bc2f179d14f67549b1df5395d91ded7ee469f20cd06bf738eaf5938b31bcb19baaac6859fcaec75546b908d2a86d5aaf681fd9334dd213ff99e1f2af63b6eae002baec14327276ac2bc8f0d430bac91b9ec9b02aad5822f6f7a5fcf2f6b52479661449b9fc74bd85aaf9cf99bc3bba311848b8c2f1e4e014aca2e07685fd34bc37490ef7a338c0bd80be2e887bd3a3aa360f1c582c36f5373782a4af3348bc364fd073004a3df4b5ad6330ac222973361b6995b5834205554292b004b1e88733761d5e24cf5d1cdc080f37a349f49c6b31e05daab7e8223f9648134ab355d696fe85e050199f22525135ecec433eeeb42d43e83d756c8fa48fda228b828895a61ec3c3a5b2e07e53e7a4bb0377056ee685ca12c528d3022afc1e1a8b893665b48d8b7b1e6b93e992d5e76d62b0fb06444b5e486c7941e572cbf0559c7bdd954877180d2c548bf1fa3e57ecf251ef68a1ebc067a47cc323fbe521706c27eb320cc2dfc45cc2c9c5818a6d6afee686a0de3bc68035c50d8922b1b3a5634203f1526e825db1767d42532e005f6f731ab14da3dfffb379c4ccf1c2993874c904db90bc66c0b3eec5088a19bd8479404563b25d5e3c1dc07ce7e681df6b5fc69b7b9dc76e9b8b743128eadbff07d38de29b341990aa92bcc22d849a0198cb1f05ced465216c203b3efc80f82e4e9022e396d1e452c6f9db1d8f1647305c0564979cf1eab4a2cc3ff28224156b2a31aa8c937a1b40741e9843d1d0cb2902499fa4e5f98c221343d1c5ee4bc06153ffd3aab0bc05d7b0864144f420930791c55ff176d6c4acc1b0b7c50cacf701b5b42dfea15e4088f49896b39ba1c103e291e1566b5ae1074ece4c3589fd7b851d3528060cedfbd52b048a678c380937af24ae26686c2eaaa91daea2bb5880ea8d0a4f936fcce6c5fcf826d559f5f312c23178f0b4d75d763de3199d7df71b2c8a82b525ec627dba1106b7c6e78fd105d3d6663da749bdd19db9b9e1a41952dc9a052c4146f13cae4b4cf6cde02762261033365cedbf9bd5dfb7187a618ab35466b2fe0104d14265b8c79cd963d9545d0c37e4633e47fde55db81e3aaa831c2ae6b7af970e4ad7c6a012910620e13477e92cb9f3840ac1ecab8df41d1cad9333de7d52d46f411c6ee350a4a76d6aaaf4e6480b070ab2ab9479f37d96ddab0c7df7fab63e9787310b6fa422cc4fd93f009871e8d204c1754d1b1d6391b0af94dec051e227357bbf47bab8b84595490dec8ca836a7c7d97a756252d178ab2f2fa4068294c03e84c5a281ba49fd8b24eb7a5c369eb699723d320d563fc18dd649b4e26a21ee55c9bc17e1f02c29a48ed6869c23613cd25de916ea8d51eb590c849679d1f9a4797ed4a09d81f0ff051f4606678ea9f7ec7f9cd0b16723a031aa39560ebd9b2c29dd153a0468253062c8abc86a7145cf4d3fdafbc63d8ca5cf7fd8317f0e415320e3a47a4f3c09aaa8c5612be98635465221415a2f79779855cd2c3efbb8aa767f629f94013cb7c796c7a8acc7647922f8f3dba2164d59e44c20e8033bb556c622e27486b311c50a70fb61c9f12fa19a1b745c5455b692fe990cf84a3647b98074a4ed68b54ae6e4008ac744db60c17529cfe6316f4e8b6c790bb22258ab34f42c69b99dfe55a4086ce3dcb048e8e7e3037f7626c4e0ca0a7f2eb0fe68bb6fea7391c5ae78b162947b95afd00bb6d57ed6ea7bb45778a9fb24dbcf9d512f1c7b8cf0eff5a5a2df298df20ccd2bd4a4d7bea2f00572286e72252d1c8c047fce8673e147b4d098b12ce1e4fa1919c1e2e02c0f30d94c4fbf08fa365bfae5927e0416b1249bf65ad46e9bf8b4f5dd21b12cbec3fc1294d21a13d2a24627a5b1b62fbe1501b520c868e04a265a7194c8715c30ecbc7886328c0bdee100295788988aae8c6a47a1d74b0dbaedd47170e23924fc4690ea0f667d63c72c45874dea1b490e24bd7ea94d983f1edba2048ce1c4c187a18950f4367399614d4a30cf144594de0490bc3834c3d992f7272ce2a3d78e5a4b557c2c027a907a76f4eb3a7a82f9ff82f7d085fb10c4146879693372408a0cfef1cd1b4aaf25f931db4bc44297f0db8e89b1643a0af05821cbcfdc1794a27a65973a8693169021e12b2f453924c3607d27e38533f29c6b3de6813b0fbf8c773d897daac031531712fabdf45cb4f1f6903ef0fc9cb38112298cca3f03195c55be020165ede78dbdbc4f1cd63729f44c9795185f048e32a10eb88a92a2f78631db745d05467948e213fd7f7139f74e935ec0bbcdfe0c3d4ff1b6d96ba608d44a355c65eb8f6c310802ccf8a96c187da22afffa2d44cc6e713608679f373cb6239879ea6f5fff6110c15d61f917343b500fa8a5ddf60ceaa0ec52aac9043ea3480faf1e2399b51330d66f3b1b1198c04692f858b01b7d2eab6ad9a6f061c365e68cf17a0bcb21bf6f96617dbe1010edc50b71594dba1b919f696f41a394ee43f18f972a61b78547e742978ee0054f7df54d54131d15544a3cb6a7a983572015323a83fdde66aacee0b44a77ec260fffcd4c6ac69a2add9afa18dfe7d28212779785f306d123a725ef570b43accd3b6345319cbed9a43dfc0cf37934e8abf7b7cb8f9a09b925aa165264519f8706523c0c4ff67e7742df2bf9ba75e86f958f74857bb287700246e61ca4e22690234bedcb3d5db6a37383601c190f28140b5fb31a2f933bfd9cd6d41fead2819ee6fb210a9ad79815ff65b3239097e4007752630108ef222bd705fb560c0de192a3c9df552f20454212257d19d14c468ae08233eeeed2c3d03c6ee6b07fa125e174e6257c652e0ab5e44f0107b61b650e9fbe38ac3a2bf3b4a63d67884c5bc4c86e13eac2cbb95661c5b35fade832cacaf7c3d367c3e9a3a7ac3d4b411c88135f60a5eb4ab51667a45c41a8a11d6494c1752fc248f8fbe4acf6688b5acba0a28cbcb87c0ffb198d1e3aae9618a358ca346fe8331f6719a21c9edc9b713ac4b412169290ca3df390a1d608258ef8cc29ff688cea7c12f132811582570b5c4bcd61b61f5e6771859ec7e1cc00b1af1f5fee046119c1c02c849d505a34fa62d8114c9c9654bea7e71176698854db0c4397db8c432890d1c8e19e7f7934d20a3f77c2d368ac40a01b390ce3f6fad23c3a2637dfe97f9b5e529c7adc48b8a044787321cec773498cfa616415655536d25c49877844e98e8dcd998c42896a0f071f02d9c61c3f430afe476a4dd1496f63eea443ce9f4299366470bc71ff8f1948dc2496747384fd108a05ab4991f582c45bc74941414131dfb7b16173809bccab813b86a8e0d949990b0aa159836ecf711dd42a2d5e60e2846c00d802445ceb65fba56517ec999dc7b43f4cf332efd612a09fd0aca23f03f60713f2a4bc37a8daf49f02beed19f6dca4e07fd5a57e0f99af2ff611ea0676f4179314516b50cd37fa0639a70aacd95b098d25c113b9d0df5880f376f59a10c7da9f6831ab44fcf3a227ba2894bba578252ec3e60724da4481d16602343b5ec5be5184fe3edc211791ac2084334e1081210442f2c21afd5e5f8847760edc84cb4cc038e6f27a81b0ddd59cae0cd643c8b18d0c340281d89e2548c8a0311afa8fb8156edcc95b852e4b696ee6166ab2ac86fe1e101e061c8b39dfd135a132866ac6f67b4594dcade8e9cd51e4be8e344c683eaf4ca4ee450276a553b7f4c4034b3d71a23f80dc36576cec4570daf62e9c4296213eed7e69b4a8c1327da38fa9ed5a1e66e7d81156579e72468ea6a503bc479d2156fa30e3780919e0f128997fb45505b421834dcbd1e624c618404c9c55fabe643032e2662b58956163b717866b180b526305ed122cf2e8d9a41fb3912da35aa9216a0ffe33d560e567885036f3f31f0124a3422910f9f176eac9e6de7a3ca39e85ba85664c2bf823292e7a83626bb6d60b9fa1c7f807031d045fd8ddf641102bca4dedb048eafd6b3ac9325915de62f0bb9dc2699e422b2217a325f4825730a83037b5bbb043e424b310020fe8941c74c698cf8bcac1f39f089536ddad5d7ffc1b9ab3cc6e98f49757a5cfa03210d434a5a22a59089abbc36d096f9d4cfe102f12fec43da926b22dcb93c11f0fe63a9fe21e749d4ca46d2fd60531c94e7cafadb3442e086ce3ab2a6752f24994a90572985be57f25523bdca9d33a687d85938502f58b46afa97a7778527f41fc0ce8749da50e73bb4aa3c9a3557b1aac21c7bfb272f32fe92556df8dee9864ee5850fa663aaba1874cdf54765e36ab0722a68eaf7907ad8f0e88920e754202abc3dfe5ba3605c0b1b6d76c93440d2ff2de42accd98b6f2535670cb1cff05a163806498203c27a13d84a5775ec1c249a4e664326286d5c2820b9d84fa0f314d51d82fec9dc6a73f025671d1f39ea7f6498c8c9ea9620b40792968684f25d1917256219f98177dcde8c20b52c3efb759c8bb436b988d97c836a9a9710772bade5dec934e8e86169082eb67ac363429017b6279d8bce3279ae34c63d4c9f19545312c6054cb19893daade3146194baaefb174ab05efa7d12223356e62a5abda18e0d995e43cb3af3c9cc7ac7215307beb9ac40b33d16d0eedd0b68e747767be272006fafdb7a3d4fcf0888b65150f18b5813cc42b9dd394d9156062a41ba197d2ff7e8b1b2de49fb7eda1c79f66bc04322f06184715edbb24d5590805a6ade643ff7e7f870570898e258efc9d801157a02adf6b757d15365f655aef8071785686718ddb0ea0c8130fc2605dee074ec06e469f0c99b105bf2c0a3b0044be974363744de15a55d2504ba0b1aab2ac5b79fb1990c9744fbec4bdc88b2524b7bfc51c0be4f93a05ec0a5904a67b47bcd7c3f2a7c17dd31288eeec85a0ad3e84d6da6726d07aa09a27763c251864e80d6440300cf358b688eba1aefac771a18ae7a0b266c1d79909611f99f574ae3caa1ade3007ada2d1c068e2b4ad1d3fea088510c00081c52c4d875b4022b52e9544c014d7eb14cee98ac5b1c87843876a1696495dd958f5457472c9dafd2bafd23ad1529fcfd1ea42efddf6addcc1c51e739371db03209a3804a7b82e01aced2ab86523bd313cf7e269367af5530ea18df752b198ffe62f48e8e300eb226f18d25f9f9af45d35386d79cb6e791adda5f8f4ba3b52ba60b14113ab5246b3f4009f28b1c6c5a9927b03a369d4cd58717d1b41e962d34e2bdd313436f4c9c404dd7b8339be93d097a5dfa14d09dceebdca767fd51e133b8928905ae4bcffd00ef44467a514f59558f060e7c77bdbb96e78477c5670d529ff38206fae8b969d2d2d7cabb36f27e9b71c027d18b9ce8c5430d7f0c918b73a95ae9e21fd0237eb551d006f9b2c2b7dcd2830dfa175c3f2e19ef45dfbe51d13e3bc60cb2491d3e360eaea7a37a8ca9936060707df8adc48a40cc0599ef0bb070d2ad98357fe620255a9b9b0f30be795ae4b7842420850c963630b487877f2ef823f2098bc468b7c64409f1d72151ad56256ed70b96f7c90086c3c8bbd316ec537aa34336736d332303996f408d67720b008b8df13404dc8582954ce37eada6e879e9a4a84f8f182ebca4a5852707486a9e6f09886fbfdb33d83004d40d1643ad0810012c0c02451f5fa91544f4db8c9d6a609b67c9eec3d26f7e8862fb0a26b1768efd46b9c22400d0d6c04a2105b8f2443e6e6358cf48c0e8c80a1751df0f47a26891e6ab045b780ee9edb43902f0f897000bcdf5a7682742d2fdcb450cc3906cd98d7092b13f542da514e77ab375bafd7153826948581dc33dfb7fab94cbcf66d7f9ac1a15af2d3a5867223b2ff3465637b5d0dbe7186bb1d3d34f9a16cca64f620c7b808fc2dfdc970c88f13b1bcf3cdc27153f4b84758ed1e345edce90b46233a1778c72eb144188817f700dca35a039927801a75e2e9e68c215c2ef59cb453199b0a554e69bd9bee82b2502333611846ad73570ea883fc80abcd0a06ce670e343f62a4f20f785af1383cc06e56a45cdaceae7282b47334c2233ffe74bdcb9d47c9894782737079f9c30bfd24b32d3af471b2fce90e3db7f9c44edd2fb8e2c7e3bc5f17221d5ede8f4ead9cf0a45e3a727e4b09a0ee30666626b5ff2679d086bcbd529d490031a817843e3fd331d17e82acb0fec499ffd92c650c8a366af178c3e70ac642be780f7569bb91241b2d692dd5cbb1ffc7408e051e9fd634115f8047ba74818713d60e86d76de57fae08338668c2ea067b7629dc2b4089ee61ceefdb19e5ef8c7f6d35041efbdf2a2f0c78f48dc1d2f46fb63848791f97f0cbd250e94f5654ba0b1aa495b2e457d95832c6f2dcea35e141fdc9c9248add470eec358e534d4dc683dc5f3e449060b54f8b2348ed779c98f00ceea78e827ae3686d3753c7d938168c0b9a3cd50964f33f6492fd87d9ba67f7e5f0166c1679254d3b9f175cf8f533cb9c4b07eb528b3b937a3ebfee8de1a5098efaefd5120383c93e00e0f5f1bee11a7a0b166b175a1efbd5fd4f18b47c756f319069761fc9b3a7c6740b8b38bc665781eb52dccc6b8e7350c9e21eda165b129ee7225e95a80ba39ffd3f541f439d5331864a23b962bfbcff5df769b576d8d5af64687023ea3071eb374c8e595666098dea1aac80e2492da97ed99cf612c76a8f68cd87e4dd7dbc9bbbfbf95b26419aff367e6db586d475366b7e62b2562bdeeed988b7342ce7fe4ce542137c6c25f4c56bb6cc666ca5c418ec29632aa32467a7f8193dc442ddcf2a1561e7f570b7a0ec394044430e6b0f984bc332e1497bd9a4b7f4b0b044918b3b9845f3e26f0717c0a80884164cf6c714cf98701a385286a034bb9f937ce54c5575bbc8c9a8609362da9a13c2aff94ad8615f2bbf7334c2f71f5fe72e1ec713b108bad0e805c169f354e7cde90cbb4331af3","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
