<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"884f48066b9306381591f000c82e89cce7c5998ec0a33ba27a97696cd20598e1431bcc30b9374f58607d45fd886b81d7d14d0e9a118db3eac21cf7e2f0f9081a7780a80cdfdfd6cac5c9a68c351018728c0fde7ff4d4385ae624a93767f60da0f5489e82ea6c5a61a70b00bada8c5b29720e5a9f7e851a8c1d3af92fadae72a27fccb5e318b55ed83cf1a63fed1fbddd5c77fe46578fa83decf2794999f0e525adc6ce33c4ffd5f336dc8b41b6bb2eabd256923ac11f6e79d481dab6423245940be88dc8da05b705aac6979387e002f3b636e1178ae82ddf5335819a62f10436bca8a58c67e3291b1306ecbcbbc0de3a2d5154d10ff844f7213dac11be48fe650a1a8dc38a4b0db238945121a135e818fd0c21754d93bea8453ec66ab7256b8f3913c436e2d84eadcf2ea11f57fcddd7d81b483b0ff587a81454969d8bb484231f72c3b9528e88f73e67b94ef25460bf8f2e753ffd37302598f52ca796c1c89a0dfb65e542b33e2599d88bf8142982b9b323a567fd79a44f7b8041c5054447cde7e3851946b3a272b5df649984232cb7e256169ebe42254da2ae4a1ec3fc3188ed7171997abee827643aaab64e12c2ecbfdedeaab42f47b600eca570e701551243a824a7125e7dc0b7f5acb4e314d54ef919c90f62ca6c4585695058d1c0fa6707f35327b92ac2d4da71aa45d4714161009ba20504bd8d3c30e72ad6bbb09cf230e59bcfc73fa2c8c7d20aaf1012bb14a03f222dc838dc132698e980e9723ebe1f0bdcea61e6d793cc449dd6b32cece1627cfd33f21736f4754e49b234b6b84ea1cc5b4e21c06645e8ea2fee18d09ad37ade1bc035d7dd44eef99ace53f61ea0f962ce05a80bc1d52708b2c6805a8de53876d218e8e819d59cd99062fa3a16af8fa023a6e6697cdc5817efcad5f15b6988a1ab9ceea55509f288952718e240446067a02a1c1d0296cb23cdee2bfb3c3bf20fdc3edd6195f6a9756e74c7d5a23337f33b6593f9b2a7f4d101eaeb20e23952c944631b64b0580f6e4e8adc0307cd20933ac931d76fbd7acbf3ffedb688ecc1fe8a42e21a7e9b991856f684704aa23f7618a468b48892548188a221b2d10604ca4cb549f06b5ae68bff678922f47dc1576b17e0dc266c533fa02b6c3d719e2eccf906382df587652cf3c80b087df4da5d58bd66fadbdc9cba7f660801a3e9fb08acfb730c6684564e34bfa904225f5aa14b64f01fe9e881a333ace6e6977f11ad59ea132d2a3a190ce47acbbe0b9796aca0c6cc83687ed9e2cb33644bb7b1c285d1fb103ccae6b81ca34f52f8ad0bab9465ff48cc997725326ba8ebddcf8f0174de1f4c291aad4cd7591e0b49a33f1bfbc1ae688005ecd8dc6a083424eecc7b1955fcb5fe7364d11cbdb4ad11ea58462d2ce9019db53bc566a33ac43d00bb270ced5b5ce57a87d41e7efc3d5d29c76d72293b4ce9cf15c60f4aebb0874d4f5685fe4854b001bb3cfe489a6f299ae2bffcd265d41fc339aa2ee27f7e4a9a26bddf832e7ace3783d60344ba971c2bcab0109452d7196674c4a94edcbe5abc9c85e8668594ee7713429491a46c57173ba101fdf27ceeaaf5c01da2f3a8329109171661eac2c6e6c1cb0cfe8ae2f4c996e57ae38d1d99fbd301323f516d9ce7b0466f2f41fae7e2375ca2e5ef8139ae84a7625ec94a3c23122e3c3043e8f3240ac52f105c6f98f690bc5cf99c2f6fbf126a9e274e7d120a46a88d0bac25f34a4d68589aa1e23726006862bf148f3a44a697a7094664eb0161f448daa69535b0780f1c9759c85a61f9f9a1bb5f67df4c06e1cfd048ad2b2ef9a4a3955a739f2f87a685e201772dcc42dabe934e6979e75113e3fa8bcd1b8cb7fafe13e49026dce58ca6b92e73f9db193a8b9b597df210ff59d102504a72f2ad8a98530b9de86b74c7be0465904ad61b1a4d54209c667fd3e15a9e3350b5c37d4b48d54b802ef8bcaf1e4d0e431cd4c6abbbc3b9647a9ee1c33bc0893f4d9edbea487b90dbaffcc860adb103e24dd8c42b5ee5d219a9168ab75414c97cd9c9955a30b7c9478fb727be2328ffd5eb1c3df20a47b5c918972354d77ab8de6ea0b35b4118e6230f1a7cab585bd63a24b9ea969e7529e8c70901113f11d827ea12a54b264774174e19977855a90d5c495cab41c0beee93f031aa9bbfcecac47f62ea10bec9a0d4811976afa472b0f18a2c619710c8675a31b31e49ac8da2bd89d2a3eaab4b80c55cf4f2555bc101e698886419533ab5f6131630cbb3014cd6e6b00ed43accb7b4f174fac4e8db36b6b3857f7365bee98da3adba482bf6d227a7572d96cf229c8b74e86f44c4be7408b3b3f19113a6c010c4787c4384e07d5060d576bdc1182539b3ab36986f7008f33c2f0be7485f394240c5240e9b4c50811f77d1ce4b30bd68640b1fc29cc23b115fe173ef48f277e840a77846893695e67eb732907c098b74d70138ad6eed7f65e5dd9c6dd9f779fe2839dd971b9291a20042a2523291d416f78ff574447006103c9a5bdd9a8ec92621dc49b7cc0cff8de3779cee3cbd8e91583e0ee88c8f6cc43693d5bf3a7123f20337a8afca39b1ae375747b02a9d049a1b62c7a40d3f3ef314b1423401c6bf39e3446dc2c034eefe693cee20c04d9250f1c2bdf89583eda9fa593bd97d06f4410bd6cbdc835037ab7ad0d26472d70679af859e848a9dc519de6c1eccb6cbd098346ff6932bae9cdbf704ff5ff6d26888f8c9095a5fe059f2a6a13bd5ebd88a9b38946f0e8a63b0e1dfa21176cb25c73c035f725ba2f7c8a883f7ac9ec2863be88f816cbe6fb46a77098edad61c70db51d70363dd9e31e6b8675d22a4dfad06e04a473354c0c700b95defa56d520c076ae759f88c68cc63571ec942a8342bd7cd0d41b3f70788d30139169eda4b24112735886cb360c425bd7ba0a45fea540b42ef9503964c3179732b09e89ecd9948d0899df23ae82351fce91729d21c621aa38f74b361d9d5ce19edbe6c1ba68e62f16f43a68ad2b1102dc4982549a7f376492caa567d528da81bb06b57d9962dbd05f5d70bc4211b104cdc098e4e704f1cf8b1ac5de2f82726cad614b1c36ccd2d4b823cd375ab37f5973f1a8cfa3f4f5493961d4e4a7aff3b9f054524fab4f9df29bb50ae655ca5a863e89e40ee935665716739db56ac989de1d6fe1c13734245673555592c35d812a54be9ef62729490b150fc496a503d129d08ae8aa868d911aeb6b9acb4e39598b88007dc221f2f3c1030b964d54bf2af74ad7915ef9261c5fba1790cba9bb570049492b906d4ac79aa7102da166ec1fec1ba92d2ded5679321fa7d96ce084980eb5e45abbbc51f5762ce2068b93bc90857e623ac94d5c05a316d4f609d56e5a79dae6c7d73b1a1d9a669aeeba6e81aa90045d42b0d6fb5dece334e198fe4656d1f5828d6ee6aa808e19d9c731307062ddf0482d9510ebf2660ac2ea9fccb65e0c9709f4c68bf93d8e303d3fd416be6b301517815d850ee5451b06cf0a20f3a4ab0f98bae2f9a283211d617ed78523bb02b87eeedddb75c333133f9865a5252350cd2f0f098cdc36026fbb702719237eb9d9aaefe8be624545ab8cad3ac89d184807fc5bbb5d71e9c6235282b25ac5ad5955687dbb672c28925ef359af05a59a3630541db061c6db9f9b81d353942b826791dd411bf87bd247c6d93faa4c0e49b307a9c25a34831e6468813efaf14a7b1e86648a417017775be394e30240a417796f2e7d12ee293dacbefe07daede08b22d3f91817cf6635141dc8b24450ba139c1fa4edc9af5b4fe29d5e98ded8b3f6f22e8952ce8390c9a664557f87fe69c6d3a885a3f18d83f81a354f75d42d6081802522d6c743bf0c7b6d28acc6c5b6ab37febd4a8d7100acf33702267bf8f27c42f554cdb51ea85b3a6006a9642fe7fd18587fa63a1966986aaad15cdbb1f8486290869b5ad25d6a743b47e5378c42b984b684be4b2cd26baa33c458d6b883dbee608154c89cb7a261e335071ffd560fc966e0cae4b632a6dcb95e696cb1347850c53e340ea9cdf806302608dafb69f76a03f8ee7c71429ac4f27e96dc8b7053f3b5d484d75d2e1ea2474124e7f23a55f9a15bc1a18e94c1377aac4e07ef1fe01306a04348c27b3377ff02835bc5806ac3d227fa8a615d0ff49b990287d89f95df3dba8b0a87857c7e133920a6a54dc371e4568885e11124b1826f5534ccbb13bb265e52967ef565c40ce455f17e0703ac0e2ef1b838ada9b0933280d082daf6450955e905b486dd074d79d7b8b633912b4f8b9ec681e06cc261f667b7c8224a5deef93920f0c75d9e680f43c4c9328a886908f536ba429857282d4000545e127b4123915d0b8d4f00ccf212453480a98606ff620e576a63473d08d4ad7df8cff686274c3f4ded085e8934222345378d5f7675785004c002a925242d6de10f2d08f9465ef3de7746b83e6b6aabcba4a622458f65f072dafddca5a6812737faf99588b33bd4e97df0d8d34b5474d99adea7781dcf0eb4fa03ec1016cadaf49a4529d176dcb4ba412999c6b495bae5ced77b40fc5f7b10bdf2a26d7c8e47901caad738b4cddc57087e9311b368a9c77cbfd7a4480c3fc3c4df2a77a7f2365e4ecfda94d69e4db04aaf4a40b38bf5ffad0beaa3d162aac43d5350656ef52a2d01af27cae0ce03565ac4e873dc671cd3926616290b3cdef2d8e1edaebe35104d6b973eaecfa50829025cdf59bf7c12858a65055144921cc0bc8b98b21ae86486ae5df316a5228fab166c0a8467f606755806104c526dff45211b091884a5c1bd15dd02c05a3572fc35ac28975dd5009ae47d6058b3ace3f7c624f9f4a600dab9d7a05943af62af6c109118d8d471a4fe50b9b6ed92fab686eaacd9edafe57a70d4d876d8d1afad4a331f40007ea304edee6b7029e418791b1ec28c634f8650b2350d98e9bd0ba164fedb0c725701ca6c7aa5da0bf2c5ed90d993e24c6a82b3fa722967e2ca95e4f2072ad5656327b9af525b468a44c5b0dd0eede519ff08cba000d7bec0ab3cb03c8f36c6d6acbd5ba1157695a6f850fb3f539484b14b89f7184a108ebe5a2414cd62cb09eb62735626f06b041b6deac8f9b63fb309222f0bb82174140c2f6b24c8c26c5c65de83a30d3110a4091d8b65f5b5269d489fe5bee59527e09727fd787a691ee8648f75f4fb928dcfa447641c3a96f075551b88b4e6f089cf68f1726879798ff3a9b1bbbe6e33c8c59b423386205c07793d05c4a3b28c766ee16892954302d597d9e2ff74daf4b94324f2cccdbf547f1b1af442dae34018ada41d6d44bcd8be631dac2a0d42fc1ff6fa2bf04701ff91d5ba589d07146c65f75cc282dc5c61763c4383819a202e53996f2e205281f8e218de3f2cacd71dd4d31c2af5ad717132b4888b1ffa6a97a1d6dbef9d22937fe98e8fe6d0e18d859a5c4c18b29569855c00ae523e064760d1e4c6fcc72311a7610203682c3fa870e6ae8f5c8c5dcd132e2069103b0a5c695446d6c73241b05c4438136f67439fe8e27565c6ee505d752a2a86530dad565c365de6e1cb0ea968065b23cca0f0f815f017f248c03f0ee81c4e85a5d5d9db11d207e8817936ecccae2f6bfd4d6f146b9523c75687c67bdac6a3ea16b5758b73a5af6e59aece561eae1ebc670d6eb9cb9b38802bd6aac2c9398cd2caf6ae0089ef8d97ec7e9e041afc6d0a531f8c2b22cc1d9c21451cb061bd0cae22ad9e717dcac4bcc4dc9f6d57fea37c8966fcfe3fea59ef8c940062b187560d67cc4d73d0ac898921be524e5015768ced8da44efb267a28511095f8de23cbb5108a27e48d50f8d90f5f9a2a4c1b5e24f08e812356bd61fb530d18fa0c45d63c5f0b5dd7803a92cb176fa9d6cf0f30c9f73ae01fee88b264ae9450d7faf80b73551fc13d3c0508feb8e0f3e3ced699138fa694b03dd46a99647eceada1b443591963e7cc5ceb7e70782c2633e02424af5a930455ede917e9913e3941b954bde8d02d441d71f98ba6996b67bdbb3c1d84ec66f24a9e53cb8b968db75e13d5f5fefded6f06849484266c81878c83009c019d10998d0eb787587d7c4c5b1d4d26e98baea23a82d9b24d7b41a96ccbdb072992ec31f4c57ed4c43f5b7ecca58a9433d6eacbb9ba9a61d1f51eb6359cc4f69655fe4bae7eb206ab18d4a65d4c930aa10b68bb0a40c4100dee0930c3c6066ffe394511d40e70bf2be35cdeea891a54025b2c69c8dd1c92c2c0f5411a5f129ef9cd0ca0cb6f6f91ee4cf28da638cfa6a3910b238c38050f7900ceff3af11267575c7540f320d4ab5a1aa83fa8b5d9e2d2b8cfaea46e531b12617da913a75c3316b751e54dc9db2068fea6256a7210dcd820516fddce7f1c546fec8cc3dab71788d01796dbb965dbd7121455e689f9c87024916a25f3d50fd51fdb04e80c88e8283afc328095978be68f1eb89756b150becc80beb9bfdfa92ae6007545ee46af4b9e7db06f3e2dba7b5f98d0f7cea8af2b3dfedfea5804de27e53b32ac63fbf7325134d38f205615c19f4912835a2d339e43b1c810bcda1b9b0ad1d6dfd5756f6cc2df6e0cb3d8a38ce8edf3ecab1e8975a5ec7a7dde37a8895438845d0779216f43f85fc1c32fd076e85c9ca406baebee2657e2c4c8abff9675e8778a6a45c064aca909dc0417ad4f63c03d155de57f4076c46dacedf591d3fcd79b5e1451dbcb49e8f799d50998ca6d3d73b0dcc2d271e5543dd2e66254907614f30d53a8a3288436b034a80ff66c3d363c9313ae3cbd4ca2af0ba12f93e10a4dc886a4f91f67cfa96bdf7167ea3785a3569058f4bd61c68571de5a3ee9e67b22c73a283d94363841a9d79e8e3356ba39b91999a204553aea27b653e4263ca3ee31dee9ebd5f5f9b682c062bacb8129551cb60100b6eef20d87c4a07cffc11664cb206e2af7239c814cfbe627ca4d5e5ca777a07333c35b947690db8c26ee085cca55d034699bef8bfbb736e25c4eae1dde9a4499ad6f40e60b3e0c41d102ee37bb41dee6ca42ed6523a8c9cabce5e4460798a4c5b603470b38b154d82f1a54474b8e2ada72ccc5bcfaad0d1dbf28126e8b2a64feb145c1640316e0785ee52545780c8f2d3de7ced7db73721c8b35139740d3eb8219b995b79494ac70fc83b6b8056400782235aeafe6db2b622e8711fb7be6e20fec8b9d97e6ca2eca2b8faa05007c6977ec9e0b2ff8efebfe195723aed61b66a06f19ade9b1083bb11f74e58c2f7272834b9d9abf9a3ecae904cca68e8aff136289419525a3ae4b5e96267879201f2a856da1767e345d83c5401d46ffa6ce3d831e4d976cc09b52929037e5c6801b80dabbb5613f9d5a6f744dcd26bf9fa6c55d705d587722a9c2acba7d1df13609a8c22ba525e9e01d16d1a70a4c236783d88eac3f3d32f9c95646557eadbee2f63b5e671f6189351446e2b15f22425166a6956a0c731c110f50beb769faefd219514f2ecddc5bfbfe8a70eee37f0b97647b04effb44deb7ee99bea2f2894098f94bfc3807411111904dbad19676fa3abcb47ea22568f1f0aec3bdd3203d504a91e1d42c01f990ad11c80a8a87d3a7a7e9cd5d720b36e8808c7180b9de78836317a1976177eb80af598db06e3dbf08e5bde5cee35e7ad2433c6f034e9745fd7a3f843e2b5950cca4b5eca1cb9541ea0272ddcf4f81fcbc5a9cbc7d9c4f6585aedb765c9f7023d2c2941de8a70efef0d6d76635a682d6bcbda64f0453a5f398f836ea408d8ec2a4f3b08f430640ed843ea808dcabf2505b3e08948a829040240e9ddc7ce49b6f0778773fdad5c4f7aeeb6d673592e3a09f9ab81a6cc1255d0e0047545312d0f767f63c3ceffffe6f95cbf2c13cd7c86bba6868946ac956624f7ca81c192da3b43fee2f2dde8180ea151b21b73ead15a1e9aecb0112afe64ae99253854bcd3d0f00816316c26c4717a814f686f7e3aa277be81a3f76e76f89c6a7b6f6deacb40ebdf39848bdac173b1095c319ec44f1569d3b54cc84602cb1c8d58622dd4159f4fc21b0e9ec197b54d41a98022b0a28d5c04af016086e98372d9970cd283527f67d26889de89325f76c83759752b94d866a1c7f8e7eef362cd36362841478eff7a5a6e69c5c3b064136e0a0b93fd64e25731671d178b35593f85fd7401d64167a4ea6cd4400e02d91501bd1a396b047a8bc1ca9563f8458f5b86c857bfb376298a8c4533b1d8f272acde8d7237d6d498b2ff9b72bf59795b73627076598380bbffa61674982d8d58baeb45741ab397c1ce8c66e2aad432f43b3f32faed18db37fd32d690ea61b8d63c9768382d7062e1dacec3d80feca3fd29faf0c0e50d86777453d393441e065ecb0209a12a5a055294faea3e393eeb0212bfc4ae95ff4b09563557002d1db570afa94e2e8e4a23acd5dd3d35643da37d3f1b2928174eed66a8801944db2ac5624334011e758f9c8e58d70a4ec87884bf8de4245f667345e294fa95bdfcd6a46436b7aa65270c6e94b0dc6b8963542062fd44d02baf9b21c5767747b511aa307653f83be1259d7d1d6c4a6f6670df4fa351ca72a33c2e43927477144b414805926781ff35c8d6bf0f24c7f3328446b497e6b467a41debc4d10db0df795d6d8ae091c9ceae86350eebdfa847730f8aae77181c93e11949fc998734e4314c0973cdb4753126e3c5d11421f50fd00f672e253875f274a3f0638d40db881eca0962f8e1a1329d0ff332b4817b8add87827186aefc0845ecd0d51dc02a1fbfbce211403ac34d9fa68a681be96704acb5799f99df0f6064fc4053005f156795bbfaa79ed76fa6b02c01e60ba30e65ea9745df8e1450ae9c818aa08697478b64cceebe28750bd3ac3c0ec203682d806dc1c8bbfb55151c18d82a53b2ed7caf9eef7d10b9eed39637b8b15c20daec92883c6c1ad612d0d1bfc5553ea93f471f7a8926da131482b5c8220ff8438fdebf6c18ffdfe38c0caa3232303aada59a040dfef1a39e7dfcdec7096fdfd41ca15460ab52fa41e8c03c4d73c5995491ae82baead6fbf5d0e92b130e2102e75a58865d435ea56b19ae32810586b403f0085d319b184618c96e358a5c1a4ff13cc960d6f6978ca4bd1b31f4152eb349190f33a71e6c231c7c9142367c7c531ef3f832921a70d8f45329cdf6dd3a6f1223772900fa993419f1dcdda22ca9c485ed434e8c76127770c145698d35292dfff9fb469c8f1196632c8a29d2546f56daac8631e5f1f720d772a8119f7ca27bcfc681d1869bf1effdc90f07af98dc1d9a89198af6d6707b6094d52b4e8d11df37cc0f53c24abf4221197fd312cecdd8ecea234a54173fec12351699265ae30aff32f110c2c399b218c29c04e2fb4a9a5afc255868a047152ed0f2e4fbbc43a4b2744fc13de52dd10484642c0bb31ea52427221bf984c32a20f846b1ad1ec381957aece5ee6658fc1b2aa76e6637eff77f9ff1df771ce6d31b32a4e5f1f9cefdc3c5c0412dfb223b4f00f7736a9d99a5d99c69fe7c8aa5b10139cdb19736ebe65131175db311f9f316c76d7d1aa624afe76d9f333c98c9bc7cf3c685202e2b0ce9f6dba0b7b7a75c408517a5cb06a0bc4e9919c26a04a031d4b1e0ba97fdecb74924562063bfe23174d11d06022d3012f161292c9e8a4cfc5274a6aab4a39d9cfa58a162027540a4a38dd67fa448aa7764643793694b9d0f1575163d4de9802355c552fe2edb94f4bf78e3dd3fa4016851ab0a4e559ff0d127597aadaacadb988aded69bac8a0517545e4c39d3ac4351ae53985cff58bd92e6dca15e232beaf035b4bd85a9db9bea32a4ac377b929847d27e9ddd3bd40aab2fb5662034d237b49ac46a22a759fc54c6a98f5ba6f1dfbeeb2758fc06cb26dccf680553e98a5cd76714de56605ec947d7e29b11975554c55af1a754d5e8f482bbcc462c005ed601eb0a2e555c36eae301d508dc2a0530787b0586e2663bceb5ccf5f4d86985e69bb2d4be1ba38396f2d302ba150388ddc33448d886d5af83993bafba1f19c3095bddbc2f815a3783cadc57a139b8fb49d06578099dfac48b4ca840bb6bc31f2aaf1cf8021d4ff2cca740375df3820d6097b85680ed9eb53c184fdb09856342b81d295394e59765ab08f1a84d31712654ded84ad518b9e6198c361f7df40eccbf918ce78d4a02553f35ec94775ae7cf0154654fccc3746b26c4dd6ad68ae5af3644bd9e2e56f36e54121af2859725e4df537e34ae815dda6efe1ee2cbb51366d3ba6ff4137a72d1250ad90f3c95758df3c13eb0b5b6f457ed0e6ae0d992f2bb7b0d1f3608b92a65280aea06681f445cb2f38a5df9bd099a90c230cd3c86279f91a53d6dbd3937ca313b22d8b67ff96d1408f62d80c59fbb57851f4ae360941b73c7a94cb99faadb3b405e6d3b8b2d87465e57b4e214972b1cab088ac2a094a11f39bcd134e3a49405380f10673d2624b3fedfda5338262c57c186100ab569cb75651eba6b551208b828d9ad137b625ebd5df178ac0e1136a119e6b65e91e35eeb6cccfd883dadb12d88171c2a0ee8cc2c9d8c2418203e02a3d75426e6f7bbefe9f4f6d07e66e8f90b2fff3ed99538e284803104708efe1e110812744bc34e0e977deda8c3e87d8d7829a1d92d7c8b473410f5108da9fd81676af04bd465dace8949ec77865a7a4dfe39326bbd6b67954924d2de7e7fda15e46bd3c769da712a0e8630f23675e36a88b8831dcf82839d3a71824e66fe1e093e3ecf2fcea2e6be58b2d2ce068642cee947a74fdd7b0cd24315f408959be2f5108950715d37d0e9a43ba5253964d72121d25a3635b9217f4b0e5dc95d10544e28487d05b995771cbb60a3b28e60f8426b847a0111b81b70d319eb7d57127f2db2b679a0fb7c2512ab468211a1b96ac4c7e8b98c27b4cd25caa7409b0b49d53c446cb97abc0448e1c0b7c2a48cc8d56c2dd7645f607816f43e61f677c9a2d9c3e6991719ac4fbc880face7c6d0f31fc245598ce403e8f7c2074be85e974d8194b4146b7b6ebeeb851af960d1f8d2c5cb59c4c85f7245f8793d41ec08f1c47f0fc510b75ddc354cb2e859a2cbe561c7e6fb075eee5be82d6458ef49ee8342351a805e076daa40df3711afe5d9dfaf2e4e5d26f7b1be838c3bede3d079b557f1b00559ddeb9c24085cfbd5db83b7d634593c2e96357bcc24e229f1c45bed460d8e1ffc9f55c1f2b588e4583a503e257f1f1570c5e8382bfdd373e88d97a63f519df7d51cbd00f37efb191daa027daf5f550b0927da450fa0b503422faabda1d65a92333c73e9be46d51be2a4c14900ecfc55c6a9cb59c7a4378073c137b23993248385899ecc321c58c389a2e027f160f5ec00f27ceec9e7669b1b8e0195a7a31b827642e0a5ab50e991726825419db7ab46dc21c38bd1edf970ceecb4c9ec8b729dd005978c1bb7e2871de4d9299d4b54b0e0669f6c540fc90cb4fc13994998c66b6234833505657a2baf781075d9a7400f66ace72c1b49f720e5cacf3b499c4811eb5b3d7630716b2169da37187ea5e7c936289f49c0762ca9777f625cf61e240fb7cf8d7811939ebd1da7004495d19ab2ff8276e0760c384dcfd16d147007bf9b38c525ef2bc98ac75a0ba9fcff96b289f652ab6a77669c9599716e18c3edd9630ef981715403518a4da454f4ebf1008ad168a6d69089f569440565937d60b3d0c1b988679ac1fadad2810681ed861e70496342a53217ea2e6452a6b80a64a8cabed9ce6a99ace167b7a9c405a0d3fa13321a56352d6b3afc186ca58e7244a66944c9579f7fe231b449337deda386ef8c361e454377c8573fdc6b17dba4ddc05daf4694c39cc2b252b66d847fc456e4894ecc9529d88858af663771105d019a441aebca05ba6d41a42d5cd4bd6a9fe04f93ef2a7689c720531c21e87ff6a82da12a844131d65d779a15655b8f22b6fd799b7583e4a83e50a6cd1bf86e529973d897adeac5e8d7766ed55051be76dc8f3f616ffcdba065bfc0b356c1ded8adfc10a966783e7c2bedb7f2e612d3dd2357d22d661ab1e859a45aeaad96def1102c2825266d43663b5890c0eb65fd12e53884062977201285027cf1542a66ac9b8da2c1728367fc6b1317def047fc664c6e4b680a5d8c7ea8099f45f6c78c5dce1f4c4b73a8a97daaa04cc91cb21320769a9dff27f0f6a9395f65bdab288b08404e3dbbbedf13cac10b73efb753cfb7a5de4d098a13ab695bc1be3faebd4ca51e83934444aec4806e889a9e0d428b286d7969050f448df51c494659f08616e7748ed1ae5975a2493c0888859ae5e14568083148338b7188194bc968f0ea3764e956dbb0a1099961426cf9ce1f205ce82ebd40ab6b41ec7b12a2b20f515a0f97728ec9149126a6e2c3ad1312d2fec0b0242f0bc3908ccd713b471d50747127fb85b5a5475c6ddcaa2891d50325267b9a35f6cfd41897c3f889615a961938ecd39fdb60b40b5018afac9aa1880df09c9fe5c7236aee92d2550313249daf783d50e379f294ba785856efed757073904e4da31b8e980c9b1a01d3d35182f6a83e5e8e4f8bb5623a2c1750e81c57e3df1e929e71e7543a0713a9a92ef6efeae0dbef97195bc624a0a3b09f5b910df5d190b25ae4b63ab69479b89957a8b6cdea4f286c5b9a92e99933a09b2b52b06e84dcee8acf6d1cbc10b82f28b70cb14f113d694569efe87518111706516f92354ce9b59e2cb64e896db64dd13ae71b4b9954b7087007321d0b768d734d8d63039bb4137ed4830d59f14d951f2c8ef24520a5677473a8a5d443ec05578e59f2b313091c6db1cbac118223ba88d285008db494ec4815604c3fba2d56e05f22762e7a0689562d73fc1ad8cb3136e9e84010048673e9c532cccab9a976f56c32e23ee98979fd32f31c74a1d9223216305eb00d266d52aa455cbf9125b919f2159054f3374f0a05290392788a8b67952186b58ddd51eb6fb5190e471f3ef07019e4c8320a668fc06ef633e32b151d19fc50b63a73eafa6054df64cdbcc6537e5354bbcd5a0a3dbcab17f73a6e90502d4a4a679b2335c8073aa11636ea21cbfa03ddee5e7e2e8bcc4f75fe15d34fccb6c1de8eb21c7dd1557d774f156604cb8cbb2b63ac8dc774a4ce1bc434f1d90472b38276321d9a315a459339a92343b6923c1347deddfa464e8661938f4815b9cfd02ed96ee01cbac10e40bbaf138a1cc19a8b851fbcfbf060f249b7d4a17af47ce6e5bf2f627709512da3635d85aa882722eef787f686197debd5a8b264d91048874ad6cb952dd29bbff8bba7e74a5c692c621ae54ed5ccc7c0e46060d31ea28636479f175f83f64c708cb278e8623da8199eeacdf0738e143e7476843251ab905933369b1231cd9ba8212bfc1f33de08dff7a10ac118fe49e87d1b21b15ea2fc27823cd554262bd2f371e9992965a0069af20ac87697b5f97952b2ba0d560d0c6fca3531c94c6a4dbb305cb55aeb8573346e0dfa0d6e0de61de98fdf59075a6a509ab166766ec2f665d51d81fa8aa0f91c23060a8f75b102648447bab5f4b49d55607b87152db059ac3102cca7da40ece64c677ecd3127132611680de315416c3e6c4f8bed6195b29959a4922ab4266cf3d8640fcaeeddb0dd5d00dda0d9dbb3c511169f9494cd3498573083168c186da0c9f772f7e3de0fd0e764a2f58b4890fd1a469c7035693fa523cbfb380ec0f7b76f598a5dcd712e075f0e7b3850595af5817b985e5d37621e6f630dbead83925231fef4236559ec1d33e8931013fd68c36f916c6f3a71b30ff1c0c68c500002fcc19e4ffeea1f313b7b3903b3873c58f1613554c70afd30bc3eb8f3e11c34d01e103eb921792744e8c38dbf3baeba94e44404d846dcd693ef258110b3f5ff4a2fa461fba578637a98d3f6badb76a4b75c81215413a7e6c70f27bf9a2d32712460f9de3e4d38d8d97501d4b55874bbab7e40d02df6059444ceab6645b2744ef94d360cb47a34c1bf021cd526ebdc1ead096b81219f2061005782547f44feb2f1a48c3a2fc095e6215137b044649b6a83017ed527b08b4ff44ef54697190b976c9a0b811057418b4d7ccc72774560ed7f1fa3d2a52fe56dcb0139628a107da23a4463b314e5f070c200b467ed2e9ae25c14450ecaa57bbc63eab1e834bcb17bc5fc5ab053f81814e9b84488def70f25de6547485c5c0638f9f04cc4216304ba6ae07f50fc6e9a3f616ec80a64db12e62adbc34c2bdd9d9b58284d334a8b68227c75cce711f128d87553d27d6c2f4bc507097a93b01f68cae001bc27f6c63145b6c372e24634c6b655fff2ae70ba0d41e2d98f214c76e6249394d3b178dadc91786b8a158e18457e746a8603e4e21fa140d5e22f769db5bf069e3b0de0104a7b11000d119ae3910436c85f148b1883585642ef0c51d5074b9866a65cb9a516ee79fe8ee34a80cee8f9f4692f9380dbcbb554a2ce632a9bb3a832a83b25c6d6b7efccba946132b3492d2b23fe2cb1deae70590049d5f4abd0a816a0f84a339981e7a6a3fe3e3062168fd0e176e0e66017eb454619b087667780f466b6dde2ed06144444eb4348943061c0ca27383d912b745f00d61bb9e5b31795b31cfd9e803b0a478bd555fbcbfb4d289d290be057cb7e5685b6012b8bd898d12be1d15b20354e34cc6cccbf20690bfd18c78af33a280b490ea7018b4b805e62e8efb86e3551b8d1725ed72764054e9ccb917b1c5a76a5b6431c0aa239fe9883794918d728489447fa937b452122e96a0816c1b794713d7cffb186369c71420a0c4b84b0c3a27458c2fc2ad727527e7386d4c1aa30b4b85c38ad2729030b797aeed3a522d0c5a033edca2d0f43ad92cde77d53960e8cde3303941d7cf75d8c267ce0010eb9545b12e6509ce2e07b323ef175ec18776848a5c6c28c3a5ad022809219f6bb9fdb798fc836533507211f91681f5b66ae73cd7712a4c00a509843a96a947884f82d16257e5f621861edb67a7481f262f9058b03780d75ca775c9a7a5541f0e8e492ca1aab0e8e9064581430ab975a12b6e789b182f99c54dc06f1ebddd042aeac4ee766debe8ee0633c87887afffe2807378957c6ce3c641747112da2de65cd408eb39e509003a43c9488fba4c2dd21b139a5cfed2853a4d9c9093ed175e4de6f59390e5a74e7b97f4d7294fca7953da0046f4f8738466bfdf4c8c47770bd682d6f8b4f63c4979450f20bd49575780cf69ebd18989ffafc1e08b5772e870ab4ab6c8796a6dd477f75fbf655884b2b0b8afea19f73a0f44c14c0f0e6767c25fee7358d520aba4c14bb7d0009dd276b24c256e16416f3d029a6ad2abba5a583997b3c2579f3b99f33b99cb030e27166c3061214cc5c55978f9072823b8026b8ba5c5bbba6a7c49991b9748a71dd671e93814917aee75d4efa314775759f52d54422ae2a3ce2821019b50379756596d4dca267db42171986cd87f93f81af6b5ef65319590a253de724f2c5ff17bb18c00343ebd20b33d357d299107ed09a7c73f5f499334acc061e7498c1b77630e59974bff8610ed1379446ab93a28735d12942f027055b085d18f497838a37f287135937db5116bd5bba4668af76527b3a2d09c587a09bad60875a89a016c0017f91eb57aca51b829a5ff8fa71b7535a8d5972c79757ac75aa7fad46e6acbcec8a281c5f0356b6c66252918d15da0b59ee4a3c8ca311c4adbceaaaff3e644abb436db4db6c7182bd930683051a135cd120829f29fad4d0d8978afc7fff573189769f4c45738dd941e2290fd758c802cadc302a433c80f700d9d2538429328745fd069be2a015fabb0cd86d1ba74e48c9449aa21b1eefb5151ea1caf388ec361de04d0dc065811cd52b526eea71f3b2390b4bb19895395988515cff5145f297fd476f7b9d683b65fcce8e4158a5da1c0c872318c47218092428cb0e266a195097548a582208f28861bfc795aa4210dad3f04733a6fddec37cdf65eb72c4a7fe65fa9bc5f1ef59bffff82f1e55f0649a1a9d3b994246c2c2f4ba0559d616f46a3da14f5e28c759ba75e3d371a219d2cc09c733f469752514138ae6bad774398a19c71b8e9f8c32328dd6a9538ff136d23c937876740533d2e9b3382a9347767e139de5b58bf445f1526bdb90cd7b864d2506e378e058bac41b3e17c77d8405d6fe1f0bc4dc226add6fbe2b991f5197e88e97ffd446f98afa88f1632c701eb27f6c59f02cc99992682ef9cda7aead2b6f35d0af35f12f89ddbb6b6bf3ce57f4d84eb79acddf1226cfca7e4ea4d9b3dfa9f1d00c3113600305dc77291be72add6f7c7f8d324d63e17b5eae74dca10f284437379d0f02e41e9397f67a0d0d46d24e0902f301718e397e853804babbdbca024187716d0d10b2db70ea0349e160aeabd3cca0683ef806e373c871c168d0c7fca254ef62fc64986879176e0bebf0ee6060aa27d1f6da2f8accbc7ab6f417341eb5f713813c79543178823a2ff5547501fed217ce9c4029f773fbdc37795cb6deb49588e21a691f963092f2f81d05500fd4f6b4247cebee8dc34579f55b84d5b5f4f711020f7a7618c82509d8434f26de482b155e3ed27d36bd1578ca3127f17fc4c4f0da3a45ece39fe93cd646d50d660bc2c229812ea184ab39c26fba07486e399cab6b597536cdd654e310cda9ac8cf2f1282d3b3bd5e4ac6d1ec48b18470538dd25298e001a1a1f2c2cff532d8be6608c5ec62747b5cfdf39c95dd000a8cf4f94bc6e15bd8190c7545c155ac75fbfd82f921ed4828c155620aa2874c623c025f9333d6291a52b6ec47e7aaf22be0d43574d936efa3825742d26c727dcbbffe822aca15f58e17c8007d0392c9100011ec5bb41b010b11f92dc6553306cdd6b56ca44630e552590adf38b9ec0c81c2add6e410432af99829cd0907a1af85c5d07a2a93c8dc7f162eef789590b8e76ab2b45b7d145f8157edd2151e63d141b45178512e60aac5a10a375d6e7eb2d137b8a1fa8fd7cb6b37b2c573f5b8f24518f18b096a270fb67d883951bdf0fd85f05a12d3fe92fefa159229e52f73aecee5ca8bc3c9c6202a304554a256d75b36847d79eb2fc365b3e6349587f83b4d763e59de53c55358a66b4bbc8313b8cba126f56bea49e5cb21a7347d3ffc2cf2c28bd14eaccabf674732fc2063d0f7c8b1f4a0a223ad4ebfa422e567eedaa0fcc536b9796ee25b607fa48438d75c4013e100f3a0ebe69314e9a9603d9a8b5f5e0fe0b130733a1a1cb4ce77610f3419679121c942bbdd9acd8b2baaad5f6d3228fb1bec10378b70179c662b601d9faef4fc44e81fd4e2534742256e6ced98af38a2494ae1217a966696b5b92ad22813132f94140f76bae5274a5aceda64c08664cd8cc69fe13c5dbaa248316af116b0329a37dad78ff842fbdc1c8e6744c62efbcafe295fdf777cb6f2aff3768b13a306bdf943e3982d523e72ff6305bfc00d42766847873cf8df3cc174985efcb74aa339fa8e2395931df7d7ff862993067fa597cb5de15a500cc5cf659e54efd5bf9c2066cda0373522ae0ff3cd4f9420616a57e13c4d0b83c05d875dd214b0787ab01c99d74548480e83ec24a8e7cdc29402ac64a0f1b7a7c365a2611dda3bd0a1ba9837a9a3c5538fe0180b4a044754762db550dc095143035309944e906602e4c7f4c6fbc27078f7429f2a584b586df84c8e6b82767f778c2f5b27a072094cd26b1ffdfc927e5fda9e6050d7716f15b4e32af82064d4adce05cb24973ecd81f906f9ee5ce58d8833eb6d2142160496a45ba62c6dbf0a6c94c0d7a106915cb4c0620e8b028375a0db247a311c6efdb583f3e46e4d0a0243280b91d7ae1e3b692cf3debd8fcb648bcce8f933aad7cda07118ceb2bd55e6beeaf20c8c2a38e1fafc7c6a2669fc9ca3139ebb89c0772efee5fd7513bb40c1ab3a1ea8a1516f3029cde8fb6ad38603c0ef3a102d0791b3a1b63370ade3f858e1de8ba7d2382603dfd796e6f9969e3de9f350695362bdde6e85d4db6760ed5368e0ce5931c0fcd56a70744fea57d089517608433ad859651738866ae1266753f7630dd7a24987e840892620ba79d2874247930f3add8a15146eb5dd0c2f39b3576d8bd1153e67fbb938125e4a61b30bbd5872c560016afef3cfe503744431f09df42dbecef5633f4ace5cbd18e454d8cceaa9e03d61d70237cbc49c2b21297c36ea468483b5747db112a2421d08b9cb9ea269e8a3a59427099b2e406fe4983fa8a655820473445a8c85bc99aa9ac10294d372302d084bf6670d0f6cc1eab926be48d778611dbd5a52d6e76e0a54e177b0c066d5086aa55936385beb99bc7588f76b60f6a169e555fa8c14937193795da6831563f2381adda8c52ebe114233e5a0a64811c2fde2e621f64c966c4d8c5628a200cf8b82f7371a949504adaba0405ff51364b6a385371862f8ae50813507dfde53d6f43d9647976d544def638c21b8bf93b4d8748ccba011996d525a1e594f4516839b7d0c340e9d53ede7ddeb3c5fdbf7ef0b289b0c1ca20a4e591f03a5966b9bb530440d0783485728a99881296d3f46c55e8c20a43b9934379e1de1c4ce8645aeaf55c2479ad6b828656759e76bb1d6aa6ad2e57ccc72450f5b73c1829e01e330a5e5c6d2d8304b6c6ab0eb9d418a0c2cde0db8902c96a26fa2365aa43af0e92d08225955737dd9afdfac377a8a379cd0fa16835587f44a21142de3508463c1d425d835c253e7cb1655e9c9ee99c410f60829dbcfaa74ac588846a44bb077746238d95608251ed928c2c23da037b961a81f7dbe6770407930d61083d747673fc274848e2aa76c50a277034edb73a71c81d39865172293f851a0fe4ee6313f6d6d34ecd654bd282ae8e777ae8bfa33c8078796ac2bbc326d3c20ac1cba81308dea656067b3c56398f04b7b468735bad107e8893629de308a021308c664b39c7f3634333993d2bc59ea677b35de946b4c89fde4e43472f51c3444e373c162af5bb3f6b8f8294820ce53e79fca6e1a516b961f3f3c9312a0c854b047c6e040f3680e73b11a0023dee059afa457fea0b3c39a8c40483a082ee0ab8adf247fcef67825654593595b689562713e16ad2e22c4821409ff2d6d54872fdb44b87a0509e50f6bbb202afb26973fa55f3f31e45c07b1d33e47509b5ea3040cf8b748a70ce4bb485b592738b51a4f90cca211d2d4611db929ba75e4dbbe83e5e599db69e240016da45ef6192c6df81b30e0a0834cf73fe380653d35b5c98b92d04259a49def0f6e7c6e6ec2c78467d3ae1fc80186d6f20b7d64a65ba06483e26661facba0d7337d9ac8313adfadf839d11ddc186ae1236e51068dd8508e44da900f6cb93c1dfcc6bd0219f8bbde5f7ff2f2dc1d09ca1e8a1fa7124ab1089a110ad9a3dc7e9f312968ee30a523ffd8934774997ee939c145bbf33400fb3bcfdd2ec6c8edf7b74dad87059bc5adc6f7f0ea12bc4245eb6f3c40de9a784e1fe56d784466566edb3ca6c80685dfa22f4d43806faf533b56801f378bdac858c226d84ee8601f86a4e0a1cea1deaddcfcd306fa52ff3bb00c8c8dc56cc0097d1728ca89965add97fad499b2dc041e544a64c374879f3f63e48060f9349dcc2e118684c0534d2923b1e9bef8c829f20067a0127e436bcb00bedcd65727ab2bc3e31730215c4badb8a88e815b34d2f1cf63a6606f29009ef9ef988351728d7d11cebc08fa923bb288ee5a45d818bb22f8f65fe25d234f254b0bd0014460a9aa52eb8f2edb0117953904b753b0e69a93df1f55cef0aa54b8c4ff351a14305e576","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
