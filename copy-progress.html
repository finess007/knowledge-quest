<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1a1c1e1f358c5a8266eac687cccea3061a187a1a872333356a5eea97f6e8420968dec0e1912f05c2ec2cfeb011bcac65f0b39cd33457935ca252da12e362d68ca274c90a66f088f4fb17e0a53d5360722e7fd5c20d3ff654422ac70b75d4fd7ad36419b4618390c91f1d343a3d927debb489ad8617d4b9bc9c5dcb08db56ac89f986e57715fe534ac1803f1c828315c7f422246e4b215edff971afaff231fe578cd21dcaf58955b8afb9d925033f5f7cc18f30cf5bc3859c47db60482dbd4124cd6ffdab8caefb1f4b52ac1619cd3824136fd1dd9e0d90d9018249351e295c61a07edb0854e208e17ec7783e2c7175ca24b606715102758395e5a3f3d501af8d4a7fe0834e5c2cc22789b45d6ddc02b4e9d784827877df7052a4e09073133de824100f896a014fbd3cd0de457e873a30aab0814d790f1e9d430ab78e35f925017befec353d369c8b265f37d8336501f4c63066e211611c726fcb4d54fd499cae4372f17a5c8dbf865750d92db25199dd4b286f9da06ce36513d77ba51a32be53b6f5ba348244ab6774f2c50ff843ec56118fe609d21f83aa3c198981b2b648a2fee1b93ab8c2bb30d3e36207d25f1557e5c125a1979830a1b35ebe665c144a8dc5ddbf0fbbd5a8646a3fd9c2c3f13ad7cb1c59cc138f02c27fbfd6a410f404968962d38b9a8318e1d6120c4b1667aa8177fe9a5284b9b74ddd7af232d98d5a3b5576aca5ea028101e8a4ce388cf9b089bb0c4f02a36cfd220f7f493218afb1149a46682bd2c9ef79d73d907c4f05b898e07e40f45ecd3a35317c4732e49e60dd63f5efd755c9ce849b7fd4669160961a4f4925f651d4abbf5b329cd7193318445a3bacb5774a07b01ccacb485753e1d941e58451dab3fdc0d7e7285c0d915eefd8b7f4a9310dcb89997d8db90ae00b70ac27e7e19acb7f329c47f01f6014596927ce1b622d3757055f23cc28c0307231782cc0983231c1d28fdce2df4dfc13cb436d1130bd46cd727f94c6eb60ee8bea98a67f467a3320e99c146f232670c255d6f48acefc50e916fead24d2feb74be79029e5e0d0df880d2662ce0b431be79f44928937ce83a67d1a959c4f23801ff2eb1c272814cd14e5ba35dfd3bd1d13ea733908cc69fd8a8124c281e52253fb6a88214e930bf5524be8f25b1cdb06db0e40dec3c7582b9480a9e9a3cd441312d2355a5d08b73410c959feea68cac9c245544475c19faadf6180a617cdd39e072175656fb724319420d3631d65363b8f0d8f4de817d3dad9b9153f9e95f794f5909009a95911943d5ff6553445d548254d2cd9ae21fb45cd681059e30a5af5e1738f67491c3680f9c85298149111cc76447f5bde4f230fff2a17651d4263cdadbcda2300c15fc63f65142be0dab00ec43eda300138f9f888bad69a9c5e5275bff77658942922ed1b75d816be5b9773781a194b05b694f6254203ed4c3f076068c8f0b34b0617b2d92b57216818c3b070c22598d7617a64d91dbaee24231a8d616ead3328ec77d1d9551f1c8f43c303fcd1f458215e6843112364fe2e9d7191b9b27cb8382813e76b91ec5cd0c68d9d0bc05994adbb3008552ff38a85e9f81a286eba91fb06e817ef316e8f4d5a5e800108762d45f3136d4a42f53f45ac9e521cf94a0126671fd4fe6825960d97b6f00c97f121ac11738566849282359035bf496f35e0a248c59177f9b49a8d739622477a916801613d19016876028c2f704bdeeb416300543a7f9c42cf4ebba9936e1c775a0e651fd357cd73156d67e4920884d3e26940b3f4e1198c9df8d567897d7279d1ccf286dbb25fdc6cd5e659b5df4d08e43547f013b49b027b7db014bce822d84bb6e2c87053a99ef9f356bb94092e8cb544dbd9654c2dfaa281d89cae1ad8c700f26c8bee723ec5baaf53b21d45ea9d3a6bc86b1563c20b9a1282162ce66044fbda162281b1a7fab8a0b763d83326ebbfa00359cffbb0694df8bcb49d0bb00586183378f882521d0741e273eecbefbfdfe33033d9f59ccdf06a6e970a03c233605e3654ccc2deb4bf9d18ee8d0586f7f16ee8b2fa9af1f86fba0f67a8f9a477cb20864dd24b005fdeb79a76e15bfae9507706cbbe179fff6addc14a64afdd6bb73d96068af65950b4473fba41ccd2bec07ac46986603522603695ce96c0c0bf9c2a9aee97e6ed5ba6207774c92dca4363c9de053fb02cee521215863e3e5cdb9e4556b227631ed4b00cc9f8959621f2db5a370537afeff00c379d2f159144619095b3cedc4ef5f7503a06ad4a293bea600d8fe3433c23c0d3ee88fb12afd787d7e873a9bdc452178085be47c665168e3867853dc334c0e5d71d2ef5f2efcfef9803c43ce1b1930fd0f264db4c2018963021f9db59fbb30f7b1e75f78228ba1b2e325f8362051c2658777c8a3997e27d1666af16fa1d9bad876297bd310154634da774585faca77ee12b051ed82046ed03fe6fe7fa7bb94e10bf6b29f3a36b8739eb7df7370e0b897b49266f1675eac80bc78f1a5ec69ac93fb1150737b7c78ffe6c3aa47b1cb9d360768edaf9a18bc60014c69148727331e912715ac5cc007b1933a7046cfb40edcafd3926ffa6f78319a048b2b1e4184c8e1eec9842f411bfb27c932cb4fd15580f3cada5e967fd5d2e6e6d32ccc1416e0de9888535f5e3424a22f3764570f48c3e985341b3b62812f5931a7463b7510747a875ecfa6e8627f20065598b182392843d1925ad7029a62bc900f0dabf0af07b7852adfaa70b337bc2b28b1f5a529620fc96f9d09815164275a1bb8863382867422c3db2ea434bacfe48ab7a324682895928facb51f66143a576751b49156c2957d1c98ac57f8342de448480dea6b9a97dece6efcf9855a9ee67dbffb22b68d89b319dd720de6aec8e1e05a8eee2f36d7435f11c35b3c848d362735ec0586eac2fdfdbbe027222151efb3ae104ce60f58c6ccd33274f23da08d90b7a40cab121e219667cfc1ef62c40b9968bb15dc3cdf262e38df5ad79d064b39a8d5f098dcb8f30ac94d2170723d35a7677fa3e1ab672662b84efb50bc785af31e58d9b2c4881fcd12a0eb7b1c5c2d533ed3fbcf131c986e14d2a0a5512f55da4d0b6f80574bcc1f807880a7b1a67f3453fa422bf665e83a5d41f3d38916ca1135c22a244ba19b2248dd627816614f7aa2cab61ff3391d5b34b2d2509de1781fdd526c9547a73f6d2a159b1d5110b70d576d60fe8bcebc5919defd20f0b85e14f665432d71aa064b7751ada3dfb8841baea620aedefb851b80a695961cba80c1f4faf17c542353259eee2372090fac5ebe1c1e373c84dd1902a5513749d8a99f9766f002c5fc37255702ddd2aaca56ec56a9c5e2034fe37c461548a52ba397e6f9ab1ff9e1773e902f0385f6547665b56b5323ae813c091073c5c179c081b1270df9df82fa6255da39c35cf8766adcf73bdb6b51dbfbf1666fcf02f1b737ffd710f0605f767b246a2b24004df868cc75a4e2895fa0570b27a9f9278c95f742bbc71f34e3c334cb858f24b180ab000813d27b3206c4ec560c9e7e3d1a2df7414496583db20601e5f85b5668c99e61e4641427d1d9493da750f178f43ca4294fb2d5e12d0b79c71c340aad3e087e05dae2390c615d7c600590c8af4516eb74aa0c7ca6d9b389042ee69c6e118004398b471c415870cdc6370d36a2ac06fd21f0bac3a822c13749535ac11ebfe4e851321b25232282ad7a66112077835d8ae914da4b456f6870d6cfe313a5fc6771fb89901b404012b27fa17c890672d846a15c94dce5efce0f9b3d91d92b1bde34ae0dee01cdf32865754926b542d6cd3757dd312bc6ec68e941e29f794440f1d3e57ef6064ba5aa3bba3b2e16acf3ff40c6f724b748912705fcf9ec071ccc2f3d456def8b9f1bca9f91eaf618cbbba6e930330c9df9dad46892b30993a8a68d7c28caa4c52fec630d197c5a3269a9644f8f4397b715c0ef0e1be5409f45c2087ef1d6c6d15ed34933b19071d4726cfb77dc4e530f4bc8ca7ef431e6fd8ac0cde515fa9cf63bbfa0b66b376c3da11ebf65255c8d3cc1da7d6440574a3774fb51ad44ed0f3d5973bec46db9890e53cebc1445055f21d38b61e33cc3ceced8c546314deea7d46ce25cbe9211caad833c0e57dd784943662f2e987e90e8eb7199e08fe12d9654a394946cee2991646b58c00384e199623c9f3baec46c5e5a339b28ab4727759164b52ff7464b39c593e3c6add9ce471c0811b0d193739f1e45cd04dfec9dcaeefbdc0cf68a8817bc52e5026db06950749f67ef6d8d9cebfe9a05bc769678bdd4a7947095e0b3f734e4a484bfa5451c00c339885508aea719dd5ad2b1c1d0c6fce894a4ac1e968de024aafb001d1818341080412be20a361aee130f341674b449e7aabc9ae1edef0c815605e3fe0109c5ccc4e055c872152d6f624e63a9f83fa3c77f0fb7a68c3b546f99703750acba856cf21511287e64a73d0f1b1128da3b3cf6a1c0cfe8eaf6402d063c5dd4b6ace00f73a39f751887cb03d920869ee6292aba2c435070935278950f8069aa67d490d0ac467bf6c193523e7178f525cdfbbde6e32472b592d6a80c30539328b40de436909eb4d1779d6eac0fbfd9358ef024111d938990e645e082cc3911b18b87bf1edc79690794efdd4edb26f58ce47f67729b958b88d0de2f70435c08ed5da8b6d1fd2ae1baad01bbcb286f32f55a61f22b29d73c3e530bd1eb5a90e00c70d7349a11d682b780b0ef4cb4bec96c3c7aa64f2e38c1fd86b755384432b40c50214c2f7eba655e3745b23a83de0af7270f3ec3dd14da316b483e8cf8aad1b70b0146f33bc3e25f682a6b8daa47c3714e72b22ad082a3847415d2323d46785e88271f80a7c7e2d2a0c0dcde2947ca848ce3fb98aa7407854912dbf9b67f1e6c0550f482a5ef23b7a4dd948ca2a8a1c04b1aa195b5414e6923b0c48b7c4fe2791874a3f013a5369f6f8baf507aac96203beae81bec427ea0dccb58361dc9b2cdeaac688b03ec93fcad93c26178936af1cbe30c875500ba398dd035e02069f605c1e4039e4d1dd56dff1b9849411e981321acd8843d6465ce619ff3daa55f0ccce4dc486ba30c8845eeb38f62c37aca2dc77f544b3077ea341d6b6c61169467f04c7ae032b78fb2670ee17a171748049c996685799829de9cf925fe8b642903368cc2596e8e784f1eb216d71a1b163665d3dacd81441c6898d6397d8683aa50af7dae7bf5fe25827c649f963341c6a8f57ac2ebb0e610a3d11cd005c6c2df612e6858fa527623ab4c5116856ef5095db4a0f27bf5e8d3187f6810848bc282c64c8f2da051cf793edcb1595cb6d7b8de94ba8e90fb51615fe4adf07980ad9d9bbf2eb207376fe340611158e2e0b203b318d5c331793bdecf9b52a5c892663773c6a23d8b5a10e85334b7f824589d53af87bc3f7f88b7adeca001256a12bba96a61a40b25222751b4c0bbefac0b10e22d6b220c323313b9042058ff1d6ccd575658db5d165e334e5f4a84dfc48b665295f4a3690de4379c7133b8f43731ca1a184ac9ca9c0fee910dc2bbc21405c52378c152ffbb599cddf93d6a8d31c2c87dbdba4870951ccc715af8ce817349679f59df2f508607423f8e9bb8d6898d18c5165bf2bbb6fec8afa1deebc96d62b620d15a78ecc028545b7e21577352dbc084a08b6844ac76e5705ebeb86679dcf99d3e3a288d3f0baeecf88761044b6533a88254fb1583e4779bb5bc9c2af54fbe4e53f42ebd435155eb8c6b597f444c506766f57b0d53e38d62501a9cbf760051a553d3602033ba1137711ab0c1ed23b536bd3d028d9a5ba5288ed75bbb5607b1b65e59754781ebd0717763addb793675f02725ea4d5542d5f51494e4b3d34c2014c9c1589c8e7bb68d74b3c87191852356b01c6ac98d64edb94fd6ea4c8c45adb2aad13e185ed9d73626111ac805c3693e4021dda283814eb7f94b03e4081c57ce05330dfc0a674721f7d28a02c7b390f72b7e00e0ee3cb1999b9f8b22bada8d21cf9a9667f446217eac69d81498100ae7ca78fd99652c524cabf504e24ff5c0e556fe8376886e2baec5171666a572e82e8dcd8c4d2dcf50f0e91f655d74ccee78fa37d4e7f5e440780b9dd44459807d9fa4c7ee59a3c2d9d8ca23264268470cacfa9324d82c5810ffa5fb6a11bb3accdc5455e8d976bc435f29db58dc34ae7d6241d0fe0a9e89e2e96f8ca3025a0214b40172ab2ffe04531d32a007a50230d10a5b848a6718f10616d94fc8d42d4d7d0fba7208e5d3df4e3e8ef10580ce488598a93bd8dcb3c910049ce9732048a9be6de5f1eea6d5160f19acfc1acf9483c24ec33f8afb5e6f001c261fc21ba1305f858eb095cee9f319408c7b0e05985dc035d113325313f87ec4f9a8baf274f606f9b331ee1542ce4cc0647d473199b650eda8cf80af9ab3a13f5cc3f80c09ca06d2aae1e510595faa44de118050a012b6ea44b052db88eda7004460c190578703d6de35f621a3ad7bd1647f015054941dcec437d98b8c372612e05cd5031bacc0378fbd9c1f370040b7e41bf333ad694062ab1df42ecd5e5b58341133c303f57b817fea956455a46e10b1da4d3381f536543b1745d795ab66b942b9408273b65e8c633cc39b95f36c967398e09cef059c97f41c7d25fff1a56f115163b5941eb7a491e67eb6e411b3f4f75d43f37aacc3b8372248fc06cbe1fd2ade8f1e7219e534f7f8d4eb5c7360ca13c757dc59b7396f0696aabf361b6efdd4d1096c30163de63f96b1584a47d13279ffa29803b1861dc3238edca5119fb721308fb9f73ea07143401449e56da6dbdefcb68b9009ac8cf59b4736104c55044a197ed6a36bbc3d9863a7be1e30704067f9bb1a79d32cd4610c8eb8567e8f1f2abe232cb2fb2b58293414b4a94bb0717a14d0d189ec46d754037b0634363eef3eea2cc71dd885f786dca3385fbfa2f602ded7756027efdc0f8be465f628d56064c89c1499da4d5f4acb166922fa552189ccef70c2a3604bc84d21242e126cb36eb48fdbf1b30b4e1c5114621d8f97b36ace67d9833e05f5d300af46a7f8aaec9d648a9a23959bc61647388bc0e5a90ab911ecb6bd493b6669ab61fc4524afef0034ae05d9fa586c732d311a6b484a47d456c7b784359723c23cb0c9e5ddd401bfb6903b1c599b67a3ff7ce34ab91c1463f509751ce64966942b730eca55acc5e87c973154c88395031a1313bf7b656a0c81edbd6b51e1c294996e78eb3949a110c0aaf411656495c2daa63bdf21c063e62acc783498cc79435184f704b77044caed5cb4fb3eb6a52fb57424b3f9ea3f881ace86473a9dc946daf0fc9336688b39a86ab30c5f4a70beac43c69782a29cdfd0b8b7290a9a324a462a33fb5da9fceb2e29ce2cab0e09c715b88cafa94be7129154ecd9afd3ad7b777dd0de9669ed2f92f15cb6594c29e20445c7663fbcff288d751932881db445b9427790a0cf087efb6bbdf2bf5d1b283bfcbcaf7e1b59730f84703f4d46b19eba9aa4641bea56e9496175d95e28a557076b250b89bec0e5ff3b349d0ac3b3b88fe6e986796d5ba3b1125d140a94daada51f89350f577b948ce677956c9e97db8427bd4c36660f11474a266950f122ae461dd8bcb706e6e857d525bee1150ef2697d6af2f53f5531ae9cde1887ca6752ce2d1dd22c41d099f28bb1a235f88bf4cd35d6abaf86765ccf3ce6909e99ff85570de535907845a56bbaa1e7c80b50e6721e23191a0890104e8db9657a0b9c762b7934579e9d535cf75b5658b28584b1579ec6abaa9a906381ae4fb4d03902c0d88147ee11d946cc70ba6b6774cb29eba56027fd6ff5dd15d46966d2fe19246827e2c2722b658e2f71ad991c4aa7626e68d68e6c6d6601e4f78d2d808d2f0d8aaafc871d37beeed9d6190881060b1c110b99c93f5a654199767d34a348cbafe158170ef4586aaa6d8573b14c8ace9de232bbff8b985dd7932a11836972ad90bcaf139d4c89504050b8651651290317cb95a83263741022b61074f641d07b99de4b53b396737906c33b8fbd3fe6ca5c6bc26b1322a1ecccf9f75f6ecc804094fd4b3408666953d6e18d29b325de15d9c82fa33353d2357c67d6c0b59adfd71a49b1adee43c9f816809efa83456b735eb27e945bcd83008c52832a95cf5d39c9960803b9c70ff00b4026927de24dcef2ed86d3594da680d65311e01b85083402accc7345d2a964e7dfc0669cdca9f508ec01e2ebf94b9ba55b7dfbe1101a0d80428af041f904532a8c2f00a941c9704433ef30c8c5832b89b61cbf3156e450991387c928fbf60542f1201a594f6613c27fe69a20c2d3afd20f47180e162f1d5f4173162deead5277d33bdd52dd462c35ec91bd257b70013d1e88e365704822c18e42128b0ca3abf75873a7ce13e13d04c47fe1d70daac7adfbce432a4db61a4b5cba54a56da0629ff9fe290573d41b938c110efd1b249ef0970e40679e472c69bc86c6499eeba06d638236d75f5e2593a3861c036916cd63cc0234c6d3bb2e3a71d3de0474acff738474c4fbbd45dc2a07b593583a4047a41b1b679e7867ea9fc2db17dc219b6ed487dcee836a69b7ff655587649a69d83c3d74a34aa1f7afff1a925501c9874e7bb7730c1fafac1c5f49db95405fa7a3c153d8060875556ac0e6296488052dc294e434a62973e8b26443888401ce9748a5be371df1cbb6b204c5bee40f743621b82e8ff1636abbaac7c91acf3caf5a7669bc8a8270e8fb427f38c7d03e5e280235d624f8d9834eb2c75224732ba3d5ea3aef9bddee0a226cd6137b08c840ad4f063a605cd730b238fe720dedab07346cef53768976f8107547366cc33a9f4e51e705d0be8c5152898fcc9eac491af8f987fdc2b559a38b62bee7b664d86d5bd10887c7c2fd05cc40daac49850728117c1084a9081ea9fc58eebb80db8093f13dea53e3525340bb4dfe4d8a9de90efa6ea50ae928df7c2e7ad727f3d4baf4bd5735f4f6d780bd9557bf563329ec966d7b33fa5f6cbeba46ddb8ea8fd2895be0d1745608bb3599b36d623e230d51275dc2bf126b21e91185b689c7b59b95d9a917d7cd7c9c85efce20f658f3dbaa0ff417a06b708b4196e94634ddc95573df70267c2388c0b65605b7d33b104d18e1274983bc629990baabc779cb2ab40dc01987361f82a62d5f64cc4b75dad1add256b3e7417f515f73c51b8051acd0ed12b034eb2ec4be78a2af441d66088de8ea8b5814f78195f503548b798e8daea948fd81c9cb4b73caf237905df61fb89ae4b1bb00f6e0c27384bd95a75efc245a4464c77c30a52ddae42acb48a693b561c9ab2da2e30551a98f8e95a0c8c34f83788caeba3385d80793fdc2636c90416f4c89fc32fc7565fcb434a7b28f02b38b65d3f628204573d907a183ce5797705e9e98924ac39a1116e6fe1836c0ac824610497970b8f92af5bbbd43ab0f4f2dc898ea3539321c6ec8341a44314ab11d02a1c0b90dd72931b7f434a729fa5bfb6458935ec93176745188953728572b5fd745c1255c7d752f937e4af28a685094282cd855c78bc1965916b547be44d2f70ce1571133a53f228b16710262c1016fc4c6fda7e566100d3c41e4d7a75057d3eedf33fb668930ee7ce988d60d550cfa2912ebcb043e5be90d5eeaa32c1d8021248df90899fd4b0c9071c9262262435e51efccac0c3f9d91e7e583766bee6b4f8bfa5e3784d84afce71115a3bff225c0ca3c430f1d602cfa48f1dec4126e6886abca6a9f67a933d99c5549bf7ba1f8525cf1d655866e26bb8ee14f10f7769c3efe36be2e1986e34bea56c9a0d206d056027708c2b87b998657de5db96dd58d6f5ff9335207d693ff764a07ae91aaed147966a239357956d43355da984c6212838dcfc50399869c048e614c5622856d9dd1cdb45a425fab3200b60da4afa5ac0109fae66c2359169bcfb52544f8a02251155017d7b0e7737a32e45f05314b6232f2eb85b65b567d8b932ce0574172f977cff8937b08fa772db54a3db5e6fd647ce2b2f3c30dd4816143dbe7ee9c19afe145c801257b66e6c801952763a3ea56d319a66b205e5f38942886c8ce0487f30fb8b514290ee84613113bd54137b3b5ae5aff2cf10a0fcfcd1fa0a67a11a755b7599007efdf74b551d4bc8b175c167f9d892b6974800792e9526149b038879409f6c44fccdea258a593b6f2b43c2d22709b2dd54f09d4c675b95e43c33e0215970b278aeeb1a72e3babaedeba1db0b34359fe2cc07e9821139a2fffcad23e9405f8f01aee9819ace3cb3d91246889dda8a6d2dc0d7b83756d8794d7cf670d7d278b0514c660927d7eef4f970f39b8fae4cb9c22cada2834d3ae801feec19feec1ae5cfa5cb27dbfc7330e10da7c632b03a38bd7f482b5bd9b4ea4a806d56d8f2759da7b16ae7f515a7e390de61fa338e760e03afa8b35b5dc9fc6ebd32f9d473784add20c9449c79f9148680d0f97f50a312a41708bdd4fa57b83087ed8f80c0fe0c05f11b1d825ade7627c944dd03dc1c19cc0eeb50b1bc578f27eaf716df98fc4fb7d37b6dd429ba004d66cbdfd97d70f581b2aa1d020abab77e300395a46ac097aa2cda6f5c8ecd3cad0d679f3b65e9b2bbaea772481b6f85a9f1263384870827a9039126b18b990fddacf835b6d0f69761b347a2e3fb66bc1e652087c1204e7bbb6b77be3f07fc56100cc941b4eafd6c207e95c4a39198a1681cf45f87a06fcbf001ae855cb6fbcf44cc47dcf3eb28e19c3b604cb1630fdf276638100ad7f7ca1448a6daf01f54279fb3a1b3d7b6148397ff33b1460c05383cf9f9612a053c2c2c41ab0f48314e612265466937e877475618b1093a01f886b9ae098113695a08da2879e6b08695d378d0023e903e0df191f260cc3d02689b1b9bed8244882cac85276cc5b74a3c573cbc1717dedb89910e71739587e3cbd33187f4662b5461697b7db81234c29dbf50dc30e179224123aacfe7415d005947f0323ccf54c1c2b566be0c801079bb30e44614390c9b2167343406d772efc80e28f978355f28ef95c2e9f0536e0cfb9ff70d96a8e7bca7caa869d6b3cdad5df4b92796e5948bf69fb5de0205e04db69a126fd68fbdcc55dc898c5b325e078498e66d513d6bbc0fdcbace72710d54e26398c1ebb285a34c346594d80b1e411713afc1786fd864d60fd7602219ff5c0c28a8e11616a4529f077218cd79412d05bc90965cd13b6f44490ff12d3c365df6c4ba7dfe8bbe1d36be5f006964009be154b6623d79f018345bb6790fe38853d3f15b84241e7297061b96792f33c923d6f025e3cde6d66845fecf82c15de840c6674e29405992e8a7c7983ec5a71721de4b136c406033bd0a0821826f1c628d9f8383eac3c215347a60832ff219fd3e2348156bec0787ac7deed15ae05c84612c2e614dfd298cefcffe1843d70dfe4ff2554d77f7a216cf409ede58c5f43cf9d9a65e97387ad5570f600e21661bef88f8164f14263d0f70371222e9ee65950b4909cc1b431b9cd39e422c1ca3e1bf20917ff16f713715f6db7d2e9a387b3e77d45b7f40dac74e29695eb6a755b97ca696d80a8435cd3168627d4d0cb1784f23676365e786107514ac7e0fc7ccf98af08a897d5864057a6f3a6556e2123dc3863117627d9ad05687fa8fd1ff764daa2b1dfdfd3ff5858ececc58081eaa2bd4c87f41cae1658e3ef124b4e528dc846cc9e02fe32e7382f71329aef6405d012bf1a2a64c878e7cd3808ac30e573198cf489e2bff3194ffb741e13f186963d26ac1696cd8c41e9b3199abf8f9b9a898839d0147d5893b72176b8971c2aee9645234e3bd2285e2a5c770311101975848a136d420d2e6e1d3132ed47f9e93ff12e5d448fb1e144311f6419821ad9b933f27e5f4f988099bee38eb74956155689ecc9974617d893d137a2605b60f4d357765d835a12e0939606277478580497f27346caf34feacf8d86bda16162c93790dc81847a0b3de2a8adcea90d981bb02c2c58db49c5f36e4dc9ed03af1b559584a12ee6be01173c129dff72b45ca28e522ff5f8471baf284f6d23b98351e8969ce79229dd3b3138e54bfb2b5b214760339a5c4dfa2392d431165afe19292ee371f21fd5417f903def6694355cb06dfb661f3deeeb369c5c66a64efe94ba1c1f3ef5f9a6ba8cd646ff4672112c42f93d6d3f9793e49c6077c3c0640bf416eabe09661b7edff2bfd8032058bdfd7cfcd7c5474c59173d1583838d08719fb244d1f7a5bbb77b5db572236893726be6e8a3b417c5c8e8bb5f051cdd675f09bbf51ac906f1faa9420e97104524679700f33d65be4ba633e6714ccd51c49b5d4fceb0654384b6ac0cb6f1eb2da7536c951444c8a8d64cc79cdc6191f756c940db28d07058f3153797adb59ef2c3e56e0c49bf32220ab06edb70ae4749343abc6654b572b1a7b9892ded3332061df377b12fb411a5b4c6cebb39c7bfe754428265b57008f739486bda7fe88b4b4dfdd2c413d18256b23f840e199438b71b04941bd84d64a31f298ced34d53ad42b5eca28bcccad9f9574184fbab03465ef4a590bfd6c2feb0ff9947d29e92fdb66fbe400a859d029d90dbb9223289e67ed8e9cdfe47b3ddff28174fe512d5539fc3d717af6541d5e1b03b74644d35826c905c772920b2f711d1cf4f332edefc04739737cd6b2d1e8d9f14806407f9088d9b63131e54743befec58e4ac14d97b41532a5b2919dbdbf295d71d8a37832bfc64ebda2427a085f724305a73e6bcb74f65c93ddc3e2a69b61db4ca16a7e51e186a25c21d294c2ad0986234a3dfd1fed6312726bfaa896f5c4f492e0df1849f33efb7402dc213b976d495a72eac657b7dec1c6d7293debc47b9c10f370bd2312f634e2ca287839feffb5fcda598460b402c9d96847a6ea56c6303607c2ccc672b39003e952073bca03955d62bee125f3889be86e0d57759e69db136c3292147f571cff49b9f85467621eeb0e9af9dd82e4b8218561d873a28831cc2dc5f6e515e04b0980842a663267d2626847b5ca7b5700383ff2a6949679dcc59421253541f4190f782ca7184dbdd4802fc1a9fd67c4e65c91b0f7fe88fbedee824724fa002e6fbec65f7ac185d0f62fb31d7c09e07f30c8d96d06e3f50926f2f2b36b19a709f4c92fc3211e2f09620baed17bda0cd4ce01357b451c087990ec16a55d39ec3bd932bc7579c4d59dbd0d00d4a51fedeeb7393db21180799e4bd4a7726eab057e10df1d37d1f933e1392dab6f2b1ff9919c6f07fa4ae8395af1b572031a36fd9617ace221d7fb3b29746e0c09cdff2347a541f031bbad095dbeb32cbca382e787e6ae57468ddb26288da3ec8b81bb627341d949fd019218cc5ea064db386f6c65bfe9e9ee5676170810e9a96f58700e5e8e25cbe5de1d3b0517dcb22eb2913e1dfc4d1ee8653dbd9d4b05d9421557bcc4ac28ef61da738b40db32f6b6d44fc59ae7bb14564cf5b295279d36f8a6e9e15b7885129b92ce1904b5c4488aa6bf4c4bc1f6fe00b2080a84b93cfb6885160e2a35448dd3fd4b95cb40957c99e830aa6bc1e24914cd4eb4609976b9afd4f5f6ad793e9340b4e1d2add836786e084c66a70408a21beb4fd51d5290edd07d0486ba8ea89336295570c043ab7d26ec026ed12483c3bbacccbcd0fc4e8af278311f0f540a67c4e39a122db601aad74cfbc9b1b1f99059f6e70a315040a36bae0b8f402886040a21a9f851bcb4d1db94e2cd4ad3d2d83d64890a756f01c94cb170b38f2f221d266e636b7ec7cc8ee23e6468a0326d2289738571675ae717d6ce150419129ee190b8324b21875ae692607146734dea8db2e791eeb25ed6dfbf249cb41c08669e5c530dd0fd18aa86fbdbfc3ea95b6223bc7de221e446390c56ed90475bb2c050bc6d76fa987e26a09d2683723dc3b958e136513b276d55551784c4e981805bc7d69512fa127b77fe7a56572f3c541bfc3d9f62b94a85f360e164328653ae7e2a0c1cfb62de01fc80d95f89c2721e0bccbc3cc5a9d8bd0e5cb423c756613a268282a1a3a325c6095941217fc66391a788ac01f52b06a37399af44a11ad30ec74e223f8adee28dc13f41715338973f6fe14585785c55a0506c1c892c75955aa9ef679e21e6440a3d0cf686c9dd8258abe035171764bbf0f4da84eebf3fb919179f3cd22684cb4efe04a2f9b0b5fd588a9929b0a540d1f38d825531676ab00e857c6a1a8c120eecf18e96ca80bad0be45bd17821969265834b91b2289a5b3c2e28df53c1d96d7cb99aec09e8d5845bfc5c7f8efd512425c79267a61077a7ff9c50ade323bcd02e6e54c0f9abd59d7ef0c8c30e9e09d8801dbb217438488f47977a6908bee2b9a6bd6e73e40cab7bd26d66dd79e1064aa6916b6c27324a6274a3ad93e39eeefe6c89d0ef406a6a449f22f4b5f7a883ce134d8c6e9b188b1e7f673e28baaf38d6ff3155cc6ddacd6f59e27d1fac2bebf9c3db960e7a1b493e3ef2dbfc0b0d6b439e74613c116e431fe7fe9b7d06fa59cd5ee90e0473b6e88d3d5adf74a3a06c3770e9b5c0926641bdd6f80fb38c7e831ac7828fec1584b611f2e9ab1529224f12d3924aef9abc6464c8116e125cd7c61e8164b82aa30458e1802e60296436a45274ae63622262813b1f0ada5c634e31e86b23b4b79e75ecbb1f89453d034f06a993543a55790681c2b33995ad14a435e60ac68becabf9afb5cc8cc928e34f81b867fa9d31bf3b21e6124d0cadbe8dd09718f756766825a0bb8e436d7de85f6bb2584f928b394980d87a0455d848a8b71485a757f1dd4f204b1393de26f80e5c71b85ee10c4e65187f6442dc093a03bb1726a4dee555dbf5ee9a40d1bd8d848b203573092cda2d65e43978cec71de15a702d72052beb9adc8357068328783a5d5ea7eafb84d7a47bf776fa95c9929b1382cd91f0f2e41edeca2b72abd22f01437314a5ec0f6ffcd775eef248cb4dc7568ac3263b954fed8d6acb358c65c762d555e47ae95fdf783be74c27df79c3a56325198059b63d8ab0090b2f5b232b6cca13e00b963621da23f01ce61420fb654baf797a1501203eb4d57d9e2368249b3ccfaba16b09b148a2183f0aed1dcbe93f333d32eddb3ba019d7e82cf9d497cdc30db41d31af88fe8da6002493c18046abb8ecdedb6a2aebcd9fff70599fbd8117e1f16d4dda2068aab999167678a0adf1fc594eb06e8105fe843af450d9832c3888bf5dbef6a22b1e347109211650085bd4dae62338e022a71b8a9f9f89d4f1cfc8a763232a59d4f6c4eb2666b925d344bc890db8cb3e0b0eba3162ea0ce662ed7857ef55aaf945bf7dc961adb195825bdb98db3c64d957c7f7720c011d3ed311203b3d22673fe0d38aaefb71d139e9d4939a9f450fbb868ff7c9472e822abfdc9df52cdea7fe371b2cb148318797142e7eb794cd56ba59d09ab8ec8fab306c9e36985fb5517acd5b05415dca560dda675b4eeb2886e975c51d2f3bf16a85f7deda165f6ae1d335f991c2b00555fcb9eae092c4433fb05e0feea9b5494ba4a709d3348063341de78f6304d0626138830fb6546590c5061e8d52655d59c2834a2e237392ec145c9b3d63e20a7d0d5c63a1b01319a7cfbcdec815c6a6814d9eb8a0354390c0bdc70d66f1354144c8f066e4585268ede234cbb00d5cdc3f4757d1fc183f9602ff7f9f0d79fe049892776855a0a398fa831df43dda68779baf37a1fdfece8038992c1011aabaed14f62b6bfcfb9b29c523a6f6b0be35136911fe97d946ffa6d184745635c520aa5d8b516f24e5ba16f567633798afebf16f2cd0d51f31e9b8188e2676f4d835fefb1d3207c07957de1265c263f90284049e25a368b33040ccdb623f0817efd4a674d4c4e9c865bd994083abb992e0f44dca0ba468998b4d9dfd23e85a9d28c5036e03f04f6f0942d4b201340edd912b4db888afc9491e2ee78b866836cdd5ebe914e77718083286bf94dd576ad8a28ae5aab5cd9edb67b3334b7346317f58fae95ca722e65483c061fa9468d1d9bac3f942ad353e72cf1513ff50451eaa4f28bf83d9df0806f5cfcb69998f287dac8840aa9ce5f1c96a75ab2206d60040e2f05e6fd924eced836491cd472706e81d2cc85983a12a7a2c2ccaccece24ae72002c0052d08e667656317a3890ab76ecfaf26f16462ec6a7a7dfb616c59401c322059bfb7a3d9f58fb8708c66d1a3bd409b47aaa44a1f1c94271c803e4eeb190aa2ef54d587523f4d8b2947a79ee95897221b2971ac90352019298bd4d4a36efc18f325dc797480da29844454e3394e073a6fc94bf335c5943ce39f74e2161291da49de6365296bf6af3dd08785bce5e249fa874da179479a85c4de82bd9b21955cc8e500531ce64ed7cf62ef6706624c995bc80730cbcf132077b791bcf31904cc91742f5c2e6072722e2a6c75371e2aa423809229cccf630876825593fac5dd492dbe8e88d615c80e542c10965a41dfc3b9046ef92d258b5ff11b7d66a1257e61ae9dd2170d21b9cded8338e2144ad8b3bd91f0d18044733668ecd5fbc2c734021c9c7e11211c6ff5d239d6f39f076d7f41a860aa8d677a77b78715634caadce8c4a55c5f6a11dfa94bcebd11279f8565a834bc0aa48924d00dc50af25ba64de2bd549d8c63f64038277bec11d2fb01d85859de363c0050b029145d5b6fa416ef87e6049c73b8db32c19f7f17e3c06341c26fd0382e5853a5738ca73f7b0cece27db621068dd05d18a83d5a320090bb5a46f77dba603ba429ab7f3c6ff11c3e91d39dfda197c16a6e1cb2a896ceec6c44d893c7c4daa9ae95232516f6e966b9791be71bd8fb2805beac2cb581ffcf9236d3160f7414a1c68f3ac2857d46a49b182f73b8df235ad1c2ae706952eccea4ad61e769e58dfabd020ef89fa29a7715d1b6abab32ce3d2aeb689fb99c3efa1bb7b0653cadd8bdb905181db4e106f0029e4b63f832a782aa0397cb59aede929abbbf00f08a470399028021470885660f1f4d067cb4675613b23fae92f25a81c395211eb1951490294b9e7017b865eaad0d279a652532516b900cd968f92271d8e1d3f72e4b23a5780b1ea63405c81142dab290644d3ceb148350a5b74ca79dcd698d2e00f1377cf9e7fb6fb1495f814a8d30b6fbd98abb4fb92bd2ccca08d2bf83a8fd4e331ea4501060bfccb6a33eb5f76b1637d55768a29245225e9818372a85398739ebd20999776f4911a9cb88694d4fef88e95c462d897a72e28fb689ef8242ba803042945252008c1224880dede7103ac908d0cb78fae7a2753a7e8947bc067d651d013c16f4bf48e73eed250e745aba243906624aabeef6f1ed868bdd8d79b16bb9b46fcf71af1aecae3493f87f4018f3184a47a76465b3406dcab62adb7f0baf215ba08fa29c735f9237a7f588f7124e4c143d8f611790c19eac3b8e6dd876e1798dde78e531f707664ba39ed0f30e3e9624aad8fe3dbec3dff9cfa6c7d0a305ecce2c7e78f8c7bef1533704c2724bc741efdce8f69382c8ca3af877c4c98087824bc64beb49ec71c3f776f6ee46321c9cbd6f08571ff98a6d0cc43226844e6bcfa4eddf7c80dc54672b6bb6d40b54203449189b3fb9ab21f67d96bb92dcf31b90e3c077ff24e129eb6c137a9b1a9ffee15aef73bd28c49733a0b674fee2334f80276003a5e5b181f56ff95c72a44ac7583bd5d6fb795072b7a4380052e1727250ab6872cbb2309d28db1ba18d5dfb3d1659b04c8a9b027de4f18e1ad5e201bdca07beca5f96d8a310878ad0a6769d6c68e45e8fca6f15da76bcdc23f54e55cd2d4fc01fc4794f7abf80a8c998ec55ab935d6f9a0bf45d23f1d4834efc729b5f6bc2451b8ba6729c3b2674ab7b9b5366efaff6d3b0ac30216255a983394b1d5f1af4d2eda2fa31bc2822691d9d749afec374034c4c10ddf87091a2838c6ab441e1871a174b117a6da4ec379d5de387cf87e0ac73221a1b7051811037546926d3a9d6d6e9b08c6c9ca83a2329dc526ff08fe93d150f897551484747b3f626f84c2c7b1e72192c27b9a6bc01b6f9d8e535496e90042d12d2bf06d1e7d78e8b0ed25c94ac607f271e3a52f79a13eb5d5ec105073593d3f275995d26dbdbb07c44b4800b97c7a04aae7dcb1601c072b7e248e847a57ee508242091ed0477f42cf866be8bf31d45900265158dcb0abfebe7c660148376a5a2675ce86f464090cce609d1761eeda8f294f3d2eb0573d8c82afceeb43226a5d3905610ac88ec0139e17f3311ba57fdb910110ff5eff38d5252bd39e7da7fffea2531749b7e4f8ae3e21d3183203957fb66b16b834fc7aadbedfef415f3e4272f54bec936bfe86d06a900feb0eea8e4fffd3292766d50f8e39728f9cef12e7b9a36e3aad3a52c3a7f59c0c959d6b23f19c27708edd9fe8d66f6399f1d2d9117a05196cec162ecbc12bbd5c2ee8e17b15be00e9a12086634c8e5d19de84b1244ca7ac37ea3c4b2cb2a5bc85429f3d07e8b49cbaa7189b402202e58d117dcd7eb5fd3449d22467c526e006cf748df0324b784d283a7bc842a8f9f084b0316beb3f13bf9bdddd84180a742c23c1351e208378b5b54f5746ae7ea42b5f33874253f10af49dd6aca0c2722d8471362a9c27607a8a3c5cd6376d36d49b390a1eedc0e1a89f88b622b2d1aa055f5265c175dd7af3565edf037aca9ddbdb300cfee301ba74784e8689c08722aa6a9b6a6e9b0cbd04fb48580bfedf0d82823d37be9859f0a836df966ac89788c720e7ac3baa3bf4ddac5abf63d054d38b9f21ec54fa86e5b107d361651d91bb75a42517168b070f46ae8c091dd46327005f692a1864c89ad73a059050918bb008f6a69ab18b760db4e9b9d07c569404cafe39942d72cb4d9d368c4b9aa96dcecf63afc50a840c1fe6eab544fc93bb4ada53b7fead8231f477d11faa2a2f1c5262d5a39110caf06b66daba18694a7409b77283757fde361954d7a87395b90cf4dfb1c9b3ff4a5d7c2df4cde29a4a4a1db7dce804551427095a7750e5f537cc5acb8b137639a81a643141aa0e2fa37987919a6231534b9de103962052b3760f2c21822c8011f136d41c8092761717a81416437c34f62aa738a4036857088676d9048a8e9c2b861ce39cb825d3407ff29483b1646238c4b1f0ff9d9832eeb0b7de500b3e3caa5b290a1e7c79a69d4df167cdb4331afb6b623daf02ffb454f0a1a821d7dfe8029265c6b1d8317db2e72bfd1c4c524906547424430268e849c991e747460d2d23f0d2dcc10762b1cb6757d28c09ec6af7a82268fdd1690b055da99d081fb27eb91eb48e3d86b5c64a78a2b04ac667b74e7ffddb4497905ac1ce15828540397d9475d56e9a6e83fdaf5c07bdd435b34bcb657a9d33a70628d527473f975b40a5eb552dfa3acf084cd0e28124a63519e3fd65da1c6f3ab0be46408dc641695c7e4da0b76d5dcce6a8e022e4d233eecfe96ca6a4e49b4ed95cec59edd5175a1d0ee695a3a8090daccb6b9b8709285a81f8f41e0164eb3d1dfac374740c80360473adbf3d0527b8f459480227b4fe683551ce69ac33353d7077d32fc826839867a077b199d814be7c62f8079d21c98c356d9c650b9b7886a47579a9bb82930d4cfe14b92916f2cd76033e65d9b69aa436cdd8e3bd4f2ae1ed2f0d4e9a9195afe82051b1e8f6aedd018aef1d167ca047a99cc1f1ae52388227bcd116a72845a0b0dd23734de3af73f804a238e879ad8c2aeefa087fc8c7b4c9d78d217020217b79fc1c13b7a44cedf7499907412f17e04d04ca80bfb981da01683e2a76d6038ef527729af5b68e0d48beb45dcaccaeafa6d80e846813aa815f9ebbf6344760c9a07d5b892b5e70c1102c8cd40466f3b97cc1309b0c6ff864a772231abc55c4b868d52bec8deccf4763f34b67faa87ca9412721bc3a5520df3f57dd9700d7b0f049c02d29737c0ddaf6f1e01643feabcabb709230de9f632ef441b0f2c26671d8700415e117da6a0184c77cd71812ea45cf97a4b9aac15c36a6c18aadbbed855447b0c6d9e0170e5d8789e7ec927ecdd1f507b8a32b86cd92c63f84f7a3b8cbf71b8dd73c19efbd41b19bd8b884a8cf878ebb623f21ac677e9e7c33a4d5fa61d4cbdffc392dd098f502270b54ad2ed47c9fc3d46e78b5bf86c527fbf78261c77090322909f3c8d73f8115217e70aca2514863e7bd8001a09d4b4f8a77b9c0d1e130c775270937870fee7f54dad27eff3b8ece04261aa4eaa6e448847dc069db7e55c7a8972c4c0100aa021a1070d32ecb94b95460903bff0790be49396d138bd777cf316b2e36aa1f20feffeb150291aa5e778af311d9b1b29e3abab995a359d21da04eddb953c487f279cc675a40d991b0c3d7297a2376882a329f82c7e7810f22b55dbab8405630e6a46e5d94fe4840b701d29f3f243ce676ee86f781f5b83fe7eda7cc0a69761c3552265a924caea51762ca07dadff889235d5dad5195e74c3e18b69e79e229bcd4458a3baf44699cc83a0cd512ce65b26467d0b1d87006b3ec97e2ee69d996a3645e40eb6407fc80e93322eb93a25222c9b7a0c21331aa18de2820ffa0721d952284750479ea6397647bfd0e56d6e2b26b0b8d738ed236c0c28e529df53e1f066893f811e64141c67937295c9e91e1ae9911105bb98123b100c5483b21523ef9ada3710939ec63b5e4e5dcbaa4daee1ab085f502d37bc2811427fabd9497fcc58711101e67e2c0d0fc331fb0b4197625bc3afa21a0f73d35150e047b16ac036cacdd8f1dd7cc70f7db565186152d909d645e47ad10ea6625a4c3cd2ef9825da657e3f6c83308a6d05eb07855d13f7406b3a7a24f69dda39ad7c57466463290c8e98a24bf3fdd57096ee870758c416b04dc0921a7dc1f51c44ff91b454bf5ca86e22cabab33c2ddbc7c0636abee602c24bd1d31274900b0d4a2e3baff294cdfd9b01f07b8fdc25157143ac0ee1d356e393eac3e590ffefe115a12361d95b718dd06e7434208cdf128e463fd451c189440147bf4d049f5519e69ad57e5977e384dae84d1335fc4abeca4b2b68cf2102286a1a06af37a049cd65e9ed23516bcbd8b7d9bb1db6136d63bad88eb46e9af8c52a67ca8cc0ef8ecbcec186d06ed5ae814c5e51df89910b79376ff6836b8c94c471a2e2ee2576b05c9073aef2695b04107a5f4afa6382f6b8ade5350cd0804c349704e11ac6a10e2bb7278d5aa2d856fe882d37bb794c83757fc280ebda02a1cc98b90d6cd8b16709faa72c98065b9cd5a7fab65a4515e1107100736596a06af210a9f2b05f9d2ac6ecc811bdb242b7b70077e4ee3fc3860cf6f2d203b6a130a87b0aad853afab57448ac9e533046c51f267a2ae2","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
