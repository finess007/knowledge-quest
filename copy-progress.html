<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"63afa98894dc8daa9d8b7b353fb426e989a27c17ffe5cb6d0a9c075b936e4ec009b365687733b4dd2c0be2450f729d82e9f01cc5d5a2aec5a79245da4c6fb5e32dc3ad508b9f25d4f35cbe50a92438b91dbbe59f83cb63a0f5bd4af10bb1e18cb0d0a818a9867668fe4d41c23cfa95326dd169b37d717372a7d93afda0e3496a29421eb5e52e485a713b910c951c059c216fe30371b3f556cbcda5c4b112ff4374d042a80ae4c8c1a3b93304dcd9c089fa63939d91f697fb43fab98f41f1c1b6d00076d81c0fc09c7671c25158e7ef157e47cde675b9cda10ca324f9ea069a5097dc2cdcd5c966713768c08e465e1ee4e0f9fe37e88b94303e607aab3a663e9b333fd13b9c76948d07e37e925c9cb1d1cbc818300589bbf30d5bb8da9b301923b9058a280ab8ac3a5f1196e48362d9f2c1a7fe2a62447180f843d69baa39d2e1e61d58677e8ffe27627a357f1a9c94cd3f2be3dedb73f463926792637200490da2776545273d28e1cfb751c2c0c61954a58f8da93373f421156e12395e83bcdba2716628b46e438e2de96a29665ac4a7c4de50153b4d9e87da924076f763e49fa520d88aa366e28778bf3c239309b7c48cf76ac2359d5c438159a748954c3dd4a2a1b80be460cd4bd2d77ee82f06244b1ebbb515b1481176d8f338ddc7bbf61671e8b46925cb2ec0a757a14de651bd45d1c2023b04618b1a456ce62d53b211725c3450de3905d306cacd64304f853cab9c69ec400407017753b5008bab1f1420d0af009e2d931837028b12515f9c5218eb5796936c080bdebce87bceea702b0d18ca2fc99fd72de964200aabfc6a09cf8895659bf7fc206981968992024d8385c2bdb6b899df4f958c522689f38e8969a6257644efecd4dbb7e426ae1bf972bf07038f57b25aa1919ab756bdef0e318690ecd0dac483af1ea995c185bdd9ecb6b41db5e1e68edc7273ddd9833d2dfa5922221939503dddda80759b3c6cd8b005c0a0d5e8ac8d1e78d99ed7a71ff1bce19c20b48c98dbf3b5ef50ae3813c4a00c053c4f0fb0eb6ac257739343ccab280eee3b6f904d7752fae00f7d0d06dbd831f6c9d583e3065d4bb9e935bf1379aa21e4006f10dd3f72fd12594cdfbdbfd9c46bb374b5ee6c656646d44df68cef84ff2df96bc4a5be9228a778c2041a7de975c460f95b7a2503a5a1c98273e77a7f2899bda483320c46a3b0c25f85e814be3d82bc65839c4d88369ef7656c7827ef23444782413f95ee577befcb476ff7ca6e653d90abebe7ef0593a0f760ac57ae752b10585db28d083f1c706d563137ce83d698d82d2e98c710a14b4b9b23d4f0e1708e9d969451b1439d7edbadd30008f97655eb8b3e1b48877317e0b89e72b98756aa311fe8bab53c8c2799dd4c96309fd2c428c1ac8b6e16cfbc4ec5383ed1f357ec81e50ba737475381f1ec7e8cceceefc57645b0b90c3e26c1ccb16f4be8b8b3bf84c39a6d2dc6441b3136788ee14fe9f5e12befbd23fd294351ef3d9c3add2743760eb0227b52b0fe281d77abae86e862ea3c24ad6330146ce8e9a965a3767bd138aab6d55da95cb664733e1c217de9d57ba8bb1c382645e6a9cadcdb0cf815ad4ff83644505632428126627523f5f11a443764a7c6c7e6a661a3c197218158e3299e71510b83f872c4ad793a01b835d2994ada71d066672fdd74a3091b06d93529f2aae55dea7bdf335d5fa86aa47d7a82ed85846e4afd08f6cdd49a1653a56552242a5244fda59abf7d69636d44938a2528dc88fcc288f4925b86d9e4dab884ef26fb06df5f2592676788206983f4a3251859570c016999f3bad7979c18e7f7557aa4bfd25e18714d4e3bf1dd24eb49a3e646d8697d09a52d98121728a7999cf7187319b2da629754789ec6059bfb05717ac57a2bb6ab13326680a5c424279b039c990ccd75c2c9fb5c123b852bd71cd315ecd6f17f54c8dc1cacb447d512b18b0c3208a11a3a9424c3b17c30b8b0e5a795e078c97a8add0de491dcce7b64e7963dbf12222c2d9e0f3be8272a0946abda28e976287bda5a2bef2d968417fca034ace4789d38a32498949013000932a7437847ec17121efe3661b869c33c799679402e39c545e2f5411c8fb97461f32aafaa82f8f4176d83ffdc49836540a8c7efdd312900c23469ec3d38c793d8bdce4f3ab6250dc1b8a7a71fa2852e45d2b14d1dda7d66713c1b925e991414f98f7044064d54ce25d753c68f9329cb86c3dffc8d039729430639bcd34c1ab4257353216e6c65eb5528937b1a3bda3aaf8e8c5369ae6ce893d4b79c689f591d9cd3d6efe1eccc83a8861a1fa65dd1da3060755594c86f2851334f2cb2592de4cc5921ed62a31674ed6377b33ea48eb6b7c1119fe54fcfa3d5e5d20a218d3375126fb6cf156f6335f393b8020966b4570e0c791ff838a625677a51ed89c0113e625716bf73a963b335239c872bb8b46a43b32465700f7f8e8f305c833a99731c9e525e219d21c861599c56d60b92df0cd45a117cfcc7a4618c98e2d5602d50607620361036180a31c3ac3157137fcf3342ed8dba0e1e741ba6b37bd050d95b061fc4d9e878d0be61f8cf4157070999d19118075deef5f29c63bc5b74bc44a36f0c6ab972292e89318c4c5fdd480620eda899bf524855d24c6214ede2895a35a75ee1feb00a53e557173e80d5d20607ba324cc4e76e29249d97a4a0beafc8a10c0e82ddb458defab1c9b44c7aa9844d020bd0c78702d60c921094d8290e4675b0dd6490811f6ed6883c56326bcc30fb0539fe11cc4566faa6a9eac44d9a6cc0422f85a0f6b2f95e6a9809bab37813955ce18a0a37bf8886355d4142974f5f7000143942ab9cf75010bf9915b451ff8b17a6d18734f721bc05d46bf16bf9471448c7bb8f2ae313194e2cacbc2b9c17ef297c1267aa9adb03fe32fc49e01da12a3fb5fd085065f7bedcfa8db31a5f4d42fae0823936d1176ed71dc1a591100bfe77f3c2d11403b24aad4ce1bf3a0567ba513b9681987fc4321c488d7e3ffa932e73f7c2e73db870946f38104cda53e4af700461b7e51367dae475c3e18efcd3358d3da1e463362c93adf1b45fe17e09d753d91aaa3d88a8dba34e3c129678534890d2b2659ece982087da2186a0c6f5ca6e14dda65371223ec025b01995b7890a5ae5563689cf1fcf2f73f7a31ac8da971ad19f4d9b97b1e362527a79d6fa5c605c2a6ace5810d67acb8183c3ccf894fe75d95216d71dea2a9498dbe922374a727ed6559e5af16219bd5ca7b0134f73deb09c188528a59aa4a156a88aa692a2d7cf03dd279ef4f2965933e6905a20e242b580922a1cbafc987b1d4fc115019a0fdec82cd3e1ee12ea48b1c3516a896052bf49bca5fd08aba525991b29a19eb022dad295ee3c03c770d0ecbad6736c12677cb2764df58c02866f778a005aca48f2e98249eaae93dc3f3eaa8d974d331eae5673ea87703c0b40f925effdd97c93cfa3daa164275337b18ae8de0b51d6fc9b65705afde17e2d70b65375ed63f9a779b12a925d08238ddb07ffe9c73eb98eb74b17868b182195f44425c70677616b2f4481b470a051c9bfe0ae17f82824e0a5683f49bcadcccf205001b21492f9bcba010ba1d845d9aca8b2c56fdf00cb0bed005fa583bb5c881a227803e3d776dcbec4568d7f47fe293f9e700c61b529919e4862fd7e8cf70c25e7047d91454a5d3e0acbe8ae6b1f2daf093744e2fa83b9346f718eb774fbcedc0240d120bff32b933dd5cffc0f93cb1be98a4f41c874cfb8d967862abc676a832362556736d72a78b418b409713af5dd0388bee1d56a8c3aa969dbf9c94ffdad8fe31b3c77364a9fdad3a2dfb1b0ed8d3998bfbd6b67ec2babb605645f6660ceff8ff9b18d2e53a3044ba1654a0dccd9b1872205ce70d2b2ecf6b9f3b9803702e7c7725029a82b832ec64f7f8cb3144bdbbff8e5b5727475790390a51faacc621cb592ca2cc25233b69bd026d0f3d5cf38930b2aefc4743da95247abbee94d9587c037bbc49381e9112824f3f13ab0e1f1c176475a141c0f8e4781572bd599b5b29185a1494c3dae53943394143a5e8a7a8286816a2f68c7cef441789318a464a106bdeb212f1c12b829fa03a34d8324c6e6bfe849a6ed86db81c8e9d976b74a784ee7d26c622d23fd476a7fbe0de377d28d8beed43d27c587317d576122491a7e68fb394005a714175db00833b6716a81f4e92bc0e57a08646430752eea72b573a2ec7811881d23843f65ff37b82498e96167a173eed86f677355e2ce1093b7ba8a2699b94ed05a2a576d64cca51bdfe9e879c07628c0bda5dd4abe2e9b66430013dac964b387688915e651e9ccb749080b833f9fa11f7a2754850ef4925c94f9a1f10f0719b44954e18dc95ef93747b762e51b49af88546bbe66f447f607d736abe862b261598d967a8045fa356e1642795b86642f4a9b9d8dba4082a2aaf68213b702a4d609c7eb7ba678dd6240b00a55fb3f778f071bf47dbc8ed2f368e310f059d4f4db35d7df47fb4bf2681179482d78d0480e279a7d27d38c0151680e46cc54724a1ba6f1ca003de4042a1ddaa8c3dedfcf0a104620c11fd53b980628cac31081e270a2499fdc24c3c21725306ac06dc1f9a0bd990dfbd2dded732fe720a46e0d85d16fc773dda6c8348fce2ebc73c7be5d7c6564e15122c0837b492602157e8c82e3492640236d905aa71cae8338047f2a6619810eb8f6f7a8094a89132a2ac45442b8dd2e2e49a5feea8dd912677fbd9e29c21b099605b3075251de6c5ae79e2271866626463bae15d34cc7bb7c0939383b2c31a23b629b51ba2993517b5a809fae9995d7de3ef4f1bb50790c373170cc2efb651f7111fe7744ca774ef4ba6bda1b2e50d6ea5cc0b57893fb2ed14899eab56f77225eb6cb9bb57ec9e84091696387a5c5925ce6418e0ab3717490a9a4f6ab0d165f0e900a7ccda746e60766b46e644a2c2154cee258dc477de496682670ab7ace75448f1991142c67d2864292506a221bab7fdab799b778787897cfadb918de788acfde96d6e28d0046626e93c25cc3a0a99e40d4b9122992519316306037c92d9e450e20e6e510c9fcf8c063e37117f38acb983c4e1b6d2279cfdee45473ddf5792f368ea6d2ab8cdc24c1c49e3d8a4a26991b6a36d81c332780d77bcfaf82b5574b6fceb8462f9c6bccb87ac6ee71afcdf60db61e3c107748686d20c7c7daca1daeebfde7d5fcf862836be4cf38585e1a23b34df9b3c8db9f24be182dc002cbb4add2cfc78075ca03ea1bbd610690472838044172293f08c5ed08108048982a2efe46e88b255f0417c098ba370dbc6383c1e39c16a73706a0d792c3dd6e5961f6d6cf00167c87a44448d7f9cd642a6d6ab596c2f5ec30a8603d1f1504ed796e1a734ae89d0e8869bbc0d7843b6867735160643cb9e5a812ca12254d5a591c083bb0c580453657b25a717c6222a9f571d914b472a2451b6c7c8067cb18f95a974d893f524e7c4ce14b6a78ab81e9715b6648bcd3d17d7242d732af51cff9a5ccd4a13c96e7f0303444d52f55ab094e3b5423b42b41a727244f939ed95c6ed179893cd9ecb5bbc63a10a86d319894d9b3baf7a1d06a83c8047890a5bdca5e459e31ed93544ab12db372d1657716d9cf4ecc3a8cc04aec8419bf4aaaf3de1e5a5d170492e0af9b8481d80f223e35e22bbbc401de6fd52f514f1fecc5663f723f992d76f67d5d9405fd6b4cd452d7173e4376302cb2b994b0ebdb25f2ead57ea2ddb6edf5fa1baa466c3d7d56fd7b5a02c804bd393c1a84e4dc690d606e0a6a552047fbbb3c56aa880ea4222ce3b077aa27a2d7ff469943c4d2498fc4227fdd469420aefb43f1e9a05d7dec5ecda65c20293ce7452410ec4927fc9c67ffba8eb3f9046c1007736acbb145ccaaa375d63e588ec650a60c14bf9763d4f5037a5253df14f5264d027e3e36612b441710e2c3f3c27b76882eba4ab143abeb85df9b5f47d865cba0cb1cb0f20a2cd329df09ea550702109ef12a2a656e52c8c1a3d581c64f067dd71caa0ff9bdf4989f6048445b848aac38860020d42e80cab32a5877c204b2a364be0f96bbee354f4871ee7267c746a89c31de55fdd670c70723c065f04a9b1534ba186712f84c57da52f9d170fb67e9e37a96b69cd2d949ff2becb0bce3bc58092a1bf442cec1c5e633d7718bff01a0235d74092eac4de5913c4d9dcc8de3144b96eee6873ea938860c4b10d4502ac20913ac39d9a3adaa7be8e3f1001f54d25fb6e6cb350300c220c8b2adf3fd14cc8a38754da5c4c9a12567eff7f5e0f8f865f57eb2aaab1d8b5c6df9562f3c6d170d39307cad7802ee36bca51b2292bc874e1391f6a26e8b065cf248395ce1f5dc16e076179532b708e5c013ff1f6be5ccb08a00841b5b5719d4b16214d183da6ce22b74ceeeb9a4584c08088ed53b5b969e293af64f3d03d93483f03cdd7578e6197db101b1553b02f03c3e342d1c75728a5fb1c8a0788ed7bde0bd84f537d573d865718449dfb61039c782ff659751f160368c7a46e064d27694c584b37805201b502bfd2eb7284ed6818150cced5cd3cd753ed56b3be54977b64e485c2f78cb91f9be2c66b209cd4190fc1ddab4bc45ab52abc76412767e66f8e2aea010fda53fbc53913fd661afed6fa84f723a2a93ca845f8643427f6bdfaf7b6d8a1d7eafa5872efe35f8c86800fb08a1a9806f739eb6f7d105801b1b1075e0d82ee9e6c7839d008058149fa3c1d6d937f4e25e7df3b301e1dc045a51dcd4f25ea919c33c8bcb1550c2277c778a4d1154c09b948c44845eb2e330a08a6da1ac8d84bd58e872d979e4128012f9e318c59dd8afb359f80a96848ba84a8ba79aa263af530aaa9ae52fd28096b867200d8d4622df518d7abf6d3589cd57bf9626f10ac4a593051862c66f0aef00ec9305e5ca276a801c399c72fe1fcc46484af73a38dc7dcc2a803b932bfbce84966f185396dae935bbd6794dec01b93c8e8e2d80f3db35286588ae526bebd919ad5399d948cfd102b55822b8dd4d18f440114e78f5ab170d0b36aa3b0b015a96210ffa4c88f418bd43f3221d454a8db476d6ac5cfa2b35c0d0135e282178bb272bdf8bc61c691b128b568e3f1fed4fe99246313c78c23c6fcd79efa7fd8a12ad2e3a8c9c98923f524f5cfd8b24358db14f15565e264de3b626af05b07d46035ab3e50f053f728861bde039c019330e859f9e376f8d5c214217091a77e2e840e3d2a389c550c223150f109b98115acf0b928712755950dea520ded58a670aabc65910cf40ff16aef8c25cd47ddafb090a62cfda18f4ca16faa50eded6f46034681bc09fa4167a16d0d90df205a297b4b678dd91339b16f8c092ffcda81ff3f90ea3fe66f0d617b902745dc0281db77d8b50553e23a2c8a4c01a2ce11a871293adcffbfe66d5d5b010404ddd89a18de284b4d476ec412a640da2cb8ba39891902ba55b237ce141998a02e0f85cd6217e427aaef4ad3a9c87b9ae1816da932a2a95d5406ab18d115f028ea3f6533b1f47283323b693900c66a295157ea948abcf77f24dd46cce9c880932028a22f11cec47d2bb97d08ff546504af712e2bdcba0f3e0092201c113185e9b7ce33cd768a9bf0c9eb7ac9cea0966feb26af82dbfcfa2c304183346339daeb8102e4013b5cdfed0baa42ab4d829b60c85ca0b29cdc61636f96a710d6e535f1f598386094ac50f49e0e20bad3da9e65666ebe3da0e7faa5c654fecfc8865d2725f6b00d517a8feec5c119a8d004d82b633bc6857efb756ea8aefd76721c4f4166b1c68fe1b3029e69951880593f51411f18dc5bff16a5ad05f94b3903d4624c9ab7520d0654f94b193981219d945bbae9ee4214812f91119cac2fe659505fff799cf6e3c7e7913f7acefd53a1e3d43a61fb280ea940e74e3552baaf1882ac3d4669b641f46209dd18cf2159b2dcc0b9b15456c5b366822ba094df8a31635843fce0d53943604d5f637dca47f1e688601e444c0c58e4c769b37396ea9d979934e106a69675168cb82ff8aee93c79142f47fb47662333fb1c4a1b07910c8f6325d29b527978af865afa9d361a32469d9b3b94fb6cfa73d96c4a4586f462830dc08eb0236b1ea2a1c9c1139ba83494b67f8a04081a5ec7c33f6a3b37616469d725396b3ca323a5d2b283a5086e757cebf41e2d0e18d164b99f0bef5833f228014789a45541acab3ce3cf318c67d61888abe1172250851430bbd27696dc94a8538a96b0bdf9c85416d8c305f225b65dd05d4f90474009c63c5dc6fde87bbb6ed6c6a980183c4870cc71c2c9479e7d2c92aaac3da350118cec24aaa0b77d031916aafed6c40ccc0a49f4c7485c4979fa39ac9d68f33f8dee94167f1d613cb3d6b556d20bd74cc0b92394ce640483114f47d5db27a741aa49494db9c909cea44cae88155678cbc52d5feb425e95a8d916d349bfd84cf637607ad8e91e63d29990cd8a9f618a3e7ff209c94c803ae7cb68d71749003fd4c1e9f3c3e340f940af59d9d950e01682457d138a5184323324d08842396fa96668ca9ebf97d56a74a05b268915fb169ef6f0b79dce7f046c12f0e8fbfe7324070bb3784621444005fe167bf09216e7d4151c2c7a6441bb5566473b31944af2cb41539dcf8cdbf5934ea830cd4dafe2a115d4043818a14a8f23168220d029346be305998862b81bb903afd944f6489acce8fe10ab7d9f61471a4ee302e47bf12c1965027bc03cca3e1c36fdc792918df3f74d5f161655fcc0538a7ef611e942120e32d8481e4ffd6214a8b1614e1e6514a0d2f9433b0acb5854f42a2ce30168ac29ad6f630bb69f62bb9e052b970126845681e7b90e447cd57b7250b1621aca4d4c9a1bfcf759c17caecd37ada02c8672797ba79bcccec5af698477b7e75940649a4f0450da268219a4650468fe6795438e9e50244716675ac309c00371e4f40b3e114fb162acc5653fd45d5c356684a41085af704dc9c678c4b2a35f67563ba42dcfeac5183d712b0c2f12ebf8a56c9da0077a308cd60357fb36847d1b170dc78f63156cf80bc68bd767201ab85e406cc6b874c3042004213fc84d0547f7661dd9c87db363b5ce4b3a0b41e4dd8134a838bb8b494372df3cc78fe4698d90e593b52e951b78939ebaace3a9840772e06467c7df51adf91d73db019239d82122b2819ed779541b9fa2804401fdd17a93d0d1283e0c65417d611f604bebe084f5b1ba2dbe0ee21f948bd3a24cba3026b298a6c3f041e96ffbae4cf58c78f51c2964db072bd6c1bf77a1c2baf75796723261848bf8cf46713e36524578a4bae8ccb90ffc535fecbbf8eb74d91e7bce863f373cd21e14da7a5188aaf8d9ce55ecdb83f2c887b4627871e67d70287fe1311ffa25d525472b072b0b219b0831f371a2c18f01641e6d445d5b0bdfbb01ef4aba48b23df74253b8a4299c865eeb97a57a68fea26d407dcb252e86d2489733b475eb49c9ee3f201cc4b7e47ccbeb7fecc5802192eb320d4eb0f3daf7be9672d7db870d1fc754fd9980f2c3bbcbff953a157b0ac8c1db8772f17328ad06260b07c653c998d6c0d31c5db2c6acb66f555ccbf280cfa43bdb088db27c7ef5d7d9159e86b07f5fccb5060ac25c489f0d7e246d648882737015918eec640f8e73540a417c2f769afc4464e4f0e71e72c496d156670ca926ca501a4c66468d9a345245ea2e655d1710103b0134da20dbcb6d39f9506093001bcd7754e8e810f8914ea3e2162e0718ef96b459047c25506d30946e20f2ac906c048810ed2249e5eebc5ded2c24b79d8d1b553b87cc0f9781c3288bc99b50d6a78ab2754c783c25ec787404b75f3aba23121ca47e9dd507c6db621aacb6a220bf4989c7868696a39279db02337e520c740a6d105d73fe4fa426e8bd407fb69c66a451e59fde4f1cc12d77135c1f34e61ee98275d2bf181e0e5404f937c3722ad3b459a38a7b096423147d7dbee355621117b40323285b4a6a7175098082dd4eeca6473e671f5935fe04aad2f644836b24e9c5ac985e813479c1cc86d9a2f943f3daa7d1f9ee81996fe0c440c3390bcb17f192dd48ace1e82a5716cc5d4bcb21c6fff8505751800867571b6b9031383564ad54c4176c12910649e17fc675eb06737379f29bfa52c57fd84e82ab045b2fa7a5249c9c21104b274b3995c9b7b085c70faf2f95b432944f9ddc201bb4a725ff9c4f814a4cf147bc5eab68771afa80ba8837f5cdaf010bb1ddc45675c2325ebcf0b8a34adf1ad75d772048da51e23756ef6ba960c9fa480758e18e64aef9c9d7a0da75da9edbf40bde7d143a93c326f1b7b2f2e01fa3cebbde3fca831674cb22772808c8bbcce6f8ac88e1c7f08146c15b225b35948500019448756ca7204fc8c190240ee21aaaec909fe0966cf935f7d5d76ebe76a6415c824767b6fc29e05aa7de551b586ed6ec4987a96a3f4124a9ad16e3080d55ccc6aa3c5af7e7e88e29c94caf790a51b02551844a465675f66b268e94c065a7b26ff4f42051b80386ca5f81d4bcbb2b3ce4f12b4cb1146971564d9b6ff9924a74595584c6188dfa4165580ae9f46247bcef87700c2ff163acb374c5ea9c5560254771d8f93fb6f94709e6a72eee6eaa4be695fd8d250f4ce0a6e998f408703b3bb04dcfdb3af5661926477d05ff266de147b62568ed7c63e35425cbbb0d83f96a6dfd40524dd54f958f93f40b1e55efa97db9e15a7af6a1f8d930c917157644e411f86a06b2c1fb1d41e489e466ba01ae216c74c711d07d1f4c82b7aecdf074289c9f1cbe922ed7135cc474ac7c820fb84006208c697f6038dc3470a6e2e5cf668511b1a21ce590b0a171812d5ebbb5e43017b6a24ea9d02907fb42d1ab74c2f459e527ab175e8647358c5deece81adff5e30ea2592701f88a5604c5eb6c4bf2097c0bbb1c64ef86f4a3a31d888b2a84af3afc302db8b75adb05335b54aa4237e865b133059d9cef24df2c06f1413bd6485c2d6b552a6f660a431ecaeed19fb18620cf20071b2de26dfc8cc7ad91bbc60e5ccea374f5f00fd10ffaa4e950d660cb9ef84bf3d0cb547310f34441269db8d94000f7000f204e1cf9a63fe00440d6e57aeeef5ddfed864769bdf487651c2262c824ddf7e35e95f9d40b5c0d88115194c972ad365fb2cd07d1ebb4920ab0091bc2871a0702e9f25ff4d09f8a22d5849bb0dcb130adcc5e796a300d9fead7eca435e92dc58be1f82da72012e0565feb36e04e359f241458504912d6607ed105ecc111c1ad3b89ea0f788e1c2e8caf918e03f5b27539f7516f9ee866e1fa4e8a0be6f76e1cbb628c4207c3daea59acb13efe6248d42db2347bb9b7ff7459cb52af828d02e8c33d18f17ede22ab14561bfd633085a2defac9be646a87f058956ef903b092b00e7f64052be01d53d5d88c4df20370260db706e56d1837e9833b015cbe1bc0f28db140f0fae135cc89f2b326994432df80903858f74414ad0284fd4ab4e9b6fe0b5e8a52c243c3c72aa0c463fca679382cc6123529b7725050ccfcc06bdb14fcf0cd8bae53cf09807848e713e5d020676acc95c2a5d26ce3b1a1f8e54376f34981d891fe2570559dfff57a790778a7e964bc4f92098b90ed8d6f9f62aeef2967d7f34e15186ec91fe512328692a5380c8f355a6c985adb2295a101a87b3e2872595ef3d67c222fe8538e26455c677ceb8e16807c677628b830bd74a5cf659e32fdf1edf472b0c8738aa1d03540a6761e6e54556bed500068c502e84956f94d7543c87e602ca6f579c119691fca85e5982fc4872bb007d2d06d1bb8dc210bde994ae125e72ce69f13d134cdb2d29f6f4a46f0eb6f13e6a00f9ef2cd5718dff69e14803b279d39e6a38ab843ef3f61aca56288237a39bb3ab59975741bac83fd01ec7371856de442f30f257ab8ef2297fd3e27ed6f1151d122147203dea3a9edf08b52a52bd12ef4f4c1e7bdb34f89075cf1922486d59cc1dd3dd0acdcc10c0b36003766ec35c695b784c61a29b60d8071fc2bd3c363d2ecf8a05411928610a26e7cacddaf99654339d6750de5023fe3ba05413105f174eab5a9ef6aab3b2d1afe984b2d895022e9b879004de2c7f79159c756a8efebc6e93739d6793e280279c6a66574ca7c81e1f8ad5ad4d3c6b8828b74392eed8ea10256daa72b07120b1b1daa7e343bb563193851062af55f01390264fde88a9dc1284959e443e8b7ccd748859692eb08474a9b574db1103a4dcd190f57653337f933cc7085605784a02023a65086aab904696e2a9d0a494cbd6c82f30d395ac9ea5a9f7c3ba057b8fdd89a21f72df7bae5bfa568a52ea6e6e1b151f0fe7d4ba955f1faac3fd5a1f23ab6adf398eb97a12d78fb1d4797cf769ee79811b5dd8c5fff1bb4ea495679677cb59b0a450899fcf26f27bd891525f71df6e7fe2e65c355104a4514dffdff974155f1f7d78470046be8a160b69e8a0532ed5f831a33c19432cabd40ac940fb709aabf8be0663ee6e81444451f622e5c85116dc0b797092c600ce0c32c696059166741cdc2991c7a0478592b16585b6c56f023bd7c3db5d13ed6a24fb1c7584986ef34361f034d6e73152da5203b49d56df0aba70e28579f4fb7983f48389dc166d3ad931545206b375e804ff52fc7b0ab6ba385ec3c1b90540563fa95f49cd7bdd2019d69a521eb84426b79908174eec9a350b721e5330a605f7feb4ff538ca5eeed909895bba4e5c403c98ecda6b2a8339276600c937c3776c28998d112897b7d24626b99aa41d049f6ef1e34a3bb77b9238b054c14729e6f43edd91f97d178b865ced92dcdac66fda3d45b3d948834aee79c87fbd06f9ea380acc99dfebc1b82d1407b1350bf0005d4c0b22f1c1e5a77cfc70b4eb31b03eaf2c7bc80b59ef49994233a246f89e5db2143836b2044b85ea7cbcc5461e7f6b954881564cb610c6710db45ce351160bb3784f65e443a17bc01d2f38104486f6eb427ccf4f7b69fed41175d6dfd0a11d5a1a5114f89da130cc78a571084454bc9c7e43b2ecb42f33b7d660a221a071fa1bb9c9637b6a7ec455d012b3eddab44f0f0962d7e3d256bf4960a1de758ecee7b9c582f51cfe4479001041b252ef4165ba115c464ef9751158b7992e8deddd51735959b241febab72d01b7c605f4bf87b6bd0f46216904320b91c4617606853af6419630ffb6c972d171451f04654ace402ed33565c1049673d720178511aaecb66d6e99a1b53070e6ccfd8b1b19934e71a4f1955bf3719f757805886ab37fd2c5240da3a4fc4c69e998d7ede3e9f74d813eddce0c34b9eb91092a4c9832c2a8e31defd7fa0557fc19aff8e1a4bba3832eb644966f1ad8a8c16ebbc59c957cad2cd0f44f0f213cae8c7f6f583ffadf1afae750e01d740beeba91eb24abf4a268dbe100bfea19c2053d79c80ef8317597116335eb372c9039fbb98d606d087dfaacafc8e63b1ee719e621343319c9d002543fbd577d8b2ab75f8dc650b4cf11b63016ac114ad8b8c2829a990bebf1f5d40dab37a97be2e157f25a5ea5ac85077fb91f9e7cebcb81ea27061be9822696db7cda2eec05024d9709cc71faaaa1d4dca09b249fb8be2a92fc51a10e6463ecdde76a4e7012800f60d32ed0994ea249965ec5fe5d15fe32133354a0b18a424f1db2bcdc1dbd15cd0756587f32532d94c07fe968352354deb3cde6e2a0922d87375dcdf8a2a33bfb759e2a563c804224172267d3fd904291a04212ebb18b2ad3107698a3120731a836b591e2678c890ddefa4c1c8443eadb13a9d524d7de7aa9124f9c3c340d248dd246446a83cfdef380ae41cf88712caad1e6c4a4e31ce2799e76371a15a6316628e7dbd4c8db30f6d6fc9ca24949c7d3b4560220a2b945e835ddd9e0c8ccf3eb46416838cf1ac826b95fb4a2b113779a50cf7c1466d9468794e420bdf1f5c30b0f6d838d2e2b996f57a2f5b7618ee6bf42bc8a51dd9fedf5c2b8ac2e3f46fb5d7ee23576126e32ef23de90295eb72b1e74bdbf16df7c55311bfe7c2e5971e67756d6f0c8ef9f98a85f176242d7063178bd802623662437f5d3a651c551e22d9535b8788db5ad9d1b5b962a4da043a000581c6c759c9f71b7480124a53cf50b9c7b2afff17bc20a806e3df10dda48b524af7ba36356457ff2ffd53809d0dfd04fb16eedde28104679a43e7d4826918f249a2bfab2290353de69232c74e67b7962a2f84dc897167aa87fa985c1aa060bf03bb583c1b8125b63dcbbd40ef18cdc0b0f2419fec9bd1d5fc828a44188810b31547ee3361525ed3b39a7416a40a0dac1382adb0459743ce218b10fc47714c48b3b624965d08f535297108772ea3e9f87f5f323f706f5fd6afc72c08ba3f486667f9dea2cc9c7da8271f32134d19eb7ed65c330862cb5016410a64fb6dbe4a9a2ae541c7f19bfad61ca2a47565105fda773d1c38c62c136c5fe4cda9b146292205d8947fa276c6d0c0c0f9976740cdaa7796c892b0481c983d021c90070baa88e57576e43e7afb42b4b466d4160d47353b0a4e8074a29b5a3fabb8330c71bc7e8ccd27b2cc2cc8efcb11c67062babd17196d42efb740b5a58bfc2c0053801c11c74800d25af2d35bf3e5dc5807e245912627fb6ec62cf20eaabf55624aed26ea2f09f1bb9f3bec7a91f47d609ba4cfddecf5a1a2a12abb00d85b9306bddc61a2fdbc41301f94b3c16727316dfce440fc03e24bb9784da434347589c249cd4b88facf267ac19c416113357351c4cf1e5e7d272364e85f381a1367b5160dde8029967d2d73d3ff140ea0e81e1d9786c24bb664b03e612992dc6e93e70f29b9c10b5dc28b4dfbadbc179a2b5ec372000a53133c14226f53127aa4bc614b26b202a08ea65b0942871e8ad3bdbd25b5b8ea8da0eb213ad68ca2162346c93d79f5438e76e4b75ad5e5d443bfbb167d586242c24d8ce9c849b4ccff1dc475931f3d451ff0d42c8c112a87059d11c85321f8a53b57fc77c83dc7efa389855d60e826e89b81a8bda90d70cb0dcd75f125490849b4661010efb21496f6e987d9aabff8ae5ae86620dfb4c198264d1dfe6b204e9a70e2cf6fc74653d68f041658d4ba42cc816734d60702c4deddc855de4da617e3eb6dd20b29ed3c84271314ee39307f2728f001a0fd9d13cf009abee3bc8f00b858f1a0ef6141efe7d234ded348d21dddf9696b91137fd25daf767d15bc4d694b688b80ab31bcbabb592908a817401e694d79d7bfd1fb1c245a8f686a06b2de77a9e64780a42e58930bae2926cb72699b4a183144e038cb51bafc990a0af3a85dbf5856edeb49a517fc0749f58ac60aaec871d787ed27c9d84e18b3c499d5ac6be4d36c0f414ef9c7b10b35a83078bdd47757eae3ca413135659fdcb8a3410d243bc8207b8544430829c397878c484a955d33be016f0b0e64130df60fa6a5202a95102b2f112b473983364b046d77c9de29deaa57229024a754e7d735a6da7e0e3dd61404e38751c92873f7e6092983652b29ffca6fc1b4278cd196c70307334d6ce65306f2497a27ad8e283cad1eb717d22c63a4dfaa1acb09cfe34301fcd3d267630c5af342ab43c722664ebd746a72f76675e3dced1af66b2309e36ee87b979169217d75168f83187963548f9993367f480202b9aae7c7981b1aa1b491284ad369db68e48846e2672f1ad6a78a72f83edd1b906cd378978ae0601ff44cfff3eee69c7e3d351715be13e3fd11773006f28ab956446e5127f2c9bfd678a2a70629aa7a718ce3c84eace97c0fd111bac7a9691eaaffa03c3adbd0a2158092d12599d640825a1cd1c037fcd3059d686f72679e2ec0a7cdf09ec67c3bbf45e785d22fb64e7b9b4fa68e957650ee7f6a52239d5290725d7a1e1a0bb5e1448222d741926c52299d0960a85a91ada8a51d23fdeac8a552b239ce764bcce2b211cdb89226401440c916dafbc0c4e14ae865ac58fa388a0e5fe51b7bbf8a8d2228cb76c1b96dba52330333179bade10a9d89f4739ef2653bdea55bffa1f8fc8026469dd495ad061660f9107b2e0ab05b51c054d244e2b899857110631b2903c0655a7974f88f97511b5702df9373c1d9e24aeda5ccb2d81fb444e907fe9bbb8de3c07a5baf764d74702663ff7b0ced1a069b6c4f5629423890fbabc80fd493d5515bced4d66535901b0578e2c1bb8ce9282402ac41402400a3937dd3cc2cc7ef843f25a5ea94fde754857df809549fc64d6095988fe8ae8170fa0e2bf9ea0e9eb89228a858ec48683486a023e89764eea13442fc98df69fdd4f32bec1dcafe15e9877bd369c3ca612202a5a61f75110228b7a7496914e24f1974191041596ccba86ed59f6cfe01adb75525fc8ebd1c1bbff8893302d6986a5cc81f4717a284b630ea928884c0c5f5b86025efc23a29192aad9f8f74114cf10fc8ec452a38efb221853868d68668db99da3c3370fc1a105735e2617ee590f3fd745835ba7c67bc8faf56308f23b11e3614f937d3ad679d06e0bea938a6d64e7e7438bcac07e00cfa41b9e90a04698ac772a86228a68d93f22d04d9cf763b7e2237176e929ef19ba7fe3f3d101a26ea515e3775265dfa50cbb74040a8d5d3b92e8775f45702609a4a05ba0053045dcd9b70daaeba0f2d296eb26df856d07222224ce93ffbabd24ba496950cd7fc49b5f67faca57dc41903c63cfedbecb331e615417723bd27ecf04b5cef6b6779d35f0ca5603c93f35b73ee88bb3b5aae109754e8b149b4fe4b5a9792b2f2a3320d56ea4a8e70b606e00080cc35d79525643f04e9b3ccab6655fa5c39055aa877271a82548a042719797da9152a0a26f613b1bd5c76b524a31a4e7ff4021ffd935012f84dee34c9e0d9acce4c301c2ac80141d42ee1a134cc15995460a653a94f9c42d1afed7f31c1701205787b651e232d085a88ba4fa7be776d4f01e30cf2c90f9cc2edf5abb24844d177a801672032db07f771d5aa6d799c5e64988bee802a856efd88c6fe2dc64abb50d25f0a6d39e39d68f88ba243bde1277e879135fb8ca09b72538980e56c31bac6c62c6a05e902e0110932c6c48171afd75733e27d52bc7d09d79415967e8cbc7b56a3ada400be6391cb5ee606719bcd8ec18ba763d263f1af07545bc935715ab8ec4b559fa9fa8ea4a318f354219484bf6b12f1e084d1d4e742f6ee51bf0ab32d8741c5a8aa587a16e82f66db75886fad562af539aceeeb673260d7e245c0d2e6a7f4cd74793809d48cfdccd44080977c38913267ae78a31f47655405ac79f2fa2c92e819509a96fe5f49eb43762ad805e00d4703daba4657d6dde3f41ca0fbc09c151bf78a4f3beeaa945d3db7c710e0b5f9ff48d1eef5a6a335044414fb5a4ffd599903f29c9efcba659f2ad6809528c8bf32c9f625074a5f8bc08ff806b1911c38e15007809f23ef88cdebf36ace240a59edb10a042f1a1fa33e577dd4b7ec7bc151917f83e397a58746cea70265b83a772424a5648d2dcbbc5693c0d4499afca48885fa84cf70b0959e55ffa2a89a68afc5f0b33a48de32c3b956c0a6f2b808dfbe76f20494af454e518d82c65afcd977fab9eea0f0ea44760f11fad8207374058b00348c645fe3b0d10c5ebdcbe82285ba4f8b1f8c4f64d73a853947d7f4220dc3f5a42fc6af8b572e21a005e1b63c733d5ad8ada038d69b177fc5c43a706b83ad260515e2b4b6505d80a367f412b3b81ab1d496a017739eb6b591034e78fc0a26395c70b1bf3cd3b39f966535e3a29d3eb7b626628b5d8be008c08f9e2b9901566a9ecd837d3601e0be97a2e68948f45e9eee966ebbc6ed7a8f850178d15eafab91c1d7c2edfb3efd666f6835a462bc3a8f9f593995a1a07d964cd2588feb080cb069932568883d61d369c4f21573d050c3d3f2a97f99a67c9c5942b716a337754897509af252a0bf1e246a12d9c1b69eca8381070ec0e44b5f083e3c1b2350624323c9805ed641d778a3e583baa4b7dea591941862e0ed161740f285dbfb3bdad19281a37933f89501593a29cf220d7bd816bd671f7cf6d43b9402e2a51539b38c90082d7ab02181c2411f60811b62206093e256580a195ed2b67b102b3474544b53e7d77f2eb106dd62edac8516ca2c7a5a0752e1dd687c92e9c70fcd3a5c704d65d7246ee85e57c76ab4c65bb3239b464dd9b923db65b70031d16c971fa746379252fc4990bf70768b5a3322fd7cf8f3b57eb485c002406bef2e57ff2bbe11f2824768db5c0d83b3904a0483f5b2b097a62003cd382521b63d2c98262491f67ca4d480775cdb225cfad134363b74baad1718978ac45f683a50b8f0d043fe4f7f7fc38c2913d209ab1cb803488405198b2e3a4bd26bfd73a3ba82547105071aa94fec4128a6fe191f0895e92709cdfa5718d9ad272238bd8e0528f7c80a235e4c72fd49f2e5b3542082ef586c95ec6e0b7fc2f1f63ffc5d22dc536c59a1d24146cb76afc9c1aa8d3108d1ab8d3fb5ca420d595e0235a42992bdad5c46ad4109cb00cc6b6a58893996fd1cc7e1b7ed47b2cd3b658ac87ae0fce755db8fbe8a1b724c97fd68777006e232f00b88158fdc6c7a364e0e245e2d331e5a7db3f38b6af30d4171682b490654f290e05e1f2661ccf7d25df221dbac5704986badd92710bca4559bc7403411d353dbd7c3e1d5ddf85f22dd92954a45534ce0256bba49f02f0a17c955924290fd9d648a9dc1723ff6066a0fdd717cc9f8a0da67f0703cb51d1cb26be4bea60ba98c404b40ffd806721b77c07e389dfa77db26b4b115f711231086faaa2a1c20c6bb784c424f1b16c12364a9fe255bca1af98459293798abe878da1d70e204c6a602038d9636239b4f29dbcc1bfd4bcf7ef28600fc8db702057c6399171b642a4933c6dd6579be0755d26ada681bc68264529bb522f372cb846cef3a02fc2bde3bd841cffd1b1bbe7628aaeb069afec629597de1089e1fd1eddca0ecf81aaa270d2ffda77193943358093ee274065c06102bc624ad136972e1a713351aaf4e0ca5a2bc8f97e3639e81d0460a71cd4b1f2aee66c22674fb9064ba3ba264d39e589883d5f8d3896b393eafb3b2c2ec0376f841a3d32e492919f11d04d8411bf5027946cb6a8e766c281a5e8c6955d43d4737f46dfb48586a6d54247731ca34700cb878b608fc7daf4890cdafb6b7d26d76db63eb1a4cb90500a70a6e4db10ca6b52f1e236111f357eacb38e883b01316a1f55312371ab2a37afd3a570cc6770b8c18c1a6e1127e7864ba08271c88d815a6fe50a7f0a55ba1db7be34d8a95dbfb162b97ccaf4b735a1fbfe73c18320c98f7c0de5c2b645b6dddc828ed34b5839fa76c169fda71604744852b1a750d617a2ac7f3c73e31912070ca0865a07a3c6c2a893d50e19e25c08019adea6c9927e9f6419ed548b0bfd15f9d1fde83a178130c2b7ea0c71ee90269b90ea0c858d51822bf2c9d0c39b1593afe5175cdc316566174d25467f6f37c941bbe74a4e28dd530bf1b5d09b4a94840e77e8845afc8c58cb2caf9367318fd4e9803a9de2b0524c94d15757e90b61737bf5c77d963760576539f2b3565776c1eebf55882433630da1175baa7f4db41bd3f1bb8a80d543d1bbd8dde16f83fda32eef5526f3dd1bca72f18e48dcf7187b51163f0b755a4d0e2c191c4e0cb25456bd64cedf3d4d196ce65b5db1efcf281b12d899bb92762a798948425307c2ebd804b57a452a5910d456384b39af4961e31f46ca9bd913ac5303885e204a7eeb3644bc55182d1f6144ac589ea213667a256dd7919e0f80b01d4dd156b7b8f428ddbf257dbd4e3a73cd4f4eeb25ba9a0eff7b4005a7159766cf91b4585d31890e4e7271de7c66a42d90151c16e26ab8b44ffc96964c9f46d0566408c6c6211b5c855482b857dfb5d95b7b10f5b1272d818bd054c307f207037bbe502fb31e1b20f93e263f2b8360475aa8db347a2295b5b8ad4cf1169b47fabaf2844de2adde422c843421948abb942f8544aff2b632beb91f466ad06807ff859b21be974aa42cd795783035ed86d20aafd7215deab9cec198d49672c1c0d1154417607fe8fc1e4e60933ea2914f31578aaf6713183ddb0889e6021be923337430acde0540bab552ac1dd5edb21037cb09b2a9d63d2de74788216a0a9301fd2ef130c9eb59b27f25f70f53eb747a25aa1aa07c28ead1f88dd6bc35de8cf796666b3e7d007c66df57714139f8d39a02b4145221438f37d2f822418263eeb1503846f0c95ed75c5d5004b1cfe07420427903c4adf1fa8fca8d87d7ef0ee54b9c8f572f7f826b5bd4e14ba18da4987884ed9aaf9620f8e2e8122e3507639ee01fb02a85f8e7b173bd1299d24caa3807db2bee6cbdc72ce7115b5a04ec9dd35c4dbbcf59c8d35e1fb2018c93282741c3fbab58654baa1b7622a6986960e47965b2f6d8899a43b070af89e5b9e64c07c2b0a218090611b01a4d282c072d20982d96533cbb3c61957b5908c0af456ff20283e3cc77dc80581e1c1461ca7e5bfe2256f5f8c62071e4099a15e441e471af14bb62c5f69dacae4ae0190769cd9a84a57d5fa07a26f2ff57c9049a48af5bd646332c520cc5cfe3da31beda49dac55e22bbb887dcf66996de03a6e23fef2ad868639a9d9fb1f35201e7cb23c26dd35f430bc619b22b9cb793ecf636a0c1e07c31409ae17f1f93e7c8df128e3b6cc418d22f24d61f4f5d2d8edc65e4bd618e4ad8957a16b2946133c77d4aff49373a93bf3748290faf404148f1b3dd7c74548224bb2fb46f3ad9ca1e0611e4c8d2bf13cbe03748c257cb5e99c87afa44c35d7f7c51ad5359196ca93d06a5f3b3f56fd0a2e30b015646369b5e1d097ebe739bcd3777e7fda7660d7b1317b8aa9fa88c9ae00a030112d7bc5c7194f5e9acaa7cbc68899d77f80239bacc2264f1ecc0d8dabd705f82d0748af672790f144d682691fa83ce53bc2e7611a21784f9118e72c0fafcf5c8ad196cc04a49c223af2206665b342fcf154ae3678fdd072804f5da531f20373ab31ca2aa35fe16021fdd47c0d4905b131351a00060b655b88e6d0cb596b79757c76ce7a88404446e6a7a85c3ab96aaab4a9836669b96287561728f4571416fb2b854f352ccc0b252f9c4bfab74af8cc622e7e7b3839012f71e486f99f41bf0c5460d707fedfb27bd8d05a1cef2fc5a1d179eefeef8ced70141ec37a1ecc197ef99167360f20dd9b65336b049cd1fe66951b7fc123c17a8e424869e30884be01d4064b63af25c31e1a77970fac4a75fb595a9aa528b042986b661f1da4701cfac02061a250f1372e95e6c4443f1e678a8f75b3142ec803d1196eb81051a50eb4614d9ddcc1b0efecdc6ec07bbf454ff635237b95e247cc61c","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
