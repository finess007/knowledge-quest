<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"be34b6d8c67f9ed1146eb45cd3d7d18e609c3f68cece77588ec0fe65c77f81e4954f5a4a73c78ade6b35d637db5967f6a9c1d4ff5d14909c0a253989ac2d6970c5026370b536c43f6a0606dab023aa8ba7295fa7ceed5396e8cba26bbdc601a4a2062646c8ed795496833f70badcab1e750b80645d69f6ce26436dfd2ce28610ccf57c78aba915f3c1853422e36d5681088845b270b84b93b6de02c844467590eafc86f94997952be9a16ccb1c938c7ca7036f168c1434d68f47031999c269904fc0d4f9e3762c0efb033614c6d93495e981300b95adbbc05c24e8b4bf5a54ae758c5bd4417e0188e3221979fb6568a933ff0a5127ac56eadf9c59a90d6d0c9036bc0cd0afe4aeacbe7bd981c7c122815ecc822ad1940f989b0ba562006a67f5e1174a448d035890e05bb9d3f2d33f8329cd7aa6575daf309e7272f09e043092759d38cfe2e440933ac9647d2b1ee30ecd8933b44a1ccb63fbf5ecb0967aa1cbec5a45f65338d83772633b60efda241f624acd6fb04278b850644f0d49d8d8541ab76576955bdb83197b906e0d2b12746a80a893f111d2e3fe7e01bd22ea995e314a3ab25cd0f5b79487b5def388f7c033b1b59e70d3643f905d03e4327de53e7f73b19edd5d409bb2babed2aabf0c414fab217c0185232cbc64f1c4cb2b28c6617380b0a09cf359b9ae362242b9429eaa7c1d2adbd4c1ef6755d6a58042acd8ff2ee8651016ac607cc207ba0ad978c0219d0fde20ad2941af4525c07675928b120d4f326621300ad98ad7a8515aaeae21c2bdec9a13ef246e649b63a2301e85522ddc648dc9aadc6a754abdf5ecc586d58f6c0e9f9e22449f6c629b8c5310dd26c9e8d1469eabc8575903ccf46b590558b0c312a671d0879f1cbb26456e535689aeb9e6e6294bca9f128051dc186cd511ef7df7cdd0193cb75c2feb9ee05f2ce4f1595393ca0b687916423cf582b4e27e5c798509c1562884d99c3d4d8bd2e3512ae79795e577782cb6f60f92c636e65c870bff9009d6be7d807beba5ee8b860da40a96617912fc580c3489b6cf9b1b0768dc59f4d62734d13c2fe4221bdec144151ce395366be66f067bce37112ff76c4a2295c0efc9e151c1149effc495a93b015ae51fc25b5863f7dc4654be26d042ce5149882f5ca5356e7d19c0126528b21ddb8283e98df9c7ceedc1ef888c13458b70e1523a68e01c74c364fbb61b4fb22aefe8b1ae0704a1a12ff9c58c83298a59793b5621f6586991372a3b901ba4acfeb64bcfa5ff5600218d88e8f0a71d624c19132aa6223d0958a0cd8c3f4b1b6b7ce7acb78eb256e11998beab1169696b9cf7a42c26b3dd4fefb358f1273d70b95b88e6edd8a371418232f4349df089cd55093054f5c1411a306e00a7636df06bc749701fcdd17f15061ca898b324ba2009f296a7fb204ae6f69619c5aa16b15bb66da498972354fcefe0b071ed6bf086b5172ff9583c9b2bac21632f2b58d8bbe50fa3e08f1ecf1cb5c18a605f91111820140c6f1caa485148bbfda39d5c9041c3fcda1d029caaa4d07113566b477d779f66001bbe5cb0c70c6daed32bec2d3f40a0d42418638c2074b5486264a15a3f35297e68ff03a5cc830187a11f7554e9b67998a932fd787d34a740273dc61914d36c96d507bda0d171b11ff51cb1ce28d859eb3e188b4617a7de15644ce3d98124bbbb3a0eab85feaafec7c2c968da81d46f7a4484c4583af1d82f54110c9ce28896a1e16b45c555aabe1442901d1536e0a1ffd948b507fa0d20f53117d7c359552f293eb3fa2c44b4e15517c78915deba6128c9f4c737acefea1ad2293f6c59cf84d4863929974219c1cd5e15ef42d60e152e0d9e833d06cf12f4091b282a40565d09b241ffda2d709416be701a61f0fb8ffacf36545e035bd2bde0e5da973835892cec170f75f6e014345d176f99779cb9df2982f44a471b3a207a39ff4948f392250da918d03c8a000b2db3f27fc8c8613063da53c53bf8c7c4a34ebd420701e81f9e00aa7fd258b7fbf8991a5b20c316a3da0605eb46242b80bc64cb604b86d00509baf3765f01e62bbd753e60cd2d70aebd5b39274ce3330e11574879c6f958f520dfe6f7066a23fbecffabfeeb845f580129e24752a49c955ba8a8a95da5f1869220a05f513a84a5d928462ed0316baef5bbb50bfa191db0554175ca70ffce5430222b88f7aac777d2f7cb0f508cf29568d25e3f1e2c052958f9991767de815c792ca2ac7ca6d1d87822e72a06048db8d306f3a2bce31036f9ba009f39e6db8496fc71594341abe10667e0217448c052fc5ee5382baf461e2dfc22031c9594d83b661ea36fab66a78dd4a12ef09516cfe0848e03066b4f8f12b0cf1f494071fd19bc56bc149dd7b67a191190f7be25e3d75be0f716baa17ce7d4dff137f7cced8bd33482746065394abc021fb5dba343112b9cb2ee0af43d7149a76dfd5d262893eaa92be221a68d66390baab8fb9f242317317f7ab8d69fcebc54d2d86fd6356619658e4e41b1e5a46ddab02ffd2cd8f11276ed029158800634d19c36713813d350dca28b6cd21db3cc29408ac7fca79f728a5c72ccefdcb6d5b92dcea20a77704d3699c487a3ea6bcf45d45abcd3e2e82b017fc367859fc5c943fa6a80a3570f644c9d04efc5642d40c98707e26883d30fdcecb7893997711768070a534246baf7003ab2b6b9d26de5558a28db74bb27b0f8e24b4a39229083243fcc7c964a463f5b6f3b05502009a08b58e86eb03f7c3720d262eb3b7b2217db2a8936763257f076e67579215006a25d85f97496de9947679ba9c265bd97cd821668e928cca432b81876da0ae7f21ad4f49ea9c80bc05cab225f682ae9a00a6ce78cfe56f628b4d64e39185fccf1034421611620781c239ffa537f61ef9552ee7e5794d8444a970fbd8efb45c183c7c9f7d1f5c38aac83c6bca60d9cb80f59075683ad7a7605be29924699767adb85095bacee1296a1920192d0b3a2db58697b01ef29a03fb63de20b3e3d2308708aa6ecb80a8a6ae18f96131edd83fc12fa03f54667a7839cd6b6bc03f91b6bf529662aa8abeba1a3897e108406b6ab22893820f4814c473c47471eb667a834e42c54e4bd32f598c29e78b6a26d4d54c5a3d327061f0c8e1e3d38b06e5e35e85598d1b0eb02e4990910b2804db0044fd7dc79b2de69fa06c5739c60308fbf08a5b4286e217bdfe97d425bea875429a413f48fa1694973e8151167f8bc76c947185725743a65d9c4c68d4815384f55b2fb0de53579f450790cf534fdc4b9da2c092681ad12ac611972cf9680bc7866e75108664b2a0ca5de3966de28e1459f3fb4bf37678986f76af5e730e81b950a8193d35e97fe00cdd02fc07b0272da1d8af599f9720a13fe5af5f2a9d4abf514abbb46e523a8a55cc630a9ad91c9be00daa8b1f4e0f8af58ffd1ea8f1e9b98df412b1eb2ba97d74cb231c52492577a71d776d35efacc31628d2fe3b4b352d67b793e79331e3f54f673e414359b8b053674e304caa9677b94a93f4ab31a61dfc1fff829b9efa655a306549a62a8fe5e2871d59677a2851d318495bcd14099e2d74012a866fd7fc26a8e8b34db8572dad5972c1c8e986f9c45e8849616c14b05f27d65a618273872e1f555582f9ec00904b5e1512d15261f464253757235ec0efc7365cf8df60ba50ffcbcc5ad3e892e3050274b9ce104e6f29be703ee4db337d0e97028fc1c67601f63c1a50a16d75e33c2b4fdfd6ab82b7cf4368e61f926ce7b7256d8bba97d23d8aac534cd0e33eddfa79c40f8104b8b3574345c951a576d53b79f102cf48d450a28162c01bdf8170ea6a26c7c4abf2e9a3e1c9bd9c2ed6a732f0394adc236293d47c3f3d06efcaed113c349d6b48fe8039b076f667df2d2a6fa6a3475be3982bae23ff5e7fcfbff9d2fd573f8f498582aeeb8e9eb8ee9a7b2278a774d6553d0f21f7f50a07cb44dd0e1fcc57a4ee75d69b6bc1fe7a197de5792bd1e825932e75f214c39b3bf686f5f5868bf88b4f418baaddb4dc07c072ec5f50f7ddbda7bc130c472a5340c45f165ddec82d098107a62b0fd68f5686f0ba06f3e540488584a3058d0291a1dc21b423d7a18a9f8031eca4adb37b4021865efe4613e98ebcb331e125066c08d3e007b499a9b7f9fa24c919c23a0acc519b6f1f8832dd94b503a3bf0855d5d2cdb251a17027785915208466bd18978af901ad6c56a8912940f31c6bb5ae0fd54e86ce0ad396186863c35960193e57133843e3824433fe103ecbaf8909eb54a4b6e133be534c6cec7af9c1487ae1f64c6d112eeabc85e45b70f92a9f5aec40019a3928b2ec455388de8dda29f34c9248d041a49d560e1fd828d5ae888b24b4921b068ddd1c12f086c19649c555dff48e41f7a13f4faaeea438a0632db0a31eb50e1164d5755acc55adfb8ce62c7dc27a96e64141a7d0e8048d44d70aea83a25feea383e53992223834ac36dd266d67b70606c477d14540c7a493699647015cef440f83cf7b416a79e94b5ba24373d65169d9a3bc5e668cbd1032eb8ea541b763497b895f0786d9cf37344fbdf831c748f4f3322c7784c1b483665c39dfab02470f2b7e83ed41cb086aaf14b22b24994d0ca1548d40c54b1fda9442a71d6aeab6ffb725703cbd486d73665f02aa79a3b7b96e6265bc5575dc81993bb566982579a6e8da889addc6cc6c9b4223e3e7580c61f8c5b998eedc431deb8c634fe3dedc04c588db8cc9b244f7175cc8b7894bc2cfcde48e4f11bb9b9161c6782744357ff0ed1be27ac40c3a92119807e64a981e7dcf338bf60ae42396a1e58d5b007941ed3113094c5ca12dc4b26c6146b0299afeaa75dbe886eeba43ca2afa07c36e16508a117a261ab1904efe5a5b1930c246a6d6bec432c48a5f640df7b4c0f15e2b107cbfdca50169b850be16e5762f604eb018717383d4e02b49aeddc855b515f850ad9bf85a482e8bc905c8895f4440aa77bc59ee8011875241c910582b8c1e76daf9c6ef5b0a4c962e65d3c9eb4f2306d5b70019fc3b2c4ca74879bbf5130c5eef348c0c60f7d0a4aaf89781fcbb6a83e0e7f8dca9ef1d2b8e7cea16589debffec3bdfffe7c59d2be4836c3ecf9ae89a7eb80dae822aad6bf8942d58ba7579a7231c9164372186b45554872e2864920a8493e8967fe813ac0b6a6e0125d528b100b03e360cdab56472d25309ab9156467c96c2cb35fd6ad40fe912002a6e05cd75bf04d7b0152809270e2e520529dded496aee8fc2cc40dbcbc067d768f94176f387f9e19a354826130d7fb258af6a5f97d9625c5d18931554b3123a4e85b53ddb2e4ba6dac454cc2758bf762679a1d6e69a5e72bb707dba602cff4428a8531e4befd35d201d202beeb8aacb183516a5ded6988526017ec1f86483ceeb6b00fa675a8fdadc9a6bbb62eaba5815cb88fa29f855ccba91be67ea853dde2802ec69515b0122ec9a1bffb9d310b5bbc947ffe42849112181555d04c4c1208214c7459779f74692235fba4f6826243f2d405a253a0a9766d56941b0b84d734783f5e57317dc679d04e7c0f83dd16e00f0ea7f1e314215f0198ade8597d87a42c75632eeb0e0bc840d8a5de641020769e6eb3af919a1b1feb8713130a41716e40def840576eb87250b5aa3adca7ce79ad8f684ec5602e3f72aee80a329dc4ebd4b79da369c18a336f942654f939008145d062c44d35c367c97eaf9a7d986913dabe3d41cbda5e5746b84281706742b5915070ad99507215f0aa173774b34842c3ed13ccdd81451bec6cfa73ed12816a15520bf43f40cdeefe6d00e4c9e1861d95eeca80eb40827cf4786693f3fa8e7d81481ed0fab64d4a47d8460214b33574ce8cdafdbcaec3a9c9171538e9bcb0065edd42d4c9f6f378e3a24a0014c4db072d1fd5bc8e91656362751ecd2b206221abd4711d382144158f303c23b653bafc9c4a859b702b2bcc79d33c16719959fd9cf72f8287dd03c3a75fd3d50f4a80be9f865b941aaa4376fb399795db8e0dfe5d76b0932f0548f1564891d7d0c1b401126cd1aa78afdab8ed91bd38d15316fbf3df349768c8b6f36405c44aaf39de73b64b8d6985733af3ae3a6f56ade59fc1524f175f86606250b313a21b585d9fcd73a41554d88879913cce8c570f6cf720af6a569fdc2b196f6d7cfd6706c3a36a8683995ceeecb5278c6523afc238814ee5ec39fae265ef801e4d9a085f96508678c35aff9665a17ddf5c99f963263e67484f02a776ccb30f48e6d0ef04a52d38062f6fe2884148bafedf3bcad209f6cd39ac402323ae9a09606d2f858d2ea00bacfc39080043a86289375fd8ebf05ad72d0ee5adda3ff2f7cdd4d49834ef0de3e9d47e3bb5eef91a896870ecc3de78cd5dc4338c7a4a3c14895eb2b3fb10a78198b38288e61fb729305b0ac3e879af10519d34bd940188857b95122b741c027e3c3e3a766aee79b6cac9e8e57677d0b13e34ad547df9efda749af94f96adf484da1f650d1a8983089b2242c2a6bb0bb9ae9a47f9bc0a956df684af0df948c00fbaf18aee2b0cc3a348ee5b9316d1a1a0609321fc34965047a2dcaadf16c48420d34d014d707cda9c9058111ad9ba40a915469bf6c1cc98a20d0f1f68e6c60fbbb62b9da32f970ac20183fc43044a474cd0078f8b1323d95d4b37db1b89399df63c567c29d268994f25405a3cef34f34ade4bfc90881bef771e12f610ceca1bb3b5c415eee87360c00de1bcae9b66f3be32a00dd9272ccd14a00c6042d8cb5ba3925e1f47dd3a5cd219e00b45c0c419decae2bfffb4df9a204e761c56d9df79d57b8464693b9f57114829ac3aa7e58011644016ce6aea42bd03132f8b04f9b560a042aec3cb2cc72f44ac4d630b285bd49f4d2d01f62ae3ea7fff698e54f4c72141a06ef14a83e7a5fe3857ca197b9812a7adc0b0bfd851ae45377ef9cc97e0d57abe77505c6d963ab55b74a30042b07bd2cb43e214b30c9448262b7b28dc8103d726cccf8b9a320857dccf11a4cfbf84ef5d0c7ffdf14d94bbec262027f003397c25e823512ccd958f2bf79efc738d6c6256b0fcd0e2385574797e15d6f5968e439e56502946cd9b3613a9ea41ddf9766b255102b5e767cba5c64ebc6e56217177fccfc0c708bd0a3b89b5a0f4ff001479c123f0ddf014e0ade9c3914f8505d133c745626397cffc5ac28d514596129b1f21318f24d3651377226f6924abd2dbda5e721c3dfa66a70016cfc1caf6432060b81d4a2a252e300e6734b776ca48b3d5b0dd0ec799c1fab77b9e8cdaf142fd64b2fd29da2073376490f33babc89f1e322013b8a77f9ae805360fe00a650ced4402bd1052c8ce7e46041e03ac2050cf92da1b6ccdcff0d86973cdb4c0ec2906ce390ede1ec4e159096ac3e0fbfecdca42be53947deaa8792d42bf0625efcd2e0f36b34cc37289ed6162ccb2496cb837b55f1f627cdc9446ce466d2ad29170ec974b3183167e9b45e7d1a73996f6701e531df57cc72504d7da70839c2c1646ade4d14a7422c260f87de4dbe0c68aa7d673f7a41defc143697e2bc5ae68f8da0182da972d2306515c65075750c5cf4c6d18b80e37a22a53b6d5a0fe63b0e31572e2685ac52e212c4dec83c7432b648fe2a26fbe55d7d5468bd1175aecb0eb97cd4969526a957a41e0486b518bfd34bcb8e4afe43eaa23ef085f787fdea28be7b83ce3a7de0fa6523e7b34840221659e06d77515a0fd758f01382b6fde575b9fec149c3d7b1562cfe2b4f2ea241d6f3e52722448d4351046a08777c06b7793295d1f66ef50218bc63349340bae55e33ad9c28bb11be16f665318ba6508ba1315e7a338de57320454b3739f5c998e9d2ae5d64dfdb04b4e648aae9bafad48968316652454d8abe7c49e1ffc071c9cf871dcb7752a46ef1ded7dcbb4e7d485aba7bee781d91b7ccbc2183066ca2d476bf30194f7a818b989f95b204e1553a76b791d6a758e58239806ef80a4be76e5d8e435d496a8391342962942aed7afc1532423fbfb3ce0656b2975c432699e068ee7d938aba0020fb75b9cdda39e1e05c8ae41720b024aa0219d740c0a626c068af6345d4a153f141a1ead038e6083c1c1150c824f874acd39696085fbe93c8389a29ea7894a3abefa78b556a03b3a5fa011a4dc3e4f38ed0a8cd2322495d5e22f96d897a7406bed66bfe062c5cb981d0407a061ad46e3187edc4a3010e3d175726cee2e880b972537f5dbd13508d1e16c78e027773c1a579c243756a96635e1824d99197a69a4c1df9a31c0672b0ad4b57ccfb2bfbbd8feecbae38149a90bdef79cc2f7a0fb2e71a01cb65bd042d82f69508cd1f4935bfd721c9640ebbcbcfa4537940a05edd876bd608225916b45847ee6fb28f4d24e6bcb31b462bc8c99dfc1df0c0d22e57369f19cdc0ee99b7c1ef9d08876c5210dd2b555298cdfaa3bebdab61c433db4687b32033c78bbe1c47c228d261c3232bc4b369ef301a807f52ab07068198c29f1258946b13f4736df74a03c45f0fae5b62407d655dc858280c8ea89436dd32b326ef8f3552fd657c47a12dd04bab3e561008f04928e907ed3cda75b55aa0da97306d84c05a9bd1b7ad6eecc11f525f3295fcd912e2301e064428e36840c77241e6cdc9951cdbdc6de968d9f9d3655a6736f2ed4b70cb014fb837e23d40d71e5235b5357e2d0a99c7a4b7268bb5f679ef8e0afebf23571eae4ae627a6d6804012d96ae4eb56ba844e911d6f354c37d472db096d8a05e182b18c3e3dc03bd5ef1deb72985fc04a259d42567a6f20b14bbba7b285372255a34f38281387fc4e832357788b013250f657b70956aab3a872bc56238ed1c5a46d93e4596272a3096de8893ea6a6710226e5884ad1e70fa7098e515091f4945449ff7ea033d08be87693410d8aeab7cf907407a25b3d5f61bd71968cb7769d84790ed7840df966d0d50cc91ac49ca3a0f497b53ef7a01cfdf2e366b696068a694c0d6bb5ae7cbfb3c3cbfab78b09c7401cda1b91aece7999f8481252e799efa752ee304885231807aa43868cb337d996d842f322059046d50d9087f08d40a81e4c178bba724f2d0a560a3fa9c8fb67e21e13746d65b2e6a98808d790f409c4e0abec297cdd59d5a62e3553008d8531a4f2d1c36be6d6277bdc6cdba5dc9cf2e9604ca69b43ea5f7e1ad9fcd9761a7c0c75b1fad1b9da40d5252f21fa0db75b255a3edafc38a6ef8b65fe5f991ffc69a53eeb917b7fc141df35b81b44321b77f05a2d4fcd924a3c38521318deb224bdfa75db91786516dfd4fcaa5a02a7ff0dc90a65f155a815115f76bc7413dfd6266f455bfb855d311cf7f752f10bf7fd76ca2b2de078251fb9f6dbb94da4511a02a7cd471523c759ee71557e52257404c351ad1a28d101a23d5d413d3c0dc7ed0f19f4323d71fa13a62edc84e3e1deef460ede96fc2608f100e3ef182dc7703eba286efef68f8927f99d35452a4ebdabf9e44bd5d891c0234794a440177815106fa56c447fbf5abb675da1712f638c807c4034d077ce798e3197ff2de1098ef81f2a7d6d9e8c86b34281f3982eb74dfa65ff26dbb4bccdd3c4f0dcf1e80f577ff79ec4e9a977021b165e54fa958d5037b0e123873f9ab3d22a12cf3181232367760c8be0f1e572888807e8763ac92fcccd72c69c71c24152945be91b0d599cad70149db72f7c981d69924e9baf69474b6286811e2e66b4dfbd16b5528737ab342b5540d751b24dd138339c8431cbed83257b8db5a26729ced50a25e6dbff04dd855248cb6274885563deb3efa5573b2bd99201c4d6dc4b621ca96c662c75c59da218a02705ad2763cea4e10769a4baab2f601f3792188e9f95a7440e88b4c921ff97a65cdc04f352b6ce07f9ab68f4fca94490c7ffe09204ae97a776e7ff6d25e3c94f58ba2bd8082bf8f9e62fbbecbc54c5ea4bc64a294e6ac164c24a60a7633da44e4351989f690f4904eacbc3619758a66b00d52027c578f8b9a3718f95ba535f2893b3837740281bf3b75c849d68ca7396c7cb0ac651489b3b4ab0cdc43b30e39852d43c5f2ffdbaf5d82b44e5aa7620d6a1560f2f2bcaab6cc3a010707376384bd3ebc8fc7e1210b533ce688d5e9d2ba5ba7522abd0dc69ca72c074e086ec0dd102259ed90ba3d4d8269dfbedc55b89fd4620497ef327d5b6df025bce271a1c61e25ab3bca3339d78b05645c479fe15dc6803f3a97973d4476d2ad443e332358975ac2ca8796182b0e632af491190e420c473b9d8ea75561469cd181851c7118f9fc2d8a6bc83d8c6ab3868beabd2eb750eb11d35170723d8f74d1437d1647b24bdf0cf74300969b9ce75b36d456d6dcf5825f5b074acbd450adca41af4927a8dfe2cb894bad4057283c1995184a5709cede823116bbec6f8e35bc419da213b2b996aa02fe9dba42289360fbcc1c6ad7cb46403211f743a5fcc97a9a2b752b39949b4ddf8999b733cd720a489c3c81faaf8022723a0558e126af50518c030c25cd54c150bedfb03c87ef7c7c1e0d49d661236fa9ae9e5a1ef79eaa76a0530603e1e5427b893913cd1c78dd70b58f50acd51a502630ecf86688f7771e463bf31dad1cd99a7f65c5e293d45b1067e72d19993d56f548ecb28fbb3e5fadc050fcad22f77e1ca6672e124967d5afe843fc4113360216eef8cde1220e4dd9857814ebc0ff707d9cd189f16fa11928c2b34324a03d338219681b8dc69744aff1aa48ab9178339727255aa8f043f7d0a2c607f16f7cd52249b9f8b41b386cede223eb04ea96c1cc21ed89c42c1e31939bf5d47d009b9de97a155574dc5048ea06fb7e0ee3b5eef521dddcb3182e343852b0611910edd0058b7d9e316cb9c700d24c3018dcf070eb3a25c5c6afa4b19550db295426252023b0fa91818d0fe687273d5654fc8173a41ba0a949a31e384390f23b01a9155fbbea66f09636410484ceab1ce44c1299a93bd2ac0c1e80d12cffffe4fae4cd01e1ba276ba35a183b681607c81076d1c845e5447221fb0761c3e3c87d138a107b400bb79cafc960515f6d1a278e4789f0dce85183b3d6ad98dfa1edf581413ee653990f1dcd462f97bb69e34344f7f67f9a31419004dbf37f49fa062743ca8448f3b25388e5052e93905adeee5bd96c030258d32a1db5b995423984a87f4ef12e5aeaa523a289471e23609e6c266238aeb55f0c314911a1531e0617f2897e4086dcb339246d38414f9b0d3d99e9f6d28aa7b3c33cf6a1fcebd8aa3354d467b620d470455d5b7e914420804de1ed359e983b7894a5601ebdd243812b9731f2abdf290803384d764c4552b4040d7efc2181090f821ec94ab00b48450bd6a42ea4020ac8de0bd8a24bc528b369b9c6e69a7311f1ff2d43ed23bde59cb7d1418723c5c80b664285b63f39199213771f9523584c863bd34c9670ae1f720ef7f6dea7e291c76293fbac8b1e131b571aaa1a5298b9a8d617f792ae3c2041bf9cc78f995a1650bfa56d68d598ef0ec71351b0cb03478057c787fd2023974bad9707718f027d78a2e10e3021fd4746c65c8c926fc45657f890098ad9bcca0a42589b2a63fb1e40c1c184abc560c3360e75e608601f9c7290d906076c9484460d25202ef860b59c351c52e8141f0e638b2aaa49d7aef0a28374f3780c7f88b8eeeef391c8719b71500b551c6d9cae9a545be7182f3f37f5891130faae663c6d5851601c04dbf573b7c9ab5635bfc0c212704799ceace11217f41460b4fa1b8d031ed5c6a5d4fe2c2bc78e0a10e84f53a57c54a01e6a6996b0ea44258c45b50e0bdfcc36ad5e9dc8223aa9655107fd2ea3910f0a90c825e570dd6f75b9f5280e9cd2064e6e4201db8a29da92c3b5b363a9452b2ca749f9ffb2a247ba181dda511f6d0d504240a87b91ca186a1e93afc332db7e727785c6653a5c4bf0b46a52a710b45b2fc8b8ce1ac60a9725ab9916823aa6870576a1333478992c28b3740b582ea5dcdbec71ffb3b00369da4c49ec01d29514f40bb3e4c5a9c368a6039b587991c898eb1bdc26101fa549fc091c7be95437c8bca3a21c12a0e77bcf7cbed4f5635bb3a174c43c78909f4365b7a03d53ed4b9a246e595aa880743048e6e79e79a3d955d4c028a4a49b5a05a0c78c4f141dfc264c9de30e8a15674db2e070278ec54ceefbff453ad8e0d6be02f14d42bcc7d7c3fa423a205a35d27a54574a8fb492b55c8fa5237a82fb12e8865f267517ae8f3b7b259562c6240a4bb325ba30fc38b935dc2f6e669f998d6df599984be73bd42e739d47261045a0f7336fcb3b695ff05a5c69b21795be8622d02d916aacf0700cdb3654a43c93b22bac204bfd839f81da12be3f8ded0ac8ca9a6ed9cc26ff83cb0f71c60cea45ad92d1fcc020587144483f177a13a4ca94a1c6b621ecb465a24c051fa5c79cc99f145bb5bd0c9f37a4ff2541d089d4305b87cddbdde21b0bb47954817ddb2292e158ee80e7ff4659ccd1dea713506ec73ee17782be695dcee51d3ff8acfed2e401231ad39b85ef05ed4518c8d20aefbefc337065bccb04a6dbf98909bce6d86c6ae77cbfff4f062bbe6b2426dc8d755e16dd51f3b029f67d3603354c98a4ff66eca721eefbabe1bbaa30320f3067afcd545748bdae3aafa18c56e69530049fde44726f1214d527af831babc9326ed9d05447542bd0a45ff90ff69330f656bfce1af003db18c7c6936020a123ed53a9e8b34ea0275b9a56d36f65c09730e2a11c3f0c7fd78850585fb4db9a3a1546a0d16ba5f0aa2c500d32791d64326675d29eaed2e8bfca60bdea54dcc48a8b5c4e860c06fcd8335be4dac84375a168ab3238f82362cbc95b292ae6ff405d50ae29c944b798a0d361da7c1de7381ac28b213639a53c3db5a2f5e1db5fd472d058b639566edb46d4acd4e02d38e366999d685396232eb9e1fa2be116aa4ca790f9365b3e0d17e80078de0c16e607033ff13f2add21772a52af129e562d43d9392ef874c9b243a02319802ddebc3f38cd92a6f24d89c488cc1ae3dcc960ef7560ab2ee6a173abadf584952d4e423339744c64e61dc761df1c855eac6c31fa57ec3aceca8e254f4c58206ff3ee17406099e40210cf8303cb38f8630c4da2942e4d154040d8b19d3d8c1dfe4627ab3107a8778572936da45f6e7b231dc8dfd14c487e6171100a098aa559b0e4776475a99c9036ad3d1473e4cb5def62a9face6fb49e28b80d821ccb9b324f7a473ec58d29658e1a796201787f3b8337a3fd694085d0db6c7f058fd2663603827a20c0a378d0f0f498ba4da17c95e53dfa65dbb699e376bb08398e3516afa444016d9820fde4979f8ecd2ba30c648ef0db62e761fede5821c3a44bc3114caf21e543a15d7864d20c3905fdc91f6f9481089de5a10c0f619fdf4dd58ca999c324d309e8efa274747331514132d76de52e7a8c3601df5f629d413e250f80c8542d3837dd860ee1c15044e35a3ed4c13329f3cf73e58647141782f5d502719d4a9ef8c8c1944e0b2e1607c1cef883022e7603f88467cbd9648076e7f75b507bd7ed93914e0482c75a86d44370d8f3622eba61d4d73c86be306cb1d12907dd88c69c2c0de86e760bae993e94c399a3931c1de9bb3ddac0dce50495108a4dc24f38db20bc3eec012e407bf410bc598e81d0231ca26706c6895793bffbf32778652a1394b8ee1b1ad9a03e818ea2c0c8ece6e144b728635263fd743888740d7ef98781c4687bd74b336ced10ba53ef062eea2d2ca976fd89884b6462396fb0288529aae659334659fb49c95f573da0fe319763be22564de203715d0b632e783cb0188f49635cf2fbad91f37d0e867d541c6a05d7e1aaae28f4766b549239b1165f59f8161996ad9cfad3174fd013d1cb04acab42d999445b02f6e4983a0bddff6f5f8b2384dd9b9c00c67c193867bccbe38a5b7f89c1b11caee145cd25dd433cdf8244c390ab6e437ee92f656793930db6374daa65d3b6998b6d0af7fd43b4c079dfee93aa7e5fb8d656dc85829eab3b0239e74a606cf390b7612bc62f3d4abeefa66a175a64c43c16623975778437e1169e0aea90bdb3fb3f6c04509740740406b87769f57d71c2e2a41a2b4f4e7c18b903b02542b989b9d1936d40a7508cd51afd41d9148531562de7776631536f7ece604305f025972cd60b48a38baf783d14c778a45e822db6863cfa656be9109b0f610c42735b74db108edb643685b8e87a300f9e94ef82e3e2f3c432a647225497e7833750b77000f24ff393d825bcf3fd9ec654b885489c49339154291c77126ed3fa90209b3014c1166991e93bb01a4acf253148524b28e9438c00aa9d9fdba8234b024fa24f07ad65a2ded004ef4446263d296110e5056e52e97603befacd460b58036ccd538d8defbb97ca09a733d7de57a92f0f4967279427bd1b1fc767fcb075a0288a183acb5018b30a8dfa70c825af3abad959bf4a78ca7558665425281beacd9352c9badb8a8b45a468c42ee93bca1f4b4d80da0c32db2f8206a2cca0d930db71fafff8f8a71e46b40208e6d3d25b1521726213962d5a0e37599429c66532fcb520171b1f0618cb6093ff08e1fa7cb697b97a2063176ca3a3084cb071d612c1580e8b30a8dd70e49ac8f77b1ae6b0464643737e91a9c009fc6ff8db4ab0ab3ff9d33cc169a04132a15926aa71a03a77d1b68db341ffeb643e63abd6c0d3170647af1e45c4e3b477182bfe8e8ed2825d29c1c4dbc80f2519b625088b96a91b36cf4b43434a4d63657a75eea35dcd86eb12362f6a453c95f8d338675469726a4abe5e17e9b69d7d54e09a520a14498e9ce2e1b4d4fd01b7434079bca9796ff8bca538c87a43bf282cb20f94dcb9b3ac944239ee8394988dcdbdea1a817f29dc9bd3f51879a0e97189cdc99984a5236d61bb25d64f1c068b0abd9602d8899086207fc4233aa9b07db910e95fb8566751e780d3f745c073711287744bf1554f15a106e2b67ef1e8f9b133fb847670f1031ba723a374049d77ded428dc5c1db739f810e8dba5e2fe7efebd6587a6b4bf0570b6382034ae6f4a658ae9ad5475667c2718d3f088d9e73c07e9af1012a58c5b1436666ee869f100262aaa2bf20768b57551f45a7f9511c50804a09011025aa1312d14b7b1aae87275782cf53fe39202d6d286e40f30d935eccc5353d52ede39d9460929734fab21745cdbb553a2796f99a9e8f7b8fba18e09d66a06d1938f77cd9fa119448e182f2d3cf3ea35cb639c25931d0f75fe4ebf3af36217570d6b69d31e75be751ae45acca0bf7abfe0784808b23620d5ccf0ad225af0f46d248c27defc22b7c8982684c65e5ffd6bba96292cb58f1fab39d4db82af75335840e2bd652e55e2d285875d39f76e29896264c039617b2f17db45931f8f9a14b70ac8aba54942c2ddc3f60e9f9e486915a736eb45451c32d7a842de4de214babdce579dd9df901afebc38fe7514e5e0e4fdcb808a2c34316dfd97c71cd242ca53ae140e31df164d97e82589855b8932ba3cb7cca3294366ba0ff13de858844f8a22b7f555209a7225b0cb2edaa01e629e36d026fe2db4cf3c27f06a852a4ce0c5a1139120ff0c3c4e0faa8548a6cb6c608fa7a1560f46943ba1144ffbf6e37a5b87f54126a7efecc6a76a32fdabf68f7268cf571ffc6e29239723d137f860a824af9ff7fea2d853f7f93e2c749e13c395308e6fdea2c282d91e1372793d0594b9ba6d5f917f93c54c93ce53495359727241b939050ed8c800eb7b1f1b6bec35d91dad6f756e9e200fcdc4cb506ad83ed77f2df3cf51c013c3c7e3e48b8a9eeb7fc6918716e68b920e0b61724281e7afd1a326c684767e4e16049232db895aa21f73b95fe97dd351bacff51a8ef6e71252fe7326eb0fe15952eb4b4290c52a0b41b27cbb0bfa44b69699bea1136379473972070f02dc387305cb9f5db4901bb562500e54777ee60626342ed0eeefc596a2a874cdfb3cfcbbf15f1654e437e85c6c9d4f3f5035479fdfc4fd346616a9c42c1ae4cf4b3c3f46bee7d5a16018e49ced8d60b0f5cf3e3d4f001135b9aab24f84b63b44090f2ee6d194c5aa19f2ae2844a98448cc55da488a4d26083e1f7fa09514b08baf02de9e7eedfdee3ce6112b10fc8fa3773a1cb7d186b3b2624570459100ec51690f81d16daf1b8a865e240e97d72fa2dccb1d5d5420d37c20fd4d2b660fc1b5b10b6658f9f47fe772e29a91bd6a1d704fb1cc1992a855b784ec3a60b498125dc96374b13b071a5841a03c39582119d91db29fe7405e21d2ed2ecf8c64767fbe60a3de82d4509bcac68ca6384d069e918bc104e0bba44e9bf7354ff67b44a4f7e6e0d4b26ca156d89dee8513188bde9aad1b9c3172a181fe4f04835998a652dcae07d5ad9d3ca1959068c7af9253552c5e13921c46a5052ef10c5b8839196ec26826638808cd74a9bab0e74dcf27309cfbf4dd23a217ab3c1d48331ba9f7a2d57f3c8f4c253ed3eb964100df3a421bda03a31ba7993270ad95a9172d8e1520b0a6eaeb5be9a060a90f3deef006c02cf670a8b252a1ab3f46ff00d8e8641c66a66c2f780e25a5578ec59f17f21f1e6ff65f76c2d476735068f07ce45cb3ab8e3d2c14e4027a4d22d6d1d8bfbd96638dd29056bcde32eb03c543875726ff7b8b7335aa51d6cab77cc5310e66f84c90b68a7f5a580e116ef24d90c34dfad2ed8fde4f7f1e35906014ac9799607f48549f0c78d5b1404a8e06c7f5e1eda5a1df71fdb1bfab6d80a3e53a7903ea14a4d0c365120829de51fc44244f6f3accdffd5b1218e9b9713a3d903136ebcab78ad4e5af1d3a2dcd8db62fd1df6cc94469108d9df601eb9af04db40846e7e844406c9856c683c41631165bd2d68e8c4d74e5f6c3a4ce0f68da8a5e57c8129806ce414b21ed67436c1fd0e0d1a480d2a01b96eab6d92679bcc3284394268c38ba92720eddf11e3b3b670822e76d7b7ddbc8747fbfb9da4bf1252a196fff16f80d0d85069d2e6b2d65bd51d5a6bce902f1f293812f1f3d1f5661343f4aa99203af4fbf49ea89bbbb777f5b8fd63481c93bb3569fadc80cdab08bb59e699b6f0774e6b220dec8034f88ffb2d98f961f6dd29b638351a0795af2d5099b4bbeaa3919864107cc155eb512902faeca7579e9f77711242942ad2879100d8ce08a84d353a85b43479ff9c46ea991f5362ee92391508ea5adeaf2cd59c677c57ce6c03c7bd722aea07c6b44d7403e7342c778a0dee4c3fa846bead0b49389868727f24b9e4ac38ed3d50d11c1dc4763ff5e2530c5562d3a34d67b4a97ed1bfad3d47e39699f9a44ca5a32b66ce8b66efdacae25dbfebd841ff03f4f8f510c146d3898932d3de388e3d9af7af27bbfc53434d34a7ff567bae0627005511ef7b1246f4583202d01c1e484edbe707c7bd5a462492fbe4c0675941920cf6f35168a73bbf469787abb2d06cefe12a9e4c40df421775ddd7bac8a98e9aa245fa90d2a391cef82f412a683376bad265f4aa2af2c1e08989289a36bdca0c7963ad58703c936c9397124d9a62de6465230ce50b98f0f54dfd649935021911a6ae570574b87af231dae47fae36cdae37f51c19abb03bfdbe37a3d23cbf148d8bbf9e6c88e13cadee668ae0c79d19c02ab55a6a8c51656d16966e705b164b48cfb26aa038a7b3ac34a43cc83c7f3fe759c9d153b4b90db666bda5e307c66c47c0a4730b80f333defd7879fd1a21b8a244879c1911081e989e6443a81969b66c8f8b7f8929bbe8a34b14558af55d7dc34bb00949badfa0717b01b8bf589a68616c2cd3ec1654af3a8d2fe7d46ab2168c1abd5b83a179998393149110b4f2b31aed3e858aaf5fbdf780848e04f526a78883dec6ebd9b469ef08fd44002e3d7ae1d0090f6997d61334dbcd4601aa84e30922c2fd00c946f5d20184734b6a1a3bb052b0bc43b26bbb2f46ceff609fcadb787f9cb0178b993802c070df98a67bbc576dfd7370f987b9c4d274129639a78cbf870bdd18e49abaabd686a2b7ad9e8807741379f9c697f32d6968c470d89935c3d482c3ebd545612c17e71cdae04cb20c25bb7eb84602edb2e9a4a95a6a006ae8f1705bfe12882f4158f02d0bf75a7de69736ceb245302baa61f219486f3734627a7b101584025890b508e7167f360e34ff0320eb02f3b73cc49aba84f041812fe7deff1b64c9e22a0ee6c1c8d25f0cfc71766a7c75a26f0314924e194d97042422a75a3573531b33dbd8eb5cbe14d2b09375ae13de0003da36997565eb897e619a7155e51aae2432957e6d1d30fd392b8c44f6fbd66676e9fcf35707025eb73e59c06bb2fdd97ce4820359b88e814e65eb31a352984f0be8b568e366c497a15d7ec8e51f6f10b90b7cfc66d37ec6cd7092fd9795a7ea0409c89e4997bfc5c2eea50f14940f5641dc6674f113cfdbbbcfd30bc39c80ec957f334279348b3d2e54d95ea9fb932bc87afbc74b46216819bd9fa6416cd41e12b5a45abe0059f7ca2228878c8e72f5a87fa9114890d2554da42370e0fbda6d6ade0db9791b1241e51e039c6e9cf2e3a3c7e2f18869a39676a187b1c1b7055a95d6cb9abd384f0c0ece0afeba4435d7bb332dc24c82dddba4ee8db6d07f3e01e55545d7e2ff02a7a129e8867471a4c269da565b50ddf11372e80a518f56bdf9f59399450f466d2e976bea95b355bb407d4a32bd23ca27242d039626db87389d1c8b750a0ad94d6ba3faa98fc7f266ac1d3ddc3c70b6335e23bde5f6bee94c6d21a6bdf8182d9564f979846e4af7831743e22153525b106824476a7c50748b4d1ec6ad98f64b8f220896b7657a372d1aef41e4f61e75a88ab89f6e01206fc6ba72f68c718c38096414a53342779da9caad1daa3ee125f01c20cf139f57a495fa6d7c437cd9a0a2ad18b7448317f95a7486bb8a8c1b991059d7266790d6e5abbc71869bfd92d85693e77afcdfebf00588d1ecd794906f149f1d552f35676bf4d8f4e7e57f7b70f99231892a67be45781991768403f27aa85b56778f716d0e4cb99cac906f5bcb2de64217f6d3c74d204f412af8bd0d6daddce9e67fb67e5c59f64be0a458b44612261f846d3aeafae6768da0a49ac74c013487e9a1f2ac580917e418a21d12b060da7834e34bba29127714232542061c9c65cc5b3e38687453831cb6c52d84be18bfcd2b0796de6f1cd6a9f2790fc7d60f409cb8f419e2ac862fabbd4a817b9891819aba4dc324a40cc0d1fc9ccd7a318e31444577d486748022d1e99d5a6c16ac41c86a4286df3d354cfd74c6e588472647f9d640c969a11c4dbd380646dacab79d1a09d06fa523e56c797281bd7c34b5a6658dc13a570d7750f0305e4a6d85843555434b0212d24dac7d3cbe1c711a752ca1329665289b146b90700bfcdf29593950037e09045067d8504ff3862bf7b4df4973ffd58b90c3886e126c46f3d5fc07ffcd8b8baf178b62b41e462ba0afc72969ced4079c86d3dfe25f733891fe0f22ce9cfff43d32a9cdde14270581b1aa93b7090cb535ea59f8de55ea1c9283cdeb14e3b8aab71bb15ff9de146d680871e9aa3b0b128352d77416ad97264cb17ac698391bcd554a4e2f7ea008789c51c1c8a3419e7da95b9a422aa5a264802c92e5a3e7b2af8f2d0bdd5e0c1f47dfa21e227cad56b2bbb60378f70f6cce58c2c29a98dac0db1f6aa89b9f437004519bbf26c43181615e672c682bdf9d88f5452e7b145670bc92a5c58c0ba1a7b85fddeb06f29f7aaef30b87db405dbf0d6c2b4e9cbfa90f1589cdf6fb858a07457f4600dd4d5d06d07e07d6dc77fbcf786437b841b5f7835e03d767265fcd4b1ff43aab3f8b0d082db8b418e4542e3bf63cc33e9204459e17177a90ef0e210600e857c76422b452473413cbdc9a32c35abef690f7fcc638ebffebc090f86fe924f9e4d35282ea5f1ad247eb4b6527e6cd3cce5b8c9273430f6698718a34744ab0a94a356e839d58b230fcd68d7999bd6feff69a49393464b73662e849a980164eb295ed44632b6fc29443ef82325b93f5584d6fc5d2c14c8b09709b68f325573449f3aa32a0c31208e6032ef8bbb252075eed07cd779c18d38b41a42ff86c250e1026169c07001e886bd1363b965e08603ed52ec575ca1b38cf22ce57a51128f71e6160e0015e143922895ec5fb24f2006eb71f42ef08d2716a44089cfc47bef2f66158a642390948e955f4d6512677199f5250edf007adb671c92e5c7a92250a677ad8533ca273230b1a883f4183f5c04dfe38a54b78f0ee01088d87073bc2056090b600dcade7ac3854b651c91aeafd36d47c0dbe5f8d26dee4e0ba6666e88670fa1839aabb58a3d5e05e01cc94121c2a59c8a3b016a49c27230f1d34a14410596163f1e31b5f95a3a0721a29c0384984144c4864e1ad9ca031e19d72343b81bbdb85851dd5a93b09a65149f4a439f6a96a5a14be9c12c70f90d722bf6066836bc38cef0e5a2b64b19ad57625565988b32f59d7f350588d6b3d620c362d0467814af045c3da21922b342b23aa3b5e6ad10f3613fb3f14c64bec7829e84dd3a4701762950d6da71fdf61c31f424b26c56dd746932e964365e57a43fdbc2de2a9bd021de0123102f006d2eefd9f5e8b3bf1a1da24fcbf7ed322c8ce1859ec62081dbafb0c429fdcb99b55b484cf23f9f320e7080e3ba5eff25e2aa412984b3c1d282a5302e0ff6054bf93afcf088438f4859fc7e45da93637111208c68c78914380cd29619beda943725ef9763883c7b2c9fd2318e8d5eb417c4cc50804f9e64e6480b303843c5de9789c0df039019cfde4ce50f4fb4d0e11ed8cda47fe681e948918a32b6c2c232763dda33fa2d8f251b63fa923db7a0c4c32abe2b34a685ff2fc1eca3b259be92e21101bd9bb22b63ea08785ff1701f6c2127b6d1d95b78290793cb4b14aa7f08a025bc4ce05e8c6943eefeebff915e4ef5d1c54868d98a5bf5542b77ee40f4c30d8ac073723748c61c029acd6d7175bfa76bdd54fb4d7bb8516f1e3ee8fe0ab0b0d9ca97c2b97005eb714aa87442a1ecc8cd8c23be260c44eb8ecdca68af48459504134e82e6034798c22ede9558040c2a89790b973f139ea9f3f76be9500a0cd0740c57b94cc17d99850b3d6721d1e4927f66993e4232c27047b1d97463b45b2039bbe213e672ae5356713d7ed53dddb95fd93df59729246eaaa091bc8f7fcb5d57f193c0c2756f6affec715efe0816ebdb7935a2976cc80aa6660eadd998d6a8258fe57fd9e6a64fe311ae4291311cf93bd6901b556e3ba983a9b8fadcc71ac3f5af6fbd18abeb0c4dac7176e265ff646d14be1b9c4d6cf1268f59f7328c44dfe6e60b13bd78742ff041a2ebf931138741821e3a15cedc3b8e468cad13a373c7","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
