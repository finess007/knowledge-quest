<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"fb66f9f90ef7fefabb4b4ea5e3cdbd31c327a7734de4fceaa41110c161f683463794c6e72da447308f05c8bbc2a14a46f0c85b45562b26f3d03bee56b77bb0835dbfd7559fae7a0951682bc7de60fa305db285c3560027010884c75c76409eb2efa27a5c373462f684cd687ded8da441fb5a03e1c1e9628a9f561cc12a1c33683b672e130a253f42e557f47d42d692ae848549d4339abc87fafeb7dc4e31b8d68d9de796eb45576723354fec8973740c45382d254f06b0c2bdcce5cb91d5f645506b1d4240a7085326aad31b365b153af5d18ab5e66b50f76f042d740047f689a7abf3900ad522ee06ef4c5bd627d28f0113dcaf9e9025d3f51fd3b5f1ff8f0d94abef63acd7d82ef6b02973dee571b6e70d561e0b6a4c09f86cb833377d26e5474ae3c16bb753351e52a29d38e8770519a892ee9f9da98f91437320a331fb686f7e26e98936cc0c5171bccb7d53e802a528b9ac378cdcb5397aa95a0c8c04b79b7d7d1c32399d45aa220af4fd61b2a873c10aef4ab8ada7e68d4c0b0cee926a77073ac9c279b710002fe4aa4147e530dae6564c76114e238ce412f7ca9a0f2cf11a00b363c8dceee72e679375951216d7fcb01830a7c80f746a70bd882345fed0465549f272874a17bb4f4f651aff4a08f1d09301052817aa666de7e12adca9fa2fb1082412dc26ac56aab469d90a68c5a8fb7b4925f757bf8d6f24ab15cbcca6051848dd2d25b58d4e4033fb3a4cb15a59554ffe77b8a8b2b3f8f7a779e5867ef9281f3b302d9e90fe5fbde013329df0f03edb704825d69aaf8b2f987f1e5e462b8c877e27dc16c2c570d13ac6b7f02f021fc95f959ac07002a7bab40bd3f5709016b46311f08cf6d87c3aeb6496ce4092920867872327c67b9376c0dab788f94a2d1702ba1edc5cfb5f96d974393037abb23aaecdf21ff8f7c2c9d06f10f52ca260b74128a20369cebfa566de35334caf90310660bb272ef1b0b842e8e7090044fbc66b47678224727a0ce959e5491d58a942cd5f69979a695863c07eab9873ed438042449936f84b11f0e907d4deab4dade40ccc41874ebc3c9f93420e9e02452194d49912d6f76a2fb0b281834c25ca5c73b3a48280fe71b8245984cb823a4990e536a6f14e6d5da9107b4019b75bdb74b791c0403db3ecf9cb96899769918d6003ae577d7a73b1e8e48360e39b59900fb5d09984c008ec462e196732ef2f80f6a18f4dcfd9673630ca9620118a6ce0b49eedf00823c5a28b8fa6284b1d88eaa1f05386ed6588a127e7220841560dea54dc4dc156d0cee2cae1db7c3d26c8c2c34c044924c17a3233c417e0b35c44f55849e32d34c5fb70ebd8224825dfc0dd92a2a15ac997174588d43d0338a5286cecf525746bbfbc357ca1d940b5243bda8d9c7bdd711aa246c2cf5bbd5b8ebe3f13c1082742eba70cc426085f1a922a27a73b3c233f99525b1fe1b149c274b1ed3fcfcfdd5fa297942ca91801752a24b48979ba86f6a14e5652ee25715b518c73818aada0eb89bdbe12fb2c0508e2b4183a84b54fbe83cf4fe100a2a57fafe935ba94a58264c94ca2b22039144d3b70623e21cd75795a626bdf0e667098e6dfa2e4c3a54a696ca82da39411eece6a51379d84a3be4f48b709ddee7715a50c9fb15c37bfbadfa9fa804c8d31e557396eddef6cbaef0e15f0c0a8fb8feaae1ad33583d996afe42eae9b95c177e538bfcf8f9757ee89d5bac9d3b47596b783c43cc6fa5fef42c60c6cbcff4ebb77053c1c797ec8c5590f1d636d3e562640991d63ef4850b69bcda4377911a4f02b240376645d7edc0ae75cc87a1c911dc65041539da613d1dd3e0c3e3ee8eec21ddf19ceb8acb9240df33b785c9b8f24a56abfdacf4091bdd971a1e74fe3326e1dcb6e7301f2c1020cffd7bfc8dc55ae5060551ef9d762b364c895b1e2fbf3c66e84dcbe05db64efbb9afbc7dbda7421e8318abfeb9046c73975164d5779b0ecbbe3cd2907391f532f30fdaa886280e44480fb0cea6b2e71731438583af0ed3a284b4a2b125167900f31065e778dfed1f9f37e669922f745931b34bad4457207819c07b4b49c8ec20c6551ba44a6ce804726468cb909f476fac9ad84402f165f63c0513b7fddde6f2e56c3db32d46e1b9598ac85cac9d05029c302caa28665b21ff5c033032bf2e69f1076dae2d8ac0453a34e89123809b0eb0d279995529614fe972859f06e4b263e93eb8910af0f9d047e63e6337088d02d10d2a43112b7b194bec2a2df5d489869aeb2422dd0daae2b0488097ab69e94693f4223b936f66e4b12f44153a2615fc552a2b6ed032fcee494c005281a7cd086d8fc64b30458f6d6ea6f56ffc14a327acb0297a534bea69b9b4765b3a39b3e737273a962eb3e00a1c4887870747be38a706ca659215fd66bbcb7d2197932e3bf0b4836a55da983aa0e995795a488bd8179378158475b35a122096d7943b768a3ff9b75fadc098d03f961298f691e2cfde7927fdc524a72279a5eff88229a4662788c3c3f35582005838198342e3d552db631883e892b3f6991da182301c1fd401f9dacedfde6de1ca3d49822a74eb30054cc819da4d9b6f9b2b59d1f08d77253f9812a1a01c8500ed3b7851d7c963e397a96c672e0a40dd6d3563823ec9c118c9be43ebc763945ae5e827649f3ec94e0a4287e054e30e24a1d1e67bb2ad6d492dca773534d594ec291be7179cd65f0c34d762b2c2295ab29d2a083ab7266680f8c42e8dadd5513ff7a7a19bca289902298b894d9db1ab1d68680ad0f7523b1fc04be278e662d851525d11cef5c9fc56bbb9425aa8b6c934ddad092b619cec7e5e04c00b0f8f40afaa341b934adfcbff95c317a64feb1b2056165703706a2a8668fd43d3346fd2578adfc3bd6084d0839e2ac3c2d6f3788b155f4058a72495e59a3d80f7277e1021fc9d8894ff55e89c3b7cb3706503eeb9cf8b7197ea19dda08c94306f0934819e3671cbb59db8903685ded9d829ac14550b932d649f1609a63485bfe72aae59cf1d6621c65b4de1d088310299ecef745491753a18996f21c34752a3c84678d691e9d92378e4722760a46ccbe56f3a8c86fce3037a5e07168db362fd391ab10fe0d8061a7594351ffe71a29f0100567586555c0d4992577ec4471bc2ef01e1751131e75350fe624a91632409943fecbbc6625fdf537bcdd861e36ecf0cae1238d79548c05b9c0d902be8a2e680fb0125ab75fb8940c3593296a6460adeb650adac63d910e8f65bc1f23cd3004286202b68422d5b5c31e2a8471590e695e107dacd94b5afb00eca5a2953e39cb281d4475370326d4c1e94c7bdd7eaf78652bdfa6cd72863e2d9b45ac0740713c03aadbc60475b18517911c78967df6df58ec0cbddb8487bf94ab8def073535f5c1fac4a6b097be086dda63ecc5b32fe7076d5b63baaef6521a561488acfaff793db217eeda3aea407c3e88c0c97c79f437892ac0871717600e8b108021670102cfe5f6111c5a8ccb2593d3e89b68a4727cf1a554017f774002e7afe8690e8cbc6c04b8cd5a2f63c24b66e1f762894207b05982f9f4df2f051187df06c86e4a895af0016c7b86b380804b66e066b4973b956e800dc057172c645767ecc6d1688bcc32393e26fa84bb2b1785b680c7e2302e0269f433fe90e6de0b9dcbf0781bd3e4f7e3ccda4b1370baa7829efa6aee163f9a33edbd7c204cb35ab5830969ca8147544ddd70d96103eed6e9a73f5405cd161b927195fa43bcba8067db7d843c4b944101920fa9982c0594e6a4689657b1278cdfc19f797898eb6bd52d61989d8020234c0e0e95168017ef8243468b57036fa279dacce9868b249daaad2b17a7e1cc8f2bffd6caf3e1df3d1465d9ba22eef62482db946c14a48a5be191808813862939c04dd036156c9558883ba4e65662d6f627f690365c0b2da1d6808e08c01ce24f177a00036eea7b8d4c92d2f6c73421f63538633e94fe89fac411ab2b3989d3d1b52414eccd38606d7b77fd136c58c393c8a9f4baffa87e479bd390144409db3a0a492373256063a9428d1b6e763873966c45348bca1c54dcdf5456ebb4f1c790fa98cffdea9062f5d7b52be9d5133e054c953bee997c06425f9e3bedfa5360dc464ac5a33382fc3f997028fa32da2a79caf6f27846cfd4991d42470536f115ef86502127b7ea177ef75441cee8db563fb33ae61efee917d2d37274dc9028eab57944de8c916e569b88d800a861327b911b22b318977a0661f621cda0e329f6c1eec152bce7abf5d0e8d26d55735f4f0ed4adab1947cee1d6ed0513cb21c9b71d837b285462901cceabf672adab779b90bcc63bde6f481add6629d3a4f13d1e23e4d59210713ad2cb522fad23e8f930f90ad66d222cb29476f1bede2ef4b1989129eb93f827f596fa46ee6161ce4d39ead53e1f99c062ec53c4179562c80cf79a6654b8c796f924d1abf5c7abf87a9f1be6be58105965f379382a021c37188cdc83673900b93739a89ce455f58175eb9ba659081a40b2d292b888c0ead08d35acb8504bbee1e70a16ef654115d98cdc80b0d443f4f05dc460b993f8e1dd16399454dbd543fdde7440ec18bcde23e6cca4fd567fe68e14b18931734a361bb8863e223183e9006f79f94b1b6966f59cbe4fdd9e339af315e98cd97d2b9d83916f6bf036bcdea7fb5af57366cf6ff54ccfab79a14b6a7605dad5f076c789f8e32c75156050df639e0029db50ca3475d37ceb1438f94e1bf50e5dfa75359e85ef5283c2e999d8b7b1d9ab8e43bf8c66d32567cea051096462c08b8df94c75cf4e6f6f9567d9bf6463475b0d0a4c3564f0c6931c048ff7b4397159c29c0ef6efd59a5a9ac16bd448135c0876ca946933e03b21deef8635de69d84f1c79a5e455c7abbf0373b33a3fc97e9f53f0fe441859474a3ef26cd5916843253b217f0f26e7bafa12bc59caca16a651e38399aba20085a7be6b0ad8365d0c3b087c623b19b2c45ec2178ca779889c02bc31c65a164e4d31e4bc2a31f8abf8d6497e09c758b2d7eca69b5c9f9e2a732571c41f99379f6fc6b97f20964f02b396cc8462b3a1f6c5e8119f989e5a5c2469acb19f5f934dd0be621edde645453f81a91ef4716b9d60eb14e376be8733d1492256cd29139c77deb44929a32d5b4380b78fb8a7948fd69e7401013a0cd6ef7dafb233563cede45e60a871c239494c7a3522d9846cd83680890e35dbc77a6b33339c9fca734d767b0996c7ca673b2becb46e086f1e237ded875dd50bff166e51219f1743a1d7a46f544c328a1e6342320e713050601d5ea0c146373bb17fdcc0fc9bfb4573124840b98b1d32718400778ede2e252cb5bf843f76218d06efd103331b166329c475d778726bb6508681cfbd55428fef4054103a739b817e499d4ee407cfcb309502b22037e6728a54433e6e96dc2a2c3c7ce869b5e6530d32e32da7eb59e973033411a43035f8796dfec9a3363768ce164f349122a25813177d317a3952b7ee5ab0e01792c8a20e188d8ccbb60e660476c10863de471838e85fef8124164341b226da020c6b572dbfba47ceb9e6e0b4f3e98be72ae0bac3ff77ea04fe5f3b999a5da883a789a152861f42c6764fd3bd87a3e081121cc3fa2d7a213715578794121564ad10a679fa51ff7a33fd8cbe15c24062ed2b802145925a2f5dccd502b3b990fa076ffd8ab32a67098b227d0d6c61d293c80e8468f91bc678defbc1ae0fa8f980a306745ed06f649a384b7597180937fd955de4dd9f5622a49c1cab78d55db3f99215ebb46f08b937df781383c9f940977126d7bee08503dff9e2490051d72f2a7f6c8debf53b4e1be7ca48fa900bfebca7841266d39933628024260e0c5c6e97c77585a609478b491cacabccbb2d3f61f9e67c922aefe68b2bf6dac7dba97ea3080f3e0d7490090bd50d8f7171bc550c4097b0227864d4ab8799e466e02ee58522b626b9c94560c25d193acd9e3e02924b91b618c76499118989085b7ea666e2d203a720cf8c31bae4e640c59f490cf633632ec93767b91877dd8b81e53739c9a9d4af041862de2c54ea765fd77cdc6d556d647f643be9f8eb590cd85064b6777b14172e1bf208fc112d8a4b05c44c129634e4a80b95944119774b53c731197e437db8ffa8c66f08d6f50e469a0aad69d52739c022a1c5b2e37efcee04333b88dbde77db6f7a1a1fc0f1a184f098a80325a03ae71a7cb055760c628bee71cef8890c7bbf8b5e9fc09353d86718d3116da1e3fa0c63c66c864cf6c066a29bf826c35837b37b1b2a014a5e163e82beb247484e028ae50145a544936165b0ab637087b25234d9074c0abe790fec34a3ccebcc2277cd7174ab80a56dbfc9a69d0308c6fad372ebad98bbb3f99227166d634e873042d1c828c671757790da8fc80ae3b9c96fbf17ab66368e16bb3dbaf1539ddd50dead5404604ce789867d99d884702693cc859a5f738a7f9339d0d56a2bfea0b942c6a2592383304eee34b3e6a01db0b330a503ca9fb798000fbe5b185a3f872332b6fad50a632dfc43a326307a3d5af482fc788575dd6c62f370d943bc18f2386051d18a2dc070bf6e8f3c4a7bfedd4ea83f47ea1da6a7133ec851faa845b26e5ee626a0104c3cbb49562234535b2e60f1d74a856d65d78a942286594e6b2cdc6edc947f46f6e057c0e584f91797bcf3e7692091a8e3c23f2c9f75b578c732f48adb5dab12c4d877bcf6d93e67521db2f3132963178522b7173e83ef8e13ab62cd9ecbc3e130441b67d1070a55dddd6b116f48dc3ea918f749b00eb0308554e2dda42542fbf6f2b851e0aad004687d14e17cbc1917a21a965245fde2da7341a587e5932925cb07f9612f096c8c788b1171cb317a946eb097a22f3b3f1d33e65d571f7fc6b51b639a6160b3325e6451c83f470f537290599dd03b52cd084391819dec1e3934f709f1ac89a3561c025931453fc06177a3dd6090b8cd285edaa7687182b158e95d05a2e73c3c7fcf223647809a7d1479bb4d78d506f33bd4c4f9d20680aecb88ce266a83c4c26a1c316d2340c01ef4004562b34cb5681e8b2a546daa19fee5e51a06a9ab55248d4f20352920be1a6035f68531af338fbf2e9d0d86ab9347a7679c705a768aeade295b0f3465e450aa9a3000346a8cee241506f4d93371c2e79c94a85fa1bc2e6b3c3e4884a14f121332f527e8a7702f90ddca320a47ff144ccb9cb720d6c6fb8278eb3831c8ebaaaaa026ed019d39a6dc153983cb86e66208d73f9534b6b4e5ba37d3cf60169612439a59b77c85f2e59443ebf195cedfa06d545bf9b95286e580926268cebe176670c813ca767b3bb2fa108bec9545d972db546c31e7cd79cb6cc3a4361794eea75c19e40fbb503fd75178663087786447e4d07d8e70d3e1b1efc1d35c222b04c16fea7492394ada2d8ecc57d3c79bb08f90702b10e937c32879e7e5a104c7a7ecfb38213fcc475a0a6e62c9257e845479ce3b5a79a65ee7dc24b465fb154efd0c10089d256d2e05d68be8f87171998fa599e67acb2101b39c9717c0fadca7ed2157290cd2a20db4753fe0146bf74dc8039cb7b2ab199809f2a9ece1ed14fb599504e082f0bd21b86e0b2f1ea99e528263911014d59be1aadc352f26c0d72da658d198d3e4f17bdad15cd2e5ae223bef23bebd2437cf550113cf97fce9149238109980ad692767f7a4437c5b4dba23a89fa73618795ac916d22518532d38c898340833bfcfb63ef4c33b43e08ee63e0c934478d10b16e2afa6fd59891019949a7cfb86646211901855c0cc3534b23ac64248adb95c26c9930232f7a65054128ccbb57f65720daee68079ce4a9bd6b5676e8e74188099e82dac8cd0e169b5c8f2c830c0d9a4d1a7d632ecb3c91775d21027bdf2265b93948cf2631afd557af97e229056be40b3c4914d1dfed198630a6494d0dcdb71ddbd436be3a38d6290e26d6a3508cb50225a06a08e891cf6d6f6b812ccbc5afc7bae3caef6211ae8d856cf3526597b4ee788895ed633a0de6abfad4f7f985963ade9929699d076d232bb309fb3f170300dd269185392cfd270494e2e2d3bcfcf22143917cfd6e7a228d2119f9233530fc1a96b8bdca189a2cb372409c9d4f1234550f1ec2bf281f76a159b22ecf520a718349523bb043c00a95b2379b5f5964d949b3ffb5bea6f77e8430bf50fdc7888b970e5734efdf135a700b4e1a4fee045f1ee1082d5a619e25abda1980d2e61b9f586a8be84ccac15ce45c3dbd8ade438d7d50cc59c2cb38c26fbabd6d0fd64bd33edc573dbd2e7967c6b7cbc3304f0bda096da4c0877180109f0471d1eea7d4e4c4a959c68aaef391be1de826bd1757851459cab0b76591e2b90952a06a59f66012ebfffbfcd36eb8b6f0309be17c51fa11286672d3edc75658530e0684f3e23d593190025a514c4d0df348ace0357ce396cee6d3467251239a93f73a63fb71c5f777bbf6fe1068267ba90810b22af815843d88ea53757beadac089e05950a91cafeb47af2ba9376b8c1fa41189bfe5e8fb41fd41d28f88cb2d9383f930246e9b603d91063420279d60d5f5b2fa3aa6b483195c2033c62a19d64bbf2ecb87b4bdcd0816eece884f4ad569ecc6a18bb967ed177a7ee451b637ac464907e84d720205f108634337ba28877d3c6dec590c26c2e0a0d0427837517e3806ff731124c87ff22de9384ed31ae685256f132f9ba8f67461c465c709066d703aff9279ba3e00c68927cc8a13ad01d10b4255ee581b39b2707539971a61761785692632f9e0e48ce2cbfea21dfd9e3a5568ea304e10fdd02f28b0b4c47193b4dbf460278a8f5efb73b93c8cdb85bab94cbe6a489e30920ad784c307338d387fcba40da67e1bdfe37bb27ce67af54c8cfe2fd622413689519229eda2a17d28625c311aea60b046402bf72959e0198aab906a5014b7933e2cb878bf1d327e46986f5cb68ab1470260e650c51fdb799843313fd4ac76d89534054f8f0b2d7f80eddf26510f9afa7318cea5e74abd9d8d93ff48294de9d8e225fb1fb74d3ac778273ee6d2fd88c42d181f28be83a02a84caf10acea5d07fbd6a207c82287a126fb6b0b899e12457b6fd7ecff8a0cf75f18e45b5a148213dbc1cd200d76ad1bd831cb0767ea96952266655c3fce41822e3363ae7eda9f209fe98480ffdd539e01714ada3b351dfbb87f76b48453154005726b080effd45e3b9a5709ac9e094ea8a8671ffdcb8644da5b3a0214fe8615da4faab6d15f18e4532a41fb80775e42bb06dbf51080a974c822bfd00d91493c56466aa1216992558f214ede49ca6161b72202c8d8811448757a3fdda7169b0491edb413f65b8a449335b5658cefc7eeed252ca640797808b619816e01938c67e2032d08b5d3e78220959dcf9102ee89fee5cc822eec8643cc19289a770152dd46b2d3eb80993c5af3fc73a5167ff3422c8dc67cf269d2a2418925244f2d2a503938f21dfc7cc7cb768da103eb60706359f392b48cb80dd3f27bf353a8d31d7d8770738f1ce70f46116850f55985d4b22f517cc9df1ee3a5a223307dd28789a2a4b8384e4cd742e83f718e1514a363036ec10e7bf97f972dd3addb4490a1129d47c4ca190192e3d0f4327d665bc76c0edb9e39a4949260315b78d9f410dd668f184dcf3bd569d33f2118be755706543e14b78d823326935a8a946290537b1d54c983523e4a1feb4c0d60beeca05a0e70b1900dcdddccf2611b2a6fc1c9d4b0ab2ca35ac813a7078198aaefb29f21d75e931967aa46c1a7c403c453d3f08b80914a9699254c9d2da82ae38f1f193df80ebd814af7ea398f98ea6e48633195d36e5ea62460a892e74f53d588cbbc0705a0ae265e01a43ab49c3dca2e2455f723bea0806ccd4127a8069ffd2bd3f1b42faacfdd3ce7866458bf73e326ecbd4a03973a2587db4b8214e676a2b06a93a1d570532f459c4b3f559a7826f544aa6bb6dbd59d32ef40073a7d6142e5f65a6339245aa51e0f5a34536a439b1f4334f4a6ac4d892d4c0115f72aaa433e7a06febb1ccc27fd809720f858051464ff5a2ec79d9000fa449cf0cc3dbc611711d2ddaadb3abca1c6e2331fc8037764668cd728ac1939ea02e83d2ecb126ee5f415cb7772d7e4ce9c9f2460ace1ad9898d6f43fa6279ec3c1fae93ddff1b2a4c3b3e5d08d33da9f58fe6d5aca3e8f5e0a1aa5e553489a6437763695a6720959c118cb198dedd59a7a7be80d0b20561ffcbd8abd3015e2f3ca708cec378136f3e7a196268d2769b7ff559ddc5ab96ef58140aa54490a4238806103954eda522915158f567e9ce00e019c42dd216ebaf62cc65d881d750a84d93ce7845f92c53b2b50a492ad2b387badc2f803b01ee2e2ca1f7bb0097ba7f72153ada4bb3adc301893a97aa81a3764975a65761b26ffb03faaf61e003199baf71bcd77af21f66bc5cc86cdda26b7d828587153afc859b0de6338bac8a1010382b64cd8f93ad24eb9714ca26feaa9b96d267e2690392c2a8489d2a3dffd19cafd6e8c8d6af2b4c9ab51068b571bdf41de2f044ea39c3ed00dcb7c9949a919724fd22b1cb876dce6d249b4023638bb537565b605f8b19c98672daac39e584ae78273050ffb16bc2054c6e6c86916b3599a99472a77a7871e93796d5c0d662f7c16053190d05b0576ada69ee0fb4af01c1a589d903756d28bcaf801d32f23b64a8eb30e7515ccd05f65cf2e30ea7cbda0068e23c44c58679c1c9296edc150021f94bb7ff7db828a46219bf5b850dbad2652b5eb7f03c479ed9cfc2e502f6f7515e82e81bb75c1d3e46fba86f806ef41ba94e46c238fec617bf8a98bbc5d22f182b343c4aef8a2659452823b0e15e2827f056b0e778ccde098388b2c531aa2c300bfa865b9a0a49c7dea8fef08d1cd115c55ea2580ab5a8ae05ca6204636bb60e5914b7d4bbbe6df66328b0a5692bccdaa1c2b0644be1738c0d3a1b56066efec6e0aff3bc152dde39de1f02870ac5971e59c1e0b7993bbc12a171797631d7c891951927c17f6207cdaa7f16950bf200c084dbba1e8a38ef3e35259b3aa0f7b5294e161a4702437fe68368e2d7c9b98d6b725fcd5211ca086304cd1be7d43704056759f621c0ea2155e55570dfa9ffdd38cb6ddd645f1e843ee487e4dac5b67e4a623994ee2dd7bcf03f8ebda19524594a96633828d5b776308446fc870f295fc8e428c3bebc1a9bad176b514219704a58169699f98c47e778c0abcf8b23b332a0d2ba06fca88d16d272ee2b9bae8d7773fe5551954fabad97e41b45a5fdbb2a05c4a9e3aecd7eb809681c78df3f261f7379b9005f179f49286f73ed6ef51e007f883a1283c7490c6ffce649217844c9900840401c34ad1ebdc887baaec1c345c3488512e4e2e4b898d580691170d55b2d9f19c361366bb4eeab6c6a61fcc71b52d68ff661a4d0b73674c26382c2bc2c363bff55655e0e2b9f5b727eb3711a26048cfe917c28747344bc486bb52bd1530729e7be1c1bcec02291469a61bf675ca4f62b190fac6f9022cffc4d9f86ccf4e041f4baf1c1a571410dab992c2d9d6032b2015223fe2c1a76a0a5511209e1fc257f2a1ef9039064a3461753f080f6858c9ea0912ed4db6844c1db826ae79af81db5e31c668a51de52633c826e3921e9d64fcec1d978bb01ff768a198030e04842e374eb42328e701355ea4c237118cef37d1bf6ec70b9831be5b4fb35d7f8ca705381c920542a09da76ac068653e8e0d020f94024b93310383c01bb08aa6dd6154f29a910adcdc88cfd93ce07603221c9c2af29e5f19fe7bdac0ecbbd16ec1a5acba2d1fb560f5b7253b6a84008d4e6d302419623c0bb436358fba8836658a06ffd9909cb6c426f7ce9681d460f03bf9a5e5211bccc79dc0f330b9e40feaa7284fbd658ca5a48cd89cd711a73adae2c424d93e484ded5a4c1e6fbcdd3fda56490e6e470803848cd4dd0754453bad4e45e2ca426ff236f8f740e3f16b0539af644630d20f19f14f7556f32655ff2afeb5e0feec35775a8c294a0ed40de04b92f5fb93f2ad82b2c96b7e2613fdd67ae0b61f93d272726960642e4f674225191fb59989d5105954e1fbd2275090d9eca7cd5f56f8f785132c1c243f66ebfca6432e1506f22f41341e7bb8fc23ccf73e0f1e2f5f97b0a01270fdf123076f62cd1d73cad0a4e99f72f62cf5b42fc3fad6d8278949bfa9ab9b0fa66187d64bb36e999f2a7258fdd954a6fb151f56bc241cf4ed27babacebe13d0a1fe498d3ad64bc74fa0c922ebccd26a02b186ebeb2690b1ae99f3667ada842911528674549b8eef2c4760d28289efe830295e2420b40c47fd5f140039f0f6063091520c21a0256266855672169c11d6ccd028f4439e20f124f390f63bb20689ccbfaa91eb41168b98cfcfc622bf6a453e5e8c0df033afa7b095971758d0becb7f121376fddd0c8fd7a8f69aa07c8ee2ca1a10a55e23de8b0528492ef4791cf9af963432c0f4104d3497899a2ffbb5cd33b7a45f2202a17408276c10839a913684f2896dcfc7f39f883566d8a0b240af08bb7a5dadd26600068b4756b3572f8793ef742ea444a5d8cc85b12f50cf61fd629f1b8c4927a193cad7f9d2976f50a1e733064aaccfa90536d70aaa0bc3ea5c0837c7bfe0ba978b39dcdccbe7956f032aec80836fa0e4c93d5ac918667fe525e192cef20fa4b0b6051b55f102a3e22ded034806efe630f6598c7affb156228dedae2085499b455e5e2f7dfc63f7208bb75ba24980aa29f55e2e3e0b0f159b478a710691ff9a1f8cd07d9c49743ec7a0e6232fd1aad2fd28f28b7ccc1d6456525a4727ae590c30d76eaebd17c1c5bdef4c11623c324da8c2a7f6c1b8b935c9b5081b79f24ebd16add149485126b99b869243b6b8a67b4134f6f8cea429373f9a4ad428d8110053551d6bbcd325a137071c5cc550e3e26466f170aca3cb59ad8701cf15ffb3c8dff45cc3591784b23eb16459eccfd16a3592d9ede2a4d79f3cd8eaf500a504ce599bfd70f1c9d9cec09801c9ad6830827fec05a5d78a21b17b125f4b56d370511e68d314caeda9b1eb58ee104d4cd0009b21b2d6c034f7f615cd053f61e615643d349dcab76d2003b5a0a3b489bf162df52c93d61e8431704364de656d4997da0d446217e40f3b9a44a732e4d591d427f0dc142809013729a50049d170146f79a4881e64938b60a43c9038c90606c30a3d6982eb56125955653ad1c9642c9c6b90b7f013f62bbe981f1980ffcb1d87d035f78ec1b50befcc9b905c70a34517c8f80949ac79d78a49af7b24b697cab481dc036bf8a097f1a59e149feebe9579b26b0f7d8fb7ca0d09d67411207fa604a18fff08fe4fffe27115ca5e86a3868bb47f2b22d3649de8736bb2eb64cb00762b9d343e423b55a6c26b73e30a815752aa638cfa4ee63e3612f174a6853b296e86f67a25ef1a5f47b0754211cc791ddc013ffba71887230c6dad9f5c5cb9eeed57e276aea306ab1fca3427778d529d32acfe4c85b758b876c66aba7b6f43a3ed2b5aa8528d67a1b049feadbd09f3ec16733a80a0ad0e46d7d3b2e0eef495cb856d077d037ad78be9cb5c22ef7aa03dc6c51abab347f00427871235b0009cb9834433d47b985f37694e96b90163078b71624ddd54f25ecfe7a459cf88a7a3ec07736e5ae4d5352d17ba11c9741c361d8b6d48219dbba71cef1cfb443d21d4017a4f111b17cad1b2a203a24fffddd9164c28e67f757bf2dcdd8d8a865ff7828a5a22d5d27d958b9d0ff81e3ff3cbd304dbae8089a306afea7758e8f7f6a675a0c4cf854be5a1434bce10ac543582ce76c29f4d245ebd526022893509d4e4108089fba4abb0ccf9db09b1afce01ad17192c7bd5624cda872c673cf3947883eb0e548a201168b031becb17814a2b98c6fa4aabfe0f39e414599124394f3aef337ce3ee207667212072478dc1dfc8407b339910863f8400b5c455f77c46d6c1a0a7c2b634bdbfe3e5b2006171037ff916938a100edfb3eb065068924eba7db9a4697a51d46bb231c2457c250075e2115fe9e778145c0b793e81db8a513d918fbb3ea101d5c01f37059ef2794e042f2c43ea419eea7127a1c9c6639bed6341f66891388d52e07890ad477cb490623922449a51f63e5bf91fd94a00feaeffbdba8e6d0740f6770c168e9401194a0a32e55b1069816beadcd7c2bc280ecf982ec68b7455d2ec10b414f14c215284cd9b4ad03000e8468b0748b120ee25e04ce1d4017deb165f207ecae6e0eddeff1a42622b29cbfba94c9db3e42076ab04e097e60f7fcfbc7e6efe3785cea34c0e343394d1807dab381bfe134e05900fb73281de58c4253e033831f256c4e3702d488ab8e85bb9893d7db0c9604e6e21e3aa0d4f1465e2912e8559343f672bbd632ee208076ac9b8fac3b7912967091f5796d967b9c963cf502397f8d8afef68ff51bd50719a90108ff1ac50b06f65c97cb0a06b6534f80c160b5363ca7cdd4e23df100dc0aea4b1bdfd470628468f787148d23662b0fbdfc701070391d169c96916b5a6ecfe7718c01087b90fa745b4b82837630eb020b57af4c2a0648fc31a352b244bb07f6705d7c80edcd95e301bf9ea6f7a1124e5088f94cdba11303702f1affc0244d571c6f6efda56a1b6585ca57c098e5f32e2037d8516ecc1ca1a4144c8de5c0235f5d45211386adf20d7286ca3e73755eadf43222d4bfde35a91bb6128f8fb1779f3503542f644d497b5400f4eef9f0e40fa0b88d2671b2bd6aa54254473bd0794d16bcdda8e8e9cc87af40b0f73f731580fe927756b4aa2ef096eec018083f6331461cf7c20380dd098057759c007b22d29a20ab54cf71e12501d11035ef797845183f281aa4aaec90bb3f1dbf960261b524ee9fecedc7fd842a2e70d8d548911c129f6c0b628462bcd2c8b908eb94ffc73685a67d1e575a9f8f85df10f1811e78bab580bcea0323feb78d548fe5c62785254cb783c34a4914a865a7afc70631eb2434d71fcb0d25de53e336c08cee0464cd3dff6078e657c8a5b6b9822cb4ffa3ce0d4718340276874827ced2f83a551f057cbe0fd0e108428e5683a42a79afaa925a9ee8b8d83f8a8874512797584fa4bbd9e3c0c5add8b675390f714bd867a53cdc37e1e4fb4a74434508faf5974c0156707ee07cfcb7a336a8e19f335eb3b6407a8b065b38e8c4761ea40a78636482673370951b79da47f4632fa1aec79ef87bb3d4810fea7dea549dcfba99aed6659898d4262041fb4eba03b65f280eb328fcec995d2ebbab7fa83b4686a6836dfc17a6017243e2fcf6909d285e40140651e8ea20d9c866fe895c2766fca2b02aad02160f2249f4d936ae00c02565dca18e8d3cf998fcff6fecac625f2e5cda8854e0cce756064f805591c218ca54cced452fa0ca0bfbda18bd112387ccd406c1e1c6a458df9741a1c48b25606ec895dd30a78f28a68b7bdb8a2ff806c5581e03e8eac6efd41070995cdffb41e852c36218b8fbb6e61f4db3f4c3dde459d28dbc8f7ac21895a512ba748cb916bdca2acf96b4d7608d71dd488f797576ce0bf9d1b1877dbadd61c3426d72304d36617d9b1d0b2e4fccfbd1c7b93ca2abcc609cf696932f0ab7780ce7e6d39518d2cf7c9bc3b5e25f82a50c4edaf73f7de589f7df2f2bbaba744b916e22a50748e57c68a15ac4af52ceaf7e599f182aad4381e65875392cf0d2c61474f5978c3fa55b167ed7befe1dcad21900ae94d47a6c54fadd59b4a10572b090b72214acc05bc6648deef783dc187ff86da64e169239905763d1cecb6ac40b322f7ce254c5e91cd9fa14199105b38609fecd5563ebcad614328e298b322f223cc1d5ccad6d12865505ef530fb6f58016d2942730fa954921cd9da9993ffaa800cbe0b7535f0ee1fa0c912d119144fcb1aae2e23fff5b27a5958e28366a6b8d359834d4b927599c2d9c2723e154968653a6b12f77e9afab2cb46b058146a3ccaeec892d04248dc722492f823dc2996c10a33fce682efdd1d8d1a24755ab0e94a7ae4f7517ff6d46d659b6b186ae1b906d2ba7a0fdd1daa00cbbb4580fc741221ec237a0375cfd99abea5802917154c7923a12f89aa4f3c99351027551aec3d11b321d2a2034d9f55395d2c380ea32133af2243965bd7695867f028dc2c75927e93c012c5a231bcd852526e657c1a7ce0f91c8b804b02479a7c9c2a5ced8537126a29d8452d36076319600d2d320d4e209bc2c7df099ef02a928e547ebabebf3ab74876f47612d47be46ad4ece73b1ebccc62ae837f95a660a0a8470ec9ba216006c2af2171102be8a517169ca1b3f93e596e51884a21046798b9c76e44bc3803ce39ef9859cae720d236a8add5c347eac120ac4c2810881df99cf094e40a0dd8b706b29e5e13d5107c8f5bacd615dd0911cff5a0d4811c18d2fa28df4ec14eed0c116f4621ec5559474f1c1b712193165cf1a211c52c848767bc409e21fe6abf151520c63ef6cc97f186c5332ad74bd637080785e677979a91d10f032e441d9df4a376d9437c367e4078a2a3e67c0c0045e7342c845372010fffacd7f69f62737de91832215240e0cad105f2cd6eb52e2ffe482984b48254176ad429b249f1e02e1d8ed310bec3087783c5339c467e9ed8de43247f17fa3a3a61a8ece29a5b0ce94b819401e7dc6dec46c6303393c51325dcd14f318892f4a1c79701cc1c26dc14d53cb38530c1c3b0a67f91a227343f4cda2f9b2302dae9b1160a2430def7fb9e191906ef0948216144b0b1c63b0a0f411f2d63000e7eedc66bb7553cf0775afd13bbe61f86afabaff72254d138e2c24e4a9038b26a6e120e02e8a6d06659dce5be296ee2d1b13b9958cdf13bb6db0ccb9334ae7dca102ae7afa815e2e696664a33721648fd4e32324b61ee0347d840059b87d00f07d9493d484b3c7a28faf2a2010319de8c482c597d493fc1c41d57cc59afcaf0966782b4b782d473557b8f97f5a3c30f73d4f454c94c8deb9ed1fa5e76cff2f759813283844a5c1343d11beda174294e4d75cc2b10c508142841af2fcb7dbfe3c7f04e41e566ed051c086c3bcb1046b216b25b34055c62b3d83c7aafde8f39de3582ac1d8a186b9cf50dbc9b24a7b18bf13b472a33c96515bd5f622a519b10bdbfef39d5cc5a1ebaba39a306b7ffc5807c8b6609c63d90f2bcac40a784e3f23b28722f5d86cfc42a083f3c88cb21e6c050b169b7b878728fc530bd281b59a15556d972d00452bb3191a7f0650f7951afec7ccaba1a3ec92d9e51ebc84db35b199285c1a9c33a396bfff6018a5eee6e7f837b00622bb1648c286784d6cac339a56b0e62c26f054c680e5d358c89f3c868a2d265b236051a202878c30c88856c1b3077aff4965e61f6d2d4d681f007383a54c285fad27296bf0c188071f39cced6bda762c612a78e5767a6fb7e3137a2808b7f88de6d31075267e016b30b71dd66919fdbf697e88da05b563fc098a6e2185f0f0897d5363ebe87f9fa129345a15b4fa40db63ee9580639cf708ef88d0433c38c973605785ce66af59b05e21d7c6012d240c8e98478d79ee197f3559a90263e47d7751dc9532dc21680082e4fdbef7392d6a80234e457f9178a8540b5e5a4aa314e06917943265dfcdcc6a468b2883011484096e3a31f06dbd6a4974fcb6f91020fb982046ab1dc39d2839295bb01d75286660239f8596b11b8dbc1d7ec1e578424325e36db714f3b9e84758fa86fc7f7b2ef0e1e8e79c175b262dcd3ebd92fe8fd76876697f409f2692a90310961fcd10530993d8f862f76d34f693d3501dc179854740d949fef4587dd82cebb07acfd304383d41ca1400afe78bf4499e9c778856cb04aa92e9e8a0ea5a8fe62793e3d116de29227c981c748e4c16f279da0ae1b5f0a320ab3675254153a962bd8dd749f2da090ecf8296d987ea045d9f90419e0587f40b9ffd89e05d7c9fdd4c502946377b8d4ce461ea27aec9c3d8ae7d038d7bc9b4ccd818ef31d3fb12567f56af67dbd0ac0895f8b1ad221a10ca8666927f8d4969fa5302e5bed5bf8470849ff589cb892e57608ea45b5dd5acd10f12f6ff9a6b0666b69751fd3a8a3b8eef7cd515cdf756d19b7c0161394fd6383d3eeb630dfc1eb4a079a47c802fa09430b3f1972d1fba63ab07f50d6fa3b2dd22832e07a36a5b40b432c3563fc65f07070d96f423cc2c0242db3fee7e3a45022109c5afbcefef75e6a9b8e7b66e3ef6658bcc50831226a9f8460a53c9fb09d5f46c559bbca25457781d6e82c223a8f424467a5a172b87d0f52af2bc862829570ae3a97b9fcd467768d32ab089ebcb51774b16dc2a031983853b6d6d83bbddaf9d9e0354791d187bd30e4411243da1f81b8c4a9d8c22a58f19755396d076393d1143aaad5449668360b4415de73c35ae22fa1864971cbe2674af1e484839b46169020735c9d08a0147544f96eaf71d4a9336df56ff8414c286c6f615fe1176e320682cde9e01a1491fcf970e9247258896d2b33bea9c72d198486b2fe160a1895c3464c4cc83dba0b89543582168bdb8e635a1786d4d6a2ccdd742f83cac9dacea9609defc34db5b3e4cb2557f0f5c9ff874dcdef7d9029fd5152b7afc8cee65b2862570209c8ea8615d16f8a0efbe18ccf167de0ea2754aa120939d9c8715bf5690fb62aa9177554f32d8268341db7a682ea46c43c7b821992a7982cd3ef2e709c5c239cadbbb62af9c292109373166b4578a87dee1080cc95f306be1a4c7cbd3a9af8888e34535f4426227b9b792bd013bdce6153f52c39a2a091088694b91c1db7a31d231d9b8d55296ebf46f472efc042a2eeec483e04962f6f78f9ff22797d82621c921edd3fee237f5ec3c2fa39ae588b7cbeee5a47e8415ccc6e9fbd0c29504b268fee8697617e9268ba012a5bff92ae7d1ded425c6121a74e142da2fe4e16091c54e1fa7d3567ed5e85ca7eb4a818c63dd2f328d4f72c4a49a7546eb12a5249bd2cbeac0a47e42291a980d9862d83b56475d2ae92f3a0f85e2bc5b0f0d920aa846fba87816f9d1c76c13199e6ba7baf090419099f9060221e5b5bd540d3e108dc8189c05218314777134bb35f8bf49d8eff17bc6964df89e69e698b07420c1783595d1ef616fcb4c6b46f8a96851503aa84964efe9c154719b4b60a0dd89babdff017062ef339f070045f28198f4696b4cd9883a8c78b348ad52cd57fbbd51a5310e88370ea2982150000706540312e9d963cff29d7d185d8977c61db377d7549c9b058d2ce89df9b26f44b31dce5b995254717367b3ad29c23f34edc98a5790b9d07ddf0978e8ce20ee14633b0d89ed6234124dda0a97a9f82c10e0a9cd096efd11fc5bec637fd3928885cdb0b25dec60e4064da4799988b3535e18cb1287be1f051171463ee25a505af04bfa4b1ba6769a9f3de479050ebefd32168741fd8f3b2b814a694a85f63fa5db75e0ba0393d8498136cde1de7cb9cf85df700ef2d281c860a66e0e02f1042c0582be11d787574f6d6b821d99f93b0bd8c5ecf03be918e0c8e995a0cff2c74410995a26f6fb739c1b30026d836de81d9fb644febc48ae2dccecadb56d285dc027e4a457541eea6511bfbd2bd539c490cf2199bba77e97ad04deb9181a852dd6111b8ca1ceaf4bf223d696b677d9af3408ab408b9d64fc29d17e690bece0d9f7b98b78e877a89cd8b71985ed66a8644723cc8828f8f783daa356a29d992083e8063730e4dd820981b1fcaf4485d78cc15caf5d00ae7fd05587f923e67084d2f5783858d2d30a44826a847b50acea39b5dfb2d5fecd35f68e3ca9d714c4c559f8473b864e33f334f91e2fafd46754f8b7f3139568747d401e45f38c1966a3664554d95e23dd9559d31b8b5a11cdf1fe4339c08208ab3d670210aceb114582770af54061200dcd1726a679cc675b4e006e849c743625b8616cd2484967e3e707ef8c9274652dd857feecc926cbc9aa416a4de8e3b13c6e3e8da4a8c29ab39440fb2ac225eac71d27081ea3b83cfd1767bef23df5c55e163b6d691c04c40d69a2f17edf4da5cd5b4dc6775b9fa16effe45117a418e04a7d4e2305edb61d0eaa3626d49d20f159b25791b97fb9fee10053dd78b051db8e0c6719defd84a5b3682be76de81d43282d0399c05f20e763352a21b3f67f42f8b443f3656505e79f6ff5ad1c5dab72639ce5e9d2908eff6bc7948997309295ad57a0b240ddb697eaf24ca9c8333291d4040b88fdd5eee6f76a675a0a178d2a65ac331b2c87df8c3ed443f655fb589f1420bae52f2cd792e268b5e205b1564cc5712857318255086822a24afac0bb038fa3b916804047dcc9b63c917f964c86b05d13c7b49a1e8778e70efcf0586728074cf384f817381e89b197f6dce5e2acb87978628f3d28aa1ae7cefad3586f7d222bf670625b8d8941049e6dde5bd72fcec8a8a89f7f26e368cab5357e6eb4115b91d4b9812460fb562ebf5bc89ced900dbc960177d3cd506ea1a688f7bab3e00e4cd1e027bd91bf5a00e9c6a5fa7e02e6cb13f762aac66e2cb6329abfd4fcc0812637fabb97a7003c644d79071a8768949ff88742cc250d477ecbbdb58754cc522fc0b8b6aee6bc53c69b52cd612d7a8654394b46c08686bdce4456d72b97c700648fcd4f55be4d22f57197b2c788f292993ff8807e1a7d84183c140d3527cb68340dbfd6ad52a7d6ba09dfa702d719fa7151255b51e8512388fba7d0d58c6ba109f1c192e3cb48954a13cd102efb2dcd0706a563d141f61b0adc04339976b6ed9019b04423781c5cb6fbf4ee22be790f08309bd4783325ca7dabfa723856fa86edb5f23fa3d102ddece048dfac1f249cf99bab452344996ba3173d842c0527acb45e2cc3c2d1fd80e39ec33c5e6b035ece2a925ef2f1ecb6c508d16cb867a882992872ea1598f1c72ff28f43a49ad69faa07080a9f551c7ea661de23da31b611db61f16a3529eadcfdb8705c1815924e3f71e28b0d2c1f953de524c8fc3d8b9a68aafc67a6001185785d84ac3e390418cbfdf811bf9c4ef6e10d1b92657d79c350e2d4a54efabb3d7c6501fe144bf1ea5f1af61f406cd09c39620c5b005debc173711f500f4d323c849f6b2d04b308caed532a6eee80102cbf8658956c3981700fe9b1b34e3f8c4cfa874c69b95b13638ea62dc45ac67a399571b7406c1483c1da8337cc9834736bd586551f9e277a79ac510731cbe35cbd713bc83bbbb0290652e87a356428ebf3e7ea19cb0fe6445657f252467a4d506c2bc776caed083391c2de04b1f246609ac2a01c8a66751293f95a3b465ea3faaec67fa99fe107f64fb6160c93922d74cb9ada0091e097d4d66bca962fe5dd3107675bf","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
