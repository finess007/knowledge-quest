<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"ff3652416e1599bb5521c1b6d1c8977f5739cbd4976fbd0b25f5f9159bb8d1c8909843df8396c550b7916a4fe9e0e0876915f6e62ed026f1cc5355b9675785c481d1f2730a3384a2824526e064bf0cc8673843ff80b80b23be26fdea8b57e464493489a4dcee5d553b5d202b2ab1d044d31e28de8c8804aeac439bdd589780970792a456cc29acf099af91479702901220437503e8bfe20f846af99a10a51eea108e49650188e2dd812fe82286b3e0c4bde8a1e55229ea416c841b41109c7e97bc2d6dc546d001b217c473fa7820988e956bfc8936666c872106dc141a66c5ef44c21b6ba472818126bfc63f25fce595bcc5bbe15a1aa72a144a78f9e3b6fb13e2daf1f069e899dd9c7979bf8f7dc7971951072a88a33ff1498acf34c0fb519d3ec1c75b5eb6ba7ef0e6a2baa021f03222dc1913b906a1b780f287d29bce819f2097ee235b6646f1adcaf06c4e0115ac059385ebbc33241c7c7f9ecb05827edeaa627448ff6c859ceafd191d31db2450e23d3f95910932176652eddb3a6762a97ae8a0bb206fa2da8641b825ab0d3bec31896d22127a32eaea00caf7f83fa576f0631b69491a51c18834f2533c8043e7bafc144334cdd140bbe3c36319b9be2781d73728bc840f2e8ddbc1f1723c2eef42599a6f42e8a3159904eaf6dddf6f6b72c5a578f8290dc16bcd323485c22fd8f9dd98d73eaafd121ee2a74a6ac5f8807620deb4a5f92b40ed3a6bca9bba98781654c9e31a8742e0942f554018a1dd6da5004ea1016a0a5afbf299e70d6afcf93d1128271e45eace8323d7393c51a1d6100bae8beae24c327de5bb590001ab7697778ddda1ba787a4808ac744c6fcff5d8611a453d061b0e27b5f9f5396080cff9d7fd97acdd2b7fd2df8df9568a76c7588247d83f03ea6246a10040d4632c6b3e7bfe80976e2ac37c56de5aa13b6100f4c60a770345a144b5721f402b5e3c8294ab8589e8490c90694a9b3f27c02bf644a4c960059371024d08ea5608173fe91c843ffbc7e73cbc965d8dc8b7d3c9cba9a7d02f43e1d2967fb807ec7bab0eaefa830d3848c3e57c939713a8165cb8283deb47398547037dab69d55e7d59a8c85e1b483592b668b506cc5f671570c2457de84bc2b855a4246c193e909019968723dda798d69bedf0ce95e06eb0f161c342ea089da5354c1db4cfdfd740ac0f5c23fb632010dc17358ece1ad85a6443b445a83654935eebbf0013fe855eabfa5f6e76164d41caf56a3b7f6913146d5a3458582ef0e793aa1699ae758e9a22c32a9555750a2438ab07d4f4247b6d1912208366bbc94d1ddca37f2447549b287f9532f654ccb498de6c18fe4d5ee6579bdf4a6047f8b3dd8e43bacc599d52e8d1ca03084bbaa50e3797f6e72ccf9911117733dd76caf9f8d736993d14e5b1d1bccf28326133fcf183a10338f5291fde1d414d88280ced6e2e0e9ce5d10fa2d19c4d49cb69f0cb0d1966e994bc74c5f901e361261e18520805b73f7d223e04e13e9cdbf69d101c40c255dcbdd4318c0fd6f2cc996a2b48b1e753f977ecc5624191ce71b0f46127fabba47f1611a422a31b114e05b98b5851d52f4897859d6f134bf85a665c782f1f8b278329a6a0e7b85675ec43f04eeed5add378fceb90ed8b8f14e1b4bdcc3ace651657983443c5a6859ed77c401dc07da54b59644000f8a9144237992525c3f9265a506f6f14e77fe54c9cea99ee12f9b82adc3a6de08df0226d152de5be0ccc569a744f1fe742676f512f683bee28245ddaf54b75c5144d3d64af4bf3cecc2c1eb617e55960bd6acc5991e85994e97fe1281deca3e75526f03626d3a46e50238cabc7bb165ba32234ce4b0a73d68b10e91e98467115df52e153089147c9b9f5caf3dfb7491ab35525fe936bdce115b1351e89489e25b0d32220ed3e3ab95fc3689602e98c96bdb3b9730dae2f2fc0bf53ac6658b79fd2d2598f4e3639057d6812a7f52a3356a22a6e929851f3ab59ae02b80df94f989e83de2ab4ab49fd08df4219fb871d7196b249d831fd5e1ca94258c5542f1f0625daca5f9b13ff1f317d598a482a46fc1bf887226edaddd2ec70a1eb875e2bbca5721595eec57fe3191adbd16eec2f9e1cce833bd4690ea9fcd6a9df6e1f3507c28487a317e8044d449c14645ee68d13463b0b39faa9798490cb31cd2115de393a4863fa94d74a0394d8a535509f7eb7b191dbb9be7d9a1ac0d1b5e114e5c97bc3126d5af9eef091fdd523a168aa9ed2fffff05c1fcc8501047c8804081f726c5d4cc128e322c1da2910bd2b4fca7b8b28fbe3588a30443c39209030c055f6561558861835413fc2fad9e205a577505413896a384a23ea04769db6e6d3fde612646c1d467d545bb7e23d1d79d10529c14a58502f2e9cd5e4c0f2a5812524a42971ed83592956af949afb5c77acc50a6a8f7d0e11349150e87c5b64b2c3b7a7aac5ea499a4ac622ad060789edcc669606a3bb1332e523b600467bb612e6c84de0c305a53297d783c19df5c680844e11d6dafa80213d97a452af14488ddf2b5071c89e4f6cd303a32d42b996afcb89972fe3f41d5ddd40c34d8beaa7d032936023665d220b39040d12bca864ca48abe3ae656a2a17612932c374cc3fa5b9d3422a41b9682b3f218fcf284b52e706281b7e24f8e3be8a1da11bc603fc20367b4862404cb67b4a6888b4e3ed7b2af37b14a4fc6de8116c8b49ad1293ca29026f4a9ae1e6329e8229fd7d7fa5660cba4b2bd02a0125c10d6a0b8d590a4a4d308b312be3f656e1b93975d2f8b4a9ea34cded20b99a211c272ca1960ae2562bac0870d8d519f13507fb6d00b8829ad89211bbbdca87835b3e317751919caa0fb2f956c4ac0184ee410b79adc88b0503bf244424078cb0b2416f1d9f3544de7d3a662da907f07dbe0929c675055ab873f0b19d5665216bdf469119010278f64c3012b572be064befe149aa2281f6f019b977d0a887619cc228c60b542bbf39eaa7cf7723e3418086fa30be2d7b39e094e0622ddb6476f41bca0f2ab5b99153fe4db264f3eee6333552783f085e3dd88182cee33b7ebcc4ad1405018664de4b8738dc431e29caf15d0dac9fa86eb1b2ef9731c0de16846be9eaff8c8d520ba572ab9ad3fdad145224002fbe4d220b4f2ee36c95454754fee91a8de27b75a0c43cb88c78fb4be9c348ee65387ee4e74693f9da22965e3c234fa6b72aa683d92a9d9b4a226970ca4ba426edabf0923b46389f7da72c35eefeec7c59f420cdb1c1accb2cc7698e0c69a428ae2aa1dcf3738ba0981dc9649e5676f6cdbc4d89ac4afc4d9d0d9119e9d2ba21e543ddbc8b65609f0b1ecad1a0ddbee0bb7e1ed8b3ebb006f6d65c147b1429f8ece75bec677c29d0bcb47747b53732832c42a224977e765834843c31080fe1cfae3f418a57df6768fe6a9cf8ee4b5da0c2d36ef96856807e050d7e02557b3916fd82e75b28b7905451fc6c198d43146ef98b43b6c8bee250d7d06f9d87019efcc0e630ae9566bdbe4e08a7924d619ac6188c9feaffd76b85943814415d39ebc88fa473577e81f445532001686505431ddcd4a206fefc4ec17a191277908d92a490ccb9baada2175cc5d6b0e95d229791b890cd7feaa74ec281bc5234c626988f3dc4a771aa069aa1934176fd5461d7466cc195ae625969870288f684eb6e284931ab46ac7bf4708cf645d46f38d80960d1f33ecbffcedc47b1ca3fc2afeaee7af1177a01edb9e26700d66b0f7373e833cae1b81cca0f40b1fb3825c87178d197acc267b4f615d0dfa084ab15280db59f97e861cc5df80aa65fb411f73a5f9b652aeae614c75e9c54e9fc290941be28345a13ab423deaabe6f45563b80e000a19b98049465448718b8a7d87f6aeb4ab8fad8395421c2e5cb7d6a369467929a77e34f83789919b6694c416c8f86c3a80c368b105d37b8bb307ceef41b7791457383596999da691e54b9d0a3d499ebf48add7e23ab4f68309616914413310757ad7b0c9b6a50a0c7a7cce35b9bc37557e3e1563306833f2c19db376f481ff9014d60ca46645f81b281dd2c19915d4536c18bde4d9597efff94422fb13bf9ca5792aaa67c14596d9fc27c01e4b70878c024d89ed63b4b1f96bb02d78266f20ac8421e5143eef68fcf53fabbae42a832c37b0bb5e2e1bbe3ccc35be60cbf23b4b1d8ebd4fed5dac720094733f247121e29fad7a4a5679f27d4c50ee3730f10b22d118b1125ccb48060bc72ad95d550ff346cb1d8946736cf39c0a818bbcc51956b69613f3dae940ea17927317173252d33bb0fbc5fd9835852024c61786fc5ab4152811ea36337ea6aa067fd934bcb8eeefe7de59706543b2f2d18733edde016c6dea970ac40e81bcc15452ec1ede198204abe4e89cea6bb11060d6431db6f8ea8d1c24200479f2e6f8cbb6b8052498fc2520dad638caaba48bbf17452eafaf891b2d11b64e827686436aba6a92333de94e9b5dbe306c6d753eb79f185442e8d667d84e6996f904c91a9bf8db3cca632db78455b51b010a5393780d6a5c90ec1e4dc243c3b6eebe2e3df39173fbe1ea0955b678be977b2649e70794af76d7aa5a92272175a44d72ebb9d7cd2b9bb9ef680f85d157ff4a2a598c393e17b5346b8ca191d639ecc7dab5fa707711e243be007eec5d28e9a7e862ac2e364e067bb83d4ede6cb7531791f8b721d65c49d2aa165f1694a4f4b1bc9a54ec156966a23017f231fdbe3d7c747e4782531e510f27fc7771fab24c5ee5e55d16c6cdda999f3adba02860d2e729757d54317b10715d2ab960565956370fffc6bd4cf1b3e7827f6c4ee90877109676b7d13f25520a4f872f5b8ff0767f2b063626d4f6861caf23d5c6e8bede6196dad602fb5972705431e971c9fde3ff2de980d631ea7eb3de2d7dc263456c9924aaa603c04fb8d3fafa96d94ada5ec209946c020619935ce95e5fa988da49a3e4cf9539b9dc7d8a0def98c6f3ee6a5f4b596d598173aa3855ee5158b99344d705d28619922d0e02fb92038120ba64df79baad76f48ae720667a41bee9a4451d8861e45a09f13b19d336d5b3ae11230a468eacb5acc6ab5e5b0efcf4b3cad01e1cdb42eae8f5d5cd6b5524d688b00a5b44c261888a5bbe0eabf26f96bdb6690ef4728eac563e3516071fb586fc9b99df00a6d5493eed22d463ca44ae8c055044e7f80f227c7e919074d5fc789636463f6220f71d3eea0dc8678dafe49f350494ec79f5ece4ba4c821c6ca2ee24a5d00e28a790a9d551f783620b7115bed9927015419b6d65ad50a76f8caefb3eea6a9c5091b9b6dd2f768e8bdc3aa01f36f01d0c62d4743bc5fd515a1e9b45ef6ce459b228511d96850ad7f2637a7b48b9b884999825f4ed1c7c2e332f5ce60e149bdbc8e5a7f524e50d5b747747b4f617664c879bbba78c022c071ef8279fa2e2d5e7b0358b9d2b0949ba58c6f10a8a08e927a6e1b321e96e2046c5b09fa1412bb708fe66d03728711bd8024f45ae7e04a17873d266c040db87bf15439604b9152fb6d6368877b626fc6de826421fb983cf64ae2080b0cf6ae33c6d8863b4b4f7402627a58f818240c02f4f27aa77b66de18d37a6db84922f5c1af50e0f9556db2e0f13a3bc588389015ee295445379f0ecb3c3a9d63d2a6d91093a3cd0729825c8174d457cde93251aa5cfd2f9b8e0455fa8d69ae6dfe8221d06b98f1091f8bb48ee963020e75904ff099650ddefbd4517bb63474b731fa7373a44294e9af5683f340bf5ba1c3c04983d232e48dc24163e031210b94086b617a52e4b49333aead8daf4dac1834e4fccbb74a796fae0f303f54e37f67f7d5935df2acb45d171530e6206a665bc5755ad12cd7114d825029ce48a91d30290f2b9886ccb52f599e3480ebf86db5620b4aa7a516c31a8084db1a62d813ddcc6ef9fad3d1c4e9de5594e4a223b8e22689ae773b1a1960c8bbb2da0417147c8678c588be70a8acbbd82ac63b60251f6bceb9186ca253d0896fbd1cca451c20688b55f13bc629f7b0438381b8ade0bf8244aef6b9d3a48517a944d3fcc07571c193486d1a5157aee6b64fcff5b12b6cc90c1c5e81a8cd9cd08ecdff426320318091cd0ce71e8aba9cae9e49e89be3ae93c2885c849a7ed8be4794981c834227d72fc8e4e6aa22bdbd0474d2513c6a9841980ce5ed4dc5cbdac7e236873ddd3d3b838edd56da5fd2deec495a3fa5091670c8222f95c0014b42bb07b87452b342eb8bc852fb4f20cd9527d066fa3fb8ef179d2302cea1465823e4deec1823d983864884cff7603232c8f71185016472bd37dab347e967f5ebfbe99932df8ec6f336688a0135b88e55bd2a0eae6fd16c2ef8d1f190d7d50c3ded6c35d09c28e6844db5e3f331b8f33ea75cc25001eff905035ff28ab1a1ef5e5a2e242dc0627e3c14d3e6853026c029e25d72ed661f8f2147af8fa297c7c86b171001ce37b5422b218ea3c76a9daf0fa207cd3fe695c42c6cb28340afc18b10af092cc6b759d9ecc340df18e0a046448aca61db79b218378040e360f1ba7976d2cc0c11b38fa16a17b4f6d686f01c2e7b6b6817299117cb671d08222683f2be22fc41fb40f8f5009c46498f51e7b252fb596d3b02b0f82723d26cbf8cf750c56c48dd9c7dfc08779f2d4761dbec5f4c1281f11d07fe8b2410d8dfea2cb085b83db090fd3c49d1d187afb771e2007e7872f039ca08839913a695ccd211a0f5ad255243b93c36c64ce3a2fc39ae6eef9cc7c23638f40b0118cb748b0b7c81c110649483a13455dc14f61784cb24d518dc07ac9e25349e5ff77a1fa880d6a4d93ae13042f7969108f1b36eedb14b9aa53fed7a9b2dfdd536673d0d9a34e24783ed40ab958d514b548520267ce73fa6040005433030ae2980303b58ce4d74ed97f09e44c2c4a1f61cb043809d547a24a7db7e2c42a63de5ca1ca57edcf654423e7a5ade7f8c8e5660bb2ed6ef66cb2c273729484785e1eafb1a75f7332a4b061316fdeafd8cf00748212006f56655b62118024afd52e014f441770200aa7cde499e2cb8202c3f722fc5b4e582c2d6e2e265b5a4797024e90bb19ea8b07a5869cee70e1bdb98c04446ff5b456d60aaa01ab46435925755db96ea9a12d13badcc02b1b3110fe5e79a1117575e4cb7e49c6894345c3c1b3a8e8b0b5dc258b5653d46c96ae41456bb7ef62b6fa90ed7ec02b359dc6d4dca978d56207ad6370bb913f63df219db030571e8bd28155605903f06262c34a87851ab305b2cc86017f0de37f510b0343ec9125630c78b2b0cf0ee6f4b9a2141cae2ad504424a36a3a4abf08e97624dbd2106939a4bbde8de698c2eed63daebd4915130098ec4233ae881e4ad767d021f98af9031ea0de35a5bf321cc27e98372527d08e1be563636123bd419ee2df4752267eb25a87d8bbe7ff5f8e8fff2b1fd50c7dbffcca960bdbfb14667ef12905f12c0ef33aea41b3754377b16ea7e043b03ecdc837630404b05368529051523c4826d1d0b8669af79dcd6725530f79c8dbc4c46400e4d09d4eeff0e504eb8ea034310d3402e06db3aeeabc87b375248295f95bfd55019902b57eee5877baf5b7388b120eb02e5bcfb054f04bd79b78e848997d26f9484ec3a17e353cfa3d6e042dfb0cfc34b26b8db8e6b59b8b81722a64c1a7b511f442413d40a58f6093c2cdaa1f2e15540b0bfeda0581a2606e28496f6b0216c47e909dd0a57002ed15c4d77b1113a3ebce08adff01568523a4d67a1b0756224faed646191abe8ed0dadf138eea137325e884e8434b3d380eee6cb99acf4a9c3d23bb9e331a4d5386dd4b88ae9ebaeab831672da5b21c574574f1231b9a0d50f3d55f1229496bab7314983c86e773b7e815d90187c58e50766fc2398253b6d9292d21d550042c33bd5d4368dc45b53af962a71a040233c61a36e07faf649101f17def88b7bfa8a89da3d7dc4ce817aa2ed63fd04983563fe97b400cc364022a1b1cf596a9c4a8298b55d5c4bcc8c7bd6c738373ff6c03dce989d5cab84bc6ce8b30c8d171920bdc50928ca9c3234b1aeaa9fd0aac133a61e617a2a2bc7fd197986aebb63bd00cd8c812a266480e610f7a51d9ef6ffd9456773bc7790ea4d5108b1f3fb6616db1e89ce4829277e37923e1ec8cb6d86e8ca2faaf1212c01983edee8583f4aa84df2295629af93203f431a66de0fa6b92cb2367cdd9261c0add8b2c6c10f290e174115e5b53dd91582597562bc466b7d389c1d9b78755fb735c2ccdbce5f337e0cf93700ac04268c7b8fe7ca1fe9a7b5a0d69fe7ed7856443a6135bb55fa176147a275dde266199a1693112850b59e7f47d285c71303b7507e90a279c319835227522b78ebd6eedf5b05308676f5448704b9d348077448062c684c6ef34020fef386867b03aa10ed8fdf88294868a88cff5ec1cdedb6bd37150c368735ab90ed0f34a219f01f6e5807fc8fa976c8683d5bff253d408c4c1b95744e6e126b88de7c9f6627f66a2427ed400d3866097517ce9e337ef4d2346c1cf70ceed9ddbfcc0343cf6891b1a924d33c3b3e5f051746fcc3bf0cc890d65e9bc9549766d38fbd31de16f50e11173c23c6c3dc273aa71d84aca7fe58f92b83f9ed1a9864ec777f290371ade2ea7d3b5c03a54167c5d2ef35241f2a83282e18c835d38d0b13934455ab20e652489c3734af4ed66e6c3f660c0b2e90aefdbd1b14b42e636aa66bf0b311754f49b8c3beb9e751c37b8fc57bca9199f374cd0c16a88cbb3611490bf6ea69f955a69ad35b2a75ec2775969972f0b40ff938f1dd4564a174616e8482849534511de5abe51197c6a5adf2979424c5d18dfff9960da259d73b3961375cbc5d622c5245e3a23b67c8b4eb17f0df8eb3901a5e8e540123f24e1c97e3d231d2341eb7756e815743aaaac4ef2a39b956b7256845d75f19a22dc611d95fe3d2ee0780534f39cacc3da0cfc07440325ba094cf8ab5cce3d335b0a4998d099833e4a869c99e6a36d60db98720bdc198391169eb968e0362ee8b2671f2bf89b59d5570443dbe03b1edc120f910ee8ec87cdc1720c73c1bd9a8fb1b18d36f5ce59c0e9a969bf019ff902497c54c184c3c1b286f1b48b8311336c57716df5097da97afb0f491be7be1c24aee5891dca33ff172e162b685d5b4586e69c6aab5b664c80487465212d52762fc54c6dc8a0bb5c270b320c0c9590fd995210eaee73a06d1e6e616737b26eab8b6546a644c12bdf20375fd7c5dbbbd32fd31071d3fa84a73117bb80665c33603d3579a178912d4d5befe4f49f37cb5cf32325e981395b5a37be234adaf891d48c1d1d4e9271a3301652c428a651d5c3e5bdfe11a817a073577e098bb75222476dbefee01ef0a9ec768ded5e58744b6eb2305101601363db76f6edbd9d14379ef3af8ac4686085ebb86bd6d9face1c38c5fdb8b8b5275a2ea410db10ad965dc0f407f1189fb3f12996d14312c86d7e37fb0b3033ed583e38f284452adf24e8eca19614091bd6dd33bab4d2fa50f24bd5f3dd3e756357745f3a818497ee018a87292575801743148fa2c652bd95e3cad5b1466692e0d9346056a26aaf494e7692ad48b4a9f62ec4c83271d2ddc794aa31e9f369125e70c05138b4258fcf9d9ece31271a2a518e36b23ad180775d9dfe925a556a069615b892ae25ce984fbc6db7ea8a42eb6eeb75c5a91a9fc398734b1b6e25fdafd75bbbacc41440a9486736d86ce1e6e8ab5645c0eb9bd382820892dc05b5dacd0cf3c66939c791565ff460635993d0629929a6cf6c56847df7ea4d9b069776c2619ae91a269d5af655944a715a9b8040e3d8b1482bda43bda43bc386e30d9da67f6d2f856c80f569c0ee124422c8975bf1c1343e5fe9090e5da87e0a6ff9ca7ae55bb9b7da41344c1c5b5f2de88b47baaf64601491cf3c806cf5f763856896b70066de2ef1c8c6b01f163c1f9a5fd41979348ddf1f4e2cc4f4fa3a1d708d978b513ee55d5f5ac4d0e73ea5e63b3716bca1f67ab83e370d1df34d66259cbad38be8201dad0292d7d9645a95b9e2d045424c20a5dbc9d34211094393bedb8fd8077c08b463ee07744c8b93d3e467b1b76ac698a68163c3fdee09e4569678638dd04867a98f5495c741f90ca8726fb38db5e400bee8639c7571099ac5ddaf126d0f028a7455b54add7f92ac80958017142926a54af1d6954a9ae08bfce7e8622e0384e14815b3c51cd6c9db8c80fb2d582127290b443d6bf4d84299cd614369a696b474cbde0fd218670868699430a7d5b8c8c504b8c35c0ff63163672f6ebad6de4ee66a38612be9d2436fdc420d7f3066d10bbb9f940ef94004fed48ed51464f0c0f5a429cfeb0ff57bfccc5fd29ac4a445f96c7986d7afc3f9f23aa0e0f9a712a5dc0f42375240b8f1f0120f7539b25762538c5a99c6c99b960acfae98ccec4f50027691566570e5c3df39504b06dfa985319f17fa5c94e549e2ef53caa3eec553d944f156c45ac3b68828703390f090aec5f5a7eb07d5ebdf34b958de423146984968ab3d4118a46c1cafa91c889d9894151964fc853ff8af7f1547d9d9ff5f9e4f1fe2a216dfbaff60bc7f5d0c3091d893fa8d3fb816054b9c5a31a6e14cdc511058628e6ca43e2777347f6e4c25dd07c47e590e04a512ac789f1db1a76b8611c488f7095edac0f7b934593755e92ed32ee3aa997764661c093354de52f390c78076ae3c14282335f3673638c60ac7e9a7b611ed934b4874da7be23570bcd068cdd6313bf54714f4ae5dfdb198f4177fb24add824486a7f71f4a977ee7e654f59a647fcd1cc2f8659cc82d38d28c741bd34916ce9293a38bea3c928c3abe30d4913289e450e26ca5b1752753f46412fad17c672dc61450fdaafbf5010d959e5f1b295eeceee607dc431874c7634cad35810a893f30da817b40a4804720d22e7af85dc4f466958f1e3cd904d7fd23be8605ff19c8be089f68c2c93c9c7cc86b3364e736d6482cbd14d809ad2d35309706d9943cbc68ffdec4a7531245c262045716a3bd6978a1022f82315617cd7946174b13d688e697d22c591ec898f1911a2055363ed270129196e0a92da4d69363bcc3013c7433123be0f8aaab5ac8ea0c1b7b4938f8b931dfb5703ebf386206c8ab506ffb446e0b404683396d1d18c20425c6d64e2d7e1a3ff3e852a5e6bd15bf92a9e4ea04bff804d9270103a0ac65075ea21c3330efc276539811f7527353cf7cc748ea9364f7b2a8b802fe50f601e8801549c1ae6f4e87374e2c346848f3abe9a96252ac4b862e887875cff03d7eb7b3ae2d2443d0d287e0ce405df7e504073bc6cb97f2b42e920a088e5b1d8430939fb51c1c743b8962cb99cb3a5dd4a1a0301a0c9b0200b4aeea82f881fd86ff92956c9e1ea93a070b6a21bcdb95c3138548cad6380ee5784793b889a81ac3fad374807ff2fbd51f1a6afd383bf93772486a0f8f15b0ef5dce994b1bb9f51cab9edc9e68fbf3a8cfc12b5e7195a494cf24cae89c17656212b3c4d68e749d67c8d8b97637e0c851560c2480daa3f00a553c59ff62abaa88b39e0889ad21be897d48d79a4d7079f4118f1295b6688ae5cd2518da13aed1a022b35806feeb3ec90aee99d880f37142510810175128aeacb93261ae88dfade7aa861979917cefffa7755d2fb08cfb6a01ab5d5861225bfd12c38c7d058a4a65a138876dceff6231584d8be512233e28352485f46a53e8909486240a1d82e4a83d332fc81f81cdfbaf9e9a151f5c47a1a4d26a4ba5696b4ad7a5d553c164575be719c002cde08e65e2b4a08887d7a6c8099dc435010e57ac88a16b9f086c9d68468f47dd37ed296c35a5c9f2c67357b9abd5ea3756cfface5bd8d4a087102fbf378f9500c46a25a8f23fda09f8a67681e19745a768ea37dfa85ee0a74a381352bf9139df5b3dabffb2de50f3dea982acf1a2b8bebb28f11621cb126e3cea211c680611bd21c77c87961871ae68f115c2a6f55fbd9829af7b3e9a6ff1b3b9f9fef1867aa7c36389a24840faef1c226d3ac98e5e6593cd0edff76ffc6ed3e976d76dfc4aeddef7972dca685fb821ad2e700ab00c3f4fa732e05b8149c65a02888246762409acbc3a615c17baa8068cca6c1f09ee3ebb3f57d7798fb117696ae6c510b59786f5cc4c393e684ff20ab11e8a0dc74dee45e600d362b32b12968f18595895c2e4b95f2bd45f9d6ac81723136e03429ba97d02a70d0704a709d8102aca5bdea0ff78ed7b98f848737cc1712d5153be52b11d77f89fb1e05e1fbf0431c5ce2fc674f7284a78ea97f92d61dd81bce22cfb08bc59b9e148026e8be457ae0a0d257d030557f864b04587c796887ce28e1f249ca9a0d7858c5db2299d7334ff5ea24263566acec87d78ebeaee3d8bd862ca17d356a188edba70646f27a34d515acf28055f8f9d5360788511f20c015604639143a4bb8d7ea3f42563a45a35b6bf3ae0fd35b6dd9e39e54b454afb45faed0a846a1dbc9a1f61bb38d412157cb6c8221f3fec1293991bd905d208ed89134f80319e6239194494173ad347a777aff6a43929cb02abbe1b94ab1033b3e37895231bc50ff4c5f333cd9f9a3de5f63b07a788f4baf740c27fc0122a096764f94b23f394e4afc4ce0f7d76de3aeb66f06bcaa6af5761db35a3d88c844b1a5699f1ac7dab312deb8289037fafabfd24c390cfadadacf93015727ed84a24ad6271163d6c1102dc1bb662f11c7afa69334b80e139062ffd7bde7ea973b92b9e079635c5df2e28adb9ff458ae8b9b6144504eb84dfc044cca6a7adc6fc0ab2ecb594ef0eeac549df59eb2f26d6d60b1fca4166f330b046ae95c98be80fe752f2a8b96f3b208a791eba78a61f8eb4a3cb6b4e67fb1800a41d5e06d81ac7256b60b1533ae676ac474c4a574cab599600cf4c5d62abfced9afe3e40d07ed023e5f2cb3ba599f4eca40d551014d4231b7085216ffe3422b64fcb26bd318cb92140549364a957c5cc81ec872dd77639dc3c670776ced881b8a157f7a2a2b7a50fe7f6f4506a1103b167befc0034d14453e12a4733c1e3ebc309570df93c75f0387d35a3aa63d504f8763ee0f7ec4f5cc58d72b19f35db93f18792f8cbfe3a49210ab570816dec3cdbb0c0169d7431a764dddc4d46f5a77a0ccde6ce37de6892689943a9df4a38dec426daee16518ac2d27041b0144a406ba8feac911586796126fc7a62f0c0853129845376b24bd5a43150ab213b444010fda0389bddc39506288bee0598978e302f7c50bec563483964e6315a85e4c6b03941328c0134a8a9ea2347f7e60416c17a2c8675f5510639ee6712a37c6e258174729e900d4b2a85bfae3848134000fa17376dbe0090d751101925da870180c271f82cfeac7b4c6e0e019052b451318165c05e378be461ef4a9f1139a7873de58a6d2e1f6d8aee0973d37dde7f7e0642521089c866766d08b07fced20b67c1a71abd5940b2e5c7afb04474fa5fbf9fd7933320a9ec21660f72c3a65c067ababfbe03c1931e23763c1fd2a7348115d09b246cf89ed8619a1b4bf8d7cd9aeece1a9fdc4362cec4d1c5663f9b7393641408d1d971d6057299511b82dfa41b961b7409542811fa39eb25f5b8159f02a1fb3cbc1cc669a5e4c576e956844ed407135770ae290e6c2f2e5d028eb1d78de8f8c0fe3f90af73f77cd9065e87f5b2040524751b97203ee5f5236c5a468d6eec10ad33a3e71edf8606cd4f4be6f9f92258465bbef4c2405e6912e42793eb35899fdb654b3de5d584d0144f4f14887ec1656a030869a6ce273a82107b8357e8e0d42fe6c8e9f40c9f47b5ad5129be68c003e87bf372a886c796c29488cc87afe72c87263a17d234a9cb9f9abb0b0d76aa354d3004bc11aa8d448f38d93f936a6d8605ad92528da02415e8e19f485a68ae0c7c64c872394078a1ca4bfd4c659ff6796e97216fe2d9ef872ee2a30f623e41b84298f859452b6ed3ee4122af622982b02cb3eb47e42a8df624f732e6be5c3d9d14bc14c3729a306c58d08d14a111756e6e29017ca4a6965d45ef3157145f39f0ba256388a881a6048da85e1e22e4c443b09d3e00a2051f6811a3a905ec244f4ee997617afb7062862506e7f9b6a941ffc6f253e58f373ed804dfe099208e474c4e3a4c3419170a7351d48e44d3d7248355baf3373bef9dccb30674d7e1d9963a94a3e50e31ba15bbe8e94be8ee7b21d6a944a0ed9275543f7b3b7c9b2f176544e209b145b1e14c8ce36230ce04233d525f10f359e5aa0aa933c27f8be0295b68cf73f3d5d865309870895d2350d0f677d201a4bfe60a5d3c28463e919990f9dc6010b0eaae2745a567f29b40fbedfaf3146d7538755cefe76e2426513863201e1f1a0cc18e98c5fdd26f17a8660b073c40bfd41d9441010f321b3517bd71ba79f1762fb2e147f5ad0d582cb2d7f7b4abac187725a716e17505ef8e48ec2e5e88a53bd83db7bba7670ded4734e78c3ccfd242ab078a59c36bc896928bb52473e0f9481da1cfc3b03ec59a3bceaf7d40bf0b170a06dddf4d50132589fbc058eec42dad82c281772d3100631f0d146ddf3a06f570d7b987c6892fdc1236f74d8484be3bf42b110dc7383140c325383830e1446cb427f6a4f54cb6a79ea4ebc9334c06f9eba646e8490d236fca2abf7b07820ca42ebe05609e2232a22750f66533c5b42b98ef62c6d7ed7508df6f997bcbb0450dfbce8d751b05ca0faafea67344e6e84d67cb33bebd7f07f028eeecf40924d6568ad0077327c289897d25f6083422cbfb6fecec858b2037dab7e8ea07b6a32da5065d56288a2bf372b1cf4ac28f8880ed62c9f75718be74639f603c604d46104db5e1141608e4d6e781f73f87fd5213fc1ce0172e678bf31325e4b18ab0ef2713a071bcf1a4bdf5abfc343b2616fb24169539d5bc60a33a45c2de208f0f6ce525e5781983de036a501428de4f795cb394587b0d0bb1e431b9b05d391ef55865be1bfd6e33dcd54b4c4d53415808d4adb4be7e300aa341fbf58798a5bfda28cb5e9f6c2a3f642cd2629246f6408281c023eaf976217be713b7481bc52a0bee867838e4789c9a6e8f757a459956b8029444a1a55bb9ed03e1c027ff589f0ef3227796b9061c247591831038f4179772ffe8b0f1f2e9bb43acced78d1d9c2995c90ea32afdbe14f8476368bc8174617483db50626d26b8b793263f7b892f5a0a1de7c566003e566d47d3cfd64ee6c0fb94d64a12c5534e805f97d41c2d7e7a730f7746bbeda22d94358148a1cfae0ed71d29b1114409f874038838ef01334fc8fed896f3d0abc943670b72238815981d3733c41bcd849b64a25d77c9d198c43960e0d95c9b59d421c33b50a8dcb0d480a3ac879937be06337de8ab19ca60145b54a10ec3362af47db2e2872f995a58749131fc2be7c0a2a5488eca525fefb368b0cdd50319c56cb879ea70e8f951b4daa739448d24400a80eaf0a2872d9b324c98ae74b11cc3c0eaf86ec300fb5cb52ed90b191453f883caa95fa2c7173f5edee9fc43403d1f16d39e81a2340cb53b670945fd7c19ae8ad60f2dea5309c19e0c71bf304aeb3c630d397a5cf5d5a12b3767374147ae2218c0f2d778312b4b85bb67310c72668461f663b0b90f0e89849d31b69915e980f0eb29b9ca17ea2cc5d7b5124e8b2849ff2a16589f283d8049ec262c6acbc5f726530271579d33778888267fede13b93327bf6598dd3931814f7dfe02a7d51c103a4c91df7e33bef764cbfd5abf0ff5ae6af6d34bd33e1e9b60bc9fd6a52ba8fe4302eebf5adc423b6ecea8485374a34a50e3863692bc310379a2c9a8e2533b57ef485224a7ba185a31b685332f13fb7c2a5b23f1c1c1f73444807b8ffb73691aa5b496bc2f83be62ed317ee7d9f9f1e853c30bdac1ba9ae6d4c9b23ee134f1f3c8fa69da85b5465fcccb74c10e137fd217ba4bcc89c779c144ba9d7856dfd15ab4978f3bc991f54db162adece203ffb2c4afbe0acc2735af9d61b5dd6037c8651fcdd200e4e04ffb7d9cb1f84397ae66bd6e9ac30070f329856af003645aab31ebdcfe6924ca9d79603bb7709efe7de24e7bb7a574814d5e84b9ec27fceb9aa50bddd08d1a9521fa0f4b425be7a5d94f3fc98e77fb5b7d912993b42391083337597e930548d078e0cdda4b40482a88f7b32b3070abefbed986c36d02faac0912b35d185e4df6e4b853b4d4ec6b0041c8ecaafe550453bf458b16b30bfb65fd04874b1d476c0784c59236dcc80b49de3bc80a757b36cd378845dfc4059bfe7d75bb3b76321f1b4d854fe797b137fc1394814450771d42d11aaab978c0126a4e5dcbd9829e9e3715c572e46b91f70613a96ed2b0c2196083f8f583ce148da0053ac1c7244fefdd1adc64b88cbc4a060d2c0396b77fdf3a501c379a40300a624769106df569cdcff99596c52915d39d6f6b9d242c09a8d5ef56c6bd8469c0cf44935a3fa2aecd0510ea46ae95cf15db338860a953244d810ac84080a353ff8f54948e4fc4e171237d8e1d19e0f0d3967490c96b0422a0848a491cb86a77906cf8418ae98910b6cf6b84c06c591630e941f605166cbc2f7077a9a69efa0f83f9d0118372cfee509f66fc9ac9be4f30cffe079419e5d3c268930a54dc4fe15df009fa295e38526fb6f8bbe8e57f14b6cb048690e04ed35ec89bb59d9d54052314f5851085df7652e025bc9ee66d685afa15dc82d78dfe49c4b7c706f049b6bc99097d9e9ac08389e427c33fdbd7754c0d48e95633ba1472ea567ee646c0cd5a93f31f2371d7a9cc4e968bc708073129e92b8cce002a5afeb81b36105674a79477b9feb05d37fac5991728df2f4d299acce2acb9429faa089338421476dfbdfc2708bd28030e2048a012581e5d3c92375ded175ee3a3b1033990c76f1c6a4f586ba2ddb1629a98d9f2247baf3d1d97fae962ae3d5c18bf1d64137c8878cb86d7c76d68624f709887d2f640ed006dce6b6ec8d0176cc2bd038b75262b075de6f33607a0c9046c8cbc5614751258121fc4a34cbfaaf666b1586d9db68282bc06209adf177c67419f640b30f898d0fd805d63437d7813e14c02c2fbb1dc4ae713b2c8dd01669f16bcb0415aefe162d6bb40abfc576002d76d300e7294891aab6e7ae149b30f1afb6326922e54150a09d05584c2b98f3341a9033f4b97d82503f64e013b1de86c0def1b4b8119579f582a02ea544b87bb8992613b286fa246095b42d3fba9dda9159f86df203a776ebeb9176a86768c03583a3aaed9d0ad520df177f09b1e5526a98153a2b10d816a4f32d16642d99b2ee73efeedcc554fa842f1a8bb62c3be214d4a946cffd05b84f9ab26f1c04b9ff0767b61afa7931e855f48d4c31d020958c1e649874c75a2e0a4da9707a7194765db3c092cc7241129f770df06c0a48685ece78a1640f6c872b416c690bbee5c7a4348bfdb7f66f12034629d67d338d5867ce025ad5210e5e4069a21865f42a763885a127349819a5388a3bc227c216b89b5372ec110dc82605e60a9abe3d116963ea993bae5efb2d6e92993142f66efdc0ee04639fe66237538450fa9a076d598ce6a180b898c501b0dc8093ce6b86083590c964035111de84297c8071a5d75157929c7c2818a05aeb13e9e4b09488f41ff55b6cc559921b2ec9e71995a9e868ca15a4ce35a82c0d17b504a4e8dc8eb1b721c3a33bde5cffcd29f82703f693c80ac0250446f361c7b1a976e71ce158820fdaf3a78ba3435bb6263b94806e83eae7e8c2067e7b502246d512a6a29a088cf800b525fef4e79d0188260c49c9ecbf238094597d124818d00e666bba7253195a71cbffc37345e908a1a6e2225b5de9674065780ed8af7db33091fa53443dbb2b8854f4001305964918d60f2327f047f54e4bb8218a04fde83a2142644393fa2565aea021e997ff03a043ab7e65bcdeb92cbf0dcaedc8c7c1a8603e782cdbae78faeda559d77fc54162313d6228cf97c71c5922c3ebd60d9ab91506b381c5771b9dcddcf6aac547047d3bfa5ba2b2bc3b7dd508830a9e3d48e4b92512452e71e145725b65689b3f528d6847fccf1693983d10245481153fc17ac84524fa772494156dc45d4a0983ee93d5807bbca009df93d072e3178ea8dca33e1c6b205c8d66aca39f3645068ed807490a060aa9059902b03e9b465f0ee2740cbeb09b3c4e19d0ef9ca675570cb87a1b4ab1e3d76c52a19015d7b51f6b4a31ccf84199f21d33b6000f5194371b8c01edd6f7e7719172f2b3a4637007afa80a3a05ec60d983063acee78b082ff254854ff336586e01b9e23e5b16bc9d3a4d3e04a4cf7b7b7af18fe987dab0917ebafbc1068144301a5281a62d2c4c0e6ed3076cf7c20530594e9cc92f0f5f75d39ebe39e663f4e9f91b8f2779d59c4e582132af660b785491f4c5acd78318cc7fb11ddb6fe5cfa09facd7e68f799dd669e9a5df4f4d1ba19aa61ef98c550f5491869162580474c0d0d8d2f359e07ae1ca54da3e83901385dbda016f56989d35f9634b1f500b3446510281a591bae711cb9d0e016b0611bae34be8a2097445ce52a26a59940961c61a5e2e864f563f26ece17b5848e6e45c85d2869fc935199ff38a2c4db81513876abc8bc5a01868c7922e259ec24d8e094dc6a033cb288fddfc7ba82a50bbcd3acca67618a750ebeedf3e12c017a1dabed14602067da25e7f7b7d033f0cc8563c5529bbb928db5d181b7bc31cf01596708c2270cf545488eeb1cc8946f523ab25a11ae18008633167c9bb54bc8637f1b7c8e9d334162d06befb10eac72f901b508b45841fc3af2b1106cf6c29cd397a3ee571debf331f79bca8e8808d66df61bbcd9705dde26a5b82010a52967c2a3071deabd026b5f26e0881e1a0f898e469dd6fc723215ae921aabdd6c13878912fef6858d1a3982b223a3b67c7a5b25402b3c4c466eb98da2132c833f7279086dad7e43873172938f744a590a6a94e9a8c254e4be115393e3cbbc0ca3e7752c050a27721b9ee3c600e632377d52453baaded0548b61af2f41ca311bcd68a2eaf0dfe1a07ff62821f437312e1ba51b81ed748493d081b3799e9d9ee43c306aa32fab3e39f0c8b39ff43d2b79d3748d6f39319a08ce7c93ad77878d6e28fd4450aea7a730fe4fe51fbf7daf1e5169c2f2ebc995344ab1f74717793a151628c8f0e3be7d184798819d8b0a57212bf16d34ee6fc215587d1fc767bbc8ea60e3b996ab98bbbfd4172fbc36f896787e150d1f4c5ed8cb0b46dd1ada2fe70c49b8966fcc0b194df7ab3a69d823a64a18ae1eb25c4d896248a0c7913030761f422ee7f6787a74a2ebaf26d5c0dfe26a9b15bd9906896d7877c6fc507f08c7b3a320a95a8af23a5e26f49a9a26a87399479f37c30db5f958db74d92435550edf85cc7494fa35923b27cfc21d95d5975371e58902d64307f84da986a3350a20902c59aa33f54de4e8ea0abd0add1007be2b74de34dcece9b35efe8f93041320fbfbcc92141481e9cb2521a651643764a3bf00388f2684be4d5863d3d46e0391659c6da29ba9fe2a23557e00f2e69bf0ab2c2407893723fb4c6a6d73b0929113c580914e07fa4fd082e9f50138febced1be3a25e3ca1f63d42fce17789efe5049715a9c43dcbcf447e2184dc572c6b9dc8373332b5b0b78eaf4711b279a785bbfb57c105ec164df6cd3ab80608c0cdb9be539fc03fd9d20c1dfcaae06a480913caa680d253708444156b3d75572082db7c0356d0de801f5d4817363144d190c784def33f71fdeee02bc7fc0d25d8097dc34d6a9ae81a2c90be1c1720fe910e141cbff607b3e89eccc03c33ae188514ff8cb9c0081e0d95a89542501d4c04121c056b4a6acabe9032613014eb064ae7b617c02e7b7867bcdd8ce4c1ae98c623a433b986d07a8d91a738710fd420235e3c7c290547ed9dcb1c5b23706c8a9aee4af01f3a5de40f88a05d3e8a1eb117d64b61d2030a631a72101833f917d3e2fd74c260defca4aaaeb42fb2b5db03e75f3ef0f4b189b9d02e418ca6989ed81cf25b412af3522d9274228d79ddd36ad9047a320ef48ab81f9527bf5c6fec96aa654f10e06761183725206970798c3ae53cdaf544686507dd9809f01f478e316510c361c95e192d16cc1d3d9c7890211950f0f85cbbd1dddcec974a0b141a78283a99ef7e2661cf7c288fc2b91ec1c4a508258e6af726099551b8e0bc7b7835b95e821db24ca9d7092b76f85f0c684002ecf27bb3c70055e82884212e3d41c2fe831cbc04f2f502a26f0b1bd2ef72e38a31334307133ac1e15c7264efa7521d5e9ab5dd9e4cf06642f910ee1e2544fe233df3f315ce4c88951774cd62dcd974e588b9f3573aebe7697a688ba70946676c26ce09756268c7f918f7cfcf3a876d829f455a461c8fd6854a21997da3564076ab7f5af793763aa4a981ed443cca6273134dca146efd9e2900a1ad10c70acd5226129b28a11f69f8bd36542297a76708baf4156df338e1cc574de896c03ae2edf3feca4a2c7705f1c257fbd9ff1e24079d107438a4987b14f10c706155eb1418f232565cefe935a4cb789de371d531d81190e48e1919a5b5e9580e2930633c11ae39e47c7bdb79196d012255d5c537b093d20a5b7f9684c94b795d7ce0791d4f017e8bc05890afe1b7d4d8d36f9b0ef05c3aa815b04f8ef3965dddb1195064e11011596afbdd041ae44d2ac94479332c31ef7da9d19edb73b69a93d0ed086d5194c9fe0df1c226a2a37573fa4479932bb8edbbf12a1368199b9ddf6303fffacdb494579426cb0ce0c17b989886841be7392187a65de02593c526a09a15209dab4a63c4d80b95cc9654f43e0202adfda4728175d307b9e4ec4d8f9313f38309bba8a543f0b21dfc26d0a134809a03b7d616772213b2afff305228f9c1f26a2596314becca79e1caac128211fe2946d95bcc902da94fac2570bbf19f9068a114964414a61cdef894d87157cc9ef90c80729d1d8746c2beb9ce5a5f597aac1672a227f912537ce5ccc65a47087abeb2c8caab3c4a767d7196615fa346e50a7698c4f19b4b087d9ec83da845c87a69a16573c60e158e7b5a3dae9ec5bd31d08e762ab62748efd85d382117664bed123a2fc85cdf5a783a60a85fc650f7f06ca6ec1620dddd19cc90ea815a4c3c2e0566945ad4ed50daa1e2c9e22b8b81a744963f62bedd8ac112fc79e9c1b47ab520132aa78c1b2a9d2b54e427ed4c5dd265f54822e25084809e6a31c9c32eff084cf1021f24aebfcde352ff807f0be20f32f0df1d34c151b8fe934a7c316013ef52ecc91854f6c63f2ced0b8e4cb282e5d780dfe0cd6f81c77b4f5de812cf7acd41af16f0fd411e810b68de7ff79cb94127fa9daefb87a9","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
