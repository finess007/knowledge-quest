<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"fa57b8ce54ac76701c02447ec04f90af0ee442f8210efe86963c1e979d6ca5d7d78c4358c232fde55908d96d8e46a2238e3c564977e92b2b535b0fc047f5da4495f15d05419132c3e8ec4a413c91c12a11f61c5521526aaa578bd2aa36fbf4bb6a83cb328b47b7014a82384a04f361f9b2b0fbea7bead19beaeb0b4852a3f716dbe3ba976575bd50ac346bbc90420e89389abddb8ce4d6f4860e5580cddfc328cc75f29808802e560db0616c8cc4a1ad82641fbcdbc16642f0cf02a6f1919326d5df0a50f5b8126b40c772620036ab37f675ebb1fc0181f22c23bcd9c70ef5cd6021b7d361d61786ba8bfaade29d9a63644a8f46b871b38c75028f729f620d50f0dd9180ba5ad5257038f62a6c73976ba559e231235350864b86eccad3d79ab31df2578f2fbec4484ebab3222d442901f3d44bc1529646c0f15781b73a8738d3a53c45daec07fb6d89afa51cd356776d0b432e8ad33062c1e05681191f194b2e35d9b71ee4a8aa908edcada47e8011d9705bc93138394a0dccb9560c534582afafceaa120d60dfdf1c1d3408838484388020d19f429ac136ac02a468c30f87f1c54db4632610fe02af537266d329d7f519bd02658dca2a2556eb16ce2e3ad4467fd0aff86272c999140e196020c231fac3a595d80961b601dc1a0bc81e1223d79516d5ed11579d2d31f05bc55b2cff3b847ba3b74e572557992f80fb05c93d96bc6b168f5707172eeab14eb62fcd7367edcb5038e48f2100e3055b498936b885b610cb756992870222bd75b60a5f11288c711a8fe771cb412f447c821346e6ab51e4491effd5f908a455ec66c084805ed0bb58b9b038df4c00daacd2db47d7cdefc35e9fecf25202dcc99d50f5ddcb2a2c14e499e1f6562547afe6e0c9c485bfd75c80f2039c134536566f319f540ca0578678534b995f07a96faeb94e6c5b7c360856ccd8e65c376b6ab6fe028089bf5825853887527640dfd0f1ccb9c0010219657d17a4b8d1c7fb7e4929b7fd8928d60123417cb6bdca5558792814bd5b135b1afe538c7c7cc08f9f1c99b54dc1d0fee83d818561912bcf27fe0718fc5018bb1aa2bbda847302bf73f5da04ba5bb26d964dc81e1defb31cd5200b2470cdb5dbd06657209bde71304db7a026174affda1a66a5806ca4d5e6757fd729cac570b7b83e8a1eca8e5d609753518770ecd8a9e49b756307cf1ca31fc7a48085135d9a79498f4c5650229a3dbbeed243861abe0fd22b9503030434a79abd45e89f85d92e028377fe7d966da8014874e5605958d3bdc82be617d0f05d03c88b0b040298377a8b260d50c0523e78d43dcc928fd2f72766528ef6b08ed3c09c0e86148a13c3bc835919f0e853b7566cca8e56a3d2600523c0d6f6f62fff329aeaec8b2515071e8f6e2861136b638f20ae5f9e06b8417934b37b41b2186f2c9d98fc2b18f871b789df7310779604fd0eafe9007dc640f1e8e631e6ed37b1f16ac2ed18baba8d2d51259c82b8a51c0d7c9b2dd1efb4831e7c8ed4a879790d903a34af0c06d2e2ef566be0ff64e9070a14343ca92e0525e297121e922f9c10c8fb23a07e0157c0dbd821c29b31eefc030d188f6dab87072cfac285a5debcfece49ccc59bb853bdeeb734d6976e9cf190ca667aeebe15196738270eca2067dc48a2b42e3345e0da566044d63149971217659a7721405db98fbbdb6e693382415ff0b039664e762f69c4a164507500532d46e234b302a0fa2b3b54f3364bad099a50ac6e481d33fa621353ca3fecd32dfb2171691803ebe5e0a0a1879f60c80a352b27c71f681d6111d3c1431b3c841b6d63378bdcf8b50c7326eede5370a465e54fbe2cfce7ed3edf34e86e3acb82f034a93c878c1a56cc08efde76c62787652826c97e9b256cf1018e513761a375625d7a43e58671fde13997f60187cf5c35ad953fabdd96c593a4a54f23c96e9c39fec9afbb2353c78420c5c4ecde5035d0d0a88c4ed947cedf2c898cc3e7a281a7232172593a1afb0977d7d11d3d1297e60f3b1be37cff4f1c8ca72d1fdec0797ad82f77378bd12bfd59d178c9e1a2a7252d9e8b255c701d6b05fa88b3c7b560e87a33de35d74cf2d9e0eaf1fdab3c362f343296f0228c1c0c7c08399178ace8c43b0f701aeef45a677816d3fd6a0027e4df395575e669839f37022b099a2796cb2c0856a6229a0f1a2c25f468b7b87e169650bebf82ffc5f6bc1ae99d6e5b4ddfb300051ada4a7aab6efbfd3a4a380673c873fe6cf5be0175c9719fd6868605a02b47ea5cf5dd6cfc2be7401a2a8030ab1ca59c7799c0e932c06ac229ac92fd4bf64522e527a46a4ec098787d851f10f561432febf5f7f3535c7b05bd487069acf750ca0721eb749ef9d77cf248d122a1e44d6f4e12238e2b1bac2a492413635a882d8811eb79d72adc6cba60af4851a0bb0405bdcbfacd5178bbf2a6df915dc67ee293a05ae384b80bf8f26a416ef308d5863c5ad775f32ed51be5bf4b9182dfa5958f943fdb06bb9d03201abd0bb5428f42db8fb5d88aafa80cd44ca57e11d78ebbe0e8455a23968aebc5e489da52aeb6009ef82b71950d340e50196d2d3755d8bc669a896faf61f6c9f40ca25f50555773c7204ca038a25cbf0113722599cfcfaec10e89bc5ac6cfa8604231e52ee6f3487b292b87d5c7759e53d7fb7acf6dbc2733abee5d1792226ae897d0279dbff1ef7ae71fa6f7476043a8d353c0899f8dd5f97b1ba6cfb79458eb726cdb86bd5f173d7fd47cbf1f1ee61908148540b893ed6948d21becfb9cbc13edd623da8e006016b71c75e34e042670bbc1832f98e886b3658773e0a5360238dbfab9c3e86e352d459ff28960bd432488889d62140fec5e79171b3c4684ab210a8804633691ebc10d621a017310154e50d0ed926cc84bd47d807d234a7a882562c17ec6e34ef57ca439b4b1de3af561f277dfd00f3296e5acdb167ae5b4a9b1d10ebc63c686f69f3bf3e358876720689ec556e463fe497c5d54de99cf45d0f5bc87713dcbae5c36c22a1d32e2dfedf7f19f9f454dacc9e5b34f1f085224ca092ad0d69085da3e8f788f5e156342fe95a80e3b29a6b927449016c0bfc5655fac3e01f1cbabfc8ba740873dbeb95472605eea61ed934670f78a9f5eb43104b5c4b140bf7cbfb579a6b8e700749da1ebc5b759b2dd2d34592b80599a49364087712943b7659a72863d39caa7e5654e888a4c9a6813258f65f05378837c57485c39ed2d992b892358c9a770e17ed5e0ccb583319c63c721c26b20d942235474b3389653982a8d68cacd966051448a9408751c2ff801ff6257f04d20344655781ee020d7e6e596890626e50aa54e290172d20b48968a36d7254bf9ea7bfe7bbe918a735d2d49efdbfd523e878f905aee8cc5e9e63bed1f88dbc63037ec5b11b8a8e73f4380c30c592468ef050de4143dbb6cb4a4d7725884fd9fff99534a5d04e5dd4c37212e2c17b916457681b9919bc347a3e0ab296d27814190b1152a9895135cbe39479330c68e958fed337a827aa5fcca694792a039797cde777e7d29f890decd0e97449f12790624f15a5273769abdc0088ec7d1b59975498fbc0a5b441bb95a62d02d46b3e6e17389f933926c70ff5f5ace904c1413715dc5efc1f38d2cacb4a0e3ed59e6a497877de321bb3d56172accf3fcf41785ef131ccdd11be32f45467cd6848ca90fdc79c8c336b3c6b8f52f4a8d565233400b649a21ec850ffa3958c286e2d0bf07865e76f04087d468d9299842934e4449052cefd0cb053f0cc38f772588d1a96bc9bb96d08a4bf46454bf7072600170c78fff68f9b72a615da32ea41a8e9913559e47429effe27067d33cfa9eb675f5817f01afc485d9842ed8c13879ced98f11cd719620abacf11366b0da098fa9c9619b0bc7bf4c823eb84ca4d8d99f3b81fa2a44920e00555e6d73df719d045dbd2a84758e3c4dc39e2627d0104368d5260689c6c7e90e6d069aa5cea4848d5c38df661a73471eda9e93db5f09ac0b80a1fe9633439e051e13b550dff2823fc45680416ba0bb0dc95b1608da9bfa27ba47ddba9be766801c5c126314f9b3cd6222909425e27ff601a747d69139454ff1916996cb43f2f7c6b8c66266c540035b605ee9be2717e75c3873a0b413ecd6d1a859970d4157370ba91114fb092b9e2c114590e225637a83fbe599190a395c41adc4359ea541d0090816f705828fab8ed08e25150bb679a2fa1c0c12df0c08e691c280e87f9628469d537c2c475a59fed65e179cd74bb8dee2cb239a88b3506be1213997f09233ce48b3707ad9b4c029838e0041f61b79aef2668a7d0812f691daaeb8f22545757d440c2b80cb025a3fcd8f30f7215ebf7f60390e3b0f9a41cf850c445c18a10dfe6b43347678e4b7d7a383946d709e5151ebfed80482a7a5b28443e3c271588c3d74e424af4aa23d306a1d52a3c950b12622eab952b1b3cf2c2a47c7ce082f3ad764ed4729925620df1f8e2afeefbd0e18addaed2460d4e2ef17af5a21f254db08166869ccd0165f67e89fad8e12899e24528803f253ce3d6a5f5ad508fefc2c2ded0ccd23494f134da47d25b6ff5fdafff1da7509d69f0c3d031ba1767d9e857add7c512def2fb79df8740d16a7eb35d6d172a5a6b62e05fd177f1fbdb07189767badfbfb5021e2212b5343c72f83a3c0ec5e19da43fbd9dc9a9793318d3d82abfb130d19a5f1a86dfde7337f03ee0897b3327b40a0f96c6efed036d72c276081b1ed8e871774bd9b3fb47aa9ad0fea892b8f3d0b0d6a0e821b954a4435e54b6d8e112465f04123a2e5c50a30589619d81105c7b7955176485568f1b8c7a183c22f07cfe3129a3c664cb5533f5e167173200c50ed800cc54b09ab7ffb212f4841ff04a12432ac03e70340b2019bed3d232b0f5dc5369c07c8801770963044b34818c24328438d8d31dea2374d9ef6c513af3128cf66af9cd3107a45318beaed8b2b5eb7b4eb46ce5de67fecf213328857876909378312c52ebc1b365b59304a94368addec0fd5ac3e30592f3f0a05a7541dfaeac0213e80a5ba2ef39069eb6c06259c62026a8c9a1782ca064600a76bf7818a54b5033fcba951c33e05326bd7c4d1e1f8d2af72d30a4c57570b752e007732d6fad2336d267399e589756d3beb6cdf4e632fcbc8a6094323c1d030d1df7a95dd62fbf74b98764d2f625c7b1c93800509640d5c08ec237aa6fd9396ca8e01e35c0964c573114c4c69f55eb2656b8afd91b35e6cfb2f97240e8918da7fd2b00580d7165df110dc05ed7350774f6e8ef60b06855ba01fbe4f59f6a7cd33381c878a6ed94a9f93b250898bb67ac261cf103358f0daccfdb18d826e3bc3466384336e5e76216019c5925c0edd77e29cfc6d93781ff8908fdc6b69bd7be5b4c139912246292eff1d7bd930ff066d386a21f16975f1918625eb3b0debbaca932eb80a8d1598353cc4bf0563db5c5a98f2674c2ccb578c1bc2cb8bf4bde323a89cc152bb336a8be99609c805ed910831cc1146d5490b4fbdc8b864c7e8a05d0fb7b780b3d245d7ede68f97e07932289429449becf001a0a0a3e2af0411f6328ebfdb8155506bb0d9cab27bd73dd8bde533666b6d503d1ca34494665c6c3861ee65276f5120d720e4a2ddc5517ca0016551dda5921d278c5275d800fb97e9f3755ef7bf615dee84c9a24697a57a3949e439aed4950b08e0d9a767a4e5c112dec09f6519d7355aab6c5f2304bcf8eb9f5da92b7c23fda984dcbb181a4fa95d9984d5405e39314413a24ad5f72d1eec04f006dee657dfea6c9bf0eb9a4e644c038d164922e31a02d80bbb1575d154c4556df27a1fc06c2d8147df35fef44ec7c608afc3f6ad611a98b616e541fb1d233f88c77bf2cde6e1993d2c440de1e465f310585baed36e34bc12abaea41f3abb55fceb0a9f2ea5db5d35ca67da03dcec4def606e0dec0b4eb792ab8a8c3596e5a9772a2fb2c20baee9219e1c06000a6074fc7666c7cdae9ea758920454b3f5b1d5257fe48c5f009fecd5c412da7fa55a58dfc49b74380e6dda23d28b1b3904be4d7efdfd967c5c4723574a1a7d85bcf693566490c435cb8a94aab8d37685714ef339ba3eacdd4b51036bddeb465a6e4c77227adcd68393e8bc89d4a7a1ec4b9cd57de7a75e2f3d50986db88c9ed05d23eca1f703c7230355c7982b354c3f072efe6d6fb856689cf0ad854aa153f13187eeccb316ae0ea986fec928ea1f27668d34d1c9f2f5748dadf42f8b51d6be869f37d9e6eb92d7809c0e36fd1143dcdfba706c12b6b08007d70bfb68555ab91020270ec8ef93f04270a8be31eab59a9d00f628b36b90add1e61d51b8e7c9ea863bd34d62c23c3ed214476ba99319c76b06ae59c6e9fc89a1061cd216290c6c0023c8a120de4367d70913142cd57f12f406f65dc6cc2051ce2255e8c36c2a0fa89de5e8a6a8eefbb5b82db89bb25200e896edb5a568635b3da9c469fb3f30e9cfbf1ae474ec0c8c4ada06d191c372890abdc3ef1a993ea08dbe9690ff6787e38cebfea5332f888d07c8a0f27045cedc1b873bb5af8f10763f7e538d0e21a6b5220fe38df8d1466ff2688adc6c083159214dca356c098a55f71ca38767a3920c5af0833033711b393f999d241030a4f8542a4d915cb8d9710297f8c6a90ec2cf5f08320424f6bc2571739c7e5e80f8ddb46fbf8a3a4840230bd23a960727a9bb9f1cba5b5ed563dba7690d2c5980e9a88019a3a73eef4f5438e946312fd93ee55f5ca946e104f26150c9562977e5acb937255f799d9870a95386ce289cad9d706b044767536bd4634a89e31c805e2739109c1b4d9f95aeef7fc6189a3db75bfe46df683b696cd4a9f20944ce5e54321960af24580b2372fce77efd45ce786c55de311011d8f4ac12f404b84ff96b46c655607d43e9d6e9740a41790a48ff6eb88b52efdea5618f234c38699767383c2f2a888b9f94289da98f7231f6ee8101fd83fcff6225d9deef2169f785c2f086f94cde50650ac690662498acd2cc615d076f19b6130e954d59bd30a96555237da4864115589409b18078db923d63dff394876b39f7d69dbfb32aa1055ded4bc376065fd29638c83bfc2fbc425a1e77f64f91efbe8df80924ddede8302695f07373cc327e399c7fe456725a4a8b7f08e04f1c2e2a896529f2a45a42934f3011864e5fe5fef8c992d7769bcd26ec174d84794a6d97503260fabc3205a3ba7fe1ef67d7ce51075ff6e0c5e634581cfbd9fd453097914abe00fe08a63d7e435fae9671ac7d0d088e2173e44eb3d0f611a2ab4b41317179f67de1689d4c51f7b26ca0c34328493068c525c53c8fb90844e0fe825c1ea1260ea5dd07fcd2af13ec9e36b7c2ae6ed86139e216d8e18bf7ca4746b98721a19265ca45a56d7b7052638f47de4763adea1f3f432fc52cb02b4c4e9b8800438b1749444dc0f16182c521d338b4f405a91811976181e8ec501d650cdb457469a1b0e20611107bc8d696379021708920049856500a512d882537606a8efb52a4508792afea784d23c94ed3496972a415971d0c5ba77315ddcc803fe919919e05230e294beab7bf785cdaf1e81813216a205e6bfa6a26f273d338e38dffdd6991ff29a3082ea6c586a27be9d5b7dc03eef5495fc964eb654fe210ab85b72db9f85ccf918f51f1e3093f89274237101e57621da70de20e271c076a7ffa76e7659eab2cf83354300d7fb0784b67086a912466af694fdc2a1aaed683df10e10688d89d4faaf44171edfe8fcf7474c915a7f15bae23e90fc5ab219602fd277db0e6978e51524cbfcaa02e213086e0bf08600f945110a6920240363277814a1a5e0296fd76d4b0f50c1058973d7e3577a29971b7ab6efa9642caf488e1ab00a2ea089fb3be9f4c668828b66349b73514c72d96d491e80d0cb12e382be20ae6bc37d5b4ec659150f49dd37458db60c11efb9e9d3103f52adbc86544d13e29ccb268229187dbe104416d02f423b157b3bae09e525241a371bd3a4e68d416fec161a8f1f8d48fba2ba49df6cd4e424a0f9bf7e3dd55383b58edfaccccaddd4f710b5de8bdcd8dae25f8f22ee5ee375d04bdb85a41e680d93e4f9f9084e275d4e290ffbe9a412d1f8a01fbb6233e15ec44d0c4709f2842ec4d9c02bc142a9631bb1e2c247cd5f4ca4e06533691c8562fe158f1f4529864f4c258cebb4c81ce69a2b8b71659053405e53cd14bc360766223c9e8cfa7cd6836a447667740c7491f2331d6b059cc56aada5d4bb377f464892660a49d95819d3dd94c295bc1c70e00490d5736fe7ec87ab905cb51c8e0b1bd1fd5c8d5d5b216e672d512f196971beda08875307315bc30976c81c0cd4d8be85fbf22fc4f5136e8bf38bc3d550892ef8c37777c3fe0f320eefa75159ed6abb3f41b9de1beca8e321137a065d0de7e7068d867e0075e463d71e59ab7e60d7694911ade70b7d235743a7bf2157feeeb1541d244cd46f9c5318bb671edaa954d445572f9d4b2a063cc2d739f645951b486d4528a605d8eca8523d769c2f484d270fe1a391e3f05848f767c1a438afaad34d9cb0e6089c5ead14eb019af06992b4f21e2cc288488f3d8ba0155b8c6e9292f07c363e75fe82cf47971c945d702694bbbbde4e4491cff38b989e945dd1fff255c6079d71b9236dc49bc1059639ecc319de34bbe1cc61a3e34c1d418e13af69d86752cac15d9339ed4f07ae461e62d110f3076ab19bb7ab2dfed8387d64b654de9495a948d8da27611bb1307b6e10c61d4decf576d47b0d53ab8f74ebadaff24803a6952fbcac98eace785dd26e807434b19376a53e2f6b513bdd06ced1bbbe2d8034f5f2149329a1a164dd98c93380e14642da3c1956bc4a0de54a8d1df3b8772204e28009f2151eddefff27bf31a06178aca178e13642bb2a757046a049d37169b86e2d12c4751713a67fe835259335e86a092840991179acd53b6d8168bb1f2c618c9ff95264bb83fab0e86ae3728d5d2ec3a81c9baadc3e3306e3ec009234bb5b7a642e49acddcda2cb0f4b9f710766a47fddb54965c8f09c6c516267fb14cba0cac17d15b56709fc28a408416db1d33adbca7bda39bd6439bddca8253be17daf0e707372c1b25702e6caa2c52c942a028d1adc3f9fba17fee357d148224d45ed4846f646434a2379c5a0cbf7599d4df1227b209a72e6a01d6a3ce1e918e2d97d9c4cde3d9817edc1490e2f5581fdb362bdbdcbdb4350e6e3fc05564c99edee06ec18fc532e9fdfba76d6caa7dc035bd24c8542a548fc939fe40bbb709549d6d2871b91fed05c1e002635a4f0e3340c38ace4fe8c424cf1087f1eb2a8ebd6327091229a65754721c542e2c624b6a8c626360739413c21e5524c28cd3db30de7d5c3c7548fb4ed57f2fabf97205329ec839f3b031dd871a75fcce392fc96d746dd747ba916e91709769c578101674b3195ae9a166d7629992e5d993e90eb4bfea3764b848dcfad6d19e93a064422d157901dbd6eabcb024ed1ca2b7d0a35a944dd5db0f4daa3e7fa8b43ee14e24b00c7aca4c713813f6880d9cb8af60daa8b1ad2cf5b6c263a122bf953731cf467a99ef9030bf43417c9850b01d01394251a8c0d17857d5dac0cad9be561d799cb727d05820921d3c042fc6d3c862f7b35362244beaed2d93faed6f516ea1c297198dfc7633034f070af7cb2cd3ac8079b74a777789d50cf2cf8861055f6d5399a3a17af6e8765c50aaab0d5af73b6e28b57481a2aa7ed43efa9a8ee3dccdcf0e4398f6798cfe4b776e8eac141934bcc1dd6955faf4c4c2c0a40eaf18732ce5186f56c0a70785d2207db9dcf91af8d7cb7b35d35ac857dcd4bd76c6c97d30d4009a4ecbf5c158786377e6b80f323b00b6069492ed3685b14b49446f73aa91cfd665264cac3f08457d24e56a9031949fd608934b0f8c10c524ff47d73a4c243a851ea5383b1f53345165253a420d77bbf2809fc6a242694d9f49cb3d675236dc090c78d1669a891adb1b132a94e256f1720914df49b926b46778c51ebeb94719bda6a17443cc4e3c2f4261a503b719c34aec494e61d7bddced59bdadbc072f6997892c74045b40fa2dd95aec3629328bb49c07e3c1b490812c5fbd8d8e6360293f91754b6b4c320e5eb547c2169c4a68fa2ccbfd15ee22d5505cba1748741a48146d053a4c68ffa3f619a146b6f62a77ca5d9d53c47d1d2d316fed9e6e95fea3764e11843a631e492515c6869e818eb4223a95236de9272ac6ad27306b8a0ca52128b3e225d01a5a62d2d27556120a318e9a2e041f6b5d45baceb1a17860d3adff3c2702d6dd3515b1e08370d4c5227a15edff5328266b574567392cc23b064241203f9dadd44a1bcccff45e44de3db2a26a2d599fe3a0111299334ba3604ccaae1b9e0d4b4ada935c086a9e48376ea2931008f7f2c4a066032d6d2afa7918ddd22cdde140e51ef193a63b7090d478c8ec9798d55c584e66ea2e47c8dc25baa069515e6610bd812539c7d93a59a5476e18d19e446f6cdf6ee7950efde2da964a5f1c7ba88ff8f0cf13af0204d5728d45cdd9d78819fa1b6fcc2276c8ab958a1273bc1d91f961e29a910e6ec0c3b4876bc1234a13b4e358b692249d3eb7b4de72d56505db9e0bf913857f30900c5b1a78f7f9a19b7606c1acd06b7f97124ee8ce608f3da3e2209cc3fde338e59241ca9b244be18222da6bc5de0b08c0fcc0fadb194c8d7eb0fb7f64fe3ee3737d25d988ee9b71ae5b56dad96341ae76592d256c073ffc6b7fc192255ef5318985d7dc13fdf60fd1c965dde039c90910e379d008fb98bfc80f9700fd1989e77f104e6633a04ea857f999487a51dfade0c14bcf4806382c6160d91a1fe743546058c66146c8cb9f996205ae5750333395897c544a6979f69abd854f39fcc0509a711d0582e283fb04b3e6fb6d5485dedfbe7939401c5d6863b7d25aa4f188b48d71e5ed8f3a710bf7cc5fec7deb7b80e4f292e5fc6aa01ad7ae2474da112b10b213865325e6f825b2740060b68d718dac30de4e1c6c721cf82b8583a5cb69f4782d6b337aa4e17b0075587f6402dfffa19e9c9525d5927a9b8e84cbc68e2074095aaa8cdad230b00a083cdd2458717626a559d892d1c52926b34d5253433583387979c8d3e9727c337d10eea6b536f43cd1b0b610b2473585851a242b085e5786dd1379a3e815760e520e5871cb3efec16e9c3b95ac056bdc331142e4bee485fb8c88b18a0ed77549cb3af89837bcca5db5d8cb7c205e920c2e55916ccada6c9b6f0ec242eb6b022160763d5643669c00d00e6745ab9466fdefeed8770833c4f9290e11f90e138347586776709f85efa7de752aa6faf78ca648aa33fc0023c451ea09d455f2c36de3437d447a304bedf3a577dda218762a3b486ea729d3cc3330c1ef6777294fca8b99f54c3d74af35a6f71f157ea848594217721494dcf5498b95d363da1fd6d03c11f512ade86f2e67b1589e3da759a6b85a5df52ec0f74b3406bba8ec01446fb77ebb733e6049be2cf78ca8e39133a1669efb1b2df101a8940e8a5e0de2f53f7c60224c3cf7d5dec5e12f8c54384b1674aa9d43d25194aa873df27f640d17378d9194b75c8baf311962a96f83a63e3b670642bc5dfbd9c75315cb87c774d91847302c24409d5d390dcfc236d44ad705655ab3ccee970f9124d2ccfe4e1877e9160b7a27dd45a28b06128381c031d6110e739d22e1e81fd6f0adc5f6c96e7032b2e6f7196ceffd95c0faf705907563af063ebad521ee7f9d9b2bed1037490322d8478ac8bbb12c30da2284e9a398a85f2ba4e4e2be0c5f3f076f91330be0c461d172fc6e107bd0dc701fd9d493f8bdf55870d2175514fc68ac2ea95f24305b11993a6f5e7b24a9f25339106c7309ed71acf9fe6e376511168e1ed887a9a433621624a26a322644f8dcd7bf6100093e9d40c8bca92ad0cc93ab45b2dc8fe6275e01fed2c9270ba78b3c32b47dfd19531e6ab02a250a3890c90e88cc8a5470ca77a3f1303d235178d88e86508c5dc1d39925d346140accaf74d5b4616fb55e21f04b2dfa85c147728a258cfe5790122940027d53a807e52536727ccd78010bcd951cb8502be3bfb10c4f07a2e57651eba7ad796ba53d1adec383583770273b185d30696f1764f85ccd5bb026f9c986bffaad39b072bb59dca14e8f4cdc6a7aa71269db819f8a8a7a31da79748ed81f9e8193b1539cd8310517613287c132c20ab18e08a3d24bd2baea82699178bfe8ca6efb5e9a6ed42a65fd5777a5e263e87c4de6fd9d84e22f92bf61bc6fe36489b98f21dcd7e514f8c9740040bff57fa2a0e85066ce9338202d6de61b1115e656bfc9cdacaf74a82be1664efe23fbf753d5f23fb7e130992a465e011aeb2cb9c2ac5a3ca77f0a849af567bc9d859c238ed34255f5d1bee9c81736cc8f48d7b5725a741a2c918d5397d6fe1a5fc460c018777f1ab0bb974cb3cd6e6ce6faad53bf9751c842649e6f3c31426119218bc21ffdd08003af02763c986a59707e1378e6e4f1b6fbb24122f26b534560c2adb17e0c3d4a57cce60a24b1b9d3bada8bddc87d82f47aa67befe8fb1c203aa5a0253c0dd417a099812bc27da9dccf948ad4be6368b352645976de9059798da3d1f58781c0f5c49218798bc96f694cc040df10c9a336f21be643d3334019314dcd5f358367e1542bc48a5bb1fb9d795fd56bfd4445bd6a80dfca9ea9f7e381e5c8dda783e5f3370d6c07efec3a9177b8c330babdcb8fc0497545c6895bb3387fb974fe8fe53a8a268cb08b0aa5f71ac1104b8fbd5fdc6a11caf51e9c4efd236ed4ad7a64cbbf29d4505fa7465838f140488c8e2a813e9bcf99aa1d0e69b1ef4435272765cfe420fba94f83d5d16067367037c175352079e9582ee59c8dc08b57cd0af5bd76993b85a4bfb12685fbdfd0003bec971fb809252db4d332e127927f54a0be5a4347342a78f976aeceadc7ca7acc2e7a26082f57ab7babe3a76b84001ad0f2f632c577f287527bce6d9da5123b7de6add64299f9385665255b715b0e929964a7821c0f19f26dbb822bb44951b8e4c4c574b0fc0c53192a5a215c1e93ce3c0e06511bb5e96af48e87588ec710e7efb1281cebb3d901cb5075b67cecdfce1394ce205410977f1e6bd4cfd26dd558090157a10eb0954dcd78dfb2a98aa6a0e68f50e1a82a10d86c9e94c9e5b5b3ab798025c5dd68bf88e17ed8f3484288ac7b0685ce12db30cb22eb6cdf80ccb7d44e3dd58c8e4ffbe6f32ebdad4283491c43692dbaf04779dc6653d8d60ff9124508d644219604d887b0a617ff82b486bf07935acb9a3192a1e6525c77cad080db9addaaf004cb4e0b5344a5456e79aa477a6f3e3363c041333a8485c791206a8688a4ce6ec126ee90d18da6a64feea5bb1eb543466f3bc2627b129ba330e73c18f95e34f26cd33b9884dc9d0f9730a90af362b474d167b5730bc7d941c9e843424f1424e1f908805e4f40fd15b19736da5d486c397cde36597d256e72560dfc490755cbbf8425131c81e32af8f26c05d06f7786f3a60127bc74967d8d0df442e5345671492080bef46d05e46ec8280b6a6acb0a58f93e40097bd080981d8976303f811dc82e2828cc100a268821bff45d587f1f3f9abd52cb4b9b7398f13d3747660e213ab3d1516fa140942f0ab7896658a0b341686fedfc0588a8565c38962a1bdcb93fce0a1257aedda85efdc8a6431e89d5415f79f801179d16d609ad7a6157e325fe80b075e0924091ff52080e1907e64e02208c5387f22c72fc818ffa9eafc6d8196e1829c1f9bac5c3c3b5946237023feee7c191c71f8bdb7faf9bf3eb147ef8949ff8ff19493c9ce0d188c242a8f77a03d08e1512fa87e315b5554bbd612fd17a7ecd1b5fdf389faa9bc1edd18fef604ae536b7822cf7405a2a1a4bfbd9b2319e567482cb12e565e3661b297bee03711b2d8d7c35f5a05be4a68a66f80761e623c92de6781d7dac1b94551e8ab6e06e2cb8efa478164d6d285b06852168e170858c22acb2ce3673564ec7b0cf5f36fef00a1cf83a664f0ce35668999d94cbe1aa7a4a8dbc6e42e6c46e7d9117f29876b943b4192d126b5f9b8d123946154a813648034cd70b093ca2f547e9a74e3e3589dd5145eb36714002fbe76628bac29eeb4c10b9af077b41fcae72e3c169e2d2696261da9cf35d8af06b3203b019a3033e08f7123f34c3b5d614815b81c2fdd0665e21133350849aaa6ecb987d976e10799d87681605d9e7456ed9bf47732a20c0037d562c07576ad1186f2319a814c1200768df52b1749ce3db3976f513707c486e27a90dc7b242de05fbc8b35dd614e0b5f1f48ae4e3bec3a27f6c6577468b2ba5eaca785d7da16bf49a97c27a82cdf8ae55ed8e9db8954c93c6cf6fff2b10cabd50cbe8160852533f33f345012882ff80932a64562e73c3f1f0d86e9b7965cb33b200ebab6a6f4581a74a34cb5cdbce1ab842ad11a4be9c391e0b08c981b6cbab1e129e7bcee4e8d9c3f402f4cb8181874e2aeb0fb6c6a5c9f4228170d9fbff90a03066c1e821ee31d787d0ce8d00668593508aeeafdd5ce7655aff2c19c00e06ded43ba2fc7bce0a8313fda677c0254e4eaf63ae14d484b7a3f237d866b295ff41c0fd2b21748889add0fe3dfe297ce5221dc73aa25933522995fe326b6b30dff5193c02e18967350bd1e1eededc6c77103f26428880ce10b48ede84d21d6f27e730e8cf14ea542e269b2b4dcb7b018ac1c79754fa5fb834f210677033483abe579530e1f7aba700f7e8425123cbd8622952873bbda8f4e97a6a081d23afb0e1620785454f5e16fd23ec7eea42ff7e0d2854f840a23eab79f191a555cf0df4f9187701ffac2c5ad09fd5b8cbf0e2e18c73f2c19f82109f813b25b0b9c8e5222cfb99230db406ba4bd2096fb2ce6c6275d9005a1018881623f1eed23a70dcbeff718e633c4cf0f104cd56f3f2fd118edf84a9e23e1c9cede2837ebb259c4fe3eb0067b99a4b0a21cb201a0d2230d7b8002a81dddbc4a8045d7dc8036b4d922e6194d414300b9e69c0b3d23945cd3de3b16033bce31f656c101d80a60096a6ee2283e65045fc51dca533199108907dd503528e7f84590a64fbc5019fcfa02763bac26488807b9db9c5e5acbccad4d7af146c39dda87e95e3e38864fd1cf33a6570912559c3a08fa26a25680ba8e8cd6c03f674f766b303437e218cb4588411f605a08d522e365fefd029e1a64d42352797a9099d570a8adf9383d9dd28341e10b19edd2c370f4d1d8dcf38264b2c84b8b7ff9a0b28a1b859026a30a1ccfe5419c700b92fc606da7e50a74b494caae696098b755b7bd794eade3d70ad95dda87f6aad7e8206be483268f440401deb5e2d2d87427548a71c35a5a20d46f3067bb6696bad7623640dae784eec189a155c9adc7eed3c8116449d3b293212a736ba390bd4eb6b14512f285ed1d4d167386993931ac97e68d98955c6184d77e80c0427ebb1af9ed66a222f04b1a0c4f710143310a3240932e91cf00a07c180b8524df31772d3b2271202e543247deeddfcd736019f35695842968a22487b554ad83b2866a4cedb3bf6b857dc161055db3f4545a68045cfa1537f900bea54221cde5744c2a4de4d0664d2c014d2cdf65ddf6a82ce82799b8d38966108fd29fea7e2df6dc3d9f797e5e68782eaa34f0eafe68c83c401aaff36a17e18e9bb74173fe4280ea017bce72afd3e2fd5c6e65e0796854c3551ceeb510c9c4aaea961f8039de418ecf592b6da4c20c3bf1d0070d41ae81e5e5c2d5b9aafc77d043d28acde1902ea946418bf632e2eea7070d50106c0fde0407c25c5d07532fdbb0e719b7a12722097ddf279e0403c9866acf858f958eb3a79cd18e17afe5de785c4f25896c6f5c6cbaa14e316c24788c53d7434c5064c21762b41ca5ac62c07a1886c3d8815e67b3f76656006b053fb3e44ba6dc4568a5586861034951309a7fd48165373310454e1bda4941a02833c696a932d29650100749c10f6385bbaddb79cb509f222fffe4ddee61e46d0a7bb202bb8f058eb89977b0120e121bef192a3a7752988068b0b1f93990f7be91946d20d114e8fbd60af33284aaaf4a64e543e6f7d82c237e89afa7ac97cdd910fcd07ca8bfa15616034c3075e5f7598f1c60f1c8ca169e004020d6448f26b7e6a23d568acbc5ed9a972746638b7f157e6fa2347942293df649092b433c5b06fe756a6b6ec1cc96428e423621bc781c4feea6ae4c8c13f1a5ff045f9078d7d6ef2294469ce425eb41e00279bda848fe0c0b855b50aea3f4fa2727db806f55fedfc9e675962d09a68f0c0fad9079bee39f8f7db946594a4f77ec70f845a873ae45011d93c97b1989e8943469e4fb0c33cdf8328c027605e5f64ff614e81a1ffe40a66418f2c979a5010172397aa7682209a4b7346ce7b240cc20e4c9636a0be9e3fdab5cd306fe2e8216beb179f33fcd24e400e99272fd498274fe3f8c146138286b3601b8bdcf908bc375c4779cd296a741574feefae3cc29a00217efcf55eb9f9991352190671faa0e7aec468026331d68daabb82040c354eff04eee621bbf25ad9c1442dfd2568443a32eb35a741f24a522995017f0f4c3431f22d26a5e91c956dace8e0f0877912e8794f2e2f460c1361cffb1940e8a53ceacaf6400cd8504123596a2c8a99b88156b62df46a553a5bc9377312c19961f3d9317226eefa2a66426d385553f5ac68bd2e5499836188980e24c90f5928b9a3924779dba3262dbf89efcf8859478ee2554f1c726a8371e36aee3c870ed7ecf4927911353e9b571ee4e97f71a9c07c5eece9bf4d5099a67a9a60e790dc618028a14b0ff95db09c446f114b0ca5caa8b64c774d0d4e164085b364518e86627ea3c8419745f6d88784420773637c89d38f6712c7c9b070d0c88ef331919dd7b6470fba3b457bea9ae86952c2a696802c38c79923c05c3f762055ed418877a26ed155cc8b5d83bb67e3285c266b8eabff36eb0fa3113d08b74f52e97ce9fcec038a0ba95471414353d3c458bb3852e4a3b09e7039de3c72170300e62c9d1521c7f491d9ece8f64e610b5dedf54500e50ae0d6a8d4467c2c23e42cdd3f9b11359379f554d2a5aa9e372a180cd2577b5af88a689d9a8898ed93bda51118742fb71fb6ffe2c9f92da5705d974bc8e5ecc7ce1100f5a918bc7aef225bd56ebfd3c23a1c22d88db692030d2789ed7a13f392fd5aebabe287affc0754b825b9f3b976bf06b5d5f5b51149b72f903d54a040c8612f7654136346ad3d818b0942e53e655514053f11610eb7ca062affb6d4138e8f365aaf474c591ed54254ebbaf25678f3632a423468360b3c898a3c8b80923f5845fafba1802da7fb58ebefe11a908060d12c8e326f4813e945e61648f5149e6a6189921b0f80f142eb8e7cdf64d6abad4292c63bf1b04705eedef0584ade5c13117d7250058600ab31b5ff71ee8dbd7ec782fff7a2a0f4efe58231cc784eb9c73d5855303559d61bb1e33d5e39efd451b8858ee242f39b6fbf3c7863fd7e3b85eb5d0e0acc85e2210387f92066920f7597d872042fde23ea821ecffbf0723df28748a4552481688cb84afb136e20546a8c04c6e6218d83731def90430683c142afee282df61023da0127d02dd187f7e31df752f4c77551f58a99ffdc84a95131d15158a1410830aca7750f8f6af0c920267be10c989e782fe0f39abb45c00998879ede26fead32e50af7de835da5473d4835d705e5f3be3978436ae4f3f0ebff8810324b21c819f7174d3fe1ec97dd231031e73d6975bd6e211d955ddfb44233c5b9addc210a067a07bfa092d8d4bcfcc3975a31817cfee2cb5ec463fab9688fb37c8f2367547c8e5737c82c06ba3ee549766528050b674629376bde553cb0f13864c03bf439660fce6a18fe93e847730428c66f49ece8ac4e22ddc01161046e85a5850413c0f5fbaa5399a9f2a6194859069fe29c29343943549d6fa673330e43a9a54ef38813faeb3636a371968677e549a60d810521eda906169da7df7c83bf78694509ae534014dba98bcd1f80c12b01eb8d2c6233b3083ea5cac560ed8fd243ad0688562ab59c318c8e5991f32ad090ab57a3191d666c7b463dbabadc1ec1195c6a8566772af6fa2c8af2c0b098806d0ba3cdc1fc1ba4e6ad340c59067322b02490e773d281491f742ae5728555d07f4d25910c0b3c5d748e5049a80b7c93662422182d4328cd2e187a6f55ed24d897580a38156c4adbb87fd806599c7911c8b0914b146ca35fdb04e7e32c12055116c01517865a0b12f0aaada6babeac04e00ef00b544ed3b3dd28abe45c2ea1cbf54b6ad01ba425b7df40162422b19c4f31d495903a28db5a5aa8417924248151b0194ee4fdb20847b0b6ed074ede3309d89e1c949050c6f442e9426cbaae85103b3ed47d18cb12e9c759eda45b627dd7ebcfa1979eca62b306147c13b46b08bd9fb67281b2323825e4737e0d298fd03b8d63bcd32f6391de3bb18d754e22792330ab12827f10107d95f83b268d61b36ee837faa3dc377af5726fe416873c9c14c4e569e8e48e17cd49a24777d327b4b5f91026fcf77cdd346fe56236c642194272143198f4a5af00942ab73a3c2574a6a079ce4ce4647576a0cb075ff15bdd529efc2b5eb8d23beff19f10f97895ffd6b21f66025be2fb691f4ef6ad1bdc85a5a506996692eb0affc25ead8460eca5995edc8347da689e57c1d0c4a87954d98ec9ce04e0e85aad35aecfccc40d06dd7699d3915b8687bcb5364996e94ea4b01eb2d74fd35e94565a39042656b6ff326b3bbb087803fa5ceffafe24c747db1c1d0c981bbbae7d1224a290a69cce577dfc512c807e18ad380267449f883b5c152f5e2c3c67418561424a3a5d5295f840ef1de79ab49df57c947d3b793e7e7221ed3d3cbac364ff8c6f6b96efbe6fa97606a17aa5e02c7ec96d52ad282f5861d64437d00fbeeb52963a13911b4426eb73d4cc5b706efe73b5ff5d3b114c505b3aece7822d3011af72b2d9bf07cec4ea9945d4022d2b64c264826eaee8e7af7935c92b6e4396965ded7f047ba18aa41316d0b706e880ceeca28b412c330fe2c816787c0f3e49483f112f2f2361b377a52751c61e22c4f0f43d2dd53b2f87980a2cca4a2fca099750a513eed8c111e4c7d608e8a70ea84442957f93ff54db37453ee57d5213179b3bd6f9da0bcff62afbab8632f76738e8c99cedb889f32917510afb52ff350df6d7f04f5305d24339a7cfce5a809e333e67dc6b0f29997f96287a7d834daa71ee36c0b8a67fe865a15d6bd19852a742d85472b9b7773286e25197d3ac1dd89c2392e662e253b3b2651e13952fe332c99f4fe24c4849f1c25cf43fe82d17c13abf77fa4c14d8131f099e028999d68479dbac89a762db3db048b98db9a74838a027b26f5387533806fd07bdec47ff67276da130c0a55668a614d3e8f1a37dd3bdacb520a1e844f6d71605054b0f0f5ac2ce9d1da53e82db0c94043cf3c37051478e93285bc790929950cad0d05ac6d5851300591b59876cf1b7eb16a10af3a498a42d0365f970e89730edc204ddee4d0ef6f078fefabbe4e8bcb5b4e46eabb424f26d94c9ebbebaa4c1ec0be46b9d386ba3803da9384d6200ffde5939fa927ca009598098ea39f6c5855317d4b8fd31b68510982b66e4ddf467581bd169f85d38058e83faecf659c437ad07a4893e31f5b8178ad68f707cb12e6f3f7dcf3b3f29121c54e488df26fe1672cf74d45e9be3a4d0b92c8cc39d578befece37fb10ae807c9f306a33f8de2d635dbb38e0dfa70facd0fb395fe2bf0deec4977ce9f9c402ba758d67c897cc963da896fc3d53b349d2a84a61003cbafc7540a258c278db7f3b2d1eb4ad2936321e01eccdfb22bb2b06b926466b1403f305f9e48af81308f64ed229e037510dad409e7ef537a3dad84fac68bac5b7047f3b8be2f8c191623f798bd07ec235bccf61577bcd94ce997d3caf562ff28bfd7e9685ffee1e0314f04ee8fd3e339c447e14295d60f23c05fd874e94a83ecf4e0d8970d4452c88478e092a9e558c7bc9f8777367e1713660193b77b8b2ed62e14c8f9b0c43a290f9c10481bd4163272ba6a20861144ef90021313657375be5420c7980724110e66f2532e593bdcdd468a319f9d309a5a3bf3e4f23c436de9afe6a06f3000baa57696056813ea43582b4604891dfab4699abb0b0ecb700a14e235a3e97972f53579cfa7fbf97d17aff77f81d4f9fdc4bcfc94a3dc9f89b5ed3b6d025e8ee75fce4ec5ae698f086ac8a10a7c2ed6f3ca50daa975f1e8dd96bab2ff092360465a13198fe479e338b6c6bbded3440a2c2a964dbb3153e70a22bdcc8c3996f6cb0ca4e9817162d735164ccc6bbede9a36c0a277807e208d54dbbbd26d50d877827c4b99ba3f78902d0fd0fcb660583d6742e3b00c6d2202fe409c4480bc2734b420be0ffe952c9df21ba389927a59f880ffb04cb46d070bd42f23014032107c466a64160b52b5b1fc7b08638db440856cbbdba114f4cf111c76e57ce3ab6f08a0f0495f1a77181567223f28d81c0ca811862a0b3004a8061016576d771928834445817af5ddbeed79d339a4c12795a0c78145c73ee5fcb1ec2a37696e956305a169d00bc15c9a268d762843b3c3befcec0933cb8a15337a3b49b73da8ea5e52200aa46bd44e833bf859be792436bf18ad7792021dad629d6a597f024e716f1ae3c35119416b1412fc2e939924a34630d91ddda4fcf9221ac8c2817df919bae7a22089e4d22b6fac4347fc8b4c302391063c64fd6a2cb9aa9ae78fcd19002715238ef2f0de7540bbb858b428810518e984ac73637e8f29d15400c5f7271815ed9c038a61ed3b8ee93bcc0f4601d1837d7f1e2bea0094e4402882f86069456a5fd031a0fb1f86e2bb5a686b4129630e5b5d3ae7cbf6c88ea4513519dcd5c260377b691505a0c8917a248e147946cc181c2a03d984e7a7b3d8b7ebc59e903625eea3f079b5e9fea0abeae2be75f952cbb80a051f13d44de10a343a20bc6ff554f06a01b612841a5784a329f7f0d7a2cd894673bbdc0322b6185c6e7a7c0175c6bebd8c22ca83c7b42ec46f2aa0c0b4210e5cd1dabeb982ad3999a3b284a73038f2e2f94b1a1663bf27cc840688c604e607fd2aa61a625efca4ff7492be3672596da2a5416685f8b0367620679c845ee307733cb94e976f802f8785521ef1ff6ebec5c065f3d4aef76a5942b3319a2dda7510f51ef4c307ac52105166a2d4eeb23c1a2b7271dcd1dce9c684ab19ce10ec33b1885a5bab57523696f0218fe6ba2979d4b14ac0177daa9b","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
