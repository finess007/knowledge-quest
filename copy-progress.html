<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"12a0f5ed403d37c2483d9de1ddf9bacf7aff30460e55ab7d0aa0ae90cb81340c0a79d6a1385d114871868358f7056b6c1ea8fdd7b2af21af50980745f0881800af4a7463f32646332cf31ef4c1475973c9e1b1dbbc53553a911812a07d729b4e730ffcb2dd67bfd3d5035c80c104656fc63608073c2998280d11c9b17d79734177e10b9c0aad05d4d753eb7faa744e5f817cc0d0faaaa3d5012def04307ec7ac9beb032011ede55780eb836ec7778262db765676b2c80840c26aa17c31662b290f865e0ffe9ef439a3d51a76bdbb2fd5ff359e253af727306db8bc4a829368222614694b66497fc24ad01e2b173d33f087e93e768f67ffcc98af9888889167b707986c2e92d203c938258effb1e9f6b00cd2bead56a4b2daff828ac3a117ff28a4128e69697b66848cdc833bfe5c96631e3defcb70adf7d1347c67f655c8ecfae78bebafacccd34f136d2ed3120f75606e5cf9b68d3dc14f2562c2967431f8af097b26584447193a24a5ed248279622551c6d3c80038113580186454e5e6c5472070c6b2f803a3bbb5734bafb9b53300f74235147d93e999a05dcd163a35b6e7f3b777ea18982b0c4155deed9379f4c1e6ebf472d3d05a079c08577379322ff4d5d9dbb0b895baa69fe3658baf025b14ea65dc13f503a933eed8e2d20981f17bbb595dfb560d837b356c59a3e88b19d8ba6b450406917aaa7879c60c011ed84717e4872bb0f92e0820e29246d02f663cae47682f8ec9ddacb571480f7cd4f18c4f3242aac8fe9a98b3c7129777a24daa40af3b33c0f925914b3a45f354aa67f25614a1451082ec85ef930a9176ccc4479cff54f5f74bd6bf5bb54d222e88b75aea89aa1387ad31d6043af32ff31807a78820edba140483121ead49e4d7a344c618caadd7d1c68e69998be94f71b27a22f0a75ed24b9cda9f792910242cd95fed9a9c2314d1c058efd32ec6b136784d45e82cb7cea63c9ed4f3b369e32e994b458a280248b277aeaffcd29981f501314d445543bd5bed8f4dd72cb39c53610a4a0534dd13d47df216fe8684bb4d5c3cefee6a6f74ddeeee5ddc74ea579004c5572415c431a93297c8430e479e782d1d8a656ac6180d2ad730a7679938744db10b482d15f1f48b0c6197c24963b684695698569c51ea0e94abc003fa44f33372ca6bec9c1b01e8e40d6a67f38804b3e87b0d9a54437f3ee425f24197d80dad10b2a15c7d783f6739d815e5b9491b650520df5f3c976cc5f2ca3e3f26e93fba4271ec8834f841ffabe1630b9293d06a242dced12598f984408907b47663749c20da97246c7526465032990a114e527c462dd20f727cdecd8edad3cbff7f02d70b7518a0a7bd99b13f3d1818510a80b0c6ecabf6053e0aff9d4f398d9c95de2cb6637d94ea3c4da285647401323da80c7288b957dd8b4388ea422ff55dc6e6aa2f916dbafb871af410b308bc3088f32f6a6453a8c90f0234c6c1d169c23f928ae8900f3f75ac751059d36fd6c9f213e49e03643da64708f10acda074228d1b324fd27f21a3d8c26ca4318a7cbbdc784077cbf78e5b0532c7b57abf660fa92d5b8bd89da9e876575bf7f01d76596602d2a24551ac148eaaf0b949e9107ebc96387f6cd807ed8c4d29064cba2559512ca5d4271b22d1dbe6b3040077b8e83aff6d7255cf686b700b1845b49a7dd726f7073fd8d6d695608eaa810e3c42b6aea5a15f73af961e818094f0a68b29c7ae12a0449dbf25304ce7128f742f417381c15014aea3e5709bb0e8c0adf825ded50bc84bd1c1d8290cf251e63d9f40f4debd35f3e9117016c4566c68fe5f3c77198dc147ad3d7a14677c595643935eb53cee7e5aac3a51600abbdb112e6ed1f071cd38d27d80cde7bcee08160a77b2ede55d9bd3a790a90445fd8f2794055a61677d130a5a050335a5e7f663d296f40822c053c47e497a4251bfe5b6b993b81f1bb6ec651fa55da8c27590bd28880768676d0077d67eeba193fea4299c123f3e7c6de6610e4e8eb9b3d27c6dfbaf95f66fbc0c3624f0f1b0834d1c72fe590d1afe90286d26e109b51b3d34c9d82d5629b5dfe07e368ae0e7d2cd631daca9910454cd86c46986b6ccaca79a315aef7c15686b9191455990f589dea8447cf3c22e5ab49890703ebecbcf3425c76c134f81977410edd94fbe0187969c50edc4d22e47d846150e636b7e94c0bbad0efc2124dc76558e600a8f7e6329323ae7ebcc861c07de42744c30a314ed390f6ca9f85a76904b977e130e86d96715cb90660ec2717bd655454901169bd878f3264a9571dd32cb185a0d4f6a796fdc12bd7e90a5cac085385408dbc9778249abc76d7302e34da5ed9277d1552b78b2f90cd7329ef52d1c8ffef4bfbbade4bfd074c4617bdc068fdacd567fa8709a2c72ea1dda94f2cacfef9ff152739a30c67e6b6fd7909cdbb6a682975f68e8a8b5b4923741a05827b6fd434fd86b426efc1641a339f32b3086272bbff9353d4a30a105d6aad905514a8178d782de658036a2bcaad22e8dbecc6a7fb4b108a30fb6e2a7b197a7514e81c550527e0e73b6762c161256ba916e05213bab48e03bd2add552b1922f55508126a622e3e64ad8ff8ebb0d49e76a12ca72090a4e3e5581b1d7b7296405a8aecf448150e571c068747f1741f1ff74ebf87bf6a86cf6ec7b2245b2df9064aeb871bec487ba1df3e58dea490fab2a5659a139867b451c81cd86471917111ecfd968ba15f0f5dd2be8c21a8b7e439307fe7275275278eeb1a8c7d69c58e8c6c537caeb91e0d31bf7dd86651584b326d37640c9566de650ef0a5483450b2092519a6facafd00918b788a5403d787270c71d19c9fe942b7154c61e92a4322a7f8ebf9a250dfedf13a2c54eafccda9f43f7166814ce3b9619b6ecc51f764040eebd05226b47703563d319d861efe00a2e276331303d0afb26b0c57bfd07d72c8868b05d29e638a271b3cbebccaa6ddaa28e96adcab83ff813c301596b2963154603b1e958fba95ac58dc2c239e85ea3729cd32d33c5f18b9799f21855bd179b675fc90b67e58ec2e5cf41616d21c4443aeb96e4fb31197095e31187bf32eb27eb572bc60ffaa30dc036f540c481e01668092d512babb7562de6b97188b7c6ded60a76d7550211c37808f5672d6891c76916934e24438686a4587a6c9f23dbcdf1a47c4a7b990e213a34ca35f213da24c6d431a59b5a84189093f05db093608bc831f1f01929c954bb64a077f504a1d8708765c7d8f9930109fbbe18bfba03806ef480bcf6cee6993cc26f74db70093486275c04662b10b7e07be3ac92699ed3eba79ab3bc957e94e7907ec05b40fc1ca4485cabc48bc65dbbdbd92436555f6c15b622552e9de08781e70880ee98e6132176d44f662c6f4f6b5745488e01ca60dcf7d4375468a91fa504ac23400d6be51d12559affef04f215ec9f4ec8b86f6f951f62fad0082c99fd444c71128076817dac4d60499dd87679f40063a50c2a631fe208e7fb2e190c90f9dc5249c5ff5f2141f1f8675dad76881b13c603f920e083a9e340da9b4b5b2420d01c00a4853b3d48f0de7c60995fc28d63506192ee307d351ed9d1a44763b2f6b390c0e8e0dbd11b022c1fb55f612019a2d8acfeb1cb041319a76c29a9ad7de7c6ae9327538ed2dcdeadead5f3fca00d79005da2ef4a658b51bdfe5533e27df21591cab4141c275a50e1f645298f1fdf005fd4d8c40f6199f8c757e258dabee1788e6ddfc8d223a51929f2677e0a9610269d5cd2e5df06c0c38590b40631d6f1c88141911a142f3eb5b8a13478185a10e6405898dbfa74a20a740d21e8caa3332296a39e5d5a4c1d298470287d15a1b563ab837883dcbd9e8330f486849f7ade10c1aacda57eb789ac95fef1f7e29d9b8b046053191e8faf388ddb16cca2ed0a8871a1d0929e650d2af6313d11863612f3d5960865b4944230babb2029e715e0a932ed7c8df376a15b9fc7bac4d2888525f462d68abaa5706b6ac7ad96231284278a77355e51f5850151c2700ce6f8f2328c0311990a8f09726b594a032d13d3682dfd4ebd218e4d011c52a05e1cf87d6be1407511ae569d0cba911a728b95577f4701d02ace5299f8e5e3b73f9300f210bd14ffd5da53d16b103b35f59554dca20aebd2c0aad269a5cc93dc43851af2eb35cae889b83c7ac7a644f2f99c3df374437a74f4f080b9b92cfc73d0265b1b2f28c8ccd65bfcc24f27caf0dac5f573942190f33f2261556d22852eb62b70727b29765d0b57d7f8b96c3dfdefdd5fbc3ed6f1db75df097c7d4d5b042d648911058a09ad0090db6adee7777a0f0aacf5e5a13d212127cfbc51d8b6433c7219957cc99937cb19147e64e33f59d4524c0b13a1f5180e12d961b0a0fb8f7f997309330b03b25ec42b52dd19224a2689a7814dfaf0b5085b77f31d2fc536028fd4bda7274fa7b86c14f69b27d76895aaaf5f2e4b363553fddb3e3d18bf3b472dc882fc101534a24ff8eafd22d745ac454ad3f5f3e9150bbe21d3c3132f7e1ee1aa0428b3a3715afdc9d0e9f0cfdf9668070803fbc97ba2ed35faf65a3377c2ffcd64bf4426480510603ec2033e3b0606a68d0b9740c6d7d77e27b5b0a0dc6d775335741f304c4701616ea6a87b6df3888f5334fb85eafb8064408961e2a3d548c801ab841d78133ee2d2782da99dbafbc4c0eb7fb44278f12c87969b28afd0605f25ed88d7071f3cd4ed46d0659599aa02441639450e466851c05328d61375439420719aa6ea1ae9406f908ca38b5b88e47f3a752a8f203c41df7d225c767210b462c98d3687c16f9abbc21b00c88824bc02100cdd43d614454dc0a81a4f15db04d57c9fe9574af8e74a463098a59ec188cc0c00d798e5c4e3c25089496ff2b12b832df7bcf7413fd543128130393d88036694136f5071a7f0b7b831921d1ddc586fd0669d787d124d81a301535082b0b28f9d0a7f1c29a76624eaff7451d250476892f5d1fcff651765c6894d94b7b9e42effc006f6da2c253c9b9ef151d9571e1bd93dba625c8f0a737b48a8da8d3bfad1ba1b41cc3880549011fdce774163c9426d699e74ec9ded5a2653bc00eb1472eb1cd7583634a287653b1c483a9db2cca661bff0baa17d88ff86afb7e0fa63881b94a3bf87ba5b3fb0bc920187568271d03d0b5600b13b778a8ed0b1451b0e0fc48da135d06047a3732f791b00287cb87ab80f7832a98fc1cb9f6f1984390fc3e6f1c056c98946193bd31278eda8f0b3c147227e1890563baab8d6b18b44e537be40d271ccce462b02217a823408ff20e9d4b20d6b7b9272cc8faaad93f8183a1e91bcd4f7266ef16e0d3f8f23c60d7e484792d9ee06b6994e78c1311bdacf81bbfdc305f2330af2824e2b9b01cae0eb0f7cb2e6090b29810310010ba95243aae0a7fc9d97b2db3080a6c53faad1a1b8c281541730113ea1878423b3a1d320a86ec6e6befdf156ae0a3f9d29065d1ecd4e453dd2feadd3e80af03439cb68e788eedce1a599fd77064d71b275845f0cb1525066f4eed7a2edbd08b23dc38fac31d4d8ffd1bbd483ae96bd0e2f2609d52d61dc18e4ed0daf05acc48902dbac920b70ee20943c5637a745a11cd5bb2b27480a09ff7a84865a9e21dc954f8da837c9dedb47b768d0fee93b482644de2c35030dd571686f913a97863fb4179ad8a58dbbff4cb94bf00b4eea318a9c2d55e494cd451c86cf1698ca36c1cfba9ba94fe5ae2fa151374fb382bf9d2cfe350ec1fce6600510f2306a3b2e3c5f6e13011f4c2527980f385373e213b2fd4445aa3a66d421575f51369c0f841b710e5700dbecaff3d1c085dd48fbb536b890528ebbec9e03c61198038f951162a6346b228d918ed0ba4f8cd425fcf7b7de2182c92abfdca70cd75e837647d0a3a3150e20639c1aaf62abf5bce6f2f431fb05e82a78d98af33c3f93626809b7ff845f9d91a4984a0fc6cc4ad1ce330d72f0fbe2713da2753fa46dc6f787d54a1fb25adcbdd1a81f9bc552fd72ba7081215819a6f241241f18cda4119c6d0fb50ee5be69174372212560e26d775c4441f84771b1461b3955f850bab747a87056d6500be73dd291acae4decd233acd7d7e4eef88b5e806458cb99639301566b97a1b6ac06a75cf848d508af3287c4d1b3e167dc19b6837a48c3495de284b04285e69bf7adda92d44c82370b1762945262f64e86b139fc1c12ba9498c2a4c17596ee7963e7f4bb84c2146df5937ae4447f9e1da1709e3dde51890e8291f5fb5011f09d773a02d341dac79faa3399f05d07469c6364575e8ce1ffc3a3a61e976c7eefc7ba21432626f4b53d7d6ce351adab16cc221a2d8163e878d00a4137ab40b20012f12d957df06b79f092d0b2bf4520cd2b283ec1e76b08070bc7e356c220ec299a52e54c9c399ab79dc3866a2c705f750e9d63cff2c0aa96505d5c78f1a2640e7ef20a286bbeb80411d66cdb7583c26892008f267b6eff528418a12f37f2375e5ce5696969db3e4bd18ec4af0b1f2352729760fe31fe298c432f7e279d8c71e222283440384348db070af8ac5df44df2ea9fe0f28ce7860a5962a4a6b544cc76c539b56572e86a8a3ad4d27a78c140b632d6c70c20198484121bd826ec3b6dad6c645901005ff16de9de4a800b390db314606b47031f761105bde3fe7bea594297b067d8edc9d53fe62b6b122eb3249c69caf14a0c5192896cfb5d622ef98f113010ecca2d28efa01d03e05a5acb408ca4c9befe966bb16a57768192f9bf836e6bcaed60aacea5d080b14482742c7e8b410fee52e9c796117413e6513503545110c7717d2f21b99df66dbb28f1fd7487e503e945dc9a65bf6572c60de23edf377f3dd8bf2dcd220817e16f012f51754f98e9106d5002e0b8f5cebce049ba49d37d817636bea05ebc224001a2c24804de9d5335efd0ab9506c2da0d0ae59b112fa049e4b8aa2804762d931d8bd87b85064f79dfc64d7366683fb2de1f81f3bf167e23769b56db1012e9127d3e331804dd808f4df2cf2ddef16154f6fd7f2e010f3b6cf84c6151ed7433b9616a0956e20fd02c4c11f0f8375c22090703d94714e0472147b85a7299acbe8cca72ade5d3cafd38ea377cbd8346517081aeb038a19c718ed5d47e1b8b7c39117df054e3da6c570190a4fd8abacef2dacd0e815bcf0c6a7ed434d61ecb2a1dd3965684e91b2efb068f4a55215b66e242a616277cd09bbe3eeb2c5fbcae9dd2e183c0b353382570b3fd9f453983d396b15f49b57bb4dcf86e9f7ed3e93f41cb71a3347d0aa2b51632ec2c25cf46ebcfc6ae80298513f208024003af068c1bd5a0f6a865d4da0f3eaa38c85945806f3db25d49753fb0bce71f8e4715faa8f920a8244990d91536827dc01845d9a43f770424bf5e444b50935ec5cf61efefbe9dc08495c57b15a75331dac5a766c78578d1dfb5b79cf5b7b154a3ef43967901c5e2c8de7bc193b44303cc072018fd067bf1fbaa84ba2f83616319b184ca1335732f1bf56feb9406a4167e8b61bd6c241f610334d9bc822b7dde962d6f24f716f30e4b896ff9787aa75ef8ca959e1247c9eb0594ad9cf20f81c79e4eb377f64293464103f97dabd1c813b3ab413ed5bdb0433c31ac7b8c555976c88b30c331f26469d4df56f98d3edce96229dea65e859d69a548d2dfe8aa9552a5878cff3849d26360d7ef9aed7e516cd6058c53c3b9e51318cb6feb840c379d4f667fa2ba5fca19dfc77de33338365bd68f30425ab19cb3f486bebd7048900cf3afff79b81a566c84e7a36b590411ef00a09ae9ecabef6b948e62f68db80b99516fb0985c9174a4b70db9d64f4271d08ee2521d3c521d30943d8c3ac26ab253bbfbf9dc688acba2bd7e375c3909dd09cae3f05e9cfd29df02064894f1a41212e50cdc86cf06803d6e0b50e0513fde5212d0628112aee4bd9e84f9073cae22e52a05206995338c3ef17b9886ddea509ce886cfbcc80e0971845ac965bb7b94b2c155d430eddbf232e3f0df9e90927511a8340056a763888781d76d3a6784ed101ca9afa041de5148b2733bd092c02cbdff4177f53fcb5a4544340cb28f8b4025698d68497dd7326ad9a03b80618541241cf429f22d3544450987dae15286ce81fd864026683c6a16faf4e69333903191cb8969765dfd72f15ed82a9fa22328176aa3c37d407852e8b7e62d867411b9c49cd2ab4dd12c79c6e67a1e419efb72e1dcb8e78f6c5ab3ebb69ea3fa564199e589c5e70481114a213e573172113c04662e0b0ab3636ce25af47e3b7a527df83c183753879646bff0b749898ef51ddfd1b6fc6ff94ba919749bccd796a61298907f0e48514e10ac572302a1581ca3adca1f23226a489a4945a489387472f5f4c816788c8d1627a0dc08a31c49640e3a0bbb0a146f25037f5d2ba4d24307c9c87aaa5f2f48bd864954dfdd6dd37cb1b1d500c44c9a5f0231587f77436206b73f3404b6a9936e43505dc21f820c26d16c34a0307128261d60b4848845f05e7960c6d9e0b723b31efdf9bc52dc8b539184a21da360474ea9d541c46082bf16ac806641943d93bfd264c97f52578ec39838721058ef6a946d1428a205645b1780ecb8f53aff08215c6d5ec1021080e95915687f79a144ee6cbf493598ee04e00d16525ba61de6146ae383c5461e66a30cc6be1ff57be5ed08eac2f0b162580af2207e92d5dc6cd23c290d4af9df3e3f44c0657efda11a49c1e36444b78de059625a406ffb0a94bce94aeffbcf76c7a31adef0bdf5a8a06ceb22b8a83f0a0ef7181ee134e6321af473e87a0af1780b64b8452e91ca64ed2e595052c83ad0de1269c6688e8e7605468f77524b1312202a36d4927a1323e3f1449d37037c965c3c07cddf5161384c483c4becc13eb1df5e0866110b2b3c430ee49a2cb2ddc787cf3893843c69cc1ae877a28bb8c6a1efee3275ca5e9729092523183a4901b736ffc2474b5cfaac68acddcb2cc71ab1bb52b2d4c30d38db152326de398c9d7d8ea101dc3c274ec57af62c3f9b167bb241eced8da401044ddd08621ccdee129c52b590a4c769614b840fd732412ccc927704c7bc2c37ba339585a3b8c732daed1588aa827a77e4d286d0ac1dd11244a8400b71646d753e4fbd4bc0035a75f47e0d65091ce09b5c3a094d590fde58ddcd74c72d42afe14998e4ff1efe2c79cf455b23f8894a01de9b371f92bc3fa388307557a3aaa7c25704aea9716322fca31aa494d3ecd960c0dad0cb1fcf5be222e527e7fa8b069ea730411595e3247a5745fd38a7f3648eb447b1c8a1285bacc6a51326aa89f2a71eed6482630d79cdad2744dbd98d9357fc3e98aecad84bb160b630024855b57d8c636ee14f0d6a13f7d592bceb97b909baeb4a9a5bb40625718aebff50c71efe0567e6f6d46a71d91d4cea1ce58a9d7e3ac1988efd7c08712f14e4f81e433801775bc876ada497129ad768a807adf1058e2b3d52f25d1b8445dc6769fc61195a1b2643f71a450b42c4d4ad50a9fc6bd2aeaa3d3bfebfd4e96fa5acb701c45ae219b1c0634253f161bdbee25869f8243ac5f6891b59416b4884c52abb151414652311294cd5fc2465449ba0d215aa3abf60c3d8bbde7760659c8c8af6d72afeef43cfa4144d99e01d7783aeef2d865e3bd328b9cad38104d7be467296442135ba1db7c273df2eb06564cdaa34e5c93690446ae4761cbdf1ea31a15dd8935a7bd91ca9e5e67b1bb8f82390503f658a12b7d859a3746a1093f94de46ed9860f56e3b036c75d7eaeefccdb8698a1e81331e61ce1e16628395fb2c7718d55276ad9417297ebf7fb45f597456862c69d1053b902584084e622d53f64ab700ccca4a03cbc016f6d94f5c1de63be2b7ffb51ebe0254c3cde36e4773210f728f314d4f0a279d61c8c8c667b46a5e9d68395e7288e04d35c33cc7391a9c49c53a0f469278370d23db46318f14c4f2ea6263e4d050edc3ee5a1389ccba52f1a99bae791b95ba4cd96f2a8cf06c0ba5a6ed2dfb86a52434abd127ce413b9dd0a9c1b9c2bed43ad823490e65efc04a7334fbaac175baad75b35c42ee0ee837a00b5fbf4b4f28ba48c010f1f9c711601989e448d793c6c9f88ba5d96fab6b196957e5d5f83bd31f262e9ad1413c538014ba48fcc613fb579ec231bf4cff78ca3d11baedc1bc03d732b85e5a43854543634e1dfecdd11cb8a2526035f4c18c7a740d7e8dd4e42b515146ebbcf74e5941f0a275550c6743451a70a15c36ac27a42332f7a317b3a13c4f529af5a8387fcf9b785e9659dc9573aa9a99a25481101be6e94b2384abdc7084337fc7cfad1925c874e743b4576a723d3f2f29ef9a966ecc1a2d45b6c94d2aafac2b6b9be62e3765282aa679676832f9f93895f3355d9387226cc206dbd0b67d450a291fa3c95d9bfc3b2043e73fd03a09165ec60c60a401b6da9cccddc0f0dad46527db779484907a20687d31023420ba5a7d625ba7b0f14d99f11cb2d82355fd4dfa1e5cf8a41af0682d9d6bca7a836d3562dc386bfb132e11d6b55784b2d4e672e734bbbf823e733ee7f7407da6a0ae62c5e7d0e461ddeed6dadb6ffb62a1dd9e11a5ce41ceaeec76bf0037cc1177075d6a91e4833ec1dcf0be618c223a485fc358fb22e5c43b05c935d5ef2c7bb31f605ae4361179cff5f03d3cde3cc7f52c5f5a7f8c2a6313da607c48916d9daf693cbb1182fb86c9427da582edf1755382e0b9988f07a5444279107c1bdc7713aae7eafd12ac7ea4b0e3c6ae6cd0d40b83b8ad2f573b6eabbf9503635bb622e37e240c1ca5784358e91dc2c4fa9e3d402544af8123343d630d8e0edfdb56c22b8dba4854ba3fa8e9cc7def35ab47e4c249a47363e0c1b0fe3c5bf7006cd5ad04e505f54c1061693db4cd7278829353b07c3c53001527f53674ab023e5cf8c72e85ef283e77ec5ffd542b818c79f4f49e94505187e0af2f7b6f7fa630f52c2db0308ed9527f4eeed0c5764eecd0874b498d7dece77b72d19228ae18c99c243e2a829b3a2373673b72f4b9ebcf8c6d511fb3fbc4c1c6472df6bbc28f543949f4582a4d392669c613c4d6bfe49f74f7f4dc95efe1efe656b839f72e8909854981941889d255e0d7896306e19ab6c929302a849f1cc6e8badf65972bc8d2781c17d5e2626bf7790f99a89baf287f3b92fba2c1c45004b8d6ec3c04fd7cc4a3f9d3d57e590392f9ae5d818ab4d1a74aff5c04870dea68be62bb380f10e086b53f94f2e7b4008683513810a1aad57c14b3e3e63f9466b62e3fd9208e01cd461eeaa6c88c8c4bb390b4acb0e2a634d14de870527203beec55cde365521ca842babe5c1cd8ac91a9681ae39c8c9d1bc6bfb528d1dec07d0ae2b40dad3859afc460f5f6ea64f824111bd2553d9f5845c6093f6dc5a2934750b3bbadef0252e0c6a9fa1e3ffc22c180ab0a31c29985fc66b9d4eef6a278fca1a5f8eb902143d6c4990061561829c959ffc13fb84346aad22e59578c80d7555c1a21944013f6ed708d6e2065887c73045db29b19ef975104c190a26b581db05431acda1a08aae20142ae49b6211c47ce4ba37f39a4bc0c032e67b2913bb5ddf07602aa12d24d5ec7903b35564faac6cc20528b338025c2e463b31eea1c8447c439a300e824db29220436b21e12ce2f6452c5b82dc7c673371c53dbb117027ddebf250a31debc28dfa9d6eba1690da25e7791a157c504f49444c28029bb4d1cb857d79bd1c6aba2ffeeafee173781021f1eb4e1c142fe47592e704b0a07dc497d01d8e41ed07e8aea1280870965b000f61246d35c75c2ff069a1eeb2a8877d493e1ff5d7cd45ac1954b1a78e10c897232208440bbc4c43a5ee9f0abe35c674de3ffe67f7e6527b78419d4b720bfacad61f95512915a9e0f671c65cb4c4d2721045392202b0773898668ef98a0a6ce83c16186bd6cdbb9674220844a0f12b198db501784450f77cabb1d57662f984cc2b20aba270c53d3ec97cc7a23adeb76577562f2c8c8b7a6e5530a1fade03f4a03f9e08e6d4e51a06c49d6114605027c1d918b3a66cdb0ab0f6f33676c13f7851fe957558c0f3644e221a00998eaf4f438635663164faf54af52466b2f901181a1e26a2a5a24bdb3d0d58f196646c6e02878a288223e64c650ca8075d1ac5a2d96ced6a76e42d2874cc9fb49d8e3db6837a639acc4fb4edde984bfc67fe18b106dd523883f84cdca67f3a4b8d68bc8319ae2a96cc04c226cedce63ccf2dd4d62b005845a90edab4fa53850908b28367e6f4361f8e9e5e2da0e88d391b8df8db765e1c3a6badef21c47ff6e4a1967e46cbe415ecfb19679c8d0fe368429c77afd35e32a5489da59a2a434c9c152c844e14dc2d833b4bf2469da2ab4f803ec15733811aa65a755d69474a3f34d19dfea78dd0efa46f8191713589549424dc3421dc3c580fcb434ec8de05408e2bd67df93033115f3144e6ab264588854d0d79fe84f758138b8882ea8c621ee050b9d19cc6a025a88a3d99551cd7e48bd2405ce94941f40ec340b4720e3106d9ef3a9cfba0eb7e92ba80bb8509cecb1673d88795f8a54dde52663de74d280ada56acd6cf3cd078319e30e34502c0bcd7710cd15d8e2f991f43e4308a5afea9ad26cf23d0d1c4eed73e6e04a8fedeb13dec30444a9907a01849b51bf49f5780051038793dfd10e246a7c39454538ef9328ea45aed015a6df894806bcff6754291e3f462da3aa251ae15c4df1e6a52eb9634a4bbfb275dc50c0315a82e3c95f9c925ff8f0b9d87d2e4d08ad9744f44316329b17f2c6de7c715f5265503184fdb77ff4e54ac6aa26fe0a65be19a5427ccd82fdd6d9e18b8737a4db82bb7600bf9a56e96284b0619e19e9a2249bba97dc3b5535690b709637e3b981880ddf58a4a11a77f3be502ca68a2c2ab326aeae160262af869a04e5bfeeef787856d42ee387b1016d069261a4c037ba11c92ccb9d941265882b9d058670636521c80bcbd3e3f798f70f8a31e9c00f6cefb946d5f383f85cb9d3bc18be727271c52884a46fa01cb1bb6ad4c9dffefcc861cd3a4f7de694a032f08601a81c098dda3cf9d7bd45782f61225df0226ff058f998923aa15d7ea7fe67d0e4d64d96294df1eca8b6ef80544863967aea48de253bab0c15c386d867a7b44cd6918756c37c36dbf8ba0a664a75eb7a79a5882d6a40f6730f03abf9d3a4b90715f9832100b3b56f7b995d0c9219a8a0634fa2c1279a44213aca68063ae888edd6d0eeecb7bfec6855bc1d3b664a0502f243b7143d853a1d5c20d14e7455de6af232b5023d250a38ded450a05350d64b8799b9e1851cc98c0ff4ec76f502c402aa6de573162268266e6d2bbb58c4324c653e949c27a6688e55bb09522829bf185fe0c6e37d705d3c161f18286a819da7f958af7b12c817049e5abdefbcba4bb8d5fa4adfaec71f3199d12b00a6a9ffb994c832c13c4c192a98819867b8698e6ad93bb5e2e88e958763ef3dac64f247bfe41b3d168fac41d4b829dfc855cde706f92fc1f9293f39e1186280dc813572597f44a4b2ee63261085d8f83873432302ec435394b82614a8cb692da2d815a136a033c60504698eca9f9f6a951208d6e2fb96b2502578e8f297a3121fb47d3d3cea49c8acd8e54425e59de75f56bca671d8d0279fa34e079d3ee3f9b2f1a474c1b23954e4457800cd9986dae8b09570575c4e273f9bada3a9e88d6b60cfcb29f6c0091fe4499d504fe7936684b9a9b2710ab1c5287cbbf29718010adbd5d47a1975a19ebbd24fef2fb55ed2dc0fd8cf4b4748be125f94de9ae0f91bf7162c4d0284417b920e3c8dfd411ad973035adc3fb0d54da14598a5f7af2904c00b24c04eb863ab0d374da4c6b6324996e8f8c9f05fd6a1e6b0b60d815b091676de5a8965304b1a4e200f9f49cec744e8b08baac7fccc4d286606a6ff4282901eef4c726246d55aee7a67a6eef95acec61bd9e9dfbfd9942e5275b83f6a0cf05274b8ac9948305d753ccbb917595f661fa5192053ec4beaba81e6f4fd632375291623caa0bf743cdf7c1ace402007176148b38e7150ac1522a7e12963ec6c8d6bce45f7d8b70ab3d4aabe6998fcddffaf7e37bc66fea9c5d807af3abc9ada35bba76a669d43e4ca781cbad0f43f4bee9369403a0e39abedfa024abffc926e6307e4cf46d8610d92f759d786a149ae0d58f9750ae5470c6452df85209e208fb5539cbfbe9958f1e5bfeb69c5daf49feed8cbde4c4f3d3eba85b42dfbfe214c7f5d2d72804618c012d44a51c918d0395d7554969626b13919bac94e0b32e61b9344499ad01884c08ae00b22ed2f16b2bcb06edc1486a8c7c68954782c0c842b61707ed349a56453f328afd4fe0c4f5bfd279b0d5e9aeb0757d93348d80adc6445e166fc894738889549b2e93db85b166d227e918e5750c5109a2ca8ce8e817e6744c155af712249c55df5827aa64d7702548f1c9ad049e7b3eabdcd90f53728643d4914da3d212036e391f600b2b147c32ad65fec9ce5ca903e05af437b70d19a65d29bf25dafeeb58881326b20e5268c50d864f2dd12a0cbfaaa66c38a573dcb25fcec1d5c2894b34f135d648e56c337ec0ce81b596fb6d124d206d030c2d73c52d80726367313de5677513b936289e67e17c845c7266de0e079601592435151c137fc7e7b58e048ffa73313b540839bd7c7e4719ea8d343c9568ec2aafded3776f26232eecbf3bc09df934bd145d6d1a51172129e89ec79df806e99159fbe8e7f92c34f201fd0cbc075e4ca7cb52b46386ec74489d91138e6a8569413a9df6c160ab4ebd16cf73eb2ea1f0a19b762f397e2ae32235d1a99f9b5ff9cf0df9bfe07d4b722cc534133dcf4b05c436bd8db534083636b3fece700d61211795dd104ff23fb21ca15b4b4f1edc3cd8d65d041d205a2f823ff1566b511624b5977cd87cbd92f8e6fce87cca3fb3fb78e0f3d9d15ae2f6bdf8cf5d082065b40f12fcb3ff890d34082470bdefcb75ecfd21c98c5ba8865ab7c47470e9c80079e3e1bd02eab788abd950b23085335b69920b9bed1bbf55eecf3c8710e560ce1ac79f683027765a337614010c36077deece7681fe3d0213d123e143eda60a4d1030ccd1dec274a3307ceccfa226226bcf3aeb564a9c5cf61b91d5dc23eec639cfb0e711346d0c103b1b32b12674f3f82cd2acbe077baede355ac275b755876acbbb886b95b7f3bf820b3e50881fd54f56e36ef37afe6bf40e0470b501bf6c3838d6245144e87f3c0ea48b9f3d964e186c8b123fb6dffc589f13704fa0034c286ae48dcc608e2f03c549686b23d8409f4f011b347af1e69a7435c51cd7a3440d6e20a1f42603b2bcd25b3b5126623dfe81c3ad77cf5e4aa239a98188603eeb2e188564d59787618d8bfefa0c32f436f0fb62870f9115899b88b82187256342fb6e299fc8353ad33ed2e7963e0c0cace29f073530ff6a884a44f6a4799a9ff85f2edc3bac48e383d403b19e9a1388394ad3838a7878895fa65bcbe2d95286ecc92545839e1fea6c7c4c78951bd0049a97d83919715d7d670d5a2a9d85958fbc00036e129b6ec147f3c4b7aa0a257dbe120fc6b8c75b4006d05e97747bf0e1d42130d696bf17d492707eb1bfd94c3b40bb8b6b54efaa77ffe10fe73fafa7d0259fe8a3588519ddf551c57d5d1b3dfcc15bfee81738ad786d907f4516559dcb018ac0ccb7715893b79765663f1c873300114427562acd15f81fdf156891485e4df1209985bb7c18e6b7c1b4c5245c8ab6edbcfc13623c5ae0b6ff923f1f74302eca288300b569d1f1f684f71eebcbc0f8068e34721fe90d25e886d59bd304cda2e0145bc3dc6b081b29a027d48a5be63ae71534d17f3e2475c2e56b8c7dfb1e84257268ad7ab991c356555ca7de815cfe718324b91bfc0b9589a963288a56fefd4b7df3492b390a8c3f3dd52ca860ed0d863d433029daff8749f22e283df5de3d0c039d87496dad2feaf32489481517387eee54657d480bef8b92e6c6e91a742e9721256a7a53846c5dfbb1953aa5ef415b6cec2a03fd853344dec930bcc5663842caf9a19e96dc57c31dbde127de3a294c5426fcc9426f2eaca935401e1f221cceeb54edc356097a015be3478d1fe7d060b5bb69aed5628a4a1ec88eb56036c7d573fb393f2df9b6fbc49bf7fb49fc3be0bfb3cd61486bfa090b694acea8bfe014204655ea908a4b6b993dd01b1eb837072e231a82c4f4854b5410e1da4f6e3ad9b542113626a505d8a6f18770d8622051ff472a063e96ab14c1beb493a3d4538e89bd1e7360c75b84a8527e5f182b859a6ee032d723da5b6543a6f1e6b58fd0bb888f27e5803a7ea15d28f79b40c420b29a1302dfaa117d71f42b5e88d78055184ea5319d25399cb95664d5d7781dbcee87ef75acb84bd997a2272bfc7fa923e319afa3e5b08f9d2f9ec016efbc5bb2f9623b2414d784eeaee8213f66d1f8983cec29394d40fd33a81ca508addfa8bec4a83f6fd9c1a1a54825e365fe9204a97b2a9488c4e6128e52f15cf55cd15f7c4bfbb875323e74bbe32aade984d56c4266cafd8ccb0a563711ec6f592add5c5c0df5d0e23eb04c67cb35ca420fb0fdb1349ed11ded05f2b81ce3162edde5bdda50e8cf0661811042f7370ce9d8496b03bf3759d08154e3471f1a148481280c4075f571c4c950586b013681c44341e1d35c5fc1fc228f235d49fb4364e402c9a3c717c353a141736ef6e0739df09c1b86f8b34161b0d17d9b547b3f043bfa0162d8329eb62274c1b3d756945478de2d365a402210344a7efc4e4ba552e7d50fd59c5a709878fe68d42a19cc15d778440fd9257bf8792120a135e74deb1496340b904e302a193c4c8b1886b658b1e919d8e39a248426ded269ce789f92e487e39c192293aa2261f347f3f52b85e11571d248b1f1fb8dde144c7c7ea20261c55f49a395ca1dff4cfc817cdfd7f6b666bc6216772fea444023b7313c2826280ea07a38e8cd5fc559e6d0890d1bc1bd4822c7122d2095c918d631dc3cab1fbc38418a2f2b0977067c14a0803d4ea672f66fe3ef0bd2539a098ee95fa178f09bdc39b730004012adc138a9b4fc18cc2ec2fd0cec8fc38ae76b2c65628b15afd5b43d67ed798c04a960ca0a1aa5a60dadcff0b11ed67030b30b4cd03c338d7a1b576eb332e911ee11a83063cdd401663f8107c7a462839fab6be87f6784e367a6ecd88e9dfc5c1381856ddf5f18ea1958c238e0608999839352bd767ed7720671bc9beba77376d136fde5d1f6b3ee5bc34366b7ff32de28a8d9f158ad43596ef1cdddfd874432a0a205ed4905368d0f4b50860de20167a56ead0262659a647d2953698b29780943c38947c1e9b8c09aef8e473e4a9fcd98dae98629a8c3bb127b6a26e9481b1486c644ea10fe8255493d3632b8117c6d8c6e0baa04d19e1bfae4497308acc807360298b0eb4a97a57f12f3a7589e599315354742b0f7eaee1453cf31ced16f2663ac0e595fd5b48541c5f52d9fc9062fc17d5faf03cb914bffaea0878f484e0cbe3657f37e49ca2882a92732d396a482a456071b816e61350fb98b28c4077b43ef2f71e119ecb1b4f97e69f1b19bef733f357b06fe4b61bdf335cec77998359831e423b6a308e7d25ac4c9d64f0f42e837c4c5e2529cc4a0208dd928854141958e260a96896e7093ad0b89cd1c39567fbb77015d83eea99ac7d0173fcdd4e36a2867d546441ee1bf7bd487442cd7fbf41c401c1db04e2f6387be67ed99affbeddf694c9df37ce3a8c5652c21fcdf07def295b4baa0e19e4e65eb983fe092bf36ed8a73193e5818acb811c7bfc619867c37af2f1044117d813192c92e84a9343f486b995615c77cbc5482b183062544d234b74bee1b2ea67cb37b5cbb6ded33942e334c718b3c75361ea19a086b7079108fc50e78297e326e365b063582fc195188a2a16cb5bff597abe4393105f85ca2020e717484c874e043323431cb0588c2e89e12be49af78fffee977a7526ba0040113c6b4a2162086678ca517481e1e4022eb45d37de463f028de11bcbdd6f39bed87f1c5a95c7b761c6b0db90f8fbf1b3195e2884e1ee184efdb0d08822c2dd4b630840407516b190d419d0403f12e7294e6df80594f3ad7c31a7a9a975b04f5faf75b5d414aa74e223eccf95bdfd7a3a139f1db3faf1db6ff7012f24fac2830b5f162b3c8c6f215b4ebd84a7c157a387f0b4956dc03b58a8278271915fe88500533554bd7a149a010c3b0ebd3904f3e9d3efb08552f22eb398ba6400b915ba1bba0d98535eb5c53203a7099e02637415ccd987509453320d7446685a7cf79e88cd3ee1690b9cbb60c2d03496b2889c077a1278e89ebcee87452efbede2e7f79c67ca88e641d6ec6b1d01138f216c992e6548e1a365cdd4d9211693a86f45217ae0d84b127bea55856e737c492d074651f111accdd35c6752ad5f4781be04fcd513945fda098ab8b132217be702e4ed51d36b03317e6061c08b0ff40cefa1840f73599d4e73140168b94f113dbc0cda095ab11253e998c86d720e1ea314e0229775f4ee45250ba1dade171a23bc4f5a95f2f9dacd0e7c065ab0650f7a1defc87137a15564e285c58c6bcad0f75bd4272ad57e2f6cdddf8ceea97b95099c990c52b94f91e844f140e77880dc12cb762e00ca25ca4f1cffc0ac2fb5cdd45df5046d11cfadad66520680fd504ccd69ce171d4a762f8f8cf84e6bd39e7458147afa99652c388922b68d53d628897b01903cb81f31e669e8032c13a76d823fb2a0cb35723391ab8be945e9eeedd2ac68209bdf750e523d7828182d5a37a09e27674abcd512a2208d9f0b8955194cc83af941bcd6a265c52ad86667e1aa8adc49aad53aea6df9c1f3513045e525748106d87a677e9dd182ca808c764c2e18234b28ba0aa37c20656a07986e30ebfb2c3702ccdbb4717fe04f88906a002e909a387dd5bda17ad5f319753de7989db346ad929a3d30088694419d91263aba4dc45fd0e3de750eace676c0eba203e5ee0f961d6faa9d3cdd34159a225a434a173222194e30503c07d2f9dc12d8ce288cccb1107b1f1b5cf5bf7fc29205651f9801a981840462a8dc4a56749cc013c3f82676405db9cc43d881452afcaa4b3d671ebe4e3b5c434e580691fdef69bd13e5d5d48899ed3643eedb1f9c2c7181052d908d8393eba7127de0ded819463fc4dc22220b53fb6eb613bfcd9c0a1c463837589be09e6b639eee433ce92190a4070bb96e24187a55d1235b9e59150911caba94322ff33333ff07183a32b75ee2eeb4b470232a9de671d26d44d60084fee81b8433eb2f37a80c51aab74c20beb085c6e81529280c59783fd9f35e78bbc071b5592d3dd438be5a7bd4a08f2ffd4418f6b29d449f34f297c7b99c68b008bd5e6d2697865ffa6a5a91a4b719ceabcf25825b9dddbd6d2fe47654e8271b3cd50a9c9998de3c017c9f924dc5baa6e575e4ba1105609320021c153fae09fae3e818a8d2cf56ea3e485c30101ef8677f99c0b07f65003089357b7c9703297b4c72d52cc8f2fed5d333ccc53884959303165df795ae26de5313622086bbc1f647d9c058ffc2b8a60b75389d71c0a7cc22461e18cf019692f927b2fb007f0c4b7dc85a4821ca1afab8513243555168e5d774eb2e8b0268a11bdc1db650fac2862d17acc1a3bc9146aabdf02d282d96ed97b4734d8b8231396ebba3a1426f309044e0b661c1dc2ac7298199624e0e1143b90f1029ce94a4e8d2701e57f73388b7a744f88fa5077277d610db79e91442f1d0821646762e6eaf66ac6da2e0d2ef8127640035dad1a8241efebe0f4de693f892bcf2182003383c870230ec2d84436b30fafa5c673212268540ff964eb6601edbd1dd5d48dba3d9a8953ae9d02570312113bef7687deb2f4df375162117a8a7def6e3f295071ff3e722780a844337df94284e4b53b1c30a10d0137ae9df90777c3a6ef190535b53d3d0532336f5f459e4882619d11a069b906c4c4fbbfac46f1d738e70cde4eee4a69d0a8e180763f71abd6eab24bffc3df7a599dab86630fd15c7cd983e5447027e501436fa79393607568666955d092b9d72fe4abb407728b23ec3e3295cd044a07022fe23db36fd6f2a2ff6ec0f7cb93be07287798cc826108cf35551c05ffef12337f8c5926eff316d3cd86a0457b6e333cd71654537e9263cfa24f10c31da8d3035a5d830cffadc2f6f313ce6cef5467ad3298e3404c1038291b1fca8814a99c632e121ee6325edb2fbafcea1294f0ce2e397f018792c8e8c7ecdcaf42123f2e3bd049b8c77ceea38fbddc1daf65f224511170756540cd9ecdb3b7d9477bd34ea28370a05db9eb4b554ace1a0d83707fbfa8ad1b81c3cce7bf415b0f493d3475537b2bbcdcf930b67de308daa892e43b587cad9a3103e0071df390e7196fcfa15516b593c9f5c46d80292fe1a5c59e3d121cca3e034b55a846dccf47f902bba5d20f3bba59439a573ca139112ebcdfbc04849ed023c07264e08cf6631bb7ab976eea8e762e840f0841e41468ef5a98921ebd28cfee8dbcd412b985158a9418f7ea39a22969c80de3cae8038a1ada2fdd71f5363f48a55f721538efca3969be9de84109278d1ecb7dd569217aed6b4b0a1da357be5961d1a93eb48eec8fdb4a7bd6b618403bae144654a3e8120354dc2165c9ca91522d7a35b53fc0c0bb75864aa0bed8e2edf99feb1d55001b8523983b5fc9484e355d22b2e2231181e808780656127c9a6c827cf7f8a6e0b5fe93a3777ce3ea7b497ff4377846dbbf943137471781bfc4966422a2be5cfb34943d34ce8e51e70d348eff8c5d6355b85d98b7b4f64386adb2a9d660076626ccc4f11183801f35b29b75e84d0e7ba5c4ff2524a74829978a47106080d6b8c680fac3af156c3d0872ae1ac104afaf727f4290aafc9c1d4ca3659feed6ddee212b2836e79c7ebb1022faf8e7bba65a845dc27a4c91d273f4325fa0ff7dcb52b5539a9532ef2e7593fb953297e3d68a630c153ed7491369c1a57541ffb2dd797b8c6a97df4f105c37c59d5f3c0ae9e87363ef733a913a3baf18f9b566bab4d9c33d2362ecfe2741e24a285fdc898c2b4d6655a50f1eaea56c3be203f05163af9ff63b34d1c56bf1fd4bf24c0cacd8c4030bd974ed3bd989791e8aed87dcb126a5a1bb1f0e448e73aa099444f10679820d22a394953ecbe047ab5079aebc5980ac3a345cbe07b3cb81f52f6ed4e806d9599e52eea05bc06df878e3aac34eccd6059881933cd20856a35aaaac84ca8c985936ead4721b8febeebf2abca129f91371675ebf094dd7a154a4887e79536c4954454e416fc9ae42649767fe8b3101beafce874d0fd276c950cc","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
