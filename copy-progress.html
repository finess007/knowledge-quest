<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"509e501fabdd521bf5180d8a1f64ccfcc333aa47f29e3e7ff7f3142cc7f38065f52725f76f178fc1978dfde6ba988273c394eeb43cf153bfe24fbbe07e8ff3c98690d636a0dee9317b74bd3c4c96e7eeab5d010866b96b6f453e9e4fc53d76728d4fb5e22d5b85fa3d3a26ba291bbd0ba5075da0d9332f8f3edfda658170464d597daea6a7f8ae836d1d5e03e87ed0b062a93b4fd89ba02633ac5456075634dd9d957b13d192ad5c7feb2004b4400552a8676bb9251a7179152239856a96d5679574f0d539d84650cb437726c6e9ed83f0c515f2e8f94eebbc47130822dc5e0c5d9777fb159acc063dda617ae1984909ea1b7d764466a66548e831531bf9c2b9ceb63522edfaf22a00d3a628820a4401e2e5fd3f63c7ddceffbd46c67232c4c7b0402847a3e2c74e487dfe31835e6cccb9092977b50b1305cad49935bf618e08ac69b9fe15ef5937186a10ff156045f33500502843563914b2f184e55cdc07ee74426bea98e3f7f1e82a41ecd064b5fb37a603d81c4249a873b31fa1d397558cfa772e035eab2b22565234bbe2f5e253652c7df0d18917295d1814e794cac327726c1b9d61acfcaf5e28cab924626f6d0766cb42af4b8b36a8a22be79dd80dad1f78effe168e2fb85cc31adea6d78d143e4674d955942aa31cdd6655a3c542aee130f9e342725da2c6ea344a9d46a8d963e8eb40041795b417d5e11d25d76177d319e914a07779f1f0e969eeab06f7d9267a45861c624caddd32c697dfc11c91955507e5558f06faad2b81cb5550866dcf09b5ec85e87a2ec1f847c3297304260eb1570b04718fdf906af58afa0377cc66cbceacf59f59b78592c26a1661cd12426f2d4b003cd3365bf912f2d137b1177a0d59e24a601fa71c848ca7142a9be4d83502dae6d3cdddd704709c9bd9ca42c5bd4f774d89ace7b33ea93edc1ecfbbb8a3077d79ac92cc9cd839399d062df316c5fffd9bf00a09d27fada757b5955389d93c1c0aaf7d8bdd3bcccdc2a52536dc755740ce14a8ef63806d2be9ef45919c037e74c68401c57631455e7c9f082bbf6fc923d795e329de0be20fef773eac506c3d804370531aa2218fb24d06c5677820adce5ca37e49d84471d8563525f16bf6e553bba904ec19dbb68e56d4c6deec43da5e034bbcb251305dc26be747b4be0e62521df16335b854d6e69dbb009d605714f160c37da33534551aa31ecbf39a404f65110698134651ee76da5b1681b866e4fca51f01516ccdc027e4e8a4239f30142067ee709d13523b523dacac1542c2e216735e9d177de7465760630fd9dca9ab04db1b8eee08522f2cc4df0d26a99c42a3054fb3616544f262c487b74f231905b4f26bd8f8bbf450865d31e6aad44bb58d884c929852dd57ada2e00d088cea49b0a564395acbbaa728e4a8edc92cf4635543036c2f3ebb2bfbe31cecd4e6ae855710c3896fa01150617a939966ba510a8370374e0c7c727229150dd7d61b87770d7d4a874be3c77fdc9ed81e9cffa1d601f79cffa5dd7c38e0b7808fd198f5cf7a1f656318ac7f1b36dc2576b53a13ea195edadfa4958d5dfbc08eb41305c7a4e7e623adedd7302364da7a004a3ec23e35c677612f96e64ae77e32681e846e320e387b7e7fe00df233d8640e5c6b2d11fe8596b1e5f22ce43a1d268d46649bddbfd8782d0965f38eba13415fc6d2e19420b2578315c32c977b0d25b1addc712b0266428668265e68e3a22aaba62c56565bf5c5876479dadde1b91a139657e94463bac5d42f817aec7dad7a0b2fc29971810182fffaf15ca501dba926b91f9734a4806ddc27ee2f2adea6cd42942d9d2fff1f6895a8aba3d010b7b6a0ac827fb46ef806788052ca9392a5b2d6604fb416200152dabc26aef1062c2ebb10932672872f77f5233f343680b4c2d44eba3b045ad55e16175898b71654b4c129065c0fa87dd2ef1e3d142d2655238f9e03b79ef368fac1a699f2f781cd6e6f9387c59fc2a833d56846cb3f197f2de9eec78e16e0b7c37d46d4f15e3da8da228153e62688ea2d7ed3a3501953927427d3f5efaac27d7767e8374d5e2bab06dcd883e833300be4fee75bc9e4f1b61c4e2f00bf3b458897d4e7d113b0cf212169278f273fd69edc02542d8adc07a916cd0999f343ddc1574c076be839573b13b1dd5ddba9acc2c2a4f4a1ded1e3766e997f8370064ae37f2a6f00dbf632630d2e82fc867cd2f3067e9a15852fc65620fed1cf9a8211dbea8e7bf26969baa7e892af64036b591b2c401d329dacdfc2f23c4933f696056acc212259eb67b0aad83b0708b3a7fdefe2e868a0559715c04ed01b352a08f230318c8ab20da7a43df7ef7232fd3b40b2cc6b4b86a3cca55ccab5eb485c73eaa8de3c6630ab6bcd987c5f989ec2e32513684738760a8791ebe01be4f0f648be3e2b4b141f7d241cc6e8c76ad285ade18a92bd0fe7fe95db00b44d6d8d60fca67627adaa51782b14135faebdde33cb4d48043f0cdf7fd2312d69574aaf1eeaa6ad85d54ac9fc10c3790ed923f49e03b31485f332ccbe3eca3a3d6b7284c49670e9589e14339f1878cb9cee2b6e785eb0d2bc5e40af8a3b2d6ac55202cdcb4bbac753f5951d756908acebeff3936816fa64392be21e5bd41c9f4e9282ce3c51a80c4782852b3dc88c4b4f852ae7148dc4808b76ca843291f429f5a4e927b8e0e12ac9a9f95a5d525875fa8d223142802ccf1f08903dbc4c33b31c0120238ef4ca7f021c2e3d91bc2e4d5cd1c47f242d8e4e33378499593ab115bdf78a92f9aa2e97b5507fa6ce3b3c056a9f4fb5e268d0e73a30177703fa616f10ba0311b4f1f937b9a24118b241171aef35149ce4e1031ae9a8774a0a5ddc4a82b16a5b935434c1d675bd83663dbafba51a16bbce4d72da1307b6cc46451b57ca8a3a0834ee8517d806944b0dea98fe0acb482a50619584b1ce29b91de8069fe3a4dd9812522482966d6ec4403cb400ef3e9ac6e721f5569736c5ba67a68ff99266d2a5aa6551d13f68cd41204b465789c11985d514263dacf14c13386317dd9afd3dddf2a0c2ccd21bcb758b684a0b2f8584f24800c768b0cebae69b199ec0c111eeace9657177b6fc8095ae18ae9d4c92fec63d6e3780a227310025be5c982e0ea38dcd77723e0a13a5e661cb35876797ae0ef828747e719d7665b7c1a364cc16691f2e5efa6fbae42981b6437bf89c141cdade6299ea6c8c7650a79b8e18cd07aaf11e899f770a76059991460160ec629753f48aab79ef8cac810264d1f8095baaf723ae63c0117b688b5af0928904d62acdd5bf2343cb1a02e7a2b46694a82d7db666900899580544082ddbbd37d00b887e1e82bfdce2426ce1858d1d0da243683c6020c0a4c1ecd750e62f6e4738f93f918215b8cbd9fdc23e8a954699902ecd4760c0aa8fc4de1bfa5d6e888effe10a59eeb0dea51ffef03937e276036227634b2e5936e8ae74420cbe32791a06b6caff68578e8103a6ab3d7318bf2fd5445979c0370a50f171535ece52611d015a1f663bfa7edaabb1623a2450ad55f16123060975d73b8279e0bad54a69fb6cfc7485df80394eddb3a5663136fed67dc4673f24ce30884482a36616aaaeae58ea317f3d9fbbc17dc3670089651de8748ec5b430f36b79cec81ba0fa1643d5e580aa4fa5127fc9b55f45ebae933a9041418c8b4d852d12abc5b73ace80f108c79ea059fcc6150107e10d4287ea318e62381991a04b15b2ecc89732e8cb970af5c1eb803b6062328fd2529fe1bb4467513304e76d43a2bfcbeae6bfe6a7625ef52ec8304ed59823048dcda8cb2ae5772901481e03b0c813a282bcbf4cb5d62407207e2a8599f97ea80c198c49186495301ac56b005b1a906601591e80f684e23e0c45fabc3feb722e8bde8e0e3f9ef485b9cd88d9c2e649a3bf50df5d2764596cf708281125940fdbe6099e33ce1fc427df939c85765b7a8075abb0094ff19a60a6e25d3dc0cfe0f821fa242caa884efad85e7c064d57c1eece0153dbc6ff42b9b8353bc03a3359b2f945c98c47957dc1dd8439dcdaf85a2190ceffd9e7face04db3f5ae1d10d4493e5a7f99a92f6d35ac0b748093fffd6d91329985a94c2fafde59456d5c0bb11e8a7315a723fae8ab5804d24271dead92d3a9b275b146dcc40e6f225aefa3147071a99f9e59cc9d8334d2bb0f9e9de0f9a4eb96dbce05032febe8e9987f33e22fbc9061f31b17e54a824000d7de788c61e304cab26e274bc80e6d0ebb6b7081f157262e92f3a6e0c370c68187f4c31014b7cbc395b322f144fb7fdf4573a0971f5da0c9475fdfe327c6f5f6008c4b60381e1d07db774b4f8da18bf4d89050e5199ebf3723b2096e9bf5eee78391adbad5be94eb52cd764313a89fd4dc2565f10ba21027963c87d767afd494ccf921dc4ee375f71e60b4f80543d6975176042730532b64feef5187d5ee9c0f81b9169552aa88f6f24e6566b9a0d8e876f7ec94174414947ca28cd6a5bb5d61cc490746438639565331b044067eade259e7ce18ee7978c172503a456a8c51fd0f98856d5ec18c30b5daa75155bf16eee458bcd864e1d1d6a7ecbef6c383bd945ae7c155ae580050304d8f06ec66e977a17540b92755f53a19a1cd1caaf4f6a213619f73d6c98da79eb7d08ce3a1e276e8cadbfb4207b1567ca4827ff3a7725f139ccf90425410093e5ba0dd00d03044fcea237996423ffc5b73e3750b3d7238db550d1729b27fa2ba6a6b443e6f02355660a0eb26b161db91a4e15dfb65a08c8c9a05506e785b0b83db634bcdee1d97726290848a28d1eef8d835c2f3c95fe4cf416a29a38a5be3abd7041eaa517f015bc9a189efffa77de565da24587b8ce80aed9592690a199ed56d5e7ef9ea1deb74fa884c6d7bea815ddbc956c5f2771bcece4a13ac9ff01fe26ea4514a6ae2e6f0695d09b9e7873d33a163b3804b48fd542080718231523ec40f8c5256573d70ae0078addb3dfaeb632fa4f62e66de71c0fd483b38e553e52caa9e717e3839158080571146a7a86872edbea781c41eea3755a59c7f16fb4ba093a1cd937830603c1830114c74118ba99e2d7c95dc4c59ae78c80c1b303a7e99d660df7cd81f8a0f722a861036c5054609732443a349f8c26efb07b9f3f22fa205a4995afd0d2bd1ca3be29b359f8fcb16c5ca9738d937a746582a577f5cc262111b9f8ae6c01ec14f95840bbf73c02ebaa7f8900f700ccef8452802d7bb75889e339d01958de956ee1f0042d48ddf114725338421e0bbcb3e7993475f6881ca7a7011a85a88e85665de2db9dfda304c993ed485ebe25fe9b94c12652bcae3109b13e9c4c33ad580ab7f3f40528401c0a2f2706fb13b99cb0186719d791233a96e63f316aa1ccad228478afab4120d022cb6825c2cd33605c2a0a1edd16b736b4631635aac048be47030e78a62c69c9d90a0083137c3cbbbc695261d6a92b9a1035cea429946b2c43ed4d1da2cf9ef37f2c747b15cf8b83e77752129bd0438e5d63bcbab45a57fd9c767334a16ebf691783495e23a4068cf1ecf75cf35e5d0383626f1b4abeb10d762126774c9614fde03609a1307e3b4d2f52efdcf9da1ae9b511df65525474a2197c1e9b07248b05ee6506452ce4bfb91736cb095ae6c17034d81d34dac3e76df474ff1b0ca85078eb4784e2c710d344e993cf2988f987f706d6b45eb6ea443b0bdeb288ba6f01417eddad605f30bd7cb836d5ac2cb0f8645483e85885330bd250ddd49d4cdd9bb098871fceab6ea27c3110b056fa38b61c6f9d018eceb870e5dfeca229073e3331ef9a321c6f7dbd74452367a9c59c5e366209d7dad86871d341f0bec2a484b3e72ae273be25c2218bdad90bf501c00061ff1419d9b08dc84144b73af339c35030b5eca30b513cdbe11373e47bb9fbd5cacbd2b3df6a44a67f68e07a8ddef329e36946e87fdd8a9e26920083035cf19e1eac97d82ff96177c6d971a4851b18051d676797b29ca5445cfb6ee0ddce8de59181c1dda3f1a0832373072d99ee2163ab60ec646f880dc1b97645ff0253648582671bf6dda5183b20ee08cad5907c6913856a688b1f66fa58cfcdb98ee40b26322025b8c81522d4d64519ca48f66c080aa8063ca17be979071258467c45e01db6e74ff42dffe1b173970d8b5b0d09b724d22847cc49d270e3b663ab7fff330aeeda7f7ce4a7b6e6982e7c457a1e72837a23222c84cf00e7204bf67d8a3d0334288281030e8e91cae2a2eb0f65dddc7a7ad0f9a7cfe68c8c2c9192f9a09ad89c602f64b9162a8836ac1bf7c8c59d44f30b036c6a6d48b900d5a9402ab24dd9a40004f90d8b9ee16c79b503388272bcf5c516d86aa1bbbde942ed4195fd9f5d48b35aaa58322f4b4d825223aee2ca746a84d06b422722bbea9f2d4d7145467ba62b26565617267fc1280ee2c091c0e14491b4b3b074160f1441c422c0c4393f928c98a84060e82b6894544dd8520b7028852162fed6acb0b812bd769b7c3d04f2fe42daede1b092005f94dc6b434d8efaa769fab7b0b23f4ee8e7a23207ad7c64ac4e5995be3ef582ee4a5630e395506ee525a359e57059b8ce1f15769facf170c35d4ab87b619c8c3d3a63e3629a58b65a0fb1b75af66333c23ac67306100457bc0cab6ed424f0b7031b69cb272a91e1f5ab675a2e458070f0501e5e2e3b68ab1d7425676fc80375ba67353185b4c73a3078dd48fb346ca438fe55e3f814d496f7b15e1c0070605a29e43148b3b585016df0f0da199c97c0b077121506156b1f66a8e5900caf7f58d373d8c290e29a106135a0e84b38c50e07407109653f2044429c83c39791707bb65feba589cd93fea3aa177de9399d3d75d74827f9b1ab8404381074fb255c022f664a96d8ac647ca93a85fb0a26d49ac184adfeafe5d47eb7cde529bc913008cde53a33661628698a557fcd13099ce94facb7c0257d3598daa2d0232b952bd5e3047d681b7f8a610dad3a076895ef1c3a732bc08277b7f9399a66432b6e35f3d7a9b4402a8a5af7f31f155ecb29b3e4f77e20e634aa0d5a201156610f0089ebe96c1cd3dd2aaf7452a112884d3f0a33e547bb0d5dc016a5ab9816f902b59e92b916b52fa1eaa5ceeb66a92ca0e1407c674ee317232afa16d443d03aa870336263b70b45ca2a358b17012e5c333d8b9d3792db8b1614e0934cabd2e6159b61218e77163e66e1358249d9c4ac391943f3d07312587cb402f4b2789c17385008abe7b14c37407a718634ea7f2d35985acb1d38b1ca2d90e45a65bae6571dcea9b7756b735952d437683b7d043d52b85c78100f908de8c35ffa41a0f9f4181d3f39a2b018145b46138d3b33318b37e0396b3abf30f5e80b19d06cd3875aaf1ed3fe2cbae08ca16c09c55e5d8e97726ab11a800ef435707eb2f08068796ce174ec30b8ebb0bdb1f81ae1e0af1c27139baf776a104812e4b4bd1fd08b4045abd827f181fff48461b7226836268b8519594e60dc5137aaf31b5f3d8470bd5ff3af054153ca5c59e670e80fa1623efeca5eb4a9078907f6683fd264dc95b2d934d41403da59c08a5b8c60edc4bbf1d6d3067db56d60f0a1555ecfc7131fdbf33f74da5a01a6293a798eb8c713e829476fc8e795ea19b4215bc0b2aca93ff71898ce347affa494be315ca31507076a19e2d25e734482b8057aa7f335bfeb7b716fb3bd378561d8626dcd43c81f7822fc72560ac7d8e6537036fb1db9aca503f44dd91542aa6cabd7e82556dcd446f9065299c28f9041fbf0d5602ea61b2aa3d9f56afb70cea58557ca65dbb4c799b0be3ccd5344fc757454bbba3e71b4440a65987caa7208e40029f68ad660ef22cd98f91bf8cf372095faa2c401755a5cd4ae31d81522cfb5c590a685fc7e1365b6b33b72f6d6a9e1d73aa587563fc8d52ddeeb54c6c4d0943af3b624822fbadb92c10345b9c6e6fb12be1bd2f50c31879e6f90ed626bbdea6417c26867418fcc7db4f715063b43e59974a8dde0bd7971446d65e4127025d57fb3b4f5b034296efdea1dbca73844470f0d64ae2c0f88f88434c5ef0714464090a76c622c80ef923bb3b4b7a5418ee02546afddc3de7d1ecb11b9acbf8f3bcbf6664f21050376094f13de88a66a6b9f49c39ab48a96a167a855313e61a57c62c7f5ca03cd58198c95e01984fc975990538ea430f154687ddb1b2dbe038519a4bf37a5288d3c1bf09635289d09cf7c223da2f93efe78b5422539cfd571ec2182a0ac1fd5a909e614230067bd789eb4650d1ffefd21619ddf5bc7e03fd4e3cbb3bc049e2be789a409b17ab56ca94bfdb6325cd0e9af9254cd44eb76ddfdb3075656461cccee34bd8718fa779d91d2d9652657196f46c7997bde35fd54509149b0adac3bcc45ccb9fb4766d5af10067816b557ac97735f1e4e82bab331917ed2cd135c4330871111b122c2820faa6fc1a7295533848bf9a20bd5fc332e1047143708aa128cfc6b74a4fc3e78f4ef7f7e7bca225d853767623e267b112e98018199af0c9cbb2851949b56f29f9f6d1a758a49d44eb110e5483d96ed73d726a7972069b8694f261a77bf2b173398a61c08df10dadc24d7064a4fcf352c0941c35a4aaf126ea54c73bfe084160085c95ff353c8850061d04b26630a5e33785ebd2c290b462e78b339759317bd13e56dda62e67f6e0d97e23f1392a7e0a0129d41a3f2a05e538c4dab512594dc153eb88f67a6eb8921b4dbd31d8649070bc5e33300def2368e1ba9f8a35c80715476f2bcd2428cea459f8fd8465650a1b8600e4af48101292a7ed675858b3c80f93211b1d91a23bc2c73210745dd1e4686186afd8fb3bcf9e29a996493fbed95b9d322949a42fa067e26fa1166ac17675967ca5201ae59858e7384ba71fab39c90f76a791a8445ba6c0e77d2d55f9889a364131b6a952337f994eb01aa934743e31a72159ad09001d8936ad70d5bd18fd45e85f056c3594dac9c745e46086dc8bb5cd72cb2dabeaa416d34304006383f279d5a2cce8653e914fa18e86c0caa9c374544ffc8776ed1d1800649c85b87f9c0ba17b67701a6444fadb5760b490b4c3a8d8a6f4d75ca2935ba007b3c05c38ab169854ab8b7144eb0b2aa39f0332a73140918d549fee87560d37f7bcfa2be7bfb3e338962b972f435fe8c57b0e1139e2e2594bb7b3ecb462fac7d7f9f44c97257949008e228e1bf3a77a3a28d220a3a3a3298880995780f23373f3a5ec0a9811b7e720e61d06c94cdafde4d3ba5bd7a481559943eb4755e01bb911cba8e0982051bdc6feb5b410e5b8e7426e40c3edebf2e4a0d070b0c0d773ac5ca5d561c68da933106d9086e74064b71555fbc02a2497f965ff774c235a7935d792c27dd338a7006c68fe2f18c82d5d53e796dde7c8d0621faa2c308805e3f021d56e5ce9c331c4222f7b00fdf52dee471ed565a22a8c1bc8661de8a3030bcab26f8e9278de1ebcc1cfa43f7fff571fd7f575f2c6c3ed2a5d171daadd651b0d63ea3a0d63d5d445629925f5f7ac1597f852f875f6d75b6186391b9dfe4911401330b057d0841f58776b7c17b74072008964f3d898765243bea2de797b3aca7d4643b27858b80b4b31a0709d1f3e9decfd75a22f3a526226b94c1478adeffe8d79789f7e6a5a81c36ece177c1fba0aa0336659f0aa4a9be2710936cc37610f5c7996fe0052f8e5698d0825dd9bb044f2daf29a6ce0b118044087d0405cfa85174bcdd6df62879850d177dbc75ec557b3b2d4ce2c097ac18c4b48e49129308a96ecdc99719dfd28e3f5f965e5b6d572914e46196e7705d361866b3c744f50fe1722788bd63e999b914e16efb34da41508060a6e699f00ebf97927ab4e96359b1ed40ed1d160134c0d7de720d6d064204a04406dd8fb9efa640b9cc98ab23aeee65b492f09fe9b55834fcaed0346e07bb1e94fb8ebb4b8add4f59372e1078e71f5ff2e86148ae66addd3d705783146cd05e1a4e40f9128721ee19cdc9ae094b9ca66b49c06fe971d0bc2b2a9257f875bf8f8012d5a38104db1c8c4a77859c7330fecb3c3f6989f3afa78082f6feb86a1a80b913907f04309d593bb1219beea690170f148b0292064c5b64158a1f1585ef46264b893817c927bdcb04efeea2452bddd66ff224b245ab2b5f92ecf923f9497904c0e989233794d7be3c1738ffa609b0573552428f3a5c219656d6941df60c48346b8b48f8ffb1209916c24988ac1773d5cfbdc6f02d94448a11bc703f0e56a536be66cfb349d7ee9016b5d4a0a83412ba9668dac45c7d2d1e5d43f391fc258decc604fde0c7c66b46c21ae504e4a972aaed6a1ece042e3c1d76e97b55c60ab2de3014efedeb589e45eea5aa19040d9f97d2f440884a349018c772919ede914895eb936068bc940d2f107b4cf08ea6c312e57cd8dee48a4430d1c7047cb1025106393b8e6621c0d9bd10917632810503a46d69d06e43cd5ad94ab26671a82d3f0af89e84a40e2b2cd6861bafffa6adbeed68086598521b1a67dfd549717252110d9236d08fe8fd3c4570ec5ba103435c5ac88989967143d321699d5aeab25b7206d84dbaea5254ced39075dd3785916109c62d1f5011a946a2535c1dc26978efaa8d09eebd6b9386bc30c298e847b35d0ef60efc2f8aec018a35b66fe5053afc291ecb6f930adf4baf3e661de232b2670dd20fdf9b6b91b5ac64e27e6729d1673c615d8ff1ec843e92df2bd52a7337ae1f3f6df566fe4128b10dae7a08ebae3988b44adb81e14810fc7b1cb0e035b6eec9bb37d544e444b0a768d97c9665f7675806c92979c1d65f8df91cf482e24877f13bf6875466d371ed65b98e1e71697664e8fa58f8ffd7909680113f830e6d85323921f73b63bb78b017ae926be00514892d85e0ea060e8d646631d748b15f21fc81cbaba56b5f7d17ae69136ad6eac10d557073cf29391e2d8d0f508f96518c778156c97140ab988f2d294f1eeb8a58cf84db194467e335bdb9be8eab013e5599e0c52581f06c7cc81227b8fcfa98842fa0a03a91444cb8fea29e91369c27cc9874f467573980c897b5777fb3db247a1b7f0c03cf34ea61b09b9b144dd64bae59ae4561957c53149560ef1708b8dd2807502c4219f3ea836d07493ac728736ae3aa898edf26fdcbf877c54234c4201d0a1afa30541ffd4e259d9f4a424dc0ae952455224189cc5beef6c518505b0cc16a9036f8a3c1bf90d511c4c9c743b6815cebcef0922f0f4c6124220762c6de6081bf49f8e80dbb218fedd175b145be6302b89d93da4998e60761afb238c3483803986b19a30aba0f258e442fe93e83830fc21078c09579004834454554b662687e6036b574df6b87a36e4121ec9aa0b7e533d16494bd9d77395611b8185ba18794b9530302d07842f202621c6d2fef75b9b8ab7c31ee35e1cd5320ddaab5237f8f04125da9a0c4629ee7e2d86d12d00547c34323a2484fda8dc8ad795302603c48ec37fa0a2d56c61ac7ebbe33c42764cd882716ebf04602a231d9c0699ea01346c660f2d37455b191f0d2cd1919d7576be634b153526f51756d396373160541b015caac4967e807401f4a32b0a99caf1f2147fff33c9d5648c73351194532833cd111371a7092f86de41d2b56613fde4c26ee9c4d35c260700b0977eb0275ab471e807a223b930cb61e05ed3b74f95231a76a8d8003175595015a01987aacdeac8280b4cb06112b619b19fb02232862954d70b780eb48677d954c57b9be802b7f57ddc8dd48eeb1bc168ee3d94d72854edceacd915f7e190f01378799c435b6125d2423b2ed71d68447ea67249da4adbc36664befce0542a416b20b37232b34a72bcbaf8e527c57428d9eeb63466492ea54525f29a6f03550c1b6373e0635bc4c024aa855b448671374f39ed174f55e2444ca99f6533dc4d96835af67b5148b00546444970b853d83c9ff88781a5a943fbe873d086980844b02b1fb0233969e8ee197fdf827799a39d0bafc003b1337f893086b046a15387be84e70ad5584326bc16effa4a3e6727149eb6d8c9059e1b861570ed661d1a7f8c4dd0db29a0090643240bd7355dab1110218baee50566736489f179236e18efb8e5b83cb74640721cde08c7d0308c94878cb9829716e3a6f15161503db4372cb80cebb5b72b04016d756588f8a2a8b1c5f9c923d7ad941b1e486ff464edc11d52083fdd13cd425585053bfddde89c72229dac58b97b101558d380f172f54ab0ab202c44e5d65aa19c04191678bff640017bdc3385a4d3199bdf05866e64ebe811c238592e66be842b15736a2e4c812f182358d75a82d88483776604fea7c4908b86b51a44f0cd59a733a750af5d84ce652adb5303184db58fb6085bf702ac67107ac6ebcc20e6a420ff5f25113775f0a5f2d8410115c5d1461ef946b6397ba6e1587e1f024e625a361d342c1efd232980bf40a25c0854438b610028eb584fb696b9ea28606fc45dbb0df67f747023a9ca68228f7058bf6fab992d2521e0407a74169f918b3708e9c62034bc23ad1269e4f03f51f1e8e4997533f598e05a47d64d8728fcdb73a09eb05ceeb130cfe26410ec1743bad1ad2d6cfb1cd3a36216bd8188d507e1d284bd13c18f23cedc9cd5958934e275d90101136f7a26dd8d157d209c274f92fcf67be3f7eb4559a26c368b4b8ac829e8dc6f2e92957b4294d2f811428c26ca7be96df1608a7ae0bd70c85d8d80f76c19fa05614fa8e9fa4a9eaaf2ff750a3c5ffa69e90d3b84a4ab024fc2298e54585fc81b50392f77ae751cb0a3a85bd3c729a4e386d8684653f4ccac206d2300475e23cc23c588bb72a414c5710750c6c60888be2d6d55419de65baada69fbe5e8cfcd569cfb9691403d402f2642cd9d737a01db3bddebe57dfa9ce356a5ab6ef2315bee7e328122edb53141f9eb7e7c8cc9e07d4496d335a9b8b5c6753da60b8b871687921ba0ca41c2cbb8fe0fca3c47eef6913cb8337ef5b7413e413aa6c1ee70de51c089814172e40fd1257ea071615a0ca8750baf5fafbf65de8361a2f51953d559e009d3c088bb867b2ab1c7cf30cc6547e0a399cc6af87537db272d52c33d1cee348bcda85a8b4ed108cbff98d1e9aac7183d7f6be2f2a7016d06800c909cb7eda8417015bf6ed1388ce67bcb2861e8132b31cc2175aff614f23fa4a9f4d2ef36a18427dd4f724092d81db63273873f88efc3d450d68b0f4ec1b5ac60eddb402707c9324e49fae5dcbf97c98d9529334f9b8a6680d16b308fdf5d2164cda9ad85f1a247dee43ac47e2a1c88c6b71c15065218dcb64f5f6de9e0c7f66c3ffc06c8574e6eb5201f27af14a4ead0791dcdcae3290626e6de5493549d63d5934414e7dd9f981ae8e5bf9771416eddbe138b2284613da66b1af53998f04bfb2ff54beae5710562657bae6461f1d5844399803af13f5b2bef390a029733759a779d3b1caeff6098ede3b2bd3d29080027662ec30cb2a9560883d8d16291536840094f7756ab968ede8c9b786bdfa8d98a119a74518605def4cb8cbd9d3c5598217a478d12f3d1528b31c78de4e9bc4ed883c8b209138fcfc533863aa1f7a52f0e9d9c2e67ac260ef7a2a884e1b186951231078fd5f3ec406d538f4ee0bd81487b405123c1533272e44c931fa7844083e8b9871d5c7e4b958e93a948d5a3773bc57f40548b87e63abfaf58c835c605bce4d2920210f416a2f96c0810a237ba6c1df678bafa95a952667117bde5f36a84156c10f7e48a6513578bdeb523fa1dd382f4c1213ecf7e5071595ef715b914a85dd4d52df2b729c56f0b97085314d516af678cf5bf03c73ae62908c75e30b20cefe525e7ac86b48f735ecf9b987f872de6d27d9489f3636a1f3d1937722ba9f6c7cf0d8e3358257290184e822a315aaf37f49cff7bbd6e96227a15878f17468b3229d5d179f4400326350fb86afbb2d6048e9ee1d6629902e7dab51cf10518fcc2eca14da8141451f75671d303875e13d854e1891ba0c4e2413c8a6d88abf32f308eef3938cc3a573ff1d34d3dc6b417b5b2e6efc61b195442b4ab8200cf41c2786e7c60d1e3c0f4c5ec3f18dbb006710c010bbcf4e40ae9dd5dc7dc5cf54b767a44b2599e558808a7e15ad3d60eb84f8736e9a9e5e26c188bee8912cfdbe4a57eebb25102794f91c34771058f0f44b81e900d9591d86f5bd59625ba2bde2015488f1b1531c6c73dafdd26d8bf691149d18698ca1a3ca78f8c0587847bff60050a447cc0e9a882ceabc71abceb61944c7494ab830a89451f0486e28bdef202c518a7e985339df9353b84cc0716d62f478187a7d873d34378cba52c5c8234cbb80090ee83e223e6e5965d4548b0e3c5df3eb67172f53e75f83c1727fea791c865d5641acd2a3b045e85cb524734c03340380cf6fb917f2a00e99b58362e37b30f52b7092059bae9d520a0fa1b656afb555755c53243d127893c836d49cb4a12ce686d0364fce60171df508c0791bc74396264cfc5e539bd4f7713d4e300e0a864cd2b592b0b54c5c8b88b6c5f97f2b2f96ad8a355645ab892ae351bf5f8d79a634cf828a9022d8c5117ad9e6865cece89982956726e2c685ebe8aa64dbc67039d6bdb162a0190ff68f758edf6fcd1aed375b5d4448f0e727755494d493efb34fd6a77141a281a2d16bb5df7e466d143be8f18f2e8f33ef2fd3083a36b954dc8bc71c11c5f1614a627bbcb460798b67758236611a3d491c5835c049ef318f5641607e343a429deeb9cc43364a13b405aa6aa436e8bde8b37cff88e34bd0e74b5109c8af894547c813c6ab301825e14b6a2c4514f219e24cd42869cd4470c7b055b0bf48717cd2d4ffb2514c7cb1184b0b24e12f8eb8ab87e78c07e26d2c89114eab227f3c14a8836c8c71cb1fa54b5bfe2ff2ebd1e8f1f55f9e7cc84759fcf7c4d1979ecba18ad1b2fabd261e44c82bb1e098ae36311caa705d3bd0f33ad5037c405af7a60e50a177657d4c5ddedf141900c2e51137b5e107ecc04a13a798514ba9da61e02f38aab574a5298c99380df7fec076df53c184db77fc4c11a546a4fce48788cc2b3fa79fbccf08469c3a1e836d2f70dcf466035831c3384e7188188a796f3683473867742d1742436d1ab1758f100881e41f91c062f1246864a01e7213f0aac4e4dcd09efdd22f7cbf6a625e8b03cfde3ea4fe6340aa331e42fe6c5212b8591b61253b0a0c17f79f4cbe965b638c89e4e45de829fdc7d185cc6a7802f6e0cabefaecc8ea13e19a2d5a2f0646304d4397c24db64ae18831f27eb1685821df5275f7f95d07f47c8c8978d450047c3c987b13a59f6856be721cdd57ecc05ab7e61c67b6e72b922ba49313cb7da50e3a32518f5172e77341a926e8e99475659c550875d8855fec1053bb337d04258f955464019834aaab24ec0dd955d667a568de0e338db88a84fafd545fe5bbf9a7bb8258669071856583c707df2eaae7ae74c8a82f77c04e612367b0ce1a561f6261dcbd0a2dfd5a4b4512a954bff07e93578aeed62619dec2b907d607b65d3b9efb998b8244bbdb91e5a1fe7b0569bffaea44506a983127d4f1d8734101794588b769c844d02f07172af2ef4c7ea677e29309661d165306ac0ff923a4f41a7abb8528ef60a07c7ded6075e58a86fb091f969676ceb5fd47c585b17ee9984b93684487c27e8746e720f5cdaf7c77900dc861df2a2100f506c63d1b3480cf93db10c1fdf272ee72c0d7f2065522721201ee85d9ac8a050cb30de936a675804fc486bbc3852d852a79609ce62aecddada714479bdda9e00b4c5138ebe577fa1451afff514670fdd91a26d9e4437ae6408f238b952d4b4c05dbdec3b1241c57aa35c69f5acc91f869cbc71f8ee68aef8bf320ea489756c0b7dbe6502d899c1027392d0925cc883237474b49dbe65421d7047e127023213b5cb6c181f87a5915f3114aa9d101ec4339cf9c303c562cfaf2a029a7c6915f97e6ba9aa56c2f762c546e25265fbbb114a1b279a8e2e6ba6a51abb8e62d1ce7642de797ca48aa1c278c67cc51e94c4f455b2a911c14187ba153623636e829ac547a8622ca254dc79567931b088102673b116103057b06ae847f70755111b313ef48e300f0e17a79d55c38fcf8e65df9e6c52d5205ba6f9f05d92b41a82c6d20b27d1f99ebab5ff8387435619c49c2b2fa4145283ddc6a573e07c1489758262da204b01effb12717ab2223b9b6a705c24fcfe6df5ead0f08a42fc8182fe86e80772423160222af4cab6d1ef738f9cb84b4ac4df1cd44e9ff5f31ed213d05038b23d5a7805c2a11a3854ce431e635a82ef9974cce4313a7e22bea643d8e14b18cc75ca31d7972f0a807deacb04d43e8302397e55cbc2fafb1a0b7c52bea0e5e183fc5242287e99c3305a5bde1eed5370c8c9ac00f1d539cc12e1b215a244ac1e15ace912955a77113a128ef70684cefacdd76fa849275ce27a5adec95e1c4138b10bf5ebcfcc0f70e1d9f72aeec290476cd3af0b9192e41ac4df01e1cc20ebb851339a07bbc176c74bb126cbf114718500f51bf3f21efb74afe47ee0b63823e918ad0b3da1a09aa1199864cdaba1e3cae6e5c391907b9eb09e660ae11cbd865d3b6385c15ff402555b920aba804163b6a7a580251db90cccf2b0f6610529f11c4ae991337d9ec1a3719f75978f3103603753496e11f1f331b0fe439f00b0d34e461d29dfe363dfeb396ec6e36bfb8099605605ccde4270c8794cc33255769a6c3e47625bc634a1f08b78ae0b27c399846d9c12e7893b5852f06a956f08cf94298cee7647ed44f74abcc66b233dc91f4c5de9522f3ca2378be71fa4042cff217d1f17b7954c6f283205672309ba0e732c88acb37732e2b9a21a76ae48d6ac846f924a7a214451704d395d435c4485284cea72094ddccefb2ed45836938370daa74cd8b211081a51484804fb15220e3c6998483178bd9499cbb12fc58b1b43bb22ce749d9d813382e67cf8f395ba72438cdfc4fd4a8bb90a08892c291f1d30f6c84c6d15b960044714ab33ccd2830c0e3f711c8098c8e26aeb6a6f15568a29ab701c80bd93529bc0b528372f41d56d4660ae925a086451e7fea5708771284e430971fe5402a95ed798afa635b34614ca2ce1a94c966bd2856ae0d7e071e54b7796d396ef9cc635c5bcd1996a870bda169315fd879a08047c0700cf6beec2d3cbf5a71f56ebce5ac7098a4309a90f50f2de0afd555126613b3b88f85e0a86e15f46c1aae3ab78ee3261d38cc23e8c0fd8d612fda6eff11044a2320e2040a524662bf24a7bc317ca11eceec73bffa9d34291a53f60aa1acc5cac3a0aedefd9acc35b7d67e8bab75eb59a296b97afcc1a068781993ef8855a3b16b3bcaa3e638840a6b8b270ed300e404437a95946e6cd2f559059115cfae5cfcf51654ce57b9e552b4ea1538418553e1112dcf277945771ffdcd1fdce724fad10a82ec8661a446b9f3e591679a26e6062bd14b14a80cbccc41cbf9fe72e9884e54323c9f9a1f6332db100f12f9d882f212657762cf25327b3159c686619a2a0bd2ebfb24e60f88f21a2e1522712fca0c3c6f82bbf0aeb1204e4651e06176fe23c40bff2cb9cea7f2df5f9b5491ae13cb66132e2dfe414819916b327b6175665889dbdfe42b2a18a5f95974f73571200186324937fe3f6a4da3899e6e7e29092df3db647a561f76f165af378cc0be7d713bbd66aa23463410bf2d120188484626ffc389a8a7e010c51035e0d1530b2e3fa47e7212893cda7d72d0b6653bc72270539e76a81b0641484f1536bd746e741ed90da13ed5e76a0ed69d15a5128406b38e089fec3472d25dff56e2bdb529ec59e34d622b92b1e32f5a06f651caf5d7aba894721b5efd483ca9cb3208f93ed82cc001ffc0c6efa0519f9ab39a06496cd54f7cbe689ce387ddea93222822f172c4a2a75cb39a3204f6118257de980d0d7ff2d3afe61b87265164ae06484d0526a2c50d158d903498fac3e5b54c0c9392eb85b342a163a627f4df035e985f2d665522a6cb0f5c62b37d0579d3d9bb2209d060334f78ca41478095c9e511fe0f11dd31e2f96e7352358491043722492e46352ced7f2cbbbd73b37f6c9bd139bffab57cc96ef2b6d57e1356e3b16af0858170d1a44dcb73b395ed6cf9f0163ee7a78e06c4555937997c621a6e37f610dbfb13c85fc7aa5604d4c3e4e9b049e2e89443700bfcaa784a63e2c9d1194e1831c4dbd57b95ec97daf869e6bb3ba9dcd32c4c122a9364c5cb0577a88225141eb524cddc93c83038a039397bfe6263d7f2b0a9ad715656e08044e4fbc2107859d3913f3fcf0c6b6abe7f98805c2fcd9b4f0f48d80c283b57c94550d673cda89abcd702bc0ba135854dcf3b7d146d3eddd7e85c38233fb15f557945de60bd629fbbb49645fe66591be549b050318f40f113e79c246352e74fcb9b091ac5f07c52ef0607c690aee4692bce7d5a6236832f20ffd478191e100175244a7c0a86869c3c392f22cefd1a11fc5b5692cfefa2b686e47c28c9b86764eb534fd8de27a57fac202fe473dd40e9a93c23312e6d0ccc31063fc9469340ea7f592dcfcbcb8c0d9e7edf3201dd995ca4f83c3f47fc80b9c2273b147e923d3737193856f1e7694256f3b08849061ad011b87e71a040064ece2e5d5ddc6b82ca9e865eeb96e2d1f13e72ae5f8f77d051cd5f9767985f9559e15a6c035573234e26c21c2425d67ec1c671b2ee469df8195e0270ab03bedd8eb98077ac2d90010256bd72debed05fb5873454668b7db2c9383156f66a187ef0f3552e10d4ae89f5a847afefccef0fd8628d97b8d9f47246ccbd6958c948cf46fe031554432c8f79b75ca4a08c767de73367649b237b6a5b9eb793573cfc5ae4b8f283f052ebd07eecb6d163ee51a4d9b857c60970f079cc8e9217ff1f91557679f0a69aec3a13e0935f4709ac974de5d2f68690afc6072fedbd1cf390be4dc612beaf551e075676b2e0482578b6f30b5c7d890ed9a169572eee20728ce177992ed4ee6eb268fac636d4ef7cb28399d13ab54616b4b596a12df89a0cde6d9b74672636418c90c84aa39de2adc59fe2b281f6178f56b283385b9aa0011484e101fc4e818d64821584aa9f2e1129690da45c774ec51c5414323df9cd295c26adbda63cbb42da91426a270e5b3bb18214bd27dff2a9f7e3ac311e73b5f414a7336bc2eee58884ffb7fc6c19bc717b54efa3f9b93add8346460164943c2d54246572f80ca841f56cdff4dc362ad4038a4096aa0056b6a0334cbc3ed04d1b5978cdd6837050ee04d7ea6585725b022fc0e0962fe1ee25e316697011d4f57ace92df38b69d6eaf47c77bd6bba3c30db938f9606bf4a705fbdb8e4021724ebcc9609ec6df43cca7930060878109f2d371006d61d67a124e9aeafc70fe22af26be48bff55cd824d8a2c1559e525e0a7f29376f6637c756129b211b4f6eb1ac505de15dc85795e55f9713ca261220b1c5005f82d27f63b7c9d74acc58d2abac71c3712c8650dcad5199f81a5eafd703a45afbb713bad8bf23aa88e6731ef01adc9d651ebb3008f9b531541329fef7a9030fde28d2e135baac9146917e78d3d6dc3d06bb9ed68eb4aae069e0611278935c469d943d79c8456d2e8fb1db5bf4ddf1c19d37455fa8084422ee151f7530f3a193afb8e314795e03d63ddcf87a54f8a50c16411d09b31597004437c4d93238763151f0618e1270fe75d9a2d491d7af05e7a9aecd0b19dd6b92d48de0b8f06b993a6be5744e37c9de9217e9eddc879df02315ae382c1a41ef892b18133e6d4abc55a26062fe3c113f3c1fa1fc8375f980eb524d693f970eb22c63c1e22734d64e4c2212586f55ace1f8b1fd533cd74702a86c62f314e89c7b2f0132e16fc224c251ff865eea71bda1c88785464be1849eeb4dff89700b855671fed9af491a84b07b47c560bb59841903a4ca4073cd65fd941f7b8100719420167838a110a9d2c56dd91ab613f3190bd3c8f6998b0f6bf433cbbf81b050e150d639db2a90b5bef8788bc60fed2532a64243f17d62af385dcbb6eebd1afadc278f0bac12b02cf2fd25aa071edbf2a7c63d1e675537dc76bd0806a0788d022b283b35dd62b627dd6321a2771e306ef993faab4518e8fcb52ec049f2d26094dc4afd5084e58a776c9a09247bb4b369dc2e749190214c0d075ade46e7dac49650f4c9665767b1d6d3a321b06fa6a5f3963e0357dc5ac9d9659f088ef9e9a2d2daa40fb50844a9d2878d35f87298eed13874e29efce1c1785adc86fe8e7c8cf13bac6b23b747c41046835e55bcabecb4c0f0935148fdfa624206ef1092367f435f4d5e1291eff936da22ab3dcf786f6440231a5b279db2138b33361cb119394fa12908043b0412aed638a9d1299e3e1e797a6abbad7a0ab3b0bdf3e450f4d790acb66b968a5a6fc2c8f24151d65ab90947ddcd0d63d7b08e4404417786b19d657787a55029d33854afff349fa58b4e598e813fc2ce5da07b90ef927ebc300739fda24273a99e2936e38bec3f3551032eb28a1e08fe91e803fce8cb74f3c4e30ca4463f3e4cfef98b04d98fd018ded809b9c5ade1df9c499c4e4a8abfdfc54c50a04c45d8644d0c371c8e7f2cbcebdcd88c253dea5e2c4ee332143e64392828ecc3a59ecf4ae5b5ea8c94f38b66fd3df5a6284a2466bc1099cbe5db6ee2fee13bc7c4ee3318eddb344e1e128fb3fbcae098fd22fb742dc1ac09c0ac80bccb177bceed31701d0ac094746e067885a328e26cfef5782acad5c5e71028d38d2d37861f6cddfc0506dde997056a848a01c40a8db6b8ad69e10fc19e16f6eb60b58622f12c0b73685248c753d5157f10df520f8a6e788a5420d838b2cc388d1744bc6e1a61448d2f51949e0df6da5453abcc51f068f1f3443235ec783e0ded392dc47c9c221177ce46a4d659ddafe2c4a477c3b6153eb86f5a1b22bd45013d1c797121bde4db46b149288ae686602becdba73e5310ea72970a71281878ed1c4eebd2563f5a629338dcad4f1ce1202fcf03ee0fef4883e403b0be1e908c7108281f449745554f56814a165ef8dcda6fd1b669b4515da8a483e34977387faf19e5422c506041781a0b828be0d74292acbfbd1cba464b33251964a38d36a789454852ea862372a10f58c649dad3dbc7d1af0d682c8a7491ad9a39c16d8c895c58d16616d665ff5dcc7bb95873a1d25920c60571855faca3a52f14eb38fa34dd5fa11d61352326d76965869887ce97fa0ac21a0c97ad2b0296a17152783dee7e584546082768c1c2f5e25f125ab7ad1ed2d61957e1d670528e4af7f02ebd55f2b3a34be20aff7a0b16f0441d6304fbfb75ebf54856c32eace5457d92a949feee86cf66251f7f06","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
