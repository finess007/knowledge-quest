<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"188de8620f45b042f6cfb02113d5899093a4d3783d0707387e477b870c1a9dff353f120f259a720315441220951e4dce23fe2ce41084facb81b9fe7b7c8dc5f60e6f3f324b2730e0b9e3fe193e65c59b933b49f3064fd95237064e7e2774f7da1207bc0356a40be4c65618ba128c79697841781aa8078be332f1cc74aeb031a93040419e446c5026052a58e7e803233601b6c795a4ee16fe66c72dbae0b38f92912f8fb2395274aa06a2a717b33883cb50d04b09a5710adc4ffbf6a8879e93018ee46059966aadfc03d5a52be450eba035e9e2c318550b7dbaa221467b32c6401c5b1ec9caadb3d907a1a5921568ed8fb80c167369f6e3981830a36738cbb48b6ce0afbb2224d27214affcb9e847f19ec4f50acff5d872f862a6663a4f966ff0a44fffb8f68da4ebce97a85a7f25837a948dcdc15392ce9dd51639dc90e6350510e423596fe855d0e88ceb3601dc32d85c6db9cfb7c568ff46ca5fda1987acde7f24698abfa20e03fad1ca9793c5079e97d98f1473b615678e6b8692a031133066705e802ae0e5f07a89fe8576061fdcade1dcd13452d9ea9374a82dbcf6488b87d1523d8d096766f4e090e89078495c5b06f8983c4398b2e4eb5c37dd40dc26c7ada273302bd1fd3a534ac1185dc50c366757007e449efe174e59840b2fd8bbc05fe51c25175113bfe0e9300c0047cdf6e2252498bc221a378b2d0e172b80e7260937206c59117b45dcb2241c8836dcdcbaec28977e335c4f3b34716c403240fff8bad39534b0c8a8f5a692f81809bf3256654f10d07ab8752b0a8287117261631f676b1fb93531824778e50307598133f2bf91c994bff58a0157703049eba87d061862064e4e864d63cb9e0aef7ca6f113c7b16d02b3132745b4730c441fe10126e9782b15afbb74258b13caf206e7ec85aab7f97a2bd1192afcc792947b2cce0fbe664f18f59b616588f1961d331abecbfb94e7f17e0afaa1a60cae3fdf08905580bf3f943b430d2c2d60514e6284191970131ec5ceb3d3d030fffb6d4cf2b9b79a1156c39715620af4dd180810458ec65d6223a219f5497cb744a604b583825ec2f8759cd9bfc62d255aeb6cd1155338bb74ab15cc4008001035478c605202f76eb8de9e94787ea73006b9e14aead192fc315dd3124b1b4af2a4c1367c51beecba6eb9aacd34dba13e227ff15923cd81e298ef6e7e3bda439820a18581e7081d69d506534c75e9d8b57cc54b1d9f3c06f7244cbebaded4971b0f4df42fad4c1c8bfd6c5c5857ff243c7f78ab17870b959c153f72cb14bd32533df42f5ccb5808a763615119f7b29b455481ee1c09c6ed1cb2fb713c771656c7090ed78a81638691007d23bb6a1e45d249d0cb144fd8778b38e896bcb907cd5b6fe1eef4fdc17b7878a0a544cac3b618370f5851a35d03e77c563f86bc88597e7efec9a811581bddcfc4e60c4112a48b0f12642266d35dcab1f18c6aa74f1cfa8334bcb0eb5b61c20be75a3c1cb3c5d00339867bcf1ddd6bd5480f746b5d0f423c0c486b5d6d89f81027df59dc889b0bf0e6b31bc0fe212491c5a512f5beb8236e938abc757e8cad81b3f16cc52aa04a7ddb67e41d08e060459a4c80d1dcc8d78505c5da38a5e82dbae12533e5238bd2e7183aabcce4147d22a918f9a4ba7df7957862df5c1440e1cadd2f549ba3b8b25b41bda963dac1cc8f41133fa5b6e6598d91c9d416dc36db86d848fa17bcc75dc8b053b30d5cf4a54d6958dbfc9977a37208bd6ad6675947c481cf0b4b1a2354a904c3050002b6439c471c69b8e61feef61934714681572bade9a5d357bfa8c5e0236b66871c5cb976809f0b85c1a1e49cce37c08b29a9e533d85b1a17a4b4b551570fad45c8bc900f4225435f45b75084f61ea74bf89ab70c258a01a16e7321e100e3e8eb371d5b3e424cdc4148e702d9745dff362b6acb39d2553379cc4581086f4f65c0e4c6f5868f5923fafb37563240b9e3079d4bc87e8fd9dc9e58ae700ca16c0334e73bf1c21a85c451c6b97d2ff4ba7d0b2c5632e4945708fd7766ddc2fe5f562027f17ec0da69b3d3a1b79c87fc3ea257b2525e0f8f2d48d4536cb858b7efe478d399157ae0fdbcb08e9b9f8bbf0ae70e978bbe8b66ffe1833a9bd13a5f69a00c47fc2325391099eabb6ab4191acb1d59ab8fe990306b975be625464b17f080110c1231642976fad6555e7a3a7c4ea65b61868ff68c8a31dd6d64167ba86946c3bccebf3a48c9e16e491a7d0cff56b6925f2fd0f36c51ab8fb8335563fd9eaa46f5baefb5c93aa1f95bc837bc20815dc516e0110d3319998d3f9d757623bfe83a02b6cbabc5bd22ff9989520182548e607d9c983c44aafbbf8b347ea70b50f741b66f201f5b80a6365720a8dcd7e2d58643b72738ebf394092cfe6418982a794eeb08b6c60722680f02ce156fad17d6e69aa0978ee099da876e975df3ce4225c699b96fb48030cdc6c0e1bcec707406f148dab7924502d1fb006dae3e75596eba63ea4be26a40294889fca1d1dca411edc0abd48a8fdb89bf399a6a2383fa0d0fd0f7fc3381caf373d25d83b47ff708c9dacef678dda2377f93474eed978b597f6dddaeabc5a09c91c3bed853c057f32d9712b5fed9661ec60e64ff685a7146a8ec6ad0985f09d386d0275b0983fc8ef0929e66e5766b6ef836fada1089d672fb77abcba64b7c723137a9fa05a686564a7a0eb31d27ae3699a54adf862ebab94948fafb9b8e1d10ded068fe1128b80d93fa1d98b8120607e95830c0a09f3450cbebb1815c500acb379629ef0bd38693e31a6d51764835e7aeca67a2c6806b74ede918ac7b0dd206c2956982c30e87e44b85d44f519757f8f70a6b0f93db90a479dcddea00a6e002a285f25a736d464d200b396d699ae0c0b54490a49eed1b94c8607c365b1a42eb6fef12eae5b9f00370c7588459defe46f8b4fa0ecd08a523671d250c8830564c553f1b64273b8dbee71fd4fe3418915228db8eced7bac6e42758b768f0f79d1a1e729db8cc7050fe2ebdfc3981b59f65e29a5a55e0906c463f7da992b766e6ff61d46bbbf68c63c224aad1d51c43355abc081225d3d01c681d4246074a3a05df59d05e3637da0d7f767d9269b57c1bff58c9fb4b0c60e40e678d05356ad6a488d39cf8b3f9e1a8a6e7ffa5bcee83d1c48fc2dc0ad125562b485a049ac44ab300fcaec1bc10afb9bd82794691487e1f487136f701ab375dde109bdb7023bab7a0027c43822596e31e9c8a8a45eb353d4276e299ec60d9740ac950edc6a2d131984399204c068cd959ff08ec58bc1c07debe148dd4a009172a03a85bd8f3ef36363e1bc78831d5362ba589269a1fa07d424de5ed3a94073ea3a6d3cf797a3163d606fed6fd99eaa7298a68716cb20a16a1d72d521109d21acd9c9831d27bc5b05c01749d2696e936502cab187592a9f1ecd367f84955fdccda34eb40d2bfb7e6997c5974e6f04d681dc4bf013dd37bcf4cddbf95fc5027c6940f055153d4dc14b4e40722d7d9d8beeff3bbac89cfaefcf17af27b700815f82334de885255ac10842a600622f2b8f5f73c6e17ebef2aaa1339a1d9e13b6ca4aca6a405260fed9861f64a2a5c37ceeb586ac5802ac4d7bebc24fb2d3cd6fac2cfdd8a3172b564faadb1dd2790d62579a35667b9ea5d32f5e4197684e59832531ce02a3fe559ee40c12114a3d032413f73fc9f1c7f2939ed00c7828536d03b426239aefb1ab1d9cac38709cb2b56020a71c015b14addee3ee655d113ad01c9a87b9e1d694afcb6880780e4b57af24db919ed78e37c67df371a26111e80e29bf5fd704e05b4e980b47d531206580c90bb6e8d186bab1d4a86e9cca4cdbef5b29af26be9110658ef49818fba02c8c7578b793f2766b73434a8a81fb2f22d8824db3df2bbca9d9d370cdd057ffda86df717119f71bfa5a1f40767ea22f0442dda94310bcb76a96e1492f54a118fd05a83250d98ee0fa3d34119c20c0423afe9fc9e725d0d5c0730ab3316d678e81d685a8a30fba2a45bf0c3867e94fd042d1fab6b73bfaf73b5095631276c03e6a890b11280ddb65b2a47258360f8af977200e35eadb6eebd2a308a4814b954f50e86d81646f5fd5e773ffe270f6d80d80d2cebd256570948a7946bfabd363ab9ef2cc56410f99c56436f94378a13651f62a929d830cf08a5d97e0f4bc141cca0e281c960289807e70235aa147c2fcde3e8935e2dec1cc16b379d6fd81a4d41cc71b799683fcb17a3f20819df90565f59ccfc72e28933b7a4a7b02cff74f7d98e9b7e40a5d389c725effccf46ca4666175f176c3c778f749fde6a2ec460f86b2f9de76c8598da9f542ab40f81f09f2f5fea086580797373408c8bd1c0713f23eac77fcf5e78670db499b1ae13d51897b3f8bf882b2d990f3eaffcf64414848d1f602311746a4c2647cdd8a17ffcb7b8b81ce8192ae6bfac607784a972cb28dfb6babc1e910694e8895cbda71cd36575d567392adf25e6a2c13450fbd680f4ad32feb79576b1cb6e5e296c489156bbd3eeb21e2f961f61f82281cf5d71447fdf49a144a891df48117508d885f62e375ab5367eb93a01511e840cd925d1817dd3faaba04155dbb5bf4e2bd8f21209c2577d22444d2a334f282a3761c389bedaf2119a3e87859807f9573f8e7416b25546c65dc85986d58aeba2c5b859d07b7a7fb7f0905de8ce52d71791e573d188447b43280c4de5e1ab925e5eff325ee3a00dccb28c87c3209d47f5e651147efd1263169ea22b69574786ba3633ddf33d2298f52d3a581452250eed7640d383f9574cf27084656412035eb8132d070711e742f97e65f3438aea6c6c11b8d27d8aabbae04f93adbcc3370ffdebdfd065a880c66a665c2ed117be884bd66571361a51417a2072f257b885d2424f5a5dbad7b486e2d2c696563f1d90255898b72cedfc7ad721c24230ac95c45aff82f9ccf795a2ed55335466be1155d4bb909554d2e9b27c7d70a36f3ea0c463f95ca0d51b12e1c7ad76d3d9a007591129c1b04149d878a0d5b6046e1c6680fb1bb3f7524377ab8d7a3773f4c3bab8d63f0e4e7bd61017feb07912d433b9740801ec9a26caae65743a1617b9e43a53ae47ce611ba7e652e7cd6407f142a08a0e1681f22f4636aabd4635c61ef5e43e87118b22bd6a3f4b79c7fd76269958e0b1e1af3766c7b5e0bf8fab6b67067e7445f866add3a4898843d80cd8efdd2f6ff98e1b8e7c44c96884eb8b951a0b8c33ae894ad7c3b06d4c9ec54f88c717814414931eb247add9da6153731dbee668d2ea119df84f25f5970e9ec67bea6d3e57a5a178c74d58d81f837f3b633fc484c6c1b402b99777964f4d2d3934b99e65b073b5e5451e067f1209494e093d94d2cd9b42b192816495defa919308818770817d2e2186734526cb6d5ca5bb63d4c412855045bb0cc6f46e827634b12ef67e5f1789114b114f4e14798c0cf733b26354c1405f9afcda17daf4d39ec3f4ea4e06b94121d2a3bc6210c29946731f6eb7951574e92f2807d9980b998ab075edeabe99d71745e645a7561dd837d5b4fa8184641cf90a2ca71665e9337c52e9a6c4366e645092d24bd58570319ab65b90ae61eff593b6839ff40ae076a569043cee4b3b0307c6c9af49370de89b5926302bbb70fdc64a74bfed455bf983a35266c34850765a46bd79502e0fed0380054df269f3bff113e47f0ee887b70bcfad71bf438206a672c6eee06f1561d12e3f1680d423700d8ccd1a8fd50f5f448cf11c61859ad485e55e3da9a9dbf454287ea6bf79e512223a405e1e3bdc1a1e7f8c740013498b2d9703243e8031f367d24b1d8f8d45bbab1eae7f27da004159f9ee96f14896d8c166738768aac60da94c73ececb09c7b85d19f96f453c1fae36ee321ef0889cc33adebb4dcc5be16252ddeb563cc91c4041df8a0c0236a318f48926d018b17a311708f2b7275f154d983283dcf812cb1779a6024319f0e376cc69d8e36180b19b27118a50453ad9c8ba33794076ec4b6105aecb3743fec89368e7454cb15126f223b50ab19cd257a5b40f6c22e78c46de3ab320196921b61f5d320ef26df606e55791aae2edc9730d2688896c4a0ae2dfd55fe085bab58db950092f774ebf74f5f081fb2e00b28f90f8465f9f48fc32258e57fc2b8b9d2f245279547bec127326bb9649fb22e59e40bce9055d5cf0c0c83df463fc1168d1c4d81f49c54f95022a548d71edc0ddfecf73ef153352b310beadbf77363dc03e12caef6017db0acedfad3c7aaaecb212ece14a6c8148e7cbebcfa9cbc879b977ad3ec685ff67723cbdc331e098c5c28bf43409bd32693fa55379b2568e996b39d9b2f386abacc0a9aeb4eeece4a32cd3812b52f1a7082b2a4dc17a7575155a1d9e0fe446e053c75ecacb17ecf57af47e2692b0980a76121fef7abe00093a381185fb6bd61492980af39bd772798b33841ccc79ebca0e2deaf0058f96565b849ad77dcc8c32fa0a302914587af0ba265b0779ee1fcd27fd69b74dd3312edfe52ad1d95dce3e9cf8ec2a443cfdafdd7179eb2778def0ba320f1b3a16402a60da274dedd93c8be4c29f01110cb257af72107e36c97d3c933da4e25cf7de7a53831be0f4ba608549db8571c07ca80d2662a227c7c385788b2d6bc6090ed040c47d7c2fd9b5883ca9510f1a025013fe31ee49a8f9d6e8b9c9a1cff15d60c65cc2151fe38d0ea417926bf7ebd1267a1096af9a8dab45bcfe712a0d9b487c4d8b81f422b26cde44aac251b773b8db281b9fd5a2df051f3af636c64aa1164de7f71b2893e7f468a448eb29a1effc5ce7e48b9fdad7aa68ddbca2992ec0a725f5f36bfabce443c9ddfaf075bc00cac4345c3dce8896f9251b7b04956059b67a4ea0635ba81b3097780caabd65f99ae608dad609339a0c1c51b16c690eabed9ceb297b4d0fccb3e0720985b6c5e591f4d71f88ec7ef46c25b944efbbd2aaf66135ee3621f98c23c3c08c0284def262f6966d045b7a059e6147b5899d03cc3cedc77e40de80c29d871ed10e454f91afed8da4ba938e50db642fb32e2d35d7cdfa8260623cc2db11e45060d7c93d86d33489ef570c09ab58a4d9aca20685fe22932d9c33bd47601a5414c65e6aa23a0ef5db7804ffa2b7d286f4879fb0d3140aa6590361b22bef07ec6237dab00e15bd6138ba58f2f3cfc235ec9bf0ab0124bd30c106330ecca326172e0dc3b889552acf23f757f24bed262c08ba93d44ed833bf0f3ad342c9e93058f000b987825f9a4a6ccea12812823ccbc38a203c11a5bf80e173e54f57665626d0eabdb8fa9f3bc50e2564a64fd9111cb831b81fd4dd8e4c9cde1d9b20fe22da040515ca258217073b5361f92d83a4da4a6ff4e9087e20cc94b1a5c0821849cef1cad49e9dad062757eb89d6c80a47afec5908dff702e485b45b01fc22624b3ae799d06bfbb66077a02c2278de4dace7c2ee65376332112a4d058f7cc0f4ea5214670875981de903dd505eb1663002564a8d608930518ef72f17117c0699a32aa2898ac8020f12eeddbf2e2dc1b17a70f0c8765d9e6ad77770739135bec8ec4056b1146ad3706e5baff4df540f4f88a0317c4c24e2563eea8766b563b5d597db52e1774903d92a9ea46cf47269b4e1dbb6a91a164f1205d00b978a5d3a84813286d310678fb2839b1e46e0830a8f49a18e2e4e8d0fadf9f8c82dedd91d8ff7d00e5db558accd332fdea4ec9daad01c08206ac894a10dcfadcbe91aac43b86e2c4ba096a4361734326cb6a779d368698aa05ef27ba625c51bf02919ff8d7edee01a0e465382bfb91d16d16707a8564a144c5571f8c4a1d1ee9f313fca5daf5df0ae004e043a9dda8587dd883acda01cc0182fabede97724072087307ce38838e56e38759ca137248e519a345a9a085a21067c463557a9c8de9a31ec12c4abb5fbf90ba7ca625e7d5ae3e4b9ed4f11039e3d4de904d20e2149a8bed4566b2d2bf2c626be8b6dae79284dc09604b3787eba301948de7f080ddeebb9809ad2e1d2c9139cae5c7a159cd841d023ba1caf0e4b9baf0ce15dd5f84fcc0d9681c9a60a12c5f47ed190a18688b5fc6c5aa112351edb8e081f8668893f165986e867d7fd1c8f30db86a060e9e44025468ecd57714d5c27c19b39596cc37d8b093bde0e54fd2da40fd3f6e2a7b2c737a7b4386c10777b6a237c05aa8fe7fc846a81658ad64a04db0b97416254ac7d4c5c73f6805e289619f59347b189c2829557b13db2c8e9a73834bde60cd93108dfad2ca2467b0ed42c50676936bd84876909c5d03af2fd7b112273c595a644935a6f0c6dc831970bc35e1a10bc73e8af662da96eb582fe3ce9216195d04aebc26fd114917475cd6c9ecbfebef6e4658361fdc1bc6545f2dfe54471f8f9a25fd661f0c2702a8baa50e7c7dc2e8a6530f63adda060865903e2ee80a508f0002eb773e37b12eefa977ad109611f4e5bf600db4c9089ff219c564d4e22bb0311514aa056e85d0c4ebbc7ded643812b21dcd03527b3e26e12462eb84b814723aef2469c147b927bfdccd7764c2f8bc708b6572c40187dfdd0c918a50979997032a3cd90ffda0cd24f6e51a294bab5c8c6b262614184fd5223fe358acec183a774ccf2f07a98460b5cca814957ec5719444f781936dc7a5d82bab62f88c796be155560a162ed70a9d963a21e03404173d164a7600c9831e778bdc3e426957ba7ad3b0865db45fd4842ace89183cbcee73b5e8dcef02f8befaf9f21b052bbb60fc38226bc0d8eb48bdabbd381955de0b42cba2c472588d45abb8a145745184a360ef16550945f0bff9c03f2e84a37c29732566f8fbb333c08b74520d68cb78966628fddd8a8ab0e4d337f03d397a2dc8e5cc5023b7f44ef9ad1e5543529653f320b3f728e4ac7eb8a41bc8c8083e7c0845348d425d49590c9983f72b0938bbb855a6ebc5e5e131dcfc9e5efbf19e8b320440175f2e5fd61f2a11a12ae344cc893c4b35ea02228ac885dee0b83dbbb2019d7540212d08d3d4f65f213293bc2d6db7a27a8907f856974e907a3c7f395fca57c6b5fc50ce3c7ceebc7c0c87f0c3695c133d1defd3300467b9a8dd845054c91dc3e0e77bde800323fc9812f501e51a0f90e8b0d72fcd05b74f8047a54d621ac17a5d47d829720ded24cf0970e83d669aee12f0c41d5e9e31ebb17bf494aa7c2e9110ebfc0c1b350f4f7e283ce43dda6e755f51ecb4ddb54d5167ecafd42a7341ae50f11fec85106ad7ed595a8b19d067de6f37f0d7f30b4d8c34a66ae33b11bcb92233fa3573343f7af7ac86a8e61dbd7e647fb0d47c4b168d61d6b1745179beaf24f5269537250b7c35c14c328e5519cf0a453e8a1fd160ad3f813cb50c4a3903f4efaefbce684d6d1881741f591420edbcade3b80a6b992a50c38cb283ce29b00ee10d8128da0c14a3d9ced8579f8781d85e5a48b5249b4c631424fb5205437749384abe63f178b9d2fd7f123500780020bff37bff32eb13d9c1af88842a5f0a1b3434d99db279ed3d5f65478c9e8ba21183e52615ff7a8a5950680e752867c181d75bb51fc2a69e7e56912c459baf959289688e4034bd42c5cffd68a61efdb81f6d644c097e45da1551e473eadec923eee38ca6d7986d836514446dad8edbdfe87e74ce294e2914d97670ea4325262fbd0d5ec0bce6f15af7fc7b9bfadb9bf25306036f67c1449e024c2585859d09c5b5ffb0189a6cf9559fdad18a07788f89302b8c032cf3f00b742b8540fa2accc1a32053089995320f00053689822528f49f25e479708482681514a571d1fe9b55603184d0c0a2b79b402b61997bcceefd3682bef42a12b5631e7544876d2399654cfdaf8672dcb17cf22f47fafa0bbda7f9f160fffc358c8137bb0a347bed75627426d7be35b9efbc539269a3ff28396a63e6adf1ab8b19054b3339403f8782f0af73c1903578bf34a9be8dd78e4b0725e38eae4ef8cb7833d3a183046ec5e2603115db08fd9cfda9391f1d4f732ad10e29b59badb92f6059bab991fb6b8cd5c7b79592b6dafbf53b144f1895fb3858ed8af804cd7b4788939987ba7b286fd388595b695d4f3cb16b83b062b205e25d522eac073b564ecc9bea8c82bc96ed57269316ced8f659bb9e091e045a73559f605b343b285085670de069722a12027863e90f318516e1dbf17d5758f4d448ba09c16fb43a2c32bddad938eb07df2af4054aab48658ba998dc9c83e48d894cdc200d0a76936c10ecd930ade8dd26227b69023e9713c7b55e1726ebfece5d7b0ee2357f94a668c15fe5aaf489a423b12fc65198322b08d8bf6074cbfb41657d791dcc73d6952f94160a9a579cb0aed59ac4b9cdfef4183da3a577e72ce0e435c1abfa0169eed56ac231c1e5fa7359773690b643fe39d1446c625605275705ab47d861f60414951607b089edc8e2dcfde97a4d4d9c7cb0fc6df6c1a93c80f1b5574573e4a30be45cbed539ad48fa7fd97f48bf12b8627d9e0f5e359f4ed7f34302a2c679cc369afc1a0e6cf6f93d3a98f3377c957fa7f1f543f3a9c6ee0a90ac61352ed5f1f04f18b77eac1c9be0d90633e4572bb9be71cfa8a618c5fc79077430f4a52c6022386daa811b38df7055d79c71c51db064d60f0bc89493e23d795b77e656a14fcc9b7f72e7f20ac9ba1968ee39006cf19a916588c8aec1b42d905e10afe4fef27ac57b7fa6ae119e9ccb0980ac5f15b21f045d40f07d73b7a4bd413d07c416626f08b2c5dbb88b14c5a154c81e9654b10c69d9f5cd3ad66cd6a0eb19de75cfdd66b63fdceafbacfa29c492185abd420cf6d6b974207c2887bb0a092b903cca9ccbfc4113b56ef514f635a128ee31ac95b181743904964d8287d394f683a17db8f8a580855a010b16d5763085e89c95304e53eee207c22856d5e29c2b95463aa5b83de1a4641790efd43fbd24a60692949cc3fb45b81b8db2db9596e8087aa1e1ce05556263de7aafa620739ba0e9c753c1e9b68ae63446fbd00e3ae661b2cadff0045d863005b42e310e0c80b9e91b37a098b0e296ead8445f293315bdfad1b957985dc580e4de51b3a71d81ec67cad4c9ad115527264a7e57d25cb52cb02d7aa3bcc4e2645d2ef6439c945d975613c3a0c6be694ddcaa6ba5279f5b805ca03b3d352043c63f30a05a6dfb6faaabda6a72967485b5edccf3523b17353bd1e8c1d916046293cd07da9c3184a82c3eebb3ba095cbc46eb9af4d73f67356d47b2e5b7a9b8ea1ad5566165343278fbee7a54f3d0516a4a48a4a6792c4ae8d1baf2d0333df990d0fe87577253314e8bc90da95b53df56492028617d68aea3496027a0cc721900f00d1e5143f85f7bd5aa07b79cdcf09e08fda0f334623c1bf740a9a8ff8365bb84138245b7585072d00a8886c23ea48674fa694a098a358588b985adced18f277c72ea5ba1069812863b162749369764697c9fa3499d6ff99de0ca937905d72c51307f0b1fb7b7509b1b91c3658730a2e77483345b4c06b0a488997c4921d5aeea8ed8e190eafab87c301e0941dafad1b9ef098f985f3046d476d72b1ad29f9f977b96eaa35043aa6a32a68656ef321b082af03d726bbd12a6bf4f22eec830ffe021022ac096704ab63ac113414759f0929f2efec1b9e57e883c0f7ecef98c9fdd01f149033dbde57d9793671a35cefd748893a09cb9388ace932c36528776beb5d8c1952d07e87a6e90dedb2d1a5ab751c14f3b5bd28c5e80684abe6bcbf20324a8c252a40d11c9ae944a13aab63854efd57aa2d18e9a339fecdff6d85cc9fbb29ae736a0099f2928df4ddc7343bb2e324ed8a23f150da7e6674af1f5cc2c413f16f86889531b2bdcee6d833bcfe5526cb3209a09a9d3d38725a7dc7eea6b7cd2408784754daec24fa9e43f8ffa808bd440a94784410321296e06e938f15654ef487463f5ce7dffde21c5796e5ec8e1d4f6069914463199448df08557aa82fee060c03c148d8627b9b4f983d8167a5c41f202398d4e14aff39748cca9dc8fe292894636924749af2079a426a1e49947373f7621c0582f663601da93b10004c46b8e04ed6a3c80fcdaf7741024844dc13dfc4eca57ee1b179a4edc5da4821495522bcadc47a1abcaa8ad845494bb71fa9f051dd271335155cf6b25b06883992b4976d35c88ca19fbe20e3704a3f89e9dbf49e522abfcc0ecc51886d9cca0f09ae5dafe7e2d22e1fc0ef5f3662f435f5ec4a03d01611f06688f6b40076c276918a09b2f088143f0e8c111d9d121c745332aa2bdcfa3d83ab516e18ef084ddceaeea8c66ab51a2619353588867a8a30396393711d76ae98198487a8c7410cc977a09e613181edcba7f544cf01255b27f0cbd94fbeb2670bc4e8ebd0545a97e35d8dbe0016270cccd8e808786cd12a7465942088b1c9b706cb37c347ab875d6a7e24ccaa1860ea91108754857dc58140c070831fef2c59db7a301a646f29d6dc092d0b2767bc251346b3a5e9b795d3d243b932203e528485a2f398a968169096fc9a59c11e42e2512defe29c98f172bb039ffd0c095161f862f2b2f1b8808780fbbaee4b8aa555bbfbb98ddaa970eb56d793fb34ab46901c1f56945a62e26a5a4e09ce9b7a709821d4a8a311172baf622d4bab599fc7f7679e244d902f9bba499ec1b8865fc1f73a9506816d7bb3450646f626b3661b919891b030261e31cb8abace93a7a45273274953da3c4ea16fb694a91233224e20240849846fe0ad54f4bec601e3b25d5d2fb4db6d9b78aa55d73ba2f90d4ee4ca961488b522c775deed465cddbcb7d072278f113428a4cb112a272c4aeea34635f33204ea491be38839a02ba09166c9a0e1a065a59a32efe70481de64bc63da5511b02da42cd12ce1f774d5e0b17226f4bd6f23e7c3c977595c224ac1263ac4f1bf1994565f364dc3856c58e67202dbbd7801acc78e655af2f9fd6170391d23ef70597b54534904186fb2cc3014fedff04b4c3185732bfce9f0924c25261f184fd5ff4ca722f759c880dd1169b580380a355454a7f3a338809e2e8418d7eca12ec90e9d0af38a629f97d1d5c2543c1de72bff02e787b5cf087ba7bff615824918d01165f25d03bb5915931c4d9fa00361b424c445deb3e2528286965e8e9ef5b4614ea0cd92184a307c3b680902ededddedad0374789e427a955c7c92ffd510580670c889ff88d5a9a584109d97e19f11b12336d286a33bcfc9353fd650eea1c809bc9d40ff875a27ffb765df231a5d984976149dbd35f0eaa6a6ffb46b14f5ca33060533e1e2dd037d416fea1af78431a7ea0e3186bfe9542150b4fc9d58ce8f7439f5e280fec3b1e7e214c30342bb9e80ff92d921530ea92e640167b788d2b9a29dd35ce71949756cca5f82b578b771464531471f54f8010fbba4a408b384d0a05d07886cf0f2386d7019ca37e38c022175a441b4cb7a306fc5ece712ca764d0d465a5e1f5e09000ddec05aa8d4b748ca3527c160365bea92cc791af1260fa285030b1fc71e932b8aaf45b2386d19fe0a7bd7b5cb2e1bacf7b0c5345bc312c68ba2f675ec0171ee9aacbcb63dcbb84522b75ef6b391e550d0e5f823179df0d3c4c9e983b16ac3ab17c14c3ce16296b3d14696a2fef80365e76b589130a6b9a86c95432c2488629f973205dc52e5e00d1a59ddbaf16eec7a7596153391c33fc4761755527673b5aecd7cbf686bcba50299eebb7fb4c526c3bac754b26520ca5f9d29360201d2767f8f2c62fd39eede8e36a959b0499126b161a58cdb7ad0de4ad30c7526a45935a5729f0737f33bff34b654b34ae291e83df28d0648f2a9a0691ec0db902560f224076aa502ab91300a9c9d6f895348f3abfbd7ac7774e34400debf1e692ed196db3ad53f2599d2561cf19f2bbbc73dc0b59cb2dd28a213cd3137d4c89563a53f1852cc161e5b134ad56e243f3183f6f3ad09a3b47631612cd75f278e6986ab03ea2424469062414182a2439f5b49552fa1759bd99c8fe02f29050727f05c0f647d402987213eeadffc578e7b282db3490dd562f0313a2f5e19c81758883a81506fadc926e01473868f8635e4172362b61f9bc4733e727fc44683fd86ed4717a9110fa48972edb650ee8927484628449b31278900c4b524e558d3aae4f92473f5234bb33469a068069585eab04a6e02eda2d17fc6c1e98d3662013fba06844afa8056ba7259db2d8e5f8cc2832bd2f9fdba5e2d938933681d14749f1d44cc780065f438e5ecd2eca69bca8a7b5b64b89a4d5fab14bc27327ecbae004f29774872eece8bb9faafa0df7aec7227263285ab9d3bd0918565b03d0052944949c4cda42de30956fd4229cf5f7a3fd1e0e2914a8e0dd5f8be3cfbfa39e388735ee09ea7d5aba7accbc8bf832a9529f2ceca27fb2cca08a1e879db67eb4e3fe2cd4dbbde5eb931a3c7fa49fe1d1db9a0e79afcecd48e8b7a1346ce788ff5605e213880d9678bc1c3ab7dcf915306ae22534fd305caeb7293955e3bbfcea1380a02c3a139a5a9a81c42a031f1b7dda2e00b8fe5c9e1514dafddd3452fc28cb81c0757dfc4c8825f0e23295205e117c12d999165b82fdddf2ab8d1e8e6074d9536227f4426204d9ffb6d4698cc83ceed367229d1c767715b85e922fd5c5ed21d7434eab9c2ce81491d281d000790efdcf3d134edcb8ec769707734a5874b32a0be76ceeb8b6af157996708734894d77c11a540503fbce4842208ea01b3dbb4985d0b55dea11dbdcf3621f817e0d828f6cfae70803c66e5ccb1be7c7ba0b3a85b54296e33233094c6377c98df1407827625070615d12cd2180ed069c1c998e89704dcb1444d1d41c2c7ba205001951730d294574fe96adb5752106b75afb76ecce3ad5fa8c452834f517850e477b7e45646f919b3bdcc0e6587195744015b7d6c29722e1666b2f25fb237af359df2ef4810a799985f776ea24913888fb524a4acbd8b5fef1f0a0235d6334b21ae7cccf33d5197150faea5828ce34ba4a098d88b81549d21890bdb9c4cc55fdabe710bbd6e4bb7026ec4dbd8dcda6b47e484c3c27671c1663a82b8fc320e5a3fa0bb24f6bb5a8b67333e4c7b721dcb63417022a050d13a202bec080aa0fbc38fea1d1121d6e8f8dad6c71fc43a12c421b801c944d56eb0ee1221bf602c7719a3827d7789f87b0198872b26ca6bf6e49e61d283c532f86b9c72e7cb7e78428736b3a8cf69c20d755b18111c5105dbec4c0f494626714c9b9cfb4cd0fdc10dfb988767222b3ef53f0bd03b2b68039210aeca5125cf02d159de9dfd8d395f5391695d4620b3f3733d58c7a2d0bc1d9756e547fa60c8f8367144642af41412b784da911344a0f738f27e76c366c4943d3bb20327cfdeb9a9db9fb82d204e156ebc94aadbe05ebacdbff91f615aaff168636992f931a14cfd53ad6e0e967452c469b28940b5598eb25b4ce8b812a7977a09961625e902987b131ab005381baa8ee982b739c62d473cc8e69ddcfe7c455790c2f12fba644dcf4cc6a80734a3c9e2e3c8ef920b185eb540d1f34d88d8d85a0f6c77bed37b4519a214f219d4b41e9ecd9590898a794dced8682da97e8b04817924b6335c59d5819d3fb2b0f785e8d4a895b4c7e2cbb9d5e94e36ce00b3f80522114e7b2e249c6967bd9b162a9434617361dfa99a91a161b6f56d505c40722476ff05fe2f8838ae2b13e45b1013cd41349adb96964a144fa7bf9e426d41697fe6201c99bd33ebc4dc5ba877d662957ec8cf3ea95f0592d4bda0ad3d5147ee3b28d058551031b43293fcb5236f27f0e85b7c268cf953996c5d7a2731e74e474b4af6e8450088d630479ad4c32fc93381ca0a0be7ea775a9a31dcbd180ca738f942ec206c9ffcf181df49c0cfdaa0e1a61ed78e1b5e7bba2a5437c20f64a3c85abda9f9a53f70ecfc364b6c10679f96ca30d56855e5cd83573d9a1a15e44d61af7c7dff5dd7a7272d819cd61ed16e982ca828bfe26d3e76de9c33e77b9e969b2367eb8cdb137b8b55a6f37a45c6e9e74d2da2c1785fa9580305e6d13cfa22faffe4da61432c4a610936b2663463364d04f52b845c66a4a198217f292ad98fcf98738d5f5b5792e27d2b9079986be0b99b401eb322da4c96a5de0762f3fcba1440f18b48d02a3a477baae22a8eff9248e34a8d15772343eccf61d617c590ef5a9348de7a68612f3cdbb52d529fcf8485797f8c923cab6907c4087375cf2d9ca8fb78842689409e8a8dcf896bfae0f5843d279abcf2e022d649df7d95c513489905ae7bbe618d15771ccf79ec6e438b4a63828444462d7657f125181b17fce4aa396a71430c8268058f3191e65b900d43cc44cd3546e1fa5875b612fe6fafe1b4acd341888c58a8ebde336372770c9f63281d560bdf38bf85e594878dcf5ff33d756dc3a7a9c97c101e9ed78998440e8ce0b181d24ee9838c664545cfff4f6e4975e7d64bac1c2a61dc5a1a58e772937cb053bbfc083f058936771cbcf48ff3282d20995e4fa245ba02178b85d311141fca390461312ba25fafd264267fb1acf9c5404929b7fc55c766672f9b5563766332ac1e9b7cf7301151970a0727501d80328e8babe4a2eb6f707d06dc6ff4754f250aa98a01dfde33fbf965cdb7afaa6a862a04b7e1910901f6fce98f64b52f5f699963b0fc77ff6e45219a8c9fafb1751b2bfeddea1b35962285d2824b5aa7f35b2226e56c057bda803d6b7d224200b6c7d50d5c872c579dd927ac36ad98e0e4d6f009316d90fab7d83291a65910c3a4579757a96afa5d3c8d9a1aeb9cde1e310e67102d576765d44c6cb47961a8040ab6977394f7d9e73d565941a9c7afae6f4688e4451cdc6fe62a2c52b571b641ce2bebc2527b43711175da72cd44e2d08961e89e8f5ba7b73edff24ab3950573984873e006dc8c0b749e26e75534167b71a27de6a90ebdfdb0ee39474b654e2e101b69f4f2416f418e98496cda269a270fb913b54f07719c56b54b7a2c44a91432bb06f5aeba8b96a3449f54b8f502534ae7a06b1b4f7866977262d6ee76ba7360b350c1f603202c750b52a782f7ea7949fad0422315825dec61131fd76997cfa4809dd5cdcdad1ba5c8d2edc6d6e8142c3021e8d983ad6d4e6082d2c4b533e5156f631d623b56f2b95d9c38b91f6d6ba48a135755730b4ca79a6b456e9df7591dd7296b452b7a0ec52577169331619d054f0602cbeb923a569fa393e7d3427d12bd30797debf9903526ee2057eb3fb2b633ed3666ec524f9552a885605be3ef31f63ffb61bf3148b5fadc10c64ab6edd682ccb553ed891ae26225acced7e3e5d415facab21d816f79b0039ab4461c5695785fc8da68f4592622b8226160c7b22626584d08d36863024d1e005bf35dfb258a6a38f92ac4aa262f90bfeafe100dd7ebf5fab879b1a7b112738a1222f180c1ec15a7f376012631034bd6d2b1901b53dbe5f9750211641438296366f04f9ee102b468db6e77827a8c54b71f59df4f0879ff0f3e851e3972b5191a5747d04ea0e6fc983e38d45a26fcbc5eec6e2a28552ca3885cafec42804bdb1f12bb7f28fd636c379de9d9e92677dddb6b2e509099f02acee0400af9506c1fcb7b734694a636648a41801837a7bfca6000d6b6fe60aa3d668f76814f08565a4268f60b00ee3b3a96769f0050ca70af368d0ef1536a74289f21673540d9eb0b5cd91437f71788f2352a070c18a6712e8b137bef6396bd76ca95448ebbdba233dfe8ca0ee19172cdf278e9a969053dd0453a601f88bc2df3c07769f4da56056cd6cdcd6e7d3d23aea146df9aea4ef069bf2d63ca00d3aad7b0dbdc562a31f8b0346aed92d8928ca0aa4b31da280788991c6756b14f6429871217f9738be7294c198dacea2498ee205e45ed24f831ba00d6804fd0853f8f8dfcf2a1eb322472ad59719d3931990161d66cc33756dcb2504bf84fb0f46f76ddedb3af529480b69a7b5e5487d5bd9f82847e04343c9cdc080bab3d88af72f9d03328d9432d1e03d263b6253d66e5336c804e239639c7d346aceef544cee70300491afe43a73c9a427f22a801452607d7c6bd37c6b00fe7655d4ca92f4822e38df45b6155b18292ca3d434b8ae2606af8cca428b9dcd18ca74074fec29cd508716e64a32893e6717c620dd73204a5c16be5aea499ac4b7dc3d9e0bf0b4788a555529b8f9e5889a929654bde67fb1adb65db46ade7826f4b3ba02010701f03da1299514d0480a3aa927eab91bff65713aeba7fbe5cf805d9daf6ef0e299f8f61085b12c59d7ce7e2fb325cda5f659427b71688654a05d4a9e2ce711369d47631ba37d166a00a9859834dc7c25add5e6ee8b8fd6068344475c9cc11f2d1e93c01e079a3bb6558abda9989509804e8d03aecbc09c025b98f9fa48ea96dafd322ba9f13095f3b5a4c5b8b210354e82228d577e7264bcc63883bc8fa2915df279acf41c22f5df3aa7552ea384745e8eefc25234f2954a780faadb6d73eebe3a6f63fc29c5562653b02c30785edd9eee40197f2bd85be990905da8ea8b976a34f95b19fc53fbf871dc04802b788f8400133970235d2cf10314e1704791ea00ff30ef30411bc37ff9636e878fbd7950c8058247e5dde4e5bdc5e4dd23f0660aa361ebe01b68b9f0a9888874b05243246542eb395dd3ff9e0eef580deec1916c8db13a46347d02fe711e902c5d60afa2633acf8b1f49f9c826a8c64568d3b7ae20425b0fc77709232a37e165041cc5c16417b620c362c4032e33ae2dd5f92b37ec836bdf9fb993c7bfa7b7d1a33c45a179a01e85cd8d71295bed1093777f186531e15ebb39de984f32e28a80aad256a46b91ea379b724ac859fb9b8e2841c97a40f5f0a881c0ea29387d1db1f0c3c15313a75955ef56e5c3d8f8482e2d57e089f1aad662d95758097c3ec862ff94957e23017b1f80eeee3b9f348a20de0ae2a71855ab733c6434316cbb3c19556ec9bc1b217c211cdda7375eec466e486d91e3ac447e9404573e8718b23355ea8bb0af7c0c09120d8e671d60e97ce53b31dca446e673351de71e328dbef5c3c7af33bb49935a0ddc58f2dde0fdc1bf1e19c2c05bdc35eaa05b2bbc6e282c2395917827dd1f65afceba95ff86a06121a0d46dea057b0a69def0996699f021594762f145f0ae13f038acc29c83dce813abce6a9d1d1e92b8e7af9eb914ffa0d32a919adea118f1accd595fae5f84fd607b24798fd37e35afd8a66a6bb9d08ebc5bd1bde01ac4165d306a81d562f16573936782c6734d1615ae3fb3438876e660cb5aa5b022b10105b39b7f9a3af8a4725be085df770a8cc8aa8a42afb9fd2e9f48262c88a52743e19338d13253f309ca14f3010eba301671640140066f8a8ff7ffa8b10ffe0107161c435b9525af109b5128b47ed77e111125a7757268594e209fd8f88ddb9b5aa0bf82e4c2ef4298e714daa48af4c87d614392fbe3b70bf883d47d96bdfaed646e7757df61a420e200336222301895d9b06e1dd5a16a3711ebeb22290a87e0f7bc1acd070c8406f78eabd36daca1d9a961db8a309f9adf521f4ed63c9f5c0d74dfe794f911180a7e77581697364feafb14cfa10546368ff3056945f23978dc5c88e42376609f3298dc19f09b4c1764293bd988c90e348d0accf06df178b095101019a024191d5a5ffe607d748b74d53076ea04c9c77197b02d50ae792ba7870d1f397572e2b74c2b1e5469dece149d069d3d11c22d8fd1cd5a8da92abf2c8d18f52ea19ec32901c603787ddc9eb564bb3aadb1ec70ab564f1496a1fcd1bfc79d63567a512e91957830471e6b701c7653f7872766f7eb0e0bb772eb88075641c28f9b36a21ab46a96c7094b01c41306a9c5c60269cc54958a6d9e503c9c254a1b15737b6f1d669deba64c2679ead46687d772ea4e5b8ad4adf63d53e5c4b1eaadfc9691deeb0b913e474ebff150d0e9a9c879b04483fa917e23d550211bddd5520be9177edc246c8064b1a8527ad5941fa0dfb88e4de49503015d1f7d7722c2a382a902fc0c52f7dd08aaa958096582169959fa28b4b1d5182194a901a603c9436434d3b3a3a0b2494e35d3189f1621ded7770de3f3b274b555234f25ffcb382b47548706a3a083259f270ad20b25b3f85862a0037bf3cc20295b50a138e86ddf3a0eca1dd855c211c9ef0b278b7ed87ae38164cdba24d114fe233815c7496a35083a1b1b4929e56651bb1a4d0756c1c4625ea48ec7d24dff2701aa2adceab1d80d73d67de33d88a0cecdade354bc1c33f3855c4d326bcbeb4780440ba5a4fb7d09ec57f5b117143b90e4e1a163a744cc9f39745d6effa9f3cdc32fe8a1be15101045fef06df6a62597b319d166295952d9e2457e81b813f4a32dacf00d64f1d0bdaa600205cd5dbe89287687b7e2165abf9cd7a905908dd86e3983e5b2a19fb597612310cee9a9ed2fd5c32dee3c4ff9260464e14e4e7ed722498dd548b457d65af747fcb8cb555d946c19c415abeed47e9b13b43b9b2c7b02b55afa2c5d6b92a0be86c22db2765554c3e078babf749794c0faff4f1773e8e8a3fca5a5214d81368f3026aa2d87fcf1f7d677feecf577b2a44f37357141f32e0198d112f24dc4c65d85b926ea207b573db852a0e86f76b3ad811126dd36e01e640d4208082da995ac53b079bfd9172e53964eb5c2f9ea057ca7a50b41d9c0fdad26b18af135a5cf96803361a96c46b81a5f0af395e712e849328a0a51d8e30a2327e23b8844e9dd8b0b8eab2947b292ceb78bc204e4a96dbb8bbf42b6bbc82be054dd66a9003e6d884cd98e925eb430793a472a70333bef73abe71a1a6682e70eea662f6c588b3af12c3f0c269eb6d35a3b128f7c97eae438c937bb5c07cd5f8e7c17ad837857cd0c90d500eb7e1ba34c3c729dedc87a6c012a094740f7242fde36df1790d32ad66ece444ce03933f55717068cc87b0a5146229b21b24e55e3e53eaebe79fb9fe79fc0e743161db3c93c831e5e85282097f35b5815de60bfafd61c9b890ca24f00125278e2bb0d15e4691895956f164fb32b4dd849abd2673c4f986616d7d9f5b9610c815c1b8861c1e3f26bd7c8a7672fb78be70f6a1bb55dd1f1261ca7974dd5fc3ecc80eb3c1b584f45cfdfeabde6f6fb963efd3261c40541853ba5622762f55d17f0ea9052ae26a3fb451a41d733c44782240a4e879d34a898242845793c0e5843aabb8baa0c42e2bc363c8c23a5e8bcd1d012b1475619abd7fa650e33e8c3a8bbd0a2fbd237d6bc7b72dbc1dcf4b87f7da6a151b7e8cf5df8ab1c9010e785099e286d4e3ac1130e6803acabfb92f1158357e0375c2af6e2d4329868c9be8544dd6d4fc9a4a1ad9db5cfb87605ca7e68ee74ca3d5a6682a54c8e7cbdb7b91ee88e","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
