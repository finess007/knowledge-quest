<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"de364e1ce2150a25f6c9160419b38d1f7422b4e6b933afdc795cb80db2cbb32b3fc851df24631f809da3c0f835b469fa72b2a1af74a9ff496aa669b408ce8e4b3bc0f51fd2c2d25ba38e5b09f93149ada74a008eb5051aa3aaac98666b0a83838a81a503f5f47158ac87a9246ea546b487c2e7936377ad3fe3f46a032ea5c66b2c4b9a6c6c54630b186a0098e3c4f6bfbc420b022627504bf930bb5ecbe2da85d6b71a95a9970d5b9105a8b3e05b04c36177f6997d0ba363087fd75e4034a5286f06af7a4527516d09719876a4ab2145dd3ff62c9f5782a55a358038e65a8f04161c652001328eb6f22811a8bb59736fb9a35d19fd70a7b630686b45f8124829293f49419101878757a61fa38a52ad3eb04cd1ccf1bc4fafe185e18d280025f56d8b6164c0f75a77f906362235693953149ba7c99e089eca7061050316c808dbd5411b5223f4fb1ed9bddbd6b2b94273bdaffb1996a426756714f0f7ada85641b5032fcdf336ad2c6f8648e231c5011b760807c22b3ecd681381dbfc294ab1bed7c189a182ca5b1cac824e4011143a3f6abe5629418681d83e093a37a3ef29e28314293f5af23118dc57a5fba5fba02ea27665d6556a9df507ef084f47b7030dd56e54be8c4c8ad243c5208a2b962ca36cfa95aead1a88966ae29081722099bb3e1f5c9c758d8c542a550f08123b56f35a845247e980778ededc94deccbd78de9adb8abcfda923bd619a74be7ab5019961d0e283f72fd01f8751efe488b5da60767dbeaace0038d9ee732d5db7e988bb968be61c5438428a22e844964dc1db161af6be6cefe11239c1ca8e51934461d85811470b7a143d31cdd7218208acc5367f50fcb07efb38e03b1099e159e01844b653dc41839091f081352161b7b6148537f449afb674b350523ffbb9b19103bed63fce938ba2d73a7f0bfda8b6ccb85729066ed81b10d1f75fe4d1f5705b517cba6ad093551187a4e0704d700f06e9bfc55409b5e22c9440d0468719f67b528423c89133f4efc59d4318153f00273bf3369d05b030c6cbcfe43cad1fa6c7551ab4a93af78846f8983045a9c536f5e3937c72e882bee3cfc5c42b4f3ae851ebc6af2c27238fd3e63d71324f346175991abd2b3e7ac7208b0ffa2ebd670987840362b3a2a658a5e4fe507ca305401434456556a2b7d1c2844435e8c28c0935662980dce4cebd1c524fdef282100a46d11f36a49948402aeccefac16a3e352f3bca0e5c3a8d3fed822f3766c57f0eee00b950328ad0b73fbeffd85e156da3b9460cc85d5156c8d6db725751f8a623401b50ec63e1c1404fb5ba3ef32ed004be5a1c43f8820278bd61724415143e1beebc0c7635d6f7399b33cee50f181d272d7021967307ed009f04b0435e7d9222413d65086d5f09643df637e67a089a5643b818fb62789c32d633d823720f2d221b1b539ddb72646072433a8a9104ec2c659e28277f2cdbbb4d18a3bfa0f702053a1567fe9eec3352db8f4258c2ae8cf3005fb77b76b0b5452b3db21b697b04b88b7cef0a92784164bdca31bb7507607fcbec3f701943a9c4893b827986452ab9594e724998e15b509b264c814c2ecf11859fcc5602e0f9848076bed92bf9b7020a1d7af04977ff0c94de3195cdaab8a8ce55bcae7060434828e5d2bec8fed69cbcca34281cc091da8c7ec1954b37f7fac5f96849a06073c4a2ab5ca08854fde1fd2d10efcbf9c4e2785bdad03feb787fc37505a360cba088d5a0e6e8c2005b5c30ac9c0a641396e57c821b29722495f0db1e0c0f9cab5bca700035689085e51ebdb19c05bb91ab5c9aedd8b08643e16cda94a22d3d14550122ac6958cb997011dd4a2a3ea354fb36eb3126b6f9b66e68d8f616890e3634063a6f5c74fa3cfa851b6434b017d33469869ff9654fcbd620ac046dbd42e606aff15be05ead43da891108f1d4c9c6cf838b43ecd11f473c70c5648362d1b2f4249793ac2af95831bb60ebae54653ff2119d005b55c8357ecebf5241010286edef42709977785bf9cd140fcb0dda0b4054a1453ef51f4b2f075efa478a32416f3e69cb1d6f660939926bc9d71ca6f1b488a8b195cb935b4ee7fe1fcc9ec60e11b710cfc9f51fddcd0e921b08a5faad543b98bf6dff6d342d5ea1c57d0780cd8c9d5d7d722dc6cbf94b2a6cd777229d4bb867766fff751b62e6f8f2095f036c74994aaae3562f828684b680151240a2710ec04e0e3b2f19ee7df55caa1ab202cfe6b5ed61b6ed23b7e9fce84899f300bd14984b34dab0cada43098459117e1cdf73a64f7e1f89ea794b6df54b91e6e912210654cb31268c7c6739ec7b0968f3206e6c17dc3ef4560d0f39bc409cbb591c9fd7b1a5ba4f32767151bd032eeac7091b75cb9e318dfea88fe55977066a4e7daf1c0632de3b8806763eea51f3d9b683d1bbf7b018b9ddf3802c803572922d153c7119fdd0e773a745bbdc35c1e0cbd4576ef4d41e778e5506591e765c9b81e9b429f70c49feb779db98e5cf3420cb5bed99b608aed100ee1ae08bde127c8b55f48caf2fb3ffd181c4190f1e44f9e5e390a4c91176fb0dde9c75dc9b398ea26e1fbe39aaa8f7ec6580713022c1ec51bbee02cbe109cb4596e788abfd3cc9616d4182c73243240d4d3cca09b52743c1495ecc80429b599b067a9d309dff1845c37af45bed9ba0b6c0268b720d1420d0d18aac651f7bfcbe5c1b021683064d5535e5340bd2a033f74cd36c32717336b736b2b408b1158b49cac92cb9b16afe61d1d2993b435a91d8f9b515a79de1e266a51df3b0c79e40e520b063ba590ce7d066b0a151b6ab6259938841aa1bfdbea8fbf02652f573959103415e6fd0b1942bac154f350d74ac5900ae8418b2d1cb2bea238eb66e816cee853d7052a864bf5a32225415374320900b00905d58fc5444e0c880c7b51fdeadf64874b018852a4be6f9059ccdeed0e15674f37a74ae1b716859555a6d87bd7597de870e927336b2974bdff09f9029d5524c5001c5cc97b743bb5f31d4643fce96a68704d3f25ace9e10d22f42353d8b87ef6571003097e5c51339e1e38f924a85621210813de4d9ef7a8e3db700c9a89a31d3b9925806f37697943408d585605605ed9e4dffe2ac94f8c33e3100e7579faff8f28e2923076faa641e3640c37575d5af4e572494f324d17891e13bbb177242695c5b3b7f2d7deb79d533969ee009006eb7cca1bd45bf9c215aba48547d0f62ae6fa1d257ed62cb20cdaf6298e8802ee701dffa2db3d6f578be16e23fd6020d0da4d0af0c0558437d1c1f6b8b03d660580a131ff4476795e71704a0090de341de11e3faff2d715bf58e70864bdd149f66228ab47a02cfb6f7e6f380d718e61eb29ab6bab4866a9156f290583fca2b29432e631446249b02652c699651bc831ecb7db8ffdf60b235e7da6694030af4e74a25e5ec999eb9d97684c5a180117e9ff7352681b608d0175702d475cde6736786bcf55c1078063fdab6f5e6c5397b55496bdce5ea5954ed16ab1d8cf80d55438126d845bbfcfa52993260921287c828dec68e86aa384a0ff9a5a1df13a9bfcc0e73fc570355de88608919d929eff8da724c478fbc96bbd494ba58b5e90a32d8e83eb0d68645c7c24ecab6743af592e5387b3466a53cb04cab072fa82836b8cd27984d6fd949b99b3f62a91ea35162df6a2ea720cf80ee553d500e5e570cfea63e194d5ef907affaaa49e506b2dd759fd543120e880945e6441d14a20538bc23dd364410de279ede96ef7bd018c2f3a2f5d670865cf5708a0f600f20b67ac11ebd972bd90e51c89763aa8e675118e4e34c68aea2e9be397ce1476ae3c939586859d25c0f4e21bbf88f576431acaacf19f27ea482ccf0899f8108daf12cc7cddc5b8aa17b6ecabdfa7797d4a9649e4eeefc9f99d6a42969a5ff9d43f53b772e96ded196b1d7291cea28e56dde7e4eaf221e22d7ecbf16dd8adcf495a01defdb60292a0ec91738763b62f88d433bd8724a546c7900e420223c221a7cbe322a2174d2b965e78e31e0e7d0ec99917d14ceb5c203bc7a880e217155205ef548969517bb0cae217e867ec989d995170ddb9e973b2fccdc0b91a2d09a5d479e102bb7f5e64d6a83e33fc0d0033c2257ffd755ae4a804c53111050f6766fffd3810ac466e98473433a5c3d471e5794d04d10b916c4b89b60dacc999b655fb4c21931ca8e0d892e73acaf57e14cba179e745c45edc5800fed91c6762a48c98a3489ad87f4f142b65aa0a4f8beb86491787f8f541623066ccdc11496f9da91f2d3cb8d23d29385129277028dbd6a0cc0dceb1fd7a561447ff3ae5dba179b0d1530a46a1966dfd508a79991d04bf0d387fac8abd604001190bd5fefe71ffe7457f76356d522e883b63853073cb260adc61bdfaa721d0b6a1b0eabf37b71262463761d44238a4d3b82e9dec2a1f88cfa669207c8ba6d982482d15fb56f640cb297de49184ac5b2cf884d3356e2b1025142680f3b85d2b450ce6110f072e7c1090b996bdc2706411435c48442930655fbf4f83566f657deb40576a318346549a6ef373a9196e505d0d190ab3996d1da26850f3c7caccccb67f8bad00022eb0bcec3a688707bd9d3004137e76494def9215eebd463c99161f87b6ca654da3c81ffa1e0dea269e75ad1ff7f9382b27e21293f29bf8cc89d5cc9b80ae2a9c65542cc070024f1334d0a4eaecf846f428c8a89f39de14ec2c255b5cd29a291e27254bc4468feccfcfb05f896eaaca4e040a55b897cf63ef0cc2fc01d706e4b95a5c6c7af9bde6e697ba10480593f7b4781f1dfcbe763bcb59921923200c1f2584064969646dca441989a7c5a862b87c0611d8b1f45828ecac15018b1240cc7cdfbb96f269ea5ced71173a1643a584db22ada593bdacc6ea1d5feb0825ed8278858c786bb73e29e4317a14d423517c6103080ff20c71d45b3b40d2a8d5942c16b076f94e0a45e04dc317b7a114e1eefd49ed20d0d7c79928985a3d00e487b6333ed65add2eeca6d1c0deb672fca8653b108bdf32660c9bc3bdf204980758a143d7adb3a818e79978ff6b2b74fdfcfc14659f2ae277449b742d7b33c748536510571239256be0d926fedde46179a8d0192ded297335f41862d1173502250d7f977eeba89592bd530efc17ba463378399097cae88ee9705e9621c99f29aed9e58e4b186d4379244e1308f70a7116317a4d04da1874f2103acd34a4a22daec2395b374359ef08413cb8f7eb7797920f57469c1dc4117e3c88805b0dbc7a33e7df520158f4ea7fed5c1174af22407854eac23132a56ee4b52c757465a93214efa289f3a043ebf7189b01d860945e89f3e1b8177dc82772a65869f4ad7a14f274a0203a22808dd600d0e9c22fc2af2680031189b048c6546cc871408bcae3baefd02f402887bec59a0e97bc4c3cf03b330b3f2d529d0aa4d6a1ce9d08b031084c59fdb9358ac1804b2485ea8233d1399d163dfc0d44b956f6549e9eddcea22725d15242e839fe806c34824861ed13e2c809fd7df423418c6f732a876c879223fd80e3580a5dbbb112ad59b042ddf6d566f930570e2daffe9a80eccd44eb169715c22c691227563e17833bba5e73f03ce63870bca2ef62eb87dcf1bdb323a7ce1aa9c2e9bdb8f0c383a589d8d599ab5c4996c768894825eac6c2ba1554a4215f0a76f046fbe1551550fbf83a0daaeff3207bcac1f83b945147db730334dce056bcce74f187ef00dd7d783090f4b5a0e3331f258f5bbfcd3357edaab1abe00f93ace267d5d21032d562d4c605c4f0db079a593f37b7b316852e0370c4ad65fc17f5fe2c6c70a51f6699edcabfbe52be866f15034eafab812cc73c08a45085c3ef7a2029fce4c76b7015d19cd085737d797547a15ca9c3ba7455cde7f52382af41d9b767b8a62a831b4b57f547e2901dc2472b389054d30ac927728564585567b3958fabe577d16a9f2fe60034a0934327bb3593b427e15c92e2989b2f3c5e196aeff02502fa8e46e4107ea8c046da69091f179e11c5520a37a52f8909a1d8d542ebdeb8f14f10b840d0288523820334de4a2c364529d0266e797fed91783326891e75be11ec9ccfc76366eab6753419a3d31e4779127962c22859cc9108a71c232eb27ba559dd562d0710bc9719f74275576b5b8ebdb36dd9e68daf03f963a89bfcc4bea85c872f1ce0cfba630d22b289148293d0e5099125c7258e1acc2fb27a2e45a96577a494e6340055a93e91fda36116dd487c5e1f043da160a0e7cb88b4ea6308ab6f655500c0c1a27f0c1eed55b410abed9392c3db8341ad4b698547b4e9d26afe248cb8c443bd49b6669f5279e53bf2e0eb2ab616011f1a83792bd039032aaa287d2d06a57c9c427064462571a5f69e0f15d50f24621ff9d120d790f4a30216e72f4ba58d84306e8a27d2bca90fdc3126dca7ad4cafa97e855f892d74f49eb5fe0631cc22a106ee2fffe832472a53f7aa50b9e9457b01bf78de713e555535bcd91b0c0e7a51fb4fd08706275908b2f4770ed456bfb36c5744b59eee15a7bd0edd3d7d273982c16aaa56209fd7ecba89ec15f1599cf96ac5d5980d071c8b9771f7a3c9bac543a8b78d731e9d60d04aa464e155b309d4f783c7a6a34bc251fc3e8055bdd41b657f111861290731fc9bde62387444af002fe1ee0f4e4c5820a7b35b48fa1943b2348967a9e42e7667c2d1d2203732fd5d1b5b9650bfe19bcac60c0b2d3b7dcceb20ec075691201ef2fe6960f0f03577dd8e7440eaad9f52ef7147e41a4e11406bc3981e6e4c04298585911f1231c1f34801205d97c44eb5c9df55d8d3db8fd8cf2a9b446a107f480a27d6aca8d687ac3de540175f4faab83bb84743df00baa51bacef781f9e2f4fd27a475c42b80008457bfed15b532cdc4cdaef913c4a37177a35a92e112409b93403ae917b113038128d05e657e2eb509d01ae0e0fa2e29bf9aa4501aa6ae49f99eada591929180bfc839251a2058309c8ce9388f720409544f37548e73f8fe84d11a34b6ec51ac1b1f6cdeedf17d2f81dd93949e018c0f0894a6ce1865fd13616109ddfcd0d71ded92010f8b7654c00e44d0ce5968d61bf33908d692cb32640ad31f2a7ce2644bbdfcaf8b21eae4144f689f24b645ebedaa93e5b56fd8a9201594ca16abedc768f3dc7f2f7bbdada6cec15a465f03f3ad398ef8b00a7fa9958203c1f832223c3d73bc20c15d42e0026f119bd31ce3c8621824c4fd95f8a8a529b20a976495a70043dd7475155c3208e444540de3b066b0d0b8c372152ffcfa029f4e85cfe80ad59500c7b871741f8dcf1d1c15302867d89b63b14af5ac9b81f36c94997942c37da68eedc3e7602eba9f6c12e77e9a80a599b9293a53ee36b928c4d600de2625b4f3184b6f4f1c3927183721b5db609b38130f14367686a9885a83d07cd3ac30a4edb014ed05d35383640c5220227624a7eb6cee1431ffcdbff823e488669ed3828c38d988935fcffd571129571d0ec703e1b5f5c65b1ab2bff05022465e4f3442e322d719f2fae322aa733fb6a0b8e55dccdd30f8b407546137f3f6b8da96fd034eb59fc616f8e94eecd9fbe990fa467d54868164ca12322fb684af8df58159b4b490182c8534c6cfc7ed74c6ba0c8ff09e9b50fd1fe25876f043ebc81efc406884e8462016e689b9bdac54228beb2073c2d02a55643fa582ef1f41c9b6c90305438b8ec47c9e7ae4cbc1071d3a2dd37fd385782a7c0f85a459e33d7c9471b8853a64565d108e40cde0271fbb56fe8d1539e656c45eab7e49f96ea0f9d6b0dda341f2af80a39094c437128ad78ba2aeb31595a81baeedacfd86025f9450d296e2ae66309036a0c8cda4bffc1b1da4f376f80557c5a66445f49b3f228eb926e28d1512d3cdcb09e5f1821dcae7a64601d95b98f3b74d73f26144f6f062a55fcaf8e542465aa30aef28ba5e87c2e19be992f5bccccbdefa4b5d2d7f4ae65a130703aa2305aadddb18a356d556283aefc83d997d590ebabae899816710a1b9d080a2a640f65a7241dd157e80ef4cb9a1fbbf9c2c36ee83ed3f7df8c161b97b68c1369e6f76e8c54d78eb4bd7f2bd43f5a7f6493a330ca83ad95ebb5e932f3f49908db6840a4ec8cebf0dd427b8bd92efec05fee7ac6a4840387e9b31aebfb512483977da013d0d08723c4f6801af5d942e89669bb33d188fbc4ee7a134318f4ec0ec07472ed3bf87f3333000d446a02d7e45d40055a4d4b1bd68b89adb3443187db7e21d3bd7bee574a98ea48b0b50c587841aac5c5f6f5d5723649b18df82a2bd1c1d5fc052277c9826e7fb2a2d9be0a26f47828cf9990e5fdbf9776093f04e9b87d57a30aac5661f94370145d97274a1a01b62eea123d481b58a4a08cb54aff1783b33b9d5221643078aac9df8dd26f5f58e89add408b7455e4e074d3d85dd219727144009a3caf070bf71885a67125faefa3c696f1e86bb41399bd90ce08a9aba547b28c46bb2a6c182f41b2baa876b4cb347d42884373e19995f15a8f7855749cc16bd55504200cb4b8f56f75619ce623fb0b682f9903785c5ee8b9074f89aade2d4334376a6fffcf87ba9b286fafdb1625aad0930071d1b53ca4174546d1bed6dd3fb19b39368d228c09fb696b51679b8627ba1972e3cafa8e6d3ecc78d90949d9655eb13d3ebb948df0f60a0a1bb1eb4834785f8d06df35a937761a6db052c5498b1a10032df6b349a487f26a94aa9ad4712ecfeae5257d6a8087d001d9507a4ac67cadf82357cf03f4ba46146ebe362427d579a598f00b3e3a2bd3a3e26e15f40b443bea6cbb906ea6552633eb6b68142984c21c061c4f007e7da2cda0464b4f9b64133fcbb7a0832a041e2a3fc6109d93be545441c30ff8634d73a4796707468c1dbf91785e2ec57717157174df8767fd66e90f950a1da788e5137a1f1abd3040f26a2113e203bf8947b2f851ebd20fae2b959922c68ca81fa70d0a29a90a907aa7d37bdfece4fa3a274ab794d37934986d56a7c9d3fc46e5ed490a75979aa18b542c722b2608a7fe7c7d03298ff0fdc220e67577cccd8eb727a764407c7a64f1e5e17e36d7d657395ff264f7250a1738d4999659a155ebaa2d19474e70c658aab9964bb1a47f303fb6164994722244d54e6e0e01ec3f71c3ca5a15e7a9d5cbd7a8a0fcb32a2f0a515ef4e3eece69e7ded8bd786817b40a9f5b4e770dce631ce717def1bdb42316f7f1b108ae6498f423e61d39afb95a0daabed4622c0318b3b536b643c750b9a85dcf33b99548d9a945afc061f38f8e3e029383afc45bf57afcf790e8a13dee532b9fb19f2ced63116d7de6da4889481a1c914f5fd2fa60624c5bffa0f58db8a6fa6850bf5766e5ab9604d6016b4ba4520dc9d63a68e86ee189c9ecd63626830aad05089a39e15ea53a2ed70b4e06bcc30cdf2ad980f3836ba830e04f714b69423356d99a4e85a531665053e529df1518e92d23f1e9cd663de2e5abf837c1ac210f83068c3583524a7db3398f46108469072cca4571ea22de19bc6735a64d6b45d257f4f0b14e30ae7309f9ab50c6cde9602bef65b7aa7ce2e195f0f13e59e069ecdbff4a98db7f9b743c9dd433327504f67a00578181a607dd87cdad74f10b562fbae35c206319177553c480b243b6b97fb4364baf622ac306cd426656cbb19241411caac3ebc998ade0cc639b4701e9c73d1c03446e77eb9bcaadcbd34faacb2e4ae8a4e73a60a740897fe769b9babd36bfead05ef56564ff265171dd6b6dffe5d340925108d9111d71310f92f8f275e41d47893ceb2c31becb3cefe8fa65c47d4f9e4019355709627d90ec851814668e5ca9b34e964eabbce708275697d20a471f8629c6c3383b710fdd4c721794a1edda94d5cc8f195710bec257ecbccc68aa38a0c04bcbfc80ceee3cc70ea9090c73792037d55b515dbb1832bc005b2207c21a2129e465511c555794483ec89c6f2f76db8db03744aff1b9b70c35b930b09a06e8d7e0c57ce600ab51bcf6885ab22c2ee7d6692f2c6bc6b56ef6a433bea82d25f0b1bbdbaecfe8b5fa4b213de1acd5b07ebed659ca88e9934647306bfaa109e4dfe420a306e5bb3dbe64bbc68a8197014460e254f87089b7b2308cbeaf80a06b5ab0365cb6fadbfe85e61f114e1596b1ae49da3cadea7cd38c1ade2bcd849c180927561cf5966a654de8479f7bd4587fc302fe79544509ebc8d31a2238f3047233c3eb7be57ad7b20525f8481f946afd67c78101c23fcf3452f8ae532cd0dc4b45c2d713cfc16b2bb6510dbe39c85a38d1c04dcdb1c718b83a44e5e50c7a9fad105d50d6ef2482c39c6bccd3ab1fdc734bfe0995ffbf9ccaf9ebc060c116733cdb825d33c46ba18e57bd897198ceb877f01a81454335ef5d8e2af748b0fb24bea2ad1c614347467be63f90f9e1a80da77f5bd2d59d273b97d6665b7f95e9a72963ec65e35e8d2a92abb7e2ac4e1e37b1e7786b70a73fe6a9f96b7aae72a5b0ac7dac8c0829e9d97319e36bf7d4b8c185aa710e68872827bd58575b7331149a16ba8bad91ce9a28065ed0fa57030065a88b1f24eb200cd4f98f64ab9f54ce3d151d09448929cb390bd71a50ba12be93764d55b8b1a61c6042eeb0e056a9ef59eb52bd949540255f0514ef0148f1111b4d7d9cd38bd709ba31016ebce0d55c2e2346cc3d7114c8a28e3edbbeac1f440ff3d1b7e987ed7ad400a1d48c7ca0dd4168ff086abfaf3efa7a6311cffad01348de1e9c49ad7ec23cf5813743222ba5e68b60321e2cd54ab646082ff9ea75771adc7ce072a18df3c339a5a6e3ebba428dd92e9202bcf1607c616f04922dce322aab8aa5908c19abcd5fb3f9a3e49f72a7eb4c24963fef4d8e332627308aa4478109c22e9b841fc698c4387fac30098525b5c3927d4aa9f3b22bf4df43f40d18c7523795c30dc2ebd6955e3772230d00923c41aa8c903cde0773f9b792183c56cc64447e4d7381170b3f09dbd16ccab54672cf1e9fb279c83d95a76349ba7841d1666ac5c1df9e366d713e53dd7362e10456d80f438ae4064eff7d4eddcf5ba617fb0dc788d9392649125ea0d78bbe21987c0b4fbb4e403c55e6e31f9bb4fc31c5decb1913389d89eda25b9966aea319b692baac52337e0e042a8423151c2b4d0ff88a187d587cb140b96781038cfc6a497da600bb0c067a52e9a7118c33f538192f8ce7a7f384448a54cf4610f2112da72c6765495b2b2b09560062b87c2867a6ea1dcedad14bafe48a2fac4775a01ee2da14b35f646b1511d7836776c7ca78f823047a42da064b077b49957185259cf296722162b081f191d98d97096a58f50505fb9bb3d43b53927612b6d7b32fd8ff97f604b5e2b27fb7090b4b85025df3f62bf9ab360ce33f2a0358fd065404d7dcfdf44c332fdd420ea9a64f9cd5f7f9965529e64455cf7c0eb04bcd7ba74a0392c4fdc4a6e52533d4f4614299df777e94496e5acd8345a4619af23f1a8b21605af3f0cdcf16dde7e39f4b13b63b4bff770fe85c13bca1fb9390b4c2c0f6be1d4855a37e60b97fb8be5963e486e847cfbf55c54e11cc7c1d2db0ab5a6d6fd8d003c8fed425428d5c25a644f6002b411b85dc7ddf6f068b84f40405859dc1d31cc0f18a278741f4eadcc43d98b48cd7a05c2322047dbbc225d4113956963b82dd8f14f6306436ea1b4568d97dcfb508bc9af4652c344fad24da7cf164c12797d0b08e743118c32dcb84e68c1dd50a75211cb83fbc4d6e6aaddf21874e1f785778b9371d6c5deab9fa07e1f797c2c977969df65b386777b75567148ddb9b14328caa6573f466a3c02ab9acea2a6e605f0e27dbfebc12c181032dfeea71f41a32d89e24161a3b6592c989bb4e533a95faad5ba35d7a9a0b809113b5e7ade8334ba4390023de0b3abd6145c0153383b348cad8826b94357ff5e632ec2ae18b27477787bd846f5c51f3d85f3171d9ba1c191cec74d67605818194678640461ec54a0140f08d0a935ee6f89bef99ffc9605cb79536bb33a9e648295c758d26d4a6e0ad1b1244859bbc358b2a2b8a43be221bc72b4c9f6de37ba002eba2f8e108acd49f3887351e7d46d26f0a8a5f77fcda9c88eb9562640998e0a39d697680b980b0cdfa4e4c966c9aa9a7b5905fc7baa126d073e7b81ba75f2cac6f205d39af7cb7dc4aef1922fa2e18f5121b28439f881f1fed4a87bd091555d9328b396bb8d1f9dfeee8b1c588be4622cf679931287de6984be3e651a2a3bc732e25f10fdba7d8649ef9b443840a64ddcdbfa3d3b880a1fb2cbf1aecad21b80d1efc0027f567bd97608cbdb74b5e9b99566f3a604bfdc2931de75419a4624e0be3f6b2bafc8525cb2d13c51366e9fb8a28d31531256515c7a2d540ed03e59210cc3c8d815007e120aae6221d15a0d30249c017bc50b3e0f326f3f0c4a555205c45997302c844d32f8f8f5a161441f0a5ff061b3b1847f27122259618dd51956ce53fa6acb90cf3ac9b19483abbf3ab5e6369128a5d8a914717e7be9653158b3a6441e4d0008847a49755660667c4a18697b7786ca8be27cb6fbc9c56cdb225897726b9f33d0c2f57d86c9bb9c0e0e9c22b2d7405f05ff0b55c4f27504a9542151f675a2bdf2d7e68741c469df4f6251dfa6d5673b44cb65b37ee03062da38cf3397d59d3c11ab5670ae47a24c924342e148bbd86461b834ebe84977b3be2c33e8dc773151e07cfb7172724479191fe6b4b7fc5941227f56f5e0195ddf37ff6a4b3e516f59ccd769639533c8f7d585b47d6abef24493eb4ebb2bcbf32863b7b5c4b00347895e9e20343af425530f42cdcf81f12acb6e5358140431b3923574d96e04ae5520bcf022367267fc935838de0254ddc9a0f4cce62dc72440e3220c4309304420648e800f6ece70b646efeb6748a29219cd36a52b8feef48bab11f20f4a4302a28589c61725e09535deaa447f56a4cbade75020a3983c5fb129a66df0525c3ba703ac71b4b59c77971dfb7ef8ee5ccd090df66535522deb7ad9abf96c4850498032c9a1751cea6b9348bfaac6c7665d8b36122f41b769129dfeeda63ae1f4fb5dd34ed3b90eb0ea61b3508f4391f2ed58e5926c47ae3be5821e5d2294a9890a5317a7beb4e98c1dbebff48a227a68759b2407bd65b47e46106b97f2075967b111ef9cbf32504c3250adc4235764dee55fb6a78ad90e1dce1b2ca4841840a865c15171d842ac094b0b49fafafc57a6be8be29618b81aedcfed39e30088cca4e5e243a46171a568acedd16f92b01f7a75f9ed09a2929b80351b43a98ea66bd32ad68c71247559581d21ec7f23bd5321641845764eadea3a85c54df1ffa85f76cf9bd07cbe6502083317fd419e70fc3b1cb4fd2a40989badd0ab91d97d8547b5373dbfa5c1c52b0a9175cda8b6fbc9b66f7b5060156cbb789453ac7d97ca08e8d272327db66af0bd49a4f9f8519a1303d9fc8fb678870c532835c451115056464a15c1fa1e11fd598cc7ac67530e3d82f4a4bf0ee3900a68773417b6737bfcd2e52420b6f8170a3c2688df0f19ff6edde1d2f6e8d4b554f9fcd30d2a554e9f8c0cc48d6734a161f7d45cc5ad008e2554186582874cf352c27311239ebc3dfa50510093a44a33e1247a02c823f52795ee07e8054243acc968d4b57db26834a401ec08ae850115cce95100543ed9f491c426ed6d9cb28cdad314b71bf2957c6c6945463d6e14319fb1c99d58263b9a570888976474da9a49497664e286731d702b3c78bc0b200e9e444a7e7d772ff8cbf04876effb6f9670dc6771daa7ed424b4cc137d36131cf9f9af767cff065bc9f61b8fdca582c3c18fb57060255653266ee713fb6f2a62412229ea1c13612cbb5ca872a2fc38da92cbe2e241381de1aa3faf0d99f01c3f47cce19fdab34d59c97c1e07baca6eaea990e3edf98a2b2649553adaa6878da26e8bc45bb388ffc69ef22c6bd2f05962f0ad494a4b09a0b6a6c05b4a6d706ff945c403c9eed2adc373f777df8cca5f5fe1fdd477af7c3e8171150cc3a03eab85c20a30dc420c9b40022588288140462f11216bce32a7ee0504fcca9cdc813a7d1b6de26e95d4b91e2be98453bf931139ad1f4a7a4c5174a1a9dbe803ea390d209987bcee72cf4446b41254939153ff6d5e4401fc7508dfce6730b59980c10bf42245011693a9797535f7043df83caaa6fcc006e93e8c7fd9550a5533e6b63df702a927ef5eb1ea005f3623367c857379386144cc2adf1f8db95ece1c187a4f0cc769921952c545d9c043d7fc2eb3da9b3d566112dc17e00da29cd180270ee82cdf5ea6f5d0be7a4ac6be58e56e9d50d37ae9f9425fe07f3ca438ed9ea824dff7cc63c0a26386e3c81a83c882de9a6caf7608798f0280dad673fb275dfd8d49385b022f4e937b52fbc8f1ec2cc3f7fbdb62bbfc555e3222c3a2aee70a7aea48fae897d1567c1ca6268c96587276e583794ec8e3a988f06394efa03e11fc8f1d0bed3f330c8b8f201531dd9fbc18df0be81e9eb79258f52e3fb1744b2fbf47b0682147b632c2f7b031da8056dbb188998119aa0994df8fcafe7b5c08499583b296b13d388a0703345863de55c5cea265cfa0af7c988b829d1aef4538554578339adff1011aa7b58c543a15595099931118d13c8f9a2536b05d26e60da13b7e0acd1105d285115aea778b40ec8cff50c42eb13e14433ded1524157459729ceddbc1db74aa8ca8e93f6f5663b4debe8c32e081153a19cc56cfb5ead8d3139436c297d713480f4ca0467f37009c3a05dddaa968b3b74fc4b40f73210d7d3cc71a3db4904fd5186f57c3013ca557adcc952071384a1ac7d4b59fac12c5e812b6b5982fe1456e07b32ea8b3450a6068611ab1c607d289e2f77a97685653c418af1f53bb3c88c490a029e71ed28b3e999e7af342a066f63e2550416348464c3894e79653dade25201da0d5bdde07f85727ab00090cb3c50f70befa2e52510be652ee7d4252257e4e383186262e8969a732d066ded3528a7654c1e2b60f235d99ee345b62714a19a6c04e05deb61984498914650e874b94a06a06613edc32971714a666be5d7111d020307a69094b47b6d731ee0a9591695ce8c2477f551314a241561a30184c7eca9b448b274e60d0ff2cfc7a5f258ceab4801533b78e22d7dc78edd7aef00ea19d3e4a2f85b4ae913a9792dcc1cfe80f0c2b0e9c61317e0ea622056585d9e6892e8a217ba0db5e706a617ce73ea76f8773d09eb61c147d4e2b452b6597c618cd3e67f1222ec2b91569f9f5b27f6d165db7e67e470c801664174ffce8ef3d872797021ca1742fa53b37a764dfb0bff831162737d2c91d7cfb16b406fa21ec2ed05b8b1e9cb11dcc65a2676ab60009d23745b7007528fe76b003933c08e0e156a88aeccaedb6fb199beb2ef71328ca9acae024dafeb7787e9a6b9864a0c262c2c86f971586e74ef33c8452b4a04b3db3218357bef9b97cb042f30b0266b0435d138c5b3a71b140fd168ec67fd0b14490f7ff79b8ce8acb39a43ca47d1991c313e17984cc645be27a06998f08eccd32648e2618d9c6bb19f12e69c90d38ff0537fe16931a908eebb7c710e61e441949e959ff05204579c03f8c1492e26228582ed3e4caa2ded01f930c15c96637f9ca2de4d4859ee4996ed3607c26d5e1aa62a3c7dd27ca95be3f4a3d232d1d2b4c99935084aae0f18d349fa7165a3cb5485d05a2730851277565e304fdded11c22c0a26b2746bf67835bf94c9e196b8ee12bf25d461b8e4e15ab578dd03d6c5e55516eb11eb1115a427d8314affcdd224629577ccb4e30781072a193b3e0920dcc303d4050ac7c69978bc36e4bae03b207cfd563bdf8478a9b6809010356223ff21060502e7bb16ceec87a6ad5502110e9ab1f04f05465ae7184f43cad453000676c4f3874e42f0e6b28fa23a767b39efe3428fa69e2fdf0b9e3524b63da99244d81cce527dae4ccbe822c9617062c055406e30d92810a4eb1411247dd618aae6def36fc32e8fe40ec2777b272703599ec1bd9a928240e31d4d65439b0dc6bc092c41af86f8ea7655ac7ac06c041a62de781a64ae86dffd9dda399066915b920a82b995dc500a2f238cf86ec01e15d83de1d1ce9de09e603e1ecc41663df6529f3b10b48e9a25104dea80dbcfbf64bb5c3cf0ca086ecbdb519d7a7f57233958912675fa66ca8cf87ebd5c8c9c8d207cbc64eee18f41035b1fc07ba903d2f3313d8cfb0b00f3140912a312e9e51253a3bbb735f164133b2f3b663fc10273f5a10948f254f7156ae734c4c58455a7d554ef3deabc57b9f4d1d2c79ee81a35df5c4396a5e196210e5696b592899a76dba216e06f58aa14bc52e066316029e7ac98c5a731e7af09a7d1bc70c704884eaae5c872c3587d7b5a8f714cab8d55c92c7d672a68eb425628d8a9919046e6ea6868fcf6211b9a52c6efa77ed2544fd9063e60b3adabf348c8c043d7a60f2b47b71355d19faf1ab8e2f9f8a1cec8f12821ac10f2e44c10f051a1d1b975e437f4b3218fd2232814a3458225b34457526b988498dd7f3cf7f16a268fb3fbd852040315694c5c14787d1322a1b3ea9739b2e25a7e8eaca087cc9028613cfe10075605347f1a22ad97c0784fdaf3fb61eeb9840e1bf1201ada1de6203ae1f131afceef679ea4d89ed222807dd26646d1e0740add9b75431fa105bf35a278c83c633b507340445aa615272049220aa2c48ae6a231661de3b5a71d0b2f76afe681e016f97ab65658b0605b4916e44be095708bfe7176c470366dba24503c70f2ab59d635c3bbfd99994ae5b706711367b3d9841847aafd65c6bc1cac863e25fdd810528b80fb4946441eea3deea65fbd269f84778aed8f3d9c22e8458e65f8ab62f29dd4035417916e718835def45aec0b7cc0b0aaf23a818036c7a51b11c8b3fd33d00efb8b0721d3aad9221d59d2d74fbefb8174214966c73b051ca167cb847776b2f9fba9812024eeff6b5a9374b97d729019711779bd5ada9fc0004cd0d16d980dbfc2520036140b77dada287d31b80982140b5d7bea13ab049cf83ed55cc92a0432380af3568a4fedb9efeb98fea329a88e05a8107f8edd7a93942376bfe9ec0e1616fcde8cac021e15ff1ed8c6a28a3d01860a47e0ab3ac55199148db01ad9f756e7e772bc3bef84d1c00c04c0e07bf537aaab82a58ca725320ee3b9ba01bbc38f639decf9777861b42d65b904bcadc0deaea5a79128815fd9b47b02e726a1de60a7cc666fc9bafddaa0ba6aa3c12b8fd326ea726d6a306223f1377197aeaf4896b0eb1ae93214326e8706582c209303bbc7d1a50f824c522859a3efa8f1a2dfe8f8284daded7fd15df425828d176da8e32f3cd091eba6f49d2e5bd0162fde8371286ed7f508de8c46ab0770174480ba9ba881e6b346b85732cbf0287176448d9128e52fa9b30ada65cd7497f8efd636d44e0ab9ceae5a86dfc7a4fff3ac464dd9a271cff1a0ee60ca5a91cdc86d51d4eefae96bcf09b8a77eede32dd5cd5d12e0232a39c8bbe71c4c5fef78c6426f566aa7de71c2528be712ab0071371ae15fede4d33c036255a78548065e4f1a832d1f7ab35452419a96d04e2f505738577f5f3b5a9d0a99f5e4c56947b6f0d1ade787ce72a7c28d45a83b29895a552c5d37cd8ded134617fc96385e2b80a6fefadd28999712819c67ccb5db3e545805de2396214441cf6836fa6650094cd6916ca969989b18f792c0cc4e3f55a76eabd93a91a1ec61ee904a6c03bcc0267caeb9f416aaedd2c29b7b1d2932d8c7bb86296dcb5943fe34b7ce3d3904142fb669ad52ce151a4f972a03973b8b1409fa8ce7327cd67560506ebf16e837eba31b5aaf82b468c8c6fe0e28d877df18d0333657009819f386aad6f2656783717e7eaedef86d4d73dfe5812bf745388458ff49b3412f5e6838c4ed4d187b7265c7e8ff4156cfc7b32b1da127e0212210df2cb979e82d75f8e3f36a5a2f1e64429ed35d5938f32d33f84394e9efda12256fdebe4290809cde3f60cb4bed5939107144c8a4f52a91285b23552d75be410560c62bcf9a185275437d02beac7afc160086311505db6075da7cf73a601d653bbc7fd549240d9aacc72d42e33101ced0db3b69a564ba53f878fd92d4d249fb88dd107620abed3bca4bc4802d1afdc3d7a34fd08ac278c102a1de9936844df8689fa4e1bfdb86cace48e757f4ce6549d44f4af7abde9c472e48efee54db42fe088ebb19ad8726131d5a4e56121da50d2de3e2926a223e57608c881a2a32fe820abb5304f53e752a18926988f16153f8e67f34dfaa9e3e71acfcefa65d4d5447c7c08c91b7d485778de219f6dfad69dab719ebf4a460a7f72c2e6971f4c3dfdf4fe6cb18820bddd172022111a23ea4e2f31795751ec32b52460460d4c6aa4be883af453d92eca161ddc8d3d04a39e4460843230b0a322b3ceb5e58e786f11af928258779ac29c88d06e0edf986a51778a88a22c6b0c368fca4ada2b0fd3674df62b56731a78d5cdc5384631b67f8b6785ed252d228a05512585d4fb92881454d73aebd60a2ddb32801ab98abf2377d1887c7e78017251fffe33a612d1f62d26c138606b58ec38880c9a428d614e8d8aebf76e8d02d88d1ce320ab676aa7761143dd186763eed3f2b3dfca8656844501dab6ee8ce1ecd3f19e3c1cf10023b47dd9bc04dbf2ce03c6f7a39111297d0fc8bb43bcddb9e5281499d24f8ee454d7ae7b14815d21adc440dbffd29013f2b9e705aa9c862a5b23850f0729983e857b17e56062e6eb809f27d277df2f782628811ba7d268db18025b4794a379fb21986a482d24162e53be2e77cf4a166b3c8f1b8c4f1d4f33c2acacf63dc752ca10325d519085918ca994e4be5aa521168ce23e86916b90cc7006bd334b432cd6f8fdc79540e8b4b7ca3da224a974eb238ef104ae2474d94cce25c554ec2572a096a764b21dfd7a94e0255dc1e447b6bb117fb7952dc7e118b06d633a21ad2a99b622112972316be4dc2c4bc7c773336ee0a5893b1159fc4ca918d9a612ac204a1eea542244b1e4616c107e92fbe5a66a3dd2fb9e1eec7276c5d2e3d47416410614c2298f26577dd7de127e85a4210605fe133a6faa4b4d79f5ad59149941bcd08c452a6f2a913ade9b7118f04c2e37cfb90832babdaf9b50dbc751272e67a931418c59942edb3905eae2e8bc22055e0abe1fd6a9825820953a46cbadcb98d5d00fdd986b46a64f31f18215ccf500feb0060c068f52350048ce3ef5c94693bf3f415529e57786b8b24380d2ce5ea1b1bc88fbd0a92f20557d436c5a19bfac078ef575115fb159aeef49194eaaf7c9c2f22193a8ccd6f002c6fd53d556d973fdb10cc748ab567712cb2d42ae210048ee92072af0ab10f220b39ac50865e33bf8cf9af17919d23c861a771a32905f1117b858651eb799c25e29cf8004dba2454aa42f91681ff5c7b61553d057da9604158e98bc4ef9111ce27e6ddfe70341e3e0bb14a8b1da24b4039d35b9bf25bb5b4070dafb5a9b4b87c594c0c18f7658ff272c90ee3545f4cb3c9644fd8fde8a0ecf1cc7c36531835c757c72fe3b9eb8484b6672e325d9f07d804261e2bd87ce5530c95e0c86e972a6682003e960c433a57dde23ad2023d98f2c6858e07c451a246ba1837175cd75d5ed04d14e488d8f7c2fbd0a6b50c73229bb94ed58a4576bddfe7ddce3a3681ca278af730dbae164b2b166f4352e50ffef33ba6cebb82f490543b7c005a15693b23906ebd7eb1d0619331f3e476c27153cd4062cac31f36be8d3fc0b9b379f761c90081d7e781fb4ef26a19c8e28e03adc048912efc58267756030e3481ab40df891aa7f869541ebb7faa3383833e16542c44103e7c1e66d2f361a7d9331182ec3df95fc112a808afd314de960a24257568d123d6965bd478ea296c3a6d0a741074099f5d264a8b3f9044335a3e3f5dae2c62bbfcf004a8999212a92ef3247aebd70b4b6c96939e3061fc881d6cbff340b11107d702ccf4e4e56071c5e20835815fe578c9bd85e2149059186fe06c77a50f8eb5aaaca0748a24f660a33d62b0b00ccea6d3af0174d2d4c8a49b85643f4cb7a717f354021b2f9766fe9a66b6df39d3d0024b9d5dcf64a0239d9f116882f0dcd8dc8a9bef821da5405e11a37c5a5fff0eb2c9ea6e2549a0b7918a65d00eee4e0f68a9636eec185ebf86f1e4ce0f8c4e46ab1f9d9c84640485dce959e669d146c951ae27e7bf3152764728d64dccc4ab378ce91f223939d56f89d5b4e83fdad21d1c6678d46b948527f28b357b25d6a64eca6cc6e31139a1f6eab45a9f356298160abe29c185252a0e01e5703608c8d2c7dd099cd2de7d823682ad40eadcb0608c542092f9d3f1c3c316b323548831885caad45d80c1dee11c7eb5c72b33c1e45e3a324dd6d395b8d576111064518f2492dc1e3b716653bd0f95a5a961e1798a66a13ba5e0365921c3e3d4c4034436c010f989aa7e07ab9dd520b5138631c7fee3b0a3bba6188ecdfe78d809555a5a6d08ebb834dca35c7a3a35722239bde3c48aad078f0ec7c95d3ad2cebc116f66d24d5fb3508112562bf9277d015d2f305dd21db2a777019c6c3b4ceddd31ca2d88489f63089b7aeb2e955a8cd8909ae5a2f9e220eaf4fc61b0b1461552a4880a3a1c1e8b881fb6ca0684ed3400baadd6d720ef8acf6d0f15ec78abb4f0f0e271e78048868b75201983dd91129e0a3d691d91e0097f24ad08d9cc7e2549d53e1ca382792cbcc8f76041fdbec4e1e06fa85aed7d6b0ca205d6a0117640f1c8a9783a96cbd3273fef016adea60328a6185bb84c0a38022f5ecb112cbf3c55ca63c4c34f3cbb39631ac8fb0fa2937ec00c3dc18062f642f2998017caa9973d15fa2442151fcf8f8a8a77df406556b3e8ab5a967989e9993d565351fc35d5c846fe5ba4ef03583d742f79083f39cc8cbfc488ba35f28216dc77fa5884c6aaee1f9bb64287f130d6f5d495193a98e95e6782ec0c7950f360a4d4f909c80b1a16f9f9093b4fc731f1c2b164c51f9cd2fa8082558b41a96b2e88894a9f7687e2c1b3fcd607206ba0ea8530e753dc12715fd0a40da2798cc922a91787012343fcd6fbda8128453781a1b3b6997b41af25c7e73fae1b8740dd035ab9e40a0fc54f7abc418bc91d82fb3293dd87f666787094a34e2f1a9a4f99491c92c9418195d69bd2c89a3113421a668f4c78994cdabe65cbd6ed7caaf18914f200cb3ab346fd90c08b6686c44490729301fcdb3f434edea37c44fd1d78cd8d0914548a1b88cd1da60ba4456d6b2486fbde84928bc94c6323abde3689326acd58e878b9963029ee2c24f6409f0ef2f144dd9991bd266efe4db91c98dc78c408c383","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
