<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"27263f7497bfa3741adbfb77fcc85bfb9618746c4deb209c9dd28e6357af7ee15201ce0833cfec6562592b96317839bb06de53fd3c2826ed072c1f96e04ed184fe4a132bf0d57650c44b711e1b363b96a5ca0de8155df77e9854c591cbfb8248306eb9983a22deebfa720e117b2d5ba48313fdc2013baf61b0aede09e2d10a6ea8f1f9a75334594f302cbee4156aaa90dfa7964a9c638ef4a5fd7e72bb8c8ef3fa49024aa05d6de7d965c53968ea515809c23de6b827d5de6fe16954a960a1d5abb4e4e6503f83b4946a5f8f56bafc1e7eed9711ca101e9eeb3669cc35cc4d8fbf8c17d0abf60b09fe0c19c980210a3acd30f29af9f11ad22ce18ee13188549782f6237fc0fdf542e493de9c5e01956fc63ac673cae159b31811a3906b7b47f40c2a30161e4f164e75ebf557a2d45481b16b4baa92aa1ae8dd2dcf856ef64c22fcf0450d9fe6b03148e58e10b6f6cf38dc498c8661699139cf758a0e01a51bca20f0f6f8242d337411b016af22d40cd458fb42e2c61dbc931b04d651df56d2cf2505ba2bda3fed761b6e6b6d7417b61882610245fde261b186bb507c3310d19cf56996b150295e0f46d662c32f9f69374d4bd64b036a416e5a5f17954bf66332f862b6a599c12e067085880e57689bb9a7bc869daa5ed1efcaaa12a8444b5dcee337a7793e8820c8d425773ca8d3605cda434ba178554700fd234e6a003dd2646ebd095bf6acc185d816b0c91bf60a8b6926bd19a1afcd011ce91d8364ff3696f5593ad67dc0b2af8e5241dee577eb21d60bbf25a76532ea3fe101a8a6dcbbdd6506e6d9c0f6a5fbcb11296f4e0c051fa7f6ac57dfbd0fda6e9ae38dae9d1293e8af08a2844ab9f683cd3fee9be08ebb8d2bd176f3aa6461c38051595f777573e162768d560e53c290e2a570951c2876c47a875c90b5aa70a4f5b19b27cb0423ca40ae381643a42616e6d6b89aed574e455e6862b582738a160007403752152a85038571b251dcd23411eb544351007e4126b5b322169ad38d643ede3ba20e736b7c1275cb1ab9de0e45820fc5d90b9a9cb826bf3f1a257e27b98d00cef66c1f4641ca35a3ae3f693444f3abe8bce2beebaed5630e50cc04886803ef92b815011fd19f14dfeeed4a150d9919c27024f838ba04a9d16ae335be2b9dc20f8c6e889bdf9ae703adb07a8de25c27b2b7f643c40ea746e0e5f1575cc0ae094f45137ab3da88ddd6fa77c3c5d37463443dc21eeeea9eed4e670e419db589f83a1c80492a676bc374763fe197e9a1d052f8f86ad3a09ca159de33775a445b5556795c46ae00f8ad3bfb903f1352183c0775dd33133ae447527ce2c87bd3a71632b4e29a70613efc63d06f471a156d83206f392536cc8265310a1df25055f487a74baa121544a867ea562affc8cdfdc070ac80d0930cda8d876b0e75ca3103808e14015419924e55ec784f06207055d52f7db91b80eee6a163c06ad02f601845341bd4245187b9ea652a2f34355b87a858bfe65b049f7aac790f8c390d4df701c007a0fa053ed2ef2e0876b6d8686bfea422c89c083af12e825d214aa1a318ec2dcc639f4124ee88f1339cb36a0369123781244f3a48c6d2a9449af31c81365ed98ab13f0cea825e24057af08bb94eef0239b88f89a38e83a56d421502e6cef70f435143311ca77bb603d55100034dd5286fc2cf2e37087fe2226f7b69e73cd4ec736335021372a5b2ce6d688b2a442380b9f85b85b91d81f3e7748093f9e34bdca589d87a7c6bbf8847c0ec59b2ef3e3dc9007df2fe07021830e24a3f24bd218812edab99f26c61925811c560e8449500313fdd5732272979a19f2b3f40bcddceec1164b11063340d12a8519fdf161cf1f1db9752419118330dc0a96ced195793466a46a568436cae3a45d8646b111a45c0e8da9cdd0f40f4ec46e0c12e817bf64efd8322df96d794937a517049427d0313fa90686dc06b54d399f1526967819de49db68644cf404b7db96695e9f04f0429e845a7d8f70edffc7b59a0881338d8e865ef1ac49d17c6918709639cc4cf76ad07193aa83390ff72bc32a8d90e0ff0d5feec74fb7eeaf335f643b5fe2f9c6b4a04764677d424303b9122f7ed20ca66e1abea379640a7887cc1689dace669096a7c42a7111f9306ce030262e620d8f7efaaaa9f00a4a8e9fc45dfef00f98723708f9535952d02198161e265cea02111ce6548074d0ca651da056a8dad2c4bf09855462fd51077b875e7db0acb3b0b7c9770bbcf0f19dbe298424e3580923156d0fe09796f3e62e14ab196fd4d87d119152d12476f693be52bfbaf5535fdb4af8bb28cb5774209b8def99571ec0073237d9cd6c38da6ca67a6773a1f6f4dea7bd11594ac9115dce11d8849120d5002d447c56c0e2374437c86ed513df9cc3ff6eebc36f60062b0b28076d4fb3fae916119465c35b2a8fcc9dba6e5bf3ced04076fc405c0c311ee8af54f655c99d720f1cdac6cf20ad2ffdd7cc7204f018ecb5f979505db5905b3a30dfb19b513d5715d90262d4b9d80710665be958014c5083701ca5e07cb7fbe12e8ad72b323149698e348aa5fccd7a6b5a259b4c4fc9374c291a167e566c56f93b46571c0aff52f23f4610703704077d534451c4ce780f0b05fd05fdfc73f6603679f1e70e5b649d2cac8e15b9754a1f60ce5c1c96de891cff00ffed3366eb52105fe9dd250a8a71dbbe867b31b71a425a91d7b0cc1cad810c9a1245c3c2921dc9f59779e7e366eb61747e97d0c668796151c18fd17f927f750ab234ff318462a2c929dc63202c026041cb7bba700dfc02394203a77402d763fd13eb9bdd8f15288df9f3b4e97d00afa1f7080f783de8f4306116df828fc1020e0d81d6b8ef7d7f8032860d5a36d712e57c3dd9842ad73a70050ba2ebc5ec73e678a1b30757009f346ade942e3336928df1bf712c7c266e77d78d91d4be47e8efc057a1a067ed162ee0b6d0ec0cf8b3c0d1f1ad255de703673e4452d49e8a1a3833866fa353038f547ac2b31333e8d3a50d9004b0bfdaf77cb21be9476c469f0b7033b298ef62d71a3c5a69474bfcfdadaab7a18d449be5ca802e77fb5357d05684ff74ad9540d1eee0c9ae86ed63bd59e06f53fe68638bf911ee07d65f40038b8bdaffbaa86c745c8e7f27eb0c9a39c9ee2ebef54fb1aa7016353636f2df43d28ad733ac480eb5a88210dbe87462d9b4aa69d741b790c09a1a8b54b923346e56ba28fbd91924f433ef7ce1b616178082c827855102b657944783d31a88fa597eef04743d2d451c7074b79255c51b5a846cc62003a41bd64b989b509afa980900bea033efbc6f219787a10870343dc8fa5789d4f553e0cee39d64b03f710532a1dcecad7dfaa74b7af79cf32fda711655e39236133985aa0752212c36aeac861c10f76a4739094183887ad1c6870ab0aa5ce730778131a81071566f62ef154d346064937297057484f35c4f92537508e9f4e96e6f015a84128eae6c024602ea010b400227e1e6d0ff0d64dceab8590d7229b95a04c208183c0b6cf077ba187adf39bdb6f8a973e971d28d852d03692fa851a5e5baa98052104d9566963e8e3aba2adb5be7fe216d668284743ced23e8f7646fe4797360bf809d97fffb469d42383f1bef759e5f4678bb6a500f457d18ba7ebf6964709f42788de6e7282bcceabe6c24b1b2a8cc5cc1e65b57a9bd02916ac7d38817e4a640c7232c180e5e18b3c63b680f985426f2b040adfaf03f7a5db2e06a9489fb15fbde09b2dda6cfda1ea1e13413c48659b8ae5e40b1da2b3a639d5e6a6edfffcecc6312f15086df4749e1118fe810b8e7b8709900b8cb44de93b5e766280c96bad018f07574cb6877d9ed54a21fd567e23c48492c38df2ba55d4c0654c11ce3065e3b6f67053acd82dfa8a7bb63ca289261c0b6a67443b787fd389820fc996a97708cffadaa32416c13fcd4098f65a92404d42ddc59fd00f9adbb9fc7e2a846d708005338905d0531e3ad7f7102fbb647937f382136149abc68c6698c414c31d8a2b5a1ab87009f7d7b1b1914804bea71a34ee1c04861db4641888b527cb1de073d595a821116d1dfa463194bd337f025a1058b013a15193ef94d115eeaefd4ac2436ca736cf25a080d0edb81044e3d4683b2cd4f989705a0897d169750f8c38e9b35937b830ee8b53b5ad2dee5bf4bc7f82376fb6a53b52a459f3e4bde77224c19f445f8d2bc08ff9061b3620537abdaa33a9520fe51f1868a49792ccea14eba6219c9c90981268fb5a5a4af89b69a6835b4d7f70f28654fc953ace0d838dd5dd26db411af37f6a37c210331ddaab89ef0d15a2d328dddb0ed967a17ccef5078371d704189ef10835f10a7885e80dc20056e9bfffc8850348527c74a89dcf5bcf69ae5ddb86b5af76b89ae4338ac9c045671baae4fc7287cd04f39a129f07c5d5042969093fcad537ccf25bf2317ca317d19125582eb81bd72290dd6d2e315e1fe594eea834f14a8274cab5c176bdd4ed20bc42ef22f5b4d1e54121c9580703f98741364b18b50da2f0c8b6485b6891c1c1f66837ea7cdea3dfba518c0e00832eeb22703c1e8b28705fccf9087a0c252d285f5e4ea60ec00135332720df0da210bb8e716d5af22e1d04a6b2b29a88dc472d81a76f8d9105c187c499d3dd1320467a9b79a87620024bff8be7656bae525ef239f6bc953c0392967ae12da6421114e7caa6a15c66a90db15108cfd342a710bfe03ee55632634decf568fc8d6d7328799a54a2bded421e51bb0e6d87a12b68a6f008e16cc109d49585f1af0b182a26532c64659e906b32af48ca8e069a51e68deaf0d393378beaf84b59901926d5d594b8023a9ecc129e3bb5fc1eea3fc3cac694c5bcab8c4d0656e79b5d66075d62accffc1850dbc202a63690515bfcf2ba89417de4e2e4f689b8a78aec6b58f695057781b2165b7448d6e4a5ba678998d5cc96a6f8ae0c77e3878207577678ce187d06b12b53f213cb00328c816feea97f4c0a6489db2d4cf06e2ec5e0f7fbfbc63475817d5f436c9aa9667d23798a4e13cf82d05f7850626be6f259eaacf50b74ac71ac622c1c7e5feda195970d508e13b40d507b3b1db12d22b6fcdffcb32c9ebdb6d882a5ddcb3e1dbaf94a1978e320fd283326b4fd79d1c6c844216b67494c0a86ef02ef1a9dabd13a08558edac4d2b20fe5ab7bf9fe017f3c0c56c5e6aa688bf1e62ab55179eafcbe3c277f5517b90683b5c1eea362bb217d8e8b94326f902ce6c846f5c6db138b5117d594bfd2111f15a0029758b2c5d38698d5e3b480e540a8a6653630aaaa675d7dbddfe6f103d823b7772f0aa50cb73fdf16037a3f9224f46ed0883bbda63f8d40abae4eafac81ded669aa8e14e51e7c3d9fee8e7e2f532e9d780ac54c3ee635de88b0a3ef4a0f5bcd534584ec0a353d806e12ed6ec92d0f2934b7c1d38afebeee6d10fa888f201451276a89a422174388f531e979011152d220ada76bae71af09513063798699700b7c58cb5a7ffccf8bd9d90cc9f3847e415991dace9b40c3f8efde1859af36dd684bd055b3cdc9ccb09203dce76909ffa2cd1fa755fd36eec84529e02a470d01e58e8ce0ab776b638e9372971416dcafbd3a9567c9ed8c7f57ff9ea1a893e5006c753d162f8cf252ff839cd88cfebeb1049147adddecf5bc5112a05e0a4a81860a2346523018f96617107c561a4516ac31ce83dfe114568f4ec273833196c1b63e1c2e17ad0391988ce8b9f9ed492a543aa731ce6e7f67b712eda359cb1f7cdf84bdf957da444f0d148d97889a2e24fe2dd40d86c6e5e584794537578f3e953036a7a276d550cdfa3879700bf1721a5bfc8bae3b1ba7cf2b36aea357a7809dc1dba9b8ba434258456d0678c46f743c3497ba0a9b54d037343b2de8b3e6e69bc2b6caf4400c2044209e3df970aa62da5e3374f0186d26ccb3710f308d0bf03faaafa1fd479890aea754552e7952417c04e8ba06467ad8b339f032b812ccf1c8707dcb7f3e5bdf856d5408fa287548013b9560a9a6738601f26d8c9c09d0b179a62cb981e7c55e2b12212f660394c5b2a413517e54037e83477f7cb63c37198f6745f7bf96ab0aaf19ca974e1c0c18e35f9c7a8320028ac6ca35077d9ffaa57f9d7eaabd41f1c6fbdd5c5fce04f5fb61ada84df98a4a8ca740b0f1cb82038ac611148621bf5db789f4e9a0cd566dfae2f280c7e23cb9786062a66bb809b0ad4582373740142dd04186f0f96a68d8c9677fac41da4f904ec07de6449f75190090e80ad9d9361fc4a814aca66dd5fbd51da5ccd8c2227960ea380ad72a0f8c029e3f79c3247729d05be7942c09a371220b544fbdb9ee85a1080572827fdb644fb47471b84b8bac9f85cfb0c6f138cc8b8a85f500c8ff609a6f6abe877f958ded91675f3e0562acf0206c82f1cafa943882df3c93cff28a3188009355aae8d0f2528ef9b7b17b2935633fb5bd59f01a1ac16adf5e119535b2d6dc441a76f2a4db851e45bb32c8166d9908de7bb2aea00d8289270912fd8fa4a549f2cc4da621b4ccff4644822b0401590d88657cad4d291690ad9860408d5cb42f0a093702ceb1ca79e462884d2d26fb8188e2fe087956ed26bc9e8d6d987693567ad43f2267c4138ee75f237e6e97869db0c3333fb4238ff3ffc71543b33eaab982f8a55e22cd09dc183ea9c26ccc75fe451e4b5a2d46e70d3adbd19917856242b1f8a5cda9166967e7c0711de9e6c1a0da4eed72cb1e4c8d7cefb7669c9107cc040d366bb92ca4490f855ec21ea94f8663b3a135707c3eb485c70025f981cad1ca2141ff14ee03e98dbf85ff453c29310b4a4722e6a76b83b713a6f891a6be7ef002bc0d8e0fa3387d58c26669fbfb3d0203429a2cf68b390210ea54a4e1b0afd82bad93d455ba8fb39e6e99c5fe97980ecfb4275910d5ab7d886fdddba3e0c1915387d04bc824247d0e534c49446e6365cc08a80e5143751599a9ed5a5102b64e63b04260174d03086260ddf936e02a1cc94f1f019c05a1f1ffa92381950dc73ed846442c1334c908782278585432655dbe1497ba89777e705e4fc07325c19d002a093679f8cb6c5a70987d11d61553010f4c6af5c61626b5872343cd05a29067132d572a806164eb62a327e715cbc6a0e4e2d05af7642da5cab45e401a1193019dda8a9b58e257de86b84df9b494e102ff3b5606ce6368f0a9a3364095142d909070d0bbc8d6df1880caab54edee6d1997cebf1329d0d61d34088624b2769a5125e1f76649c473e1eec2d7537090a50576770f5231afd5bda751b2f74f01c2ce72d1f148e807a4a49c00b9b8e01ecec0731f9a5cc30e9e1cf763487aa85446157c7087b591f2dbb563f929364638cc18c782594af0ea7545fa3b9987c9a49fd067154988700bb66f289b313ccb77b0ec44368166dc0b96c0442609b04db74da983e72f72d5d594f468440ead705b727667b58350244a8a735c97462670f84bbf0cd1ec06433f27ffd444f81a4f284915c6507c21b9ff40f7d144619425f0a258ccdeb0f44c9a1c005f1356b07af4ddcfcc90997b530ac1989cef85eb8b08ac2b86d6ebbb41b16dc96a0fcc50ddc2da826940a97fb8810c9f38caeece013f3e21c13e00644688f78d18451c0e8c3c5dd4197de86998832e1a4dcbb1a2aeb732fac1ccdf7704afe716cc03fcef8b42d6d46c64ac4e1d5c2a4f8eb8b5d129d06270689aabb7b6f46797a2d5a9b3b11afcfa5e4a66dc1ee04cb03ba64ef44467bb2c7c06a19821b03f666daf7eefb8487cc4448255dcb55ad8e44cde3036929b9fe1e37bc0db996bbc51ea0b3c91bb4af485df195305f53dab5a6abd0ce974f61c817976fd12ad7e30ce9e8a020f9a4b9d577c326e08f10e2f3b5e091b7e6efc92ea1d5822e1b98ddeebad036c41fc319b26b9510d84880c5202ffd753b44ce57f0e0ad4a4ca4847cefc8aba4216c0769a6126023d13ee13e0ab4b6d07da6ffabea08abc088ea365caa03f832c026ccdc558c760cfc6dab133b71f0178f8adc7568e64b614f11be6af08b4343df63f5decf1e5f0b1b831420f5eee076b8142e2c3d7fd7144d47adf7fc30dbf8c91054714040ed8fc42ce8e33aded8710462024eb95c6b48b5e1c4cf3b0d9e97bbad9cde221366587f921faffa717265b46e904574b607fc88115438a271b59188f220bfdeb5c17ada9603b02dd91dc519802aa941f40689728601969673eb9e466812ba0073b88e4a7485c33a956a333ff5b3642000a2bd176b764168daacfaf44edfe75b6a00b352614f43b185b2d3222c16c5651c491dc983257701f204ed15d5d5d532d84a05211c7448e9ff20b2540d07d3ffdc3b92a0c0011adf31da66897ee505384703afbb57dba1532846b9408e08eabada472f33efe49af87611b99db04d3fb2cf49c4386d3748b396c972b8daa21851559d88a429ccf1e1d396e601757a6a26a8208ca3c410c31580f393dc9c5d97c94c28f33f42b0ff914d0fe1488e6cd14bef242d51be8e6cd501be3594821a8c4348bd0a6e8b4e78bfe7287199cf4ba4c833c19727ff69b9c7476a47b24a054a85cdf05651b35cb85312f33ce21730e302a4d087e0b77c6dda4c79843e06d4811d10b81e9fe16b2c75c613c89c70c435115709b0f204cc50ea02787a0b1063167103d57f804f0727e9ef285cce70b281ad416ec59ece3583b4f10c7b8420aa931db1156a15b40a641d5603b3a31f9877c921d70e27a6b1c5d755b43c82680486cfcf78b5f8747a2c2f77dd05a89f9b972b5e946e73e5ba98eb8d85367a6fd3d32816e3be4ef56e4fd4a2a52143ec3ef96425d8fae0f66153de4a08c27df037055adbe93e9b474253ec66c918730940266677511609a7a8c527b675973e2ec74c8b44635ef64736fdda2d00821c93c8b07fdab61b669c17a9190ece911608658db503cb06e96e9f3a2b6737d25a52519f31a9a2cfe651563e662f0eb0c808364c30f5c4f30cad08788ed0e78784ef699292005e788d3816d2e0ff52bc2cbc92ad54389cc796af25eddd2b15e23b0aa815b2b8a29184bd746740bdc70419fdc285c210af93722df06222a16fbe0baf71cda414d7bec8b1251c1c9b670d9daf6857d3df80aac8d9905c64cfaf614fb735066884a4e0e7e25ccf92ae08a8f8040baf66f5cffd5cc734bfb5d5061f83bd870ef372df27171215ecbd045f83c2013affb14d6d8f2b7badef55eddb3696614a5da860ab9f941dd27949b9c1891bf0be4cd0db3270b67cc57601de6c51553255fe2d8b2c7bb772f21e1b926f0105a9790c543637bb73ea5110bdf05c63a8deb484eda8e834081fb5d928c15e5c5771c2f4dae48cb4ddbc17d7ea4ae67d69af6d8b91e3b2dbed99a993272c986b07515e26031df92a8a7deb763876bb9bbac2383a33bee58c5f401b17b84b5edd8ba252aba3568df78ac85ae34196e100c8ffffa9e0e6958d48b54a135b3a255e9b042ae29108ef0a600980d9a7f197b9646cf541bd900c16de191202e612a3f5d41fa9216876e5e5da9a833cfe825567bdd4086a3d14fe770c23e0304a110c7f72e96169df25a3ff5fa004b82d49d59418091519f194ddcf5ae86fec35765157c80e25dc32f3972b716d531881098c09bdad2cfb5dd032f61ea44583166856779b3d70ee6e6b32533f326e8cdc3ef88724f0ac9d9273cb5c3460887b1c71ac5f9261ff9a5ec48ef0e075f1bbb61cbaa331191c10e07ad7b5cfafe64711163ce7a3472f372a67f733cdebc7f7e3589196daea1654d3f5b9db950b2df9583e4dfea41dfbd9952a38f3cebf00b606814d421ed9d4c488b9274a9262958c860b02f4085bf624259f094a71f5008e94d7cf875201b0f0d59e96dd6c424f9089bae3c88fa375d99e3d68dca2a36c1698167bb21ee9280ce33c9e6985a642158d2483b3144482c1efddcc3d5bf92def3f9494ca0f391fe34e55ce1157424900a452880ea632051ac0bb17bd1671b157df5e2d5c9d1490879dfb77927d5483540876acbbe1db62fde73d7f7c494a3b7703309baccc2ccbb675c802c176c110989cd2a21dee8a5ec649752ce6a8695cab67fefa885e00adf9b79641ed5dc65b4876af0bca3205d32b64097570695d02d761e694c28ad07979c4a3dbd2a224edfc377ebae5ddae2979ae5c495735921949225c790040da2bf0767249d8981eb7a0489d1abf1f7fba3e400b3096191a09a89b2d10cb94ad1cdf532564363417742ae098b5384edcfec6ea3e6d535df6d8477dca5379434e538b3425f6a3ec6d0d8c571e9a5c1b92706e9c4eda1fa82effd55466518546a7d4b376aee708869179cb18a563574f3bc4b66b4e40f21f080619082f5757dd05768e331e74e297f678f5921eb512c8a85bde4bbfdf14fb5ba3db79c30d9a7516c52235bac1f246ee317318db2e035fdca100f75e68c259d5f52289c1dc183b3d4cd08cd49680cb1498f16fbf61f3e4da29a207d9d8fb1015a59d0cfcc1700e654a4e49be3b80f45a932038ba6d6a5e8c36f43036bea55755b4f56e957347fb7f02f41e0de6117ba8740111347e52a35b5b0269dcb7cd31ce6cf7b4299909402e80190760c36432274bbcf06b8efc7002556066725b7848dcfd7491ca6ec845e7b88274b83a3def0c97710bda316d5c8280f9ef668b0f63c771589e11404145bf9a9cb53b5de674bc58df4a2e140cbcebad3a989f2ca7b4ef54761f5d9e1f8555a8bc21b555279f2a0d15a85795c4f2ee80488dee166b68c99809bcb65fa507507630910e702b435fc068ed896eccf4967fd4fc2765f634881cacc900700e2c9c8ee9ebc316130d4b416232bd0fff315bfd8aee8d1f9b123c9a3861976a6390275449bc4cc406485f6b04c7b59013611d50edb316a323a991a2805ce01ba84e10372ee1f44c053a73ea50bfece841a24a8fdf2acf52cec75a2951587b3cd6d07e79e5832cdc096a6676e3c913bbd650ab2adb15861022120a71122e45835e5e22af38196fa70767822f9e7087383d30384d11f69573235db5dbbe30a51e0c8e388b9e3fd8b9b61f234c792a6af0b0eade5c4d796ca35d61fd52991464f8cc6d3b66d648880ade6901fdfe776915a56a5738a17f090e830d0acc5f921995a4e050c206a4dcc6ef0f516575302bf21132f1afb6885853fcc5af1ee27d782bfbbd380ea2dd4d9e84dc0d4faa0c0111de9745289474f77f3ae8405850a2fcc6ae45579ecfe9cf97a48de1e1eb666bad11acf21c6eb47b0d674b1089038557fb6137950803d002eb62a5a06d13e005889901ceb523d9d0eb54477227440cb97ab7d576491de07048e78d1c262836944972e5a555ff92e6fc95b493fc2a051563fe8e3768d7257248b2a02450def8da30795dfc3706adac5e60580fbf1d3ce16fcf307a07a2456ef3dd3e495b81acb3e75edb605eb329a2818b9932bac90a1448fa1ac0c020e3961a0586d0932cefd2d875a78b0899e79ec8968c85ca06e715a6b757d1e04bb6f1a38b44bbdd62661b89a22062a5e5aabbc04396259dc6989a2e6fbb4fa1a4e2c4b1d9bce1c2a3ab1a1cade3ff09393cb6f2486038c89d26790e1a241d3ae6411f64fd37fb5cc954d98c57028485df4651bcc03fe0d5917a9f24327d9c066939cad368513d3332afacc36e7fcd7f9d2956e0e99475e2844ed856d6d4a1ca72cee71f2c941b8451adddb415344d122734b7e4d04851a96e24e977f3778d36c73833d5e8bfe3401334859ee53449ea108c22be8d0dc15abeb0cf1804b7785e166588ba9f8f44b34e62a160c68b267c678e3ef4cf7d91447a33440f165ecd80642c674379903b0cea28082f256a4f7e7076bb972f8ee4552bbb311ed78f6146fd5dcc7a9f025c7edfb72bf4ff1e41416c4d60dbbf8b69f71513c9b24b473d136951031f2d2b95fb3af8a92e219d3d470198206cd90bc92ee8686dd4a0fee5fdbddf7c7b9d857f5fa72f6c7fcc2f91938d4d6cd7c6bf108e35c2673c88e4a615affd7b59c111cf1dc1cfa5bb855262806c9e82444b39e298cad11ff5b618b5f57935bc90424625fa929044b62609fd6fe79142a8a13b4489ca20a820e2496ebffb1762e6258bb935e264d055c8cf9486da62ba4cb0c0ffc8d5111ee811e48fcc271a8fa50980a33a3ea00b3dbfde2d1acc876c7b7ed14f7149355c049847224a7af880dae091e340f48e31fb2820ef3c9756340fc9e2aa478d00329b53024551cbea191546a995e3ab0c9b182e92631eebae65c2c7a2b57363e7aea41606f0683a82433c646dab476583fe5df3d8a36c30d32779adac64b589ee09251b179080885677124b3372a9f5e1707706375e27727033ba27eb83d55ee27f821dd25305c451781a4dba11fd9ef138da7804830949528028c6bab476ddb276fdf9fed80f44305c687e2776e0787f4344b79e48ae4e33770299ff3667c57e9856851d41c7467ca5288a24783c2cf9d6bc1f036c4a948443d2e63ca3216c4544cf57ae4264e2f3322a45e139a812a0f56da28168a07aebd8c72e154047fe38ebb0ce9366eab20fb6ccaa9ff9e4b8aeab32b778feac382060202e15f4b5ff82ff4fbd88484fc6622b605d212dbd48bf2f2ae776002f70755e1cc794a24f11a6f8f5bd3d6ef973bfec088941c7ddf5af3bcb20560a2d541f222472e25675490396ee15ede58fa1073bd3f9ee6d70086e0548e31638b196a96b94f1337f4317ffb34e9504ab8b6d8459574ee6663449fa9e4a3b65d797968ba0850a2befff7b5e279652a9187728e92b767443488b9c81861c0372e8916799ac7ab6fb35c9fb0846751595da171350cb915820cfbddefb7417524a5f72152474ae0365651da7c2ea062f13519d1bc2f20ed0b82aa05cd4a4ff31b17b3e57dc410fe84cef544c10a0e1719afa2792044f7d9939e283c30b71f042bb871e2c26cdb9ec91f8e20b316cd480b14b3476491b172f9c91e83bb427e4b86ff91cc44ad0dd8fba5454e9f07804adde0d10963ee66606460b945b9a8aaf10dd9a31ec6be1257990f4d804fa662380def11f482f4367c26b2a8489609035dc5af7b901ae728f912615acaef236d4d68bb83b30e71a9ee236071404b9ed362d36b8da531f6f063ff9cd406bb179aac10863498ffe2e40acea7c3129e15927385130c51ee75f30c204e5e1d3ab1c53f702ef57649555e9107b648608fb31f4577cac33d94ee246c6e05926ed290b6acc1a9b4477898f3191e1e6d6652b575d69bb9d432e4075348f7f9ec0620c8bbb2e8dd545ba0b602a1f7df05dd90e7c1fcf0a789e0bdc69010f23365781d914e329252122758fc5264d1cfdd5f1b5d96fa9f70800eae55018fbe073f12cb0b589257a4f422af9af578ed357a48ec0c18cb445615d307192dd3efe96010a07a32993ad788d1e3044fde403e318981743473e8d045b22212fc63302154bbcd93805c8f9b8c79c39000350636b05942b4a04c2a357655da56aa49ed33dcc311d1bd320d57087aeb7a6196baf4023e8217984fcf61499c6335d0bd935b9b706de4dc74ec03d9244025cbb6fa046d49e7e15f2916421d118386a725cdd232df2572ae1078e7002dfe893d329f7f37ddc211460b344c5f6746e86bc8699271e60543cede506796cc050e27c708a93262294e1fc79758878735c44c262b3990635466e20768729180ad161011df926efcf3081ac7112d7fcb7ca3d26d9f23d226a0f794cf18b85a9407cf552123f7b813879a6bcd9ff97494130a5ce4cc48255bdf12b4ef496183af49de3d8ff8d540610edae589d18e858073a341dde9f12601126c3e6625301c1636c0ecdbd98681053778c0f1b5a250fd4c94d3e16cf4ec16197465683db4f73e97f5bdbc77625368f906aa2a74d24f337a105b838d722d38b6d24ef2b2764bb58a419bf9ddbc8a404cbb83d76fe6c42286ec5e9354b1d5c0967dce5e3d4abb1aedda7ecd212990bd16db97728466a4f9fb00769c4c1efa3cc805b194a62de442de85987c82e6404d98a7e4c463452ecb4e4f0f48c27a48c4a2c297cddabea3b286530fbf7d3a58c9da99510d8491914020b75e800cfa4f3035324f9dfa0a950aaf992dfe529b3dfc1c8a0b60004b2bfa9a8dbbfa442a4145fb90b960756404f3bd527793efef9dcc5e4ef16c2d665653d75053425a6429ef65df2eb9a2884217529b041ee278c1bbd5a5e8f1086d991b39b559ade87498457a3a3dcfeae82bdf260dcf5141279b5613583832ac8c7f9e14ed05d2f147f273602ed7cfb36bda55cb7931b448683328793bf9008956fe6c8ab881f8ae951fae9ad4c5470951e79f0b027a09eaa7e5a87076ace38828b6273805dc902fea7019ce7aec928738f8debd2165490ebf6dea30bb7a54abcaf16b204b21d6900b854bd2648af364e24cea8266dab63a389bfa237a4e41741a477e60b02398fd9b0c5062b174d4dd133ed765353d33ae10f0e98e4b7fbab66139bde43f8f39c7afd617d728b706ab9e6ab5ba3b3df8b0cebad4ec94420c6c471f881d07fee63c0e1652e922c4c90816ea193fcb736c84011852cb622c47540b5107b0e13e5b2b13ba6e9b7bc2c207500f16533915dda18ebf233216ecdd7df26df3eab3d02e6f616d918ecd427a11748b1270ba7a09942f2091aa0a91388c9aa54812c4d22ec7204397cae5d94bc506b7f9246e4c2032abcb5e7e9272285915ca637d9a1b8ba8a0c4dfb1abbfb43bda8b7e2257f0b627f29867cb2274a530dc98b71c0b556b6fef0b60d2a9f2f0e986240d212fd4899f1af61a09d714fdc252f87925f8e6e08b1433b23c095ab713de5405595119a921134475ce6016b58d88962bd403f3a7942fce43b668f5cdbf49e1ca8596e9e5a432b166966dec2f1075123d80307f0834f714ad7ef4dcb81be16a6d72ee0c55e44fb567d62738e405708f2c791861b6736c9cca6e079647cba8ff361db1ca98f4ea226c16c191d1c94637adb77fe6e61f8c31de83bd55c98389a90da09b0d1c354662688ff1ea8e50412c4dad19dc96b81620f35d6d864d95a8ee713c86e7e65fd9ab484cc59bba8f1186f34a0500dc457ce4f44c62b5dc665c48102e0367223affd8dfb515285ba09b70685ee10dd18d03a299f78bf4248dfbade6bc55ef0749856c4c42cf137c4b47501edb5e162c0076505337729dcd578875246c7ad4dfa2353defb2bb3dad0c8fcf2c6c25dd7bb549f03468c7831ea7b881a8651c4cd7c135125aff26be6f94f9b2cab70d852f40e4249e31ea38198ec7a273f17aa768830dff6c3be62360fd6d410a718460ed911834b13d55ce11f225f715f3dafa462f4d6c3f4a024c603febd139ccc5b0e5570ed34e201eab8c29b2a3695a3cab0b5a4b38254bab517b99e2a30b3cbf43a5cb5f6af4323004d3a76af27494c09a5d1d7bd34bd8d2ea7d97ae7294bb95379ca719e7d3a1123dcfd10a5edb74a40ee2fa14551efbec08793001de74ec5433c96c84e12c7abb61a38f3caac77355ff6224bc2a271846236fa896e86ce5fbdbd3201349b16a1501ef79b06c713f34e80435415556d241b4a8ffd14bcf21f88cc95f4d2e846b1466e49ff3cbd6cabcf50d41143a94db3ff040961fec5876ac6ea81705873ab4930f70c1978576d51fbdfb1192cdeca06636bddeab8dbf52ff31b2af6fc12e8f7b16a062785cf236544021f09b806cf01b694816125a419df664c1e2b13387744bd8f3b594c4f8a7d99f5571dd9778fe85bcb5caeb9b042f3e321cff34cc36a3361c36ec74af17b84c5aa72a20183e0c701e5a87810e97da67f06bd9ea6618b7e0a147a75141b2e8c8ec29d94cd008f07f9619e03ee239af83ba1416c293c708f5422d80a3d985db4eec215d5018d918f251ad848d52dd63663413d85e8d8a888c50926a5024c929a696d977bdc8968bc9a6f1a507b6c8014ba49628e76e070feba37fe275e5f76951edb55be9b76fe6160b6c52a39509bf8238d0486f84ad4a25a7f3cd13e29e2c363386e40570c0a73b822b9ffb14c4cfec5f07ad1c0db21c52ecc3568a1ab60b8d5d2fbd110a74184d9316d08487b8e0771a5a8465df36e7c7a932f5103e6d1e0f4f7a387a5c4e723b2c954459de0786ca4157d597b47f40b5f1289f58b09426c50299d6cff0e6639058243eab63e2215db8d9678cbdba6baf51917b7e55a7514cd146d0ee7d5a4e8543ed1bcb5fe20ffa314f232ebb2918bd3a3e59db5632e3e56539f3d3ad6978fb0bfbba81f842ac7b19ba5848466c8f4c851b3bb62c213ad131d8b3d8cfe64b12fdd7179a0d11f531b052e6232f72f7965638a7a0b34926378ffbf7a1ccac5e8399ec641866c482157b2d275f21ae167ea8cfe10af3ed25e50b3efb37c387950af5da918e031c6aaeb01710d71f32cd32e1e2b0043fea622e76ce914685dfb5744294a4cf06086c95b5f52e114d2cf9cf010c05c9639c3cfc5e6aefd67eeb331ec35b85d624c6f54bd434d93e88540add7cc281dfab2c88a5adf2537bcc8871b7f58735b12de676393d4e8ff7ee2c2535553ff4658dc697d7218bd851a1efc267ff6463ab635668c8c68e894c4e7303fe5133ca8b7459e58bd651ed56b6a6917c72e6667f29d7e680dbcd221ca24df8941ec3391ee9d8cfce5cfa8dff5f60aac83e54b28124c110df0b7ba2c7363669dd9d043a70b70446ec8d7c6a4ba89a221ca80de67cc1f76117bf0e6acfd6d70524c2f9a9fd0c762723019cfe64817e4071921c76addaf3cc13793bb1f73cd6a4bafcb3d7711258922fd6ab246a16fab7b3a6ab9bc49893341a2285a8bb67cb2c549660c11efc1e29cbb64ecea6647af4935f8eb6c1cc37a20fdceb5fd81706bae5bb0ea70988064bdcf6d2c372aa135122492fd762dde41b6811221fdfb60bea1abc74953de01b1f0f6ab1eaa19dcc5155a3f431c25d2c2cd2f29484cc4d60e70a5f180c67399776e35b9d9ceb80232e7d346a9b7e958243cf3f8c87626b924ec44509402dc79e5820128b721a8d1ab7eb20857ebeef353c6c910bcee2f278e8e94f11f6ec0608f244adfff0efdc5880c103d6b4ffcad4eca624bdc6fefd0b74fee9994c604e2a3095f88fd5b1e0045c6b9ce9b2fc891d1256efff850c7b2b3796c41069e6952f4330ee8d1f62267ccbbe26c3512395f06bfd9248f61bfa429a2df5c19c98277081c26188ee7db3ba190b67a76526f2dec4641014c00392809aab2e8253029e8d5c361df22f90c9ffc9088ce1bffc343ecc0c1011b0f8594ac6d30300143e4c2a96636b7d9811758be79c8f1668d8c72437a3a18b216aa7f31506f061bab0b31c2b30da3e4a78f4fc6b20ffa01b451e8de3d78282cac24b8717cd377e8766a8366450ce5d3c69500d7a8132af7cdac82f5723471388b9e876a62e94925bc20bfb52a5a4d158470371fec18b16f6cf707afae3cd76dd4df27715718421c65003d267bdf341020ac5f5c80faadcb92b7860ee7999e044f6385af7f5ec0153cd89162e7e5a059abfa5b643036dce04202da0f578d2e94a25a21b4c887da5e26d464262c32ba470025381db74a61bfbe462f4963dc23d3f2b76280f314e6166393e130577798ab4e95abd9e10287ec9f5881d38f33e838b7fdd395147f499ebd4b326499f5d1f205c8538e5f6c91790a682865ea6b4a690370c25613a4ca480a424a63b011a2ce77dd7db4a27a9d8f7391c1f5827f604a2789daa9157ab11adc9e9b27ff0a167db911d1152175d9c2fa65c6ce28b04f3ec27272bcb0754bffb6f4418069e80959270e8f44ad75346e70763d8a539c49120e7eb2c9c8ab3bc1acc6a79507c92942c1bd20c8d7a268d700eaec44fdecda6c71cb90b3e7a1d46392f616fe6633b422fbb679e0528578c5c57e9cd1cad743ebda4d1cc67fcf1b13436a7807923d2c697207ba58d91db2455dd040909fc48d0e392e69bbd2a2ef7440a27071fa424e29cadac6b5d27409b1f0a0b712b819119c112b754fc015febcd7dd7c491f23b9521f14839a5ca1f023124fda5ac8963d2a5d4d8d3deb4cb28ad6b7fa7d6fe145496584a839f1db90ce133faed83f8ab9eeb8824f38e1495698c8689b08ea5c03fe1a4637e2fbbf00810f282aa6b742cdb28ec071c1f495a0fb2842a9fc471bfb4655f9a87e3d067042c53627e34fa19cb3c8b19dd9b5dc4b1b47d2c8496dfd594899559ff129643031a70c0c7372e1d9043cf09e518e1ef5190e2e577656d44cde04234104d70cf3dfd53f6fd8a634162d71e5381c9c131b9d1cb79add9ae2082b1ff443bc8597b2175dd9be1178d3fca5fd3435852b6a600f573fe5070aaa7cec6324b47848740e5a31160ba60d235097be9e1f5e587a145fce2996da70815f62cf62ca2a4cfd8480c74384bd016682b5a9ca51929e4170dac82663eba9806f8318331ccff506fa38589ca631b7abf0e759f465e18a063f4e0498b64c94eeadbe800c1507bc2b140507cfb874a52cd95f3f781747cee57b117b01d341b98ca17324612d22e54947ef358f05db1ffa98cdf763628581e3f09f663b87bd2a64a69066c3ecd378bb8e4364d6fbe3c923d2957c684adf713eee8c63fba943d3cf871d5f054bef4b1668e18fe34b12161c50723718b5ef66f2a0611c1c18d4e24b37b54eac75794ec1a54ba9cd98032a2eda526ebf2f206f2d49723c3f9a5578cd637b03acbbccd733f5aee833d41726c5a0de461107aff9d7e9b0c4320a14d88310137c5a4b0b57b94e68c89d76aea6bbdb55337b6216870eb0ef3be17076fa3166925892961b28eaef7bdd84f199ac8608f704f6d5feddbaf9e0a068c9229c1f4435f4c94e753d09f0c6167e2ab7377f3b88b793ba20b7bef5dc073dad39bc69a70c2fed29ecc25b8837d1bbc4d935175c4872e1197b3c475e0706a6de68798adb0869af2f4d577e31c306683a48b7648b011d57a69917a85d780e961d69a64b117454c429987a6f1d3679c1fbd9e49a67e1d15187cfcbb0410cdf65f46e1ab7285c3989466916c493b7bb1eb09060306f963a0d8d9833dd4773c802aa6236a07a53710d9607141542135ca75da7a28ae25601473056e0e5ddc5891d0d0db5cbc037dc37c84700769ae34fd366c2655b0ed0ba84e3d34e8285800607bedaccbefc082abad5df9f3e646db8f46ff2515388a67108556f5c83c2e3d27c3a7ea527bcc2d328cadb6862afc361b84c61a4413d35a7f35ff550797bb524cbbf8a187b699417306a2c85c5d5b850975ed3bc0d99eb02d2cee010e9088dd30d4788567f8b9050669d33385378c7be0bc6c351a48def40b78c8192653023a463d92e3c7551dc0f60ba3843aa8205f5e692b22b8baac00640eaf07142f9059e2d96e972579c00025dc6948bee7ab455641af4aa017b4db063c399172bbc9f891f05cf74020be7480315c03f0db79dca0b5dfc065432501e52c2489fdde8157894e741f33b1def4d9c3fa57a8e25607a44df0731c8e3a07dbf8be58a1a0771c20768cf855c8f985441cbdddb0796f68d1be34181ef3cd5baa193c8fc7b273d86e25824cd6fd069336230435a4e602974ccfba180351fcfb3934c2bba29b83ce87c2a4fcdbc22afcb66d6aac4fb33f35bc3d9423a78ac08adcd2b811c435e0c82371420c1121c793e4f3f4254e31e34c8770ef523221e33f0bfd80f385f4ecd0d49014751a2c24a326471b079ef9adcb12a2ca7b1628df106fdcb987d292279abffae6b5a8e06439d2b26b300ede1d5b7b797d7816d5f662f3a899cec67ef8778207905aa87ce2dcc2b65443c079845564d8ffd4a30926c35246c69e4a182602579cd251d4d30306188561f0c1b5bc6ab0fb36132fdf675ce1d87173bff9f3fc77e072a114f5d3c7884cd34e6c9329742a01000198ce32529762d4dd69afacd001ebc8a20e2eac5471842354c7997b22b1e3bc579ddd1f56a47b87bcd380ea60fbd3caa0920d4ad96904abfa0204f3bba13e2a6445548484936c65360df81e95f5103635fc217f99e7ead34119bd6239a3d7bf1da1645146edc6b33e1f99bb1488406be357b2479536e37e34e41b8c565e2d04d408d7141f1b8282a7936726705bd30b022bb3ea7b1d8609efa8ab8a756401488dba10ff3153622020e03b1dbaab5abdca7d5e2c2fc79f59d88cd22c1855e1559085756934349896752b8b9282eb638c9e80b1332ec2a70b9ff054ba994d125321b55c1e60dc4ee5d84247fa807e3178f4713cb7852ef9d54770db0c0e9e9107d97e5c235af372431b889405d579763fb2a7f369a14a4174f86c1026e213daff1786ce027772d8f63112442d2d54e7ebf0d545220de7dae9c83ba66ac7f11f520289735234e01be2643989ea431bfa9f1b786ff802485c07dba4ad8d84912794d36bc137bd4de7f469f774fbf3eaacf5036d92f6e91832c8f6db36badb4115f674d1f0553b6e845dbdc572d152252cefbc94312d67491877c8b63cccf6ff40a31a8035e6f968a2fad0c677259d5bbc37513d6b51dcd24afe043af5be42fd6fd771441a2e01b3f3db81c72a9d816144bc96b28f42781e9a007c8cf0a3a11dc770485f24886fe313f0792ba7010a7786ef58bd82160f305e964069d3b827bef2b26935f522fcae4ee17a29bc9b3bb3b97049f4aa1f435d2af6d51045fde9b6639bd57191019e6bf9d2916a95cc49e4b45cb7b066e6760159d17bc77b04596eb2cfe5a52d2b799b675181a2c0f6708bb14a970f0d87e87ca2764102338aaea762bab519ecfea4ed8da30c1cda19f0044488ba2235a77c068e5c8905fe4560f924a97bb79c558eadcbc2cf5d8825f22387837a0b9cbe6a50e2dc4ac5b0bfd9b8479ec40660b18a6c877788c6a29408551459bb312d11de93d781b1457b0f6181945e73c0c545a9d5e93e48dca5e46bde4051a7e37e4103aced10700c531d7f9eca5ce0859d4a022794dff99f87b8dc20f1ef2afaef446c14fee727be90be1cfacfcffe2881a7c50adca99ab89e3b36574599ff16d3acdf4fd4ebc42f34134bf8a5232ff436a01a7b84c09e3527cbf61cd348d708dc93f104058db5f97a7198ba332d7f1fe6794909ab1df6494ea8c659afbec1cb96c78de4fee1d8fcd2c8d38dc76b1209cdd7b2cf8043091cb2282028cdc08c6c66f471daa965c4cc0b3791656311a4b7e30bb4b1be6e3afaea24fe347b7122641d5369ffe8003c673b7497a0986ea5ab760b33b8deb81aa72caa18fea4f271396a68da159183178ea86553f5118996b4e239d5f7c8a17c2e39863556be310178a78270aea8efc3f61408df91ddd8a7651ca7f3d61355de76b2577373d3c8ef582a2c3b80915e6b5b9a29d2aa2ff69cb236011548d1ced6ca38269f519570a432ae9e3850ded2c974d957d184c1223a50","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
