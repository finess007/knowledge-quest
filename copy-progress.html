<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"ac332d3e6965a6e2ae3be79acfce4a5f0b5adcaa0c4575c7b76ec3f08a2b749674d95d815cdbb560e609dcf5e42b64f183823044bdafcb60053ef2b2f75e304dbb1cb04ebacaa486a7c0744adbd6670348c46aa8e03ae62f89ee883bc49ce39989b45ed594ecd3952925b023247b793325f374ac8b6ce8f741846eaf87555105ac49a36c3705998981026b31226d4934d770a2845d199b87fd6b00f131025956ed7bd2c979c9628f7860a0bc4e46b46dce01b2d9eeb4e02353c78b198f1ad222c24a6a8be0662e38e5be55a7af288793d51de79547f7686a9853594f7fea7099e45b32c0140f13a6d355dbe68b79c3f10be5f04fac3fa58b0816c93888f0eb7c624e0ec2c49628bfcd8215677296dfd32c04539d753e4e12f1fc370cd76a35355fa9774c159c19e839d93590352d0ee8172cd752412f1620bbf241ca480b9b87dddbe669e3b1414bc1f32e59c6a4fb4b7872a030a41aff16a2cf4e3669fedc932f3be463154c579584ac77dc18fbac0e6179f6c64096de1acfef1d23a3e256098a2b102733fdb02bf4470549939bf143783b1fb0f1b6c67fbeb9ee93ef467941a13a28380773268347271e193c4026f1f1a0644bf035a9c4909a22e24ddd5ba583737bd24c082ce4a0240019edfac16b14004b0bc8a3d4349e35a978b9341bac9ce36bb80e7670c93116b4cebfd6095e047ed186cb1bad0d3d2a943730f474f70dd8277c913a97cff80ce35f1c53d08d66aa0fb444e439233592baca6c5e182dc36f6d49b64b792ef9dc41c489f98b666b9d9d7f31f6c1a077c69f14eef01bf2dc9b37e7da722323e7efcd2e80b3cf2aa5d25db3d7327241c31d32f4d6e8250615d5fc86cf53eb97c4d829d3e0be541c5f59bf8c98a9b46e15c647da7af4a9ac6a1d32e609e05380e5c21a0f1ea32b0a1b3cbf98822ff1ee2bff5713b7b4e51c9ac43b8ae1621b95ca7f768b40660ebff46ebd9f346541c7c77d0dec6a38d20783e03bdc307d0099239a3dbf80a49686b9d7bc32e44898d36dc549f14dffa04dea405a14341f7a933e221735380ca22411ef26a988a85dbb9cf41f6a51cac492d5fd13c8a3f461710c810655540b3b35fd45925ea1d3fa1ee2f92dff3f1a0932f5b2e0b9b9ced2b73a41d8212030cd23f804dd2172b6e523f604b8c759eb282b18fb1a15d4d3a9c5ac52467d6ec99d08fa3ef000782d4ebbcda63f72b661857f1a8953e7a20437dfe46e2f4f0be768d07f6be52b1dc63da2aa1c666c503b0bef5cc658ab24bb44e2fe75bb0536f2e5adebf10d8eeff39e711dec6f571d9b54a5781aec9fdb0cb739e5fa8b3c223a96b6e48d44b13eacbf9ca6cf724f3b0901e46e13c906a73d5fbb3327e2f7e2031da087be395ceac3ece9753299dd3acf2beddd4bb93b1004099310cd2a512f2e76d9329ca5ce9456ca5e9f600f5a8fd1a4fdb12636ddbdb593371767c9bba0e86f69a91392250623e29054613967a46fe5fb76d61cec5a3ffb46d9410aebd6635fd666c48921d50ffff18fabef49b1fc300a1058bb72496a509655e36a061c84ba40f9934e6010835aff66cc84bb21d6afa2f914273c62fdecc8f54bb65b0c834c571ee565e64af8689946bc80c340cc7c92f33123b61514632f53773e2303452f1fcf27cdf2242ed7c58e41e664dbf540cab6155f1a2dbb183b321dfb5834f172438686f4501c1504fb6d1c99208058fdc93b7d228b96dc7b81a1c6e80ee5d430f1de72affe324b57eb51afb9e85f7318a2072378fa47436a9b30dcd5a6706316a0e8fd1d27050ad082b7d7b30c8dd33bb09c02d69fed484e68c0e0b73d313cceef254fea229e5a33df86f73d27a31544db09c0544b0eaaef94fb144eef2b1c901bb6ca5e2622156260f28b97e47ffcca10c4495b6928d7175eef84071758c1489471924cc1c2c01891287d493dd479f763058d352b2ea09273a8ca7b6ca8d675925f60aa8d31fc0279aa5620480316e3ab9a5adad351589459a86f04df0be8415c55960d2b2f4c5a0a08e8f98b4503c84c23fb73c4bafa6c4fd423c8e371078159031c258d9cfe58621469932ab05036c5b5d16a0232906246508974ee68bddebe1ba24ce04bb3796d5c763dbebd0b1a4fd0fda206bfd209ecf1ea69039cf717d8ac0dad09caacf127405b359b6a2ee6c079899f0066735782dc1e65288678c1e040cfbdf2fd1e3898911bdb735de96df2b017810a6a8e25eb4b06dd14aef6dda160b18702dd6a028fc94b681ccb5e18b432709251b4f74dcd579d56dd77e1a9a2b3eac9f4c57bf7929f0d16ed835a0c85b30e87f901996f1984a21d5ed4ad188b37ffa3d8087ac0917ab0401f9e8bcf81b6cc91d63f127283f8f4b567e99f1294cde9f315edefc033a4fbedd25bc6ce72f930965602687cc0e987821b1144bea23ba9373301b62aa0000f2db22e6b41d8339551dc8cb938c898c8f543446a33dae8f5b381dec56f6cf88f3ad24e7a40485c5a0168b5a877ac48005516cf705b10c7395471ee4ac5a86ca8545f2fadb7e19e1b84dc191af77664951af609a75929d63ea48cedef5e130a4a6decfc5f275f03060d208267b9096d465a5f06a6e97aa6f4ec4a60c3ca25e4da958590a1862af05bc57e262808c4a95ae744886286e3ff2a0447032d004fc7b4def626a887306d7e62fce7f200fb25d3f54f3c7c06776ee5d5ecb9d0988830f40bd82640d6f6b70735568b7bfad7489696d4348599e35d0b50ed7684dcbccd6a236bb3dcc231bb3ea8d5963f1871b0637e0e156134f26be03de0589055ac7dd9500d6f72505df4acd3a3ec5b6a8d72effdd7642e4e3aefaf967604c0d1599ea768c0df39beca59ea545133d9be0020b309d360cc0cfa790da86194a1207a2e5ac5bd8980f0c36969b181c1f796f8eff9cea82a2e8437701c3175b1e4b5ade8a04f0d6597121d8a17b0011eafaab5a6fd7840aa542db2481ff4ac0655a160e62f3aa6eee6e0e2147e4337b64596cdb8dd445fb84e4638c14e68989798a940a4a31788e0ea87018ff33f0f486bd11f76ae8fa111e38a0d3a7b22e2bb2f211ab646e7b4113c0082b1c4d2876d671156fe3d6655aeaca80088c129ead699b299f419633f493694d5898f9f05128d1d8ee7bb98f83d0b4b6cfc3e047d8430da7047b22d3467aa5de6464abee92f1235843075ec72ed07cf48f18caf149eaff2c1580bb04b8785d8ec830dbf760fe7a1e8177597d053fd803e9d9ab0b01babebc8771142176d3857330df3d07cd512e635fda10dbde8ec4b5b93832082cbe0329ec065ddc68ebb345a472e772806479496267e136485093b3cb25abe388ddd486ec1e841ee7d3dd20cfe1aa8f6af3e083a2319ff57771728fd84677a60b37277bdaaac04b3843dd132090900493edec113531e8f0acc6fb17419c1dd424f693bdbdeaa7934d696d769e2c831b8f6a54b0a96096e3b5b8c7eff54fc21cf74f8680186905551f996650e4368af98058d65e60f2f08dde21165854f0345ae944008c54d146797f489002bd66485f315e7146e620ecd760645c1cf951e828759e3e40a242f7d1b81df50cc7df6aff5161184deb75cdcabb1a2f6a04d3d148de5e65bf0c379f3488d1387f653f8c74db8f7bb1d5fe07d53f3871bfa1921b9df8f2a60ebd22bf86953eaa5685e84d844d7d38f5406ac955a2fac343f1fa1803fa129d88ef93b8160dcaad77a56418cf0965f3e6d8132ce6ddc2265b4739994ed073fcd2bb0c0bac370422705c8f7903416cb46d0480f035d12d8a2c3a617269f8f93d198a33fe3688e9bf2bed1d72b4594731f064b563d3e2c59dc3cc0e1993efb0c5945f110c9fd739160830d6e1e2c8201b0d6fbcf68c23f20570c28f200c0da76160700f2848514cf4396fb099241330961082cb6ac11cef532d46c241e6f0ef77bf529e657b56f1c04ca76b77e9f1ec6f1c61c61eed62a065ad07a967903b6449127b471256be9215e0ff356d0cc5db992d076226defcd3481ee6ffea172529c7ab04b525918103562d473776d8fea0aab1e5d9da7284fd4419396da288b8c6a2d01e79371fee640208f0bf26da4208a6f6b19cc38f6a1cf39895e3bee0282319dfb50d34f8b46161a81d1ca7f5593bdcded1f53c571e087dee70406bc6fda6b67e675334f0042370d4cb2eac401845b04ddc27f8485dbd5a0d9ed912673911474808eeb84325aa7d436fc5c79407ee5d4af73c64aa49a38f928993c70a37a4a51e162d01c8ff83d2ba91443ba898d5fc2786cd34ffe7092569582f2ccf092fe8c8487d8b0fdb2ed191f4f377e92765b8d66a401f48ecb5036e7b646a6436c4d332d10a2fe06828706718a6cb4aa1875f45eca7ea0fc3664f29db71aefe876b16519a7d54ad71f9bd625b08b9aeac31ccb9198f3474cd01f9b30cdae711a18d37e9bcef550fd678955ba67134b858e1bbc211008d8515aa1c6fd72d83e3ef5fd74b285fae82c61c1df8d98dd8e8ce230594896c8abe651957bec42941da4a78a08c10d3f545f025fd4c77c9fbc4f753f6fe113ff79d9e807f199c9c3f4b02db0301c07eefbce1abced715db7cb21b810a300dd99b8717d00ecaf7be6d120793dcb6144eedcd99c067cda06e5282081a2cb8ff43641335a35bcacd3bec6aa4fae5b8e2724f51d8795888ec9a1b581409e1fd07ac1bcbc2a470c77aa0f610567bdbb70afbddfb5b340959721745a82a8f18bb5c161dcf44a6dc7e7ad47a6f4869e4d02210480cd44c01a400e0c67b9f33e1d48f39cd255e14ffaf671d32ffd86f5f54a52ce26b6b5796a3fbfe2c7641059b1a9a83a44e0e2e9d8990e79327c38c534c0121cc3c635017b081f7f64f6a45c98b01a722541ff42f53e243abc509468c62a93fbbf255a01c6228eddd0afd70e8e157a8e59edbbcec38737dc157115c9c5a750f8664ad37d93f99e2a8d9d8a87034c85119a0df02dcc10feec860df4b908ed0573affb2ab923ff79e297e8aed163b5f74ed05fc03ebedadc469eb9bd7c51e58d8dd636ceae5176d8b179ee351bbcdd3f62bd10342b85d81da44deb13e079f226008ffc6a4cbe00344c5fb9c87dbd1391bbe18e34b295176b6b66a77a986aa9103e1445400bf4b44761246fc52bfe8579235f4302c382c99127ff64cdb7abeef03858c1e2157ccf8a1b50e8066b8067e9248dbe25d1ff6027f4855c74590e7df2cc417cc185c8a04aec2bad61083092fc3fd7e3dcce67e97979e74b750304072ee086efd253ec21670b72b8c284ef408a14771e198c89ce32a2d7d847939dd284121cb1f3e88fc3fd6da10301b7a9e5aede4b687f536345ef3e15b7ce6f1395e03ad30a046b5a4a0b78e6eb0309e67d8fd346b11a5f47a8fd4cdab3b743ac74a6f8ac3dc741d2cfb1a1df74f2c741898f9341137b1771fb3c094c1c950f3ee243a159e7c7da2edea1103e38eecc263b26f7301bf78c7fd20fc6b2e770193525e37b2f80d4c1e927041ac8341ed51e5337023534bf32b755c4be545b31507a63c1169bb2b6b9d05a5faffbbd3991634b4cd136533b2107fe7ed498010ca83b2eda64e603302d65bc09341d02662c460de4dba257681c17122a1f54647b00177e86daa4767d761de6037e98d37cb7a32440b2e9c809f3a04bb7cf96765903521d6ae8e9237929453ac48a14cdf56cd24393ba815014954f1c3e8a868b1983d1b865c6866ce21246cb7bd15624c8140d489bfa86ecd2249415bbcb2663a45ee0c48b0751906c58ed387495312888211eeb071c94753de9c8b0c5559e092a2e800032235e8bb68829bde4abc3c7cb7f980da8798b0083c028cf8865fcd5d2abafd25a069af48a66f0d8c96a51411ba5a53c51afb097ae6a46551629e0795f762d4f95730e119c518593cb62170189da59a4c3986d10ab4c1993d2e19a66ee2e3dd4fdc80d75609861b9a4405ea9cd7a5f2abb99f5549c2bd475b17f06281047e3b9154cfdf68151a0a7304453cff52e823d1959c71c2f8936f1bdbcdf33f7e043b237af8377b22b3d1f167ca869ffceac8c67e323610975276da326cb1654deba86b42d058f15a844241900452ec7624021757b7f088cb56a7f981db44929aa2949ee017b14f0db75b23859c4a93c6d9aa32f3ead443a19ac5f093b842c8b974f4d68768e87998e78ac5fe83a8dc222044fc8d6f5ac6157a522f55646467a51d274aa950f07be2c013f874d0e8f854542b89437856383923a2a3600c058940cdadff603d35f80a72dc2232b19a3aec36a4a6f1e4d32bbd8a8fda24636de50e226a8a107c0cf0ef01148795a96908a2818695af679456b9a78019b3cf1c2e191a5c44121f55931b218cb17d7c73c51bee950738bb861ef339fa66cfe31f46f53152fc4dc1bd5941162318aa08ee275e7d11c4217bdeee3f3c083bd6bcaeed9fa356bd429cab99902381029d57999aeb8cf5731f657376a9776154c459eee03003f6fbf340d595f6f7f1761f1e736bae9fca5ee78883c98ab472243ae7b00d4c0c00d0f1c9f4e23472a7318a06c30c52e0f936cb7efc32fe2cc189ad695720fce68a8224a96df0475941f70ed8c6a1085aa2d6c897754baeb2cb80adb5e46a1da9b987e94c229db7d52994637df87da5a8ccac7b9bb4ef2ceffebe91ccf714970e599ce351d9b649795cd3cef2baf6626e3fa7f9648a19cb5bf8269043768503a8545c23c02f6a20a3621fe3ddccb0233ace9e11ad094954e00e4e922dc28031c3226cf150a96705b61f9a77668cabe415e6bd2e9c4a69e7a104c156632e570516528f9758dc223c1a4f1978d49798c341aedb53ccd2b7ec7d17e8880140a0a153f02c16d9e1bc53b67bd9b0c7f46814c362789815c4bfb150b09eef5b7ba432d1690e8afca7c571324def165fe25925cc9c9f3eacd96bb3b61779dff7173f7a2817e9f1875ec66a47dca7989b4c23909b1148bf60cf8f92d3a3679d6130c2c9c80c1a7ca569d7040e2b7447810a1f66e9bfc76a2d96d111a75316e60a8388847cbde58621414091d0aae9e83a354d868d87e70799c9ee756feee7bad6810477f720891a18d403943552a6d757fc856cf213355ef46949bf312ac56842ad016ba6f9a0328039b70af24b5215a4d91e156e301064dfa3ce35710ff837952cfb4631e934f319efe3b0e4091ed1de9f741b1ef3325ce1705a53422fec48de4116aec295ff7ba9456402ef0e2d033ceac8fec0641c0e47ba245aa5a5beb08dd711a3e64e2c8781bea485757dde2d0a27427503f56a798c1b068279f7acd96b94464114dfaf4a5275b226e181684bf9a4adaeaa99b556502da5f0f92d7e4ec31e63070a6d2d28851a2e12d5ec53a15f0a8dc3f09b6fc6e58a2b4841391c08219fc0a817a8018602322016a93aab01985328080798524ac84e837d5874cad5ffb62689a4b27f8f5628662a1e5731516f6440a9845358339e8cd1e2883b7eb4be1b7bf742a1b76983a545c6a1c061e1d420574bd7fbdcc8e07b6989726e2e4fc9d7b58bfa1c37d61c163a7fc4ffbe04efdb8e9fcd009b8fe544b2a009a7c61b931abca36f5f2cf9d5d840cb4e9ec40ba6519b2fb6da4495af852550033d2df8ed684ae3beef5b74fbf8d45650c923ceafb0c0b9a9f8f65562069dd2807fc5c602a106da08c5a49ede53f9f0e901bf2dea79d39ac15f542730befce59f1ed54d4fbacaa6f96c6704b01c62b8c63e58caa85be55f460d0850c60bbcd73860587133d2c6ef9ee24f6ec7280baebe74c7ec1ece0abd93b7039643e2479140b59dd2dd1b4920c68dfc5b92b1990cd7e8c2e7388bdd8dff28a1afd16a34079ac2968d0cda05b56c4c7e9f3e8bcd6f99f742e765dee4a76d2248ee2d60f46feeb9746072a235b6d664b01b030b470137deebb788979b0a500fe613adf07ed5f8fd980d3166fb0b2344c28d9a895f7b4429c8372b9a6df40bc0ef0e0a0b1c9802ca5d04a8926b38238f4e8f506717f1532aa8981d56b073ac0085edfc6080e7f55abe445a93801459823b22087bcd33cbc4d45591d4bddad0f50a0834edf89f08c9f37e907d01a66374d17a751bff091df776fba36efadaec32f9d021a41e5f2fda5cb9405d817d1c592ecc79230c6abc8565c8d71ef2e1c88dd0be596726d38265649606224af6049239a635e8154b3fd934e6ec8768e69d89e043d00432f0838fce82f42377e2c2c867b74de787e91f957496070c478310a5bfece827db4fbcddb0cc748ffc9410d5396e9ec9fe11e0f2e180c020edc6cd411ac133cddd47ce1520bc20ef258799ea81e420f3945e1427ad705932df74b1a9d4b64aa6f9f83825dac26c1b27b11b9c7ffa178964b5347832ecf4b757244ee718ef5155a23eaab508752d9cbcad95faf5b4b0f8f33934412282f0eddc902aa8dd1da8d28c283e587c3b752ae5d49569b698d123979dd97d4af99e75a7f025ce944d67cdec9aa6f39df196e87e9aea57144da55b81e502f6b1313968a443d05cfd2dca907d7d9823451a4400260d68a0bd464b1d344a28aa2ce792c2fecde0e2d557c464c88f5be542422fecac6e7337b8e1eb2c0e37c922e1381be3475e0ea1fc77462759931f6c84033f27b688294c86904aef1ad47730dd4565c3662ffca70f401fcd072c3f7e719711a70845bee2efa86ecb44b6308c13b1a32e7e0e3b8bc11b66ee2eb4c6e4fce17e43a7fdf1c97f200fc8a19e1a1ae6ad6578eec4be8dd63fe72ec1b681bace0a44f6f09f2c68614f524e8a260750a5e5a4af509ca5ba452fcb19f474bd6899018c1d91f9ac0979d9a059da21bb3c0105a4d123fe935fcfa06825c8793ad1feaf11163a553dd0a989b6e18a3e1971e7d510eb489ebf7c77d6b269d4eff12eb34f84a82dbb5245dcc7b44112f6ed4213e0c616f8472ec202d8143f4126624f039f4e9a44d90cb6886443420ec8c0055d2f6b849a74fe33d518317b825fcf33b037d09ee66792f28b0125810eda7cdf06740c9ae686da875cb42c607ebfbfd8b72960338beca09d039620b53effc7d271234091768cb7b3511935455f0ab34fd50584919c40c0e081aa41ce4dd93dae156e8aea4286ff6bb93369c561668c38d69aefaaac70fd6a66e2415215cef8cdea3d826dbd6254b976725c7fb4b0b8c88d706ff91bef5b20de7c25293a1b85da91640308b872bb1bd2c935aa93c2a9fed372ffd7bb8d84da6d886e7e3b002b0ebd7a81570f3d9d793b468ccaff8cca00ec65f72d9bdd96fead6b9ff988411936fc138a3d0f32f8cd3edfe18b5da7c8ecbe19f8323099439f61717d072f214ce4733218ba54ea1b3642252920a3da1fa15aa8bf0b63ee74eaa18ef40643ab65924b5223f41f958feb8fceadc0d88de5bcef1961735dd89700274fd46409ce62abd98935b90bb5a1dfc818e985aae49a99253554530fbc6c6c693aaea01a80908edb59067cdbb291ce4a85c3016d74418bf66bcb620000dc51a68c3b8e50aab3d78b7e5bcf66d091aaa3f2173e9e1e6fb979aa16649fc6074fbb5530537fe7b0210290b00dfeee3be931822974b8086a2e826d648373453567a70e90b3d81b1b76ba2d16c19098dc7f66ac47a550c8c6a5bbf859ec41b4f9b0920802012f28e9a5f94fe7df3ccf995f32fd7684dc208e6274691a89f4c22f507415f3897a31c216551a6d68b4669bf80186357bab8be70b0dfd0d165d5faa8cd85793b398c2bfccef1a765506f0953dd2bfd75651fcb70cb5eefc5b8babf781b3e1c3944e06519cf8cdd69e3b3fd29c0a6e66ae075e356ea4ab34ed862042c90f513c0c73d49659d372664725f8be010c2a82aadd58587c67b9ef4f6dd9a068334832bbefc54bea68e58bcfd0a2815094fb4140420b6cad4f17b6a492a28bb6b907884bbfa085518806e348a6928c9f4dbba2330cb4edaddf51bd76466e8665adb32a55f653ea70342ca07f1a04eedbb77577407098b83e5296607528d7fc3558d8e56b80ea6d9e79473049484284c829ffa34a30d40efe70af958c0085c4a5c8861c5dee3db2d7669d45663053133774c883df7ec9d09a670c31db87a6d2a0a8534d5240eef903c99b032e8a821ed0b6c8364e25648dcc6e21e192ddacc794995377e7b173e52feeb1a81061677566d201d9e6d7c2ef88a8f8e464252f8ab51663f57a7b3405915b2f70274785cd11011f850d62cc6434a7566ba7bd44be30fc218f806db84ba8e0511aae9a547f6af397a2d49fea7d0db4419a7aa74437edf4a0fe8ec547a367115bb3e1bc1ba881b2120c9ddf0f06e030b27322246b24c45aa4b4b047b7f339f4e70b4a6e3a25a4b608ea73b63ef5c3d6c5fff669c972e096516be2436112bd0e91e4f7f4b751847cd2e6fcfe0965021756637fdef66260093ae0eafd9d4b1da798a7cf077de0ef3e5915bf77db03d0b9a77ed2458b6a7527fbd9ed0192979232f59a4a74a9e803ca4ec8ef8fa5a65cdd22ca4ad25b2c3e5913d9bb6427795ffc1bc534212a7fe268e0fa8589ad505b1cbb7e809f2e5381ad0869d225200a6b65da7e161d91d9dd23e81c6d540882f89e88bd55c9429a16591e1f047cb986f213dd4ff75b918fdc38dbfac68976fe0d757a3c5ca56af5a8dee675c754e82967a1895996ba59cc23b5270fc61cef89dbe79fb868873f9c9a611716029c628317d4c230850c9ff9c40d51290694c4286c5c587af3f3309b6ea08b68131aa7dad61dc04d1783705646189037c23865e69614ded36e07aa633d824e97a6afe0f3a579ac95685d3c5c86f0126af560828b29a1a01c0cfcda5fb423eb230d2b563941410061fd3da6991783761bfa6f632b2d882d8dfd5db54ea8aab132ae38e9bf1a840663787ab9194bfa747e00911e096125b2e4f7ad2d60f42f50a3ff0cf8c38b8e975144847637e05f1e3eedbdc40bd696b3130bd3b4d91e9f7cf0cab1a665f1f320bd029b6f09e8e64ca0b0f550dbea63b467ad7a9f213183597f456738c0bf6fabf7ed26ab0d69ac5dd07dc68e0194dbe5ffebc4149befd3095087c32b51af1a4da6ae7ed12e15cf29e7e5c661cf7bab1d983e4869a677bb76e8797d7c7c8c0a55ac5cc010c1c2a62986df0eeb0fa17c995de8805fdd5e5a83ee2827a596c35d8970d94ff4fbf25f360e06f85ecc04ab19de7f517784491d79c1fcf193c0ac9ab38074efa217826903c0d27312a9b635b6fa027234def5cf59ce320728f2cb376161d39136c14c42b0c14a70e560f25d80ff278525280ac3f7b03282d7c30358df54df925db10f32018afe0c3761733c6a75fe082dad2fc578efe8aef83042a1b1c9d4ff5e23f1e0a4c9c9721cb3d50da33a505a88633276e4d125cbe1c21258af1a984a134be24683a8885f91912803f0779c192f65c2b64b48b77815d3c6ffae991ec0aab150868aba067161a85980d386fe5963b17e8fc2f14861eb0f92b636f4c7d0c2af11d6958e37ef686a0e2ac9be3aebeff031ab1665fd3b166d99425a02bab37e46b9745eeb1a23a013b2c2d3f371c203a3ee24cf5a0050da3b5a8ef01928358b682720a3085a5467c13b2a2d45bdfde0e1a7cdae342e0a0dbb8cd1a47f7f0170dcd77828dbfa545da42c982e5211b1dc969b1e1f3ea2ae895ee28d7bc5be3a2cae462eaa830f9bb00dbd7a3b7e04967f6481249efa2725ec441a43feeabf84a1bedad69df08b938d1cff5077e4b9d6bcb8dc7797b43237c47a04ac29bb2c6de6aa484327f0ceede3dcf1963d140f054130e5f39e574cc7248cabe2f6a9a06578c5d84518ad7605f5461a118d622716c4b03d6611b463f463fd787d8ba931ed71f21fd6ebaa87cd6a120f9b5f141acd2759196311b1ec07bc9b022c92daa21755413af4063a2019f02152abf21ae92b5ca08a9ef8e9c699ac40ced4d2404d68c8363736b15d772517a5c7fda6ddd2c27bd039463bab741b51ebddf2f55029ab44833221c11e5aa3b1274c1d5addf50297566ce5219f51b243550899378acd0cb5a8fb9f41c0967a8cc713ffaaf287ac4596d0b48a3e30b38e2d0e9b91211e550ba1951df989969954c8e2459658869cf381be8c753d8ada34a765bfdcbf3df90e1b6fc268f0eff861c051f7d18deb64b301cdaf0cf26e25971f0b6c3a558701549dc3c1257110143ac36eb9f7554804437c68551104841d8eee96bd035cf414761662ca94150c6b57db831d0f4836c13ac54a690028c9aa969e87889218746df5f4b09ea36ab10704e369290885e5f9b96ffbcc35f514a4f3356b658ffcb0d4f4a94f884a06590f571467f9915edd2239b970daf1f1630c466d422cdb06ae6bbc598c8884266b3755d28f2199ac025ebd5913cdc5dcbd7dfd8e768d4fceb3db82b3e02b90145e1623da30479ea4edd6cbf4b17ba2286955fa367f3058e73d9af6bec3aeda3fefdd2393f69d4ab87e8e1e403c93bbc7a7f3be8e6e2ddae9a3242a7127edfd9e2842b2b0d456de2c94aa57db216f8cd30743a2fc56658ce899a79d370ea97783f8a670035acbbb7f517d5e7594aa83832b82c740a077b5c36f7ed36f13c46ead7712cf6b36f0b7c8ac8a536a14ec99f3b777930594000dbb612321c9356e48d43a47bf7128454bb90cc26e3a98577579d1a5aee2db703f0a456439547f2b91e3448eaf42366033704c160741e3d9dc2ea81a31f0061eb4f16dd5e1cc9e87bf76471cf3891a6a933649372f30e738eb0bb5d05e012c110196106529106aa71f6d87d3a15305f231c40674318287eedf820a23267271a50532263c4d97c052ba1d5f47b7df5bec8041811898b8dd42c72233d23792f910240e0910a9d52b79e2e08d60ffaaa6b0ed9a9785debd06638f593dbba6e730ed57916f3bd8c72da2936c8ad7fc98376b539644d07c582ca3304b98855c5292b11df4a8c871f8e60e45559f57ae9da8e9e854dd784bc2b151ffebc59660778e14092eb4f46a4efbbae772b83da589c5baacb6853bb09fbeb689fb68225bef4cd5a1fed18eebd0ef266048f09cf94d3b428970b37e1c79d037f1a9772a16278e20a24dc686b5d3ecd528e8820f224d05ceb17b97155d8178d0d4559108b05059f477c87d2ed0e7e067e2cd71f56cd7b3611cab369080dc5e802c2c5f632d4884a5f4ae2782c7bf0b9dfb1a4b0893437f32f52097423cfe65d13dbbdc8d8f9aa3101831ae8808f2187ceae280691dd2d91c4d73aa00d3318a352f777c9119c44bd118725e4890185799ea247acbd8a1c44259ab86bdefc3a7e74d6a8c208ec4ed6df861887982bfd847fd8c5184b32bfd3439554fb0ecfe800befa5780c9abdb847ddf8db1cbbd5a89311dc820797837912a690b4c83fa2f3eeff2b0b0cc86924323529cb3f5bd20222ac11373af932bd7615a832d6127eb2750997f4bb1d930f4721ab9785786d676d725a7154daf5d6ffddcca264c2d4a5aa759aedc6d06f8d61e45e05461d3764c5164cdfda392d66dc3cddcbd777951aa5e9d064b7b054d6ebfe4a4ae73c71be31258f0a73fbcab8163306d54ec1490c7347222ab4bfc806e8e9e449e51a5cd317e756705736414c79f748ebf48cd4f51c2ed3662c45786ca99d6250e8f3a3e0e95b4a70a964f7f8d236dd6ac36c40fc278f06a425156d1d75e6b695ce8eba781370a7a93abd523064c0f84781a535b6fd5731caa51ce4e0e41934f3fe492d8c38ee6705678c74ec092c027fea05493d758553d8c33bf7d003cecb25e1647cdd203ce0ec010e6ed37fc56dc1cc37a4cc94a3cc46ea42ae6759b0f11ffbd4a6ac977c1f26513e961ed4fbb99b6ee610612d414b770b924dad8c0992f241acbd7575e4d54c5aea240348d90990cad9687f4be2989487f991fbaecd44e5267c56e0a309f6780b10424f54e693e5c65144aa176a06f09a172ef10708b6d1b56989a93cbfaf06fac6b78a36fe2e3c20c40a17688fdedfd8923667472bd01f645e42f2d0a0f3996b7541c97f1f26ac87e09b9f3fffb8729f29a83ef8aa0e0b727421e34c27a75be3eb33ea209145b6206a53cac4326c79d1395e48da3c70bd987a53e2d6697bf34b848bc804239e89fc4ba1ecc44ac7cdc67e105e790edba8997cdf2310be5a0988a15f6806d07ea3498fb76a4a03c6224bf988a50908a15d2ea61de47a3f8951466c913bfa089f879056078806d079987a79d231dc747c9aad9ba8a1d13098e4b0e30761a5659b9cdad05bcb1a4fa9dd413f680acec893f1930917c6db8e5e1778b6f7cb16fcbf9f46c5d56b7d1351d487adeefd6fd7a302941c27906cb8dda9e5f71bebda2bd11e97c8d3debf213310d9c33cd57bf81309fb04146d6c8786ee91d4ab20bcd7a8378d1afd7d125c2f61a83ff64d6284eed68522b45d82a505ccc4dfbc07cf95e4ea8c4bb0c840ebe43ed3efedd062775c9d76820a8ec08974e8508a07a7292d7a7676630f9895e005aee8c4bd3b75b14746d5c307b185f4d19f941e212e0d8a9e3f973577ae47a59e5c62dc6c11424d5b895071fc27c1c0642842418cb98de894403b7d2a5dc1b4c585fe536be38507378c5b7a1602dcd573eecc5aa344a2d117ccb8f732b9d8081eb24409ac6fa71c93494179acdf41c66c46f7032837c502b5a8db529a1516fd8dc163d156981752fa41001cd54ed813b63df3630208a67a43d9dcb56dfafb6d3f0e4dd184ea89d7b0be88519ebad60fbd342924791ffa21feb33eb34692e9913081f02313359fb9fa8cb8c3dc8d6c577b8baaf364c647fd3a1d9dfde81e9e31cfa51fda5989eeaaebaee6e21e1d041d6dab283b2a007628b185fa18d01528089823886abfe8146d63dedd7241b463edff2b8c6a2e9f1e1ee1a3a11ff70e5bc8e06b834cc17f8909b5731cf1c76dda33f9712b22aca46416a24adf0441f0c7268e6cd8a2279efc0aaba4eb5be838a65156fc37aa4d84bee90321b575b83781933e6123474fbb062646c53264d3df57471b5167e97c75fa7ece8155bd4b704b310bfd581fa30efa2900cb957929d6a6c7009e556d6af4e6cd4ce2690e9d410f6e2de57351ba6d1ee2939d1b3448f34cd823c11596df58d834e7928f26509bbea0852981e062bce17a1b20305e636d7885cb08ca76ede45d3b2385444b373559e2f6435fcc37cac8c38badac2c3565ec5aa638cd3aa7edef4cf0c03ed3f96d9544dc8f5013f7b2d02ab92968068e8acaedb77223be9fb1e2a926afaf7a92251bbc76167ed1f61edc38ebef93ec9e23d611319991b7710c6fd0aad1b451bf4faf926a20a256b6ea47ae90dd5ab7f3e0e8fecf19206efa7867adabfe96a2287186372bb039adaab8b9d9e56b978c8b8bf034fc447b3effdcf17bc22bd8a36c5f84c30cefcef769b40c15485610d8ce2c2a8235c6ead2dbc6416e81c5c294f7811a03b3fc0f5c7de1a0259eb0e5ea25cad8698e17726a23fe83be62361017124d3e50e5f06e3b849eb8fd50f2036560cdd0b1745911da995d2045474b14ca7f55fab5b8809b54f0938ad60fdd42fb2b3d4b7b43e731ef30c06920de0a00fca85a3191dc817fed96080732c135ad8efba443245cc2c309343c18cc79614877ac5fdbdbc674068735ba9ab1034ecd0c66c4f463b347f08a1e5b4483fc08119a58ec1811df0922b85d0a6b1846b6b63f2854ff59636c0ff77bde13e2efb87b751d01a64cb63d287d1a3afdd7a6759ba3d6d9d84f728905bb21e7dc2f49adf0ee8df2203816a35622af85e2c569ac94a0e97b511f119845b071960b8aa2c4176d7242fee114b235a05b0359157386d5b70c1397cfecabadd0aa1177b8623461f2be9b45e3e6a2f024f9ef203fd6b60f4fdcbec153b73672a309baa84f134855ac866fbf9d02345e9de4eed0b0d53a8cbe0b22ebd3849a14578aefecbb07742a5b563b48d674ccc0910700e5c12dbb4a4b5e120eb566357f4b65cd4a1cf1b3be5ffc7f4b8c6147ae9ee709abf81abfd580293f9b4081bb4f4000198f10adf2759db747b2e23b88d7ac304a5f937e5e74da9ef2aa60e9393843211eeb78821120e214639f1ece68af0c29644ec208dded02232f0e1e6870530ef26b991c75b67421aa628115c71deef33baeb64d387a97f4659b1dc4c5ab9464a1f2393d2aba16ea82b6bde9ad76eb1ea1f9abd89e5ae355caef9433b7fc320fce36683da6ecb5bc82191fd1274f54c1ce43a6225c0511f998a116522a3d357d7c1b2d229e632a68fa3588f1094169b94afe61887571e554058cc08d08e29c90fad022d2d3e7ddc90939e14e45dd66e5458d1a97a8482a4750007b5905238b3f07a6a193128a47a50fd7874809362421fb79895e8728529ec78f50889de3d1c0ab46baa5d5d498da25ede5a5f423627845cf0a6c64bf2c8a6cfa423e4461a3a33528d6c5339921b55da46e187d0e945bb223bf0a14eb05329c999ca2623040884c504de575bab46c216c5fef5c5e2b5a77ff99044fa7d1d2c6d0bb34be8fa38c9bd8f0f8edab08488b7328265fe919cd4088b2a9d826c297abec08c2c82874aa58f4573b6194573f891cc8f70ceb6cb1287c05fcc035f4896bf4794608524bf3c6075ab7e77a5eb331a741522e819febc3998d941751147cd0a9dd2b1de4bc4270a374d7f92a005238ea05ae235fe7aba231a6b6e68a40aa38bdc27d69460e0d9e635de1637b3f06099a06c3aa7f5c9cddb6524da291764022d86db890a66fcdaa1100d71f5d50efa5fb63e60729c040fb1a34ab608198b6e500d9bda424094eb9c9ad036860fadbb1b311392395840f0ad071610306f3ce59a2bed7b250d0532a6fbf71208c3eb85f12ca25c7a6caab918b7d3c38af650c46d133d683308252b0451ce890c7bf6caf28e9cb806ea06a700db7c06c772775f0f314577387dca1b7391f2ccc265e676b28dd65244d98c7745cc19a3ae4d70ab5a7d5c87d9ac470831e24926ae776400ec45bca27a304c19104f22c32a8e9cf80b0924a78752715ee8bcb08d6883631f35366d522dc54ababad7dfd13f0f4f4e47b13040257d7f5495de7541682564a1747ca93fd602d9990f76b8dbc9a7440bfe4ae3e21dbf953e9b56556cb542df72831c778d3ebcd27b33f5ae943a4ee8a5b4a3b4cb14325bc79b7266d704856a6ae360ea0e5417f82a9ddb57a0756fc7be7e21fa1aca2827e0a2c06a1da05dd230672d63c28595fc6a5937c06de3d333d0018cb470d77399daab8369c3bfb7aefadc0a58f3de111bb5852c7dacb23e994951aab7f7f9cf328c09e77de8bfc9cecc363a3a01c9ce6b840243973a33bc647492ac5d887ccb75560c1afefa1af35e1e8560894d2b26e4019447d7ecd40d51d114fee26d95e48634d5d36822946578d0302ce6e092c9a8a2bddedf65a7cb579236705ca58c9c4442eab16ce80ce4fd20588602de112408f117fd3ce5fdd5512284b28c6a5a0f39e8396e4258ef5484dc2a6f5bcd095747bf1fcf83374341b07d4dd9c0a7507f25d6dc4d9875642ddb38301aaee654712d36112e2347c772b69d19cc937d592c7c3dee8f64bfb6fb73057f15fc1573ce2397c368cb3d07f345aabb9a4b0f2d223e8e31e004dce4b00f594a99878eca450df06410886013200a25ad70251d4d2987d177248790a5a4e2ca9be2ec3f5cd8f71ed4040fe4668d56bf2719877563855d8d3e71c3384a324e7c08fe8b7e66801ac7684494ea83994716aa908c18c1b0bbcf3f7b07af70b08b501ab48e6c33f5a9978570f0fd4ea57ca145381a443258d6b787aa1f6a864bd86afdc0d60abef288f811cb85dd2158a6ceab3f6600a788a396969a4fab26d263532de4ccdbafde24511447eb7d27c6bd56e1c9c3010fe6edd6504a346f713a742cb5b15c606137a0d409e2f27be2f61ec6b201f9ec42191fe1b57f2bdffadcd2f36a1fb52f3700aa1050fc33a5307013127a90c27c48f326e41d238ab3d52e08787951e46fe8533700da6ebebb73fd897df9fb7c39f4097e06dd67b62fe4d969782296f9536007e73f0c785a35bc9001b707492a5d4078cc9487dc47cd173154a40421181ee3b49625585bfc6a6e7d44923039a3cfb9af44914dd89013e6620feb3eea52f1f4107981da2066af092130b000f9aeb0a6d7e7bd8fd2de27a56f86e1dc05184c65aefdfccc066c4aaeb3fa4c7b67a019dee41ecdf529744465c80c47e1e38e5d4eaa5dbe3125d9b4dabc39727cf6e342f30f730a8dac2292e6de8adff78a96f57fb409e78a26acbc43540474d5cef4fb17349325db685e39d7f7e596435d134863fe7ea3fd609ff7dc182deee1eb5a87e35e7de63be5f49af68c9cdc6804041319dd238f5dc45754fab84120e3cea3b04c4e6f597a3073ac15f2af80a93d13ef70f8a4d693410172f4a7acdcc3eba4a151e19f32356a5277728b7bbb428aa5e865de0d4054ec099649c035fc69a9033580a51cb244b250465768fcdf5859d8ecac264ca6cb559c7dd1402def1971e2ee8e0f3408bb67a66d14d5dfe2720dbcebdd8737b1dc77d76477afee7185d224f24ede1ee388adea15cbfc3a1098d52f7469ffe337936b18995cbbdbda4d2e6ae5e6d9210a460a95b55edb8c26e0847e2fd2db5c9fdffc6ab07d5bc8ece0ea4441e720829773d16537299c3bc29aed3b701d3ec3cd6428231b39380054b39341dfc038180b8185e7e5d9e3a79144a52572de78b2b7cc3b3ce3f5362ab1e0aa8c28680b552107783c4cd30d5b2c9bb87906facbe0974daa0d998cf5be92c7742dd1e0e9a8ef73200a2acad7bea8a45f4f3ec9adfe5311a33de0f6039d94d65b3c7ee875a05a274032108f01cef91ac10a54b9113f2670ebcfd67ef02e569c6f85e54efeabd837374f527e8ad80910e97e77d97cf99ecfe0eaa52c558238545b8321e10f600fc8ed8fe07aa89d35ce5698100933803971803af42300246592430d850345564737cededaa6ed63a36bb0300f36e48dd63cd1773b1cc3c6d14b3483dcf1156e2046464f64cdcc0a9ebcc860181d459a26acd5ba856dc18af762b57b49c600893cccf9409c72a0441186ac33e23252a604fb52ce3f8ecea397e9c4c903ba79fa03ec7194a1debe5b2fc5edf52ba789269c61066290aada8eff405d9bcb1a72ec47505f582d1897c8cb948648ea6b22dbd98621df518230b9647b3e8066d7b46c5f1b2c896281a05df5d4c53fc5903e92d0779b21b9ae0631ab69e22d274540a75e1c223601ff7afdc0ab1c41f839fce811ed330c69ab24c78618a055cfd435d0a9d623c71179de09155d8d020efac9d5facddb9c81fc3cc3ec6827ef7afa3f0568f42b5ce970b99bebd94ae004de9c3c7b946fb026a304bfdee41783f1bfda254bb7e17071d237db562a2e0a0785eba70fea70ac1a0fc375cde3c6be0e3a8ec280a35eb2bc4b00ec33d3aa597a4c832c8d786628be0fdc0fa2a913510f4ccbefb7dce1beba23034cd49201da66414bc697920bbc2a79515ff098bd70396f41722ff0db37b51c4fb0c6478eb1480b9db2f81191f0dc6e33c795eb4e7e64aa20ba225cd1e6b7ec476bc1f058b674d98d9b87e76c1ea6fd11f8de2419bbb38eeeb5633bb70d66e5c5877542f564c703cc14e8a9c0463ece49471eb6c308bd5fada3e7d2d1edbfb2bc407f3529ffc50cd451d17452342376121edf604d9ea1e1becd0cbc5adc9c8da7d48311a42ace359d723e9a67d27e88eb7bb2d366b7579a0aea8d476e8b3ea5d4cc1e5ddb512fb75b2caba58ef631eed922dbe9867c42b54d3c43ac0e8c6813d9831a15a8184e450e8d2a358f05299a70c6264603a611f68adb4e3f8f9b736aeac6a8b4bcbe32c551822a7b4eb8d400e7e346bc74178d4d3f3fe7d5dca10839f9689092064bf74e7d3bd77e6a4b47d55156bdcdba5679227e4889330e12d03c8e098ee9f4a3181977edfe8ef7c075bfa2ca9a126e13dc62656b4eac179ee2796b51637a2b39ef4c051bb9551c4e5aad1e665ded0f431fbe96ef8866236e300b2096e76ac04bafe3a23353f2ee28424976197bfc27cccbf468c7e8cb7f8be4269339909d1cfd03335e134573ea7397db14aea9b6e496291ed492c7a43fe7f490811cf2f17ece81fccad2525433abf5d2af5f2c85d472100efa236b3b24732eff2a08cd549ab7ecf93418bcbd152d4cdb3764243bf9800dc426059d7fb02be2b78faa528b2e5260bedbcf5c50e353257c62ea789794651e73f92fa289a2a2d9eaebf31108f0ae0a7abeef31051e6c24c8b4eb6d6d88665888dae30f932f735301e13d97e3ef95c43a4e9218e2e70826e9c461205a93908cc37d8029d766553e15b3108cbec3a38177f1aa9e1ae01425df8cfbaa4609e53fcd19e5dc2406c3d73fe0e6fabf0f7a12b4f1b62d4d701df64e3f7b730f56a8f984dae2c3d028976c79a67cf2d8f46140c0ed5bbfb8e6c5f7cd258212c7f6afc46ae4b5fd4f19e6031cd0f1be35ec84ce1ced421b1c9de0b21389c12ec03cff162ece0d0051139f9e356e2aef5f51ff86d612574f356bb1a246e7227c46dde25eaa7b24abc428dce7ee50d2c5e171f10c71aae41401380111f950f1bdc4c38bf3e5acee19ad68511947451ee24c6a285b6d0e2410c87751fac9bd7f27c853668db7e387d8b3a4bad1f83c029798b1d5f1e749d9fa167951cc110c1a89f11dd8d589c9c6cfa89aa53ca542d7769c90848eee224bfdfa286062203591c128b869e282948cb0726910972078a1dc9f3fbc08e8c333994d6bac162a8c50ee95ecf29a312470e715c3a26a6b57635fe595e9ce16b22a9146369efbec6d131ea55c11c8b4aec7f20340dfe7428c174571423dbf8709be656de85e7a2769db6d6dbd73b634491e56a3a0afed0ea8d6d687fb691a7f3465b0b86c2fb07dc7d92b002b988ae076d58de38e51e686f528522761f2ca30a4a4577a3bb9d90ac72f40d4dc915af4ffc29ab16507f580da0165b15b85c680dc0133ebcb70c8d5a2404f2ab37c139ed4e7e69d564eebf9432dd5bf81fbe6529e0ffe463a402fb1752231cc746e738b3fcb2a33d2a2b8c5dbd6bc0c8ad48a9accd1d36b368b106a98ac7a819cbf228f0334fd18a9267a08307bd84cb7101234e69d11f272f261e278e4efc5021de0fdb3efe411dc98c79c194a167327b06c05d69303699d5d73b6e1b78ea1e835a855cc686056613132645d1b887ada0962b510353bbeca1c8416c50e2e81920aa20d8adc1932f891c94d2a4a69830a4b3ec8f38a5ab3b31f184b777d0f9b3b2d6abb72cfb261715f138f8ad4aa74788232a51f617af666edfe44805df51144439ff12c116469ced0c62f8428a9ec9cfd015ccdcf9ea0b7b2c9d7b5a02d12bb263286d3443b01b5af19275770d1d6e9901c95dbd602dc9c6457b1d33f324a2d1293b43444c255b7c6b8ebf62061525915c71a50231d19faa97c2aa4433492fe8a5c4abd7c2bc05a","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
