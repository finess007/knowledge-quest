<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"ca5241f4464c852efcdf93f3dfe9bdc95034c89dcaf804adfa5b0d75769516d2512816406637b08aeed90e1f94f428a2216dd02d45fb2ddeb1daa33f9e5b165341b4728e14f78a1c3fb96457de9b89526b05644072ca36b7994e7d279ca6ebcc71ee317871d6b231cc55b0698bfd7e350d7ae18c43b5ea115569f0e4659668f9c869fac073e57e30ef7f480f6ac10f2e19f0aa7538df7cd05b243fe158cda07c03a35315d576aa7db8e013cb46e0e4b3ce10940a3ed5e8c123d1d567a48a66ed060a978923490deff4d5841b1722b23a355284959ee0c1302817032539af9e28405339aea974fbde06c87da0b0722b9413a8bbd7e394dbba0aac6bda574a1cb0d11781d1ba204f1efc79bd2ed1439cf18cc3f4f265a54f4bf582910855607272e7ba9ecacf84f00da7871425635d69328e84963c1c6e40bb310ef3bf74f73084573f047e3f7bd2473ca19d7d85b626a3f6273762718306080993c44b4b290f9ac90ff7eb149b159c31436e6bd15adc1a19491060a99e73ab18dec67271f2568c3ea107f5c53fb15808d5272d000fc7241771b46c9f72c519b428344d6de4912166923077f1e033b9b30ade2dd6106dc2c6e3c6012aff25030ae9d548c91c79933a7d78ad887441640b2caafc2798499c006c0693f4967e6b39743a850b3c1204245f890e8469a17412759846359f08b0474812667fa628388c316e4ea3447716a4716924dc57b8c8778911f35ea1979014c2120a520e195646f6111ff485bf2bc4a155716e999a1deaeff75b298d5db90f16842aa3e2cb4854d69d6cd05b9e4cfbc0a726281eabb3a9f16eb8864bec670bbb4e79bbe4d67dbd3ff4fe15ee8270d811c06ccd75196b649cd13fc48c6d49caabe4be7d5d26100bc2f8dd07b8d0fe5b569139751702f5e87c3cec7df986ee52da5b3e7a1ac4de94a2ee52f373af9095ee56e7f11ab0018c9e47556c8c138f7e74ed80b4878201fdee3860269a9693513203c676806141335e96db3f31a17521b09621fdd6850ac242301627e9d16763eae356c0f4d4e496d6d867efc5037b1aaa4a156d0e139409d8d88a6fedcf58f3a8438bb94758153ecc46cbe54f45ef67357dab2643ca49d7b70fb4c548c4734baefa492780193af4f65879ebfa337fd1ee44f273687b6e43b1d3f11e1536f85c496aa0b22fd639a51d3a90c9ca812ab5dacd97841f692dc48d8c532cab94ae6d21c0192a9e8bba0bbfcc652551db5151f924126bce49aa9cf8839531ee9dc5f9d10d582c5302766ec706b0ecc80c8a77cacf68abb400e04544e84ba11cd46385746bc90f01ae3c54e38729b5dddfd64ccee582b07ac4dae5c4c36c41c4238f49d1ec5552a2afc1d504bd83e2f1ca2cc3b5af45489c70a34ed3f88d43dcaa3d6f846554514361464e101ce7e5717967123882b031b6399eff67b4c71c4b99d3cb2a2e064799618a6b2db63103b4a9c80e231251cd2aca6e984c37a866bfa105c2a2fe6de792b4cc4ef0f432daf312111929233d1e5d34af42d27bfb8fd4af2cd039a4df759c3a9d19251aa9f5d9b0f1ec9a8042647c5ceff2d8b23876e97b8c427c7f9d0c3b73c63c70050036127de349cf900d678e1d3e47701c2c43539e276c0a4acc277046c60a433b097b9a4da56cca8930dadaf593c8bcf7f5cc8bcea088b6627263de0adf6cc9dadf943f22a2cda4287aa26072ecadfd9baa536da04b2c8921d537b8e968de5ba8a888d86547f7cf610b63a2e29c890c71a0fedde0ba2b47cf68a8e73f65f9c14355d4c1d81e862c11e361bd1bae0ca52cb8a412173ce43dadb48018bb0098f6d075d7e94f604d0757bbf3ba5c669eeea2fc48b0e741cb49f5c1b22ad185c3365f2ef6b10ee8a70da36be8ba94242b3c3cca7c266e9b7daf0be8c6d649a66075def3c3b1c43c9e8e22942ae69d5bc1cdf6b9d122f452eb575381b68bbf3b281c3b0b4627080351fe6fda6cff69da319dce5bf4ad31d25d359716999b39050bbf295b303d26b7e90f6200f3e600de2ef0b84c513eed1d7f24e7315f9cd2b501bc13bbe47fefa6987c4bfe17f4812ee5af42b8f96e81733df90fcdf923459fe4c91aff9091f25eda28977f91755d063ddc13f24762aca1a6674b5c88e51ebed61607cebb49fba1ec8cca30a5dea4c37aba002c3d9b898a96183c5c88212abb4da7c650dfa411b4b3b691c7aa4c7b72a5b0762001cec600cf81bd8d3d17e99c0896b69a6a594b6686dd0a14e308d115291e4045227faceb4b3e7f2f2d1c729cdf991ec3b0428ef2cb9d039c9a6971f0f6a2786543472a6f2d3071d2ce57f2b1ce8171ef4a8452434cdc1048b0cd0dbbe688a64030d34eb72123a1ee7980d2fa7a38b0c80fb7e8348fb210fdbed0104361c8d94b7e97167c0733e0aae1ed8f899ea0ac9c46741a63543b13101c9619ef8230d18d77d1e7a7ebfb84cca9d4ddc871e6450fe3d1fb4f511e80b7c04ccfef3d51c746e59a8efc5f802afe62254b79de53135b91bf5f543f88b05d82f38887ec08fc3af87e437a38eecbe0ae7cc25977e24245b6b97df589b809916ee326e61dbdcd2c52caee1287a90801ee0a9f7f8d99495173f92a9c30751d7afc3320fd5660a8d09e976ba4e4567bd04a7b5b0aa172904aec67d1c931e61b6399759e7c806b55df7fed9af43837a08aa66f3288b72a721eef6df33acea9d933dcdaef2eb84634e79cee323c0dfb64f3fc9a3163246e27a6a453ab6fda909efa0d1fe40c7a7c0db3a471145c64ad5126e0494d0806aeb1a857f16dfb9008932a959584ca01a9a50a32bf27486a108469696c12a8231750c80a5f83ade98969902620655af97c269d3d2462637713247153e6af9b1f886a1483211a1764646772cd165a87790fdb7995e7d3d7a516add509490a9ca0a1a76add1aeefb0f923925143f4a1b3dd8a3174b33af0b4a8e96eff5ad31ca084feb99ec11be50da3f95d3359ad248c4bad257dca7cad6c2e731d7c3a1556614dfabd8afa23f4bb6c9288012cdffe109568d6b89712d497bbd9e18064af8cc102e3746d9579750b56555afbcb636dcfc8df126a15c02820841307b25bb796b72e274c24b1753c04c15557e211786f6e597bd9e9ca7114b9fd6d71c946cdb83f174f657b49d616514c40162033fa299979b0ab06a873bd39e677403035fcb314f2316ce55ec9dfc9569126e9d2540bb7e24f439858a87e54f968343da29ca81d40873500d57369763100810e24cb1a45fd235d508bf77a4707614be752f85877407f906c10f96e7b17bd065bd1de1f4c8f2681cf99a5c5034fb627f2eac2b890032533fcf16b01168cbb73b15c120facf66391fc81b1e97f403416c7aa9a2dd0a56c06ba9d44955a7aca2417545b93c9379c7a67207e929fd27c4c061d9ea4c9dd2d70277886e9a77dc909c6fe5ff94e8544ef5788f2fb90f9dd0a9710309e7e411e7635031536c931d5ac0b51b9b8df0de701e3af5e675be097044157990c91aa5557f08648f2641e65665fe529fa8648c7b6f98fa66ec255ff62babc9ca35bc8caddd5b63cd967bd983a8067906f681c8b8e2e0a85052e97c1691cb868c79362192cf96b1598f7bb58e5554600155745ab784ff4e0165252d6deb739bdfc971cb7088f2790353f0c9696dd03c0a4d8ca1c771928cba40f01fca893437842486f05191610db39df71e5015f85297e8a9ad7f3276cd1a55d42328235ee163949805db993f47ac0c15559dcc4820023604f89bd1e81593faf67a82f8a12c5df49108a84c19b6a8196465e62c8fce62f6ce5334b19d0d23f98da1164b68204c355c983a3599fc5405fe5c8122996499970e8644c22d467d1f09af8ad761a228feb2fd49440f320e13c5bca90d0a04cc9915ad9641cfdffb24c260d7bbc7b540ebc00b31ba700640ab5604be5a3b9f63e2544359be2feb585254277fd2317300e99202b4f1f73ad3387fd1a48cee4a1c43c814c59df0891e7d7d113c59d8895ec9bb2a50926f2e05b217c76e5c121f6ba7689240a3a18a2abe31ec648492464be9580e190ac6b0ded27862c2b3656cbc290f3a42f64b76ff7b2c6fe0cfa97b1e42efbf89be876406722804ec37642283c03fb1213721879b38bddf7d2a1232fa4769047a7f18b930d3f7e3e66f35e12b82529e8cca3d6b0f260926c59df75964d5a0aa9aab1dd3d6d3ce5100146eab52ae5d3a1295d62da4d17c4d26e72d82ba53fe68811b18e688e822a4243632bf2ba47b537efb697301ee04d29f72befffa2b6a1fd962542a4a6b8bfbb44de81a8a1fcfc97f48d5fdcf46743e743b3911ba302101c85663bc53828ed224bb2903fca1a101561e816b0e684270556a6abbfcbd6d22ff668b5878ae230d56b972993307b0e5d5937fa336fab40e44e70d2623ada2ab4bc572b28e8ac7814cb9cfabf1725ca11b4c44e6450a2a55bbe3a758aba91195e65feda86e9c6e38e40c0f48912c3474d59ef4c7246b1f6297afad1cbd2c99f377f0fd351c17e4c4dbd46529998d254c125a92649b4ec0c5489a274de3353049c44609172a24f28dc89115d912ac528bada7581d28c069b61544306deb93b7135b77a9d7b820039b9016db801cf3888ba0a830a5efa154f84000e1b0a74e173168d24347da3474450d2a7b915b28801fb2ffcc2d7b4d4ff520a22f3a8326a82f41d9f240d13ebc8655ab17e88136395404b89454d534d90d12ddab0e4a4ba7151b02f329c5bd11408e5eb6187cdd9c5beeecbfda01a97a327c7531b4c7dcf7e535a35e211d77c6b93d424895bd73f5bf92e9c503a558d8ad36fba97215fd504420e982e7ee4676e8c353a792b46657114a27da25eb2f27ce319299e462ba28c2780eb5fa7e100b72bae0f2f750a0123fb627c39865603e7d2fdb133e92b159778e93254dd08cc0e1f3b087d9d5b7f9172375c6b36e7f5f574f26fc189870b14a98b5559a9c83574cb3a4a0015a469ba814599929ea47c80d3eb8edb2ebcc4962272b76e1e4692508c942fec5b6340f22081afc54c4f1b0f17d5fb02d5e78da3c47563dab336441d299a0bef7896caecb477fbfb2c37b4ce2c53fd02c76df080276798fc39585a34f471573bf450c413a93ea639038e3549bdd7cc52828d8f32b1cb3f6257453344816b7b502bb15083d81852ccbea7a65757204f0023da64e03c5cea504df56702373239ca4f65474f9cc272590eb132936900ea7b693f83c54ee1a43bfa06fe4e4b891646d0881033cee78a2bd5f0306d54cc462acca39072a1b728445fa5df47e4b28ae6d2a3a7517706a15768ae6c898282b71db1829bf0665e22f100d9c3237953fa3a3c102294775e09bae92dc4256e92d6c3cf7f52fb3a69373417df7eec116406ffe8c834b33387e3574b774e876a2a217a91fb72574eac6067d4a358e26b39a4e37cfdb4196d63b1a7a2fc5736ab69d2ab1459265941df7006a746009102976604420ae2c085efaa3fed0457ea581c9a204d681fa008185434d6b2df44211125e624bb33e2a6cf40b963915ba90c6924ec8cb4f1acb97aec17fb9b36b734fb1c54f05f44b70e2c7ed4ad6841d275c6b137c1224f4e083c071a97ae7538beaad0b2daf45c509fe6a12cd84b0c90c7baaa3335bbf84717c760c6cb6cc7079c1bbfbb846ab4d1055ba4b3ac1ac3878b4d1e5756081a30eefed3f6d447dc5a314ffaa479b428dbd5cc592e110267643c92a860a316d3b5df23e5bc6c37d5876e457010f76414d60b0a23b37931b111ec90b9c4f444db85c3c7120904871d7b194bbf67a3d50c6473b02e00548cb486cbbe8d245c2f41c6c72c22740e3fa058300138c9b5b3fb2643aaceb34265abba83fba3bcda0801459471af93d26bda773886b064f594a99b8250498b61e49bcb1f977071689277b10a23414d22fe2cc7d9d52bcfa7e8e2cb958dcee26ecbcbba33589f55fbd35c241dd2a1a583b88276ba28b527a3e769cd869765d0cb128dbcf823e52a4a61a94db8416809e1592b1c0b8d241eb2d758bf0285148a02d701a995020a43b8d16c1227cd43ef5d671f02b05d712874f0edd80e29bc59cb738e1f0ac5fbd1eb57f611891f500c15b2ba2b0ffbe63d46d098651df07ca5c79086d4bbff2b8320ec2b81237ea4de98e45f8cf6e7c308a5009c4555baf0295673c071d5ffdccc4825094de29513db03cff249358012e83ba8d9db84215e484c7d1e6312e7aba1b810af80af8d7eb24606a890a2edfbd381a408374497ece0117e58fcf67a2b7b9cedb8d67d665e8e2e4cfc7b3a7a83dfa2982651c1c568970ba8b99a2f226e12fffff137628bec67db936f65b60021952edd6a3d51cda41a8674c3510aafb364a1738cdd1fb77a7bb2c34385b0d6efbc532819e717e404fc6db8783a717ee9d3101c8ae7bc4102e8f7b02a6f55d2296b8170f594ecc75f6256b588d6aeb815a5d065a15f0ce94b0f2698af96a7e1619dd163d780f0d8213550060cea27f6799fec8721a40236281bc5c94f9bc5c7747f83a3500f48206e6a3178a3d57447bc2dcacee13f2a775850a470928f22b88d9cd63da9c631fbf651f254f72baf40b1d80b27ae1101a7d0bd13bd9d67b4214e236619884aa44e280137f75eef18350dd22320dbdf8eb71fdaa16bf51fe4a77053b6bc60301888d1e7c84cdbb0a56caf4ee371759c9b8f7bfc43ea477fb706dbe19afbe00fcdc9efb269d26f058ed759b387fb28fe4ff3faecf9de96287f315ec7fcedc4c15a2c0fa4a0e453f4ec502d96d7ea71cde66302554adbcddc4d5678b4856104265479813f0db4095db918f26be1fbcf8ab73ba3b2c788af50c22f35a95198705981b684fb4d384352a910f598c431319c7835cc0991079014bcf2e430a4b569c03eb88a74064faec84c87a997c40a186f11c0fb17ed6a6e506a52868395b9a2e315384c70b626a5446fd166face3b70aa802784f4ae94ff417b33f61f50c37517b237dc8126c57306db4f2e818f1be2432e3b076d8e5d56213702608b5cdfc019380e7f6fe9e625cf0bd832b1c0830f0b4b235f84b61090460b925d3fa16ba710b12a97687fefbbd29752a3d15b79df93a463f74bacad65d935feb231b2340c2df908d99c5d79500a663ff7079be8c49914c00911c478edc452a5caed2f35de54fb209cf319a32d87345d837fff7b7978d0ece33cf0311f2c1f342651f7ddaf19f811e8eedb09f0c91c199bd82218308143406f324bdb431e5a6674be46db40cba3e63a1ca2e38dcd2a932769443df4465e3f790cf68ed1b39835441b170876f786894e290bcce9d7a12c3f41c14ece2cae6d9e2d2ad0661daaaaf5b1fd48534328f474c66af4d19a640947c361f6cd337466b5a512eed484b7fc0f09e9afa144aa69dcffff3c98709fa33f28b52bbe4f1a465a6d5bc8d47d912628c88ea0d45ea2b056b8624884d5c5eb2c4a43a0794b0468243f08cfb2644dea1a45dff52c8742a1882ced1473c360290bf59928ea76b92cb8fdd45a84aaafebd5d6e8ab0b7c8f4ffa7f24a2276bed07ced7000432ba502e34448babc42c9c00a5dd1048c9db4934cf0923db062c6a847a08e7c3acf5e114c3e813289d9a987efd00efba3bdaa7f3f9abc49d794081d27ae62b5f01745f12c2b623fd7dbda791b85aa2e8306e7a5a0668085cb13b2754a479f03f0c05275193233856ad85e80a4b1ae17f34c3d93cd0d8e96c9a8db128f26922d63cab04f84251e8d4da81db8fb6123a02b312fb97a615852c0330d3343ce98a690c33f8ac12594bca9c55a6b1dc3dc391c080741579675909cbab0e82b0faca79a1a5e8eb5c99cd37b13cc92676810f426b6c22f973b785e8c4daeef2c4ef853188b164b5805ff8aa115258e93392b79208f90d30e525881e15d4dc108b73175e65f56dff0987298c5eca1b6f5450337ab9788b8f18e9b01b8773d062752c63d91c2201e5283216a50c1d81f56bc10f0e89e24a96e4c88848572975e6a609e37d53852506e2278d0f86aa12978d68026940e982f295ed9e22a31514fd2a3738dfa1b1e97025f842e1524c8be1e0d6b61be34fb5821f7ef75804ad26e8744bed4c52239c7fca0a8afde43d98ee8ca199122efdb57c1cb03a3098a813af3f28029a97085a50fa2128b038d3805d760e973accea5fc8d218942eed8e293cb506b48c6080197526019085b55678cb389056af3b04e0d1f62a34ed56c5dbf1d3b57c63b1b467a89b978c8438d6c382fcb26dd5712580cbce7abcb6c4ab85eb0cdaa17d31a0558852a27ed90135103987e1e11d59a74e67a15e3dd9effcaea0ad1936b9f0a75fe17bc9f695345083704b374ecc1a3edb384a43e783ee8fcb00fc79ca61ae509d10fc60ab87a065d392d471fd21e4616e200fbc6430f5cd14c3c2fe09a216f7cabe28673b47bd27fe4fa3dcd2b8b8eccf63b3f69ab61806cd200b24ef02b752de70067533968fdbdcf2991ce055ae759d687220f7843833ea4917d655feb00d8fd0d4292181ff1b5222063b5403d2d9ad1137e72778fd8a8a7dcb651ecddc1319b1df79a8b45ac3b4bf6731cf0f2f4d0fa0f1fa2565522c7a4a65b6e062e90bbd2d417588d18547d153d1031dbcf9808a53b931221a1fb3ccc5b0e3c4d5796ac65b12959f6d3738a2a7f4f43080f65069d9b0f699bdc4e77573f5441905faad67c66828e131c99fec8591f29c458c7313661d53d0f836032df281e43384b072c9c820ddd4c82057050c2bf1973495817644d799ad54783f34723418697a952e6af346ce7d45229f2d183123a5e0eab4b1854f468daff004096a80d330cb5c0e4985548220727e6835be730d755cf5dba700f0fc4a6677822926a764db6e8fcaf42b39d941c89ff3a4c95454b8cc3cb0cc5c9be7e8b47bb02b15ab00cc69351411c2657dd473563a2b703bda18b476effbfc961b3a194f3799fbc26681ace3b65c55528d08a9fa37c554647832ef9c16a1bd75ab0713dd08efe13a654bb2760417e14f6a121122c148ba32e57fa9571af0f870333bfc02e268ecc8398788bc6d43ce4eb30954c5dcfce73419f8f1f99cf45a78d7e12f325cb0788c78fe200d459fcd06f88c45cffb3b1fdfbdb4f68acb4ef902cba84b25b5a5866a8bb6cc56b26e45b8b13ca5c4c4d1c2ea77558adc566d01909115c5776b84779de5ca6914c131a9482a805fef504b675756fb762e5d47bb32fa0d6ac7b66e99074da71351908146efc5447f1ad5f976cc71be3d66437e58ac8467efd17b2f4cf4c64949e1c0849018a847f6d9b65ed16e5eabf81867d217b1abd3211dd27ea0dacabcb17a2207c6b34fc99d87390cf49cd3157720222248b25b990ecfd6f76553a34776b78ae00e5c41cb63a28b245a653a1503681f114705659b426415422d6c18aa514f7255edd7b18f1fafdb30729948eb767e2083d70562257042885d21864708a484cd12f0bdcc37cbf447842884580017e93f7b962023a3dc1a247998f8ee3fc217768427930f7033774d1ed2f41ea136637423cf6e2096c9904c21683928b3dfcad1db264b90286d22113f08bcc6033733c9d22b2f296e972c8387c10f5a709ebb2e23aacff81cd59b745e41e1e8fb1836d7ac00ea0ea8293e8049bfea901039d01880c79aaa9b3ee2a3a7a00e22111c01ebffc64e89d390991c241c13078e2725e99c4c41fd6ae27eeaafc9ddd9677fbb6cec3fb9fe3720105141d8cecc98f71bd57cf728034a3ece25559585d735a7c252d724a2b9f28764b98abc173ed5956c26a01826dec01c17366fce7d8a6e38385a2b27e8d32fec8aa36421633d628890238f63a328faad42f39ee5285bc7cea7e72e193ec8cc61bf46058c22dc2f3bde9bbd64e87a5324a697863529d787cf76c134171325f385f7150d64c923637140e054311ce146990f6a48a472a1f6d2c02e3513a823bb8c24f3ea2fd017d1eb4118ccec698a70f24fd51dcf22117c5e12e75afbb706a1fc97e9ef18b2adeb8d8111334ba2b3aabb64436d57191d9dfa0841fe0eeb2929c48d78650cafab28cb491fe44a8cad810ff013b08154df57ffd47d3d5727c6e0e9679193460dc91fc6b1ddb73588798aff498e206c05526ea491ae2e75e90d56641c8157b945a19420dec867f8ded444162c65b6a2cd94250969af8d3c69393cc030d5da99ed4fb695bb583884613b2b27d8d89505ce70036e5ad9d24f929fe54a20f2902ec417d5db8c27ff0c8c1c4b4da3f289ab8585b9f1964ba2c641a437b040788ea96345b8f760b91150a5f566380b55dfb271e7148009b214af37cc39971f99b49c5484aa01eb3adb30090652cf367c4d13cee0a3db8d3d12d7d46742b64b40a795647cfcc6eb0ca3c7b78b89586977f67c64e9bf56b8bf3fc0188ed93a049e34d20633e1d2ccfa8601423faae716e565efa36d1e19e9724ec430dff65cc239a377f6af6536f9dd42527258766ffe072560b9c49fe9886b321a5df63036ea3dd4ed9ee2508f9870548bd28baad75c0c4cc650ddf37d02535ed822f441d9fc6df364ee0b985984064d942c98663fd080d1ac9d5517277918ebc3dd795f82a77e51d35941795e3559a52678e7b3d89314a8eaa654134391645544f027e641deee423df6a7a6bb5ebba52b22eafe1642b6746ee26fdb130ac3cf4e9c5be141ff07544e7b5461d8091424dd37ea7e22bd0ef001ae7342666a75c4c82d653452468319f68d8e59db6258652dde894706bcb7ebe9859b2c440f4f2c1d03f2eba39d72b268cbb9dce51f79dbf2102a37f761b69712b451fb9dcc1f77d8139a3ba949e2bcaa135e91eb129dee23b7cbfa70aae62417d4953b7810900abf0591e73691bc2a62135c41a500e98073e3a883a50b75ff974307fceb4cb7b5a67349b3b67bccd323fc3f7d3114336068ee5934d1354779eeeec290dfceb0e0654fea2a2d4d8a31ef1653376522d96b4c01182d47bc0e051f6aab232d6ba62cee913122518f54b726bd1559550e170e6df238a1f662e968d6bc811cd8ee0e03f962c3e4d2d947136acb386abfaa6fa74fe873336345b70028dc1ab3bacb45826bba8c3c8a8e0be0da965a560322ff384bf4abb51d7672a85119104ada1a8717ec3945d7d7f34309cbfc047bc33d6c117c73df33ac5705d8d11bd8e9c9e029eb0e510066abf142f36ff5468865e2315572ca2e93bd59849fbb7799fe3af3599686849e88a8c3b31c32e2de7d5dbfea00eb499b47bffb4975dec959e7f488fe96622424cb6e980beddfc7f5c114ee5550c8745b95959e1a317d04e6386aa0e4c2df2817f948dbdfc701f3c8130d5f2e0b5f4d7693efa22ba5526e07135327e5b320179d93f9db9a6491e799ebb6c132537ccbc86f2a7828220cabea0f46e5f47e8f559df7abe08ecc61cff3c3f04f4c68c40bc93329f89e1f2c408eb17244922c9470b981d7f52a8d0b105f357107683d29a8c4e13733c14ccea6f13fe578d4e4e946848ed16204cb06c3d7af289759ef5cb4b2b435837aba3cea8f5fb7015b654ac1bc2d9644233ae17853388459ce0cbfe1f7ca81c6236e47a2a0840f8f4338e4c2f2f931fb8a65078251c034a0e667e6b2a8d52339aefa6cf5c5a65710d847c33d4eacc0d6c5847d7f3f0b24a84d1194d8249f2bf00d08afcb38db5eb5109f038b72edcfd3c1eaa754e6ce1fa8d9202e167bd146332fa25800c854d99dd1577feb40e77dd8bc23fa097c54ac6b4b3e1fd554c167f4d37e0abbc4b46d8a5e5a4e0ed45de5a468d36a28be9c509f897a4f45390e1e755e85d2f5df8add2b44267227fbc9387dea5155525ebc9fd396efcfd0a67018ee372c9fc796e151c80fc46467842258850e78d0c239c98086d21c50eb226d93465e04a6a862b4e0bbbecf91ac0c8a4c2c056b7381f6b08ab4bc59820bc5e6fbaade158ff97086757eac859daca18de97223d85f7bd0c61a29e8d1d75122bb516c1eb575c75079561fa877df20acd568dd92a56f2e538d08ac31946908eb074ce3791a210d97c239f42ba11db556fb1f16ab57154fcc1244601ad94add7e35122983389545727210e7992acfd463a108b433c9614e2806e5de09913f6dc156a5063c9b6b00b255e54e4e620062caf4e4b1a93060f4b28dfde47919e3139102e83466f48d383a385ef0ff5f1635387daed033e031dcf39a9be10e06ed6dcc3e4dd27a3aad3d22a00c3ccf3294738cfcc473c2c4321312e843473bf022c36c7336dc3aec6157a8a81f7723954d122b6835ad6903c1b538bcaafeda034f4e9519de015edd9b5291a40a883c0e1e069d9573eb0ee941dcc5f24cda245418ef34dddd90cb2d2f4af28e27e0cfae39bcb27b8a3f9e0488897dd26a75881b7f9dc8280fc56a0dfa57ab1c2783fe7411af456f6cbeea4c2f3f9e80677943b055101d9f46676073b4806ca4441b0cdae70db8e45c5d1bb78efd78e38a946a475431de049754cd9040d3f3d200b17903ab248facb51c95146ed2de4f273d4c20e368ebba1c1932c5353cb29709234fdfe4622ed6e7ddc1f5b1085b468b98e91ac675e8cdd79af23e2f80f696d090b1cc136b0924879a17d03e1311b67c7fe323a62a665a3e1f0c6e3813dce0e0b599c4d7ab87149cbad276144200b81778fecd1a6c7a542ba85bca763793960bf76ba5430a88a54e51527101138dd8a68613d4a3cec1c7b21ebdfb458d40a3c29f41158fd2e941857bd1765fc5214eb27588b0cd2ff4c4bd5e8706614d6bd959c2d25d4426a9328790066a783fed5ead7ed86a9f8584c622bd6d1512aabbdbb24f26226abf67f9555d8e4e9ab126b3eefc2a6ed666aa56537c937ef4dd6d393314c33afe63c3e7bfb1ecf7e1b9fb8ded3cd5b08e6c60674a972522a0a1d3a9963910048c2c4a450a789b761e39b81ef45d984f6b66c2a96929becfdcb5628c312eba24b7aac996519f076b7e8d47ffe95e55bb45a5ae8bba267b1f80f7fb38469f7263ad3663ff09442a8825bab498e73b4a40506fd1a6b40904c3748822c9d16720b95bc6ccdac5aab53755c9b43c2b9836592e460cd49f11411bb0146468a3fa7842b0e85dae2c37844cfb06a6677debcf5b8f2420432af656e6726b7fe5e60bafe70e4ec7f5938193a74b848bef24a9c939aa414f2279839f5f4c87d434001cd085429024894187ed31f06b43aa0278e535c1f16897dfa2cef188ecedebca96e01c0b65a27d13b2135e9226d7c5a810bd21c973768d3ad807bc14c41c6c2fda7be69fb30cc9d331a2969857d7538463787d13e1e6046019cfa10fe0966e8e11509e7d0c450508c378848f3be32f12733d2dc18b00487c9cd18aeaa5f3cbb9a6a4ef6750fc8a2ecdbc7bf5d3d1d5e9fcd840f551eb1f39629c3c7bf9a67f6338cf0f1463feb69c178316746be2f42717e15bf011698f56b89ce3290cc23b6ea1d9774e3a61b66c6ac8c59939c0b95f6eaa61025178440f3a2667a3edf782c91aa3af104eadeeb7b3d39df1dfd81330709ff51c448b8abffbd4d6c9a148b0952e223b7b7bf32ecaaf447eba40e2572e6e2eac85e127ae06f8a99aa30e2a137264186a7c3f8002db408af950cbd124be08656b82355bb367ba34c0e93ff7b891aa0021268a4bd667026dc03f8cde6385a59f0f7c0dc83e9e8e45737553ab3def53c3da90d9aa39e83c140e9d7620415b645e8e51c2437d20b739939b093a063c84f8b13e18756c9c056cb0e34b7523535ea5e4510e6c5fc90a96422c1bd6cccc82f404975d26b855fab53fef08cf34e4ec5127663bf51bfabbd0b8648af21c447b54c342dca0f0af04f1dd21afe73009f490074023b14f4e4e59271a9670999bf6e9368775112d441e057d9db29ce3002d03a5ad0152ecca0edb061a152ce35e662e12606d4388242f89f0481261d5ac1caa60f4aabcc653f60987667025e6ccef89e08fd17eda0a59658fdf8e6516e636e8c261e27c81f65092cadbbfb54fd497f354bbea482b91ea54b8387bbe502f69d5f0bdbb2c8aba18843046eee6eb57fdd641fe48571d21e6e046c0f629fc9dfffc3d3e104390f1caaab40a640b0e0612c38fa97a070f355aee928b748a45700ce281d57188cd658a411eca6a5d7043b777b3fb55fd31d83b17d54f5dbce4f6ec41359942e414002d8affcc3e73a39b35e897f0fdd566d98b0e5bda522adbbdf8896a258fda98d2dfaa88638e8035de156234aaf485574248128b112436921b3607cda014a1022b2f758b796727761e0438a0130c007463c5c2be0c7989503c1dd36c3e4f1a2f8fd29b58f575130e3987f86924a84c0f82a4223e8353c7fd48f2a58489fb5a57aabbfb2d1faac7bbbf0147e9236aafd0bc3085eda1ecd81fde7c5fad0449a88fed592e396dfdc0e2bf859d11baa0ce73b1e4fc6bc9dbedb01a520f22d743782cef432bbb829277576e5980e715e520012f43df8bb9b5987554e8646d3a4953f6183f3094a1fdc8c046a5ba1fba525cfaad4bced6707d4a344714501fe88b67c9078f9494d4e1b55e67f7d71de761e05c48633bcb1bae2cbe238a27ba219c702f792149667198b967edfa15894146fda1137f10701f889a6c006982bf551f19e62181aeba9a673eaeb2db494baaca65d42c3d0ad685eec82327de955fc5d1a749dc8a1973cdc10418c4d5874e36a72b0dfc73c77110205c2c76ab5b0c39ba9fe5d6072f70e9b6906fcc3066ebe7483bc2b45a04e8bd49c163ca339eae4b0662bcd55a625beb2a3fe4b34eb25fb9f699eef7e35e14e5742f93af05166b8491d22ea7db79aafae3724d2fbb340c27b80dda531c09ee0c6cab0672753adf0fbd06b6a663b5fd7c433456551d65c811ca148e4c3042966f948d839dc2a9b6ee1c4c5e8978ce3a4837041ca6f9af0ce20c2019fa8be8b21d192485c4e4bba00b5cdf54a22cc26ac8d6574701a5eb91201353062a85ae5f61be72408898670944047832a53c67c1d2998960bd54946ce1ff2d284aff0dbb49e7f8e7cfbe9c281de4ef7a95fef18302be670f5e36a627e1ee6e901eb1494f49b7a2852ed2c09267133ce16c399e38902f3d6f1a12ab4323518137a03c35e2aaab9da237370d258c0a96c6d1629dde08e6d690e800deafae22a384748da886d008893d8a635958d4e0dd872ab5f172deed39b4922a5d36c0b2410343f687bcc66d96c1948b633307a3c779a7bbadd7970b127658cc051fc02ff3eb1df7e1449908b2165dc23e8e74e9fcf30530f2232eb1dbde754fc3e26810fe8b06db54d98bec95e48ccbb928d1ec5df1e63db4c6037cd3c01ca1795562797b372740898ecab9b4621e7348e2016cd01d893231de3d94270ac7eae5586b807e7506ca29a03838c3e3e62ea5929c4218b2b9f2ce0e1fd98dbab4f803cb9b578eb48cebe1a0ef8aa12847138723a1de665b58997aa42fc15d02b5e8af241d2830a0ea08d3647636ba4c28ea75d3dd012a46a96d2c9528dd269033468a56f19cd6d1f33eaf5d12bcd91e7e4668e0cd29aef5f95ad30a5b21266f9b051f6740a408d14eabf221abe463296c54f35716580578802a4fec7b465ee61a5dfda2299d4424735fb88eae58fa3ecfd099ad20def0897479af7478cf5a286df44c65fc35b5497c77bb894a9bcdc40dd20e020f2a7d68834ccb24c0025caf0c4908d9d7e219b4197ce4ddcbd0b0f4f23940fd51f68f38481026b9d989a936e847fd23687e8103b33c27472c6364b98255588655be3d005939f808ab8c4824a9d3c246f64121044ad7b5d57ef13ad705a462ee83508ff6ddb23aeee0c4121ab67c4a40d81db7f77084fec330207d9b910f96ebcfdd02636ee78396f99416742053a87934dcf4d2fa440b7766ef53edfbcd22defb0d42727021e8d250a07d4b192d611ab6493c0071a5cf822dde0948b3076ade26b0500c0d84f6ebbbecdf6f98f3aa89edee9fc7c59b2ed65af2c1eca2b9c80ea0c384ee05bb41bdd1916dd78807fe94d43882dc9957a75cefeff30f803e99d5d0cab1202c9e7376c2de4ae31f73710b6fddb9d1b9789e066d27d8db17016dd6ede632e21a8bf557f45b02c5d3541577fb60dca4a9b631c55c194903e203b48b4aeb0fc2f622c028ae8029c663903d193cad7e33d1dd90eb363aed623ecb9cb1ef3f709eb013d4b219d099e0054347181fe98d2924a71789a5d672f409d7907db3ed1b64ad47dd5875dd22814747e4786281a67ce5048c90469e516cb0339ffe0b385e439cc0d28ea0a4112068bcc72f5b395672e447046daf9ec96ceea85f15bd81df216193a02c58916578d20cea79c9a2f353fcb5dff21211147deda43fe4092c973dff8e0df397bee11483a017def46f362592337cb6218554d91f3280ab36b601cb5c27ae5a33e3dfd3c20982f9313e691382d19f327ca93b631644acaf54a331bc5d2bc45598da32dda9b57bb79d82d3c553fd415e9f8a198e6c3b8bef4f9a4f788ddd767a75b83d9896da7003b46abcb5b642088a6bef61b32e12b24abbfa00b0cec60600ec7dd6b8b609133796ec5d8e24c1d09b62f3c12fcc42a6c1909bece72bed2f56c66a81102b1991328b97c7bc9d6a2277ccaae4e1425df8ac93037288289ceb6c94efe306b268083a982aa3f2605953c1d88b741b9b9566104f482239867197ff640059f4ddf1eb0fb90a4849b47b5a496826177c21e75ca82b3977ce724321bd2e2530fb18682d46a89597e4871087312889f70623daa723226f196250cadc3599043c7c58ee1211a97ab8a3126a3edb5618457f34bc2fa935cdaf6d4f16aa86c9a275c05e8423fd467629c746cc12487466dbfbff3793c503aa9955b0e05db9319f069ea2485422095a083d0be97271eafadf373087c222a2773b2fb1fd851d7e37ed7c08b1f710ed6489781d787ac6050fda76630ad16ce2a345829f7927d446e147f3c9d5220bc09d24708b03ad70e88ddbdd990d5d8b151cefc4801c3067e52cba04db69fed8a9543ff4f2c13911f6295fc8800b9f42315a23b7ed771bab03f37254150bf694fbdb780d54fbb0a3389ad433ffa328d8c60afed120ba9ecfbe9b9ff459c8de163e4f59a431528e0e76013a5519235c405496a21ebbe0380448bf495d4f7db16035f58e7168fc4382ab429905d590106af920e37a8e37209e1bde1473efc5cff8d70aec691f4732842cbaed02b92ea049aa90138279b381355746c88e244fc8ce3653ab13dc9690b15d50a5f85a2700a31e1b507ebc95538bde473b9081812ca905f52f253c233bc95bc271b0e9d5ad9a762bdecb49f55291e6d5fbc9737d09a90c7532545f3be7d27979fb8990945891ebf925b21905e9434bb87328573fb5c2f44d3023b727c305d12219631edb2438c60626d0a0ce2bc7af141bffa2bbd3a23ae1ea32839cdc376fb43169f43ee22db2795b0cc3b06f92bd96eac8f27fd7c9b943632a414e6a6d2865f72c11dca248381a116699f24a37d6d4248b0247b67394c061de9d3fb49d62a1260cf1b47ae6df1c6d73eaa26eede0ef3de800df86a28b4674ccf3c333bd9156435755af827d86af1a07498ce12233f7b88064070fe1aabae296421ef808fb14c500ef990b0fd3fd703ddbdfb075f3af6f977fa5b1cb95d560cee05fdd843ca3535f44779d56e4932525f6b8002f3cb1f32ce92319204e2338a7abb602adc5429972ba21b5ac5b10baddbb6d3ff05dc5af3cc8f65bcec669b65ed9dad93572095c9b68b476045d0873fd29b756a0dfa108ce8872b09b9e4578c1efa527c3bb0b2ad6b584483878e5ca4232e0ec20f6af4c9317ba2edbac170058893de405005b16607c49e8cf10d1fd31b2780e4ba7c5ee1f042a74820435e5525e5920046cad431bd6d95bf896d4a3206ddf52209efd3259fbd1f617ca026a116379bbd3704979dc78191fea8803a1c1af9e514944ea2ca3ca389c75b19489ba214e1dbcca31dbccac3ddefbb9866302c2f47f873ca8cc7f3cf3ed35186a1fb948ffe4a194ce66a41690d5cfffd95bdfa813fbcf4dad384b34f4946c6d4548a2b7ccc0a44f84e6c71621ca99cefb190df2a550536c2874890460a27189611ac8f8a525a97af27e520b4d9c20330c9903091ab10162a7d17d4e42c7776d778f8bb66c1fc35f9bde97a97b9bf434d02dedfc3603a383f9ed4ce3d1d06d1490c71d82989f833d6cebc8f8059a5bb42a24f3c1a37714ce5bf31b0a50b239c16cfbc65bc501eb77c4d51d86870287d9b6dcf21bc7a661d65a3a12fd4260053130126dcaa308e93937d7ad0025255c2652660da93a4d790fd34760801b7392982f3b3a8412678cb8a28fed721ed25ab11fd016e16256cc3643e9f02856638ccf7242161832b16f564158c1556d3e9a7d4324c97c8be8448b3c28b8e7f50cf1f7677174a0001665e2e945b66bca2e6fb2efefcd867d2acb347f53665344338f46cda97ef3ff54584e457d8eb6f0831ddfb6fa08f713c5d08985aa1a020a01f1affa069ea31e6212b34006fa628cc6114c6d4171650bad3910bdbc34bb001835f6f6a1f9a3b56535d1c847143747a203ab5d475e2ba8610b5d7d9e99150118bebd9957ff33a50ebf18084d642ef1ced4dac20b2b013c375aef903482254f31dfec1150e09eb54504b4e654c7f19f05a909a729aa9facdd175d3c32cd14a396f17d5af516ecd6a72cdf36bb2e714aefa4bbe84a7717c4a9211cc0d7a31a652b12da476dcc5ce97779a3354418f1b9ea9bc0bb7980073e8fa88cfff49d45ced8e3b504dd9a10bdf9f49130a0182fb7a170600a051b52c0254ce858383a9eef5228827f1c84e6c6c1e4c685a0d8e30d7bb07ee10f2f319bece502b2890da3b06c192202ce7423bfeccf19decd711e315e78ba947f372372b3f6118b2e12ee49d7f179c97d98d5c758ebb345ed762303ab26551c8b2128a0cfb4275f31035cf481abcabdea4aac923bfcbfb22891bd07e44e317c23316b7f4b4e769614e02acd1d2f9619ec73b0581f1167974dac7ddfd741d0db1c2f645a9029603d39de59e7da79e2b806456347626f5d54b136f517f2b6505c5fdbf55b86fc4ffe76b15261dde24e70fc36931ca6b321c1dbc3f378ac93b7317e4b90d9aee70fe5e8e174c4bc2a8ca43e03f3b5ad7504cbee035004e5893e55cd8f06c8a8f37a529185bcf4a7f88e1923a6a091ee8a0e160b63f2de1fc31a96370df5a6ad17b98803d6a3f5f0b5bf1fc1f79452ace7679a1ba02ca8c3f454887a6452002476ab7315f717f8a69eae96d34abbc40f6daf57eb4681af3f9c5783ff4767d08d1fc78a0070eef8cc4ceac5ae4543e3cdd15909b13df9e531129ad026ed77a9b27bfd87a90e29d684288e003ed9aa559ce68dd388f882926d41637b1b7c1f97eaa0827617c692b4fb788034fed429647d3b4f6e13f938be33878ff36d42bcf9268b125a03d73929fc961fa2d8b91b4f56b98e63a23dc6488556155f85ac7dac22cce69920ab8df2e203b322cefd2ee51715d50f8e4750c3a2ad4f34140e78e82b1cc01a6e9c1b2263ed1ab83e9781842a41d79ed78b6c910ef7530aa34a3b738f77b1b0b840b676ffc72f644bec50f9c2fb361bce904922854e7531354e770067f693b828f3f540a24dcac4101912934d4b59d1666c81feb9fa417da68609a4a64ad930bd1b83376bd6465847a8760cd0c5a95f85a900fef4901c9aa1c321ff05bd016cf4f1012c332e4e7435607a85276b65530530a10ac3be3bafedc3313f960e01d2d0c6390f6f9861ecae61c9197cf991d24697c4f6805ee90029ec134a2cac44da29cef98e87ebb5d2b64e4ad95a9ea07951e7176dd5876961d41d53d64a35b6782f1f01a26f044ff7439d7646c5e455ce61054777ad6b37c41a72a75c6e7560c9abb2cd30a73aff7877d98a4fb9b70a117f0bcce1a2e37e0f6ff504bd705ed8557ac4e8c580c438dded3d76155524525fea2eb572cab6a3cbe15106e8fc9737131c40fbcad2404314fd91644f0f38867a140f0557fcd6658f8aac5d224233bc7717691dd7bd820fc2ffecb21cc61211e3e3a23869eea206d851d68d77262e61223d27212bf6ee6d2c029751426f197394e58ff306a1edddac422e880d4c1ccadb86ae7ba28849b96051bf80d9dfc5c62eae6b1a0371dfe4a89fc4b34aaf36e0faa8b4ae31da7c1afb21c52cf52a0fbfdb2d6c8372e9e0cf260cb144cfb459357cbc840e534478662595c5c52d937c3017cc6848d13837709a03a4934a5aa44dc55415d53a07d925af0fa32759abe6eead4252ba1d1c0038f206c783ac23e0448c6f602832d726ba9a28d8e5453d5a3d52e679636c802763bfc441598408d8abeffdc729499fdae5b39264c9ef0727d353c10ea3cf753a5692231a39a87eac42dba53cda6e2c0ddb317f51a166d9c22f995d60ef19bd840fe3af75af1c97f753e110d3a24834fa3b1f17588bdcba91a323f1161b1f568b0b8b2ab3a7050124a8b2ee554a52593ea2b4aa304ffde426eda2432ab60edb7263f61ddc3e4c324b149e548118682accbf573757c85b99d6ab4a1ae097afdae672be060c278443ba7dcb0f5ec00f6620ac0e7618a0fcde434f164fe0bd109a876ef9c609e3e6b8bda95f91461223d0a1d6168273a5f3ad2f1d69b1bbf85b1fd29085112bd9c700f97fab577ba81e35b38b4bad447dca8820eb14d8470763541599aada95aaa27e476b1293f2645e53025235dc9b0bcff065e4692ede08a7201b3abe41ad65f24081cd8465acc6393dfa3ad019a22c5761e72e6379755941d24e8de3f018289e96bf8b1013c4593ba619b0e32c8d455a32bcf7fdb303472a291928fd5caf32bad39ae3eac193d74cc655598b2aa2385754d40a1e64f62207164e2e7b748a6b8fa70a7f7a4ed78233642b788e79cea9d54256361839def7371eadd30e63b115f2a23252dbd012ff891c050c72eeadc641d331f896f7980b1fd64552ab91999b5f5315a2a8a53452024cbf50e5851bd02a3222537be6afea1e89f2de67ea965280becfdb54f40283ae671cb9fa6c1aedb8a8608360e7613dfb584349b3312a6f5004f49f5b617ce0ddbd452e0a3a331b2ec3b6de4509338fee2844136a8a2ec8e6414e98edfaa0541abe6ae3304f1b21fc639a7d68ff408fe5d8a9d1f40bc66aaa185c93a0deeb07b5237758117754b36f1b7a303ba027e6a73b7973fded150986f70d284bd6e21818a6f5827d5f4f65ca4d2132181383e5cebde5ec045083a5fb0ab04eae9e6b0342fcbfc9299a484729cdf1016f7d0e20438bc48722c966d2b4612060f73475ad933f552a2677293009f70bb1ec22489edf00cbe7b73e398a9fe54b2bf0d3bb5546478e447a31e81a2508cc3618d4bfbd2f999ef4ca3a0cbcd8c7cf652159ea57924089ee50136344bfea779cc1866ed417bb2fe40f449c6be","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
