<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0c259c7a09ff4d4a738171345eb6d53ddcfde128531294ded0fbafde3bb9e0a7133fce727de25636c6671e44ddf03dc267f74099558266043e4abc13ef8694b278dbc5e8778ef1ef26157271e19ec2a12e0533113af6d4378f9667851b7c4d6c90b07f92d647804f8ae92192c8cae4aa125093e14c2996a0289528c299a0020e14c1e6e8f1e0985f5b8e574a8b3aa25c0787da15dbb16921b2a86f4ac636dd90033b6967674f165cb95dd8bd97b3308a9a243bc73b6bb0a4a2d9059b920eab3cacffeaa388070ed536eb1e4b33152ae288eb9a042c6db8151d4e26a69a712b03d6f4a640f9586c68ab0fef8be68802d760412e18aab766f2048c18156b9e94f13d5cf7466b58cbc9702f518f6145a56867b78fd2e28b308df71d6959037e26b3f883f50e8f3092c96d95536b33d901fe8f6879e60aa1de763b871234e9b8fc7fe880928d290d4c556762eb4661a7c42946582a30c4f07baf04950eea6b4e01f26c518842d45bf08a514e668421c13d26dd3dbc34cb0ec2bedd0cef83a15647a78095e2225b29a23e4a81c52674c324b1d449fdd606b75909d062dd7d653de30a85d71bc0c41ef2d4979d239f18dafdb6d8b52d11d47ee87b13fabfe45669964bc5385ac9e684952510cc9947ab02150e26e40f9b37b810d0d967d87ddc72b71aaeb5aad5e7d774bbde9cd5f203ffbd2bd80a91f45f59f435c95af3da109dd64f119096a2f3ebb7d4e40723546c342fa700ec1ebaaf5eec32948c135ca8546f95929c18a8268b35dfe4fbc0763494c1815eb1db1a1ce9b46b355336c2d6481addb564be9125f0cd99617dda229e6303a46c6d9a708ee3ca53b5a0728d01268b2b106126063c135c6e87ae7ee91c626e5d5f6be992aeeb3338a97726963d2a44fecf83b1050011b61611db8d391032e858ef7e31f48331a4223f3f3af2579f5291057e6dfd81fc55e595ed84ba31325ef7b78d89c24469d81c7e98482a6565b89ea228e09c3195011c505b8ffacf999d76f113855e11896170b251d4b4bbefb0d581e4e689374233e75d9a7e530c7c8e4d83cf706f3ed201b101ceb5a2c00597869184bbab6fdb2e1bdbc7cb2d87407198b8bf98f6301dfb427785223e7c52abee4df365292fd72728a40f0757b05d9e2117175405ab274048d5e1e7ea3217bea7c3bc4153bec4d79f1cdad97b5f190112c860abd9eef91ed7bddc64805b375af0ad195e812c80c438604b065aab05f8ef7399f7a423928df44c5a4ccaa9b88ee2566a86ebceb882de740bb1beb2d5fe89f25bb05012348867b34e7b1fccfc4f82846b646a484b85b5968dca19e4580d42b75ccfa2c242dd7a0903e655ed0232f471aa2588105bd3fe4cb0550de762dafb658d5698cbcf61311d29177e21e4a2812b4ff0fdf3757bf26405d45ecaeedd5e1ea6fe4bfb25becc0d57ab57c47b82960f567a015ef6566fe7b8437c4ac7efb192cf7d4b93ea16409578f36956d259df33f6f8f1e3e03def655dd41b1cce8d44933fe71ff7a1df087b4d4618832accd98ec0505fd87acb41e3600785bf01b7dbf9549aac9dab09c0c2691c36822aca0e6872729621dc50ec3265defb5f77583132d5989315325c215968ef47658022392d17fd0994cb9fdea9b52f601d2d1e85475972f54d95852d597296fd2d46bcd87cf01ab9da4cc6334ae9c2b524f0c4a1427deaf3e0f96679925125272902a329b8c5d0ad1c08f29a25596270308fd691974a9d8d8dfd71447c07b95ea032d73431ebfca8244b22cf68d21ed10cfcec177366e39b15487d7073b89a11b522694fef094e28aecd84dbe0d8ab6dfb5907d2d10839134acf86a7a777894989894b756c7ff7f15d4d86c25a84e2fae63a92665595c59cb303c97ec60dd0ea1b11ffa751640a941fd74bc08c11add6c546e7ef89b61f974df75ff5064df34e9cd2a1f7201b7fbd506cf066311767e9b976ab5b384d5a213ce5f5a152667cbb9cced6b03d32ad7cd7d0ebc5bf7cde7415844f79ef74e28e83387bfc040019d4c592047dd7ed33a71eddb9bd66be37debe8f3f91488716001bef7a2e6ee7967ba28cee33d7b2e1b9c61c3e5d4f2a68b658a3fd724653f53076c3f66e53eb2195fb41fe2a1a025c8ab3d999e83802859dc6584015fbbad0d35bb79be95cb5cb256fb6bcd91336af9adc13edbe59e99ce5053094eda94865203a651121c52c10dc681e3f7428caeda8d669ee34316f8874ce2e8c54fccb707f4961ba9d87633dbefe3fe786258edf536d89eaa7e810af116b9aa5882de26a37381c2e19dd82552ff82ba20896536de046404dfdf324d6146b8a272b87dc52e43cce3949a278bbecab9de58282b3773adb7158ac0e152b88b67ccad739194dff584e65f0e0678eca2fbabe5d11cc14ba4feeba3580ec053e847c87f9eeb948828ec53134ada9625e029dc41859db452a79b058f4b7af1f8e7a34825cac71e5a5f88ecc0e8b3a0da7e2811b714fb6595b48a3997e8baf6a0aaa0c286062cbf37af20d06ee81f632c776256de2384696577babe1a44029cd282ae884775aee23d8aa4532eff2e8a3919e692920852cdcae2adc6a4d32519dfea72e26d77502dd33e8f3d8756f66cf682fa5ac8e4f113a898d70abb9c5556793f3538d40126c70f893b0075f25e731f68d8945d4996b6c4c9b86a321395cbab97a8b53d59d84b90fd053f9f81a75b7c5c996f393b554b1a57e0cd1c3a37cabede8d12bfac1e0b348ec561a6f221f4b77e35d8c4e48f9026e69d1914e4d9e696779db09ea9354cd1f33a47036be77372e05bbd5080be0557a5e7feba22b508dbe05c2c09691888fa4777164126146d2f56b5b67e933e67b98de7d99ca3cb3fabedebc09b95c41d3ab5ae74062786438dd3a125a1e9e361300824f2af37e9f8bc07d2fd9bd7a5895b6d25607df635ce37718e7700a6ef3f8a661a62e7b67a9d9d99ab8e5454fd8434ea0ccf61ce88d7c1fb3459fa261bff69a186699c5f3f06ac6296f973f87b971027751d9211acac44a9762c402f32dadf34d6eee01a249ee8eb3e63e116c0ab9e0bc8ce9d5625adc4e05fbaf50292548054305ed5202202e95c259592413506eaa357120f79462795b802daac2d24218ee553549b6ef89b2c54013d7a954fe3b545d544ded31fe62bda0d37d5e91232482b0812d5a2804a11752e8b91903e15daa96f3cf46adeee50611592a6d476c84749d07a50c249098735887f551312d9818060fdebd79c22a102a06056292d43f940d910922c2357bd5f2206f330412ff25ea3e3e56944cb2ebb212d6aaaaf00483114cf89cd0366ad6c3250c333754868013bd2281096607a3f07c4d525af0ea79d24de5b2ca9d093e7555b917f0c4060f4d957bb78845dbdcc5b06bad25251228de75c2d26d83afd82ead12519ac6290fcf4d13aa2b8ac1fbfe4a286e6814cb2d24699242d73b9de6973c47aec48c2ac42d31c621e079be812ad6b006e19f1571df9821b3679aa13cd13515d3571e211907db1b5256d4851c4355530b0a22093b9a211f441306fba284e7777c416a585a6421d6fea4137c09b7440115ea1ed35c858901a6c399313fb3334233a303aed2a670bfd71774e1685c6d09eda99fe752dcce11c5b5f6d9146002e1e987f6c4829d1b672b0f051c3477e0ffcab21ca70ba9f11974d74d7c09f638d6a7cdb311aca8085f19134c7b526af4da6374d0545b210c386007d73efe9d86318b80e7422659152e9b6d65850e9522b1534ff492db89f4f3ca8adeec93a8a6a0b6449a4559a5d98d53a248720babee343deb9965d2a2abe26b0c04ecf12b59239c8468e18179aa1c0125f3ac7397bae4ebbe8234e2b9c1b2424be69c5e9b2282f5e91ea40779acadd9d2a0407c9a662bd045e819e5ff67d4b2f8a5e1fe166f59be5fb10f4a0e579d72ff186889b80929ec330bc0139685b9ccea187e6193f62801adea3ce87126d18223eb4ef091809caa1925d20bf1784fbbdc46ce5648b5da72602ee95fcf073f37f6e6c10666ba0e4aca530f93fc83b4aefc2443aa886b1595a06c5edf5482968a12a6c9830c42c9fc7feb25da77b3c82a60c04b38f29e34d1af6d35c68ac23ee84eb1d79b11b6a6dc366a40f04f9067f6132d8761cb5a8298885691558609436d2b61a9712a38e91072db8873ea915c0a232e4828a89f9a2f9b0760536b10ab86a1dd9daab1a1ddf31c8719b5a890223de4659372629f5a6dbe1dc553a977e7053f945f64d572794a034a49e6460f1e18d4d5afff3e471643bcbedba094b5332e97c2479ccb304fdc8adbc2315c81673a3ce1967bd57f61a20266a5aa520cb7f7342f176116762f448679a84dfd54a93f547451387675ad07e719c4e6c66f7a33aa05a6ebac6c72163d4a966b86ee3774490bd9ca0cd3d095ea00da463daa26a1a2dc998ad959906f920a5ed4054412a434c48be9544b644d44e9d0b316cfa8490f1819204f2d4de2d252a5cbc4189c1de3a7f0823e39775ebd304803560d5e65dc740c9ca2b48212634f6f9175bbe9a6633078debb2c42339dbdaab709a5d459f3d8245820e74bc2569049c7ba47620ac9ebf872770e7b6e40d45e31f7e95ee028ebc07757fb6b2e0b83c10e4bb4580e66db859d7f30ce314fd17372f55711322a2bfb572f4c5b632e84d18a90fad3d3baf1b7308d185b79db81fb012a17b6642885289955c9c9419b090706aae85f9ff0d5d130f54662d7b4e4f20d71dd0bdd7dbe5be40d545e586e032d0c091767b6e6009486ad5b727ba97efa0ec5b47831758c8f3b49110315b8123b9cd3f988983e6c87bfac075223ee337da7bc6330666ec3509d06de45910deb2622f2f66272b32ce0254afb571d1ccd494f768a29fb4a6040c4f8a7f57437aa8fa1f1cf5a0dd1fb81c9c1aabdf2efe98526fb0bc16e6e3dce2c7a2a98a172f0d21ba96aae45a80d42a39bd44cb6268099869de67fede84da56fc50f41d94b24e4d42ee7e254e97465f651b38877d080da365572a001de55614186ec68ac44f493834343cfc3ea742658721296f220e0ef448182d9bda2d53e32b7ed1526af81718d8188c29f4e0aa9a561777c4d30e67ac0511fbaed538eecfa778803718dff24769bab9bb3bc4cc184160f2686121de02b943cdd7174ac501fa7b609038c044ff0ee4b17d824c9aa07c8468c371e787b2ab8d0e6bc31c6e56d1d3b345fe8a2d7dd4d1e760f76c123a7f4cc7334da303ed65ab5c37d36eae7b6a96f404210602250211fab110989cceaf6d5709abc705bf9d6c7caa0b7f24171318d6437893f7230d951aa8bf4b4fee30a4b4afcff23e443c5edaaf126ef548bec130870a66ea0b6f83adf31a7ec845ff525cb10abb916c2fa3761a8e3a85057bfa70d61385b5c868a7a9ab75d080981f54722458e04b2c23d0834af19cb90317b69c29bcc01f4f1ffc40bb25c5f7464cc4cb570db8e3a3739fcff9278111d4024759fc4e2562b87aef3dd1154029ec35a49651aa48c170811dc6722def6719bc23cd080bb37e1f88b6ef3e180ba925bb7623f25804055273531a4ee48e0db46b05fac5b38a583dc598b934345c26b4543f8fbcbf2f105ba4e643caa5497706ced04298126bac3027ec097483efe83d3dee648bc4ca5761996c907a388d45cbdf86f984f2a7d058cad4b06ac305b2cb4024eee810544dd46d12a4ff6508ecfe4b13588fb018fdc72f675fdd27eccfa3ddf121c1072ea012e2c6e080f91bf1aa7d6c75ce71fdcd064d49e5ed35b9aaf1e8c7af5a836c0cd3e3a46ff8ce6e923a9ea6234cbc08b0d18ec15a76ec868657c18faa42013b3ddf7db625743ca33f1de079ba8b24b129df30f9e3595192ac6077ed2048252e3e407dd9a5f53e72310f40e1af52c593dcbc385defbc15e72824c65d80aed8b4b5228f03645ab78d7204bd41e89613a5306ea4dd0b0377ddad84821078231018533ed5b0562ec2e9038f0fd7fe68ade15a8fb70b65f9d9bc5885cff21d0edff1a9b795023196fae3f644ce90bbb1e4474870f5726436b1044c02cbd2465faf2b83d72dd8adf6e685670fc2ad313a8cf733b473b4cb06eb3939662265cba87c91f2c4386990307921d37ec89d40eac9f2d3daea3ec07faee9902472d86c1ea3d729f20fb3519b86593de91991f670114ac84ac2b7392522e4814b1cd3cebe52cd38ea499fc5ab8a75fd346bc280e901d937384f65c2b2e9eb3d92e918ff11622939972df20707821a75a5f53f8052e7a9690d3a6285bc8595e7e16d0127f2a0980d613ade6b169ad0a4ed78d5d562c5afb8c5053b88cab72d4c1a7910f28c16139d8c8b2310a38111a7f7e370b497f79f081b666ed3023e8ac2e2486e46f54bde1f872220defb73d1abdef1b7a9fb73d79a593768cea032594e5d616a38bb88ffc27ff1b9d0b2aca69c823062bece59bf26a203117778c6bf0650a46077bcd60455e7fc9ec7dbef231d843a71c68f9f814074a73b3014f9cae9ef933c3bb4efb65c100f4d0dc95ec2e06e4f3906305addaed7c7e1d195d602116ad7538a00b1c7dbd83207ad8a6c1b5605c2b17c5a2b3f816096ecbacff5b4718f3882c412c71a11b6a68e4a4bf1957c94af792e0f7c7434a17b51dd06a9339d7db0d31f34a305b7025559d30d5c95b9ffb930bee504bc65f0d69cf0ee61be9f695bc882ab50c7b3745e9ad714aff5af5b973dd3d5eb66cf621ecda5b05a91e3a28027f77297ce33ef2395baaec72f42cd7a3d20196d34b52960475e620990839ffc10ae0621f00bf98decf45a5f774e1c4fbd953774d01d67b289402f660f3036bed0581358e921d0188a1c9df2f4c63a5cfcd4569f889d2b53ac51ab9014ba0f1ca378e6972b08dfd8885d93fe7d74bd4a335845a3dbd7bef73a6aeb2d3e2fd34097da1b7071512dc9eceb3bec99af9071f713285ccd0faba5b055f6e85774180f11e8d07ca6e5d93ef4830adaffa61db8a4f47031cae2bdc31649632f8a155bf1b11fc9ca9c507aa34fa07fc79031c8663de3bdeb6cb0e58b7551791e4017a7f379db652dee56623c4f87ab1f5a8a5744fbc981a0e0867a0ead21877c59bbc5ef1aeb745f12b9da671f6481a9d7ce8f4cb1e9b2ca04a1863eb5c011284f9441ea888eb450201f6aed00c54fc19f38edf15649009172bb9f55a81f9772f17e9362bcc08f0697d27a500eb97ac46849701f422791339d1b7f564a56c4574a864194d805b377964dde2962ac353ff0fc2ed3891496847c6f191af7981578ad5eddb51198b786756e45b329d65ee2461365a80b06a55e96f2d833ca813957893869903c43908eb7edecb72318a830625a219361ed5ae35b41707a29e871270717c08fb96faa22609b8616c4220b50b7926605d9a93219cbbf9ab2c77131b1e167ac0c4555ab748c408372c293ba33ad7d5bfe82408bd7226eeee930dd02aecde3a6270834f2e9a9a318169d0f2aaf17003fd47c9ef1f5182db04b2fd62757a90d2cfa0adba5b67087dfb8ef1b8d46accaaee0cce74435ac296d3beb80e5f819b557ec697f5cbedd50aa4c8688ffaf8caf570442cd779be6d1aaf4bda6334020f4c45b490fe34c3bff8aeefbbd57db83687ab106ccfd2c28ba9bd609e56adb6f7e4783aea53a1f7e67fc9ae3dc92bea8543b410edade46a322add8c1122866858407b41ed24f6ce6058cdb15b30591a479296d4235b2d847a7659b90888998872fd8cf5d64646896202586c135a5ee5a8caa36651e7309a721623aa734af53ab9940c9669a270b3a8d19f7944086eb9e9ce2513f37ead5d2a75b172cfa40c86f786cdb94b2aa70dc134a1a082ca3cf2023c7aeccf5686104ac66e5473f6dcfbf17148cd96efe22513c1073f70c8c2383e10e6b302de363d33e998147876fab6a4e2767dd1f84d75e0895ededc32940cf06ccf4efa22fd9e11c1a6b9e9dd67ade25cbde4508a275e05d23f8340f0710bef4904e8bdd3b5e91e6d6212371804186c901576da290f08be77d7f571ebde04f9e9bf611cc07b80222a37bffc883539718fef34464d6d694e6e93578b23dc93ebf352ee5b3eb0994acdf924b1f75bd0e77413ad53e057ec0fa7aec9671d91c91a91b456de6c1d615e33e4a206302a3226e07a4af8948ce84bd13de263f940a1c2f899e0bebfe34d00c3c3a1f0ed134c5bd43423709d75834a781e2c83ce091c2a99c1a9f0c9a88e4a377663b33e91962f5e058b5cd9ec8ca39e6fd12af304eedd28573e139f6fa687bc91141e070f3576d7f3d889b28ea7f140c68cf7b9c36c001e174b3247d573b42b1edfe40fca1b5c3ceecdbbd1b54af085cd6d4546535a8e3bebaf68b2387e6c87aacf4c0031ad408c14e0cf335d269cc0dba7bdde721c58e8d1ca74f51e47991ef65c8a662a6dc56d0811577da1ca6685661c63d874e81d2c808e177553995500406fa1acf88a64443de09481c844a71ecb2f104731ff5c4043690097fb57a0c0a4732a43e63d034ac81172f249e63992fad1df0bd308f385331896ea6e514a25e21b843d02e38e881678969f87c4afc0fe5f1b6112350abdc311bf854537464f88464ecc03766acc06177748b6d557c0a1ee953acf4f7e52e0513c559b4306cdaaf92b5dbf58d61a9f5b6634c0a3d4319dbc188bd0c279d9b03f6a59e6d8989aab34dd4d4dfa042e738aa3935f373e9a39daf129b63ca4056655d8b2b0e2e1e03147a1937dbf88435e7ad5b00727f0458bf7d5ec41d00c9e82ac069621f14680d2992e16241a68f57e494c4a631c788b666aea7abbdc4697f8280b34ec3deb331dfd9ba07525c4c46685474ecab9dca8e0fabb28c1fc1bcde677c9d4086b72b594961af5ece118a430c0f50a21d35a6d614914df45fc76f523c5576301ea9f2dc8efbf2e311ac4aed9eb5b3cea70dc84ffa60d81f260509056a067b9c674f4d8986e79bdf500d9fd98a44fe183598fa4133e2af185bc6cf0bf2009a8ea80cd5dd93c0511f5c69102b94b3d7e918cbeafb9b813267b4349940a1657e18482be17ff5b1d6ef6333849b8b6ae2da9fa02d459d23b03e38284027dccb8ff6e2297a93e043bb8a585c8ea13093883f52df4e6ac78fe7da122f48c1dd571352b0ef62564b51a7ade17a15e2c706c42e387c9165c82adddd5abce095c46d3cf69c9481b288ebc01032a24f00c34d425ece49840af88ac6e053dd503954a8d20940ed02dd79602890297f3c4f7028e91629bded0fcd75ca2257b3ba0e4a8941ad5b764d2662ecb085fb3a10150d2c8192562db3ef99035c162edf3fb7b3bd33870254a5e4bb231db2bb2b9fff12544cf77f34e388d8152ec846a128be2c9c016a5416c84c32811e4cafddc15958d0ab2d6a5bd8951bf040a0f53e5a951f836aeadcee43f68e1b0a73e3ce8e8771892bb2912303de162e517f8325c178185659e87f50e1f36f47daeaccf9fe656dbc541e249136992459ed7732aa80a1474a38784abf90dd2244a613a0d3b659f3f24c6cb6e564574456a8cf97b31edabc6e04d6fc74803c55e46ea861b83852ed845e0a8f6e6c35519dead640749e8f7bf4606cb66f4dea3eca66229a0583fedf4510769b500a9b9671c995a8f0bde1c057dcd4aec352dd0f12cd599d3df454b3e189e72f0ada6dce9a3de25e6ff0274c2625775b0d0d893acf81e1fe9467bfdba3ef0905ca90d26923c739582f267862b5a847ab807644f1dd938d4b511e5b60b88716434614973561880e458377e00d76ae15201516debc2da85bfdcaac4c771d8dd4bd75323322bd4f40418f0194a796aee93b01d1f46eb53bf1f6ea3dd9cac72393eae16a8a0cf84c49c11b65f86e4a93599963381280f11589b8869ab025f27d5962f1b9e2d3953adbb6d9c93c285c17bdb68f5bbe74efa0b11930a3006be0b6f84e687a9d8d498baf7f986ef38e7c04f5ee9fddd4fa9800738232e9e37991ba26faaf8163687a2cb0924ff34dd18baeb7858aadfde6980a724be0e787dab1e29feae71538f43c21e382182c4bbe4ea3539a7800e4026e494df87da5186f2267f60ab6571cf1354c25902660c1f4419ccce4c412a82a25eca0771fb54d3320afd4f6de23b364e92c4638bdea5cfa20186f2db00d47d86c0717d90a9ed2492d5d8d64d301fc15a8a469ec4bb12727b07a14748cf786087afe08ce58f0dced6bb0994e4eea840ddad8e6940362d96bee7d4df86982245e97f27894c93213c12580b28b6f33ef38578f83ca39a8130112b259d332be192ae7eea596ff2a6d5a2d223b529607e7464c5d7245661e59119b0ae55ffa4605aaea8861be1e9aa3841cf5a296491e4edb30633ae340b3b6f7fa25e4fcf43e0601fbcd1c7bd6eda7083aacb666274ebabb38b12d9870c1f3940a4cf2222a951749c4d5957611d4630f7ffa5c52e3db4397ea15dc253d7dba30eb6df3a077edd4776019ecc0f4a26d91c56fc9af49c13f918f23e60f3ff3908aabf78d148bed210fb382f8f4dd19e69593f54accf46baa8397eca4400e321fc82f76cbca39389f32cec5d0635a0fd8936ffa9c1b5864a61848b0bce8394d3f96f305a7bbf42e38deca6138b2b03ecf92422e3e196faed7005c8c8ed3dee96aa8963b4144b98a07ac01a71a9f2c803cdfd68767697c19846914ef85aba2ff33dbddce7d00499cff01db299b616d94fc2105385c68600d389cdcece8599ca5e6ad10b0afc193f9ffc9ccbaa9d251eaf3300fb14b9947c6d5dc7b6fdb9b688674794a8bb1c4e47ed841139c1ee99bd8bdef95723e379779c098de1516369583f2e84fe0b0aa72f1e118be00886453eb23614e90c23dce6ff8422c15c32a4d87e850fc28f7f47d28cfd3d1e85e722a511780acd62206031337bc7c6d0b8a5597ed98083d9d299eb1faaeb0a0332aa40ca53e7752f979c3139b4937241d13823b46d857d1a1b47651f1da7f2915922d56b60015dccaa3024e16103672224c8c1a9933e089aa010b8302ddf9291e47cee69a481925f44180bf9bfa7646329a0019af6fb67b1c1a04b4efc8a10cf6e134133c24a82f6982ebbc68127fa523b3278b0fb9fe6d61645b1474dfecba84fc13accaf22284df96edd39d572fe195eefbb442053244babf1941673bca322008c30cc720cc3f43b3add42eb6fddf22ca0be022cc0b932f5108777407ac9d1fad9ccb399eeb19420e07f1bc0bb09b36123c9518885c8a0f091d6a99a1b209960be53f8d7e83624638c22ad4e2a8a819e090fc6d2cebf20cc3cf447031358bd3862c3eb5073b0b962bbaa68f4e5e8bc715e0ab70ff942ad4158a7b5fee3aca3a6a943c28d1d052b73b7f23edec63348a4b3a8b2077d65c17e9a74c8d6e19939a7a35040e02ef019b073c7557be9188f0600420789538dc042d094ed49ee0e1b47cd638031f4d9f05f4acfef0ab4955f24193b40caf8f96e23e081c7c248fa55f706773ddecc8cbe3c73a83ff8379907d63a6608c8016b2d77203ed4d3d35272793ac74e756c6a1fad0a6073d11147d11e4112f830f4e69ae35531fc209e0f5ca9abe8170ad31f1a63777da5c2abb6a14a3e8f5859af1c2f2f5d05c5ef0514d3d3e04f4f4af3c7453d94ae28d9872b5f497ab820f2a25ceed0ee6cd81dfb259b074f83626cfebe5a6e74dbfd7bbc333276237e5e65ffc5dcd00d8d4154096320d17d052630074bceb57eed9d511a3f1d5d7378bfd02c409665ebdedb5fbb907a4a6d33b5abbe1dbe34cb3eb25d19c3a050869aeb9e913316b3d921a37afe658705cfd438187cca944a3bd12196d7881c24b46ba003d20f97d010487158e49942db6532b42b32d180199ab4bc248851ed4abda9abc3787dbe71243873e54767287c550d72ddc79d70b309ff7ae15cbce12bbc46110b8e64d742af968e612ff4e30261c4ff4e6bce06a6f95ac390ac9534be743aa53e4613ad3a1a1dff6d23aea267442b4de0ee9caaa4322b075dab11bd76d9692e755c399d443c943bc43c9fc54239d0f317c6cafa0ca91950c466baa95e947ab1daabecb749285ae7198808b699bf8d47c8a40f241996d39671dd60c2e0acccd0fa75ff01194b890f8089365a2929973cee59038e0af5921eda2986e500bdef128644670d454bb0d7d66996517f394d41f1a1d21cdca8cad9cfd456a159256463baa175c5e199f02553ce26f5cc0cb4ae9b0d9f1d40147de50e3df968b0c22938763d55c5b934cff0640bcad3f76e2e703354aeb4a86954f1dbcc2664643880faadb090a4568876fdc6ef0bc11385b8270e1e2b5ddb615fc927b22d50114fb98582654c56a4dfc19242adfb7cfe5149ceda465d68d6d577e779553835400ed9b5029b15d502ab78c2147eede067c15450b39229b0084c028b13b5023ce8756eb65f771e98e7c05c11f2f354e99414f0f28579c385347e0de34e759e24fc660884dcd3c3f2183e0810df446d150f5caa9085740f2dd5bd1fc1ffcae95868e3a3f8387adf739e44aefbb2de1d75742de3e8c957a9856369d9c64580613068d32d444ca21749d1813f558e9239b92dd1999f1c7c0ceb1d730fa767b8056d20d0a2bf51c919b94bfd36845af985207984b637841cc77d0241f4fc227b40588e685976bba36bc2f3b55559022d71359ac04200a70244d609234b0596eb15c556a833e664fa60e02d4ddf00f12930fbf79d7bd36940219a8549e79838e42aa399c04da91dd5f01c839c1f3763dd9c486cee8cd6b99646dd66c80462c31265105c2090db672ec2870ba5987cb4a8d141d9659de236c6dc40edda0c8d08338c1a75e25ab99b35045288cc6de7eabe13cc22ea75c45f9e53111febd4a6df687f8bd28c0ef5af6cb52d0b413298a708912dd0484f7a22517fedcfccdf760777563959ba80262227a385bcb78d409d2b1e4616fb3e31cd5255f04d8bc7ba9cc85d440c7955578a1e0df7a62ae0c8e3f4547687ca5c024fead5e69b11667db645fd2a297fc13429d1a8a70bcef5b5a52e6e00f38282ce586deb7a16f52b72e8410f4c92ae865d9ce057e3304fb9117436ea377d0740e68da4d47395ec8a7f9706a1c07a1355efd41d9860d7629c7030d8dcb7110c1d7d4b8c3ee0fead59e8c33f09e2e13310ebe9893b42e12703855efcbe954657bca52f86bc3fab9a5fb622250ddcffd780cb66a94238333248074910c1c7728c3aadb540ad1bfffe4aed525fa9f2e6bd1b93ca6065b0030c54aa2fb3f4e8cb7a091f8fa5a77f0a637a485c5ba6ae5e56d36b799128601ed64301d8d1d53b24ccf85f8593545c0a60423ba47c9de2d8b11b423a3a62958ed6c2c2a259962cace1538aa0a660040bbe523e7e07750ae4814dff8d4d9e5cc965f060342305e1d9c5668e714a8d44eacd33250c27975b97438084a65a061b8c83a00916b172d15285e8dd3137c12e594286419a9e74dc675d54ca9beb921ae841c7e9094f9ff6c5c95cbc8b6b6662bb5143a8d84dc699cc939ddc4a164f7f92c92e5c896c58757bc701e9a818637a498c571c62594cafdb670a9f5da9482b74c6329a3314ad740319f0d898a89a237d6a6375683568cbb9bbaa49a5ce000add6191151e87dfdae4ab8e9cb6756ea21aba9d60c702fc0440bdc7fd30ac51910c4bc17c6a652a670f5501c9fb1f025f94e0b3c3c0629cd8b046ab1c0ba08d2e2dbfb0d0b8f6ba5dc47ad454945afe26ec8d4da1d4126390bf971c3066e4d003d168132c5646c9972d61aeda12ed1a7be036c0a449fa90dc9a50b9f4fc75d78a81922cbb2f3692ebb8f90bfdadce7c0274951a85b3334ccfe2e7bf548588f10c260cfe2ee0d8041982d50e3d1d3d039d3bf9b67639f7e16895d5fe31979059129d8305b3263d54efa66c4eb2a395abc53b72032d789c9f9e2896fbf3817da2046d5e48ca87da94d9263d8a4a0cfe6599d3ba84393888446db0ed6d8c7514f32652d028d6dc2c982336d05359868619200aae0b33fd284b098a0de0b04c686abec880075957d3e3be0e7408fd40de8694eec53a3dd041262d1fdc2442bdfdbe58e250f96e6066efccc5a74de29b861ca76b318f50dff042c3e9a793f8496b42ecf0cfaeee8538e9fb63d3374129411e08a4de206cb8a292bff790d6e6ad8d3d30935e33ae75fa78253216d5d384fd535071fa1e01f035fb03b844357580974f4e3d9ecdaa0fe312da167b67b0e6022c8a237eec983a9bd3967a1e4128c320e6c5733e32623f0410c14a64b4cfa5a7a4009e1158ae0c4cabde39f0bb28b9e869617cf33bd42651bb65e4d00746135e15b7394512bd53625deb37df91af6ca0b0589cd5053b9bcb4be27f35330c3bdce856b0d07318ca65a95e338e01d70a7da43fe52b9896a887ae33fe560f6a784c5609c0b8d08b6182341f333ca0191277c897f5946d6df8ff51c5c38423e3383e4f40c75709c65df55233f90a627695811a97e51c51d240daee807ff171db642c53bef4095ef86062e1387aa07430a8cb809d2d2b1262cb94cf7ecdaf20f6cd59d8deb42d9094918106c51a55d749d681cb49e1323803e9c44e2544ee481fcc0c35db99e0666344fdbf45c11ebe0035aafc935bfd2366b07f11133839f250482ee9fb762042aca1eb415c0eb3350a18848fc74cf01e806a7b087d3485ade73618e01889ab353724a0c9769ad1aa4b06d36eaa6c51a8f32517fcb63afbd6867383f9c1981eda8e8e61710e2447fb710628e513cbc1176a7ccab19994f125bad01389b4b6f9c4673265aa40d6d8a59e2289c8319c9a971d1b3f41dd6e4d89b2165a5d0efbfa738221408042fa307a649b07bfb7a48f2a24209b5d9553418f84ad01835ef97e5a54d5425a4309eb3274ef59eec0c200d056b80a2757e3687b5eb10afc6f515a622a031a1bf61d453456ecd72c7f282e2d1fe476c916a6b959c310aaeadad17c1074e988f4e07f8f25e221a716719c85131b049e78b4d722c987003ad87637886dc8291af2694ff4880e705a5d289edc4df979c1f3827919215007b613b4bee35a4a3e0692d50d56196da0db620d9a3fcf8f2def79612fba0205ce45799eae8d627e56aa3d4a24663e6734ef04e55f81e259fd14975f4475e5431c853096558271458326ff12e621f599434c0f2fcae0fcdd763088b6bc585e1c618ac2c6e7cb8251f46c445cbb6855f42deec73bbed18ac646eaaaf88de4f5677de7e7907dcbb7261557d54dbe415e5e2e60a4544fab496c5a00c56fb9d5eab9a2c60435d0965b569bdfcaae4167985e121f2b5a6a6bb5dba70c8ac92a372f8a419caa715d7d3d267952e69fec278f070de97bfffe0036f6b9e8811e2ce1b158cac9a3df6c8282d6770f9ee75b2e1aae8f21518ab146f46b5f97d798c47e93e94c141cbeb5ba531eae71b79006b4ecc7fc1aa167711f703cbf394c68cb7801cfe5f9838d5d28a4c1e1805ab483b6abc52bbe0b6de2d1ffdc2c8e234f4965a829e1311841e61b316c4ce6d7dfacabb73a682a6fa9b23b5c3ea6ee9aac87295870f0cd0634b91564aaad65d599fe62819b194d80f9367b39bdeb82a903c911b20448eef87a4106632e5504239d60aad834da411ed1213052dcaad782d0283a2519bc98a86de2c7e46b5f6ce37fbe8d0aaa70858b6036f449ce63f03e0ee56db228de7eed2a5b4b510939e64691416191277a4d8c0a0117c3fb6935b57dcf3a75c0972b1bf389d08bbe73c4a2c2ae4f28e6d9f4239a4b08cfcd39c87617dcc5716404f4d18e2552d38dcc7ce24df9db3c2a1fbabd0d68c0d5c04a8527f72846d10143b12eeccd6b54513cc4756226efdd8ce4c65c43a760d4c547a72486c8a0e17f6d7f9ad5a02b303a796d286f58a7e2e63f3eb0e6a510d979d0ddc9f027522ad0036d60a8ab44ceb5591ac23f1f18eb7bc073a650a7731ebfb5b749ab0c9a0c4c205d57caf1631b0c207544863d08c34800e080e00e63263da86a31f896618c28ee9a5a23062d602845f3a0e27a8f52363afbba128d9e1c8de5fb3aecae5af53068f383182b80596d90ccc88d8102eb5c3c921e2833196833d9617ae96c2f8b4c549b8b93d753ccfa3e83bb91ab6e2714180716182296c2df0cafbf760872148a879b0b7bac3c5f60853a0501e2d46732f10a7707399412f998c87815c68ccee7ce9090e7d773c3d4c9ca732585e43d96d665e4c3018ac74f61934f6a9879345e2a9b0282b2f9dc24d516f31d8ffff90e092e83de67c63d7b6402c15e79cfce899a79a0cc3ebcd6213710bf1fc9cfd417addbf8bf19da42c7e1d88cbd579034f6e645e5b3aa6e6a431b0668da95638e5848467fcfd8d5c73685271b7e62a2bf0d1bd3fc41e0fb9a54bbe2e25fd9e44fa259b4f1928eeb116b662111190ae313da4689af553d6af5b09a520945ea29f3367ac5216ab9f2975559ee6ce2658a8698ec3575bed93cb37f36ee920707bc92542328473de7f9d3266aa806cef7470682df9737f96484ec44394a545561adb2f2a8c4cc0e28a4c6119e7f3f6b9a281268bfba2816c18aa5a8057e29be436964a587cf3578f4b5c9881bee14af4462d51544d2b805151c1719d7f8108ed22db2fdd8930867eb90addf13d5215e30a8eff849419ea696211d3c082a77314a5847a1cf706a39da386ee4d36373859ff684379176b5b62a3e354a85e009126e59d05d350a1a908b01ed26fbb5d2edade17bfaba8bca817162c419c081823a1f0d85084fcffde9ff7fddd6f0741a625ed7923c57465111d83dce8acdebd233a3d5ee373b0195cc9f72f68d27bd1233565b3bc108f0ff14509d7009f019636593d16fe5cda6f6bc47a1d74b04f98bd15b842fc8ec49d0a54fb4c2cffa617df0457020169eac6fb48ffc51f0cefcd678af5e43e15b2cc4e3caf05cc29e25416bdf838844fdb631eb284d4ff1be94e71174be364b6ead7de7e9141f33836cb8a5914ea070fa6d8e4f04e5359dca418fe1639fee1610aa90b67f2be0d11bc787ed6f2473dcd6cb3401266d36585f6fc7ecc962d2f4f1cf30ef5df0f42393af7043733fd81830c04e712f66ba65be1fb4091ea4077c4c9d037c902990d87e7bd50eca85253b50c02f2cd3b0d3187d9ebaeaacddaad3b883f72ccf788512181594cb5b2670a7a4b98fff35f72db33cb793ba62fd81230f5db5ebbd6e7dc0cffc89d5d2a5b5e4e963a1234286ef407b041c49171c5c0cd36e2dd0ee2b9d884fdcc28a33bae7ec77fe388e5cc7cd708c2779e74d1b69e2d350f0ae19d8e11de3e17fb77a06b3f6beb6a57ed7703e7f2ac9a0b87a7191d1fe6edf77440ee9f8b1f7a2c9edd79b4b30d3786963e9a3c861adc3153b8e549a95c93351468de108401ba0d6819e7ea15ffe73856c2b062812970b6fd434a7b4367d42d6ac72783eba52385c81e1f80d5745f96a120f9147028f4dcc7d0675e16cb318994a2f2cbae44fd5b2d1527e01c971299011f7b9827326cc8dfc0788cc403a83301b12cca88557d61705acd682bd4bc313a722bf3942f4ec35eb468b0a03245626f2a0bae2155f108b50151e44d374e0023bec4edb288c750a2d06f648d3f566d2ccc21bfac6955dde7c62141853e4c814e48e4152e355868c555cbb7a5408fd9f8405106d5320c062fbf140a4d20ce41f8b352e9bd82365aa0fd3524758c53ce698743f94e585adb3f92278d9e162794f3c7b7245841eb71a2f2a3fea756b8b77656386624c729f32e7805410b70bc11084232728a4f0e10f210e5dd3285b0fff0c8fbd9ad8b958eeb9da57319b942cb0b98f425245b145b03aa1371c008aad6a12e391b7495e7b11f4757aab73d21cfef4f10b7d67b8cfa0674bbb52fd455deedb76b8fb1e50ca686955742b32278b8cda67c24e5065ae7f6d2592caa96704e9971289354ad38f65383bac632f4af150b5285ac96697d8462ee579a8b5760a11c9ce81c844d1ed7522410f6a9024365809f8d9094ce888f15dfb67f11daea7a15e7edce87caf02eb5644d03ff33b76b30b07190a227f109dff15fdb37ea99964a82c5bfcb150c37e158e5fea0c303f38481095b9693528d9a9809a6be77308f8686418c7e11fc564121e129cc2ac94e0d2704abe2ef40b7add42c1a20d1a73f8c2bf61558ffc69561110fc911e79d04dc231c83813ebfda485b2c80f5e94fcf74c5ae1e1052b11918850de7872e98ac11d206d839d5c061e811aebc5bb3233b65a9ef4af8a73f50d6988ca34a779070b340983c470e773d0b19de2c359fe19681e25f99be82856434d8a5a2ea1dfe5263ed69aae126a490ba8436575c2eefc035ee6293b334d9811c5e2f6b0e611b2327a6524f4d103c560df72a75bb8d447113f413622851898fb123b3dbba95db94953f9ba5c1daf4d64d42c60a8c73a876dd3ad61561765093001a690685e252a626de8bfdbb8981da1fff8600923effed846d215029bab4b9404a54b9c847f58f374ddd1a54c929c0f468d3a8595d1873e1d992fc5b8b0477f6ea9d01934d522ae1ed35b1affd28075cd5fb5756ba7499f6efea1097dd3eb77afe9599dca15ca9c21e321d8ee785ff1bf7797f86bc064aad28982137b4b1a9188267b77a8168bb87521ef54defa74cb7c471115244a191dfd1b3eb78ae285dfac654625b4d79441fd4daaee9890410e93936762773c306a3c4bd3e366b0fb21d0b2567da4b96bba172a1cd6224bf4af4c71578977f2745d7da9dfa81db704e37ec5e86d8827d7a7fdef64de9067a8a5924346d6923db2c697163e32ef0fe617345a9e743ef057223d7c30badbdbab6dc0562576d1ac6233fcff932a6b991d4353984d35202cb2c50e4c3d2ffa629390acc5d1bf933f39e4844bd0b336467955b0f34d5edc52461ffee825bdecdfefa860e6061e334645e28ba452d9b6972aac6fbb4504c360054c6ee117be3f06da6b42f6b773d86df0be2b6c43ed46840e6186f91b1356ff4084ec515efc516f965d1656858db86a4e33b26b1719faf909f885ba79cd1cb77be6bdffdf91b05519bad3ea777b8df58af838f6e7a10a08ddf4fd7310cfa0548f9955e43287340dc35b6159ec82e759ce8760fe4616d79bf50fecfbdcfa192a02ee6874a56adf9b5e5ecb95bf913dba657023d02738bdcf6b61cfc0a0f0fee92f1354de3891347a6a1fb5d63028715196f97a82c280cd57802e5826e0e3d5fe42f0ffc52b09b6293e7d531f6540730f5facd4b616618526a7c7b65a64dfc98a6059688524250b1c2c1852e7931fb558b7b4239cef2881a4426fcfd0464b3a50395e73c654239006f97f67d366f2688e6254e3602648b35d414dca7bd9c5d370414073d29117c7e7f41a395b8f5636dec4b1fe77b5cb9e9043d7f35e63c25b83524bf171afebbff519167d0231a962df7166ea13904d9517aa1922af14b767af1468b97faf81998e13082f3707690ec70b69bfb7428b4c9140227f75ce7072c92ef7f3adf6420e7bf762a473533214197ee413d27803fbe5baed1f53737862772a66af170a54eee1d19c6cd75d3e0bd56ebee8468ae03b6a2bf4ed2c94b9a19cb1065100578a099fd17322ccc3408e5e714888a75310e7181fc41fc40975398bfb684e495e2383c47210920715fe7a80b28e0e88e37c4645673c232c035f320fd897d3b0d14cb3fdd32dd7d0774637acf89ebf37bcb1253efe63afd16ce88533b96584e3b16589c71e7305f35b9366837b95318ec3791680a74f784f335f6aa16c7550638bd267913a6c90df68e643ae2c2b02598df351c6597d3d64944e34b7cdeb0883016e6f5cfc32f2bc8bd5ade81cb13041f06f939a03d6462c5810a0d4e0f38c563dd57001b1515698f77f71e816ee7bc0b3516dce16373eff0aebe4ef3de368eb29ac6bea6fcce37026510f46595c569662529abca98386035e6c797764f83d7d8632207fbb396b4bd05fb9377098639a1ea75d94fcb40b919c6a75cbda9c14b3f2aa60603d7817b824d69b889c6b063fec0bd69581429fb3bbb5c186140934b43615e63a5cd7281165bbfe56b5e1f38f72e180954cc2e9aa97efbf4840f4ac3bbeba483b0d5b966f53841e1fc36da884f11ab23100a7465ab332e81d25e34015d085319e4897fd2a3d920a1d9656283c215b89f333f9c01f25f070620835657b0b1a37ad971abe09a16e8ddc10d8a687c56546cefdd042cd7a6f179b25cbda2f47da9aa8f5c2be979291b7e04e92f2ddb6e84f43d92cc1335a6d7755b99497a00e1b4134a09ef1a836d8542911e38296225d1f9d4f218dfe83a645d98b028a44249cc7765b81d92a26139e1f6239b97fcbc3f234c5854b9b41e28f15df34fef2ac5b47149cf00dd276c60a99b06198e4e75df3b816e8a9b18b0d3e4e4deed48bff20aa17ac53913c9d35f3152e0fab86d05f1f95fd77ab68d192d7dd34ac445fe408c0161d8c312aff07ad7461198c932c9f337aec8311fcd520edf1645aad2621b33479edf09873e7c794070f0128db82ce7903a4a8ccc6dcba5c04735eb697fe3bae34f7aca38073226212adf2ba0660b574812a592b58fa8e4fa45cc0a9685e30cf2af969fc6ed096c8a199f4809bb61d8c5e16397ccb479ee34ecdba0650fb7b8584985930dfdbfe24ee53c28a980d98fea46273ca83c2bd1ee8091b1c0ed64d945f85cdfb4c1103f6dda3e28482dd0f783ea2dcb686146d4803ac28bc24575133fef0313794e4d488e260c25c4e749fa9d9cae1a03efd893b9fc8e1c52250e85d02743cbf19ef8f6ff5b9f13407a7a3f967d3e8b2baf0e9784f3448908830e1559a4d2327820db5cef3aaba1bea3e9dfb4c81a8099aa8e0e6c277922ed179ed1fb4d34549a9878771af3c72f32edcf5ba2cdafbe879f2a01582b2d7c2a88acf83e063083a4d688d7698ea1d27cb4d96ec8870fa9d00ab884772caf4cb2fc8fd01f191036497c98dec47d405ad9075e1211af18f1605629e6e13e2d4d3a54cf13711b21c3c5cc1e5420f1a5c7f97ef1755e8744dabf985f0a8b4175ea7907580b4746b6d98a15ea4c3ee8bc56d18f30eababcdcd219895d5472e15746a1f8733b02131df06c54936018b7a4924dff80d81ff416375a24acd967368297b4b43722351953b57e429653408cf591bb07b576079d95487b70be82382ea46917bcc7d4c77238616863b0116323518e75577e512a95503fa915b0ba1a82fb569f93fe355ffc96a8a347e023e4e08fc19b159c7373f95ad6d5912bda676e63c9421603bc3f610f2fc91f898f436d3ba9e56251e81bef1dfa47efe8293c837f0a726630ceb6a0dd7db50a3abf71ff946bf67d468ae23a4d079f856a0cd1a0ae66fdb81d5a5568cc7cc8f2d49f8ea579276b186261438c643b2a7876e6eaad83e84569c54c174abea828741fd892ed55e7198d9c6c2f7ee5bb980d9d5f8ac72d1c5b0c5d8329e8e2adb9d6857cd15d0f930","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
