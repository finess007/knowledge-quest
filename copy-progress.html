<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0f5444c6497ebd08b6122d00dae438d5d8b9b2fa75e3482218b5d9e41f33c850f9f9108573afd5e293217fe035e7d45b79222684d417c4db83d41754269fe28309114303862f3e874b9ca51b548ee0aa098db7c009089a2dfe6ebfaf635860cac49307f0d81328d92acd21a475f94762f828d12bbc29b75d6e8e624d86b0c5d1c30e134b76e998870737e789b9aae137cb4f726b35cb07eeb220a78720c3047ecd8a4480a2849e4049516657a5a139b3dcb9e8086e687acb6c2c639e430e199a14b0803f357bc6be7cdc9cba53963a9ae2e9f8c88b6a08c019c78cbc9a4af2031de5a285dc3acd526b1da0bdff6cf42fa6ac5fb4c58f4741840700c6ed4f068c45b8279297dc0a71d015a5c3a5f0dd8e6a12b6d3d6ffb2dde255239a1ea760a1717648672cd7843fdba56fb32115ca2241aeec7056305926d663bd5181478d32da26fe912c98f2bb7f4f65816a43568c8d45a27524a23d6aa022cbc71de757cc1efc360a20e7066e09700457e47a2af43ca344b2b0bc9e524427b208120ab3a11e76538b248707f40566b298fac1f88827adddef3cf2c29ed302c18995d2f0b039310f82b5de160252bd6c0fae2e539eec8f47e1ae0aef0c23864d3ee317e005e83d65bf780db30da7b3cd5e1b6547aef07ba35d6dd5164065198e9da5b85f071d4b0e46d0967979d69c0f5a877d01b11c3e96aa0e82c2f5ecfae3f8baaf51d4742cb696a3a338963e4079f8dcc424d2dbb92f26bd8009dbe595d633f9151d9cbb3ed2dbbbc5ac43a6ad27f75df4c0f6d56cc8ef31b6af7c53c04b33563121590371375bde224208139fe99f73e3fe803fe47509cbec2bea85118a11c84b38328cac616dc41e881c31cf02b08dbd3d757599834ddd6cfa22ff059a6909db582462f539fc911a67a2181a1f45ef18dd37fd6ea5ec03e89e91639ae8559d5248745c003f703d15089be9dbeb4420bb2f2bad66a2a14e3b4906d6705c048bb2332e60279e193c0d5c0fd96a3b80864ae73425cadb30c3dbed6d879fd2fef44414c6121cedabf442dab7c2d1e894314ebe8b95d43dd45ab2a7a87ec63e3fda3683c5046bc6682ea7dfdeef237d41355d60346baa48fe8890ad8e321958326264afb7a4dddd865189da886dc6c86d85db220af41b5e6f758d0b5797acc3dddd8b6e84d378a870c37630ad07ce864544b7df624ff2101bd6fd0c172814fd2814946bdc6c088e6170a5cb07a5f8e1f17d76d294d197e75112029d3b5657d51443a0d51dac4268379b479aef809837308049652806198bfdb73ba376551b68e19adfebb2d3ee50b080dab73135daf1bae6c636dff56405e1c50c1703cdbeb8ba98f4b10f111057284e89d9eb948332035c425b9fd3751a78a8ab3c907055b031c0aa04996c31bd1625106b76ee61605796ccb75bdb724ea1368ca9eb266fb6945ca7588b75bcc1503de3fd21f5867a32450fd5fa726325f8b9fdd6d0edf97db8deb1c31820d89a1ed4010487c7de0ff37eacc89a249f6d3cda99dd2130abbd33b445d3d6693357559cafb48ea9c73c54d492e55bbfaeb0d0e4cfa82c2b180d21a21628b47ffbb63a523b1c70b1c6a198964044786879a7cb269a5fbd1ee31af229559c6e2e619cf864a5685db273380898b12f830285cfb2175edad2d66c2904648271146cb124c0812358d122f630035e424aea7bc342e2f40fe59b1ed3931ca3ed04e2935bcdd109ca1dbe6b95034cebf0e017bcf519eba2f4cdff076c9a5c6203410fe99d4e3140a9bdaece5071d16a5283477755794a47ae87c37a12277d075af70adc0f6b28edbc55e2b54f8060d90bb3f5ecb0583ccf1ca3499e31d38cef9ed6ef026f1de678ecda3f3201ee1e7e10131f135718ace3f2d173d9c09b1a2cabb4dc5335df92e3d1474a5afc2a61a1478991cdbe654f1d56f79fa01bf1b19982dbd744d0bc7da8679d20c76cf792b39cc84d7c496d2149d69b0452ebc562f7ce47776a248697a362eec3dfd6c205275fc5f7e8069ab3a22882211abe747f9efe350509c1cfa0b11dc8dc951ee5b78c29f90224b8991dbaf7651084ecaa6f593ce36b22c4b17bb6a77fa7beef8b6ec471923ec426c580c9d9f95ed837378a0926f19a3eb2039bf227d24ae7650940f5e0184422c84ece8d295b095e399e4d8b615dc67b7721f7f0e656e80b7794c34df5e27638333d319a09e4e1094fb6e83658d2893a0118f102f6283e2f4f5dd2a28fed3abe7c004ad4fc829467c4804cd722e1b1ced8cfc20ea2012eafdb1c24b416d6ab804b73e714aac3cb063de8f3104a4a3515a656099d62fb0e0d00509290526f3592f3e5ad814659f97498a1357ca31fd1af536b57115409c313bb2c0898427ce5f95f191d41b20fbf84cd0e5df1202b05419ddbce96a2b586715a73151ab4745a021a747b2a6addb1f2153d64673cd09b902969c8ccd256910f64e404dd9231e34afa68c26074d311bc9bbd339587aa19a58b47c44eee0c6e44ef8ca17d7c47fa2d0959876247d970f5be0e9f0360f7da5e79e2ab15fa0f1e5fe69195d5c774367407c01125f1a5b5d5835b7b41c03bb966f9684d508b411dd57ba5253bfea7803c7bfa3946c1b15a80e908bc917c7dea34dbf2eeb509aae462d5f0c419be018587cb2037b26d3be01b79e4c8b1c7e21a06fa5791964bb8752f76d2d9cd5b83db43915f69412d46f69e34f50a56aeace23c072f1da8e3fcfbed68f7db6c93f7582e97947ce39aeb8eea6c47fab0b91c99e1e5afa6d95d98062d137f610de68e29f1ac36334a03bfaab5915a3479aff23d0b04fb8b68b2f618ac0a93f2c401ca987b2fb5fa5be9c8296df0e6e2336033aa5b3ea0f89a0c0733b9d721fb80f063a67b02b870522cf4bfe513e5cef7093d5a9dda0f4840879a688c4e5f354eaad66b2114050fabfead146b4ed8f0634bc25d3e5bd20c0874b111657717931cc7912803065dd268bb91363457527bebcacebf71cec6b6d03c1444cb8803d92a8f8fd9d115027c5911eba366c839f277bfcf5503a5538dd31790594c5094fe81832d32290dcb10ba8345218c9cf6d81e4e84c6f622474769bb2f8ffd8fb14e26717f96c30b671688d47d4aa73039a3d97a3bfd23572ed5713ba837495a94ef8ad9845d7836bad270eef6637c27e456a2f2930d8f7b31587cac382097e3bd888cd24bcc8edc3df5c99ce053a4e55205c41fe35c537bc3a22b14015722a7e03add7aec65382c01e7af7b3060683146e62be048630366ceb452593d985eed50235399259bf74460b34910e689e5d5f3dd5ce628df76b4e72ac8d983bbd8f14682033e610e0d5e03caa41c969e05e3084a24142803b9dcfb52d0d4471f9f17a3fb7cd2801e670ffbbf737bb9d1e4741b5eb8f44997593beb08aaa2c15a038a1af7e7365ae50de52f408076503c39dee63f3ea92e01e622551acccbe41ed0dee8923aec7498ad6f8ff72bf5c6652622bb55834dcc6d72bd1a81b412603babee2ad8437350c6b5f72487203299b177f1abf6b423e56a761c778624395c3194aa8d84cc4047255014fbcd21a799ef8890f9096088f46b0448820a37c251164e34441bdbe76ee28f91ca529a030932cb160454bda513441b182309f4c95588e277ced274450a54cc98f299769057a04f34e888841a608481216cf8b6f04192e487de41a035738120858c6081f9954a658a41a7fb37be78a798310c002f3cc371dbac6a3b3007c6aa5514522381d07061b4f1d70736a643bad192b483a8a8c82bc2bd79b87756a5c6c604f0dcd4658d6d6824d36dc11f8be1567d4deebcc24a0948e368648af467bc9dc141db9ef06bb8376da13b8e05ed5abba5a860cc166eb4aeb8a886a0aa0de318d661c69981b60f89096c27cfc21f38db86392bd67584d9b4398c995ef1eff0274ad81b7eb685a1e2f8c1e30b88fe206be2fcfac14ae1cc7270843fc5e3e01b39f52d87d32275d9d5bb41f4ae2c7f45a58dd9b3d5c6ca52f8854fce10a1993e3ddee8854fe68e4f25f3bf3e146a09eed8d75fa3fb8e3bedc1af05ea2410896e7c68b64caf3d40e71dd9f5b099b330b12d4e81fec74b151b7de5ad947b3e1742e73a6ec9b345b1c85594822d470055f34e57a89d5b926ecf8d3d5c4aa0bc4132ec6fbd34f233288041ca1b09bbfd9dfa7f3cc17477b1c05241da80f1f93a8a6ccde4d93a37764eae248f3211609ee74b79f4a2dfb8cfed8d5ea08be28e4d849ffe3bdc19736debfcc04d6237ec7d3f965c669f81630ca76318fba90bfd750df10cc9a3841e612289682b68483e0f14d50557e4290dd7c0ba8c9bd2cceecccab0dfc9d3e771cad2bc791c2a2f06813f81797dc8b50bc19537e852f112979099e33fa5a9b5647cc223588199012e33c67e87ff47bf0a8c15c80750350db6c95459605d851ae80c47378f759b658028c8f4f5ef2225e3c9358c6c0efb34dda84d8075f1fd8e15aa46fc57cae1a9c40a2041c565ff89648b1768bd76fb56bf010b41df5bb3844471a5efefe10d5730d31c7210ff6e2e306b0515d9c02bd40e950c258302c36408697256ed7ff6a812b82c8778cd1dd705ccd187299a9a05c4ec61369617bf70af8361e6fb430084b1c5878dac1bde97ff96120f46c5896bfbad40e5ae406e6d93c8675e6de0a32c1c1ee699f566615e1f81d9a3a4ff2f9a500ee813adef21db262b4d6bfc16186d98720e721751a3319ca99bb706f30ed64109a71d5e2268b749ca672e8b6a9af5fc878b657a4698fbdbf58889c12d26b46bdcc58c2a00056ee62936ff1e059a147438ad8ef6f1a09a2ac617dff81a11e3121d68dc3347c763693e6de50ce1416b9f30383051ffb46fa8a55c9834e868591a306f17fe8993bc3b01771e3ff0d4a393fcdfd7c2a2de5e494ce326294f42bcbe9ee288398bbbe0c67d363891a920a1e06f934dd8db6d03b121739a0308da91359d417014d1c020b5d83946d5912702fa9da01fb35c1d26359f145f3881411ea75d8a3b033a58cc16b5fcf2b26f58b0d9ca340499b1a9941e4d3ddcab328162cca9e1c932fcd698d7394f4a83b485793c31bd901a8b9d2804f74df3f98ac1d7bad3c7df2ce7985feb769f283adf97996ae61de73dd1464818b09a1df75143d1150db0f65cd5fe2df86bc7b487be22360e2d97b76ffc95e70f814d1d78ce4e5dccf919bbb6cc1772effa86629a5bff55d961d65cebdb34bebc87e4b198a86c68fbc05443a929354ec72478537513e10970613103d5fa02779d5c901a6d2838cd666993a4224db49eb20a1176918569202100004563bd754334e1b0d18663f59d89942956aea1775f1b52d13729e9334153e67dcaf54e561f4ca02d43db1102287497f8d89c6e6129f7cae1e5ab7ceb1b4c33e471a094f5fc06ed6afd29c01d049fdbc6feb9ca260aff549fc2a49a8893c220c6c91597edaa935b8b0a7e0aa6b26feedbce09982f3b3be9c3373e955d99cc05a6d58f75462ba1b403fcd3793bc954d1f4e7f6dba6c04b41b0d83f7b2dbb02d4b7e11991d89369905122d0e96e84ca4d668228b8baa2579d2c6840ff65ea75848b8668c1f366f18cd6eb8477ddbb513f6111188f4f1f264e4c56bea8e9bac363d6a0f7202d351f1d53235bf357bd6681ea75af3b0bcfef0a2e6c56ce47ea85de1d73f9e15710f86258d5e95b67e6e878a186f392a6672ab0c82b8029998b24ce7f11a431c9e919ce7ea3a63fe060d416f34a2d5abcfea70d957a4e60916c441809f0fda31a85b1b22344123098abde2c06a2b135c4ded7522874480737a4a69b0121395b42b37c1cd437c2102d7b907e88b3702ec118af20aacacf1ff8293879cc23780891b184bad6bc0bd57916947b908d14510a48e7c1eaea4f764a06d94e29324251ce8610822c83e14f5a30014757e4ad8b75059a7d1c34ea6fe767778734055e2f0fe168e3983d5371fcafce513847a3568b436ee7d0116a792c39c20748409d7ed0e1e3056155f99bfb8812b45c7f6b946b6398dcf49011dc89c93e082794472493b1c29840d17b384fc5bde6e7ec971d0a1ef6d763336f39c8e61e3ef89ad80e78897041bb9f2becf1df8f7960608bd67a8641348740ad7c977811212b13af9e2206571cfd9a79a30d67ac90ddfffe25bd90c449ce1446ac4547c4016f128fe9e265fbe01b94bbece9c3cba3cf7601f1b8e53acb8f7b1e043fabcf3204730812142e0dbf9fe7ef7db8756fc4e174953705e7eb86fb250cc2820da010580a584b28c27ce5e9246c33d6b7a980a9b8c3a137ea88003bcd613414e6f3ffab56dcb96613e47c2af253c7481db5f65e840c9f2b4097787ce7b7ff1267dd04323e213b7273a6337d337b32af89206b1e871bba190d7348d4c441471d4e7f7805ab1a61508515c33ce16aab5d5903ae6c93a2b8dd22e42733aa3e71ff03ecf11201aa5e98031ab3f85c925e92c02dcb6c0f1d1713f68e291313d01c528d952c2cbe3c14ea5603009c2df73b40207816270b66274f6e9314207f64f1b7c72044d3927ccac655eb82f330747aaee909905c1741bd2d085b6864c9c73f724ffec2a29ca79bab18299234f82254654d35820ee324ebef9f2a82af7617ff1a4f99c33abf328af15943aa68579dcf5f7916ca0ab25a3754d0671f5a326da9e2af2735e5d804bc6902307ef598b03b4f03e6acf08389a25ed96aa6bca3863a7b323e4191496b29c8ea8ec26457a29847f3ba30094e820e72a1082271db4e78e4cbee2151a958c1effa80577f07d4aa4da6a142c25e417da8ea9ce523d863cd78b07ee8c797c1e5e40f81915e4708b01f8def2dfa6b7bf8327c9bf38a934cbda4de6c37e3744822f6fe4dbeb087aa530548b4e76919e7469f2b55c87a9d7f92eb32168c1256a659e6e09edbfdf67c4b95f0b05d383ef23f6dd1c78f1c497acd2460aac451f584bca90199e18eef93a23224ec1f058950e91e70406ba250837e20f0af0c021ddb373a562133ce57eebe99ff9fbeaa19b709e9cf34b3394672fafdb90fb184026dd02f811ad535021fabc4a94a7078e8c377cea6629bb18ab4c129b0ba217c0bca2266e58657d524cfa120eceeca9041b046df9911845a6bf8cbaa9a54f850bc859b7358a0ccf8ee02333e2556c6769d0875fe3ac82c2b9edcdcfe20f36ce60c1472a4c2d8442c00b7491f7420313c4c02a30ef879673fc70555fce8bc2ffe106d5fa0436db4ef4fee8d31a0a60b3abb700b3d08d0bd22f53581e4cd3ac87f4f7b40318da2a60d3881596373c755aed8b9fbe4089e60948db2a0a9074bacd25726d4b5e956db37bb14aa1f820de2ecbfa3ede35c19b3067bc91612c4b8312f30dae9f8abfc5f55d6ecc545f7e579f7236d6b6e2af928d7ff5669ffb0fa90b5ab4516c3073fb3c2e445a9126d10ddd91e959a157d629ab8699ac7babc3fefdfe85ef21a4f365098d6380763140b02b64d41eaff5b24f64db5092aff4705a555bbaf860768a70ef92831365de8ac3641a2da57555958c743e0a117536ccba99246a9461cca3e2a01d0daa5fe342f8adcaa593a57f28cb07ded50154911937fd3f5b488c06f87de4d28835f765b67bc84bce5736850de7084fe2d989063a67cbff9c7848b0330a590269ae002e4e0dd62156bade767f4a6eb9d8823690ae2862484cc85da6d70a92e0621ab5485399ae13a3172d05833a7362ef0e130a4e10c5f60977c5c063e6b30975bfd0a93e062ea0d6e3f60903233485ffd0b95e31ce8591dc6859c82abe11ca890c0c85fa7046c793f2b94eb9445da7000f13bc6341ea080db4c6062c33e4ade9720ea6ba70c85ca926943e97787277cec0de0d21e632d9c48e753390de8b7fcf5faeb20babc750d3279047950f5cc757e124ef57ad707897b3d2a4f36013dd759d083a7ca9d20222abb6138fbe6b0825b1eeacb51ce524a5cfff734309bedf1df41f3f1052d3f02fd30e73c3813ddb9142f12113f95840f9a86c1aba9bc50aff7dca2ae82d3ec6ec9092fb771be9d8016f784dc79a93890d1114c56b071c31ed50117c87ecfe17a04a825a3bc194a65e8254e7fbab03463069ecbe4d5974d85a831130b2f78f51c5507ff75477dd9b48a9702ec1abca57394cc2eab669a9623c64869e3a2196167dfc705f50526ee55690a5a03a295e504916811241441070f991b0c17157bcc17b31e4630cea75af58b14a6db265d77bd4fed83bbd31b7e19d1a829a3f849ccd82f0e75d4ee4ce1ca0b211a2188eb9299ad6024b2fff287758efc69c73e66256f0933d2366a967933fbe8e91ef89d6de034cf6a54d2743919f26f870be82d19dece2cd21ad20502c6667ff7e12f5bb56a29dd09bbfaa095b89366eb5f5aed94e6b121d1564b26eed021008d6f95a2338dff84f6d7e6f1a28cc3b666b675db2c648af4d77bb622296b639a003723bb49e0115bb1b33b48820607eaa2bdc5a5311e532a2dd99dc2c9b69a7b13da38c99f520c0deeb064fd48b87fb9e4af0914a4920d8087223ecd5973f87fbfeb1aefec92636e804c18200f48f7b43805640e364183ad8fba96a673fe1e634811ad8f2330b2e4fd366814f17f4aec04ac5c8f152a5d92800becbe5e2f7f3a58dfa73f726a2b6bcfbc8445634edbb405535b3211a27d81bcdef07d70f1f74ea038ffa0ae8c58aab68883116cc9727fe33c523ba65bbb17ab2983465685188f846110d7035ab533ee8ad45fc557865060969f3a8120b638a90a95c344600c81720fb7019eebba972319a8f332da4907da73d37027f4894283fb306f504e0a8e968ce65bb6316c702ecbf2784b4d906961806fb5f8f6bac3094a0b96e72f8ae5c862f8be707973ecea548745172b4212622811a112db9c59d5fa79213565d6a2fc1f8b7d2afebf225e18f28cd319d70b881da1f7bba8b5a7f145ae0c8069ce9e95186ea88aa0483ed17c27077ba70b259502d8553b5e5400b41b960fd8fae00eb0b40e09517dd818f4450d6f98e7c8a0e158f3ed129f1f97dfcace4ccdc5bce8d8c1bfec31251183db94ada0b7cfc57046db78ee16a5f7a5701aca12649418448f404cc06a91bdeb217caf5353d8edbfe64a434c559e621499eaa37821ba16a99320be8759fbd2da23f400adffdccd450d56ba55f6f9c847ce80a57c00a982a074232aff0cf6dd3418f9873da24c7d2b2dc8fdd1242539bf3b54427639ee19879b4ad49b54a1d311f395b83bd48c70969eab72539c7dc35bbbfd5f19a793292f1e7f32dd924aeab00e549a26844a14e1b13ea45292fb61df85e740c6448c964821477402ebe0ad26ee6ef396caf2ed0f682a810038bf40c3e0a4426e1ea2cd186bff53309616f8f311fbda205a921cda9f62f006b1eeb0fcb2bf2c970765ef6a7ba1c195a3e35593c25bab6a55f86708bd39b21c4d19764f34842bf103d1a93543be7ccbd4b915de2cc65d7db42771359580fa2f056f414b1f9c6e80435bd830fbda2f3d7e52b802b68d1d13a953d4b830f068097218cf8193b5eb615a47dac19ce2e6815bdffe4823dbdaacbb590072c76b8fa4bfd56e8f1c213b4f00f115189aa4e521095c2c38782a10df47fead39132b1678419cc497781253cae3e2f141c706266d04a06bf3aec3553fe604f6e21b114975b1eddc03e6cf2c4e6ed60cfc7f54a80661e431e76c4bd0f703530cbe19aec34cc1e5457d754d019ba4cf2fc647805fbe148aa5ce598d63dded7d6aea4d70831ebb579788de4c8a147eaf100bbcfd9447e0a7d10c001a2d91431da151ba514477b5dfc923fa76fc45b3eff5c90ad210249225e1382bf9419110d7a28bfe04ba4d54fecfbfe4872155f0fd313bc3043698089487499a8c88b4957152209390f732b1e95aec770b5b662d15201e8ae8621d613f5fa75c49bd09b6d8e948c882c3fc8e7ad9da7d98eafb3cf480e032e5fd7cb3de7966992fef7475088f7801f501be4fbddea5c0157a9a4f3711c829b2ae42f4faf23b62f45cf350ec3e6eee3fe3c589c64b025de2bd02ed4412d96b807e2bc7b28091aa358cff0b75b00b4fb224c413452fc1ffb85cea70623a38929c97a4543b73578cff544bc6d4df9131588c88b1f7260a13ebb83710e84c33fdab7239723df9d4a46df46f11789de8e8b0853083bf4bef4a93c885ca9441effbcca87b58980219081415f29457db9e0a80e91902d55ad55d37aae5b90dbaff5cea85fa432a3e97b2b0ec7d37f4968cd5d4819880671bd69fd4fb17c77c7b012c7041e74b40cc79a9beba3757cd8e0229af76e4aa013a303f226b1b326a77bf5e98996acaf8bc963c3af1763558624fc6421788cfb780302838280f1220c3525a491da6f7e4c79c1aa84dce8e7a280e14c01ca0dbe4df139711e820f042969fa1015e06401d9f9b774b3cb729c40038f1cb93c85f8c2603896f9a0206bda1a7cd80181698c059ac0d8635438f6339871a0c8168e0def72a6e590a791619b0b69c2b2eb2b105de385fcd54d67a31b07548c756f9d610a8fcb12d3c10853cb79e4749c9b64d91a415c0ea0c9124fa11d14b4fb1f4e1f8fd774cb2e7ad6cd212b17a8b9cec0a750c5e39acadee3af6d9cc22909c3ce0b637c153d57b05207e7d543d840beaae9abf2bde876c5aa92e83c447d5823b32c36e9abb17f8250ba82b6c2758149c46d35d5a5bd59528eaf319dd5a49c78b71d53cf9e98c1c7f8b1a444666c505cb780293b60ada33723d05ce0c491f342a2795b0081caf4984c77ad08947442a9924b8e087bbf71de5147b6c738f351415260d78052a66aace96ef896212bf45915b1fcba94074d43c6c6c1aacc9481b5a483fc4cdbda27ad48c648a7b8cf24a6a802154277ddf74471e55f25bee8db8d16b75fea60c8c5c23e6f3dcbeb118debab8f0047e77dc8d678b21e6d5b2bfbcfd79bf4ba1c6f866a403585f2f40e5c40bf47dd11ea4edbebf1e76c2b8c696fb20dc9b18b781daf5ee2d819b7b6d8f69d5b834e036545e92183cd0bc6d2d1c48b3f9bda884c601d2b60f8e25decbf32fc248825ef2f1e2d4d54b7ca33d65ddf335a484fe0c2f9ae45b0abe69743dc6ef24d47b65f7d6027f6a698f29b12c6edd67457f4804bdee63a9949ef070b6e6f62abb99330dc88814da434b0dbcaffd4307b256aace92f0e3a8e52bdab43b1525f3b032626b65c86991136c0b0d22b17f81394266b356743775bfb34ededb178e509daccf411eba0dfc81b1c8d9d61781e043572be526f7ff2eb7691db0ea9ca7dca289a25e424b2488781f3fd1d4abd77f722bdb0a282bfd88343812f7c28526bcef647e77239b2867ec500100e593a9e002f625064fbfb03914043f1ce01470dfadc14da06bddbd79a2811d995a767a8f1b7626768e213f09d359a3b2dd4ea895ff996e8a90b0e3a69af201548b51d3eca43e3cbd10df30136358d3a085c220eceb52f8ab900e88eebb2b2d1757e94f882daf7d597c0231e7ef1dc469f0a8107f25052d73c5bde365cc3d3571f56c0a113453e7639db53c53614b7f11447265769d291982fecbb4ac29c59c8b8fd56820d5dae4f7362fbd91601022408ed854bb07b8e5c27a439a01fb842675021dbef98c73fd856eeca7919c8466634c852af128323ec21527c1db5467f57d74df960b75aaf7caed32dd1d88b7e6e20bdcfd2e8b18f850f80373f818c6df5398ae90e680f8e09f0ee6977bc24a99d8350d4a7d0b9a150b3c0cabbe6b52c6a6b9426f1b56c2822cc29496733751564c56dc5fe2ed683a1f699c2b4a22d5804444ba8fc8ef023de8f0a1a4a8e57ebc6903c922118d4015dd249a410184474aadc2790e262e734851d57003e3ffda01830251263de6b73cbf2b2148a114af4d113d0081eca71d9cc3575629557abd8a4964dd7c89d543f25d3cd3905f5c4618fd4387709f6635e287319b4268d0ff011dce8b7cc51ea5c5e555c1693556527ba8cac5bc5d2bc87f47245159d3a410e3a87839d3db8e0fbcef4df8f3b31ef9cba02f0d7e082f4b133bbabcc0b607c9049ef6022d67c59a927ff4626e67840e42de6734b5f9d6badfb8c435ea7c3ec5c9821370a065c749f40648588fa22ec514a96ef563bf540216b6112fe34558032f9f16a1e492da87e0225c5d327c2849de5406b579409ee5a6fccb234271da32fae8969eb9a9e3c5112f7e58948d954e3d9d7aab583871e91d7bda8cf916e3c6b49115b489686e11e1758423446bd30d06d623957e0871097e26da0f7a8b104190ee907d42b7ba3988a4a3a1cf44c8084a607f39d4f4e0b7196641643945e1ae2265ff0c23d5e187922684e9eb391939b8d05abb836728b070ca50c35a4938c3559d2167462c09514d60e673fea792556924f9c608d0b2f89f010dc550b61fc23d0313f0639b7082e7c63c8c0e9c120f7d2969c90798aaac908241b5359bdaa7f3c4ffc55b0986f66877becf7a895c918301bc8255316d5d9bff80db800c93086595dd092dfc16e564172c19d0e0b428404241ae02d3814b4c19c5fd5f0a86c65a4b75facfcc8f3f262c794b44f5f16e31d3b67fc4a878e6f9183f6f35e2f83973d4b80ef9492cfa8c0a6876c69223fe4dc10356ac54964dbdecfcad66b83ef244d0299e86635124248857b8b8963f0bbbe73b496a24d0aaa53213a4a5a9563304c9c7f604accea0eb6a684faa067210496a31c78b72de0c760721042b707acfd94ccf4f88e37c4e85ff6719673a069f1e6eefa9241ca9b6b0f7314c4e4195b29e339cc65497cd4a8bb0eabd4b33fc28e82261d89b3ba010485cf42ccd11d19717df1048d7d37de78c18831f315bdb36fd93d8f95f2c28eb4cb751e4fbbd7d89e83830e6dc4c70da983505401c7a41cfa69b799f8b5d1c1479a38dfbd7860b412d472c4fe8f217f3825c495a40d9f289071861294bc39aeeb7335ddbe139f64642666736b14108a5e026ccf54ecd235cdb37ed2af2f7485c53629f6e33ca1263b159816b7eb69ad8266bc5ca175f78b95d0c34f05e602eed4d1e7c0faf9a7025485eac93fd2c2027787ff59df9fbbadf87a4d0e689a5cb2a7c6b3ccd7cc21d37c00a302b42bce677ec06f0306c9db138687cb29f7efd8cf65cccdabf81037aa8967b84b7f08f2a68a779a7ce178a1a3e1b3e9ba0a01fd4d3bf5b0ccaeca2f243e7c2c99ba48d647bf576779d8eb05ba651d72a080018c1144ae2f7a374b3896c3ee939891978195f04c4c524f11d066b7fbb9556168b352bcd5f1577e86e3f0c82a958476cd2245b32ccc2b7671677e2cb8b50ef836adbdc7189335cbb49d6c69bb6be397207cd4b4d5d8f9131aea09a038ab120f9272496a919522d78a37ed2b7a26a9ab88ed7cc9d4673a9a7af48c3db5fa69e43f9a51b2c9a9534b04011570ff70b5159b3ab4da9b3a3fec86b9c21a1916afa8f9d2d62fbed2ebfbface9fbc8ac8efa41b66b2901e2bb5e5d421bb84d39f3795fd82cb17dbf0db39454967a2ea49b85b1064733487fd8e944a83bf7f3dea9320671497637dd5f52f14ca7cbd4312b48cc4aa8ea130819e68f99d30ea1500b9dc12f3250262c7232a42fc5273dcc285d6b645ed709c7f1e33c6f9527e6965bab76e78f267cf7d7fc1b70c20c4762d6b62607f161a344ed8b6ee56cf9fcb6b0edc35c985da0a175b603aff4d05672a4099b1d195a25603db72eba3f7267fd213c2e78048fabe68a83b55e1bec5e2e3eaf9a04c061a86498c39bc12ceeb826b0afa903e5743a0eab0e1f9d83144842bfdceb31e78d96aee8b6f5ce502ccc64c0d9791203b7891852efcfa3c1abcfac294b019fd218e53c42badd270f48215dfdd339aa512b03b735afd6732f7670763dfa4b8ef8f4aa7767f9653350dce8ff44c81a7987ab5d1380b2ef2a9dc057a18ad81900715217f65b7f72b4123b42dfef8a51c92309c9eb81b1600bbc35b51cf102395f9a8ce0236d9aac90f86d23894c39b55aba2636882f7b727befcb57ab83d1cc3faa4c50d6451d9a12eb42daded213684956f121d96cb8a9e74f0e257093ad04a3103f43f1bd41b37f0fe741c0bf69ac3e8dbee70183eb5b53c5a9493c6b80f99bd3b5d2912fe00ddaf6492043bc0a0a318dfe67ce412757caf1a7f087bf8bbc56f1cdbd5fa408bb76d0cc934aeb09a1c906c7af39a6263cf738b3c4b8551e058df38fb899ddf736845d4b38f3e7ff7b4f308b58861631839f77a2cb18e4853be0eb83eb61ec561df013b91006f4408c865807436aca8c4e7573212c3ce45334ff4cf4a54ac5b17ef6e4c3b7275e5eb594d1f2fb19292fb2bf9e7bb10bb2422d7787d4a3574b64b0266ad6960e8eaad68a8363a7568560015752faaed8c23de629cea0d11e517072ade77b3356ea7433c87ae4f396d772541d23b3e1d7c0f4d26f14a74ae5306df972e0acedba9de2774022130abed5d4cf8382b471e4316ebab17fb48398ab6401c388b6f4dc1ac267b66b7da0b072278e8deb9cfd7d7465ee459142123ed35e9fe7be0a83c931dc8b62dd0e8d702d74d15dc4cd9356a3aa876736149496d9a863c902d4be1d5848380d770333b168ba77b15f8ae9415275dd689e1050d37cb3eb0c00d5eaddf91a9a062d9b0ec7a033d12cad8d8ecdbbd2601670a4e7c3430b3a3ba0407ccc8c122c8007e703e022276c2501b93fa49e898f1b61bba42fa708c2933dbd0983990f89489eb59b2339e608da787ab50b508d6e9f418f7bb0b0d9064c747c27425f0463f73c1bfe7b8a3f15ae50fcf5f9d67da546fac7ec6146d1b4f6e8e8976b0c07bbab4a36bb00f731915b052877729789dfef7f4cdbe99f248cc59441c28ceec8115e31fce04af5a4ce58676f7b821e6411486927c8d6e51813c94ddfbba12bd795f4e77706d457389beffc0c1a1bc6c2a39f1f6b6d0d89ddf742df689683745e428cae83090cc9a3337889dc87e2db10d04f11c70067f28239a9e415c9971b9f50adb82826ff7e77ec0cbd06daaeeae680ddb0c0926073e1be2d8af7274c5564defba929b013cb10d00dabf4ef35663c3716441b010781a1c06498179f3efa454df1cc830af2150d1af3ae81b3a5cddfc0ea0b47a3c92e65cdf6963896cd6b1cb7a83c31af81eb55a44ed1faa25333565add358b275ec0fe71bf5b8e3b0ab8630246e4c7a7193d7d9ca5e12c63dfe071646774614d1aa07c5b8301742e79aab6fc3a5b3f1a923f94a7f2f8995f9a0afffa06567833ee512f683574f3d08603a4b5ac5d6e4ea1a94529cdb877527540c9c5878ec925113fd4bd715144f0247563150a45b4b7b8468be704229a17e51bb0887b2742049ac124e3469de0ce04ac42a092f84be35694c56b07d2229be82a0726b762aedd2adc832d45ebb7b598dc51848ef359a5bcc5d80d6172b02b56644b7a5336ed3b1deacefaec830a90dd6c68fa51245bcca3114407ea91b58704d8a2aeeb8387dd1d90e5f3898237c8b6eca87e8ecfea53f0117f4ff4eb70e97c232d225835f4fca27b257ddd7ed88916e9a3eeb2ac7309867e8cd7aa5bcd04e0e0f9bdcbb3b9b075910489615bf9e6823afea9841c44ef9462e6c0b34aecbc63078a384e21ab630d67d57ec0352c1c426e60d48acbb1591c95a1eab45b2e8e63c40c0afd4ff5ff855d3d8e1ad95d55ef9d930d47e22ee378cf438fe49a12430aa200af88ca27faeee91851fb0047f343af5b52af8a42da27604446ce11e11c194c756ae41526d2f88f8c4788a558c95dcc5973077cf37cc98163494b695b0d6953a26f12615de454f14ebabcbd29fd390eee16abb9db270a2eeb24c16b89ee4581af488d2345a77f9613c6480b5ec211352058ac31b06a2ea97d9547791319044cf934a00dc1d17d4cfd5d77d7c5b8448bf4f083b35692d4d4631f5976ca3a68df6ed50208d4c89f3ee99dc1d0f76e708b64bedafd3badcfd5daa4ed3d3f488d4f411ce0b01e9757010b78652b04cc1b990424400e83e2c88b05b3b24131007bcba9a20f198380485cf94203eb2bdaff5037d320ffdf01c6c830404ca2b020f9ae96f6b2701af8f706f893142eb122394af3311cf4a30180a218ed83718a3ff6e1a5689c40d61c7494820c299a8c2e3a779578b17dbfcc733722d379684cdc9b7594088310c5956c215eb09cf540edb804e887d82d6dfb04764c07442bbec125e90e415d7bfac380ed072592a3f3e7736c85d0bbe437e330c30006d43c2beb1f5fafcf1ce13c9cc5da098403d041434aab5c5620ad6460b3ce84cedd183cc8dd18818b06746e9a0f7b64b518702a113acc9a579d03bf1862ae259dbf043d1f8244da76323f646dbb02f37271d86b88692095d1cfe5d6b218a335f7988df5c185ca4f1897a882e57ac7844b638665d8aa818d649561b4c3f3a7f5cb5d80fb9c1ecad701989d6e7c3463fee5ba4fba9c2e06db44062196f495dd40e2ead511a046ec879878384aeb8d4bf8e903dc8f5af8387a179e939e7a301ccfb26213964fed022f335776630c152a91da371100b38dd9642e0d7c187f8ceed34125f2de6e79d3eb32d8597be35f56a782a3ca4b42f270cfe5284bea4a6aa62603205bb5edcac0f7b9a60c68a7987b8ad39eef7e7a780e1f5b1865eed22486f35fd5521a64e27c86269445e13a5f32540d97814aef00afa1af81c767349d722b1e0c2522c351be6135f024c1603fa1ba92f5eea6106e7f60c622fa13fc3faaf7508553da953e66757cdec54dcb5bbe2ba1af33871faeb2a4bd4350d00e16a06e11ee872bdd7ab5b22e0f889dabbae7a4af7a0df9317ef9d6d75795304b3c8647b4d4b84b862106a7bc292ca23726367052c445086a44a406ec96f1c3fcd4b8f3bbe66d2d2b5df11364f855d75a975944d8705739ccf7471431771eb286b8671c2805ec9c8a0e68ef4cf9834d57278444ff72e3a13c002e505ef88ecc29a15aa7526b6e22dd9e8df53c19674dac0510e083df37fd9744f73a09e4639bddf7c2f27337b6b7be812c48a6924fec9604e9119adce7721b7b45cb4c48e45263f057450c31d6e109941e5bc697c0665088c0e54bb1371b703f09dd0f8dc4d3e14884f71e8aa23bc06f44536a8f1aafe5775228cd74abd39b57913e3c11e2a37e147fc98b7f922bac90b60e7bd3d96ab42428d9450c6c15aa33505eba687f41f3b73b2aa088ea022edc742b3ae4faa54a1d41b29bb2aeb36fafc1e931b18b2fd9ecf8bb639fc7d103a0c32738c039f27624ac6cb650d87e30f54ebb24f99f4b70f8178d1cecc2e3860913be3a0dd8d3e79136ac42549a32a18122edfded0bf3ee1161180379fdb683806823fa28fcd20e8ac06e6284d034f86b1b36859dfc767d81c98eef0cbe685bee31bc4700ea830adafd2f04d8f7725037864f1c5ea0f08a92325e0fae016fed4eb5e86a55937d770609f987267c7556aaaef97c2615dc8c682c1074275183689a50247d8353c033888eef4ea70a4451a66fad0c8401ad2f433d9a5ce7e56346d3921107c2e8a169b06aa5e331e0fef3af5b63638ac5c7b26945cb46d26320299fbcda5606532b7aba36c4dc010b46b3a1a1b629d6edc14a47b20e0bb00e31f58dc53a367213ebd7446827220d0280159cb08bc655a78b377ac9432597a9d4eea30579345ee126d38fca3374024b633b7858a5c26b43d3446ec6e4063b2e848180e9885afb6f93fdb72f0707258a90d3c51d05deeea34caa640dfe888e7d65b489e9d5d48ae0caed9de3e8884b94a4537e717f9d9bb819665868d580adccaf34e476d4c67aa0ead758918897cbd3be0ec3d4e96b37e61738e1e2ab3c3707699bbf7f4a88488a6fbd5eb13b9095c6c086b074331f10af5a42784a60ea7b7ca65b8a84473791be20de4798e91ba21dd98be1ce4c24d15852e557252929259f2d745c9ea797415d91b3661ed05af44bab15f247a9d64d460e51d7ea7dd14c37242d9521c2afb75111fb970ab79b98d9479fdb99bab94f86fbc8f15462aff13462c847bcddef0b4e5e70d90877a18f67908ce5279f01f933fab531873a6de7c15b0d2f56a8db6cd72122fadfd68d8e5096cdff1d1c991bc1984723a135de9d60d6c30a35d79be4ee151d7553a61e098202aad0a3b96f3eff151ad043feaf158854bab7fd95fa43112e3d5db4911eac9d860570ace41a8c29c5722685c4a4098c0a499f6e96bf89b14ebd9c4ebee7ad55da379b7d75ea15c6bebb696fd30d12f2f9880a0c4f94655ae696a60b00f429df94bcb239a93b7ad0d855bccc0ef44f6f36c7967462ecbc3afffce8f61785352c64f660487aded04531afbf7fadb890e8941a4061c3fc63e9a2b09c7c3022884ffa334f11c2ddc0aa6b2efec1761c91cf0cfe3bba57a2832df80e11526969973f269cfc3a888b2c144b4a91a5cbf93876d0bbe57d4b7262a30805d21ff1749185f6cd9987b71e1b0fbce1fadf9a008463292584ff151a48eef139a6e04d7f5dfcf25cb4672b59f11b59401f13d3030fda15ea0c9cbde9e59a49b27f46c09d1118bb46c443fb565038cb0b6386011c4bf624630f8d1ae47a470e268fa9622cbd1597dce461b0609fe13f3882d77c65034607f1215d95607ba7948bc29963f391b4529a92b67ba8323a60d9afaefe7455aadd135b96f2a4fde2c12b72d40979cb1be3492f0bff33fc462085d629f3b8105696b8a8871cf8662ab924b5ddd6df9cfe5d9d7737185530b8ad173014ba79978370f59583d63be011dddb63c1140ef39631adf8933a06a07f751feeba9cc5a0685cdf4bf45f2cccc4bd631d890040f9ae3778a2eb55ac2bb97aafdc4d89a900bb1668f97b50e7442825a0cc42ee389aea0d55d040fb2c7e835e34da80758c96c776757b8ef500eb41f8afea2235ece559603963125de52f7e4fd8efa57ae2b5033232ae25dff2488c95fe7c6631cda470f4ab15471323a4aefdc89913c02b3fbe778a630cf435d96cf47bc32576fccb106de2b8314c15a805c98328b0f2bbbea11463c9ab5773efd3b64983491c679a3aae62268999d9134798ca3c8d114c9f95490948cb79b0412d8ccbcbd375100d9bee5709ad93632b3f9813fc25031c0827c497f5f652ac210e053c05ef6e124b7124f68ce37ee6ff2148fcf0c28775dc4aa75e88ab5e6c84dab542dd5f8da8d8f921cc279d0233b2d4d5fac0b0833f02b5e2a168c76b14ef3019c8492087dbbcb73eb6698604ac85d6351dad65866a17c4f98f1be2539ae5df2d44c469db6d1926eca0d5f29ffa4cabc3313cff973c9d399ad69924bffaf164e048711bb5f0ba9c7dae0f066d9f9714ec125c8f6783fa21d1b59c1d94f146737a1d9dbf98328ec2ce79cef95e768425397bec80ee77d5b9750167f7ff3beccb1cbd012ec3e8e4f629cc7513471ec5bcdddb75c5f7d071f7bc0bd5af8361ede3ba1472d818f8c8e2ca8f0645e179fa4ae1010a674dbfe5cae4c0668ecbca005555384ba0709fe5151ae8db742a602c2277ced2e03fc7d7d0284ca00e4baaa190d57c66ace1cda7d4832de4a6c53c85c2dd61e1a08ba46376e6d63a76ec3df5c7f63f2a441e107b94cebf5fc987943ccf3d7d21f47c1cc48a0ec976aec7ef912eb20ff18ea2dfc0ed45d992f2c5f51e8c1df296faf4b1fa8d4edaf439420d4b3d92a3e6480e33b5ddba4e035e7676e1297d5cf888a2b1060f4a0464601b0d9e8ed52912ad5b6cbdeb2febe72198dda77a09399d39e0457aab45a12724fa01e1bd59ea5356bf8678c55df032ce149a6a9b4caa9aaaf92ce92fdba2ff8600f9444af9ca1211ed12e0c89b492a3eae08f2b341807d3b58217e8153c66eb25bfd7a6b8ad59a49970fda8f2213aa323fa4347df93473f6095596503437e58a667ea1f9eebd3276347a3de7422a1da6785b798e41a046a3f7f5a9557304fd6d5368ae21d4ff88b3b4739851d051c975b14a8bcb4ccb4fcbe491078fa15aeabcd93cc451bbdf4b67bcfc80548a2aa08b8653b83e4044e29aec4c0896fb9d5e1ed1e69111d559e5f991c9cdc9ff65bd657ed7fee3dfebebc071af61a0c2733cab206ebf3a2d50b13299b97f736b70bfc9832cf11840cdf268493f012df631e119688d4ce89bfd724351b3fd282ecc4a4b93d1eb8cb754b65d48aba31c96fd91a38490336ebd3c61e10a0c76c11b76d002e9ceaf12c3ea4c5bf494ea8bf1f0200998d0163c25bfdab416dbe3abf376d10aba941110af574c988513d8abe7564bfa580bb062bbeba32029e7b690eeea56d88daf73f1f5806685e3f20ae2b7d788b420e6103e9521c9ff6cc7074334bfb4fe4c84e866c4d98b517bead77cb215051d0aaabe7a6ec503b3a2fcbc12a92d982477bf588c20f6d260dea39c2b9209d4cc9abe2dc5b31fbf1fae38e2c9f2ca5caa8ba09eb08de3d3c8cc1ae280aefd12e91910a216b185a6ad9912e9a25e62ab5640ec67d6e6c816e78d9b22e963d522d09231c87b0a8a9e37c74286d027f80b4e24aa7b6bb7c184a0e2508af39c0077d1a9d588ccb28ce9790cbd6b191050808da446726fe40ffc58976449529c5b1f26d6a90a2ea71dc93e7ea7684b92745c6e113e4e9900dc59aee6f51e961fb43f2104d2e6516973ffd2960e82fcdf0fb232f7cd3a50ef63b099313b223c0b51d44ffc70e8084ce6600df82a0ec7daacceb1790d8a497b908078eac748f21d07003e80f153140743605e319835341487ab47290b10f417a9201e230c0a382cbba34080fc9e4597c12af95a9da1f6d353986b4caf7d93cec92116dd8a1dab22f5cec4017952759dc6a76ff10eb026f1106c3457ec4f80fb615014302a53a782d7386534855e6542da684f7fb990c0e73100cb4acbd9f580b98f31faaa99c28f809cadd5d62dd9a0ef260fb0c8481aaa801dbcf49c7e079ae704aedeeffdd1d8090bfe7c33b5bfd5ecc83f2a241c299298f3720387aa9fd4e7a1c09264a7fc206e3cf674a71de076d3cfd736bb21437488178316bbf3d33fff46f0e39ec2ee2a70a9a79fc2d8910e2d4d8c1704b739029c6d80915c8f7ecafec7e98d94822e8d0b54f614c5bd4507fc06cb292143d1fdf6cac9b2bea5b41bcdc1a904d4a2213105bf7a4208c8f45958442745bcb74cfb87a6ee5e224baef51d296433e8f916b09436a9539ba98244fc4007a915cca94e63bc822c8fc110a3b90ba6fdab2808bd815c7a412aeb02e6457bb78bd73603bd1a38062cbe2106c60719a0f88354248a90204f08cedfc29292433a6d7c3832dd2884bc6936d4db56fac8aae61a2e3983ba357280d50f69d9e0f67d2f158cf64364dc51f4f8b8e435faa913034895ef12894e30ec657ebf7046b7dbc72ff006e8c058e67a80d2319fc54b59911059e1381eba7c4db8b05430993ed8b7b291b6ecbc863af6c6235dc5c11c4b21c5b52847f543758c611109b5f5522118357a33878a2b050fa9490b","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
