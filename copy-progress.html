<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1b471b84942ace7a0fb12de594dafa53f5711d3f86422e0d85943d673a5bbcabaa272601f0fd72cb8c125ccfda35ddd59a27f960b7a66e184d5e77d8f573371734fbc6388da5d822f2fba59451f81541a4e4264f50da2b1611a92e2a2da13316afdfbab87d882a1d5b3b2ebc6163abfe43b7ee7688ee8070a06e56cff1c591b3f284859c990b1d2966c79ab94891129df06a85f1a647a1e8d75e7d983eadbccbd0df0a5e15779f2062a02cc908177b6db730cfce5245e9dd5cb8e05d2ad67625ce29edc864f840e4a94688796bb12e4348a1eb33299eb187bdc9ebe10ba64921cb25385a344fcb4dd9962e598c0f039a39bf53f05c4166fb8cb8d2967193b49421ae2d5158ef794a833f88b3bc13648aae82bada11541f2a049bf8ad1f055742b2ec8188fc2f70365b1524e93dcd62393a22f21e360ee9cf2ae4043cdadbdb224c054deffceb21a5937eeac30ed4ca89d3f58f974c61e28da0f09ace457c6d89064942e4752d49f6ce383667c61546dba862599d67e403de1194c628f9c1a8c3f01693795f0e394b31571a44042f7f21cd16093b07b7501a99725994c999189cac382e2c42998b147985a575f077e14db2a2fd096448cb0f097ce8daa781cdcf22c54c85cee803e3ebd7fec41e654bc837b3181b3c97142ccc0d06dc095b3446087fb1c0e8f21eceee6c2e74266654110392fccaa457f43777e09f275509af230c834590ebe2e8a2fafc1a263154ceb4ac976e77fe221a41ab3937dacb73f4d055298799bee9d1e6fe9d1ca76f1d6f472aca719f45b214af0a1c2d6423cb91fcb8d92a596af4074b0494e94301a79c6bd811a37404c79311922c8271627386b8186ff23c5a33c4ea472d0b3330e313d9ca5773320d2804a41176f40089637bf855a133bf7e001270c1e06a8356371b6772f99714eb2e7e17495b3a70a1afc001db6676e5a4ea3197347733110c10ebb7423c81a3b6d782064bfefba5012e1d42f61c467772e0e4b212de09593b22241e1f3b01f3c31e217381dfd071c52934d8e4d523852d4fa5955d6d8fd328ac27867185065d0fa41cb830ad2bd8712ed83c0575414d984117e3ce3fc3e97b88838880c7b2bc4a1f62b791c9ad4a0de83842c868390a80a618638ee6a827da4f436ce60e03dda93fbda6a997afa93594a1e25829d3afb4ed8174df8c93fd9b03480c9881ec328c3825531203e378a08633f0abddc4c1ca0f249bb0f03ede9eee4e75ff2611c089cfdd236cc3cf26e4bad0450eadf82e399c4786600bfab136926c20aaad451d4344e0a91d9638aae082e0d05400118142fd38c1eb8e34fe985f75c6796903962eb70f39892f74bce6d8735641cb782a7c2686e01079c473c88118a8e71b305ca1e757b7e475e4fc553ed80ded1d5098b591de88c2cf1c7a88faf3b27d4b4a4dd4b026d6d607ce163a046009409359593213e2f66b9a05aa2e5e232296ecdb9b2dbd72b1308d5b852f72c8a788eebcb099c04ab51807b608a3fb2cea8d37edf929ffae639d35796ea9eaf73f50a29d56aca313013c84189cd5ed7948ec175e35a422014700010f5996c8da24b89eb7c9fa90b3b8f15c02d7922569e0ccec098588c676b56731592c9fc377925660f80827e9e23972f77dd5a788838dd62d695a7111be748ca3c308f35499d5d91724fae1d58f50e819801d426e305e0e9d84fbcfa59fc8f21f0edd5ea9c9a112cf4612060fd81180ee4a84b0cb564e74c3efecd1964b7cfddb400bedb86971bfc126eabba2af7db05991098b9943bccafc18fc0635248ff24d0e5a5d03eff606426db6836bd4852ae9a31026f0940fc8b0ab83260d4d9d74a86eabc70db6ea16c95d778c6f414e44c922dedb4443bcb62a5480d6183f4fcfeb98645cf812dff560b7e9e25424e78bd5ff8d41309d1106a1781a8b430a4bf127dfd2f130c1e6d13310f03276a840bf5e553140225fd2f303b71f953a73c726f79cc75161f7bd5f0b579c0cd6430f8ca431f44c477648ec98973a05da800c4b636807e43e23267307b776862ce0c9749cfc1820475abeeee1fdbe145639f15beb68f88f4699531acc5c1699f78d114f610b373ea9037cf3616fb0f367c4ebf33c8091e42ca5160148d5ce61c559f3d15052132a249b3d8da14789c6213613f5aa1c51cd2db112d3bf517cc89f5c9ea92704b7c79743797853509e97bb893e89490854a918c1f0b0d674d8736b1d19fe786e5c1cf236d40aac971703b5a1fac6d054d3cfa2a57e3cdb4097d6c3bae742d031982b79c3fcb933288de0cd235d97d02f6a62eed7ce64b55a13828ffa9349bd7aecc7228b5ada1b285736849e7ee593548eaf8fbfd832771e96236797304797e909f10356027896b40ec7d976d36d8da5c27f45b211547d7a93f14ae80db975d71501d06de25400d27948c821e04380d15051e6206300d6d8c5fe07154980ac431364ad431b09f76e09e4f3e44af7c241fa6e72ae94b5dbd94e152194cf27ccf8378df533e069acea2b67ee863dcf06fa7ea6a61cd31839d5c5061aa2701f7e02848cebbd943b036f60aae55ade075acf7ca6d88dc4c20c72c2953c010182245c5283b6b59ac85495c6eda68d3574514fb88e535a0dbda4652293b99c5d61903e8d53c014a6568a2d95613dc6825027ffdc630a2c02bcc44aec99d43a97906597be90857de88a790d3149ad9cdb8d4a5d2f25763f86d4877676815cb193630207ea403a7c6e8cbfedd0eac5774862bb057469b8185a21278c2120c6492c476981f644d0f92e8ed26b7665f71f87f97b23dcb3daf18a5d094e29e304de30b3be8d2226d9767e8303d563aa1edb641064e51ee61dbe5ca678d3e50217c44b84926bbced341714558a349e0eefd466090231e051b0b0f50e37e78a2e5c3d96c512ae79f7daf75bf64a730d7a4e57b9ccd52b12c48384b75f170e2bc52df688bf6897bb605ecb9d63b631ebf95dde8c69caea276268f0346e254accc6cdcb88ff5f917bd5ac9133ae613bb299bfe1e79ee10cb4edd72a3aa3b4b1582103480a456e2267e6ade403421585515cbfe91c4cfb35f4e2567fd4fe184954650378499a0b3206fef7d09495a051a641636638809177906b476832b25b3fd058e88b1b6d19cfcea2ce694e74be793fb2e9dd07ab541d12702f3361489d493f1d6b6b3efb26d532b9911809840f216838107eb1f397b948091ca39849f720f6a82985457981948e2f2b616bc9728482dc93dac32019f6d602a8fa67d2173e340d5ca71e432e420d84c18710fe87d34cf32929ed42b62491ea3c63dd7a5505fd7ba668880c53230c190e6bf2cc6e2a8320931164da4fc552283bd22af72c11ccb9d6b2ee7226b1bed5dba08741462cf776e0d480fc60ffa2d889a1d742c02f964154f5e4d406b3eb860dc1ab81bbc56a7a2f2cf0ba98a5289e3c3f3f466a054faf06ecf12541a9b7e72c4f6c64905da9ddf2e544d8b8dbfbf647b7b56154e15f0d4355bf21b26ffd36d0313c21b07fcf2b74dec9ad201682dd197674f2cfd091d0c84c1c7cbf268706e4c6a48e1ecc81e572eac4ec8256958e91e247f279af1bf5779bac5bb000caf19072c28b0c7bab32c7085abcdc948c11da6d060ebfdfae9a4dcb3b414f08b7bdc0f219293d39a7c094c49618ea189a5c7b4b15f0c10d1024f614816ad299ff48496c2ec4cf7bac97990f04b74b4c142613ab51d7a2089f240392931ec2d7f4d7a9ceb1da87954bf66ebbde3af5669f708a75518f53a4b15f885e9b88704a361f2af3e7577af3707cf9037d35826a6642e816c366f718d96e7dcedb53b8ec5c87008b13213db027e8621b7a9d301190838bc558cb30095eb275cb36191e6b2c26ae4673c2cedd7c8e3194ab99c86cd561aa22f6611721e77738c9341cd89e5f3e33e83711ef52b091e9b054e9cadd93ac5063f372df91858b9af9247f4b4822b63b9c5957b24be6636cb11772a3114db9f25e9fba5bd6ac9a139f2bf83dba319d24429d3617916195658af455ad2d0c54095482566cd68c5e82b45e2fddf2df4c013b273414d4f4f3a888327e625e4feccf430715088b37df06b79fc33e7609c802018004643688e26b049012e16d613da49de1c9fb4c3afe9a4b764ec7fa6c34ee1eebb750015030db6e182540e60535d811789b15660d8debc12e01d66cf9f1227d74e47dab62f4bf83e5ad5d3eefa3b9001a43c9fc69db1b15a1b7c0ed9fd98e0e1a08b28fa7c5ae851348e6d828a93cc6f129a8b1035c975ba5be67730d0affe45859c055034797eb6968f6675bc73905733b5b92f68753c5172bf225fe36b334cd242c357d717d26590c7b9463ab69ca8d52f9b3381e29bde2425701ff9c9bba9c89474a1722f82a183a16d302a841ca88d04a3d6d89dd5eafd186e29a1cf43b781914865027bb05c7e3d8b3fb552a32b6cc22c1439452d4e3f145d659834dc4d4e434e9e696f0b2604abd7ef8b49e73499fa13f695121e7ee5d33105a1c19a4d935a6c689164d385ae08dfdfb5d06d3bb76cfcbb80beda1b4d9de5f5bc82831a29edc18baccff1b3f96762de0d03c289723ff9b50b2e8bed8a8a5bb62edaf97dbba09fccc22daf1b9fe67ff8882e300da921c793c530ed9ab5557a29e2c908e51afec5d83cbd912ec4a08753d64e67aea93555cc0a4c4f683ab42fbb1c074434036e6c911385796738f065ec47d1589507e6f968f7a68539d234bb4740eb8188cc5dfcab4eea61f3f61715add1d2750d40264c16ee5ab176c14ac2359567ceffbd81e4b423b330a72f4bdf204a4815b0e412a8d7598c031c3316b4da2a78a382e2b5f9f086c72b0ea65a245c86ea0ad47a7908a3e3512ff84d6fab260a7c14a1d3bb3d138fda3524beae3259907dc76eedec625c78815412105e3dd24b6db88f23b7f6437b85344d8ac2633b5eddc7886ebe6bb6f0a462af5fe8296670c1f305405b0a6964fc24dd50438335713a1eee197796baa1b7d17facde6d83c2b2f2c1cee9d6a068316333ddaa04c57ff64b63314a7faa7a336348934a6e6442240ea5e7585bdf7b794fd5836c48754d1e83e9083038523dc12ebdcc9a601a98de44b4a15c735c5f0c179e3148d4eb456e8cb52c9e853d13a4d99f906fbfb79805afa6e0cf14c03f494c4bca8ebb31645731b7ab4d6b67c1eea18d1b15b1be46e3dd50210c8a05aaddc89b94141f176440e1f216d0d2c4c7ed4cfbb0106d7bb0b490aaa0b971918b46372c4b0292bf02bca3a17e137d2e05100fc84a4ac7302b90053e6cf0dce5fe7e18d067752fdd071ecccbda0c0779cb7f16ea9e6b04846399b02b34cb557fa729a961b57cbcc8144d42c6c095cd67710ba773682905b138457acfa987ae3474fae100ebcba3de60247960288ee5184f3d74abecd44c5031daa81a3b5e1283cbd5c2d29d5c698b0f0c6579af5318058fd4e231a11ab1f02f494ea43613cf60be9faa320cedfd8e173acf2d77deb92fbe3d653f7c490e4e989469f8c82e4882f8b4f3a29a61621e8a3fda69086769dcedb704cedd2d65ee55e57c56f9ac145c74da2f1a6cc60ce54228cc1009453d286370a2916b6ea7514e9b886d0846485511a6bca4607b524601b4ccb2d709f0dc5a5a1f8dca5d32f2ee42f31b1ed3ea09f66c607b4f1f254bf7896a91d92acff242d0b1ac939f7d1a2b7bf100cfa51cfbafb3c54d0ddb9e633b5f25450f5456afa97557fbe2461f5bdc665c42b9426784f1a364a97053c0d97237f95c67c98430f57f96a448b1c0cc1597da893a5c8177e44fa1cbf51343e7e52f167364f50d2c6b43ca8d9da191f09794004b71b1a103791079a447afeaafcafe9f89ed0eb70f35324e10b99fd09e4635c2fbf65ccb88d332c593a8a24bf6896a88844ad3be796abc006de9c8df6cc03d81fa880e4570399da34510a298ce6f917c0354afa1668affa69ac8d1e2cf7467d1797593feeea1697a7f8274726b88032aa4f8b3bb2fa6ccf0e79fe1bbe4456722efb55312606815dbda0397f57119bcdfe00a48556e326a07477c27b711e7ba6cf606157f2ec0b88615911a510ad2459bd17d749517bda67435d207f8c5eb86568e72a731147e8e654e8682bf37a4c666ab91eefd600fff5075ea90286537e878108442c2ccfee503a2d799b4f501d957ce0e24864abde6dd699f12120644c56c8b631b68ec767e0ff8b9944d07ca632e22ce1edced67d25c0e1a4e3a5a6f8da1623892a83eaa75437293d618d64c5f56ec22ebb8fa1a2ae565228159a64a782e3a230c0a239c23a2d622932dede41bb77c6ac7e0874734a127f3e6e55ec3f7a65ce1c1cd46ffbf58c79e4647eb894a706394721e6ade06c24567ea4bbfce60fb79bf6abceced31fe5d0e4797cb34233b536b4e62a95dd0a202342c1a0e7e98d738af18867a1033e67c7fdcb2cba2c1358907fbdf98bc5983aae69859bf0a089a458038edd42371f7d0f7f2348577050c680fb44cb3c7452e3752096a336728c8f072c0468e4944d5b63693c1088ca2e2e74efa77ffdd5c3a113ab8068eb5f61c70569ea34756b63d3f02bb845136322b2c4294051a4253fdebc891c36d62deb98c13e253f2ba946f59fc03a9057d328ca732f2ec819cc4c809943b5bc9977fb24d28594c1703cb378f7a3a5ba5b511893828ab9eea491ca541274487d408ab5449c5b691487666667f901cf7f280db7bfd24b8e39d4ea439341b99fa5ebedf95c643f321b75ba388872a552e19262e8205c42fe814e4ee7479ed25a379932a9feca431ed7e9b4330a782d14dcd2136c027fae6590827bb21f3ef404ee4b8262e8b31bfcf25d50c39fe4f27d6b7c86d862afa243cb3b8f18c305c1f13ce4c934e6650215b6ae6ec13ad3f9770d1304ee65679bef3faa32e1aac20cc5303404c061962c0993157ccee740739f6dbcacea8671522774a902dfc775a09cea1f9ec3c199f2123d4b82f81a7fbc50a084c0e41fecf1b5d00e9b5aa73f5e3b2aa2e6eda5a182b06ff26027b23eea7eee250297bfd55a6b40a18519f1152eeee565d543dec90c6c3fbb5ed2697e1b41b4d4b3b5bd21cc53aa306dd0be04bfbe41527399c486d027cf60a6dec6b6a0516233f3fa75c21e7832725fced0c7bae5b8db91f9897e025df22c9a26e971ca45ea879a5b21a8b11900bec2fb1698631298cba82f810df20d10efae22478360766304ee81a3d7408fe0848d95e6a24e255a8f5f69a8a9893f8d8810b817242aec51b2392fa83095616234b5054b6e0192689d8a450e8416ce423fd9e203306ee7a0e3efce8cd4faf3b326d6513bc1613804d1863016596186da566206cc73079a99dd5b9702ae456076b63c535712ad3580f54268b524a37747ddda49b7d0a7c9a348c39711229b74f5b4cad489b05c401c900e6a6b83265f6a6a882b0605206b540da16b5ab997dbf1e4cdb2bae9755e3fe419675f6a8a343eaca9b5a6de9debed68fb17894217389ee578854e9ed10160617fd6ef976589bbadb4a20c40f9787801dc12807e72df2580baa34583a5c90e7edfa0d33669b2b4d61a088da849e988c832703f9f200eb1b4b38a7bda365e145b314e15a2fd2f02a781e9eee5e085744d38abf2c5a90cf64bb12ababc5f40e2e2f63549baa81bcd5b209ddb15c5f3d2786c894486b9062bca182d469e6aab4b20fb8098d60c2eaa23eb66ccd7c5295bac4097921000d577e436b02f179ccdcfb3ea125b076de07fe8805cc21a0b17de0c26383fc49da8027fc42412931adfe59ba77fa71c9244106f04268439c417f27b420179a0e756c3cd6c087cd675750e44d56dac29a76234073c2de62b278d6f65944307fa5eb18f32e11a9b5208b609c69b77827a16b59cc396ab5043d79283edca82ef351737591ac6132c38f3d4e8842684e03ca17f9437805ea68325be2913c000a588892d861ac760474aaeb6ffbbdc60fa2caf51d862b9876a2e140a283c46a47614272c39ed00f8d975a32173eaacb520e67e2eb6891a103ac6d9f81a32eb23a44041befe5d4a713119b089dad33f139440f23cec5aea0d01ba178eb165401dcf021c2ce12d6fb16566f0eff6b82d49a4b620339019c9b93305a52e8a2ef584eee8dd78a8682a569e00dc7f2391297e1e33dcf7e9bc87a140afccf411eb5f3752a189a3e5e342ebda3d555b105ee8c801c7de19c0fda778a34256d4ad23a21526e2687cad1ed491c02e13360bd3f80f4e54451845ad03d57b4f2fdd467cacd457959885089072c4ce88ca1fcafdb86a075272f4e1f2cf4b20bdb7258b6916fa86b0b81e469d260be74e9838c97ba37f4b7e6d3dfe3230b11aab6b78dceae1eca87939424cab5acb65045451d6275d98cb0588dfdd3f673ade3d7cf56891a360858797898ece1c54afa202d2bf7aa42988096337218904808f0c9d5f52a9f2aee9e0451f3938dddf478febd521f607f5c9a8ec79adcdc527ae5357c2925db8dc6019d14a0beeaa065f5944d5a3d1833d13076f612b2927f28720ce9e6af671ff1a0f0802886d4f60c0a1763db2f5e03c53836ec4cc3496a5df26fbad6c153974221776b9d22730fde0d6ba286bae657408925383162125be05fc6a68167db95aa8f033c217341b2b5208c75bc0f71eaa0b0d1f9a594bd4464fc0363d2d2486a304b09905139c9f82b34ce8c7193f24f280ed67a23719513b9f469ea2c63bd21d1d18911dcbc751279733864f7d3a8d2ea022f476b56f7e781caacb7ab351efdcacaf436a301d3648019ba08f8bc65ab2d1ec8c9f02b3b024c219a762d1f086cef39845109496dedb2ce4b2a33a1abd01756a23ccd529a424e01121e51b0256ad328458e52f7ca1ffeda9c361a831e45343df63586680df0310ba9cde7ee86a2f0d7bffcbaeb576adee7557e75fa949d292a16d3c5dea3b9efd89e571ac58d078b923dd3037295a89c0f0bd4e27afcfb1ec0e1dce9d9db6bee6c08c87084104f1038054675ee61b46521fb613eadf5b4c2575f6f70ed681caa6c37c36c4bc7388ae8047114a7e7e52f53926bb1460ddfd1c057e29321a612acea1297120cf28b3f758b7ea9992595396d0d26a3d2c8f8db16efa5cc99f87437e9af61a3675266d5e1150067cf73f80bc5649c7c0c43df9f6d2a7f460c57e3b8e99732f9bb03555112c73fdda49cc333e44abcadb8c3d43d1ebc6c64098509fc80cde6d76cf35e440224ce4dc99c7a4f36b5d213906a35d62c6800f1f07a75bebeb36b9010f0138c17d535723b0ebc3a844543907911ccfb07a1851186c7d0956da5c69628d1486585788fd996f7aa7882e9809cd00e427a034d473387048458dc7e7fda9155af5291c353314d28b985295f8aab3df87199d4ec760adf378b35901a1d0baf24a616df720d647b3236435704b4fddadd96ad556d0c7b1e19734e82635cda002a7de265db5c518f53c464b71b4d066a08b649c3f58239d11dadf76c12e7a1528f92256a45cbf7a35f6b160090582beea6ba153f7059a557b04e09d86401481c0baa6a4ca15754703dc5abcc2c310a699767f29929ab2f6f1ff80db19b2131097cfb49160aaa229329a289a486198c8cf6acec9fc43505d0107cfa3fc695f7669fa47cf880c89d9cbd19c01af5a9682ad97aab5c6c35c26a257621d24b1fc65f4b793f60cad6a1509a55122224215486856090a27680bc52dc1be25c2bf8559c422eb3cf30f59432b57660f0ae480cbf31e6af6854eda60c0589daaa670af44a1ec88d1a19509571ecdd4ad7b6d404d7bbcf9a6ae4adfe0a0b25de4133a88bb443c7b4643510f41b12a87dac3dd7ab825af8718e180941eecc5efa53e4745887469ca5b3a258d0a6f6d818cf07766bf330ffe6ca8112d6690f21b3d3d7961ac37c1a875a53f2550967cd993bc5989de3922642377cd4e676e75e5ae502fb6468783f7e3e4b145b2ab059204069b0792be066e6edc41172663ab8a9dd326a118364d17f8c797d638bd45e8d26b0e60f0dce96231abd1581396426e833d9f3f25c18c168cc4c74228851ac665134bad17e56ea283e050f8ceb5c58e9df323c18133dbbe17dc117a1205b26f34d04a0278a0ad81e0676c7d75f28949960039fb000f142625f4bd65d4d5e828331fe3541db3cb8023d6ac2d872d04a365669667d7d2407a4939cf0afb72de14e6205ccb27d6317b0645f2eaafc11046579aecfbf97eb4317f149fe9c1890195b1cabcf2a3602663be7fa2dc5f6cd698fa7193bdeff611735e47b5661b156d515af6ba2e217a6a8b4dadaf9ea8de156bdfbbc9369b186b147db3feed4f7735457ceffb89645bfb40dda9f401dc804a01afeda2b69f2ff74013145c71a9d3b283cc2b97972dc1768d75d0abbdec981bcde2607b910f4434344eb4ef0cebe5d220520b2ec9e5107dfae7dbed1549a4bf78fc6630f79850fccd76239b090502edb7275dbff2648843b6e0f0d838bd9c0048188a77a7724bb068d99d71377582885025ae7e182c32f41b6f1bdf91698b965352ad84c72baf1f7b4df37e00fdd2ef9f4bee3fdbb8edb41854c9a49d454d768fe3491c1122ae96b12a51af0e1892c3d13904b93fc8a3547c0991303e728d61e760f924f81dbb08fa158a05a7abacaf1958ac95c465a733c84031313b6d7fadbb1e555c096cde628a63c3433891e065c6e53436f74f45e2a66b3597783de7238838e930d2f2fb9b5b392dd93a7154fcf0d63f95c68bf46ca2b1e5feabc9c15858720d281acb36bf3a115123e55780833ca897dbe9f080348d4ef00ba082962aaafef4a1e71bb77d291573fd6030344282108d1a1d0098f1b42edbb7846a4c40f9b0ee24cc3d92a1cdb77d8467019e725f7816d225acdfa58181f694e9fd7dbabbdeee91d4139ad07fa88fb1866be0bccdd705f0eae2bd975cb16f640a5e428ad61001cababfb3ba04562d64c7fc69a5c4ffbe2490ffa76d5a5ad535f8a26a6cbe17ce97dd9968dfb6e2b4a69739648c9668a7cd395740d5d8cc65b80063fe8937e43ebd72203e8ec3abe21c217698a0ad03000f0ee61a7f4fb0472471198a34d05bc74b370c4086c23f93cc8a4006788a0923954c6109d794209aed30b73ab123aeda925468e715b4e1b308029f5ae6b01e1a1420640dd791e5c28bc2b9ff5b9b53360463fa4cd297abb990fa6c576bd064bc2544f63e8b19b027f51da1731b3df41e7a9185e21fbe06a1f86e9a91ca160d0cbdf2adbf852a426345488cba957954cd3399ddd9bb7717e0099e8837dc6715e427fcb52de812f9da4bfa1b3d0a0552e9200f4e0d8f8903f08c1001b86ce8a5497c9781e258cea99b1415a235df80f3379c3d07904c2fee1cee2f928d722da5ddbaad9d2c66ac2e48aaa463d1adb76fceff9524c957565b03f88487a500a2d17e97dbf5635661aae4757026b245f06414bc7b5b35ce72282975e7f08704f539b83aea9e6db5d23c61f36a351868e5341789d6698ea1606b74248dd6a7fd5de6c56735b9d9bbf52b51c45d0814891d831fdadf81e724fb0a3b07d776244f0ab2e65b91d5497763e74223d3d4fbde4e99472a1312224535e524bb9829f4b258af7e9c2b1c379d0c7244e6b3f9f6e0718f7535dc4f405e42bc5954f981e6318db3cc3d9efddf627d05e1b8705c5533cdd8c15184f369343fe3bea1c34627d14ddd030c33587b1028f0c78c7ef509a01ca23541260303e3ce1ddf38cc7d1634467e8e9c75bbf9ad45d48435d4e8448d7cee45b8dba6c2d05340f07802a31af3a4376b3beebca4d06b8b116517908f18127fbfd806306f598cdbbb489696d921ea322cb7ff691c38b29d441e80401f286b23d23cfa640640e1a262b9bc3c23627f383bb611f5f5f6e7bb8ce83fbe7a814d8fa24f83741893bbba0bca1334530f0c76cdc64d64859f622db8ce2a0e5aa8ded267535424537f30d567899c55b039f74003674c24992a9ec4464267fcd44093c4cc75165f8b6e632004a0fe6b1fc83cfa2aa622cc1fb6c2721c57578c9fe05d0f53b0926943f4d440d1c72f48270ce28c7c335133b08f3f12be9572928822cd1146ab47ff246f80aaf2cfae2bc3be9cb1b19194ba168fc89ab7248f7651b0181f46091887cc7ea2e77fe9a7853d6e8554d47dbbbf58ad11dabd53036c81aef95aa16c4473ab5ca7568ea3976164af52560570636f0c8c0101f587ffa19bffd33130c973c8b23de822d129c17ce2058e0f55144bd946254872227d6650400de58a245007d67a9a536ec2e8cb34b72db2e76b493d00ffb4d4d3525712f620028144afd88b9fba5c1ca9496ec6ecec33d8a67de6c4ed4a03bd01b76ea6295ded233292424387110a501162a2da7ec93a365645bf4f5a7ae77e483f79fdb3de5634c5cd6b6f876cad0649b8489e299bc64c78137e65d5741686df797415caf1c893d81a3ed290496569f0eb6356eb260c8e459a6af6787d251ccee9e3896bef3a1f370433d11f554a07220cdf99a70ff93f3f98261be379f3bec5a2d45262488914ce8043d13b06d73bedd2283603914f34a2cb4fa853914f3637bc54bdf4b617e0b1c0a251b6501615d90fde23c0d794df2946aa83fa366df99e4d25060d1f794113eee2567b9ab11661d37d4752e0a98c7f52827e18cba2f989c6cc6e2575db77be20490be8de3b8965dd0cb7c21145327e0d70af49bf2522f43e2bc7e9b75a139e53dc58afb0b96374283c6c0faeafb11d5075785f4bd3ced93e110afb4658070b2a68ea18cfba139c5ef82fb86d398e8d9f57d984c022cff5b34298d015de44ecc7e3f0c21a96eda48355fb94c4460017acdea63c63a30480593deb964879789800803320a3cc515e46cf6c6d86237840cd0aa352589cdc8948a5434866b7ac2a334af14bfa3ef54fe4ffd195825379148c8a33cbf02600e737f703a7c1a1f82f2e8258ef099696b8175e525b6b788f258f6c28777a7b41675c5642a2e53ef81683ab389c63fdab29ec464746af9be888beec39bd7284f0c98e37761bce4be3e39df86ca76cfec2bae4d709c48d29dbd3b481ccf8abbf6f56cd414a39bf5447da22478393c6e232aecbd4b0a0d2425197c9ea0771efe53d751cb49401d2ef059f37e5dcbf0a600ae80d5a3cf5d66d2624b8774ff99df7f9ec6fd9074792c293299cc6eee410e60b602e7498648912a14a0d2fb26ae7b3ee3cbbbc06fdb16834b8a8bde41fcb3e199dc925bc887994ec5e42f3495834d79886d50efbb2d21ea567522fb30c3684935eb22819ad4b6291a4a23fd0df0161abfa91d2fc29db8a58233e4c9a23b87ed6b047d34d6121d767172de36f0cd33f5cae81024ce053a9147896f5096168dff9fb28941c956af445963de0b458392176d0719b9963779ff56ae15f769193fa494d7490ac4d47eaf6abacba743c32e279a978146d79c3e2a72520089d0cbad6e9ba367760886d292fbed6513de85ad4712485a1d719cfaa88552af6df2c1fdb58517421008fb278b41b96c7f2ceee4699b3c2e58209853807d0050089c6dcde95490c098f502c32b09c7a89701563437c3fe8024439c30808913b5ff0308c2c033aac48c06351de63c46604f14aa69bc00ea2e0b5d7e39ac1daafb9b33ec7ab47a5905b116d3150c6e3761f43aa9caa07aaf20f4f95b882db4618ea5ec61f98265dc317d2dfe47a5e3d81c4712a36eb7641dcc3ac46297f31f089759db4e3d110be1fe4dba34c36586deb5be355b947434c0ea45704c1b1f9e3c99e2794a5469feb5f727a7071069ebcf74b18deade433f43206355e904182a6ffacbd2eb7787e0f04f996ecd9e758cbeccad81a7290da14818ce4f470ee46a7e76b5f47f7580a5cc9b825066e2650c9381aa68463cf5fbf445d8b415b62ea413f0ec8bb92d08a823bd6e4622bec06b97963cde047893f1beeee1e150baa6a3dabd86bd81107c0aa0727fedfe68f5f6f1c197d8a9f2eb459d69c534b3563665df6f9f42452e5c77b86981deb0d1c8fa81b37a25e05d8521427f79195c65405f8ca1bbc298f493bb0bd0c6669a4d0847fe308e20e1f134c22034cc1f6a3399165fc6f0e4858c80b335f393df3dbf31ef15b8124df47ffd534c7adfaa1378d8a3686841892704e3d35c36797ef155e683b0f5b1597ea455efb1f0ab521f4727a4826c347e51b683a02867bcdefdd9b4b62550a0a806cb9bf35998c1b34101bf7c706d1b6739a200c5ce4982fc081c577667e8e5249ebfd9a51c06363a44ccb09058e971f1a0796793f0556b1d4f3141053116ce6df40e1b40d7c9ea32a6e9d55002cfddeaf819174df01738305364e862dbab1500c770ddf57912f93df8ec36ba3c96e72207dd7e6d471bfe330d7d691b79eed6f39c2b9541d92178e4d0d78e4089d4030603552e1ef0557a660dfbc012beb338388de2d430e56d31323ccc98e6e63e2eede20531f1664e2bc42b985be96f9e6290dfb715e776d8c79c3363f1e68ec697d2966e1a8a9c4daf16cac644280d291d2db28c9d4c8ea3755dba9e9e32d2ac5d5a8857c9ebac997d00583a3af64fac915354bff3433fb8ef39d14eff0ccd217ff87886bb87a41327aaf2b0c3258f06295c033942e57944653fcdac7ffc4350695baea7965da334622bae69d9fd1ab25544d4e28d15c5f160552b362543d46fdcd3afd8b44ae44b668df07bc897005b6a8768e789cf15501dcd48e4a01cf169ec069b8f0229f31d219a64bac411706bc3b35279948a220e2045a3993d22ec3ed084235cf0540028fb9d7ecb100f3726c8a6aaa1e8113c80bf09587a1a1295b5955859c96cdafafc237892e563bf68f2bf2134e5505e8d2680a3f30828fc23eff633d86f589a22110bfd08ec98aa479d6382dec3a4a2f9f8f6a7eb36546dfed9ade5e5d469e2e206d260c15b77d696a08dfe88973408788d80889e25ab13896b3f9727cba05841a097163ddf87b6c5e2317a25e6196db6d4bce7ac5e9c8851c4df98a2fd14e1b16110f7565e499639d5aaa4ac327eeb13f5da9a83b8e47811c4c1b05c2a65155a4c2902f8dca111edda4fbbdc4b04790bedddc3b9d5aa8195eb1ca80ffb338f8ed513620f558c80dec0a9eb795144d982bc6c2669284522abe56fa7b7433aeef195a08c1154f5f4c9fef5098fb55d91d8703e40a850dd1b94b2ed900e7973ee7126f547dc85e186d5c88fec70c942dd9e1e51b02471538cc6d7f0622dd090101910d88e1e0917286856faeb37d0b188dd6272a8a8a704f190edfbc4e2de533c69e540da57bc0a6269412dec9de01822fd434000c0e6e9576ccc6859fdf97eba82cccb6f2c1bd78e0309013deb4d9c7dab51df7c60698da24902608ec8ecf1160cb1cf6e15d707375650b0411855ecf75804fa7190aa2c82f487d26e7cc59142a786dcb8b99a7b116636f617e0614567570207ffb5c6628e6ba89a55c8190216f7d678dafa2bdbf73c1324db762ce5663bea080e0aa37ba0635f73239d5acc79182f56fd452b90a096ba4c4eccf95e85a0fcc8ab1f7948c8d7415f1740ffb61811675fd69e9f8c8945c3105fd383efd891a3605f02009c40fc20372d5c97d3b19ec3c587760da42b35fa36678cc5fae762a3e130ccc897c341bfc8e28bca68ecff2237a85a407a0c17f99869662b10795e6861b2f13ac627fe42b7d9f75e5fcc4120176b5e2f5e3bb5944d9a2b1aadda35f38fb6055cb0f0c06c3684de4503fe7bc1f69ad282bf7094ecab76d9cbb0360b70b2550734fb15eee84096b31d099e5438fdc5d5112bcd3a9b651e12e7b43735f9a7973db6eb1a0184ebe7e68cebb2baad1a464e5de16662842061ebf1885e2bd0f21a81f1010bb0341319a7d951c03d153f86a8bc41f12aba6e4edbe4914e5299a85ffc7db46f51728469c8e66a1d265c4d86bc7a449d96ae833df45197dcaa1b87da0c4885c59a2020d9ef5338de10ed13057863f4edfbaa24da6c8c93a6f96e1ad498f0942f8993e6cb956387bd3156c3bdc3880a16b0bd29340acf0744ed51a5d243f52b6807771b736dc3f462d8b7feca17fdcbaddc2860b0966c4ce98f4083542fce65ffb9bd34ffc02c520e8e6764fea0e6cf989c6f7f70beb94c1284ffa16ca3cc8f18abafaf5a30846e5a099e300ecc7bd82ce803f16845cd40dd17cbab381bfd63fffc298cbc3a0010e268b3fd3ab872e0a9874d113ea261444307e17380a7b0cab6cb9d3ea17bb4f38340059d3b34fa039e21c451cfc76d52d4dee4d85d2e956a9a4a76b777de723f59e6702f32cb925dbe5a4f4393f0abcccbe903e5d543284c18dfbebee541e55ccb2443b4f5ce8dce632c97babfeb2dddb52cd5a9fab6c803e0103b86ee9252bcc4917850db488ab4c951ff8d1c0f63258366574ef8d192eef4aecac7d5346446f9ee8ba4a169e48c254579b68c3d0219e637b73504afb21c93fa06d36cbbe0f109591edc974e6eb912af588697286fb8b6e7017cb9d2ea56ec996e4f509aaf73989d1ad37657847961a9663e904df515c37f2756f4d4f23040547f0cefc8380162f5b45c463c02e2606fb99049569c66a7af04865116d38ac6e3a16dd0621ab3adab31b0c18a305bfacb277c6f40f5e518b534f862c84c0130e50c2c8df913099966c9c74422e535385b4745a1b86eb69e58c2f160eaaaf83a7fb54e665e3c56efe29c1c8ee3e13a6cb1d82172261862a1946eb8b4e543b25334ac23b1b90386fb3a689b4274143847d1ba5e06ea8a6a99e161adce057cac5752b34c6063d5409b6722381d13aac6a831386eae7d9bbd28bcfb6df46ceeb784bf1c5168cf3d6054705c0df34b75b9665657bc183d9548279e00d17648155fa00bd1664bbe23904b75dbce2b7504e85a3acd1d5dc9139420c50455fe41222a2df2a2b34a706dd0ed898929e236a68ed0b1e33ab7a1d94cb23205642392ba9ab62f1bb5831c21a10dcd8ef8980ad6f236aea77461f648cd582300cdf76ddbf2ed4876ed157968817c4b3874dc76d0735c1cafc671682161a5e37b91d1035d0e3185263cbd0455a253e191e2856fe4fa6f09751871a663af73d9b034ed38d085fae4e1d7b36bda8a8de56ca6dd1a252a2caffa4229dbb53bdd9c4aa163240cdffa26104358955e0b8c2db116547dc71aced57219f5a3a7afdb72385108bbb3140a5cc5c1ceb8ec5ed545b12b642cf02fd700c7fd58bf951df68b2657c04a019a3e420ade3fb4665a0d8bda5734e46a675c4422af4898a407775995876aa24c63f076935e6a6afbacc7ae613015da2d772c70c9aa0ee2898a65fc0e153372d9e8e00f0fd4ddb1c3c1edcd0d02eae717abf6a987f80a02c6cef73424f2c9897720de974ba16a249dbb9e40167de6d9641b4fac0a43a70e6128a10d64c51bd9562361e7e4a453cdffd3d20e4db0d9d28ac3cb0308680cbbffaba9b26e1fb7003e72f3169969dd1cbbc2f099dca4992244fe81e84940b3a668e4ac304ad27a1d36c81258027dcebe22b09b3b123c15eb914de746ecd3ce6951f0b9d86342df9ffb8f22bf7421121f353c7058467d46057f4b75109271d74f158c28c4e360079a7b011f307105a93cc1bcba8231433a0c409333627185b3668a5c43d407bd08a517c1ddd897bf2a1816771c3db6ae76028bbfa69aa8123c1e46c723aec1c2b4923e8c29cf3893274baaf9f40ed1890f3488313d64bffc2129fa4479d82ac98f37f53c272c0d613323208dc7591d7b28bd3e172c616e41e6919d56d6cae32f82134770549bebe73a434ff4df15a68db2e718e20a554d18d73f796ccf1a72351f6b7db53098de463eb8367f4a6ec7f91e03007872a5fdb7a157db95a2e4321d822a0cf7d34aab800d43989b8c7e11388da3a967470f2ec896ef8f612e3c078a71c55deac85ca6b26f98029590b4ab127bb50181f7155d05c3c83c01f58f844f7f63e2c0388da6aeb257e76cff7b19d3ef0c359f07f11431c032bac4c73076e0f4cf42d9f9da8f21cc5a7cfb80308d07b1701656367fab58eca7819b5d4c260ed737e6f316d8e3e3777f9b94adc35e967e8883ca66a280909f7bbf3f5fb40b34afacdb5a4e7bb3c3d82b26d116d26fd1cf2ded28461dbb8f30fbf391f98d7be938d2d703dceffdfc017e3633a9cb83c3c0527b8904c4f83bae1934aee6a7a6a6076f911c7cd57de1d21f0fa37ee20413ab57b126291df3ad10a6afdf336e2c0b20861f2a88b6f05910772e48cfec9fa7d9c4628e2ca6282bd59f3f4e762bd97b225fee7391beb53b252faeb2cebbdb58f071b15de9f8561237bede5e3a71e221d69fa952272bc13684e1d61f3841c4ef4614114ebd907607d8c34840539c9ffccf76497a57106c4a81bb29e67481d18e59130536aa5f1b203dc56b22eaa28432c07377614eb2eb469011fe1e077c3b097e8e40d9fa4eca3df16b23162c6ae9bf60a7e1dc565df322f404135078ce03ede0120755b63dd63b157c771b2c33a679ac13200b2749bc3e496ad988ced151d2909d0dff35352f9d0e98893577e33f7c50bcd6f017974d104bd4e6522cfd4da43bbe2405a9f6298428b6619613958bfa552e10a5d0b1292d69748642a0c9e8938de4b1b5950545171240f15590f9cdb67275ef2d26cb5a5d9bd8aef662c1849f8099c6a715b69f09585fc7a2f9a9de022dabdff8b93a811952ad9913deea500dd14adadda5c9cab6e97c0f4abab1ba0be6dd3935753c1b1680576a67df7233a7f9e419ac45b361f638a362aa90dc471e7a30b338a59eae2929ad0fea640fe8cc30a47b24dcb39a9898cdb43dff6d6db96168a70f5866bbdec63c1617c06375b80bf44ca727a3d97618651af8fa65aa710a0c7cbefc133811b51b2046deee8d1175af0054b90f763ac81af6bf8beefe543504b233b09c6e97a32ba824847548058ec0f107658ffeeffae70d53b71133e1bb0e8c8bc9dddba70a4d8fda0aa7aa8cb367f0c3440c1d740964206c3b81bbf7a7e65e5e34498f19e2e3f619dbc6da64791c084f2b85d01582ce7b07bf30878994096ff824103d9809289c13f5a8070963056dfa6f13a62ebfb0cf6ade4c24fe0ec8d356854ee2f27b1ed261203cc962f30f5197ea64c894045b5b37cdb09746fc19ad1b00dae58fb4f880e9b6c0992d16bfab4c9a93e02c8e92a9af3d17113bb73b95f662fc56fc1d2c651218197f063a78192b6f80a4242f0f053d7c0feea23aa1f69ba35ec409ce1d3f7eb99d8de1b9ec165d84b79c0350f5e42317ac43176e9ea644844fff13facd75f9effe2f875485a4031430dd3a2bea25cf4db09e71f506b0a224ef3e17b851073182b212aac1680669039e41d80d5d03b6f355721b87e93a2da0352de6c87b9e01e817f3bf83744c62d64c4fdb4b169c219dce8f3a486ec98e6a8c4ae51131cc6a3c1ee3dc9512571d2b5cf6295c36cb7629e3dad51277f5ab700af611388c5e8e83605b4c111809d79ba4cc7ea6d13ceaf83f15047c7d1f912e16f8fcfae34afa038bc0dda9412e9001c1ac230e641e3423c8389102dcc45643ac6d68c6efcbeec2bb15dbb66d9ee971e123b6d8e85aac909c6055e83a08767b526a609ab8626390d36b2333e12276a4d50b39c623ada8f3719dd9a07f55b6a6364f4966fb49bc103eed1593fd7610d2b032639fb32e16a876b65b51f837c57c8ca62929ca56e43f616fe39787d0d6e56a769d76247c57c07dd8578fa177b68da539811a07cca0a9591b851fc86fb9e918da44036e6f4f479a452db888341488de7d275ab3d4714d0e0360b84adc77c72ca5b024f01a69b50702593c7b171f66065c8d07c78979a522bec28d5b0329c1d5d3da5c28b77df0db875b1432d62462e03cf426a4c4eb14eaf049da388a0354391558a263275f9f0111ec80080736391f9d7b777798fe90a4e167fde7d607380029cbbef898169c29df2e6597247228367bad5aff692763084e0259105ac01428578e9333f127a804009ec40bb52708806b3cc8782a94c891220f923f487a0282580370144f96b2871a6c23dede2ecb5561f3719fb2e3581bca795d8670a5b57d60aa2f7121bdf76979c3566559dee983098966f0c72eafa3f2b7a6ec2b813e89f2b9acd1b8fbdd2ff44c33a69d111bdfbd0c9d19eed6338b6c020fe9c90a33b513b8abeb9112b1495e31e7f11f0738d1b8bd5635173626c7dc27f736f0366451e02f89a524ba563d8babaee8cd9d970363ab81050bc8bed396e85efa1bd4c9690a55595ee27c0ca49aef7ea6f7f05a4bb68503256e93d3abea0694134b78b01071bb456aba761240cb00eac86408062f3e0f8cbb6b42820ed9d112d2c071cbe168f3a181c2e65c2bc63f3f6e1c3b8482523419280bcaea262a1c8a4d5873755ff5438690b385c2171997634ad0e1e46a4b7620ef1b9e11e7c3f4c11d4c98a40bbe41568270047a4aa01e5c2054bb1b04b4e3e36a81ee98d69baaca78b962028c0a0dd29b8621c84b774707b4429e6376fff0d967afb1d598877b36982b0ac02de41f783da1a7792eea8edeed79afb64be5781f9ed83688f6f7fcba62278f2ab56d613c7ce37f99aff1909014e23c9839a6757abba2cb08700d83fd92a804b740535725ef077ae439e3ed6b065a2a6498504287a3c7e09a0148a4be4a0e1f7e9b48434b025d2fdf2ad8d7e92abc48711b87cdbb4fb9578e701833bfdf2e05622ec10e60140d773f5ab90e59ecd2a85c5156cfde8f9a6196cd049595d0824ccc47fd1fbd57cc4070a7c7538e0d06100f242fb534aa52c0ce7fcb7587e7e8fafae1af0f42c5bdc1cb6d657eeb3f6a8d0540dd2cc47bc028f7f897064ef6b1ad00d165cb5b32f22f8e933d9989f941901bd76fdf2066f5d7f03272f73df26d35af92e347ae8a41172161089405c10aa6be29475da47f35d529af48759fd2ddccc07949f094342bea62aaed8a04a5ce6da34f8a019d0de1d456bfdfa472445f181b84059435c727b31499bd1c166cb3adde2166ed14e054a9634f319c410bbc220f6eab45335358e70aab30dd8fc544fa3f92bb2e1401014d52bde33a631b4b21a298240ccb5eb6964950cb127ce92a8651be01c54174f7000dfcb7723c9ec3abacd06bc1fb330c5c357971de250648f92ab1fae83721a704239a577cb063f6622c9b6d544d40e37ca570ddce810c04a1745f55c5e66c12e3d94f6703c9d9033f0a1e4964cd3c0b9bb84e657b777b3ff92bed6c84d11ec1f8be5a31041bfdfa8a62f08d7de86ff87f2d45d3350d41b0a55d9ffe34ae1f21d0d9808991f06aaa136ee74bfbde82f2c5b56b7c433ccf4f6e103bbfc737cc6da84ce2b4346735f5ecbdec8a4910c376afc0bf3fcc918a51a73ac1ddaa786eff07c6bc772dfc7f26fc424c5b9fd52df1f42c52aed497bb39cb1fe1cb268c20dc755b8209b0db465374936e57f70004aa881fe0f","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
