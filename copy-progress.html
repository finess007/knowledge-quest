<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5ecf65471ee09344301fb4846b77220c6a9de5589c0ed6f4dcb22de0c1375f068eb67a4c1851c6c31426b536427c138d73abae252fe31c31b85379071e86bd9b02c9924e82a10b3e55e0d74044d6ae5c2a6c85082963a4775a2e6e4d7b64959c90623284d839d478c019db40ff84f5128fa592b861736473fd282f8c36f2d08e09a967d64d2e74b8ff2473d6df19397c260fc12364a0b25102b8294bac64cde352d325b2a5f75c0a044d77aaedfbeae7cfd01a2b24a13f34690bdd01a4d22f6166c36f0c3b065760380ac527101e6a076acd96c8cab37120f0b28a5e499dbe38f5376d6b12ee45097eec441a3ddee6a6e2820513dba922b7ad01952d08864f7d2ae8f6c7d5cb0b5386931dab06b5e24ee6f300179401893fbfc748c19eef41fc8f58acd3737691d0de43f07da2e89f0d2fc7c7ce0c25d6ccdb9dc178817e79c53142c7086a43f96d143aac9339ba0d0e94b6e1958775c1c09f379dd52e0616018689a819a47baabc84fe3b17475b31c1bb871d74b08bd996df1814deddfb96d3a09e8c81818dae6c6d3434106842dcfa5c337a0438eea522d8ca2b230c1fed2d82e114c7fde8f1bd8b31615460fb565b7f84339583ce6b50e837b1685a611080daa2ae3f621b42b35b12624c79a68be16f0f4391714a9847c3be500d952e5ecb1c73f27c8f5d2f4bf3f05255a24a0743ba7dbeb4c4f149b09ddb14a0b66a5367ffc443839973cdbf589bc5425e35fcb05f6105d9ea17d1eee9f04392d91d35730aaad5ba14399dd14c9c3276a6ee268582c6abaf6b6d6334ed249f0cfc101fb428248c578fb2808111b1f3db9cfc348009ace8ac6c2c09983967a8f0e7d305d4562d6588c95db00d9c2a8ee3430bd66bbd05e98c1261c688b45512027c0994343c1b2360b20e0d85867fc1391ff41ca630df66b63d3a22b40bc9103d73320b2ec3ebff9d175b11542e8a053eff3c8c5325974c4501eb2a4c3ca6282324d5021b4fe2948f8818801f82285b4e216ee36567764b9e54808099439ddfc504bd61c7e34ca00724c9b4e8dcf79045720714b2d4b614642f524a59f0c53aa0680383434e6c2bfecec0357ba5cb9d4408d9a0344ae9def2d1dd0ac9ac0717c38cee9375b6429b210b52a688746b768d6a230fd63fd55867cf986d3f3f41bcf7b83289b4baf3825e7296dfa76fa54284db0795ee4a48bfbace3ee0b6aecf04d4fa45ec188838d27b9b657b2bf11506a275fe77f3c094624e2059e726503f45179e26be4cfd4e4bd81f13da56a8b771c058bf913a424166581f652f056ded665a40e847475f0b0cce8ae42dabba848ed54b055b71e20d58abab9454d74898fbd0f03ce2b43a34452b4c951d6c39cf655600a0362f70f714fb4c7a369e71856d18269a3960a604a3ab0ea776cef724903bd4f5efc9d4e39ca67e0580d21bf4b475c3de12d7eb41741366a0e2bafdd1e32ce9560ac1f2bfa7f72d0b6118e4ae0c3c5370a64d0226fb1c983a7d38d3effe97251b24d857992de674be776bb6bd217ae59c444022ab9d5dd483a818333d66636b840edc3f744ae09b6967ceb5f5241b6ec676f99414389f4f415d39a756f5f5660b247061c0f65d550ecbde17d4766ad902922279693bd98e34ea0ac7e2f6cc6d6f6316167aa62082167615ee78f9e51a0e5a1de9e7e2954e702cf1af4db7823a36075ca290b664c030471dbb40bca518b16fa9535b3bc394f830490209fbcb785fd14c5e4212fdc582b93c3a3f7e87e238323b54861c5168473dbe62dc93f519db22a6e20140b3275a762fe058e6b754a22455a7c6f9d720b684a5a935963196346eb2bb4ad79b80eaad48739f394dc2c58808061eeb76b5ee1d351d4029281b5c60ee49d337b9d0a835a560cc0eb4fc04d8d957936b831a95bd97325e0d174d8ff18ff1554d466343a46e970649e731e04139946788f815c92082af1bd3a4102fb6356e6bbc5c40d8d72d602dc65fbd64374a657f5bab9ff68074759557822f4d883a0106ee7bb890242d700b6efdda970de1d19c84ff7337325de84c07e0ca15d0f041a257a35ac94378fc8c32515ef3bcf44093665d1afeea3b26d39d050b8817a1d2bf37a793ddc2c13887aa786bb6a5b249103297e3270d72442dd26cb2370e47f206eb3301e495c36ff6729b6b4f37ada85764ecd271164128cb502dbda0373d6532622a8c4481f26abe1f3448703afce8fa1d3989e442657373986bc2ef04be7be2f41a17eb41a9617c54665256a482077df4fb7292596475719800d54fd456f99180e6a33298c466ecd216d06f4504a134dd69fd06474eff91e00d0112ca6a196150f132216cac9825a7acea9f21687e0fc420d531e5e1a8fec7389112857bc60fe5e22d72321dd60a19523352ba3ebfd0f18b4a79192dfe3b97e917ff115edfc4a5a6ca0bd05c0805d6d513685dc5ce67ca87de01ee8c51ce42f69a833a1b8f4d45a63721c5cbfdb1da73d3e68bc0073783d7db8a670f50f6031faeccca3c304d07cf1a8005901a6a1d4e114c2596ddc0c9ec521cd51ff566d11dff13629a57f2989cfe379e01d5af2d25d51d0f32edcb530e00e7305fd15bedf887104a2c8bda4c6a8d0daf529e33843ec80cf4da5ff496846c6a1c354dfe931651f205ac482c898327c433f9009ce3737e697b6e755a8bc447350bf47f9c39a34a07d5c7021e1c676969743916b3ce2164be5df21d25ddae7b23f6a4c43839856e23624aad06fa4113697ca431a39e78d9c041a15c7e6c61044d30819ffb8cc9f5451b0bd59bf04c12d5c91af9126720c2a7f20e6ffe3acfc041dd02603e8f827c0ca6a8bc08f2afc382d1410e4deb3951a64a318af81c0b7d0b58a6fdf6c230ef919a0b9e8042146f34d06005425e15ea51cf347f29339500624b26d5911c022a2bad79511c1db522cbe5136a04b23923ce04f57a469e81d4fd77d731016710c54bac47b6fbcc8f30958a88c61f42786e649ce37d8adf719bb3bfc46e6dec5e09bf047399948dbc9dbe7b4d22cd0a82e874cd561faa4cb3b3f29c48999e1f02ee7833b93e968a7a6d87be05e4d0a80e83a55b1c4b1c43d924c02cfb783fd0c0270f20842fbf0d5961fc1c6e14c5e38c5872981a886a087949e7286a194fc824a702eba1473524381999123c5a26b468dfffaa0c336c5dbd768e7bbb5255896ea1d396e2b1ec0d33c83d5ad512816ce638e883d9c4f9d0b92c62daeb1dc9be22e2689e976b43e639f117e1194d8282c1f001b35fd790bd2c21b2e0db75a70f1af744e12a834f84ff726c27d3ad7bf1e32f5787414ea20bcc096667ff8da785a9b64ebfa048f8351bc9f5fa2dd75b76f6d56a28eb7b11a85daba72fa2182b5fb95822fc4fd0e3a5bfd1dff935ba6a128217b5808c0e39ba42b239a4146c0f8d52e25642190df4c337bff0f93c77b4660afd3de1d861d861998d11c078b880b85ef25c2a892ee3ad255324f13e74ab69786b20bca270b8bec6d105fb05cbf914052ebbb64541e737fda238ce409b5e66d158fd33a201c66eb32c9dd2af515514da87ce627f925929d23fe7eca5cd6f058462b7899be22c6c3ac1bbe862957d0f88cea976cfc0b7d17778109d4bbc47491f9c9c610294937d58c150e1980fe76005e52ffbff7a642acea76d53874d38d30d1657804d0160bfe3807d4d877b3540f97d6ad5d0af6663dac933dfdeff8a7e0529e08ec27a207439b94f4baaab7e3c0ccbd76bd69b98afa0e1caf8351eacaa2ca2db30ed92e524895064b671bc9ab756b00a985de9a91520d2e7ecd8510cc3e7ac764ca2ed2ca43a4bf46e8ceec25864327d7087c2c7d8297da9f42a1f5d63e6808a622a4fcb6474bf809bb1f31069e9be6c9eecc68d9e01156eba08a888a5d2667c71e216d39af9849502b6f54331b54c6d2e3e008e9f119952c7f0ed16ae16b9a74ac426cd345ab6ed69add36929437e40c706e5ae31107a9420f1d004026d42887a7edd6098dbaeccd6f1ec99dad61a1e197e830dbcb565d59d42dd3ae79fb2f2db55a970c83e564acdfc1251a031e6f9ca1d9c5b16d3b958a3ff9ad70e0f07200ffd023ed35b111746901216209bc3f31d66a0ad3a136e22ea356f6967a05f8c8f4590883852883f4f8ad69052d05769c7b72e2e6ecd160f4f9889b401fa1148d1228b23c9698c6a2ad20c127779c48be5dc56feb3f35fd829a2adf263d79429706e70499901bf503616959cbe1965a5dd0f7c467785130deece3d6a4d5e5bc4face9f2f10a9d05379c33298c19ef748b06c640ba19434589bbcf9e4b05b7fd33e6d29334f43de0672921b626b8b5272d5bc27d9d9ecd468d9041034aa644c35f89725ee6e8a84202ba799323761d7c2a69873c19df99236d937a07fc3321c40a7d14e96b15203760b9c4c87a8bd815ebc4c80a38a57eb353e3dccbb0ead303d3ffd888cd62669a486635ead959a5681b51024d9d56fa1b0144dcfe07b7fe8559aafff264378464fa1d968ccc0a19177ae20fc0f4dc4cd3a24a2c0244281e092356db7ddf6506df01b031ded26505e1d620ac20b932b485cc5f8f4aecacee5afb5c985387e207c01d63134fb0d18852b7fa75899bcda8b66ae7d2716720e8f1d402510ec37e4264e6e586da2511aac16c1d953b76153d66be2e7fe526707bc5de630d020f49240ba53972b9cce1a22533f141ae1dfed432438b4a6f482b9fd7ef2985ac42adc791de900a5e647c64115ece2bbccd06578b306b4ee4d150685647970651c0974791a5a81ee03963fffe45600d1199d830f115c84bd260336aa2c54dda448930a7fb03241d82e750878318b760458dd9723f3ecfbe017938e2b0d6c86928dfb0eee148199f3e38d6bbbdbd712572703348621158cbe53e779327ca5a101d908bef38917ca94052fc0de8b3bfd17b86416f7eb409bfe0bef1e8740996050c757101b0b5dbae05a7a13a4a3dfaf764e23bf5c8e8f7dd9590d64065ab0c42ee8154d9dcf6560391035322c5fb013e5c312055ab65ab776cd9dd265ea077dcb7d4090fe61e00db1ae9d863a6030d1cc44c5e1d87fe67bd6c729166f0f05cd513dcebab5842cd4395ab1fd53c7aaf05849ad0c8f8e50338c435a081bddc43e6a0b6aea191522b475e1dc4b6c4fb52b40fae1aedbb314384ebeb3a6faacda133d7616d844db5d1f8b51dfe2b6fe40e325ef69d29d5c81822f5345ac5b05f1e7125a7e674c4d5463efbb4523f090ee1bf89df65e26a53c14c22747d916963db7b9275cfe70a291faa134a61ed41137171766fe1c2e0756f3b76f1d55c8cf82cad29c2b0c69db848183a3f0619264000340086d99cfe6c1acb75f4450a0569a577f639505c84bb60cd3a99306816d15db85a127f018c8f123701eabcf5c89f3787026c8274ccedff5e3a9bf256a7d4469f3c576fc6a58348e2cd2f6d07dc9da4915d43fed2530ec57c713100c2e0a323c575de4378df486f1fcd308f055ef1b0f22f289451f20afa628381441bd76629956c62bc1201c37584f2ad85ea2da95e38b9c41782f3314fe5bf1223d87122cd3af2dff358279094bebc2e0c392b7fe627354dab1db1c73c330568b308508a870b1575d5c197c8e79a5441ec9f5a6514d16fccbfe5f512de8b64c6e230e257759566d1e7929b80e8b81c55681235830b64e7b77c395bea423a88c72dbb2ee3b69262ea22fa292f920c1985a20ec1171ee44f0cfd9ff4d537ff54ebc471ab4f18a0be3b93963dbbc49aba849890837aeea2e4558f685dddf8033a13a9bc415810a19573b57906e9901902bb98045ec99631cc453d77ed51dedc67005e4c1d668cbce34aa81c3711503800b387a1693ae367de4a67e67fb0addf2211aab07bc7b80712d726d5c2a10bc1d4941aea96e981d7d6149dabfb3928f1a153a5bfe23a9febde7690b4dcdd5e56eec3b58f61b4e5cb51dc0bb22d7aa62fc813fd69e97efe22e28ff987bc1fe0539b7692b5fd419b59bbd6274d8504277d790324b139a80153fb4a985ecc985f70f1178eab19b370ba672f7f7eea526efe585247788568b2100753365fb6c14805b24cf8e6588040a68c1034c1b0d1dbdfefe700eceed67c7ec2c51bbfa763dcb2c47f163bbab3854aa24cba9b2de52692c7e781704f935aee582f802ec90f8a172a09a9bf8df261ac6d04f63e40c600f7887975c82356cc4105b39b4d833bf590b70105a5334115d61875385ccf1e5f6e87e531c62671fa5983c29e289869e4a718f5d0406c81518bf8c608c49180533ca8687b219b4eb84935f841ec100dcc054e061d2939a41e52f8255c8372f1b019c1c03020fd4b6e950f18f540814d79c572de8ef0e8716e7826485e936707ba1d1c36af235fac82588194cc19236703437a6ab1e19c517ec1dc02ad5fb3467f03debc9c08b667475326b91cf2075b11df15559a1a37ec8f25ab646d4a87c7aedbb69d05d6376c0d8499c3e770d1ea835b1769c4809d7199a43f346a5ae72f9d9a186a673727be70fd785ef06c27fc21c876a38a504236a8b2a7f8e6b823fc0321028f154a98a33766899f579de59c8b282a5c8fa8b931b0a3493540a3c575de422c1b7cdeac559c31237d7d66d0eb463a205c937101f4fcbebeb5c414635afb70e9b3ee59c41f328019e71a72207575bdf3ceb26a5e25d6d7a880cbe949c1b09411abe1525243ab9cdd20ea5ee4673f31d65766ae0e68191656fb423c279782ad43f538f551f6c75ac66da8976f6e6ba6e502143ac966609da2c13b0273e6575b936e193dbdb57423e24340a27bedefb2e3c39a0248c4ab6a6615f9f6518b6263bd667e8023a44c8fbc0551b5aa04f37dce4b3602f2e815f5ed7fed223d94be3a254e96524091e6c09a4ac515a752e5000504235f13ab098baa75483be5533bf9a531eb52ea48bd507f07622238594c7770c4c35fee40769bd54a06db15711fda55c62a3cbb92446995467b5e2de7914cd403de4b091ed7a39ac893b8d0231cef247ddcc114b10011eccc9b8e163d197dd6daf93526d799d4e4d32bb847cbdc952634326241833621421846fb0c8b9e5ac77fcd2d8b3e6111377fbb20fe048c1aaf3dcac80365eeda83b95a9f217fe35c347c7c8bec98058415f2b6021d31b86d388fd1ea8a10a9b3d59efa915a434543b9a88d951df84c1331787bc74e958212f14a250535b6ca66b751474f52b3fa93cfe7fc783c2bbb5f1c69a2c09658f6df904a3c42e2b87e3820e57694a16f559f0de6c0cae31fead34281dde774a69a5e45eba5dda5df802c49806849a2dc03b44f15b4371f635610c826e9776186340788954e747332748586994d516396b5693cec7165cf2db4e850aae7e3b0d48c2401e3191e7992744647fb885314bec74bcd31d1c26339dec47ece2dce0096922d597a376ead1248b08867d7986dab67118fc881ff4f09c8f5698cff270b8127930555db5507b7f7a3a77e91be978cccf3eb5dd05895e1df9c89e5b3b249b85df0d85a746a96f7bb7c4e830775a211a8a9006b3af73ebc2a5821d5cb37653dade8c321645f275b4c660943a50e89cf4d0625ad95be1dfbf6dba6b333b149c4c2eff4cccb21e44c4dfd634de2a95a49b606130d851823654557133ea8d9f20671dcd1944a37dd436d7ff8cc6ba3a127559beaf3e135d76fb352826a3c22aee337159208a31639d5eb9e11c562c19a5db0f4fa89cff19837d957e9eb183f186acea6e8c3fa09b9a1241288487ae90a5b4883814ece053d46a34040c06210f3ca1e12efebb8f5980e3cd96fb3075b7769c2c8c490d11a8fca0e2cbc7b1512d168cfbf08a4b20ccf76e9ce485693d44dd311f85ac5c5a3ab6eb17628a2033316c45f776e2b028e3b8f3fae520ec18b07c161455a1d7d8b8dc4d49fd0fdd4a304c425f57e7019ac172f019133572d9474eb22fda0ad81cb7afeb5a6987d9ae7b2e741cbe088bf8f346f3889518a4a2e7f1c489fa592704a157afc50b1bd6746d6680ef477130a969be237e9ece980f4852526d2cfe80db9498de444cd74ee3ce6e3ad2d29c6012f3a1bff5851d3d9f082fc8242695e5cd4cd479e46d3be2ac9565c7b3e5e4f89d00047e703119d0d943fd1f49f1a457454b6c03372960a33471ce68f9b1d91568d047cc2a8804e7ba8fbe781589c142135ec05ea6f2be470a68dd8b924c8f61f64283a22397207bf55355ebe4b74239668749b10c47d37420207c1137c0078abc11309bb05f8f85fe51b62dd1114b7688f19e13289eb4fa13bc0cca8c3d100dcbdb5c79aa96e72bf330aea9d904fe113d15cf1d8cbf4cd53c85dfd5b211c683fd8c076d787af75289ac9461021db24749aa9110e127f9bd4cab015e601ec206c624bcdfb59ae1d328ceb1943ab5770c1fa91f99a8c6644d033f19bfdc97ac9a51e718385d5fabe03fa86138befc9e293dea5ab964b0853397d914ee79cddd2272926ebee76707e4a46d7cab05b0631f52dd6c97766d4b73101e0b97ddebab9c4e3efe99181a0bf06eda5fec18f58bf5f3753dc9daddc47cd0c656216ea66e5d7f10453c9dc63be3d1245f5b24aca7894117fdc9e7a61b940b18833667b6be75434ae20f9c80d6355e2259af9491286bcff48b66454a138f1e4ce37a3d0259b0ba42642436510452d0a454f02429dec3135c9d688293861d5d6c30e4cf170d116e8834defb8b199710cda7c5a9ae9d19031d196bb030a0f515c635a4fadc814fd934e1f6cf848b16108675aa4f3c0ee2d121e84faf55e928902499a5a3ccb3116f85efe6dff24d38a8f39852e0dfc13ab0949dad3e06bbd74a0777516293b8b6379f737a47fb5589f8f7c801838233b852810228b55fbd42244455f483335fa27b9dd25923b606a5f7987f645c52efb12d83e72b9e4a66d073aca32943e71cd3dc7dd8a526ae428e265c0abc1c6014b0ae038bde01be50f5efebe43eaf971b6d953fc2777f41815a8aed2fe96600820b0c7ad580cee05e36ee922774a9ad8003fb7ae6ab0b2f6c882a3ff5559a09083f41a521532ba9e84b5958b60c2e2a2afeade41559f2fe8612651fcb80a7524467ae38e988a1587cdddbc871044999bfe78e199ee01988e3e8205a6b2c13d81a01c0b210e90ede41645d7525e673011ea696739bc4f86e780def7f1e0108f9cd674239b1ee23619c50603605a47a6129b3f1d77973bf6052a423b55230ea6b5c2092c8231be9ef8d103710c96a3ab4adf42ecf1ed5b48ef2376b10eaa1e24339e0529d199179dad511094b0c048cfd528fe2377af65cb50122b690fed973b814f9d2100f9b4a266153a7a197e0c7ab2d51f6285dd4b4cd98ffbf4d7a006e8082d6cb87ac2a56b6d8fa27b0477a4b9dcfc1e9552ee0629b80d6400540e1735e9f3aa1ccfe047f30c339d23e561e52cd8a5b0c9301b27562311926b1989fc379ec26f62175f8b7d864ceb3592461830a37faa2b27544947c45c6c4a713fb8d59c4c4787d0011eecff516b2beec664b5c7d93eaaa93b8f7b7422dddee62ae983a84836351e48d239de884321531ca67b85ac4a0ebc2e3a8004412554dc6cb60192b7f28eaf988d7b34c226aa0529a3c1de6b65788a5782185d90e463b6f189df37711313dc05e50346c69df0a62ef0d72f98c9142af368e2e0c95eac803c684136f114dedf2dc55d1a97613c3882b207cf89bfc590795c0343ab08c667a2d6c1af83939318b09e899292295e593c6e57ac0514c0f283b81fedd4eaa7f499fcf6f9f8aa8b22c4bc93f3d7b280c77af678fb3fc7e0aabe345138ecabaf7ed71a53b326e9ca1bb2681b725fce08d39ac12684334a294e3ffc30b8117332508ffec052b894af79925476f2a2099a8c02d528f071c54228dfa44127af8d207404d6d5d08022b795a530d3ce1066f1325a551610fa994df414e1379b91679f636712c8dab6bd93374e7220c39141961fb990c8d548ce8ac067796d55af2bda2f73f541e7d71b400f81b429d64063950a9caa64cf92401af8649a490aa7f8f42126b2c9ea08ac704932e4205aef52de0503f22ffa0fcc307ff55a1fb458abba48fd4ac6a5623d0fffc2dc058d9ce7d0fb25ecc63f5445e72b348e48f1987adbeded446d715243cd8bc21c10c74a2d53595b55d5c522980e222101166ea9a51237651929c26f99a1faa78111d056be1a478d9144d9e5a4bbb3312349ffbe11e9dc704f81082a7b9178b3acd4a59c414438445b656e8156cb9cb1b9da4a53de3918f52f046a92369c8614ee22238f8d23cda794327abd15148b9706706f80809fc4ace60b84a236814b9ab2a83e0d6841bc50b7fafeb7a2154d6a68c455461a3108705cb1b9843ef9b109a682cce151d2b7dbe2adb15bfa2af39ecc85f635cc51fa5f6af588c2758e10253cfc23e7dad9522db3b378507ab647e88976f156f357c750c1df13c05713fd694448e6be1c601fbeb80d3a71b50d9eddeac756da6d557bdd3c39bad8503af392d12bd16be7d52d388107e719d546d009471a9c99c13e3d90b014d24056ba52ed1ec3f92d4e352f4c1265a22c423d5bbd80fcc6461484a4423a7d48c961b7ee432b6fcde7be97aa6930c9b0719bd1fd025c2ee9859d498b5df3a5003b60fcc114e3559d73b37dce4df45cc84de87ebee6da132a3c062b7192df1582d481a8fb6c9c4ee5a4723c604a9ae8b717373ef78af3e14698d200f63b7d12563051d7ff5ca03d3ce59f986e733d98fedf903f17bb07529bd4b502a593e8eca1e23c3ef7d843f7bacae1924fcd334ac38e62ff445f5f3ec54d31202facb306373fc5f281bcd47cff9819e68e03e086107650755e24eb00a7ce990c6025cbbaae20235ede9890454e40d275e8d9256acfa398142ff6b5530b4cd635848bc738d60dd8bf9d92c66dd330cf62e9491a7c4b3c69aedcbfd2647b6c28ad54f82f3c069a30e6995cb12c08d6749bfabdd601dcfa53d7927c53d76028c83d1722d5f1299b9618591d8f8e8d9155006d9bff85992102437c9fa9a97c6b538c4df1f5fa34453e2f4ecfd6500ba969b563c3019b632a944cb22e1230ed6021e343428bb4ffde393f5fed1d5725a269f6f89d916c0228832db9e41fb4f046b5d1789311da6ff4db70ef57daecdcd17190405d8aedd3e3530e7a1d14b7e86ac66ad34114c47c983cce012acc21131b4b9ec3daca931cd83c712b9293bb17455842fbffa44bf76d03d765cebdb2b7c251f8b72ee7c5d01020f7cd22d121d2cdaaabee1d79bea55737736f20f246f8e5ab386e1c07d55f6092e688c930807d8c3341f83d06052f3c2b843d50ca1ba340ffdf8192d2847c2b69afd74dbce468d5f2039834565dea4a05496b7841566fd80cffd749aa39173e12108332faf3b3b0f1b0ada0d8967a9972a608e1ac3deafed5e744ecade04bf1d48263db506c2deaf08ebae47b644591f6bee128a723f033f7c5ddccb8d5f5346d2c9a2376ea0c0761fdd3fe87cc64b0a1ba2008935e84aec826f3b4f24314502c0d231ce37c19777dee9239cb8294aba7cce274a1d1bd4942f232ef4ed7299d1a90207392ed6365c0bd36f5b090222601ea0a663f83879849a0e2803529379b7cc49d1b14c9f2a3a24c4eff2d41227d2cd2879df44f8f5984318a7ab0cef53401ef1c13f762997cb4298537e953c5e924c85bb23d1a039b041b715ae355b0c1e17836fe1f125e97fb05843d6f14624e299780b6629f33e7d9c6c1bef19ff7fda29e834e11be406591a535205b0df72102ac42123fbdbc6b3de60b64691a1d8a7ceb67a5ca2100a288eda3306c928c342d29fc2caa56e7e6967ec6711ef0506a86536cb82fd3e8051a3059df29fbe649fdb7b43f210d3efc2b380dfac578faa9f751b67f0a2c550acfcead08541e09586550e916d27180a02a82365761de89f84910fa15f3b4cdf053a910eb52be631977fdad12f1b5b30918760adf2eb043b34492446cf4c39ce30b52d5cc9d9c70413419d6a0155d219cf578e6887ffe5d30afc355ff852af5d0cd9f5594edb57f10f57c9b42763b9e72b687659325ebe98f241a45be9cc053ff32dd7a9692cc23edd0dcee38ae0db5970139b44fa8c6ea93e0f8fe7cf7517abe10c102f7821e6c6a4ef3b85960b357f4e672d2c8718bbc4cb213dd32f8b3fabf3b60da0f7039edc422698ae49152f4791c325556f5b42ce1c8e65ff2d00fe490800df302c3d7ee2e7dcc59f519a850ac8b96c60ed87b3085f516912da663bb2c09e4b84cbc7b590bc32487ead858cf0aef7788e72c91c60842043be3413f98474bd0ccc9c4cb2f0e4aa454febc98562522e7436bc97365e5202334613cb7a8a4f973d9745b4ba2dd8e9fef56fa48994790abb0e04482dbee756dd9406db95b840059663be94b8ba9c95aa1abf33df6a7081f77850ac4060486c9b20c5fea0577af8d7f801821d5eda09fc68e1ef5b6f5609305b24ca476eb26382057dd331324aadb64107274603d94b3c347aa18278dcb80eb18bcf7c2a3ae4dd20834aa5100cc6c3715dad19384a1cd1f5a561cb3383a4b32701ca54df48b07ef3a12d9444d99269e792fcd48f7a629704d68218b249894ade8f0651dd4c1bcaaf92300c0bff1515a2fd93e796c01298afd7c05f6ed38d12615b11e2d7efc7e4c6804a5412eef5063ef2eebd46bd4fb5666a31e1d6182898069caf86ab4de29f3601f42dc20601703c28fa36fa401286f1b0c546ff59e57f380403434e38141b6d359463afcf709a2573cd006799d982fe20bcef24a5a4582d4f19aace82112117e54d21e51e2f5b1fa37bd6a51cfd3a1f4625985c66efda814ee1fc6ac0cfed393caa4b419a2c3db31e347e5612ba9574097ed097dfb6ce0a792f46b79a21d4f73f4965de2deba32600b31dd2663e56bee8815d011ff008af79f63d9e2e32b6f8bf5f297cd244f7cf9b2495a4b691e5eb170802bf8a9c41b5b7475f05177b998ccff8c0954ecbf5cc5dbec4e67838b819c1551c6f6a636dbd818f4be37a1342bf8da8c2708f88c95ce6576b0f90c0d6017759bd379293d3d3911032c0054e1b25b2e88987eb612083abe035e5035ded8d2632646b3f5b69421ae4c8d2a5bffa6e929c0e7b16209c0738c281f660502ada4a7d2cdfdb6a9de0a648a876ff5b90c15ca41301312ede2be9003c81d883e4c0c34bb1f5e420247dcf18a159aae23bcb4b37b04e99d8ee476168d0378f5f20efe18e9819136a45388b999b87ccce7c11a303d7517e5b1c7dcbed4a3310dc63d37f6daed5631f9f456a67274343ed47fbceaa526f84558047261406837377be8296e3e2a4b20487d6b407b2a20c112520f1b6764a285cae299ee352291844550960ece9cff41d7cdad7335404bb24d7eb7b848056eabd913fc00d8c25032b65da47311135f764e182207e14822a574f3010baf0e103f7e92851bdc1b5cc06a02eb47db39448072f353ac38a10f69819960766e43fa026daf4fd6c65f391f1194f038ac5365efe0a7feba46f0fe4e1382a5b64ad5819cc9c4b6e2645d05899f094a3c576ccad12d8a9c7ddfcd23fd48ef3966012c04bb0653482e5716af265d1731dd030dad8ac52cf058ef85d89544a0d911ff0022ca981b2ab23d7c6b792863e888decbd1c876921636b402ac3f171f85492966318ef2f878329b9ff161b90c8321b246dda319dff5565832c41745d9b0cf4796c3fd9a8d30eeee52ced7084206b1d483310d5d2d72848a36266234b4453a3b398b7cabe7ed5b640646be006b53320b0dea9ed701f71fe3df201e91b59e797536d3452e35379815fc452f61c362dfdf84d4b358f9cd3e2b25dc20de75e631fc4a8e3cdc6378bfc19928d0f764532f9052e6bd2d646cf81fefbd4dd17577de94cfa691af23dc811fd2ffb453f0c8f0126a8b7350d3fe19e0a82049cca286d45533cab580622c82c69bbf888903d41c11265243c520bab59070941b1ea9c2dcf37961aa1c25cec27b1fd3e26e96d6fbeca8b364c17a4adb399b6832d2de1399d86dd9148227b8e49ae888ab923917a6bc821e9f2327a8bc5fd29de45f18641b7a34111d6afafc400ab91b8ae5553b4a25d4f7520975d0bbc0ddef0ffd37217ac519ecef093d38876b45971d5a8c65a5c186a880016e442d5b1d8611170ae5e91dbd355994230d268707dda3b1380fd696ab9a5d513ac8068ef5b5026611c60820e32b25026b18f9f7df9e74eea773d73a9e67a8297e6c585a810a6542053740e7c7dc53fd10e3f6761bfab7e18b7fe156950eac65dc9808b0f307848115fbd4eb7f8c9192ca646f39d78ffa9eab2dc375367e089d1b699116a3ea57ae95b9318b7ae37eb632627be97c5642ac325b881da5d08d5dba6895fabffa4e66e6a62da510ca6dbacde9f38e18da5d251c17ef7d8bcf31cac90d77ed1205191992317a18c118151edfd514f88216509be889ae244632317bf76ce3c898d9f53b5ca2ff018fed49efc57345f1026bf6e62b8db381b729cf6f04bcb712fab1c5bcc1a0cf88ba1de641c5ee367e903556e5715995ca9a19f9b3cae235cf5dfaf7feb1d08b02be4615f41d86d5e43967d98e95158a4bfced6e889868e4b76a114d09c7cb288c07f46b1a5a808e2bf6b949bd1b093caa9db74df7c84170da369bd91cf886b5d00b4dc53c249be72a6f27323a2f2e00d2dfee3657b51cbca031f389499867a238ee77b9dc76f07e491d343081c73f8e48aff0a70e6c049daa358f48a2e47eef668b8ac3b6678ba6422e6ab623804e274823e5dfeff51e46d6d2120bba64c2a00bcbec99d65c44e90882d2c395d0c306b24c1be925009bdda6bdf0a3b38ba6e27573179b852df2031918f3a90de52ca5420c30d53ab0fd30a32c1170e86f45f18c57486b6f1f3bdff95d6df9f5ae85228915d764f562fd4ee44608a8c1d4d540d2a31cb689976d520fb6dbfc554b071f707711b332e2c6fd2007cde960eabc3a02cf39bcd28ba61401178e26727834d885c81b163e96d480954c330971de0ba658fe94b296b05bf3c393d0c36df7f3fa8a6b30da9d6d7a766790be526e5c5c922fd4714038f1b55d48a66b4887b8ac86c85af540c871408adc4c608a0f9e7a8fedb1349ea64c014161d4c4962231f698059cde47d6b9889934f4f4f519ed775dc50f30334172f7fa7f0431c5c509167969ce7a9c69918be0ba862b8128b75504fb3a62af05034167a92532dc541065388a71ac110a3c9cc2b21389332434f78a28a0be7092b89b379c2c9f1bdc41f40214700e2f1d3950fe84c399d9114601388131ca1f3aa3ac8edc89f68905742907e0f42a631c47098b23da9094150ccbcfd49a336affb370f92b91d518f96b09366731d6d27774c0386eb3b47f1bd4c77b64879ef4edd6eaa6d4c2531235d9c14af6bfcb9f77073662983bd2f76f577e0580e7e80c2dd312a3ec23bd5c49c030efb366e9a758c83b669909e1da749306b369457bea1e67ffea2748e4163ffcd929448590678dfb427675b40cfd6e3aa38f27cd9acf65248d1a334edef2f10e13cb412a1f85ac3850873833979e248b02fde02cbeda913b8cf9538fe854e77c65d4dc0e1bee763c1d97c8f1f8a767681df2f356754e5b7b9ea3c75433be12dd1eaac92281b4fcda9e97e234469f2831255493bed9e25efb12320c6005a0b1bb812645d89118b1b4886309a76bf2a626b48e8c02247a51d905aa2787512f38c95838bde435fff02354523cae4d2ede85019ddf66e1ae63b08b2864279514ed3ad97fa848346e5fb81c14f7621b2bf4fb1e5466b9f346d02a47d9b49e9564c786adacd0d85cd6f1d0f5baec9dba9df24efc0fe83e01726430ff289c243bdc11d85cfa2a4295e04cf41707783b2b9de7735663e48132f8a2b55381ff7a79bd56d9b20d03a657d4a75200b7e08143048324c827514133b2f6f3bf6dcb6e1cb2957007cc9d0c3849bae6f315aa92dbe93d4de0cd93fea151f4ab4216f12ba79c4d390f5ec54539e3e4ddaba332c739fddc749ae73d8bd8c87f01d400b7865ea1dcb5ebf95fc89e157fdde8b50f85f3e9e22be69c0492e9f213e204d9b52f247a2a7bc9892af6dc815f04658a0264c3e7687d28e32f3819ab266929219563505c2e8339e70b4214a8e8b534263021fef580ef1a9cd87097d9801b9cc3ddfa7be7349e8e08b8354f88ca31023aebd6ccea44a72ec01210399462d03dc4b11322275b21b21b12dd5e9a334ccbe7680bc71881b086364d3350c0d0b3d1b4e3ea6ae926a829fa368d4e3de32d10621a5e63068d358a1074b222f0ffa59130aac103e1c0ac0e90e5ce493a5996d5cfef3a59bd16305ad23afed2ca19e6a14ed209e5cbbef28beb9cf78fabd221b51fc4a402e2e0cd4dd28c6f65fa9e718069e756b3ab832efbe72d893eb2628f90836fd1294824e5e89b5860e7455fd273686856caf7a471587c200a52562f4dfa3d63781acda2af67e252ba5539c4b5577cfa2a48bb7fa1e12c0b43798f6467da769cec531e6ec4a317a1333c9b760300901a3503d7fe4788feaaf8eb74d47bf9b43325ff1a6fdedb09f6172eadab07487c3dfd3c6a15c681cee890df99514888b10a807c30e4055a64d913c92b48c34e4bce8ee2caac50d6b79bd3e2a1792842306d21effb2df95ad859b0d2c782fed5eb8841f302a047b787691ff4ef575378a221d5e9292bde69ab3b3d18f464a63d4aa071516fdaca333dfbfb927290c02995f52864ae9320bb266e554efa603ca2c7dcd0032b278deb812ddd1130757ac88be1367d0430b74604c06ad72cad3451d3fd0d32452733cc967d326a80e996068be78ddaf82fa419de280be67c26cdd75948360d9e660864456b7a9d2241ca67d712fe0a1a901541bd587c52fec37f369739c7c63d988bf0e6461aee880b825a67f05913b31344bd301d6f191a7752c020c86d421ab6cfb2cef2adf2296a98bf5a8cc7a5280e215709c7c1ced6e78f847a1aec417f6909d197263aa91cf55d1c6134c76d67a888020499891c061ae57f005b08d8a6e52bc8ab125b133e577dd29563240ba1cf0cbc6738057bc6392fa2db581058b5acb985edb61c4895ae5a1819f13c04f9276f412d8cc3fe6fce552f9cd238c1bd0c2e560bdadc619777faf58d7699e1583e6f9ac241676b1a0bf789bbe4b1a0431cf2147b56a7cc5e861d3d39901e5ee85a6fe5a1bf59f109a0bf30f97b3e8039e1e5ad86a94f835138564c68c41aa66f9112a09856af504a3c798baedb95931a587c084ae22bc16d5433bc1962b7bcfeb8dcb7d68ad120ffb52c11392410affd7f9827dfcf91880f401e13ea373ce3cef546cfa1f58911077a7014853cc423bcb546cec3401cb2e67d8fb85afd5c234c2591e5263ff62972a7de84b5dbe60b0c336213dbf6552c244900a2fe111306dfed54d4d8975151ceb82f4fe3a7387df1d60b8b2c58471d920c8b9f80be614471e9b517cc0fcde1ec5bcb242502e96947d295c1bff3356ada812b7c279f43d2fa356d427f9459d30110f24f3294440a4b702f1da635ed9ac80c1269d77042814af8ab528c10898e39e3a8de8a73293154cfe9a35e9ac3fa4d00300e54a90289c6f7711fb3ca94a7ae3ce61d61e9edca1063b704db85c7a85c155ed381a3907ff3a830d5d3327264c6befd53faeba66c4d0f3bb61c6752b0f76f91d14b8487fa8fe9a9f02d8abdafa19166afdcfc259a83c6c04f67e7d33251d6dd7cd77f158b78a2f05dd605d84190cd7bb6fc40c9892971dd3ce89b963e81a8ccda446974a934d2f9b9cdedfb35c65216d08e134f6533bcfe190c40e1f5ac7b5075ee788e2099c5e42527c3807a8421bc8b04b85d1ae6d40415c2460bf6ed7afb1353cdb9af3a6f9fcbfb3262ca96c5c1acbdc44fa2810ad2f10c1d544ab6b58fb09d3df0c205098c39ea83e61575c4cb03e729d3c1221cac3600b27f406e473769d0cd76c8e29ea2be6c7e0f78a05780e6b2c900cda89893b95270069309f8e2f26c4cc6260820456e0653651c0a641f220b3df08cf4c7870012b484183aa8ac1e686adc77e7482f1b0ddb05ca6fcad1ca041a23a7f108a21b29f17d929380619ac2be5214b8728db2a9a0cea0d211316f4a8f3d06008d414003661a7e8987a92e43d906ef6c55e9569ac016e361100adf98a3a9f3021a8793f2f34a54c01edfc51bbba44a5b8d173f4c2e58aa4a5e8b250b8a67f1acd8de89dd4b42eaaef3c3f4b1a0f4cf7c78687b6382ea887261e4910d4d9efbadb26a59740f82532dd9c0c6354f374d12446f5872693d9e4482e52fba3022095424d83837c897ba97352cbeb55fad97bbc8635e134b8fcf8f7fe3a587aebb806cc4006b7ec48b6c02455b31c319147298044b4aa07f6991ba515a5ace704e583c968ba23479e18da7a08f6e64f65cc5ff3331e7cbacd3004d71bc30e2024a485c7296ca60b4ffa8b63eb3b966e39f2fd204365162ba2a651c20e510e22ecc00b7e9cc0fe4cf3dd393d270b59e09f77cc07ebffc1453da354e3c87fa8de228e4e520a22c2261b723cf9bd8851a48a586afa552d88b0e36cd4a38452e546fc7b7e0f879cabf98ca7e62d97e4e2f7cbe1033fb62fd8b8f2fd1ea0b563887283b1e2c3d99ad5ba9608091f64c5f90374a01d63ed9bed6d8908e6bd6d8784b9511ba6d2ed4cdcb5ef45b64e6e6a7ba5bba4fe327cfef34d29f0e611cd3ffb42e49ed876898b08f1a51a531bb4dcaa29e24d11442ba25700eabf42f02c297ba819f55196978a07feb66167d069f57a1fef64dc461f579e6f28289e35a65e2b125c1c846234630d25a476ce4b79b078bff6f244ca2dec191adfd2f35947411764422173bc2faa8b6a07df9e30b99f23d79b844fe0637c46004b1021bc36090c1f9a155bb5c9adee37e7c092c5567a6395bb99276ff0d9fcc514288ebee6e30b5a24254b21826ba793d7a56af1244bb355f14fc106d01d303e20c4742fa53ed6fbab84a6a3bbb0e43f4839355ca171659efbd67d1761148f67af2639fad5d2fccdca6c193d70976cef2f2ebf2468c29d98ea4e6144db909cc12d8293c5a598b311af10667595b49c1f9f3a8b049705d04a84049674e4561860b97d8c6c6924020d361ee09525f747071ba1cc11dcd529cd5e4b856f4eadde9fb38aa7c253390836ea073cd2b2c60d177130a1451ed4b2f8f5533f644be1859edcd0e132ff22bf550177abe114e7c296748b150efe88038cd51289c32c36106e3d6228debeaf12211104838c4b61b3fbf6dc56ddfedefe43bba120f91b35bd854ed61e9aab6ffee600f358049de624e520d91f80d8a5e740163f0c014f5a866c2775747774bd25f9cc5a62fa5fe52ea632b79daec0550a87baff5b6f9396af7a48fd13928aebe291dee0542a9f4ace1b302fb592507a133830fc524d307598f38c408bba84ad88bd58bdc8f905901d3e865100ec9b14a6d4326e08788b0ae3731c0bfa7905c3871c7b624503b765d6e4a5ffb8f13e5b0c7a9991b08b9973da1452e02c1a55045e285537a26697c90e26d72569d5ab8950c7cc4a9b5679723d06ac0a397cf308de993e68fe73cb4faed102f41d073ab4dbd3a805e97d4fb425f6f330f394b6b98e8f608d019daec1cfa14e984e11b1478509541396b98e048beca3e9e8ff923af79a2605afceef7b3b81b2777fd78b293766ab8c734fb6bdcc43f6ffac49d6244afe5df3ac654ad31ecbb9794ae74e4d1a910ce0f99bdcc88de803bf739c959817292778a5dc2b368f1556236e3cb494f55809962fa63560bc34bec82e116fdf858291b8193e98b1906aa5c81c25fbee7d6e3cf1e46b2762b1f23fdad80a2417fa9c7150545a0b70f784036c2057652e906e7b35288bad5a217d1165922e2b8ca6eb2fee6d92242bfcb77b474900c013ab2166e104db05faa4ee8468855ff2280f301b48fd85452c492d0b3edfa76ee62ebe7b1ec755222c5f6260948aac1e3249395da41879e08812a0a0579e64774ced1225e746cc32f21eb1c2d7977f4b791b38e5ada6d59a56fed01e471c8f19857e902b9a8b4b7633f4f73746cc647f312b76b0a644bbcad960d880664bc34f21cc30dd15bbb2a446fdef17ecec3c6d3807d248d380475fdd83002fa5424ad0418519427e34d686e70fe510f97f3148a85f2ab9301f9976b9ef1a488391834217ee2f6c367179349dcb8a27dd7b0b041f02d9e03c0dfb90a399b3d7b3be8e39bc7ea5413145aa3e1c4080832075bb7a10561f4645a57c2060353f8c146d385f5dc3d709022598968731626769b8f36288d08f7b3c5dd918c56f06b5bcafd9d4b75c14526e58febb68f6df03c938bb3f3bc24b2d94075d13ab04b0a603b2d20d71537196eea0a6064e0a28af654014bab016d09034dedb820a99e32a8a59aa35352e7155e66fd9105b85aa44779599d98bea8faa864c7a3bc9a8d42e492bec4199d824ab60183076863af00aab5be2d38ae9afa2b35e21c504774e83148507fa90c3e05b65315f23dff123ac3157c85885cfe97f6d0ad6057935cab20bb64b27d0ca173c14df00aa3a973f8476c10d544f168c8b040d4e350adc68fd171725342d7cc636c1864fb2a6a1d57b9cc11f914eeea82c650e9be9610affb2ea54e7fc998b3c0ab01db61177ff80f0bb7033f675ae617f3e763266eed5633e661c2ea9ad12221c85f0b4dd9611b8fdea304cb2a3c4ac3cb5422588ea96afe7fb592ee02faf7b2f422b0d969de0903e214699767d0889c5b997d4bd830086db9061d127811741c6263601caf37d1f740c818fcfb14493aab0418b0e960e43c110d0837b1935c1654ceea714548764bb2cdd4434c538c4ec33b3a0db87ae1e3cdd05a43b012ff8fe6f8e8bb3c15c7b5d205c7356b1728a4c021361f62f723931fcf675527b71a1cfac34ee820bfb8674be81b90ae121dc28150a1e1f990113c85f455276f63ff782dac49ad162b7261b9ac3578310bbf46bb4ba14d8c4bc5dd9fdd687cc59e404f4e33ee47c5e7604b147c34de6b1f69338f9eccca59adced3fe150161b72a9d930e9fdcee3ff0d5aa2658d54c1d0b5ef888b52f6a94af1405597718b5b6917412c395de51471a9064994b3c281eb94fa2c51a29f708cbb931f7924b100b98084ac37bd8e2679c531d162240dbcc1ba82c3a0197753d5b475e38517fb2f09450fb4359398b893cea692dac36d56b1d9fa0f50e68edf796bb0ba84e74977dbe4a985f91f04cd8ee0052a9f9681887b420f0300440ecfb0813fe450317150f735390ff21f43ece1aadc0c0fade8295d3706d7bf03f6c8bced2960264faa11db06c7dd5f2732ea67547a45d2e854072689a2792ab218b9ea7d5961fe05dda7ebc59c5acee22a83eb6099737c0a8cd66544e3294cc21e7665b362b8c2fc3ca4b154133c124826bc9fdbc8","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
