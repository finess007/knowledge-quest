<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4b89f10858a64c6347d81964a4abbddc0c6cfb1462d9b75e5da1515f718484a57a9bd0848e913375ca63ec8de738f90f2e7def12dbaef841200d3c3ec507942c5b8dd5ca37b40587765094b4614c914506f74b2611dce17b8690a10a0a4fa413079c3f4e9ea3466195d8058d4b5ad9dbba9cf3a79a105b0e74644a8955f43187710653ef9558e203d08782c8b6a1617a1d5ceb1dbc69fe8f73a2777fb6541d5436064b67f69e75829bcabe226f913b4593e45011ae4623edf16902b554472f7a200390d33ab72b5b26bb282a35db4980555a2f43a01ee7aeff269f81f9685ebd70b5be07e5b1d687d4a543d720435ca9ce835a8f43434971ad90fc6b96d086b6232b2212897491a3c433c18e0568cf07748770ca7a376a18ced9ec583c1d372613f9bd26c7b53f1c1b6d0400c99d83cd1ec6b53a5bae28fdd6d529efcb250d198dfa13debafd43c242bdbcbba398d104268fbe1524c2dda267d3fdcd40846f8254e88e1955c13ebf9438c2aba4495f3c6fd01094421f1397c4da1d10aed8fe8d43adbbf1f62efd4a88323ce4ed45218da93b868e05eb54e058f045b37cd0e9db535cd1bd24070c31094745a8f5451c2f348abe2f55478f104f0901ccbcf825728cb7c1a57ae54c29cac12c58f291bb0c42a04f5c851dc3a5a34b642b070a6ab172fdb20b4612d642df4ff53da9fa4a2fba9c65cc38c607d418926b15d622ed6378d25c123fa840de8fec65da6ca9a2565ad3b48230425fa1a83e3fe4ebd61f2ca9d2da6de3ec7832e2bfac48f626bafa10d914a46dd37e3e3d5e5cd48b30a2287ae18166942b6a5283c6d54f79cd5355c57259ef0388a7157724438873762e5249b466729744784f0adc334fe810a1457e6200b051313f584ddbd2c72c60e8bfbd6d629e22f807297b40ed489f2d30e65166821bd051fc8865a8cc0a3421c473f815b525179f8aaf7e432f8ad482485b1c1923453e4408443a9e5ae229038b5cd54868296c9fc1eac9a07071e97f1897cfa263162191748ee97dbd7ac7a99faa6f2558ac88415eda7ff13b6eddb326a3945246f252bfda95b9fac8e9a0d107d0fc4c8a97a8c498d34472a531dd973ec81265d7e59c69d44cc2db398143f08a2f712b36b72222da4683d27bd2f0d734d2ec75978a6d9b17a6b558f5ce7fc585d91f0e6cdb990340851c30b6190bc3f5eae2de022a2e8843004d3ee1f8164ea185e71060ab9828d8e47a117d5cbd4381927187de63d770befb558e21e53dee54389483b7645658c114ca8a36c37ef45e83111b8a3367770d463d462d99c25b426a8bcd028c87dfb61e466d8a8755f938c42df56b9b6a5734358a97e424cd3a2308f44197c322f2933b5df1db50ba4aecf706b65f08a1567cffad660aa040dfd79c55532319a9d0d83c07832ed15edfc3d96bae35027b013cd59dd9f724a816294eb472cebd8662518d0c9713162b43052e64cb5e47b867ac9a79610f9702e9e0d460feef66198f74923f57dc98d2112a3eb1c09e606476708946cc2cf475b61284101ce6d0e4b566db5c62fb964a60688aa9a05ef14634f58e2dd99478353cc83fe4133829cba7077b5cebda05e3321577808c92531d97b027d956c836c7261dc78009a2b6de5f34b00cffe323334c63a0880e535353f53d41c4c88969de8b82b76963bad7e81586b0271923db8b8f04308493dc0642fa0fc51b252d5c91a333a436252b4b01a60407e61250f0d3074b0042863c6ee685a5adfddfc345044e4099cd7fe162edb916bb54880c0068b6124e5e786a97eb5e8c6a50b51cfd32148341a6c8dd6f82740575acdbecedcbaf8d8d270526997a374e7b721f64443b478574657b46d395bdfe7a1c7b7c8b13f6044d03b4c990ebd04dfaac8ed2377c609dab5d426f9c088171c40fca9d9190c402415f2722c56cbb62466c30e3d3abc3316199d2f8bc393143bed8b3b106dd2eec455382d5e611555119093ae74bb11ece5231af4b909b6ea399a04ac37155843d7b164a00886343acb6c048d02481b67bba38861974e966353877c5ac73c0e52e20c3fb2e9f5bd7622d3940a10e9616979cdcb75991a80cf63becd7c4a0a52aa04f5b3b2b501f1a45746d4aa7194823f841a3a6a8914b506030d2c621d2eca770a6fe5a9ac9db55a3fb8387a083e06d64f4d8f5c0bf0a56a8e8e1f0cab3cc8c64bf99cd2b0fc6b34947d4405160db4da875d0fe35c1d643efaf9d6db2cdcaed59c2c941995ddbe031242810fef84aa8785b73f368c6ddeab53ebd4f4e949c52ed11903a053fb70dd8a8214a5dfba9c51cffeeb9c173fbd9931765d681688541e57551a8f1bd95a6d7f7037a565e2eb9ac758f3ac95cae6301e388bc5ed4a654dbdf029e05d257bec45fcfa7e54507aa602d7b6298dcfa6f272d75858764de89ff163d4a50f34f755d1f1e731dc310f27b53fab5406eb66410448110200acc0f36074d237c63ac219ccbdfc5d40a82e962facfe3141e76540b457f4fe2a9bc90705b9a0549099dd4220cdbca04d4ea70ab57ef63c755a156cba3d3a1e21e4e2477c0599d5f8ffe1ab8ae72367b60b89b6bd809b5dd2a45b4c0c0e66fbeed76ff0c6a0cab5a29889d8a843aa8f4eecb722f2be459921019c00e851c69d8976971056e0aca0a230de0313976ef3752b9f78c27a6239f81724a87469df7125619d50cd5545c9192431f59239db17b6be3459f52926d3491ed68de3edbfadbeb6b47aa4f10d6a2f8b4fe7e13cf509b6182cf5930acf2106ece27bcca0145fff61e7ad50ef4ceb77ab6684873a2161c792a434f9458d52519b41a5fbe7134c2cff07b61f712fa8696da50e2248060d807c0ef78fafc4fdc0da0439471da5c1ca63e3eef5888b05b285d61f7b15fa52b7a6734065d4b2aed7e27ac66e8fa76ad6b6646619b8c7a95db0ae285b819d1e2de553be9d2b870bf4c6032f800fd3cd2b5fe212d21c17e8615a33681c27262a205afb1095973899a1b2a5cefafa6b48dfd66a7c5ed67bbd7bf8b75c531afe32d837ce0858ccd12ea50eb2a217df0aeb74c7ce1d6e6cca93ed6f9a522d61037448244db436b802dd67dc6c661b9754550915a02b4fdd22bf031181006d854a2c700ab7fa772a919e06fea1d6c1fd189853fd5ce89f87d8a4bed7d771acc3f9a072eb93213ec8efdcaa20eae51d6cea7af6915027f9ee91ab7d1d9c32ca49ad2183fab6539d4048a984373cc59a4a3ad0db61cd33a8733c1ab26b471891c71ab4c0c8a902627c52e257ee3626efcbe1e7e2b9c6086bdfd1e21d1c5776c3b2a90206ba8cb1b0f0f14a29fa1fc90a3d326aff2a9f55eb5b59dffcc85b0eb47802c5125d1e8f8e0f28e04384b26da4d149ca7f6a001900e62d9378faaf0bfda3228e184cc4daf704bce31aeadde58628a729491ce73f8a6b8a0d898e6666cdff3537b56bc2971a10b02eaac127cc48911ec1d91c7e431ae40e53e71f5c2e19cfde91c5f0da1eb6aa4446fa2723fcf2c73a7903fb0c6c0b279dbc91d12ceccb7715620897c13ed2636813baebb253e0745cb1db14a2e1d6c4ae5bc51021b53344320f5fdb16c1af00ff44b9cff95a0eb5b29426ef7a547f31cf21c364ac1fc6578bf1d8139e6bc360c562f18f173a39e44d9a47acb7be7a237817743898e2bcc50d185e39781d828869717164646395fb17cde36bb483ad984bd9a3f83333f203538f96086b3f2f585f3a7cf573bf9ce9aff2fee2d1625219a614fbd2d323c641ff588113478d02849c59ac48aefbd1ccdb744eb4ebcc79229bccc3686aaf7074b3e33a162a79bfb85f354f2bbf3df9fc5b5391862170e366916c495c47acbf3dcf69a85fe8fd6409330f796bd15a54cb49a323c168a17bb9587ab60e3b00e13567dc03be2e8abf5a6e15cbed71fbc2fdd96b0e33d6ecde1dc7730c0cefce6c532d105b19b086ecd2c194bdb98faf89a22103d2b9a0b9103a78aad13d789442a95d8498df020b029884c958ba3d5fc69bd4a15dda230d995b95ae98b57774a9f8c20ff9285e2d9bcabb8a30b68248dc4c0f6fc947a4aa0fc3ac9fe70481943011edf288a27f72eff5857ad8621f0bfaf53dc9a61e2c4a7138a920d8e4d07c9c872fe161eaae3ab389b134062ee789ec7beeacff555ad683ae0767aea2a61d8d391cec47bec29e3c973b46a0d433b145ec349444cffec9a455c616331d3f6ce6a06e7894c7fea07bb6fb5feec655f6b05407caa8b5e978e20d9996e850bc42bc6d209e6cc5105656d5df85dd2b850df7c6504ea841b5fbf5585251c010e79363abed8c500f98c2575563d39a752230df3438e41b18361ecf12c91f901ce80bfc66ef9b84663d549ccb869a20c852e8d159d82ac9eab8ea3ea33687f7d454ec9dde2a37cb31d4c5ca7e949307fa0f7d3fb573e7d0d8efb401160a3496900964f77d3d95ea6888312275b3a6756106c4adb0ef13de1e86fcc8b2983e5cacfe861dbbf593d3fdcc8c0d777df51b3b99a9ab3124a31f759b3bb1fc0f3042674774b075baf860da58f46fc57caa111b2a6995ed8a96da8e4c1fad83aa805b9e6b2ff130409e27e80102ef6ba8f39c9ad7934a96b24a85a65132caedee9602bfda247184e0af2bf683b443e168d99a927d6e033f17c960a6bda971b34843ca4a30d97c54a3ca20340001e8b0c282d5962581838f72334ba3c7b653de8766b49573c4aaf555f6a174bca483e5fe410d4e6b8f3370a2a56f2a1fbb592ab56464dcad50a7ffc0a409a87a7d78fb55e1eda6b61a4f24d8a51e65ce8f87603d32e31e3234cb3f486bbfc8db465a8eb93423f0358ff546c809fdf684445f933b1199eea9df6b1b45fa56faac00647220c3213c004a22d1e926db67b72aa52a29ffeb85e56470374ddb3e9822fd344305567723473186305c14c787aaba6637b2efc8882fbb6fcccc2cd85eb1e5e73b0a4ce5ea582591835109b9aa9672a32afae50943ea0bc521300a04b644c2a7df5934b8955055041483acbaea505270910ed36e20f8284bf7f4b67b3631108b5e5cae8b117dcbc99c4d0417498832401afc08d784652f5c7e9e3bb93bbd166fca6b7c2d34489fc341b992a615e7ce6bb9cc76ceb78255f1d8f9c076c3ef8ead66c92ebbe4376b2f0dc482c4bcbf986baf973b83121380067cf13a161ca0bdc819a2cf6a84027325991fe22b491b246e3b635952cc06e39ae1d379be86bcf0e4dd0e6806778c8d5bf56825ae70bd081822415390ba50b7d0257da8f6bfc9580a45b4e4d11e3898776bb5c886782773c2c1f0d93c5003806c00ef9f4745ac4313b69baeb3720749d0bbcfa1876013b3710b900abdcadf107f6d3cf3a8d8d9a4d65e19763645dee9fe3600057bf63258b9db4f7e86ce0d0d667c53054aa9cb52f203708857691331816e9e2f57dfa526ffc35896f3bbc191f94eceb3392d109c34cae6b899794b0de0fe35be91fc7ebe4b49dd2e18a78e277182804515c756c33cf6b17baf069e359e393a885973cf67ec9d82ec15644f5ac59c45afaaae42ec05a21cb9650aa9a3dd8af10586f389336e032d2422f910b527fa8cfb05681837e1586e8bd017949613f44e686de6acff9d1bc98f5ede4b79e5a7ca88cabe007fb5f0722916d39a812ee39390f5bd6a7b2c69bd0d9a7530e1eec3b537add8592dddb00bfa0a38d053aa91186ed719f219313199e53c712cbca1622fd1b8ca9360e873238ba18a87395f953fc56e5bc2637eab90f77a52a5f249c80c53157f650b4824640ec9228bf1b51972ba6711494c09164537239700aebd598fec3b2f67b1ffdcd13bb1aeb43bc786de87095269891066c2e5273cc9eacb9f3080a9f42ee8f8a6b49a56376f775880ac72b405705fac13dee69573782b925d0d2d3a682e80dd51d2dac72f2131b6aa39578e3c898e43d808103d0d4926722cd0565fcac9d6edfaaf3fd5f36b182fb993bd731c330f2bc70bbd45bf9fcd58e13d861920db7c00dc5b0663833253f5013af2d7d4857548425cbb12702d15e557e46c1cf22302a270871ce6cab260b6b1d614a0d81deec9e41cff15e479c7828534701556b65988db538e26e89ae741d9d33e3e11fc1a02b0b61bda55f153091ad696fa2d72828eb234e8f369d73fe617dbdea997c4bc022067f5a9af4e987fcd90602a8aebfc93a11125dab7ca101570cbac5a8be2232444d9c6c59dc852cc075331b9fae6afde8c6d7ff31dacc6514bd29f10fd9ab681d8971ea9575dc78777c532ede20e23c92b20d84fdb8a7288a9722f3ac30403348adbfcf024daf9e4312fb4d8c4ebed532c58a51417cf7dc0ef69aacded3608cbec74bb437d132692409ad2bfab8470a890f667dd42f11cab4be8f26c0892604a04e8662280c1b747dee165258c83a1d8e2d4d54f9e266244018c85a8786837d488aa1093335ab7190a28212aeefa3c0490fb243d727f33276703d88fe7b7e81518e6d4dc39173557d594b6a608ba6357f40df3ce90cde590d128e7c893267728224315f3f054fa28292c782645358e33f404f4a944a7cce13b806f0da91359a7cebe0cab777fdfdad89982ac2c0fd1b17498c5cc582b20490a6e75925ca4c99ef4c2aa339f7b7b369754afa7770ba7ccb6d5a8aea6b92d251c185f76efbff79096fa825c0fe5fe14ba85521f44167c585a54f989f18fe26512f0c255deb695be6c74bfec388eb9043298a883cb9a27ae8831f65bd9e082e7edcc149e216fe7842b8cb4c80ef86f1a6b8081204a49cd4c9af2de22886098098154dc83d1b4e79162dc9d37caa80640c01f41defd03b8daeb164249f409176f39623cf2a618685627d07181da87bf20d57731984aed8147443c0c05f60f3684bd61800d6622bf09c1b9048af87d4b65aebdcc6dde5fdabc8bc84f36f966ae1ac0d07a8d3acb8a28917e955de20d23a55bd8879b03f72a5f3a7b3c2176dd88f7de8929334bf89904dd338630e0385567069150679e46e0c7655195ffc7d75a2ce8b9af7272f2951792111387deb723e5c77562780fe1fa2868b39263b294835625df33e9e3053b578737da9be7bcd9cab854b1bbfd247089716d00c8d0389246ec29fe5483ecfef4dce589a8d4a7a5e0507b53600bfe75494fcda219c4898c7911b2cb8cca56ef8ba70a495a49b70f110d0c88056e30ab84db7034cd6efeaf1f73e05ddc3b993b2a3d35de4b93ebd59c7d34ce7d7ac23c1a2aaeedf4d7ecf2959b172ebef939a45dc77876ecb389a8d0680d5c9086868ff7f9e127cb9929738f6eeeb7e13b65030dd26f06fba677c607f8fd01d43e0556d0be3f80612ee1ea34e5b11dbf8909db1e289e822ae141109704c4ffe21a2fccd26058b885e05fe5a4e463c791dab3929af9895a2b577ea9a67d30b65fe950486695887971a0a318c15e676b6ce67147fb49e40d9def306d15d5ffb10bc5bbcf1281da0e6a1509fc4b06453318a57f0df088e22c276262eb2bba0d3b38e32d4f3248bfa6bbe924c5ff84cb08a2f0f1ac884eb01cf713cb94ade00da2e11628ce9e8b1302b79abd31bf6a7807a6343e4b869b1a8c1b647af55c53cc6ac6d9a2efe5e24379b5c721aec8b0a4b48e551f0445e7bedf4552e0c3ac82bf85e17f5afc63d82cd87e4c320c49746e9e391525d1c24743c73933b7c9d2f9518e56fe8a3a559f4e27c17c936447d2b78cbfc9f22cc516bd7be5d21cdc1b102f11a3c9ab3f4380b235d2669dd2fee184d49d4d8816d46e5de94e5c10deb2edcef08136daf5559b25562c8142b1b31875ab0223bd4c80740690f3f861a8a426875b0c00a0c8150c26c181880cda085345d49ead29275740852dc205dbd5c6fde2f42330a7e89bceba808af7875fa498d7861a79289caabe1089ee7ee979cd885e577f7eb99f693ac2c5ae917e03a9d8fd938dd3366f2c75bcf32f3d9fa119de95051b1fa5ed96f3f5673313997ddc7e35164202f3914e5ba9efbf8c6af0581d5d39bfba50d651ae253eb2d9c81641e027e37e92082daa43f3bf2740f388eb526fb57d741a3c33849e8c23468ef5398cc6609d328234c411334648d1c40ceef2560a0b799eccd8d5fddfd2b28a7d167cd4dde42991b78960aad5287480f6938264ac923dda578d5bc165140a71afbfa16e180dc0db381aefed9e97603d8d2ba6b50e737cb1a400bdfb2778594faaade21405964d14b1de1ed61327e00f89aef6c7412cb87cc83889ed2b847a214817fedc715313ba344e53320a0b708e22f3350dd09736a3f56f8c80cbebe85e90d8e3b4b9141b1a7f1e3ede1e2860d9bf4e2d27e0caaafae55be93366f0376e6656eafd9f17f5019cf93e3ae7bb7a3768201ccc03fbae1dbdae5f527c6c222d76a461ea295f9541a70817fee4b4940c5dfa88b8fa33cc60104d5b44a1f93256027c52b4351b0c373c9aff7ebe4a06e805487e9d857f583c4c1179f5ea8ce47cbec6f290e13bbd801b1ba6b6496b6234e558f58fba0b36d889ed71b81437b950acf38120aa843de409450ed21883058ec72467add7a32b3c34036c69d839ca9ab3e57f746b58b3442d7bc80ab3e43f9cb26c64b276ea7f100630379662cd76f86ec97b2ec76130e344b5a21feebab5fa9df5ca1eb8c088b9f3104266491d39520d6474482e9fea1e4cb688b8ab80e1615d44caac9f6b70ee3ade05c56697f04eefe4b3d04f0de370ba93f9b92210be9641fff9707ed9397324312c2731e93f973ea2e4b589dc295b27c50da97e7ece95abd149b6f6086cb429e51d5f0fbf3ec32b6576336e3960d631265bc1a3c9ded93153fce1088ab8fac048fd0804f1ecd6aedb76c2fd2000e20eb2d07f1922a13c4233db4e05d54b7699ec3eadc6e26ff8b35e16c8627df8d023a5f46a5cb531dea51ad70b772c15e48d2472703573641f9f2e3646601c08cd994491da791b43a67326f1ee05536442d5158b7e73b462180d4499c0ed043e55b296148224b02f38405e2b49a480567a43f015aa965cfd669588261c05f723f36f38dbc972a9569f5d59ed7458ce87a4bc5f19b2fbdd0a6339854958bf095aa9492d34cf57085523fc324f1f0c9194c24430bc406427ffd59606bc33b76879c8faaaa3a92a2d033583b492a276025a0a07fcfb2dc5a220245647a6b967b88adfa9a6a76730378842ee866b03126065e992a6ccc3ede4cf4305e046100ad54a32221cea596acd716c7399dbe45beebbb3892e860995aa80839f9ab473ceb2f8f533318bfb983e3e640055e5f30e5c676b1b2b47383a1956e37323d01b1465f02d2cb13eee0b5355ef89335cc9a9eb07f10dc9dca02c19c6c6a261328ad4e51ad0674a622dc8d81a3be4c83a69cf24d275f9df37753c948af5ef4c8cbc6c950dc29c9b2cd1ca082873b3788b6fe6ae090b9bc7b9359e78e262958a0b74021b01b5edfbeb979bf10b085856173471054b396da3e4f7027c41160ecb38ddd6bf568272e5a8e3bb468454d64e1f244a8603e97639f0b3ca721271d265ceac939525ff62961a310d029b47af14942019effcb0ec52d161acac629c647c34a46f5b29025dd2a916a577d861f93e64fc64ff1714a9b62213a5339d4dbbcfad62901141deffb2bbaf7a2ca975ca7bccd73de9d79020b52a52ab0db3240f7fccff875a8ad2a90d052c242604ef2a46f153e039c8a79de9fb4085d98ae05268322572d9eadfb2bb5157cc4e5d321cd5d6720f5d522fce0f6f2a147f285b89a2c834a9d945714f752a2e9056c6ed2f0d1fc5c37a5709e0dfcab89056b0b840e8589bd0db7628f1196b11e7551501d51e6479bdf01379868ce357747931a3689868de1e3e42c02c0f536fdd5ea5264900023f8106fbcbbc9f0e9a85f46c0d741c624da97a283398d4582102d0c3006ac097519fc791a99faac1e4babd652a9f07da4ade938bff7f9afc8cbbea5308b9f76faa278bf8a2f4dcd42660af82d4de32e89848191c09e35309dcd6d7ce7a1deac78dfcb170fae7939e6938565bbbb9a93ec7373cce27d8edadc71a036a66e3df0cbd1fc395923987ef68078f3bf614e8ffec3b7582a91a29400a50ee7715d2a8598be95fd8839fa3507bc27c7cb6c62ac6a91b8630a24e248133a73517f87d1349accf9f19ab4a4ee7436c5ab265276fd8bf62d12c5f3e479f676b5908aa26616b388a239169c826b3d7b304bed564caed376d62a50205e7ad1106b0a62e47c89e484eb509f9681af5bd41020747b17cf353bf3e4f451b0369812a89228357036ef1dd11a31de7e23084017196db84c0578ff39ab4b1df5dec2654e8642de2a69ec56427fcce624b3037be9585702b9b4023f488099c9bad59ae722c3e1c144a9f65222da77d222fdcafff8e36ac3a1845433d7e07034f84629f1f58e2cdb2d183e5a592e9315648591774ca163ff37195b903b33a916ef146de41a8de3b9f21a397a74a2fb06ba25f0eb18ceca6452948393ce14449b592bd94f3316c67449dba9a4c3cd57b702dc000ac7d9261ed4852bcdb6cf65a46977cef55717e57ac3c989eb7187e8590a8adf0173bd2b396837ad696bce885f15366c1e71904dcc447612c9668318fdfcb65fdf6965184ec49728bde1f7c36e419b00eb7d6daeff4233dff8300f5eb5c43531d64373da470a3d33e90c2acf3ef9d0008d7846df9ca34bb6e06df0ac30ae15ddd2de3e712f2f2cc6fb01c1d829ef417f72942b5c928eadf3bfc1e9802f6b67484a3c15c4836c4744b91edbd63ca433f8fda2e7fb2d12663c8eb44bcaf39cc9e53adc6dcd72aa15d2090b2649920e95a5a8910b72fd19cc92301c8a6e9c3ba3f1e02ab80cc57dc0a0cd094ad98b3f1329dc4d110992e7c2da734f078dc0d392126ad08b5918aaf563f98d9d98152d4759750a2c49415a6a1747f0770c7b428c943feb60b15c8d45d3119e5166f7d8e8173cdcc8d57a55e3b2ba653665bd8c4f736c284b680e058bd8188ee4f3335d46c2abe8efff079882e74fa4232a1e580ec30cf51bff54cb5671d1da0dd1d31475a5b68b44831a1635f9f35a961c67e3552a741bbb73655dd532c603bbdef7b723394740d5129f2c18628f1644995b3038f22703ae4eed1d4205c7c7f5b1a4a1d662df87a193eef2212cf08b4e0f352243868b1ce4fdccf53fbdbed4aeedc0fe6b992befe4f773894a4174ef32094db8d7b763dadfaf7b8312024c1cfba652f69739b1305f122cc922cd02b125f725b5479618ea14fd9e67af2a580d115e44939cd8b1184245d9866c866d378c264f5c4c8fa15713dd1a9089b7b6083c71cffec047772581462ea51be2ea9731213b957a5ee0af3f1cd82e8c6ad9862edb815904b73530c4293b1a95cc957e39a5c8ea1e4dc49c4c5ac2c0efcd867bddaa7295c32281bc9c976344930d01a53d35455988af2f4ba860ff075b0537f518024ff9e92107e31278682014f8816a29a105a7b9b6b96ca6a660af730e49ba825187bb54955d0817536dbcc22008963c7dc534d0b93c63eda419101bc055a8fa8927a2eedbf832ddae4f5157a993f9230f0bf653dc8f7020862558dbff50801d9413c2d7ef2aff859902c841169cb430a8a67b1ab60f1af81ac32914bcfb851e0197b1fda00b329b9d0b06caf9d552ab9e22f95901691efb2a6013a37fd735f509fc72eb6f7af9b0b867548bbd51bf6a07173afb2233605c07e848068c349085f9850d529db7760edc990f91f86039bfb3ce3f7de06cadff7e0e6e2248fa28fc0f87d9702e92896c5494540d521a751fa43e2117b3f64ac3bdbe89aa6116589ec333821075f41286fb9e8bd6b547213b0ce46088ae619880338bbe00ac274022087120497afcdc34847cca40cc7b9259664b3cc840ad0b95f9a0ebec1b6872c4d6d529c6533460823fd312da0d6e1d59d7989ca1dab05dabffd43b410f15549c621e7c8982b1e86fccdf4528e85f36dba1cb8fe1051932418927ec091d90774adc6763bebe2f14a45133a1e01f3817b45b271596aacb76729fee7b8bb818b451058938bad35bad39853d43acd20f1f5b29de3a9daf7e2bddea4fa5c84dc292d52f91fddcde5a83a46c49353df1b41ecb439d35b40b0093d545bef572ce6d6ae50db91e0206d1a944b64081c32c237228f086da2fafeb3a163b1e0841973abff8ee2b09c597e8e0f69f4cdba623be6e72df579601b3c1dca67070692eba680955202cd85191ba06cd0c1c9edfad24400ce886a429973d1050fa6db7b895b8b979471ed4f66f986a8fb379af274b90b8ebd278a771b6ed75ec2c29cdc1d7877e1b2ebec285488fa6a6231df943b0ef032cd7deb61ca17d46c4a66a2059798f0f9059d2a6ae1e0c7e77a88a417316c5f72c2d9adb7e6025627eecafd70d4629b5aaa5bb9ba878956e40e969dd76958476712d39b691f4f36d36cd4787114a6ec26262f88459d7a2255d531ea52a7fbbab37236c20745e6fc2c7368c857516ab273a6b85c6ddcdcf572fef39bf9b7e44e6eb61ef3b0f5a4cb8922791d922f9a9d2aa1b2d8ff997346e40959505939cf4234171a5ea8b52ae8c3de25ac2899fc5e6dfc4f52f3727af0eac115853df2531e1ea199e45b5959f265e29a2ffea7479d6d810b566eebac051ac1cb0a54e995051e8b1341cc0bfb070dcecc4b80ea287eee52da08792b86d2e25f42c2ce23480a9d36adf3132c876c2b4f21e1161f3eea9ff77af6339417f58dcbcff4d2ec233348a6ce47883ecc2a143024b62a172233245c778ab0d21240bf7f644b934ea98348122ec54b661cd0e53d04213afc4cb4f33e62820929795b62e9e8601d0ae2aa345cec228bd106ece99b32de0025cd9422d126d8ad1942d8e421ee9b2c2a153a5a126c443a603c38b26f7bdf3b486c6c04a416cd8757e5b1df0ab2d2436e828f1d907859a2acdf5984f11950b9031986025d16ef5462d4b04cf9586a6b094745807d8ff62421835b8ddba3e18828ea80ae4ccc4455cccd1fc8fddaf9d0deabdbc5482050086b73d6471296bf7350b3f311e7a8adf9885380fc6668da4100dec8c827e55fb18fa0f3ec82cb9b3afd026ea643c1d969792b9a2553b6deea54c608d22d13d92326b60b1f44ad362e38971571cb09590862cd35dea42f7fb7c414b1df8253caa20ffc66306f5e099d67619a5e257bb3f6a6abf00240bb1a926ce72937abe838d4d6e0b7565b468abdb93b0910f21393e98b2aec927140a5bd8926112a5e101fa5217bbd2c92e034aae9c01a131e5ffbcbc36dc56cf0358ba314e861e514f3865275dd49bca346892e6e0458b00ab5eeb8d151d5f2342a4d873c8629d17f42ac801e274d3bb5cf5402b3f4dfe0dbe9b19c272479f0b8d3041561bce7bf3182158e7c25958fab3b5f9c8887b07df7fa945113d592442befdf508cc04e7422b348fbe4b82e5d676619c0f8dbe768b39da3cbfd4190ea9b9e7c5a595a205439c30d2da136d2010b062d83c834df409f3fad3ee10f6691f3047ac0b2ffd96087fc849477af80e6ef82d8f04e5e2589146c6a82d228f135a21677ca418e2a201b260f535a4e9db41944c745b11a19fc70ff553004e0e4c695686bae14b807f2f6ad4cb40111a9686e549240d1e73f078e92cb7112452fcbbd1d76e4655d785bc9bd3ab3cca71886245a0cf4b7d3b96a13b3713ab1081ec9fa2fc376a737e92a449ab83127e18710c5d6f48db38b3b0b0dd4762e24728cede250e71efea7f8c04bc3db059b43ce52714de0d887b23b0383250da40a0be63de538dcd3cdf58bfd941a2b98c0d8f9e8b8fe4683a956369579e2eb9071a0d1982b45fd1be861a205d7a7a1121c0dfa380e44ca9946fdf2c254c0b5a88c2b6b8e999aeb4cebb032ef2ffad62e9dbf6fab0c253014d21e3436a40a924e5f94c107a72550e98c64ca43d9ccd92034fe38fffb6dac8b459f06dac21d116182211815aefb35192509cbc7ca30933f5f896461636b0b470a1371ffa4174203971db2c7330a2999eedc4785ec55a4a432d2149fcd4674cafc6cc6f8002b50153c75dd84ca6e1bb1ffce4f0930d14aa1d46c6d615e394906a634bd0b85065d7073e713b3340144df2c3c92d43fe844ddf6316e83ff13878ce5a13345f6ca1568939393ffe059f39d884f66bb333c32f1a8d243602bfe172094d8279ed33a62d1df2ef6fe235af6c856a52740b17b9f6ee858cb2946fc0afa1929d7bb6aba2c4bcd81ebc1b95b677cbaebdbf35edea6bf811d0326574714f2444779b9d51e9ab7e500787f1d45cf7abe83dc8f6cdd20addde38fe07ae0f7fee9958500fb0c10acdffe9f82ea28649703e5a2b0e4c347c69d54bc3fffb3c383241a42e4b940141f88e8c381407ef6b4502e1f8d0390b9fc6367ff28e983cd7a3750bb2d2953bd1cd24e9485dbff0c2db3681a4314fa8e2b937129aaaa9b9f6515d8b8bd2c9cad70dcd8bec7db2d8b47070b14095425e8db577fe197cbf56b9787479e2c5602b97d60b320b94c3a84a3531772a3ec24cb8a5651f4c6f76a4c174bc092c2f2c09c241c2c04a6c7f0ee03bb42325ee95446a40eeb185965bf0ae217eff0ec5f059957cfc9d1e2b44f0da6a921985e22749d1f54e9a1b777641857cf33c776d973563d079e0b24dd19cad5158ff484c9976ab8efe9660d3c3c5a1ba2771abc9c47849af0715f9373c7a12460af5e3a90625bc85c69effb11ee158d92dc28a0496a63eb89acd8b3eacfab0358e9481b60aa53c18d5e6fc4cc98a4bcfa680a922cd39c763474d3df52f64f4b92838bd6706de17dca1b25234a04e01ddae83e8d52dc5b690166a0a8c48500d4aaf1ecb5af38fd8aaeb5587f0785a49c96c04da55c1c1c7c295c2ccdc640cc771437c5d85b44ab2388f589fc8913c778eccb930b38051c016da96228be4745ea4e2611cd48dcf9d010d39ba6488729bfeb6b1d6d91449c981056b11668f2b14280e0e9f09b80e5d18161efed8323f2be49172c8af2367b4eeb95969f28a733ab511010868ba0a0e47af69576bfda1ed2d905cff6bcddadd5ad7307275bc1be4bbb77e9278e61bda2be8556dbb66f273186471e2f388e996f10258bcfb3eeda9ee5882d1cc196ba9694bed549f651a585403ea9ef39b79c3af1915d139a23957f604e8b2f553204ffd8a68e39cbdf93c685699a1d467221d41ae1c3324d4ee8f19c39215d1eeff34115329f1d50dd3fb7b07042c23898f4ddd93f1d909d07f7b87d51e8e9973f740e0b609a8bdf8d32506ccd15cd3818437f01c62de8f86af89dbc6e909921db52354d39b1dde0f16bd60a9bf502d02b7b042fd03aa4ef4ac3467c270ee1a289ab976be5b039ad3195c8163548cad77175a04eab51a1fedabb38ca01502762705b928c0954598fbf2a6ae0774014be1b43d2411e731eae1086f6ab5870b73d1f6937bfe92d2da992f39939845d70fe32c58b24416605d6e61c48afa6cb0e1d1762283df4062a74c706cbe6a12ecca55db8cc4561182467b0639d56153b43b5df2a19f700b2b45cdbf3d7be177658c5ffd78b2dc6428bc674dec61f514edb14009b48ddcc20f80bfe6c241e2bd90351371ea3130ef7e03aac03fd0fbd5f23bdbf71dc815d25eb5b00156ab77d3f4daff9f48ff3c6d0b2fbcef42f0a6bb42f757ebd21934d350f3e9ac6619b48238fac761253dc597f265fe3cf2a02f8cc7b6fa12c3e32b9b58465310d499b53f1bd8b21e94b10c4bd0ffd7bf619dc4163337edcda4173c907dd7dc99dab8079138ceb1d69c1e57431d0f3d1813eb7dcbf44ddc5621da978d579d75f13818e6bc02d849639d9ebdfffab7b76c372c5da6e0c68da49a308ee21e158512586608efcd605990dc965fff725f512e83755b074bec14992b262ded04449e4d86e3bf2572199dfd2b18a979cf5736c8dd0fb5756c908b5343d161133b7e56f2c0b2ec77633a6516d67104196e14a448e3d285b356b82574067e3ccbd420d7703f84e2c599143fc95f3b29eac0e3e96f5fa0722a4b96f8b4488924813c6eb7d2f05e29dd392189a331665d44553a21c63109e2c7bd85dce1c4b8fc5e1186dffc9b771e945995e21de836d280ab890626fcd2c6c8d316671dbbf7fec58af498d8e1070971653bed214b987e1e8163170247bc066744e9e47b632ced48172183e0f43de560c3df37afbfe7647205f7f54bc1b0793a0135e2d956b643f3068073d5baf800a40279c8da9eeec585abaf95ac5cfe8da18361528129ce5e9e4ef931cf19f97718fb3e2c9ac82c2ec54b11002da1cfb279e34505d387aca5b5ab71a469af8b711697e5809cd0b9eb280483dd85fdbc9d3603e382b30ae6b852a4fa4d0ced7848fbb33d2f9334f3fc914a75a81d0529ac09f15358e976102782f5cdebec573e52abc85c0e8fb4fb679ee8e4463a7116dc5c5d7ca87d456ae1cfe9dbb3b4b7cfaf0efa42a4ffa8948f75163ce304ea0bd99967d4422d054d812d7b33ed1d7856761c96c4e54b71919291093843063d9b5ef70d1db414a57403ac9e29b4e269191015fabff3c119adf3e832c0aee53acaff00b8e428c6ea77d4e6e18ca7b2252e4bea9d044d7024735b166a0ec89159a793f342274271d6e27c426f207c6c812d1699483a2d4f40151b494cd1ee486ef1812119676e57c45aafe521bdea8e4f7edace04d854aab35eca881eeca9dfd8310573bff3c2c2dca54649fb07b769451c0c67748c17306b2a5f64643f3ee248c44c5662127eddf0f45e143c5744335774591bd29112cfa2aa591dc394d4eea7cd29c2d33863a6f879ca57083783e0c0163caad83819b2a3ffb0608087073a13b8272c26e3fc4dae9afee2566ea99ac4534ab14e7a5928f569acbfd84ff907f0ba75969c4f0c9e761405e023e79485e734f9356dfbab9e37977e77844ed5e99e1a43acdaedf59951da57971682822b36511e7abf96078cad0506bbeb42f2fa6f4d228441a6795d7b6c59ec0fc697e4575f095353cad0abc7a6f200e57a8471856e8bfc474ed07d7df19313de3ecfd7bf32e15259533f5dfc1f7d61c274809c1260a46f1b13cb4b2337946c2729dbf8a5d0149341949dafc81f9792461bcec556111a9cb0b3d4b0429bee5d2c7c1db2501c758fca79cb3256466850b747105acd327cce9664f7c97b0774de545dc8f073e164a86d6415a64d9e17d605d38d42efe794c6fe48f651772ac18322d5f720aa67b6e727b5f0c4b56c315682f59da6606809a157fde0f187f7692037d4cf333d276a0982951ed2066fd71adcc5e787e96c37ab12810911af50e79efdd1328b9e6827e0ba5eb05b3a83109fe4e3fe46999a18ea27046a66caff944bbdfd8c593bddd7b86961c63887b821bac24e910b266e4ced9edda7448f0b4721180912858e7f554d10d9d289ffa723195403827febd0565f314b907a32987dd4636627d2c4ebc7b7630dbfa72c120e4f25cb373196b081461a11de49b1e7c4c9e3855fcc45ee26cffbe604ccd79e4d6412a75a32f53b05819153785eb8a313dfab8584eac55c74a7d0072fec9996a01fcd8c5686c99c04d00de01abc1c33fe7baed7e741cc82968042afe9e6e8b163c8fb84c8e509b0ce012d8bec5145ebe9b30f10479781d7ca0f7dca9ad87cadecb6515c29cce842f8bd7db5f816a6399aefcf4f3271d2dd309d52c7d27a756a369e6f92840e040a9586c394a2cfb6e91af8ffafd7f62fdd002e67e41922e674fc1370f1f2fa7ef99f884657dd71d3aa05324976bc5040d30243d8b155f32a7353924ad2be0ddcf1616066bd09ec996a92311637bdcaf782160579a9afef4d3570e680d3099690fb5349110de456a95577ebeb1110662c9f0d783bb3e615f2d3b687d665055b681b4bbeeedc361a8de681bcfb1d4a44a60c43f2178a080a4887ba6f474fab0cdcd53cb5a76a8e67ce5d8999e1ce60597387323780594cd7568b48132246bb65e5f6e2839e19432795ff3c0c13c979814d933236f74d53dd09f9a95722f93af655515087e52231e77d7d2094ef73163c24faba7ed55f86a38e7cc439576df3ffb191f1604929e6ace3d7989fa2fd55b048ba7f944fb893dad5d586e102bd4a3e2378022904a6fafb6c2b55bc90e1a05e71090fd487d83c403155f4b171aa25ff49545633ef965027b624669842ea0a51d4d69516a158aafcd01b21ba5d2b138431e81d085b2d50f1f0193ad1d8ef35e425b0b11cbac42f3c936cf5c34c9b62afd26be7bbf9cbdd37030ab25240d8388fffe1333db6c2714de971e1756e1a01bb61ef4a445ec1a974dc30043df4addde8c6c070c4374e6148b508e34923edb788090f94a56666855733db4087c36c2b0257784a004ac0756cea9d62ac99f5e3bb23578682e3863f162539f9a4d59ea8d9401c83df20819d2c8f7bad0522ebcdf46ca5f2372a3eb73dce21eba4eb2614c70c0a6ad1158d2f7e5a02a767441df76afc9815b57ed9ab49b6005d8112b31547798f451b59483e1e693e37d7c749e7446c6eda92abc75028cdb563b757ffb56dd3e02be895072a3a660b4f03419814eb7f9f187caee18a2ed5e1f81acd08218bf47aac6d0f1874484da8e2aa6da979d09552f74dd8e5033341af0877219f0b209065d859a0dcdfbb4aae85c6e5d8be62f083f77d56246dba7679126a3d3563f6b2f3d97f3098ae5e734f8f4ecfdc9cdf51761231c0f04f8f5014ec64d7227199f79b85a0084a4f0bc4a7c90733fc52d70647dfb52cefc9083f03ab4ed7b8e461444915b31ef990daf61e8b1f67db523912938147214d87724c5d9e5aa450685de4c85f03515f8f1956b127ae23ad35e8bcc6740bd44e7101d43ac6e2cd0111cf173d27721a00af8bf6301111da443746ff28790815fa99753aa62fd434cacbec1a46ddca35bbb7101efbb944fa319c94aeaf0d5a06fb53341fe6c207889ef66f9191bc9cad327b92a8980501f15177e45df4508e3243be2ccea438ef2f8961eee0aae193264e77cb5ea966ac7768a34f68f95f0324233016c9aafecbe2cde28953bbf65b6977485a4892621079fda5ce5fdbc5311e2c0edab2b4b183a49b66200edd771fd8303a3a8aa79203d717fa0f1cf22bbafbb86310be0746ac508bdda4e5220748d75899326c536bf0c94d8670f7e01d3269179c60c5f73cbe93b4c022a4b4c806b4705099ed43058eba6406a46b2e7ba299de8ad1c1d58f7c1d61920cbee015eaad4ab4110e1253a63dbe3b5b47e6f426d59bf97a9b0b5997988f15994ef9a9399037ca2ea9a971c3f180a61ebdbd7684fe4d817eb14cefba0a455e8632cc2cd074db4180a6dc6dc6dae1a3075e78cb212ebbbb6c305b46fa0ec27346e580f06938a14df2e5f307fa6447938f118033f2a97cecdb0076e6e49297544f27b3e255014f506241ebb7b3f4da86b3189f9057b5d412ab686045f7ce62a28b206832e93aa19666b4305d648db7bea74040097682bbc21a27d07080282027dab67ea6f2e9d7923173a59329481132f92bc25354be6cb94d0dc98533febf3c5d1928807d82a0401b82aab74dc982bee618c7c3f62debc56e8a207a6a251a96780628ad006ff1047269da7f36bdd825e176e0458077a110d2c608df65ed9fd57ceac8b673b36ef37149d9a155366a166fc9a29445beb50cfae845440c88b5580f1dab872ef5fc88c8cd8b8af3c7f29c75de719b0bddbcabf64c19cc3f2bd299e258cbac1c89899ae110dc0d4f32d9715cb0325c47661d85787b432fd470fb619a7f4860638c37951f784945fb49f72591dcf8f385e86e033190198794a8ba22e20c6f658fa99fa9a76c4e3249cb656eddd5a4c8d85facbd8c67b90a73242db256db56e63909c3a471327d4f4265e0ba3333f32b6969fd2d4b94248b936e5682e738fc1d6b38f6d8d88a9caca84d33fe8e39539694143fb60146a2f276c922ae6b7e56c2b6c148889b6e13ba1c16eaf8cf3f1aa1120ceb2f6330068437a163d3275029e6f10cbc55f732e0fc36cad20451faeab0ea94a858247827507e6d47e5144fbb484b5685ba54e13aa11273ce2021276ce371737897d20662dcdb1316eb6cd8bf245091454284e9c82265bb1b457942e87bfc7d360b1438fc3583e28e17b12c8d5bf66ae9b222e37ebfc3021adb988551e27094d16a3d8b7b8ff31de70034ac8ac80a754287405a7c2990a1e0e0c7285205b69162d90dd1dd1ebee8cd3970944995772edc7d232ec56d233e50e13472b1cc8d5bd8a97ba21af1d516223d93a91cdb888c3cd47485fa35e5ea26180fb34bbd2655af2f18d148a59b8885a1ffee040c02d9fb6027fba7fd2d1c1b3e7d86f0ce2693e2a351f19bccada4a51dd4e106889ef69294cbd902bb4c140abb26c0b1d46925fb18037f67737c251eb8c0465e58973570c623d3a29f868482d888ab0f092638e305c7e2b5281bc98054ec60734c4e9f9fef25c0585866b21be0fc94f6e8b960f7a1d13ce8f9bc992804816567d22330e87c029810a474895366428cb86596eb206ea7fffdc0b7fed47974e2bb367d9809bb0babf1086c728504e07346c89b2481900559beb0d6fb70c558635928b55fdba2166c84238ae19e55b35f96dc1aa6c00a1e6349a5b96104e91e36724f9e0656287238001e2069b8dbf22da26d3521e565b93503e08d15e8d0154991a59ead6c28c7c009870105dede1799ee1ea05522f697a26324e1a14ab53fb2810a3c045ce52e0694dfeb133eb5c0c84e344bb4d10755ffb2a795a152eab0ef4b6c7e998b515e46302422467b84c6b10462c13e9a5aa36d156a856ca471f4ec762317c17faa9de57a38bcbe79416589c804179c294c6b669a8fc0fd10afb38d774ea6ad9257507fc3f67ffc287f79204054234728bf992707f33397f70f6f47bc074a89a26fc975320746331430555d85ae084da8e18702fe9359979fe789866712396f7907e94ae070b74a03a39d0c74a4cb92449f8bb4bc435d284ca20d48500a7d6a4826cab2d0a1c8e2da350ff5ec29720478218f8c898f7cb6f32c2cddd0550d368cc7b2f043f5598af85d053c0a3367b8fb56ee786a30fa4b2a64f1ce4314adddf57b22013b170a10ef2ecaa574a6c46d620c3cdad55916ccbc23202713e583a84aed16868a71cc9ef8e2a81462ffca9af834dc27e60f7180b64977ee30f6e7997747e32ae856719e0f90217ff950e0affdaee5237de1ca5e9655d66fbb747656a2d390f99307751e52dff7726eb1af28fdc02a7f53a74b4342ab82d3a277de0e755e3cda1284f002cfcc992a1032cbccdc7f8b39cf713d11567a8a941051c9265ca532c92c952a81ffea85c95578f579f2ea729d61efe93bcb502dbc44ad0337ec10dbb827779a7124ef9ff5494e8d9c2bf1e67f416a397b3c4e48fd89fecc4ce10b4fdc7d65b4e2c61b7f13e13492c66cb5005cd13eb6aca0f8f018bca77fe3914c94e503","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
