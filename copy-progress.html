<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a2f93c662f29d1c7b31da66e35a297b91810d862ac13f384aa2d00c246603424e4dc91e7eb5d7ebc2eba7c25bfa8a91846674c01ce4828a810862a6a9069a08e2135781cfec058b24d68a6df938c4078866a41c0673cc3d9b500d4d678606668da356d29f5d1edae0e99be093c25d6663a68312d67f516ab093c04695dd4ed2cc6bb13d85d1df10762e20c7bc0d35d2ec92892342617c0d926b0841f8b789a8443fb3c11e06e37a54248d3aab8772f9c4180755f98691577234ae24597a1e81c391d275ec4f2aca1ed2adf76dc1aced28bbcf5d0431697c602b9e1204de6e9206b1b2697a4c76c663571b72afe2cd89edf9c7cfac1a99f19cddf38b37a8127a29660d412e66baebcd55e7ce74d1e9fe4d1cf65fa6e58efeebc5e199b3f4f05580ec391e0b9803bc7bf700418704c4d8f6f8d96df6b1a0a726b24a917315857a5f1b231e878041ebe55f6e2aa0f7a36e024259841b4633ee6b2effbc04c2c0263300e59a25a9949e6e158335e7f94edacfc25accaf7a6e51210b249561ab228f6ea87279a2d4eedb345c5a2c6ec43c799f80501f2b05590e416431bf19ad8ee3350a8309dda6f481deaf8bd4b995ac6836eab7fd498b6a65af9206f5e5a298bb7db575d6e3d4d68528495f39d3d655f502594caa8ba75f23e59f68dc4c05700b259f0bfba1745564ec1a3160a8854a89145a5a84a2bafaff19683b89ba8a19d15ba868b54375ccc66e52736a9084ee5c6eca13d9bc446be5abdb041e8fa7771e86d13846d00abd8ac05ecd93b1ace7cef3c15d495311a846421427396c9ab7c067a2ffb08cfcbca4be5f8598d44f260cdad0d5b98e8889606e934aa7112218d2d0cc48d246852c1066f06323377b7992d15977960fb785a402da4d7a908c4e35291322ec008476111c84abaa3ca371c423c3cd3dde3ad5b1f1bb9726c8cb5566bfcf2f0f658a92cae88299da372558d6dc9b184c08c304c6119544bff2c06989875f5bdcfbc88eaff9bf5fb9b5cbecef7cfff38c7859711aaf2e9664ecf68b018724685621ee646c7e88c47f6d97cc5a985aefca871aadb1ea7b03fd9e45c09d67a63c3a6dad17b09fc18a4c3324b8c2e8d6e6a859f1799eb727f1eb58b13e3ce1c439bcf8bf516d665172b67b0e9a6ee393fc15bbb4f66df35b054dd567424cc995c1d07efcfaebb86ac398ac0f6b52f275922eaecf168fa6d0bff2c865723cec62aad361fd2f8e9a03a07edf6244bdef21f7b567f56ef7a2b7dcb6f8da26a4ada611a1d3af197f23d05383e3f4278a63a232e46702778432160a8b9f7552bd4f124d4c8647bae72718ef38ca901b0ce38f6346922ca9f28735798e0cda58178a075e75588601e0665ab5df8223713910e7807dc2eae9f3cc5bec84635c3770d182f17d895db61b45a1f6d2ad84ae957624b425df2bc0f565110a3dda286b6c43c7624b36bdf5c242bedffb0158210e656ac7acb2f55ee3818c23123655873b46bea8b25dedad4b9c860366edb6bfea0e7f93f9e26062378b9a316070583e6d33732ff96153e4a2ef2732e42e28903ee75c4a6e74f638af8888328775dc6f62dae4c269e79ddc4493e6ef138154429faf4b9e58a0239ed86d6fd99f5b9d82067bd9a7178b5d7b8457074efedb9b793eb78f27336b09e8c41f44c1aee55a2653c3f072b7b9ca692e15eca21e54d3cc526efb1f1f09a5ad9387921b82daf843248cbb9e7ee5073ff07d894d8670679d5184f5f108f318cd8082a5885e7d5f574574c867fe1a333c4486a649edb79c3974cf4f1762c78d6f8087693d65f66a1387460107a4743a523ce686bbfef771943c15bf78f4132a0df9c4162b0b1f45fe544bc1a3fb36d714c6d8c8dc8da23d973b152f0d8d1aa423e54a1eb41cdf166e6a4069a7143910379cfa003ac3d1ae7139c0faca4704dca330f31b991beeb5f414faf19cfbae59e9e047cfcabed95a521015a7895f1bda25d311f6807a38cc2589b1c117df4d23f125e31d6bda88f3c5a6c92a667528ad4ba57e50d40be147c833780cdd654864edfdbe51b10f046934dc775dd019daf9749ae38200fd42f5f5f38f86a8e607cb71f2a38b1a279e0e4a6c946cbd5790572c2e3216ff82b5e8fa15bd1f0d0b2a3b1b8ba886ffe9a6b120ba6b18c64ebdd613ecd03eb28e13f6491b2fed9df8011507c938f28a01bf08160ae9e5515d849cae42eba6b716c6a37a7248fc36e3ca3921d4d8a6521230455fe0f799a35e9b7703bfc7364d4a73b92c91a006fd5358712abf774772307ed8b337b44e26944fd39072d9a32452c9dd0f125c1418187fd01398c534d38d52257f14dc80d5b2eb46a71ca7a511131d9dd4524f2e08d763de821601f85748ce9e65d5b7b650b2b7d59108a4102de0a3c9672640a8f6f58817b75853210981135008aae7e177eb7a6ebdecbd612e8bb74f956f4b433bd85b74aeec21dd73b39e2e968d5e0884727d1655921b2e256d9a0290474c71837e230814d51c5a642ffe15841be7af757ad86be3b339b0a79276ab1c4f2172958270fe1d6a377f1ad7bde81aa40b695dd517b0b05abca6b2dba278aaccc3f66d6115e16e96b2c5abba467e797a23387e929649f2dbe85e8d98619e8bfe3ab4f55e308cb137c1c86d16a85ddb3612bab6c5993210c5dce20c4fa0a772de33642771d5b559c2bd4c986cc469874625c8ffd2a83e788bfe7b9a5a4d56f958c4f6838254d04c6bb39d4c261e43642fd293efce2e06e7fba022f93c98e950c4ae10c75f6e206e84c7190cafe59f701f00ad11180d461894823e69d111f399df28ff2cefeead4f107c1be637a903ab80ad5dce325b11f076f7677e4c9d658a08743d3c9a6b02cde0b382f3538d68252a8fb48adaaad62087efd2403a44ecc817a1dfc0d911c91e55e5f0dc241655198cf9023e2230e412464c358edec13a004e65d5aedaaee2acef2d27c04a3125dc346e3f1d0b553f5b612b557a2bd69f8979f527c10358bf6659257023ea5c30f63cb823ece3f44960d9c0cae0d8d96ab42e91927e98b4824ee1f1b3cc18d781960d7a23f890af791b53c2d59d01f738303b31df24f4069711e2a9db4f680f1d7ebb30e3c3ad36015cb60a2129a141b71a9e18e07efedf0d508bbdc3dc443caa08a01875073c67624f346935f3eeddf90e92d00773b12fb77a3fc4e30b741bf9e98a815133900a5b1c668ae82b2a2eff75374a9924b22ce19464f5ec4cefeb6098215efa9a953095aaa633560d26985c7d1df45d5b0d9fb69ff9479fbe9713bf19840878f5777bc4a2ae005245590980fb51e29ef05984894e37725cfce0bcc90c4a1747acfffaf1f1d765333728d00a6b60fe8b7e12eef10767d905ab522800394b9c570991615eef0c117fec7e6b9f8027b450a927b7df7dcf0a0663364dc750d68b440405cc347dd9cea05b5b3ef4e02800326fd8b518139a4ece731e0ca93a564ea2403158708d9da37ed9bcab1582df11a268c2e048d5847d1c46265b4d42acb8279ffbca1e460d1fd2a47669a4043fb17ebd2f340a668df8b5289fa21d6fbcc1430bd6fdb5192a2d9673e0476ccc83cb46fcbe59895791bd4221b1287fd185e2bc3e618acc050df38da03709dce0e4edfe83026ab61b0bde7e3fd938a2ff1fff7bc25405e225a001caf1fdea1571629abeb4f0e0eed1960acf725ca25ff4b6a8869d13b5dce17e7c5811d448e2bb42b14f6690de2795ec3dd58118ed0c8dcb6bfc7edd1030b6310fe979f62a98b34ac110614952747de35f44d22929bacf301d03d6a60eab657428b38798db1b0ac97b96c5e414ee0820d4ac755a3d571b280744100352a4b82a26b57b859fa3346cb5adae8f5a0d616c5f11447260372dee36c64c15ad2278f9dc1353bd54478349f4af00846f0101cf574cfb75042f669c834c62e2fded2d9f61bb2680ff79f203ab0877a9e7d05739fedf97ff11542cd2db759a2c365105fb2c3a3787f655b37070bc226951d3851cac3181e88d78062a34d66652600d8e7171614f8b022c3b5a18de707a2147da3a7434313e155b0583c013963c643d6e39d4e02ecb8df045bad2322a63ab822f27308b6be41d571076a5f1c899bbad84e02286e24f1d616f5a53a5cdc5dec0e4bf2db30f8297190f82bde5e439a71f7025e53fe86474bfe5267828275b999e46976f2455d58e799cc99d26ff3d0ccccf876861e2fda87bcdcce3d8a91c8ec208b8b50625481533eccefe0fce4748e07a6a415e8b5649f0a9aaaf9f7f7f8c0493bbfcee02f644a5f780b46e26c5a670b7821e7302d179994c291b9b9b2e2499b3f2f117ca12bec477d8d9d12b5f8576bad6eeca252a162280b540408bc186229d1d91ecffe3fff3b33618125c0198d6750d0f6e0b4e8d60d831c3e2fa846f30a47e08daa1f2fe520168b355b27598d6a5fa5fee595f3d1477381b891238d77baf253aef978473d435c6e85d104fb2bc5072e97447869819d4f801a3da043a63baf533ea6c41d51ff46006d5803364f778a273787ccbb543f960083352200e7e2dd1ec1c60bda3b3e77726eb1885f059daaf2726ad6105181e412a10dcb504ade336a2cc13a8efbd5078d731290be4c41dbf625e00c7b5440e77716519c87225e9e1d8f860dee3e302dc8db63556d8a5f78efa50ef2fbb3038735cf090a5602ca93528d357c88897409ca1286291426d8f9a402e9048de91e48b72f7ce384df15807c706da167546c84e6f51a3cbf78d76bb2e4a3be2d159e36db9bb847f5402121a8c71bc3cfff00115e851ce6113f5c365414ab4917a1fa958986a53c091fa83f0f20fa62632a62d5f51c9c3b40f2131fcaca53bb550c80146513843947f24dc6902282f449691c90f5ecca374b578a5054662dde96af34d976fb7812617226c124b9ba29924628c04ba2131632684059a6ba9828d443d4c289b448789a4f44a86df47dd7f4b4f668dc353ca77d5b43c98fa7956fdbc6887b441fa63514983bae96ba2f830d7c7d73e620ec81ffc06c797352ea3fe633a5f7502c6979503d9e121ac3874aecf8d2e97e2fa3082de3e36d9f8b4f5a69124e3c6bfb0e117ed46416bdc307f545ee5e7734626fb0ebbdd1dfd6a46f2bba500264827f66278802c595e30a434a71122d601ce3bc996ca2d75c3bfa2064659131b0850c2c0a696d0c5186de21168a9a40160d5f114bedf89cb7bd898c8cc3ea2b921a7f12bdce389ebf9e84407f9670155548edca948f3ba5b4a4de795e80a6d254b6cb8e4f1c386da16225ac0692b97ec7fab1ee06e5120032e6d407b7a7e962841a500d2ef878b7ee67241504cd48e81f085a448a18879b89983e3f6c62409330ed948e55687624e4c811641ba8475c29cb8968ec60fa21f7e8070afa5a73ee3a7396b4d2d740ce200d1d57f207d23e7c57c1e2f4422d3ff009baa568d299277dcc5a15e5fcfc31bc0771580e872e40a3c38fc66b05ae85143956890a24a0ab3fd39657a50a198891340be72893178f0f6b4dcb3a623ff6f2857aa0fd4518dd454101270dec1414408e4eeada63eebaff69219bb2a3356551d2ef0fcc5f89e9168ef4ac25c0f9de177e010cde588cfe18759ad10f707928236dfd22fb3fcf6f333e635edc92ba8eed07a135ef1dc49ba9057136de5acd7423bab5e7495badfc8051970a1d692fbc625aa9e5fbf7865558b6c056eeeaf69407e4d66744eea98b12730a4d2fed275a8b1d65889a97296e501026e9a3343dbb6e192c928914718e7b09d54d235c19f08359e5ce51de77166c66a4f71e9a2494bcfd7630ed0c858bf0b36bcab6538843e56e11106f83d95b8a69a7709f4ab1d0190c9fd287929cf8c68cde76a996b62b1e96e975ab0ef2825d9a957fbfd8de841478d3c845c1fd18cfff565deaa625c74bb0effb5b59450126b07a3483bd7a40b98651e79187d5a6fd59a3b6c58906fd6d5978f443e097eca105e123f0c51c918a875e02eeae27bb90b39398340f1c8985a7daec1d6ea772ff7b3f15e2eab12582d978375a0f83d763023235adcf3d81e91604ad3768f341f5e1295a299a094edcb274291a7198cc74df07ae1985b948f70922531664a7ed20ad27c1dc6862a23aad29c8b2359cf76c21e21b6d94ecda7c94a417a7cb701b0c6e79b185f6dd5d075d41b7baae7ca9978292974e659ccd284ff11e4c130c6d8782d8b395e3ce66ac0680d88f2854532e4c9115d8d6989ebf8cdf7f9e57ae1ab01f0f52f6c4a27bef0dbf74f934c805c5cc51fc884f5351048465cf712a4fc3150630a7a3b6ea52aaf2408ab6a531485bace7018cb92b8859ca933ff116022e72a93477605e6854833167a25af134ee8617c87228c62529afb5ceccc4ba08265a878a09912d7d5dadcce4eeff6a90f6b27975d58e51affd1bf16173aacaab6555dd3e6dd16cd16738df1724e6ffc8fde5d7821b669f3ef9d8f1aff3d362baf4d86b52c7f484ad57a8680ae011480c32e0d0429e3e76b58b5fd528288a9849ee9d8ac6546897575f76f535655003aae9d8f2219b2fc08363e48c0f0a011791bbd6e362aa278365474a1235e5bb31f4df57fde6ef9763336a78ebfdb9b6f3ea38fa50e7290d13ba2b11626bc68b56b8b20278feed7400ae5a62c5c29b2708bb48444a260fda2c841255c0cd98bb45be84f2e8890c8cf131743a26026cb481d4cb28e5cc7dfee295de08ed10bc01c08cc15dc75154c0bb82322e2a6e985d1d88aa7e94ff7d6bd3fcf9f0b1ad611d1d8619f5b069f9d1a3d894e09363dac2c63cc5ca4fc07dedcde3031db765729d97e8e321da1996f2845ecd7614250feced7f2667a12ed9d941b130397ef2a901c456160245514b7c5801d437d14345df0703a7122a124263834e5cfa51ea1a6fc729ad476f70e1cee8e3c1715ae5ff25cf7e94f7b7ad60585d978be869f27f841ed6d4affef162b5a2c4726d89eb0a78543f300e781e31585852139f2eec8892122e20ac274f3b149df9a6e7f2025c9c99f6a333879308b55bb2e6c0397f04f1806f7503e71c9b7d2e7b5487c726f35f09f2152c30b49611f7669917c253ccf7eee8f12aece38919c505d4dc7d540f1342166dc078db68972f76503f22891573bafc1bc31d45ac4f855a2268f1d75e3c9cc87c6d7b26029a1f50eaf95895395bad6b94e65f520529433b0085a96286a0e47892234f833ad85fd684d777a349dd0209d05944fda4a5030bafe6c3878b636be41519ca51d217ff529aecd69f5c29be43615f0d08f8abd9860e9c5ba10a57e92f9b18cad806335e48236887b646c37295425ab72da2260b00d8d91b648ce0c03f0e00e225382b34c20c00cdfb796665b64def17b2a45eb7ceeb2cf15fa92b3b0eadbdc36d3e460db6857324c846d4a18becaff050c018174d3ad6b9672a10010657a3988e7a44f03d773899559939a4fc3e0a064d076c4f6354e60e60f16451febf7b14eb7d7f09a0f31bd12bd608bff9498dcab0097e962cf3ee634cdabeda3a12217ed20e41479e6b39b9b51c46358826140957e720cfd1060f380ef0888695358e75ba56d16020fe218105bedbc620f5567d00985b9fc86e692e8dcbb931de9a629ea798ea67c2756cba4593ba05963c4983e1eff46c8627c4725a536244f04a8e4e124b75cbf24170ff5303f358f16589e773e72f46b918b09760b167b20ce5471c20ee4773894e85780b80d764cf0e23844601d1cd33fdc2abd2f480ac4f1785a6252819a5e6bffc7956b4fc0daf25ddb654dadb32f7f751a768b7b9fa10cf0639d6d9ab92c06c064b843b56df6db7a83b07019d5f9ecb6528afdc921e63973a534f3ce5f62a8011a63c754736297d89b4c0a0ef483369055a42e3a20ea5f8a4ab105d1581f978f6ed12c1300dcec277bbc836ee2a720f83d265557c711b8ab9e95915ad0a11c1d47ecf30e8913f1ae61dde4aaf515c10452136861a3dd2f50758ab19d0bdc832ba0edacca1e93bd2a0716c347113bf66cf8725e7f02f7af1bf711564de80b5749321fc72f2ac5ec28c508e5132d01d91cb4bb2861a58b58cf159ea689347bae83991bf1ff1d4b5ba0136cf47ab4a15da830b2873a8faa0e5e866788056e23dfb4b5f48050c9a02e7c3e0197a743ff25d25a191dd907dd117cc613fd82e1d53fc9a0236afbf5303ffc80a8d63055184c0d67db2b7f3defb9be8b50e84caab244c19c317e8e09d2f7ca8f71b1a43454c837a5ac9810a981fd3ed8c813427565893055951c4303b4c6d75c6a82836d77452de8d03a8c1dfa6278bda7a94d6862c06c4af6c5a6e01fb1b26debe9152eee1254369ac123a9f1a24a1d1f3e5dcb497da3a9b9e4bb5c0b4201987f2deb1441a1e07f8d2f6141c2875c5b12ecff03f191908e63a8c67526d8b11cbbcc44f623530e899f6ac8cfa71fc10b3aa8c2dfb3ec1fe8a5298143989754fa9ed3f9c98fa6da8dc4f66f1c884235cdf0d3c4824e07d0ea0a829c8090afa3a20706dbe6e9825dc15ffdf28cd733a4b9a5f717b7fe8db2c8491354fee0751c31d543b304fdbbea2c95c4e79930735681ab55fdc0c76ae696096ebc746cf6397e116159ac70894cfac5f0236fa6f0efe8b6b73d5077d42de4005cb0ec43bf49ee686d1b71e416109be7628d7704a6b5939c8a673bd70df541732069505746f77dfda77db996cacfc0f610b2e57c743954d8649068482738c6bb79b27b2e352ae0eee16e76e4894ebd9bfcd441f646a856bcd02aac0e736d35dbae8a1d010f6cb85261275d3b5214544a80e1d323ce0bec44f610baf17ca9c2b8259ac157786686672ed36978beda5a322562170de0c677bf07d860f5f788d54ceae9f1d0949241df568db86507953b313e6fbf710a6d8d833eb0bdb18c4d44a3b5942bf5a4a30311a2ddcc02eb148e97cae880f09c0256c928edc2b1d4ddf7ff484033daa69ce1782b425bf9bb53de6e9a9ddc6c0318cf9d61c0ab64dbb40be414bc6b3f57a70523222ed640d29a9f583c72f8c6e64a3f4ba0e8f32623203d085089772374973d478161b9f206c1f362158cc8de0dd72185d15485be3db39969182df569b78d7f6eada686d1c694ed0b1fa2a50042ba35f351125b3f5edf93de2de85bad4ede1ca0fc11cbc3ec76099212581acdfdc0d922fb75d5c862f94e3aa120f3f8abcb6dccd42c49ccf30767d3abc8aaf4d8d85c7921b076f0ba6e67ceedeaa581fb87b37915cb6d0e53d3ab662c582d7c9ed5908dc4ee223feaa29d63126dcce1a57289c686f699e3ef3e5f7ba24db2d06ca00db9a572d0014dbdb830fa17c882bedb3ada3d918499e3b1f9559290a96f3891b90b909440562e6ec7e96c3dc7c440e2419ae73e8dca6475428ca2f545a2f4184e878097eeefdc3cd6011c8a3202a79f1a602a4635dab420f9c81eaa5973afe092b1d5ffa74912f61046db393bef3ee85bfc3484340a5a52e0781ef4dc2a542209123ccffa052e7c476310b5f8aa7a999f1057ed731c5fde9cb28d4b61c97c0cbd0d2da3166f7f0194c42663eea8d3e0b3ba9e484af54693f4e930e9a4113220010049858d72bdf55439bdc6d932488075a7394cb7b28d52d89b24bbdf6c6fac0a593b5cba4c5b0b58e6366d85431be0c601139beb862474e3bcf43367e41a25dca16ad538e81b7da8a2d99ea51039c8eeab42eb5f8f3f4157896ea9b6a9e2c809fd1a9a35a559d52fe7073a051acdebf26a0f2528a06cb49ee990af69dd1a4c302482853516f285c830023c073253fff87921bb8b5517f9538a3b9565ef329b0d5c8297c725d23022d43f7c937094124c8bb9e15f22d182e743db2cbeb62a32ee9f310105350025f5673792cb287bf6e5d385621d3bc3f72f772d313ab6702447b00000085ddf2324d35f374e53b285721ba8f89e41900a1e1994bef309666b8d56a004491e72f92f1b54c79acfec9c06e6474767a30af15848bfd06e821deb1c110a9c9e0000e8b8116b3f3b8fb0e8b375a0f22e71c73dc66b66cdc220c3f11fd315cde39f0f326daaf408776ce33a0ea28575ee3866e459aa99ac2466059ab7ed5c3195ef9ef3a521c313bb842e11508d7c96f40b2acf2716e516d33d59a0e7a3c5244c5435e61b5111f419bada3045572b3a74e032cc3ffc74d4be5f1bb98ac6fd63328f24a091fee5e08c446aa9a887904d1762408be613339729e5b948a58b04d547ae3dcfdf1187981714f34d1222c740cbe0c4466ac179d557429f7cda9be67ffe0543333505c67c09bda68363898fa478dc85907a7cac82a885d00f7cf9faf9d3c068b6040cf7494b1fe0c13f024a1db03357c49bac433be55fd1ec3e9621f5f417b114e26b2969d873aeefe491bd47d8d46d8a18aa6c5f0ceaf7968788101793fc1695d2d77455505e561f7c26a515c5a5f93f321919e3e9b9d70b6c9584edcca4e4a4a4afcea0bacada5e0c4da3e8ab1f9cbb660e2475d7ebfa0da0ab534c95725c3830c03296fc4be60aa423790d82def2fd554756504d5289d3ea78277033340b5ff98f9212e5d4c899c0c2da83a26faf80bdbc59c3543292ce5510ed1f2f38f4b8bc73803356d9c29d844d280a82cbe4b601a1312622175e9380b4d8641c30c314a8f55d2019baac045bbec972fbbcd6c905cc8c689fc7ea9fcb8fbd08d3be550394339b4cd65d2f15f43e10ef2761c5317e2eb38be6d1de106d8900f752c227b80a4c7214747bd3024433ffa9e8406d5513bf7204df73e639069730db156ea8c72596cb81564df5656e46b48e64aac96ef13b7a6d7a163348734d1974f7949848849015493ab28f90f129bd041bd87c5e7e03a6fc5c135bfb062dbe6e95ae8694214c016c7e803552497d866c167c53154451afadb3e09a23c6396113c0d993d31b3b473dff6f00fe28d70b806a8b0a6fa0a95c891a746dc2933bcc0ad770dc8dbc957e1eab672cac3e86b2e18adaa80cf64c5e86ed2a99dde02c3dd94a4916d1288b8543639cfc7a045d35aa5d5716ec0921104d984b3ac6f3e88ccbe5334b7b666ce4650e8cf9fffc5acb9b58d01db6db2e770b09d03db7e4dc2bb6d21da44665427404a73279fc89049bbcbcc26ee450a198134fe0bea045b0b20e875d50aa1f7e58af1feb0327114fe08e601a99d8fdf7919cf542e46ad9b642b64d6885ddc660f8549446b88b4336ede4952172b7721ace20ffd6707fd474c62246bb3955d80e07e6f1f99d5c3616348804b90becef533931f5f9447448e5b4470ec8ca95e95424f371bb5b191292bfcfd144a4822baa0631f1f7f92939ee96b07bdeb87979173d3a126c0d3465401a5daecb82b6494620c3fdeb643d0d53f93bebf9a3a1551c3452409782459fd09813af3661575d6f24421975465922e8d9d1f61edac546c32c5681dc17f5110eb9275bbb970232eaa4a0374e07a87387bdd89f5cb4da7d94551e14512eb6533106d5ecac4ca8e6379be243c8a085734f3598a28d7ada7a2f8fdf99ae99e0b107547fa13dcd815fac4953b56aa2175082d60be257a5de71ff2ca30a30d6946fadc02c81ae42aa08fd2db3c4ce193e25c3c2875b7f297f9e86d8fb0387419b449a9237cfa8aca0e84e8c2fb0c927f4d3a70a5afb06183eb9254ddecd686b7363b3d69ccef28dcef78f51b40c4ee48e7f885a06e19972f93166a0a7d05391c3db9c59f6de2ac16597fb0349d81bb03816d0614554ec44c10630ef84cde73c0aec5d9a22e8708a37b7c993240fd5a53435a295f1483d0e3f9612f91b0d30f1d68e42659862adfca2a9d5f75eaf1a0ff090d4a9c2268d5c7b9aa87cfbf34e70b6b26736ce63d4e4117952e43cdd1040a5b4117335066a01f134a7992750a29fc561e193d4c5043ca2d3c4e9983e64827f0dc926fac1630c09152d304811ff2bbfe820345bb37e85ba452b3fd45971e06b5c9de55a3f362fbc209b66e3193d920154ba6fe34f11a9390519b51fbc0c9a0f7a4da296efed3e96546eb2a46b6e378a01ce30700bd5293e9ec121f6ff42c9b065b06fd7cafcc69ccfad611c3bbc9816a9a4f6dcd233e12bddded77746047c5a1af3d7ac5f0bd7e8c49a3f3c0fb15cd96f0ccefff6044ce8d927854ed00857ced09bb91f91056301ac0d14c2ab220d7efba3518ed752118eb0b3f70759a7b3e9f34a9d23e0d31a395e472ca78cb25537700ce7a0edd011f08dfe85040f753cd6cf78d4f0d512a9846e97da45b992b770e7d9f2d01b9ae0616e86810edd279ba6c9b0f7c4296ea5cf54759e58db8f8013357d397e20f194930d5b85cfd338272a687c8e83780e5e2bf32babbedc18603b9b2a7550366216a5eca7285be383f4ca8f10d4cf034479bbd1d131fa063ea530b5e3c42266921e2281706904ef76a07e381039be6bf1a32e9c5b64e42c43b69257ac76032b66c8ab3d65aff06cdea1868305ed579309df0cce1a29c3b7071a11fd36cdb57e82a015a5558a4b087933afa1e7a53bcc59ea478853200a8f9193ab4ba8d06a584754fe5f8421ed375327702d262246b059756695db6411000d7e20fe74f4d58949207910673634307a2af88dd977660ee9418cacbec358e0a8b73a508d54f99828c9831848757b86dd503b84fd2717e663e25daec4fb4af9b1fddd0461e4ea48ac41d092312dead4b9cf2bd48c8616d2db862f54964b0879010575fc650556238df4ec9d750b9fb42f12db4a9096dbe396ebcf02e89a8571af055efc32d3e7b5c6d2dc233422dde86b66b1ce6d745f142d1157e63d2c3ead7f0fe03dbf7c60235dde3d9cbfe32afd472ed6e7ea3b0c97697c71e3d674987f5804d1686d21215f02547d5144dabf2bda71668d13238825ff4ba206d19f66401cac745d875fefe3ef1db71006ff2803de9d932dacbd9462e17acece14bd3e900711e71e2428258f7239618f22ea3114e6b86c1d26bd36ca2ad27f693475881885b7497383ed5a5d1256a7a756c10289633e163e7b9e6c07ab9415f834fcf2a3bcfb876993aca7fac63752001aa2f9b54431cfda140c318a64a417323b752272271f8bf5b61edf3e257d50029be847487641c3811be398823e808163ea3f5f17f909f14343fb6e4d879acf651616510d029687c8a20918d18661395812c560e08087b2ca16cbeeb72d21b46c9128999b27e85989b2fe5588385bab7917d7aea42781dea4723f15062589cb5b557772cc14017dd5a39398b5a19dd9b718caa22bb681c549ee2301b754bde58bc2f95e6f17a33d44ab6bc6a640c9cc9d3fa5e8b6f47f3fb40b49b57300420ce3afe0a93a7f8bda838bb3556e80dcaefa3284b10c247da99c69a0960398f31f71c30ead06f88ffec1ef3815fad98c40d6989debccc69d03eb70511ab2806a47a91e903bb9d1deaf01a646b4fead887b9aecd3b0221c4f3388e0d95db5568309bfdbfe700955af662ee0362f406e00514687448bb2d3237705fb94ce0315eaed550a9b54bdbc1815e68252493f10ef5873de12b01ca74103621d980a4538cd3c7fff19cf44856ac91a1c8c6cc475127198526e54a6987276b0d4ba9bbdf5b5dc9350e89781ec86cff54f104f139cddb7fdcf61ef515aeab0b65c6cb2dc42703769bf987ad94640116f854ec52ca2715b3dbbcd9181e1e3a3a56b1cf4b6a6ddc3eaff460da36eaaabc71506bd547418ac37ae4ca15db308ccff9361070d8488efc822a01bae7769ae842728dda420fe032c5939d6bc1a374503fa4245ccb4254e9256c7036a0bd7dfed4da298ce7a76104e72d9619bc2d09e0333b72f0dce7a9c1fbf2cdbc06893df07885c23dc6fd7062f680fc550883b84072597398f60e2ef38d67b70f5af0ec8ac266127ff7cbaa3b920f46f0d24e9bd7680753bfcf8c08dc238d5688914bbe8553f6ad7710fad38d8e372103b7e14a4538bd89cc35e93c299d8e275e049571738854c801f40c86f367f85b1591d804bc48236c764b4ed64e6d9ec99cf959ffd1910aaca770c719756f5e0600b3d62a3e6137c037bdba887ea63b77af25bb5aac0dcacfcab6cdcec399e3201069ea6708787746486f37815f46199db1a66a85ea561b10fb36b43d8e59a2f657c36d9fe8cd5b9b79d5369f9df8f9abce00820bf68cd0d1d99738fc21967ad99adeef7158182f55d734b1f2980eb8534791778c5624bed8de044b0058f608dc457b3ff4a985c1483a88bec8e075afc34f6acb6ba5cb1c973487cb0375c3e66b2b750003f60728a0f21d7f4bbe0cf7a73fab69b48fcb07145e74b5945472b3cb7ec4dfe723d370d57c31a57d83a9b4073848330e0c60d8bf08dd8690747c2d9c3bd01a76521b39c1b7c97c1cb8c0db3161ea538a9510f62365480843dcc60ec6654b4d8755a61aeaee86b34dd67a752ca0f4f346791eccfad2f7a697f0e15515e84cae0d44669a2a88a7d3cda989d035d39db4835d7a63c7fd2ab0a497059a06d4d836152eb633c013dd78ef2d581a630eb0954be97ec836bf8552efbbf2fc7b9da4d0499ebc43ac27e3e6da21344d7a8f13f90db15fe8b487cb3a07ff826250c320e140bf604d56c08449b9872cb245b40eaeb4f90e8c71ede5f13fe739250e9f299326208fd8daeba139218b13683a5da94526700891ddc71e3da896231e0fec21434d893ea9f8b52b3238702749a1b31c3d1944911437878234934477e2dabb3531f3ddc0bae478538787a8c3c9a7bbc48339fe684e1dee0a9b19c8a4cd80cca0b2d238ad159a1142446d1f1291a68f2838e0cdae201b7a69e730a770cb219af11c557a1540a695fd1d3aa7fe5a085c3c675db5d04884badcb270a6b554de1a15795d2ac340d501e9c543f2d2a5771b7d8a87d76006179bb3e21584b468079fd79210d574489e1267c703cbc3aa0e0262e80a3d337ec609db107b0cec0fc914386645ba6d4b37714c3641ac623ca114b1ab448689887c3cdf6586f655ee256217f1be20c2619fbf1819cb3c00c3954e5589c19ee0c6b378e82fa47ff3388d72194c47d46012ea2a21f076d006c08a54f7316df9d0eb50894e89305bc2e55ed694e523f219513fc9ea44b96e65f597fa41aed7be908a1c90af143a4f516afd291a3016fe59578e0e81fb903a39940980be5d949fe0e79434c1407b9807e5695e51cf40f25094a979c542db35df404bc07d3ed2a8fbcfd6722441ccce559981c717ed7751e5f6aa2ea3ca88239858fef66ba05a2e0f56ab71f200376fede1cc288e6b7cf2032d24169d7f66ff070441f0a58a63c8509d19af37bd92a90666068a20938f154b52ea09a3b51834ac6c71376157786dcc26003f9581eb6ca737b2231bb6e5debc3e60e1b9aa1c2b14a87f64ad327836239cf34de96f49d7b72cf3f3cbc7ed1eedb8c27dadf66fc47178e39726a00af8bb879252190fa24e4462b29d4dc11883f27d280e568c7c1c77166a3e4248c9ed2bb5a902eaa93ff5c80b4e40f7e9d3c5b09941585bb49db16fd5b24cb2621a2e5c71f114798f66a581783f9f8f0eedfa48e15fa2c451cff6dc7e4bcb82bac44f17d465362cf93f629431f7758b96ecf7cce3a287cadca2ef46f108de521c4e7ed963e233bb41b8a2d4a07d136773fd8ffc017f311a73b0511c6143035b547ef4df6083a8a1cbc3525be339b7c613d45f2a445babe8187f657dc95172c420824414768eb1e2934edf4e13e02e4a2732035b65cf2b5e1243b2caf307d3ab5c50a4734415858469d9f27802d0baf8761fb80bb91c8fba16276deb2f44e7fb04e14995c6b35022415ae1b07dcdeafad752a8dba37554b1a7d39a7d9bb2e151c57af4ef3ef9e82712741689ec4b1ab7e14574f8c8b73a950b5248dda3168e885905b717cbead668b66673ee863b30a0000c5804d968491b259582d7ca2169b3072f3b4f27acd168a6be2527ce7e49afec11feeba36b2d2c2dc9a93cc471e9feb2d037a89f5bccbb4081fc5d55bc81eefdcecad5f6c5c4e2b27afaba9d571652afdc8c12c0dcf0695e268f5fc4f7de9927512011032e6ae6e946cb2249dd631d8202c84a56d8a55d2d1243b611094fcd0bbee69d7e4362c0eb90c9ccd646f63416b9f2d999be30233fd85e6629f6151be4637445606512b5c786acb01575ee0f3f454896989d667cc640254248bf6363a687d913731fc9181d2c4cc99bd0770e2569e3c493711d2e5cda93efb46cecafacbac4c2f3b850aee0dcf793981e92a0f2a1fe227217b87638b812883456513d8b7c22f8881354fdca4693a788e4c87c1129e3c05170977fb6232f7236042edec1b1ae1ec1ce2d62b9efe139554e7caa671a879e68801ec1a45e055847103b05e417fdf98f4b3970cbe72fb982ff986e8c902534ab8f2e45d206538550e1f3edd113132097dbeff93ad0dad4e356b9922f54bc77ddd7b359e35f3de8fb743a7495315a426c19d68d8caa01d71fbfbd1e0fd75bb8cd9d195a77cd03e16bb0c29063c646f8c4d10ba48c0862e7be8db294ccf38cb4d425c5c2abc749df063a5e58c0f876d09ef7a33806d4079f568d4798719ab2aa18419322f5202ff908b29893b35a11eec7416a4ca8deac3e2d39905afc7d9cda76b6c9e9d121d0616e46e0c171381437b5ab28045e069cdf175a16970d870bae6eb9507670f122736335010811abffa1c74107348bbfae25e7c7d8497caaf21a46af97ca7646dbdbd1ccba46c805823856c34bcd3865fbc8252f6fe9c03a80d995104cc165420e1b69f9dc2887ea7a47b247fd12e81067603ff457fad7dca83698419ff8947f74c0754adaf033a8edbc74c21c5215210b85324d821f7e2205ea824b59b417386924b45d8cdab19d27fe39eb6c3dc1d1ae97bfe78d0694754ff51bd7941480114c9a3da276092475b1b05969bd004b00edd2b16157d424047f5ef76d9bcef4c1dcf44b2beca2d16d364717753413549aaad07304165ec65119fb0a8d34546a48e62ecd91862832bf7b03cfc68701e07e2ef4f908f753929029d6d98875d7f9d40bed55480ced85d41a05eb4e48e6b637b4acdc54b3ee71ad61111266a7a05f142b100adb2b0b303f8c11188c37644fa0d403de1f2888f616231ad3655c2b96aeb10ac6e1e87bd0bf203ad08663cb756472fd7994472e0c282c154e2471bfe57e5aa5ed601d29b1aba9e80d20822d341178bf5963df212f78b7f79a426398bec412a098cba7f94f393bf9112369af12f738ac08f7582feb5313153d64fab6fd0a3edafa190da2e5b5ff8f4ec9d11deed2b40a77080b205588de68bd9e142c337c46654ffd24c05a60ccd235a43d00e1f10a91bfc4793c9a90c04606ab900e3919b40e109ab9326d6aeeeb1d9354e1531839cab9915e44ab8716e55c1e392a8ff2e409c84c5ec3537d5ef7128de57bc08e6a4b352679b1cde36414471c7902f380cb73aeca4a39ab46a5c398b7d8c46ed89c69793f34904f372bf8369376d83063098d1737dc6d64921ac6952506a4b673ec9d47377addb5236b920e438699dcd09c23f62357c30b1b29f1b75cab1e34359ae6f3fde43aef4c468915d4986739ed8821f01e5927f68701fb7637396d4689712ea4e468d4c678051f62b226e5027320a3c0c6abd9a5fbc1e78cb054a997bf930291a8e01f40f3b03e10e01dbc97e30c08de1e0394bf00a315bdfb2a57bdb3ef670e5481f569eda93d804411744a28d37597e32012849c4d95c45e6a3c75749608c80f3ec0bc4dc352fa1cf24ed0f23d7d7067f3f480b55169fdb348ddcfe236a58a22b1832733ca60364fc0b686734283017fed38e309cab6b658bdca766340f8ec2fa083b3e6540950ac06c278a9167c1e0ea8ff8b7412857b63da3d15b831cb4da6aac946611a06fe9ba9b3244753fb11d3e5fc272dddd2dfa435aacdb3f72db53b55827836f9d282526d78c2783d5c1550f4f165a951ab3a332dcc058fb652da36c1fb1a49d168f979341bc737751dbd66ba45a902a9604d83421a8602a1ffe1c378e116d6b977deefc52814dca9dba5c8ba1cf66dca69c6b27df4e748a9aa6cacd393e3e2eab265ccbe2920ea2d4f45815da0ba76e1717088a1571c5be622db32bb2fe5ea5d153cfa8445a6e3a2e1498e596f7d95dfcd2431dc0f838953cfa3cd01b5c58ef296712deab90d2a419697f895763f43f6e44e5ecb4f4b6e056f1fbe2688525cd14d2f89fb81ff5f3e98c9b3858ed9920412e8f1fc47537b38503caf31e183e8ffda25c08d9543cc4ee3ce9360bbef90fa1f29cac4a55280624a489713993749aa977513f70044cee3d7bf527c7ad0e742805331f5f3e8f39cf0217a867944492d1737830d7df8b00d302e0f1959f9d0e16a632bdb7150bad7350e5db7d2c0184bde4fe6baaf89edf2218bf51cd86d26abbdef4438daca358c3b2579b43171092440c1575b1b37ba656ff70c2767c82726b14f2561ebfc789469db8116e1544c53de7e88eba59d63db5e5651541ea7f735fce5f2c328bdec5555e7fc64e50046aced65a2ceb6da2117bf563f88458c73d79d1ed7b1bb1ccf4de1e490dc4849c233da747c37e29e20a0da81089f32a9625e0324409577d536bf4200b6741ba59623f867ebc9e6897d151006d9059366e941ec34d5066c63d3d9ec184781f9615f3b95efb92505fbe664fde2486dce13f59166a20c2396ef3a6089f7826fc5e7b1394847f2de98446347b2b1229891448e18385aac56c020716b9570d3bbb2f7489d1268938b9246930563ceed44099a3a3b33976e14d4dbbfcdddf68e7515598ae11cc1506fe659e56e936c6b7fc520c8c9e42db04170594231a7720b25fbdc2e5a4aef75e758767478f04683301a9a749604b1dff8bf1c059983aeb6c12e75afd5e420ddd164f05d9905d0181315dbf0e1ac2cbe98a9bfff1b418653b47c42015dda5e0955be4acb97123e3193200b9697bc330079b260e1cd48c494ff912ac4a4d20a66ca6b6732e95ae96e4e314f8daa1bdc043def3c9496883f7e28d825d3f2c2b5285d7e6e098770b8197d0ee6e6957ac8d74eaf3dd63b181339f454f1d5d04444f7bf1d43ecf49cd3fd0ad3677385e582c747e67fce208e3f975372bfea94a6fc2b284fcc9c03786c1260ed8d6d8261d6582a34dc38d93607828fa228f243f806864b21a9812514c8503a670fa253983453b4a918c2059f4c7486bbb5f3dc66a71303b4635e06d79f6a8af944ebbf91805c5c6f51aa4c14976d1bc01d35d62c582d00c68dabf8b3314aee1b9094ba331b434f82c0b99f57e9db0a0f21acb87e0982ee08f9b7d8376dbbc7e6c25c43ba83a1cc9dd0e9d7ef26091455de465bb550c544e4a2d2d6b0659c63a06b9b24b027e11687a87fe52efc6235d87f2481f37ad74797c4eb37940e28860f02931704c1156dd09838921a0a7df95cb1659325ee6059be64349e54537a5a8130971b5f425d33e4a6399d25b188189fcb84e834f447ae0d0e84704b71889c1b1b83fab66184a26d21784b5eedbf38a36334e69e6409d7dde3589b271c838665907235b3fd47f5a78bd7e27ccdcecc4e30bc3f63609d4b2feda78294803eba13a2c449d912b343d7756b1a8b45fdc9af84a13caef072293da86487cec90605a6211e84e876fd49ae2a018c1d305e51911b7da24e7632146fd9a93f161d8cee18f77fe35bd5a7985bde0d1b31866eba62403014bccd944bc463da0d01176d76b8c02a2fb2eac20557c4383facb252c085c3f70ca7cb1716a92b0f2b039d80b66d2fb0256c11065b1fbd47bde0c1f6c03eadfeabf9d47229a3f26f7eb6cf45a3c00f4fbcdfb4f9878b1c14aaa3021536b325a7c1e2535945b3fbbcbe6f934f5b11fde660c6cade3f018de7553945ad598c794416d462c43a5b5c8004a8b218cef2eade405709302c1cf20dc99a5be0577478f8748ee93fa6901b58e6e93f9ab366a3d8519d92851f2e4331b7972f5431e9ca68c2c8251ade0db70ca8c636b82941fd7cdae36cbe56bf949197c901c6c1c6ec3a5ba986bbae937870ff8c76570600a70e4169afa2efa94c7df5a92d1128d02abc94cc7b59baf9786d5ff641e207a0aee2db45fbfd645ee012fc6fd79fef714c79df4eee1da15f394706916c0174268347b39d9325e4059dcd19e9f8ca042d6e9fbbde9055ce9d0c1cad464ca51ad9de7b32dfbd10a6c7d5cc59d74ec194e614a710d35189d6cc0baa8ec2c22750040a1c3264cd1cf43f70088595d65636fc3ebbae1ec07859de097740e43e1f8ec6207ec222f27c3ee8bf77fe6a97f147b28fed45d24dd30f00c93ebe39bffe5f6b9595f580b4b2db53404f901d1628c8bbb2b3a2d38e800ad35d243f31cfa19ae6c8d0a3f2017437a30c33319278c608be6ee7322f41e3ad58025bb019e08f761eaad926c5ab1cd4cfcbca99ae6960c31e98b1101a1bc47ababa93fe464b03390378ee49ab7b6eb057a36fa9f08f3cb39151049f06d3a1683d04209e796bb478273426f90f4d61413a0c433f2e2a4c1ddd263f7bb59accbbf872497bd2e5800759163cf44ad2fc56f37bc0dce5914185260964e4494fea57e23f6b62de00cfb1b908903642b10d3636c1ff2aca8a3f3881601c94aab9692ba0907a53d0e4a7525553ddf100d9c094e3b732bb8a8b9c2ad0d9966c16685ce925d368731e866c57730edf6d1b9d504a8aa6ea5b0e758e6b81f51d3ac0bbdd5eaeaf25b696e50e963c5053f8c136518f83b2739b8d2144960b1aae2459bcc58698272eb188ed1d0ca0346877275aa5b81766761bc9d5c1810832870c394f2acdd31d3261f03d09f17443c27f1750ceba4f224617ca181452c1addcb3ebbaedc31d1f8bb7c35087cec1e3087ced01af3208069b62cab3fca0f06c476bf868116733da95c8979aefebd132f33d26e61e3de442ba8136b235aeca9dd59d238a82d2505a28e9a4e8abeb13570daf03c3b7d2002e8b9eff689a4694d382a457f243c296d3d1992dbbd5b1af145c3d46d924a91c21a0b2f36dd270e6e260d1c536702474e86a9aa01622a5b7d16dad630ee9dc999c4e3b6ae3500acab235f033d56b022eddd3e2359452bc949f94565079e60b2297e96a30a383d78bb3c38328111e5db846a3a6d73ff0ea138cac2cb187ac5e4086b6bf2e9f42da33828879ef85166c87b6d2034fc68a42f87a448bd0872e8f38d9fd7804953da9791f4b35bee3a568a1171e0f10bf1eb3b5188fe82ed20536c0f79be35c39fb1549b4d21a1aecf554e2b4eb1d3195a8262324552d20b27cb187f9b024c1fe9cb08462849d49bca1a158dabdc75787511c5edf45da14630f29259ce8f22758d4a3f0c954150dcb364d26b20215d2f645de6a597c6e7fb0ee130fa2bdff1c1d88db782d777a23d6a5adb79a6a3242adabeb2533d5a95f2e610a27019c33c3f4928e7dc9d3968022a337680bb3d499294ef7e086fc1013a23018a6436230b88eb0de856f446f13","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
