<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b74bdcaea3371de1aac3c7fbcce92586528ff22fa895768696f27defad890c256d2d5887afd39429c864596f1278166138437c7efbd60ae29e726dc84681ce0939f2c8c385afc91fa5e5dd72a15820b8e81665bfca74f1f19d788bc29e7640754cdaec4e8444fb6519dff3c02cc68b50f1c9662a50bed0b6dacc7a08255f0d10179eb27f652bac17c5be88f7cd63091141df2ac82b61bb8c1a16dfdc734da5a4e8dc60c3ca0bde140045208e300cd5c6f894c7c4150ef1e1f3bf41211ea112e3f013c3da0ac2b91d46cc9c623320ffeccfbc24b7098c1c5a1ea2c74d835f7f683d40000c48384e7964d50ba57d6c1db299efedcec0772a99f4e15c5537e69f01ba1392af34c9b46af3e90bb143c7987a73d5f5164f2c4d9d6d2bbc5d4fc174154f925ebc4a6ee0bee324987c14a629192a3d2a978e742a5db95b3f2b6608f7532a2577d97ffb76c77056f1582da0fe5a4fb2741e5477bd37a30c7bcc3d40fa686069c20a06b145af41883edceb502e5161a067176165bd46051f707f6042ec7c164365a6d8d848740dac13d4a7099a353d37e2b9172443879f011026ea4a0a58c88733b282cab32c5e1fcc748990a5959fcb1d61918ff6afc48b170369783949aed2521b69c9cb7974f07ea3d35d980935542ad36575ac6b01db1adfe60178620bf4a2c49dd663a5496ece370986a50d19ea5ebada501cf9ab7a3e96dc319fa0c982771103447179875034a9690ec9178e1c511ea4812ffc078dab93ae29f725e6952ab8820a219e3702d603e892a0caa420e6dc5b337d7d643e3a374f1e8b32eb07e0ddb50695f6fbc560370f8e477b829fcffb1ce8adbcb6fde4cc19d40af8eb3b686a02a657b310e875cf910ad6cc408e210d054e909a9e1be0e06a4e5b4a53be06a8ea8c033db3c466ad052de0d4c946576d110c2494712cf92ff232fa5a2bc43b1185b84d65449a37160b4c17787986aba206128d068ee526603f495c5bcb468684758b7d5f5548e2428bce1c77d40e8e0f3bdb7c2aebef4bb1822d2a7cdfaa8808dda6f37042d88007705a85d19175e1419722215c9a523470509ac3a574872fa313a25cee0832c55e6659e76a337875c0d9771063204b8c9e28aa0cf8a0671992a52727423748d387abf6a44938d0ac5a4e206565a0a61822a3613f17e7b849d34ce4f70c1af5411e1adccd6caa094c8fb936f9147b34a7e3fbd9a08965e76d09e4ef5d71cea6779de2596875fb873b330f677d74da6fb15a9b4e4dea58af4d0087c134a0035988651e9505643cf537cee57f382dbdc04d8513bc03f454da4008cf3e46f91b7ac616878ee6a4d60d1770a0cd8b7c5b3d7b12621b289673213c87e1507d4389a7a09830cc8ee7ac8b3bd9debb6d2ed2c36a428941b77c299b257ea228a9add93cc8e16c99357048d89ebb647e354b2f7654f4746d9b8ea773f1888e3689b93ba1a3040479a59802f5b1e7f294ff3f5c7d76736109841b6beeb75a5e8d7f77d2d7296f9624f206036ecb36f0dfa68f3793e5d222487f5e561587c22b07953125eb97f8b4320f3575dcbac72bf80511bff202089fb70edf9c16cd2bcccbfaf2d0fb6639554e99ef9d5d40c19d69f7e2bbb834c4c59cc406fc8836cfbbcadacc1dcd08a532f7e0e73cbd75e551ea1a146af0d4192fca4f300d7abf094e1ac120fb7b8dae70c69d6bad822dcef203950a027b2d40dc0ddf776538aa1b5854eb332dc1da1b5081af6ac3c7c36e790644500a91c9629ab6cd53015cf37bb34d1a2be638c31937d8c5027a1adfcd8d995145e05542b87ec7e35afc2faac497a7187e57012d814a74ea60e4ddd3ef6f374ea3729ccdd51c82f20c97a3b2f64fd7a77079d862b98f8893552219c3d28e74f2b0f0e564a37d6b8cb0741494351b297ab7ddb4906acc98223aa7dcb6bde9f1f6e104207c0b22de7f4f769e7bcc1ec3a1d1a2e85c7c30a70ffed5e5f77be823d872092a75a1439a2136b36be0e7f50a882c4f497e183e65465d5f47e1d3b6a4f15cb4e1f1ac894f95f5dc024a8b027cf354e0379e0a7218d13b3e82786edae36f6d5e1f6201f61d690a18f5aeb4c26bbbc7a0b86c897ef23aaddeaea9060b897ad6f069228cc34c53a6ad140b2fffa5981761a109874ad3beebd0ef3d3d38c4c538aed025948420e61178fc68224ecb3eb0380281cd10454bc3384b76616929f2c1ea6cc54234f311ffed32ffe4284a4671cbcc787fc73d82d670d3ab791c96eabc4e01d9c48c0df8c8fa807be73231efc9d482e2fbec7a77daa1b16a8fa83ef46fe81ff7b640d51ac1fc44254877af5d664bd04241147cdba2a16e2ec5c8979cf2ec8348ea0105305ce7ca00b46076865abe0055fb3f3e03e220f37ea7ec1a59637c832f07284b5269f9346489d57acdee1d4fc3c09e48c7af412b22f24a4fd1817504b765b3e953f1c0da260bd84f059b502449de300802635eabfa6d30c5b87db6842cb11428cc5b66aa52851bc34d9a0a828470563b18b541d40a9751afb2edfa689c1dd20416a14ff103c0a1db92493a5555b3c1675878a4038fe8c1aef66cd31536e7b79a9e00b309295ca316f30598cb2b77df33cc54df06081125f3a6761e6a92c5d0c31f8dab3a9a9e65a0b572ac357911b415d42df7e2a28ea8e4eda4c38d94640fc34fec72ce8a8f6402d4fc5a6637d8a28c4f0e2fe38cb459fd24759893e8f0a14780e6bac9fc917e44baebe1a5fa8e4032ada72e41d44b4a827740d1db145876407342541d38985888ea23d6bedfee1a8749c3391f45f5d0ecdd26e5934c42f7b536f919674586a44a70bd58bce7321efb8d7fddd83570d89a4330ddc7e36cd455c106f8bcf1b80f42c528b49cdf6a9b0dc59ec31de726b450deb872124995e2339e83f17b8a3f2b90950dab6039750ba977319046ee6fb4260ecede175a8d2bf1af86962cd67ff6b074d10d3145628b2a332067598b02edb538e09765e57af13ef58583077433323d99c82f0ab0525641b1784980679d6d429fae4c0bedc3c5011ae78f24959ec00668e0eebfe36ed4c0ce2108d99a366944998fd2ef499d11f3bac0bd3bbe76fcc1d98dc3284f0362d230a087862c7dc185d0d43fdf0e20267f5ff40f9809394c871c43c3c44d7cd056dc9e2d43f83593fc723952963b182072fb84faa7adcf6312badd7381bbfae83b244e4842882a8958c1287ee1246844806206feb952c624a679a858e7130419a19a2039af19e328b42366716aeeadc9e28e202eb68e7d190195ffd0af242f636a20db712c528eec103ae9fd114164cdbd37791eeff9b8a9949692e2652f59f34bff524d98a748e94ff5b99c9a374b57509c552be2b17954ba423f06e5f13177ab54bd170c0ff59f21fc4300091f67d7bb0e12f3dcaeb62f08cc7ea84f9e3a0292c521bb788a1f0299be4c25fb1d0c070ccfdd26c777c140a4bacca77353a12e60608234f5540d5fec4b1c40864826c80890c066347c6ae4b4c75736fcdf95ffec3dd7e9b0b497784e0528a79f0659d5f6594b74cbede6036a71a864a71b6cd5288418ac0fc2a5e3e77e3983a6c96fa774b9e9f468d6e3ab40a9aa03514443fa4e2e5471b7d0483587d1c9aefeb5b30347e5ce0e73417f916d3595ed69098145c46a0285c49306daaa4249d723ccdcf2a6690b72a18c53e3f5100bd18d27ee109bd7956bf98568d33b9d207ae760df61391533f32b613b7ca2ee0703f19d9e2e490c393fc0b82829e1a633afbf4a30e0e10f8ec43ee6eb49450516eec75eafb5a0f2ccd3355958e7ee1bdacfce86d23e38ac64f144a0d36a1cc33064a643d749786f8c74f622243bca2ccb1e960efa6d0e8bb220e17d5c625c3a28bfc3857f1405a6860ac8969d7f2dc3e1a1bc517de87582c4ac58729e9367952d83e056ef2b15bcac6b978449286d6c7118320053cd781148e8b320676d95b850a209e04d7fb1cd9505bb055c41587a53ede970bb390afe743b4501136ba6f5fa98b9662356979fbabc128033a315aea2c6766dc448d10ddecbbac2ac73982c797b83b726d63a3335d1407b48019d13fc19debee983a545cc896657b6e815952a79140b2133ff30590ceb5251cc34c8c1b62924cb94b4f6778b3343b17d15a727254dd8805e152b2eda9dbd5a895ec2de81122de9a701533fc9acd78204a13de2976ef4715c5b782728b3b7111c8052ff1b3d5c2badc0b6d6b3e3fc0fe1a1e50ac13a174766a2d1903ac076e4236891b4bf8945d8f436c74b1ca2676a49ca1948ffd190a7451b075d2175efef9271015ee45c78beab553b0b5e04b5bc125756e637ab8953dd0832e9006d079d01198fdd012b8e0587d0623e2f649ee7af32943f4655b23fc3b56f7c249346c9dd9efde4fad5e2a89a7eea315a11c2cae320578c3daa40f2accbe04f679b041a7a1f22832fbf84960673fce1b9007427d94d842f46dd69867c0304aff4f0eec05f8980278932f184293a46d30e147bdc7d9be0b3b96e0367a14329d8ebb0b9d47cb122b75cb83a04e1d589017f6e08be965f1bf3f1cb1e76817411c6c9384ed216f29ee44299cf4fd67d261490dde06846ec3da93f2c1d53793f890abab501fa990ae20c8645a8a2d8e84ec3654d004f2d0f12f97b9667ffcb043af3313f82c82d3d0f6c15317e04ecd309cfa35637547b6187394b0f723d17fb635ec2d4b34e4be255310af9485e71a9dfeaa053e5f7734ceafa89e5bf909ba6b1147424172aba27ec5f4f7599e9b60f4507f28a0aec9209c5d0a37c3963f59562e5e84d6098f427596ce1bf8b84c2d79e362712992f7b86883c9d92f020782fcaf7686a5f43a27ef07e81fb175e53adf5fb14e2523afb27df7484199941005f53621eb13e79ca35236f45dc5613ed2506dfd14e125038b87a5433e9db52f304eec498a8b1d6ba1439e43e753359ff44ddd7ecaf70a253fd011221521c5e87002f068a761816a460e6f54be2e59daedecd67680a614210d4ad5fbfc0579e270fc0e33ed39f39de121e778e76eaa08762bdf885a6383685f2a46aefb8811db426d557724c0a27350bd4981d430f26906be2410923aff66006ba3e962a39eee916f67b3cc7790346c7b9f1a01159e19fe740d1c5dd621763b2a062308e0bf043829ae28eac3d68becd4be8b596e585ced5637b14ae91db458a264ba79bcb0c136b9d14c570bd847b0e523c8dad3c0c5f9aacaae84661bd0cd77228e6639ef31858dd960485b100b50493c11ed6b3d882de712e6be458950ee5129a5160e38fca32f4ab0209acf5e6e2b46b6442209b063e4e9de464e7656698dc297d18042fe73e40673cdb9dca7505407517f8c248035aa4f6c2282ed0875cf703e819e7dd9f7bfb54bb2bf5863adcbbeebfcd786af90e76299e910a9dcee06b5d25bb7709fef9cf98c8876240fdad1cbc93cf4a925a660c3218ec036eed3380d888d172e71060044a7e50880802c08f85c825a3fbeda92e33bdff99123d45ba47c10110de7eea51b28e75ff50574621b7b380203e4d0a0694a7ffd20b5df580292fa5965cf26e6fc3a6e63b8ff76845602b000c6b769931a28569e43582bc15852f7e3ac04e0bd704fea818a9867780a3beb7e48e93144f55a643c06fc5e90cf81e122ff1f98a32a0c0f95d6a57ab6e637abac715ab4d521b702b7968db6cce0ab273efd32c414ab60a680eba49b96c4d55d791514cebb0c6f2a865f7e835965847add85f21f676b1f876ff74285e644c2fc5dcb765c672a3b4b700200d3bf5ce2bdac4e26e2ab6423d0a14e43bbd5eb6024bcf7ceb378f383194e419cca0def89194eea7426f72edf6de6f4b9ec3126dd7243192a9ce4b1ec921def4afe3eaa50af08b080334495aff1cfdafa9840ca69de86ccf1c7839051521011564b28a980c78770d7d2be42e1b0566ad9976e2b8a01c67bb7f78bb98d859fe2d79961d216e22b70ca36fa565ed91ad7341b2592530801d2c6b5d97343e72e9438060c42a1a4c99d7a4a53efdc6acf337de94987cc78ba08e73def5692a50549c6f4d840e8368955c253eecf9078417ab0a7ec5f6dde58fe52ea164aa1c832a2873b61e5e4bbc82c6c29d0dd9e21cd625fd49324ad1fe63fe176c1d5650addbcab6495a7b770712f584f3a2060a67d5a4ab7e8cf63e11a79b7fe2671f968549cdaedb6644abddb8b8ba0b6aa950bf99687376c6b25d1037aeb2cd91999fbb0872f08dfb21a0576ac7335dbe082e28ece3f4c3167e10a92f0a63ece467c1b37d583eee346ea008af700793dfe84c4f0917b373bd5fba4a2c1930649178428e15d007868384c45c676b7a8623c7d121bdc5608e72c0e1f4938d7dc7f40db50ada037123bd1e8bb3ae8c7fefe402356756cb667d8887f88a89b6223477fefda127cfd2225ffed0fa4a091122375179e72d4ec36205ab19df07dd0356c61272edef6c1edf507e8c95eae47fc2b7c7f9d0e0d289f1aa8c06c92cf47e5008ac44197a5760a17837c60e1b05b431ee334b2ccd4fbd3f64c909e2d3333123cce0e08f8ad3e63c2c0f730db6d9f78c4e1b9859e03b425bdc1e5cc2e90155d2dae3386ae54485a30e5a14db9e53d8b0f9e5422cdb00dff1d98f12a33898d47331ab7706a42a92a3af7577ac9929d30bebda736766f07bab150a7dafeca215fb15d31765c038efcb7ecb6161878db9230ba1a6233fb2767af619cf5ece91803e8dad5931a0f79f6a8d4e477c8c03b3e68cc34f2ebc500d6476cf73f477545b22445c89c70b4989df1f1605bd75ae9c12ccd07f3ec5038ada9bc15ad7500ebb1b1389dabfbd5d6c986a1fd7ddcbbcc0762133989dc55386f2bb2c27e9463ac05b40bf52818b2058100eced485107c8e4acf2e38902d1b7a83115da02f8550fa3895ed69b25b0ff528409923edca12a5a2880e594ab58e76cb9121976e2fe20d6043edc9bb3ed2d207f8722323a8897fd1bdf7de3f4add5281e3d6ebd506ddb821d927cdf6e2b467ea3c0dd6efa511c1c1c220deb148805a2c5913fcb8c7e1fb405632aa6505debc09147dd2c143221933e9138d7630d702df802b6d757a5ae9afab9ee86b606b741ac1154b2356339fee0356ab523baa638522d38a70cbf0d9d6f5e5de1c60a73f7a5191f513e795748bfb17ddbbb0712db82dff534f0bc81cf1fc82dcef12bcf49643a733cec75d16df17c429d3ed3455997a6a3faac35617043c7e12393aae650bbef6d99f46d3c51e77b7c11fc156e8473877a8c9f1884b98c2e908405e7dcc6a91c46d38c117cd1fe2e5b74e8f489ad04d384ffb494ba23f25ba6a4b7f74884183da98439d9fa94cfb67130c77778206a502d30ba9d9775faae7425cfaf43f22871e0ede06a33bc6a7e8dac629b9b6f0d0a58750e03bcee540942d87467a54f774356c35ab30978ec82aea2020de2edd2a450454aa3d0e368044358bb47ea38cf021d21c870a49bcafebdd23e9f2dfa680ec3437c074c464ce049209af95c21f9b8368939f06d06af2f5084af8aac138c5f6cd7c2d94256756d8e8de8dfc6a16421080c6ed292674b942a00a0d208e62b98856373ed7f7e8feac2a54c2b7fbc21b95e76714ad6dd7bba2d3ba7a80e47044b9510b86267de38dd7144334ea142793678b88fd0a004a253f40935cb635f9ab9fb27a7a6fcb0e72905c317d39919d631716286fa6f167bcbd0e572a5473ecd3117f549a16b8058d06c5ef72225328bc101ee72513325fb30645a140a17041c8bf50e853570d73226a37414b32d686dd8d55d130cfb6d6a986a0eb25a8c0bc6d9ed77fd97bdb7f32a2a227a764672e85d40f20b3d8fff2bed258d6eeaa68097e35344574b9c166ca18400acc7f31543798cff73d35804e3bc7716ec6022cb62330eb6b0575aea463d354ed36bbb7f2bd2ec99d500a030e6178b948ca508afad0229a40474b0df2cd826286669303c8e8acf1ca17e463065977d71b920192028711418916dae5295c219e0ca8afdae2e74da639e4368287d8bdb8d2db82000f72345c680c287ad15b1e6b97f035f0341df257cf23fbd225a8440f724b00dd92e9fd011bac51a80e7ee6488d89636dfe6907fd2a463821182c464746df8b16000b54624a131540fb7d6dbe953c38fee3a421f797cdae4a4cd4646b7126a1d733c279c3d3b4b5cac1baa6db24560f37c540ba0c22a1eecd1def93dfb42d03ec80b32f8c2fbc4759955da18815bc033fc978c9abff69f64df0f8c0a876672ea6446f24aaa3016daff14e1ed315525585ad930c4607c18a6840803be1be2d49838da04295da7c76759ee6eb3bee787df5428e5e7fb6e45406a4e5bdaa101fbd3d387bb0a3618f7dd731ea9dc9895739f90228ab603b82930f93e92f4f710575c1d1ade76e8b1e9fb3803a99532381d357fb4098ed9bb92d9b5c6c7ce45232d53b2be3c968c2dc7d02e60b46fe3be2814a6d951581ba71ab4b7a8b8024821ab148897f7c9d4e77290e7af1ba429efd434af41c1d8af8266f47a22c69dbb35a912f5bc16d617e3847c04377ea9d9e6ec113b6d2547214965295978229a7afe19f7e30363af1589971a2cb1471befd8a3aa2c004a4ee65319233a4b4e0c4c40ce989afb4a2748f2bfbe300a4d9c3fca43228e6724e7efa78bee3dcf2c64028c86802dcf02c6e4acdc1ee58b4652a9a87ba89d5eee9b57f2673226664eced9c53a05ce43b82b4d92aaeccdf9e1903a8004f53b8438dce0cd8544abe8b8fff42098e30bc3416679e34686fc6b7e0109591654b93d1194c44ba0c451b0a812838bf293576cc7ed0a1c837bcf4b7cde9d152b84c3328896b4e58f7489f650626fd33ace23dc256ff4c7e3124abb83eb8138ac298fc84169f8168ab760a9d83b58b57cb0ebb1cdd2da0a85825c409600d720b280aeb86f889479c7e0f39194124b3fb708b6ea83a412192ba24322b34cb2312814cd138a49e37213ce55a9559677602594afa564396597a6a77bba186a7b8bfdb722490db3d10a9aac91e9951b435dfc658f29522b685d313a213475cadbc72bb4fa2933016aa8e50057b71c3acb0faf7673cc037209b903b35d72447568b0278c8756886a564171ee1858877d0fef7536cfc646153781417b06b7bed66cdf024fe5ffbd0fc9e8df53c856a722becb9b1d25d7eb268adc30aa727e5933d05514e9c666a9e5c0182c7c9f48033f07220f3578fba4ff82a0801dd769320038c970fb2a0c132a0c86ca42ac0873ba2f0e7f155b42f62ceab7edb00a6de50b2791e782f41e6877963b0f7cdca93762d491e1b9771b67edbd1f7082cf379656ba508cfee8e1deeac3370118e77b1efdb9bf96efbc58140e692d5c1a16fc1b72902076443b38a07bd9573f828b53556f0d86be5967619cdddfb88c956d274bb015b1e653745fd1b023a7ca5a789f5ac475fd6ce0b9172990c2b95d19e4568a9213f36a2701d5635f6a7254c88fbf3e69c11e706231478d8bfd9bb8a79bbf6011d17d0edb90a0f7ec8d4aaee48d0ffe16c49978e1dd3d4c30232b7c82d1681d2ebad5da6fad128d350d793f192bab6ea9b1999a44c2c37a727e72ffecb6f6edf5112e2653c2fc13a3086545f95affed47e29772d42080eb633b36b185dfde696d77c6ec9bf6789eb1565778e0cfca6479e7fba20c266aeb2652870f0329e4a21a83ef2a6707b6ffb7789316cd4cf2cb3f474c4dd88b8f1b7280e73b2dc0564913a413d9a4263eb4d82e9edb441778360ebc094eb944141d5ef4ba07483b9b48e7ce79cdf668d3b12f4581edc78194e6f2e00b5b489a6db4a4a77b9c55415529831dbafd330b4f6f95865d8d99c5a08c960d352d64c114e564a682de064775b092ea35f072bd61f67c37cc1e6f50f92b48ca7503017b49f49ce06aa98bd155c2092216942b2e5d05b412e9a07a43fc0e532848a25d4c9b84da08333c8f6987b66f16df3d7b060b3c0a4253d7befcd19129b794a31881f111736db99bf5eea9851e17a3796a4652edb3e06aeabe2a9ecbae78ce0740ab3d4edfa441848e981ed0659c8642c327bb8de2c68d081b6e6ba637bee2972129f5c87c9e86085d8e717d229f0654e95d4d01be8f09cc9b50d1c439d4b6c443449007aa90419d311fa4d3e321a71d9d89b1534ac4fbef17cac7da264173bafae3d1bd0aeeb9c2c335905fb3f568aa248f661b9d2ba9257cab446365ded414c5b67f8d1eec60899818d6fbfeccce8c9115c921fdb1ea12cd09501cb73ea75869d94623b3af16fb181db538e328baf1992d20de56b0ea81041265771a61040ac10f48a71401dfe947f9719bb1e256d39b2f2578050252ef1663406359d69779f3e2e1f40ff41da8959e3a6fb7f530ae5d1d1b652747c49308bb9b0bc3e895fb78278181e2eeb09b0fd69200ea40530238a72df629999ec4eb8c368e45afdaa18cd221da92139909a201b353f97e42125552f8a7d45eb034966077ac64b61cdc42387690013f3d4bafe1157ac02fe6d8938581736a9b1769a62cf99414d598e0334b8067d4f9351f228a1267c9b66a536a30f581f29c4513e259f07a32efc9bae08e564c248aeac4d1c38d3a2dbf7a9e26644193f219c4966944e31afbc6ebf1c1d8b7785acef25295557417e27f6102d358a4acb183b97830aa2a65b759221db3d1458f4643ce7d3cf80b7bc7ac23f00c3398197d9623db2259c913dcd5eb12b065f96b7a78736f44c5601cd20a888b1c75dc626b12fee65c9a95f35eb0845dccf400f6f692e592adcdb6afca7c2464cd6251372aa200ce1c895dc4ef5c062ab6a8c2bd6641aa7f549bae605790ea12f664bee3deffa467b1b52d3a088bb8657fcf9738d5fba6c8a90387d72d345db7cf2c514f436e8b77998f94f0eb46573f7b816aa031ef4c8492c897eb6e4c083befbfef308176c6dfe37338075c2ed97bb6f93f47394acbe9d0a5b9e1c65a855d84725149880b2f0a28b23aff67e9760c23adfd0b9bce8eabb77d007a6bfa9286f75370a2eaec4512a62dcdb2c187c45a8cecdfab5255f037aed496d157f1eb6ad8e0d95ea23bc4f123c46d210181d3a8e8bbeb9ce240cf61616716bb4cc8f3205b72fca807488921ea9777d5e3bf641540bfc4571c59d41016cb26afde0683275fbdddbbf12aebc7eaf06170f1b51d68a00eeb7b27cfa24b564579f020ef6f40405bf7c88d68b612f5ca77b3d69f136f9eadf35d13a8245638f37babe4c4263952e60350b5dccc63cda505c35c95ac79b98f3c8ccebfe776760437709a921ece9eda098d1003d2d3ec7cf638a4b8a20653e57562215d731c3399c49f25ecf6c5ad98506939066fed99b19bed99ba2159d567e9a989a5f59b2dcdbd3ea5ad022218d60d31847fcf36810745b16e68777e92e01409ccaef3259d6abadc8d5a3848096581cdeaa53029444558cd01fde5cbe7eb769bb1526c3de3a8bdfa37b91d8ec6b77b3ce99f0dc9287b32560b1eeb33cd822dd34473f55d4891a71d1026c3922f29bd16ee5e4aca8fe5f17bdec2f5aad923c774ae1cbe6d3a0ce5d99af464ed6c7672015703f1e92505f0282334096e475b01cedccc1c9fb4aeb3273aceb25e0a833ade3c969f5812d739865f6820744fe82007003dd43ae7fe94fcd6a31bcea664f5faa69988eff7717f7905b940e9c7d67f5dcd44a87f4815132a2ce625cd124e328d43fa6f08c0b3854a1951b6bcaa3c1e8f1ef1fee4a147e83931c88d5d99c1e7a419eaa31f4877d035ba73d197937a08c3031ad80d61f19054dc0b29226839ef73a4d163ccc53ff13af0eaccdeb99bec62ed77a0730fa7d158782f585838b19d12e60c182daf03be45b019483cf94949a3732cc1f54bc6e026bed72b642a9b3f980f1665129693eb384a997949e7ec7afe2037707fb70ef20e72cc9b01277336f6dd881d1b1654b4120dc0f349559a04ae4211c17693a5039396e834f359c8daca0d571adf715aabbfed9b98f03ab5a976652544657be5d35438df27d6c2a0b0999d8e88ec909e869276d9171232f9b29e8c2de05f0f9ff0cc1aa3bbc6f3148523ee42fe8554257c9714e3bc9055228b01758765028154e29dfaf0373138f2d46587f694bd838ee91af0f68aaca2534887bd0cf9161a6e63efd5f940b87db8bf50e5c136a57e32840195cdfd8b94cf41c0b77e92e34bc7a1f5d139ac6bdb2df02ade33fa51cd63489bc2cabaf9fc48cc663c741801a7f0f425f57a013e5110dabdc4d6ee50592075ccd8ab03fcfca72fe712cdf636867ae58c258ff94df36e5588a327465b1c35dff994606da10d44d951e0f18715e18a8c25184a414ec8902613c796a0b29415723fbdc34c24fb463e2ab8be0d33954775e4c9636e0c89ba08b78f9fdd350a375a680579f24d9fe967107b267fec99da8a9eecbdabe0c7181d7168e9dc39ff51ec3ecb3714d157c54d4427f1f2f33ede6379b5a2735f2fdf39d271d5965dde235694ec62882d1643ddc91ddd75d63c99b5e7ac510c58eaf2968dadf3155cd4859037a41c67e0a685071693dfb210580ccbc05cbc71a93c305ffc48770dd0a4653c2211090cde23b6e3b0e5293ffa1f184d52351249e0d6e5eb3fcc99bb5eeaa70e575fc5cd4d2eff1de3f0f2a083a280c3d86f2514905cebf06773309f95fe746df2fb05080254a3f83aef14502f3a7f15be2aeef7cb4394dd69b500ac4d41cbd99fb232fb9f006af7cc275442313c9605512b70f890f4c5fe253ff91d526a41f507d76cbe5afa2418827f8cb0fc6ccbd41115d2cfe5e5c52641ce102011721080ca641b64a0c3ef66d7a26ce8a118fe1cee559158129a5d92b278e8e9a5c575d791343e7aecfd43f943cfc88011fd67485b548ec87bd47f1308f4b2dba8ce35db6ee34b7115b59362a5c611ee93e347c1c53e22f0be13ed4bc730e99ded21c53da68049522b49c666a9ffd0e080d30046c9b680d23f45a7551a3b52a6cb7efa80afffaf2a29da47be650f8a3b3f863d71674eb637f91d59b491b5dfbccfd65d2d3c4e46d65980c00a87021cdddd5fd571d9c6f9199332b0ebb3df6f06676265681a6ed9a1b695284a0c86aa2b6a14d6f9a0489b1d22df63551677d3163c61785489044232044ec335d733da9076f27bf796074e49a435f4d14066d3d775c758ab974d606168f5f8e1ecb4bf84bcad28047c1d12976ebf2252fb43261db4cf4e0ee9162c3ec0ab68257e236a1db325fde39324401df7a1315376ba5338e639cddd614a3d3760bff20daa2ecc891c886eb2355ea70f925b0dbd827990d06c7fc959a0fd690946d9eec4d0a8a7059a348f41931ece162d74a0994ff2eaced75a36099b7ddaa772db12c8f62a7b016d793fd89114fbb15518613cec6acae84970908f305dd5d9e9f454221cc04391486b168d209e7e62b8aa789b1e7cbe0024d2b4008fb2bdca089d4e369ed4abf105e8781913f6de4d3d87cff5dc4f197c4db56602fc0442936b95349882f8206a1143b00b38bc8b134cab342c9ec953169ed7b45408a00ce7144ffa4b0924845e94cad6b04c051c3c8fbe904d1a32e2eb24c2f520e4afa76a4a7c141ad9f7dfb4604ba33cb8c37fc7005d670ab72d8fd960bee4561465ccda761a48e6e500ce9c8356076899059343d676f44b6f816a3ae73db5cb632094688c359ec08a4d19ca4887c7599cded07835471fd68a7dbfbc0cdffd5afc5df4f4c0cf652201c3ed343f1bd613b64e349f2abaea647408ea9468538dc8c72c8cd4d900bac14ed5df2c48877acfa0f9469b4b868a837a22111c69cf8930e2623e5a22d9145c2581f1b05a1cdc4cda369bc1c76191ae534051ca9b076a284acceaf68b5d417f2ce19f7369a676bf415ed858e39e74f7c4088aa72edb4e832e014813bb90e4732e9dd79b7c96e13ed1ec9125f175949f40177236f35dc426db44cd0cb08dcf5acdca01ee45fe2aad0d23d619d2cfbe6aaa6d616f8e5097857ce4fa8f042593049d9403059e94cab016e387a9e5a4975a9a5cf2afa95655e6138392f5a233a723baf91ca416c40cf1e59a69a7208e7e93bada022d7cb5a11ee705c45cbaa32a8fa7bc9d95d3a349e5248de0254c59289b3327dd49f3b47afba44ea9b7cfb79e1c6169c04fecce5059b466a4b2d0624b6d09e7ca7519e534c6ead38dfd10a5bbd39e55da72ac6959f6249ec361715baf872fa068649f91965b68f6bcf0acc6f48d95da3a0d842ba381351f0651b9091998d57a66ec0c94694f4c33492bd15feb8b02e91b81b88604bc36d3acde5d83eefd3f4acfdc630952c7b54b6b629750a9db8d9dfb77fd77d58ae9aa7aae5d8b027f92d8cdeb7142c185b00dc5ae37cbede7fecaf159e9bed1432ed82e73603511eb27a3ece02f4d04a35bf840b33d87091040735efecbc05b55f716e58eb090bb19631794f557f159c2e96b059bf1221aaa14edd1366e26c79e4734537d7c2c1960c25b712b1faf906c8510625b7e0f9d7309f1c43b668a1f88af230ad0c3252c545c6cdc02515161162196d761247533b404de5451568b15beaeacec6ce82a8e682ffb9bcb6965904c32bd5935ba12dac8ea62dfcf2386ae0fe808cebfe9f062f4b6a0d1be3a10d7150d1f7033a50f5e3f21760684a80ab34a29d51e2395fb3633a918093bd0ed6a6bbec04957d76f2305f9929c87f1a60f4690d03b235cdf0c8c15015a29ca8d09c204977882e4096505ae04a3925cb694ad626719d3f411e5eef91a6b2b339e08f19f4c740b746912d87e207c11826abce1aa1c04b7d7b7a6121cb9e2d96a7b7c60ccf50d48479821920baba7e35d5180495336c04fb0208fe8a61bb5c0fc9cae5334c98eca250a4e862033208be2865afe3b37ffa578db1bde36213c373dbed8cf54a2055434bf403bcbaecbf4d2b107ea4f519882d32be756899f3a0ae2b3c618124411ed5f667b68f4387c075d14d422bf52a92ab0d2463f214023fea906a6a52ebff07077d51128fd795c24508900909674efb36b1867932ecf183ba6a9d1c952d3e513c2f4c52591b34c25a656f042433ccabff1c984a553c9eca757db78755f2a3f07af04a975a1de943e7d9294c96a2395974e3eb4912a05844e0cee2d0646c4ee56dbf5ca86c1c6cd6cadfd59b65971bbb4d09ec5c020e4db897907939f84eec29c8d62ded6b0a902474a8bcf7edc34f020ae1e146c98d9bb8d6ef9c8dbcfd1addd501f5d72509f8ef8b303a7d747c3372f8a1956626bfe2c66e95d730d7e32f037084dafb63597f33779fe0a76e1f91bc43f25ad848d8b8ac2eb9e62aa1885d6947257ef7db4b0d7ae1d803d9ffad12fd413b827e467a0ffa1ba6044f9065183dcc5de4fc16ab7e815f248a069756238ac21eea43ba0fc54b8bcb33e15f6b8eed8d21ebd6767fa41a32f26055bf95643da1bb070c5cf3feff7d53e8b75dc536caa8884ee0d8e88662edb85ba80dc5330757e9b0d783449c72d8a16e7eba16e80ad1b8f7dd8400c0d54dd0a87fa363f0e063d5e029af21a8616d8cd465a63e422ee50d4b4bd866e7bfe29ef33ff3e194d24853f9f6c222a7dfd0157d4f6aeb2553bfa4aede60cffcf204db75942282486d47161b8f5082ef15f244cf286cc35584b0c5975fd837ce03f0132e69b9c0d02c9b231846b3e27b67488461442ab1b1407893c543389d9c97868be99ff6b2ff570a8b2ebd80effd09e9fdc39429bce5225e27ace074bb371f981f8993d418cf5ffcb4ff36f89b6f37a35e2603dde3a4fb875169ca8d6247d2ee7afeaef5d75dd0e9553f2d1424fe34bd5d8ad8021a2fa2629b983cff0e83eceafdef14d440b1e93179fbff07d987f5ae2e9c97d67492ac0b2e0fa2e001678b77df4186969f8c5cadc9d9ef2e9f50dc81f2e66f605089c2b260d3c89a0f5832f1c01a028df6706f728751a358bed5aebe4771b333559252ea06522bce0ebe91199d25d1069afcd41d40d42e249a7572f1493fb393b9d63348c18b6825b823b7f5e9cd2f69bb60f3ab6851912560a5348ca59eae33e2dcfb366891902dbe13344c1184c82d8d70bbda7f6aef00450c49bc53eeacdb7eb87d7b7b8b7b54a06aa8d273404b74aa81d4a1d9a48f903d24e802f8fadaf8f8c0b6fab1fc0824e6e5eb4f13264c9c6185f0a5a26e64fa28737607a1f987c6c01d24f07f023ce13e8ca729eaa8cad4ee268e5eec6e4fb21cea84fa5601cb6cb43440db345652b6de90c14c964c38d512ea2d5f1039f2b88b3ac75ba4f166d12d55adc44523c02858c2eac2f6c1b954edf8bce2bfd20a7431530203ac3b7bcf5ea764b33ff5c4752be12b5cc3b8f268cf0fa191b0df0f967f77e51bc78aeb7669fe81556b738f0c70c533e5fe73e36e0e224dc4ffafc0f0c5a64e89bd829c5dc42a07225b635ca504e609d77d57cfc7961af1b412b5f86249db4e0ee568ffc0bcfe7e25e7f9d28e2680bde27c30f3eb638740eb0539bca79da61f994345e75fbfd5d52a3db0f01512e3d64e467473a6abe6412129e4a5cde7959a702a6b12dba7b484772463a1a5795aaf54863495b083bd93f11902794109899495a47a9e0efd873e3d1fa35563a7970f59a32b820b67f4a3fbc82f00bedadf6884343ef4aeeb094491a070c50bb2cdb4c65ecb00199b41c83c0a46d77df38fb9e08162c21cd22b4c1b354b151cee77332ca017fc9bdd81decbe7b32d0a92dced62ced5a63d3bffa9102caf7163da2b10b352b81d2f0a5e78d67cd6903ce1fa00a20679bdb163efd8137d95847f89d0e5901b589635ed37d9b68b93a59d1e32cc37f8814ba77a3515c9958b4c1ef8ada6ccaeaadf2108cbe4f4902a9f6dd704f4d38c5aeb666bec03e10d4fbb71a2818d4e61ed2446909bf72a66f8aa47817603e90b3c7af8529a9d1b93f73ebfccf9a1d9c93f5c149221d6fda3bb3b34cc529ef3a5ace12e1ea6e1820bb05d6986d9a00d6830190bb8aa9df6f6521b4ca7996866fea2040ab73661f70e67a602360acd55581ee1892e59436141117dde26c7a30e7fac5179c7c10de228fe033eda1644e7d4ed80d22429ac242ee320cc658f9a76e934f2c96710f932424fb3864f143b6d96854abed1a04916026e2411dabc425f062d7e1f6fad7b79e7c09c7c258518d8ea2c6d1973582f0474a3f73bcf01fb118cbfc2deaeb180e64cd016f6dd82ad7b4e5b859a3d5390c8db75b8559aa3c331ff1494ea871db2b52a18be4a4f053e87209789c7ecb5b5685733bcad5c4820400877b4bae946963558988762b3fac518d3881d498bf68efbf56d840d97a8225fb6038107daee4454625f9fe3cac00363947f86239a1f40ecbc877678386955efb435969038f0be4de304a816853b95882ff72f88a5a053b2973f4df605b96c84d2da03e04a2b240e32d138a85df9e60cd039373ae45e5a2d574744738e86de23152509220b0081eac7e5307c8c4ea39cbf79c9f03080dc961a44741a324bfb85e81f827eb56d78c8d5522130a758e7ff1b5ecef492a3eeff9df0887075e9474649f1cbe6b161a2e5005f676fe623ff26d0ec277f4e5429a6c1b48c63ee796459567e5fea9e6073db124ac6b54a0fb3e1916fd65a5c1c2db419056de75c4c5267d9676a22d86189c356fed792ca6067f5d365a86b8ff81b287893c4cea1fdf17a8def1a9ec48fd6e423fb7efdb1f9db155b97bdce6f8f17c67fbd4dcc68fc4400f68001b00df41e0d1f363d4f5f492ac2e937eb79febd7a7cafe7daa9ec2f2046d027601312d28d73b518ee0ed401f9faca0f16c41d1c251e6d8a0969d354298f393937233e7708af035158f76c43f87df8ebdfe904cdda74f866975e8c25ce253fe99a40aaff1d7c8eb145a56c0ee549728bf4c07a885caf43294f2036dc068d3a00cec15450abbf6c1a08980b3dc50e558c2dfd0ccda1795ff27147f77e86e7dcdc0814bba1e692aca2296371109446c3b0628af14f3adb97e2c3cc362c74e7218e1e59979d5af67457b6068c601258b8b955433898c537222c3b4bfb0c33adcd9520079ac145f85b3c711b763119b408b30356c8ca745c3c4cb9559bf1690be4b29691cdbe1686a43c26f7ca1489b72dbac9aa1dd533a03ee2d5c0a587187e7caf99c727f746421f3c81f7ecc1966c08792f394cf09ca7bc66cd9bd44e03011fc42e786a986bc3933ef7f30cc4e2fad6ba610ccdac14303b8c94b9e1dde415603ff2b15493c7c7951892e3fb50b564109b405390b8e0be228bb9d57159a5b7541c08b7a064a82112ff4b54786d0f97f2a4ed740886c754ea7d8c65094d16a1a1ade1cfa021d44806e0bea62a5d141cfe585cfdf37d9892cb4314b715cdd39987cac0e4f5e3e3b870ed2e2691fd422e2d6fde496d1a71adc2ef7380e698f196e6c7c532eadb5ff5fd5e8149bf440d55885d33506a55dfa4b730f5f09f9cda9e3d2f3c26f9f2c08a654f2383d21108f415b36a60cbe85210cae19e4b4399d3b25df786bbb8929e30c9601a94006d84077979706a8c17f5f8ffc06ae7e4574f62d65b890d5bb15af175d7348633104f2a385f0535ecd7e8999900360c4daed92c0a795da10eabb2a7c239fb392f836287e89513220d9564e6502a6e2cefb76280ae0a2fce5fcb8e77f89b1a083782d6de51f5b11e2f69b5c06072ea4767441cc89ee2a2009628b5c071454d8c00afb307ab5cda4617d8c3c1961a83ceff566a9a204333212a62ab405e7ec6801974172cd046055f001a02386efe029c97af5f01df48f4b500c845269c770d0da867be7a6b48ed8a300e16d928c9ca2308d11b9a1f653697981b1d8c298d38b1e12da8625eee4b26943922a5b74914e9ae0ddab49665f2915bc7a2973a6626d90fa6e0c8e5c9eeb9fe5050119f1462296dd767b2c20856c7ef1c58eea759dd957ffa090bb70d8055370755712bb12f1a4a6843b928fadbc783433798eea20aedb74c4024a1b3e8ac9d80c7294d2ce484a0ed9fcae6667e2a727f08ceeb1d6e155a30efe0d32fb53b650509d2d6aa81b3db1e2ec586c0432d5b9885ebf602bc351ed2ab7a3c6ac5326d5dda7d74f7828cc09245afa28e8b8e03969144e377c952929d2fbebe4af789d74a6dfcc15f94a1ee01a86a1c3a995ecefe174f885feb3606b5f579f13c46bc7906da71872e6d367cfab7c2b57ea7922c74b4da468fd8e3e0e921420f8622c46b69153bdb6ca6558d8313af92090ed6ba002d5389336fcf7b80858e7db3ea9494ea7b62f1c4555c1ab02e62791fff9c927e090528decdac7348824fd9d7da15125ba20b102f5767ef75c1e90c0a7e6d39f3089eae4a711f5a9e5f78c3bda1a0a70a0c74f0b11a1e84f376a0ed582ba681c38977348fb727e3309163eee686de763b42e32dfd8cfbd9f0c955c49dcc7aee06faddcebda8b7b6ccbf4034d923413a2805d99b829b4a6ecd04f684b9502b034139700b63ebe36dadf8be08189a8113c614488dd54fa619b0dcb001b8bb6b38f73312bc8ba7e37597b711ddb3d1a4fcd50f9c7423b2aec1b877ed683317f776115dde980b2a5a4fdb2e9a4fefd0f86ab37691cb345526c50b7b6c5fa9e795d7db5f08294c7b2495d30357467a61644e2573b90b3347ebe652eb7c6990dd4588183b8a632bdc911788f4249673b0f2e1ed3da46aae96308d0ce91f4bba398e1e514a2266d3b5ea3bf61a8bbc1fd4c910cb732bf6c894c6fbb1ca43b85a64e512ef3ff6852ffdedee7197199d624a8dc7cc1871be18897b32ad365b109d25591bd35828d8c495e559f5b9e527ca78040c7f02b6ae52af69c1c50169e10424469993fdad9adde040af7c615cfb3c18dc6633d911d12133de13afacf01fc05b162b411805661f0da6c3c531639fe84c6469827dc4d19c2364069a435cb6687aca3c4aacedcdc2727af09d68a5aa2b24e674e235eccd5c6df80807530d6e3d19b2f5eb090db89c5c695eb45d0a8df84420b2fd31b18f6d31c2ae6444d64b2c18d8a05539e2a77877ea90618dd7a758d105180148e047de0ec9cc21cb72cb881d280cd3bf054671f1cca6b494d74ef2f80745fe3886faeeaff9aa84fd125ed3047955e82ab55b6a16216ca84d61a2c938128ef73fbabca73d48929cee90b1bb243857897768aa40bebf726fc19c7654333c0ba383396078b721713537d4bdad35b71b91d0221f894553c2054c6809220e7f8bf2891b9e4207faab2866b53e964078939e40afecc37e116f5f8187ef5665b4f99e7ec0c99ab830927575d37d3f063afa5d201b7efd6a94f055a75a093bc94c578beb88848c5be650c79cea935237bff129df6383823496333fc36a49bd80cc938fbdf709f3a54812b776b08cec294c83fe7cd32cc0910a519de6142a527dbb1c7c5f6c1ff1a580826caf03e86febc170f4fca672cd31384d12da9be830e7b751c7210b3ab3ece466ec074e01e11a28b44b7f41486bec3527adeeee6aeffab49cb180df57683b6997ca66b9a3c0d70ec92818ac396db00062abecaf859ca56f6fa7696f097dc9caca4d6f7e5068fe6a3621e390d0bd769714ab466894bf5f55f945e0101dee8c1af5c9a011c332c7c49c0c4fb404c4d007a173bcbd243dcd3bc78dea7d6b81f86e41672cde16b223f7225863b3333db7744e5b3533ea940846e2ae39d651560c70419e778e340ce456e3b95dc9c1594d42db9c4fbab8f16dc65a1eae2497eeddd26fc17ab4d5ec30cd447986de0df4b3dff4dd8bea1e68b4efca7110303aaeadbfaa56191e37142a9911285a1c949ff14b005e5351988650b690e4829faadb427427600d67e9628cf68ff5a9afd6e6622843138d46810eb5dd67648a5ad2187b1f0ee6fef50e8a83e043fae220fe19a67482b9ebc46919dcd4b117b7892a37a989d191b6cfd7c18d55d35d60766a4d518b7c506289d887124eee4b8a7cb28e42aa8f8eaee991239c1d6a9dcf0afe711b64d264c9a424407174bd07a1dcbe8d16090dab4e7852974f06963518a178e655b87036f447b5e691689f6955f58fe6a404ec26ce25192051e5229a78eb532219796abe1c6da222b1c517bed741ac18f310672ba9d9aeaa52aca896edf62ac45059eb47c9ad84c9ad4a4bec4c9b1c9dddaeae39ca0328152ef2defd8fb4131fd979932c421a588163ce37f57889482ea428a2337152439ed6dcf2c536684d93d97f286f534c2975f4afe88dd3971ad002a8fc1e565660ae88007d2eb0604424b9af535d831a0cf34bfe3a920139a30f77e64605124c1ea6e57c292affa87d7e364b2c21bb7f9f2a73ba9834f37c0ccd018745024fd8d9988fbcbd9ff468aa93116e364c068e9cd5697963b21ee888e7fd13b01bc440adb93bd48ec4b80df241fcefb8ce114d0d967dda686f707d59b1544615fc180cf6e9170a42303d891c76d2bb37e42d82639589af48a8ce1e401394d30c7908c6537bcd27d0","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
