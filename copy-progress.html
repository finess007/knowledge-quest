<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"65f69fd583d8cfa65b55af995ac4923eaf936c0f47738506b8b56dc52d2ae7b670f591c9b3ed9ee53c85f737099a31ec966e0c3cf537137edd3478eba5dd1c270aea3eb38d090cdf56912e6e8ee4bfc9dc804e420ebe7f84e943904d1e205df0c86ae28228e340c5d6751a0fe963193e5a2a842acb1923ce64412bebdffe371e58caa1050851e7f9849116a3ff8ccdd8435bcb79aa59bde3527b08c1dc61ad625f0d44685d5d1f9b066ca8ed673b0b662b6aeb16a18dca227fdf6313c8984222793666ba8ce9bff12da2e8f054dfd8a56a9d7864010202f7817a1bbc6ca7edaa68290c7d75c788f4153f2d3d0537841970959d9a17679f7650365e5b553d5c7bd06686a462b998267654c4ed7d27dc8b3d5ac7830fde7b52d2e0be114c7f73fef240e16b36ae1c3e9b962b690c5807eef6b25fb0172ecc09e658c91479fe6813f50556907f16c9edbda05ba48c5aceb1c6b9f167992cffcd888c11078c9c2b0a6f5eaaa5a2274ae6893f42c44e43ede3aa829135a5b1f7920d9ee7095d48a68d58d63c656d4d1e34f904c28b6d4af0b931f8642328cb7589bd7098ad9481c2c4653579152c1756bb6c8309dddf95f39be5cc955acf6bf1cc19c89ef5dc2f1f1e8b935c15ce418a555a1dcbf8b0b4f1648b481f1dd20b58b77f8e2d3cd6182c309e1a2ed121334ba975d869e735ac17fe36e231afd2be2cd640bb8b0406975b15e9d6f143feeab7de8963dd805b1ec8d946d0fdfeb2ca393187c39d068b33b4248828161163f81409aa8c1068437fba8b568e91143bdd7f6a178f381a117506eaf5e1a1a5aa8f59f8f8e0a07b6b55649bc8025ab3933fa1723c125dfe013c2d08fd9fb7a833954527f7c854d49d8a0fd0287e9fa38183a65e8b566349459ffd06cd76c2be1f1fba8c78ae2530fefbad81f1301e6d51ab7775807ea5d2a8deb3c48e7dcae294538d392ec05a782d3ff82c30c2dc5d92d0d93cdb8d21e8a3da33212bcffec56ad6821cfb16e080f90cf3e7970abae50c48fa704b305bf6584d5b164f0f674c9de2b993575a97c3fb0fba3f2a66f503ef4f4681021d8e9ebde23694a1d203fe2ae8265ac4a03fb76046b45dc32c489b129f29175e11d5508126f51069c978eaab16e9991ff9c886cafa18ca2667b3a382b02873f9298320a208a730384d81d78204be2958a7b645867eb8c18b83dcca8dce6ffaf4e249742268c42b5f28900030143e7e65a900e1a0ad4a752e3c5fbf586519ff2823b052ffa106381e79860b2c3438edd2c4f3639df9955fbc8ae1754f65cbc6c1c4eb8e6ee0fe046f57f3bac71a22d6ce88ceb2a3aed5b96acab284d7880105dffbaa74b561465661091e38a5f0023e4c8330bb94b82a2514f3c71ed99d8bac8c1fb4cd8f46c97139460b3806102401582da97d0bdf3148e0a0b1f84240ceb420a085647bbdcc7a0fe4720e91e550f1674a353b19f61a59b49d331ba58c059f2cd5044ca0c95ca5fa305b8c4eb2d128758eb83f6db12cbb84117cc8e05ebd3dd99d8976c0b582c0a6da0fad9627810d7b1a261991575c17ec1d976c08d576ec1153498ee1df70dfaef65559b29f138f2976b7b6b622b214633fbc6978fcc56d3917fb5b387381c2089a9bafa2310ab5dac734b0b41522e0c1a7bdea4232a6c6a6a169f2a6cb80df403284517ce6df860ae0efdb4fe5b0936b76663ddcde489619d66c85d945d5f0d51f856bdd1f7a88a90d7f3406f3572d1a47be878a13f524f7943cfaa5251f1c203eb6339d10c345c376e3b99808fd72076efb2e129093244eda5c6651382e762a43aff29d85c200097004fe4fe6ac3b6719e2503646ec0d8942943662f8d4bbd96cef53b1122060a42ec4a932e215c0ddea735d55275c6b72fa3b668f1215a572b4300a6c82d5472dbbe071739764524af2bf35f69c4a333c267c421a22ec9ac5375b8d6211a46f2e1e6f8661bd440eeb4b6405ad9b6778f236f05246ef5ac2de8186b2b824249675957b2a0600723fd2540049e31d39d63bf1cfd75bcdf3746c441041b17bc4a635dfe71302cd741ccdc7d6f1b02ad5b6e7c34c7b76f22af05df8f7dd13734ac8e6248cd6a7a5754de195c0d0ad258810912ba93d1dfbb8ad1e547a8b11ba2110df457ef5f8890d0afa23b75132563f15e6a553fc470381c771456ebec7b3ab1f027925b199f7818452d95237dd73be862eca4d57e8869ef3228b1b70c5e2c3ad08cf0564885e4efb8088094ffc68eee753c33b192eaedb4b106d3cb8368488d3f8215db890d1033b7892d20f9bf346d81600ad6237e53d223828faa5db817335190ff4392abd425acaea3e37de0c15136d421a4b1a69b5a5bbe7d04db226ef1d6a0d7d981168fe41902e48dfd4ebbc6fa56515b9df85433ff52c92fd8196ae97e1eea905692df004ba36f4ff57554108d59f192f39e0db026837904c5542ed462e49454c67371d60c92ea407f4918e65043c2890a6a0e44edc1f426c55684998b0f3dcce1ddec0d0e0b18acb0c7ff1b9ad84e6c897a1b30387f38ff00fcfcf0c4e4c85c0fdf982b41b324909a752202809a1d9d102145653dbd18b1bf757c0e32915721666e7f17cc008f484d034cea33952719d00b5f519cc66053c18e6b17e5f22f46ceb2d7aed61d70290cb760c845814aefca63ecbb89132fe41eb09553916d6f7d77550b6eaa7b5c163b06b4b757f14a24b17c120d1b1cd35643cb33107b51a6127780947d140f3b1c80d84ba8540e2dbbdc63bb5eef9cd736302cd59b6be7cd4c15390eea356701f1c9e1cb37d9b2c58b4594328e595ab26d838de96b3b8204ca8799a6a5b766826f9c5e8b8a3354e9d37d4385562aa1b715590c0449efd0345396faa718a971d130c18fb4b8137dc7e47421e095512ffb10c8a08f5e51fee111565cb833f98698bf26846657d4e517112774a9631d5bc98c13ed936b73533e4206400f59071c1e59e5c30a2a08a89249dd81754c38191e7f7f364391f97a9ddfe7ad87efc6fc561fb5b21605269ce4c06fd3c42cab5662219d92cbc0abff49437ef59a803a2b56e126054a71cdaa53cb93b195b630111368b9c55f402de2671ef26aca7e374dca54237bfa302e2b5a9793b202b9937c9b169756d74ab5ffa00be7ff601029f1ba7757b9f20f0702fa55e733bf816d79d4ea48ea83e2887da2f1b837404d04dfd07bd66ce4534711b8071a6e7ad24c91bb77113146689eeb4f6ecf2a46d964b7d56e03d7b2b6b5f4a8a14c85692d5d9593317dbdaa67daaaff5caf394df7a418022606b75c817fb4bd2e99ff94609289fd8e980fb1aa85e0600609b9584a843b1463c8b543063b812bce5ba714008d5776c4939510756d5e5bda2e3120768527cf3717e98c131532450d6b60f2338f6a8c12deaff0db1d02d660c89f03f30792998aa8c97b188dd5194b7879bf80e16e9eb521d3ebb63b6903cf24029794c0e48d66f4a56f44b318b964271aa747afd42dfeec29c3aefa77fcf953efc2207d2d9f28c2d95cf4025ecb06d05c51d07462f856ba4251fa60900a63e301dd02c714f34662c9c53707bab322925ce5a3b25df1625592ad27f2693e8ec9b7174f21a23760dd74619f3670d8ec2201097b4c8f15261c18caeb11c9f533f395dd277429d3de88120b45af700a76c9c6edda177eeb399298e73c83764cbf4ffe2863b97e69f4b99857d300c79db68cc519183ae7f0d24d292ea20fd338dafd7909e12dbca01f09732d9e93cc95d3d059c41d55d6add24e53dd0097708a25f617dc3b9ccd82c25dd2ded56065aea8542176ecf10c7a920005cca3aa3f33b14db8413ec033db68ec9137b693f3047f1e4a9ec47d376fe471f876503950c7100772dc2a49ffb24235346b1775f2793afeda46caf1f2613b78883d64697aa67b1475be41cf611a78b1b6ea381ec8e52e81d05a6c89b359a25fe4712095b2fdc026b32b9de7f694910ed66bbd974b14cca70f1e7bdf0c554165897b59286357984205b364ace4409d3b4efa2ac73d2470380c603c6d68f257db8d5644cdfc9b302b039edb4aaaf2f8c1a4a23d16ccc3e5e8309902420720b6542bda6bee1beedb58b6ed48e6527f8f48de5e4a8f3c2b9c334ef67a8e1d447889e56d8fc5bf3d89294cf2505fc568eb23bbaf363d60bd1406a9e1034167039e2696fc66afc7bdbcc65e2a7a3cccd84832e5eaa63d9609c4b91f37d7b27a0516e6df7c0eb7dddca7c83102294c8d5fb1a9390e7b8934a8d432ca6e243a71ea4b2348def77339f9d883273ffe1398acaa43db3f5e4cf1afc88bb44a36510860f8e0b0cbdbc84a415d26b75f8c8ce42539c7c514aab2d0951527722d23812359309f6b0b3ece1b8bdb814eaebcc63490693050f8ebc588481bcb97a05b4df22e2746582eac0d5ccc6839e8a34346e8c97ff2583442b008cd8a2695d75369b2ecf2b4d711eb76e2d49c12bfdf8d10df5ee1add3d052f4c220cbca07483aa3ee0884bf784eebc5141307c4e5b9f8f025353dad6043434640265a210ac1d0bd3a70a0c19770a6fe92e6f5423d3788aec1ef49cecf9291f30134d7b7aafbe0f7c6c9cb35b450cb14400597e75094981da97a866f20dbee410bf7dcda40d9d561626c4fc227e82d625859a6e26d7031a1c94e73fb7e3515bbffb93ca762bbd3aed0947cc47c4c9835797059f009af8de26710701f810fbded4dfd87dd9990020e872fb191c19e16a0dd02bc9f00aeee722549487a2be9519f6ba1e261bb63a0ebf6253c53fda9e90950fbd1625d4a6609d2072df1328993d885691c67498d78a2f0e599a1a6782760331dcf13875e83896f4e13ea456b8def1610464d55fbc10d8936f767b33ed4a87390d5586162f542d47d55f42d3867527472e420a4ee5054cd6564cd0286da594679ff2029a4e704bdcca3c10cf912cc8eeb54a581e87bf63741f3e4bb232826bf7f2e9b7373ffd618f956b2bce8e10e1ef7de0ff3902ceacc2d66c25f317bb8f7ae289b709bd272f5cdc2f0c30f06adfb9ce381f51808fe8930d3a52b5966898282112469d7aaa3dde13405cc3f7c6e920b8d51e66a1e0a77b40f6fe920668ba1444168472cdf85f9f520594b8a1ccafbb8e85fdac1f152b8ec69ff3ee09f888ed05e01f7bfcbfbee4f5071a99a5e22d51a2db0e11b2ae1f041480306e86e0f72d18c8490578da74f2143fd2a7dd40989cea0d878b17bc428abf2fe73f61bfa330c2130f033b7389dd0c3ec8a465ecabccad7a009b9b05dde8eabd38c64fc5d0f07cdcb74c1097cffcb38fe063ccadc9da246b0f83529d732084d4447502e6c400545317d9e09d26278d1e31c99e3a02eb0163f9ecf86ff6ee7bc0c6566896978dce591cc2b1483b32ce4dcece1df81c1e56bc9bdc1640279933a2ed3283b139f99f9dc0228d4b1eb3947cd99d0e45eeae45597eb35d5f6b935c3a7ed6cda538c246bf055750b706de89e28437f5bc17ed3b7abd779b058b995663c574be480af15ed6416b95aa81789105ebd3f864572404ff96e99ee03798866497f5e6ab5c1736c9d4bf42b21cf1702aa523ff898f7d584a0b4ec9e252a362cd9a7a20df3efe0e4388533b0b6e4b6632555b16881003ba6118cc56ce4e7343287d7326d08b820538965e87cd3e0c432a40827fdc0f4b0070a5d68018e4bac3746921b103da243f57b6bcc31127c791ce77388e23f85d8dec92fc51a199579252c420dc82df37e020acee43414e2abced07420f37f3767f11aac589bdfd73ada65c63610ac9497f533210b072881ca01b29de762b7ceb8dd7cad8465228ad1272e15fa2addf34841a22d574421b65e6f3c0dcf61cc2eb965265b0c33362788c1a7c5abd72ae22c0bda446e284836233f71e6a4b2b9be47a33f2af04f4df6b1561983f23af1d3897e15e3bb44793d6ced0e8e317df568b46e60699b250914a7da8a54d2686ad0d24feb8117a1801ab493f05c8196efbb13ec6362d28a87487b868f8628f70be692595ec723b0b29e04c74ae24f0ed21188092c1a63a3fe8bae766f34c8b8f031598bf5a8f16b73ed71564f01b86e6f92a19718f256b333d8dfea77129a31878acd009dca106660acba03851500ce34749953e87fcd9840e46ec27f35a7bdf07e746f296b9fdba82db0a8cb7206fd7054f8f2eab8870212020f380cdb09e270fe563e478853686d4b7bc3d503ed2407522ce2aa1c11831a982daf0ed0668ac1f1e9bf71bb8f1eab5dac4fbce47b4f0c027719511df33b297f2040b54dc5a5801a457713830dbcb3bad77533a831e3198783e1db1c1e1a567107ade179a0abd80d289dd156ab095b673bfa696b7b0724f5f9ca0957505a3849f5b64218820711ec8839dcd66a7725edc192132cc5bb63c1e423af2bd023ee890ef7162e58660693107a4039fb3ac0ebe5de8b10296dc886e3166f762dd3ecee215224c86e3199f387a894fce4ea08c7073fbae7c8276ecf2bc63055f96123c00b4f885d64a7a17fd6089a177dc34b946968185ae3e1cf9477c91cb9e4dd7c1e08efe529d41a1f384edde733c17fe2ebf5ea5e38fa878564e26fddab8b3d910a80ff89c780547f8188622ebd9cc9be09975942ddef2d75e697a9789b3c61997a1db31f98ec5ce55d9f52c7cd9cd065f4f37e04974006d8f121bbca000a8003d407151ad8434b770af0209341bca7ed5d83d59b185f0d28fd4d7177d2ec2e5e2e428e1b535314f0eda89d6b9a5d6f628d064618eb82b1c7d6973a7301fc383d093370593e1ced5a15191789e80bc3fc77796bd69c419e89cf146ef78a25d84d8838824b7a687e6e4f8ddfbcd79aa606c61a3477a084ff3af7178e92efcd4f3b683e63ec6a9b556b6b189837eae58a7877b677da08b58600c07f589b48aa59901768cc3bf19bb3b53a1e0ad79b424991aebef9d2f1f4c428a056ec9dc3beb2140725cd046c1e88f6e3257da771c65257f482300709801825d2eef50c13cd782da13a4abcb8d244a3219cf2477f7de53240954b08b5bdf4058ec1c9001d7d3daa10e314541df06fc2cc65384d56f33990d5ce69bf6d1d6206e8c8a078a11b28c47f6e34835a10c504e3a1d1bece8183c4e5da3356abfcf6f55ee5f56637e51b7b1a5e757331da2a0fc8d845c19f1c5ace3c4d5344db0b180801c737085b937fd6f9afd2010ecbac482f38011c8304289c9fe320670eed21097bbd9700de49498e389e8a51ae353f7f33e39213893e77058a7ee3fc52e7c30c37a8dc1e9625e0e409c25ad5c10812e816022e01f58c940706f2a26f6f6bde6360caf4f27a458a6f2ba365220c2e06a84452bb74ad3353a429ffc4809247d878ce5c158181da75834a0e3e22e6ff0d9e084fa56c6d44d8600de473318a454dbcc60522124e12b5ea5d6d34fa96a0790d74e8588b71c6174c033f3fbd7df779806206c774b95f6051394d379d1ea909fe8d5d77199d8df06376f2384fb29831dc7d16acf22966bbc16764ac2468d77e3d79f934f5c61f52548a70f48e4cf47d753f9e361435f9ec954dc318db7339feaf82dd6329a3ea8418e4face2ede8512612f378468b43eb73d12b82932cff178d3c2093ac779150b059afd48098c72128f41fd79383cdaf6b7771861e2e412202e295ab5997218f8d0698e127473a3c3271326f9efd8f6d91032e997ac79ef2bd4eab42bc489d88cac49bca8f3da1e5ddc3a981228e6f489110ea7da5b4a1f9a6d513eea97410beea22a6879d81e5f8d019d52421f4a7e78a45ebf93fb2f4c7295a17a16a48bb5db1f7efea229d324da6dcc51341e5624d09d51dc3dbe586f719371b96b8e2a56e4961603f976150002c5df91dc72928a7c6c70710915a9eb775f9b348eca44314ed21d98f263be0766dfa0961dc74de211144fe67b99d754731522d2e5eaed3d397a748f7ec169f94462e32a165d751ce8d1f97ce5f484b4c6dd04b32749cabd17d3570c3d72944b7271d9ce0c3ffb35c33afbd7b5e11ffaf80cb5ce7ae59d6af841870b94d27c353db8472025bf9e27d3d06137737910889df11f61ad5050245e5b918c51b421c66a51e060807938e85c431b489b8953b48e95c0e3f7ac2da6114008e2c8a09e8bd368fafdd7520d14029bc875374e0598788b42b800a4493792c4670c7d3174f083d6c50a338c69d6625e9e41833a39800ff1fe0fcda2d378cbdabaa75ad38dad7778975d62dd931bd8ad8e2159831fd46b098d5cd7fcb78031ac1bfc824a39de2112162a5068f667fb1ee9ba8f69115ee8d363b3c2818a0741390a249ec9d5f4f4178ee0e6a91c78d44615cb98c1642de53ee240c29c6853fd76574176e1ac85df116e982e7dc788ea32256f4adfe9022a94962ab6ae51c12606eef3cd822a186bc465222a2f0d22f3cc437bb9ac014f01fc439492b0a408c8e673c0503da1bf9be21abd65b474bc36d2164f67f7662bc4d7a46b33a19be2297c7e108be1cdf7d912818586deda3262c1f6859fbb5e4107cb697f9384996912078803cceababf26749504972c50b6ed9c816707bda00344d4cb682a1e81b1c036c7e072b6d805e2feadbb191072152c8f75a7cf300a7bb89343347296aa03c8976977237b6c6115c159ef98cbf2fc6f208d5b0a710dbad0b21c7ba32a639d686d95a36f58fe41454a30f08615bb175345cf3f6047d9aa71bc1ad0490b7e6039f855d4b8e60ce1434087e8176e3086911269cf4b3c700dc0cb5b624dbf4164dfabddaefae9a07e54ffdb79660af599b3a11c32e796f8ae31367e35874fc9a84311b7ea38e9f2b235f1e95d31628f748e5831182e05b42179d899628536375878b6fb35365c009ec9fc391fbad395f9779df60ecaf14c7663bea543dfe1b298827cdf1039b497af3f8c16a0f3b6b7ddf7bc210e9b3bedea139a3d9b112aa496be007c972cafc2262171221b80dca63f361b3f870dd1a73cd429271716c1d2e0d718cd83fccc06ec45b3165b23fee1f1b5d27d49d0e52a90ba0e466bedc9ea8a1a075d1fef2cfb6de8c7a5217188280605a768a547eababefc3ef48946965a37fadc2fe7a6393128503af27ab5c429116d0e966f5e102d6f56340d9b9ff3fbe1e8ada0a8e339c589db1a72b42e4ee31c553d0dab73284fd1faa7ebd03d12f86a3c234233bef69b0738d89dfd74e27af614d148eb879c90f1ae8091abcaa74e4ff95dbab2a43953ac9328c5b17fdcd4928147367c5ea209d8006ca1aa3845b12a6d399215678ba61123c6a91a83cf821e41602d7f4bc2f5fb407cffadbe3ae4040603142e9bd0bf5f0878d61710bc58e4007982dcab965aa4650c57de445f6e876cc54c0b1b1348936f3d2e28fabd1b2724993f619eb2f447d7219ff5745a0f9e3fac61e67516dc929878f99626e4b400ff2a18bd13c5a91d561d19ffc43ce08977fdc798204c3bb76ec2afc56b2f80c401d6b7f67b9aac910a7297ce81b227a1eb3eac3537b190c88a5a684388e936fbc5d47e27c58587ddad977d34040e2e7014d863f2c319547890c07061e4789bda0abab1d0d5e1a2e5cd01076cf7824bff5d0247ff3930e99e43dfad8214a651ef4dea96e477071ad59391383d332f52db2469953982e4af893803a96cdfcb053146883dfbd7100da44159fdddcd3f796bc6baf0e84e132bbb90dafcd3bea10629eb3a596bbdcfac0623d5f9e972887df4008121f851a4d9c8d220a95b8b39ff1b2364decbace1209538650fbe4213c90afee34baec8f7259fcf98df18e1471ebc7e4a4778e15bda4028240cb3694ae502ab9a204c89908684d1b829a27480dc7ed07ade6a1c6e7447787d8260c484a6d88d05d9cb2ddab55f0796133cdef6ae37ad66f4df9bf9db15ba1a4ee3b0e1e4865696836e04a6f6829bdd34e3eb2fbd585ef76230127aebf7ba7b6481456e4669b43d50def91d44f44f6ea72d264c66709413351289f805e052745ad52cda60611e8518ac8e418d5d112904e1d59854604f6e70f906ade655660c1a6bb6cb559d5aa89d908f66d0c22d69ff3e165a2b0ae77190f31d9631727e9c531fbac315fff032826a7a879922fdb93da035dc351a95dfcfba35170f4d6e57f9d258fa119fcf0530a8a032e2f3e3343929b46a8787a8d3a881744f8c07543938bd110a6400cb8a829c7e4d0fc64d816873d03c5f41a3e53dbd7b05b042bb04c14137fda9e4c187d8bf935282b2255014810811f1aa418f242ca1e98bbf135f17ff4a80525755e092d91b1bdde02024e418e6bbf2bb73974b88b0664dc1358f8ea7da3c988866fca691f5c93757216818ed8c5f2e27e129b402bcce03f4ec0d9f0a71c3ad4692b0cb8c01e24d1cd18b6e50d9fedd50117ef215b9a256799ec7d920b439667a40e9fdef7e4059b815e628da0d26bf57d35f6b747de59a44a080477b473b0a5431b234c04b1258135207cd4a7ae4952fb9c2cdcc6914f8d2c9aeeee41800c215fad781744eadc97be37a938e37b87a156cbebb86b5b5af36978f78b5c7a4bbe6c9b6e11adc8cae1dbba0587ca8880f531d2f8d6151f0e86d1a09051f2de08a6553a2cee0c5ff9c1d3daf48fcd41cd1e910443f6f7db59eed71dc35b08f1f7e4b42e22a05ac3b8cdb7fc5c5d3192ca59c2a204919459f974c113ea66c6333a6fab602411066d38d38216ca4208bb7c9515b491a6198b2c798aad7b8c81bd722a0082b7a7a248eac6b29043f96fea0940fe54d6fe94b7f9815e45d3c613a36afb36b0d0a4f514f7a544fe822802c295b3136dcf06653c97c122897368514294f4d1fbb4bbd01056ae5861e2ac80f21d56410295130d2492db1c0e82da3beb0253f39d51383e978e46889ac7696ff43940f8b463b20a582f1afc1f6c9d11faff4f09d2daa557f0f8a092e756f604eec8f3fe5cdaac42a4de5cd01e0e13fa5a2a0b88838305795f13631a5b0ed3e6901693a1e04782666efce6e23f05e09d7ddfa66dbea98765a6b2799c2fdbac9caa5014c1510ad8fbdb12d9a4b1b8bc08218a3af2aae22a551180d8d883b40537615912940d39e15a062321290184e88656b8b6c8c9116abffae062930e63ca7700095a12fe7efe506ca2bccb2c746bc49a7c114c5698d5d70f17c7627573717a25aa8f942c852f04e79cdba23c3e2beb50a37052f6c4bce783f923e2cc3e27d8c62f5a5a10283a068a3d2326444fe2987f54f931d3082e39605e85b3a15a75360e68addb4801730c43c3e6c40a082af5d3fd0b121dbd55297cd6be2df3942d4864d742caad6a7164111dd7ecf5d82fe475da334e2f9c6879a2b2c67aa3961c515231bff12d3fa22c507c2a3a2f8376827f27e32c20d2756672d84e50137e8b495783f23d9aa4bd4f6cc1ddac2dde808cc4c90717b47e7ee3a24eb8bdfd3b59b72962f859f671441bf0ee37aba6466767863933b0d7c1d0800c98c84a7d79876b44b4af006c23a944648a9b3cf00fbaaaa6c3f4aa8ecb759630e03450b712d8de51bf943aac037dec65f1b2cf89e9b4aa67ef58e092364d00427bf831a63f1d827f3a590e74c745959b78a27006e5e43f984545e91ec088d5037cbd126a8486771fb6e0ee125271bb3a12fac54c18559fbc224578980c0a97d409ec336108ecd7d31c55d1290045fdbba5340a5915234df3bb198bb7a09d54d5c8792cb3c9d01ab3e15bb024070098e9f6028d49c073ecc26c4c7e71c46343751c9904bfa48746ee70971ec7fbaad62f4afa6ba48de226972601745ecac18042e4ab389a56104fb35dce476155f08f360653e4f68daf0a46d86e23b9f3d28fb47a8b977bf00e309967975b169e8b7c0acdfc8f3f6c30e71bdc06d481952f685475eebe0943b96d40fa66419527a070a8b9176b4b05d6b239605b35183518dcb0ac99be365dbe505d95903e557b68e1848c2eae6b6a1bf1114b9f9a4c652ff65f94b03ae949e85dacda582d59ca3bf760bbadcfcc66bb9640992ace86ca31d34803b17b0267199f46c9b64edd00233dbb46d311c258bd77c25e4e2c65dc191f9003011a73cbe4882e83532835ebeee8ddac850c5e8054bf22a0fb4b5b174d50034d49e34dca9b0d48245c56357b7c45242f98018ae70db60ecec4c0654e6f0261e5de33b7de525d3a4e562a11557a031707394d6d722bed473d1ced42f0d9fc8f8265f556f1ab4bf50068790272965ae22c2e4f67699471c96c6099b54a405482a0767deff2660c8b77bd968c71f6e240bc93b87a86ab53d6746b8498ca5f3966dff831fe1bcba1163fe62171a7d205a14afcc59d7c00cb4f06c7154c01518b777294257fb053c35d038d4b9bb2fcfe33869e1b720e271e06f1cdec75561d2efd16ff844cf8036de58251b325adffe2325da471bbeb4dfe8f015b0ccc8e5cfe802fff9b23525b76c8bd897461300902f84a5bc9740e0f0e156f454d4df8adab892b3f711a7c0b33f477bf25bbabde46a863df9efa06dc51629b9f1669e86dff96a7a619e01aaf0bc1174f302ab7064f1bdde89797dca5d44c6a061d51fa70f2f17c37870278799f2f5199b08f945dbe7c0b42a848e58bd327c7b15b1e8ea589fe63a890e39f5964b23b18001f024e01b8eca690414768076d9b6764a55377b26241eadc3f70076b20635c98d70003b43755e9a6660d81e8567e5579d2bb74d9e5fa0e1e2ac13f43fdaa1e71f7a1cf9d02a5f5d9b12357d67e717fe7e2a8c5cdd001560e014ba8c5c1bca4b5a0eccca687ae896cdc4f66fa76ab2cbe02201a5497f5905817f9103846614251ca24ca49f5b1b16fa45866e80e4ab317a01064668316317a6b3bf9d6c0d8746c51d3c8794fbed43746f8acf1a42e4214ee6f0f90d3aefc5a9834c32b871abbedc8cd265305e4e0b18f9f9f71ccadc8f943c31cf378f7133d7e841ac41c2b7ac20f01002bf1e6ddcdca7be5cf1a4b220630e6fdcce56588755a6fbb6a69de2467adaf4de522fb17240f1d2d3120faf3126c5f52d5d36fb722e5f6a22963634c14a10d72137fbf7186a9326ec803ba275c9146c898310889b25b0aef8b23a2aaa3d59f27bc4f47a67d6bc65da3abd4775563a934d3d1bb57218195cf13af1ea471d5322c19b2997e9a7c5436bbeae576d41996a80c2cf6bbac78b74bcfd04d8aa8f3b699b74a2b82c1c391850a51f67c4e43139686cf9cd124af4dd5e9b6b3617a336e1c3749fea4005386b17d549e2ae5af7fa0ee0887f1ea6191786b0e02a8787885e7f5ef91eb166bf4b0c8bd5db14d1a395d366c7cc919ba20f7e6ab30d56d39de233e8276e52a44b0d301f6b42ee75607cd792d8d7ccbf6c3e129275a4a9992925a1964421f52a56d45d864d9a6006020e90b922955b70f9fba344f1c2816e1b7bd59e9b81417d2ec70a271a2bca28f42d38d9a186c8bfac9a05f7d8fc3d4921d5d2534da83c491d371562ef61a94460a38113eed4dc97922f8a001a29efacbcc0b4b8c32eac424bcab38a9cdedf85bc6653795b1c095461d10c25c60eb818bce2686488f913032b4f32c0e680dbf8be17c15d01bf070d95633ed87e08e7e8c89b13027aeffb712bd318b54cd39188e4738b711b5d9cb9b8e0f171b895d82b4f9740eebe92ee032f84f626d6e817cf1310441fae580f085cc2db4a79b45377a253d661f15ea0220569705d228e61e784c78307f063ea0b45104bcfc5796e039bd8b4bd271df722293dd1f8a9fbaf17b5db51b8475993d0d4da9e0a925be9cc1b613eedaa3eee6dba814a2fb790ed11e45a51d9da80ef28666682d5040987bec7c32ecbf8350ae4a1d50e1d705dee2d555c8de5ee11c8672e7c0d83810a8737f68b694d3f0d47f9674c8b4e76298a91c5972eaea88176248bc5e338098f79392101fd87d063fb2937d309a54e662215aeae6f2b1ef6b181d6cb4840fe04fb1a3068f701cde4691d0f82b20cecae0ba12b7a0f79c7de0e7ef954ac409e6ce29e6bdf0468552d0b38f0bad68b99e8a089e200ea1e54809695506ae35da53b8944ec199932e0041d81b5aa80a412f4371ebfb549d3f37f9d255337c4f703959a70ea8d49aad378f7b66f25e169eadcb90fb23c5d22751bf865ad88a8b5791c7bb549765297c33ae1e3dedf2693dfc925525b82bc75f57006bcc183c3454fd72b7f469f8e5da464b92d2e831ccf2afb0bd85f327315dd011a341347b9a475c7de4ffc16ba4b0fa2cfd88c8b3d15ae5f391d19bffd41f105b63bd2e89e7b90e941f23b9ab75f595a1fa44d6e968587644d19376dca5563e4f25002e06386eaa11a7d06678bfb1c387e3b6c68a3e6413280327b7a06df6cee1b70c504ccc21e03e5534dd55dfcc412697438b07c6127f4f153996e291ac0e9893960da1d46eddfd467d1332f331da691f2f04976dfef78901e6f88ccc53d61946d6bb31b97f4c4fd9f9649b7e50d5a5b36e6bf254b1f65ba6181dfdc18003a3feca0b9ced7b1e7e66920cd2b105e727264cfaef59fcd8461efc3e4d9bf102e08ae0063a7960aa067ac3861205a5883060e57d3f127c4cebc5b22a3930d6050846b6ee056a19c0a2dac172a59d98a492bfdb93009ffd32efa17f954f03bef672bae2a78ca8728e86179c7ff181c7b1351178f78b95655097a81b77af9829d770b288f6f0452e6978cdc123fc89a16eee3e23aa6191a8894e4f14c59a5ca4d7f2733cbe7631c852ad88f42c443e62d828ad1ab543e50b95ed94b6e5fcae34b357d3240469b7f4b88b7b7265f884be3e5987a342a637469d54b6eaf25458e2c6cf70f78026c6b1aa988bae5992536a80d260e3c39da331a048d708f1e49dae71c4fab93552c2ffb962dda19de672d0e2bec4f3cf90351810baceb9f410f4a9b9db1b41230c3cb22737be718519dd583b6e2989103aa187f617593251620298383c44b7a42fb29a65ddfada0c5120af9874abddb0ccc1e9e0a9db914e731c407e56ff08075a2a8869af3c8ce459e3de78676f7d02a381aac36be6523853c0d8b705921bb531110f2387f09b84d7c4b01034af1367c37c8d6d6f0e19fcf15040aab0f63f19957606b7980bf582ef13bb8260f4186c145af75a3fb0bee060fddb0e607e5f5aa0711a2c31c5f7544b8d6c802741ee3b1908041fbe20464a69a1d8f153fc5e8efc91e6200804a31aab859ddffaa3feb3c9a90c051a5309a77c47f57b6ef665da1166c5cd7f8bba6ae19b33006d2279bf6463e0507528b8d52f68dddf9f2121e5b3704121f2815c06e7ec34d6de9b5342b38466819e560e3c90f1ab0a3269a9679465b1e7470d17ff89e1dec159297708c6ea4b95c9784aaff2dff5b544865f540f7659386dee01f8d836e3ad87a4701458b6bd808bf8f452daaf808c340249dc7eac644f5210f4a4f21a96b0577548950147e0f0229c0a2b65055bf6b973be0cc3d9bcf3fc1abde78a403f6fed896241ea23ccadc93c8ee6b7020aa42d34bdaafbe7b67d26cea45a27d941da5e1aa40434c74fc978573088eb474f05741a9673afd30627c376a07637c3d693f0031d7c528dfc6b28a89974510881a28b3dc07049ccaebeb522b7259ffad7044e3863c17f5cac97b852992cc3c66ce7403b05f615b57a5ae598af35d9dc2fc34f65dd1b5c5c14f66aa37dc8a311638d975f177ff84f14e8ac7621f8ea02cf596ee42e39e010800a18553515c17c87212219130d0c83117358e3f3aca25e1919019cb4b3f645c73632e5e5acf513cf1f8fbe9587549b975717bfa1e6ac51016789cb51074b6ba26a4592cfcec30cd14a56979c9b94948087e20f229493e7158cfc74be71ef9041aba950b1dd193acfd4a08cc4851dc138135184201dc6d4e4301f55f9c843411fc72d9c0dc764a8ec3e40d3b1eeb404d391bba5ac7a4bad101b9e561936ce5f2eede7172f686c6583d58af028fb88f020b50c755fa355fe28ba241a8b417135ef9147caab55aaf6353f6425399e0fe56547af6753c6391f8cbeebd0f68fec4de9f5ab52afe61aa1a9c5081b506f4fde3ef71cecbeaec7b8e5e33632f4bcd49fb7083ab88999127e634e733e523f9612635c579c7a64883894affbc58688256d94d50722ed10ca4714dde5a2d69fdc4324a5eba419ec8822d452d0e538cdac146278fb6003b44091e78bb7f622c5e21af8a9c7fd5ae9a86819fc690c5b162dcd75cec6e703dbecafa443a44d5a82347ee3da3b8a848f0770655fa4def9456aceea1f30abe8f8a45b18b1757c8fd88134f715d447d2527e3f359c9139a2c5bca268874aae942bdd3f11e68e82203e2acc2bb0bfd2c7b76680d6fb9e80960d0f54e7ad26e82cc10fcc36fef320d37570cc638b0a2c2014da3a29d1c019a4ef0e873d9af7af16c8acebc959e566b36700c5aa31d1f0a779e57abf78817daf407c8246650534d1fcaffb29d6cd312a4742effb2bb7404b607575c1f86041c98f3212f2a192dc59dfedb5283fccb26746b5478baff69b754c45f8be3c5e0ee798f918082d3ad41677ea0dee4c3004be07fdfa581ef348be1396b5638075b4fa8bee5b0f56c0b125d9dfce211e291a822ef3429ad5199dfae729c46f70ada20bef0880a2593f01952885378229514365ff11c72e57ab0a3f1c818388a3392bbadc272ea12ad5575c1da6f9ea195ef4ca6b0c36563b9501632134351ea4f971e52d5a00f92d9cadf80eada8b06a9d0cffb86ebd91e719ee15877fd48567e6cf4a8a94fa33f2a6a187e7d673fb5e4c39643bc006981a0d7ebddb36dcee14406e80478ddef9d38720d5ff056bf37ba8d3aa0b2235be204bba9ab6490b83d2e97156c544126f01944fda56cac5ce5ff14c32eb94a1d55c93cf6e5cb437532bd5c0961cd124f3eed9028be871584c51319db870293def0bfefad85ba83e8c8625ed124444ffb0c38cc5294f6ffc7b24a666c0d2c8eb2a5599cdaf91108ca33a39354b466b6a18f1d88a220c35341ebbc287f6c616d0d4ca48fdb017df7b994f1dbe6d34754ddb71396f171176ec6bd9eef72157c714a170a31f44f9cf2815869037187aa5e95ef4ce934b00f59c41f70467d8d9b7da27f85f2da20028d96e73947139567fc978fe66e0438d09b2982fc8ffb8eb1f75a9b5008fbc877cd6a252082bed6ef33a84c958eaa653369d580cf9b576debca30928614ce9a22e66704d68ad3306a2cdc152b9348533d2eaeb677d846d806350cd66d21186e2d0fd31eaa22999e259a800f774faeb4cc3c4cb63290a87b8aa1c9dbc1dc2af98796b4a83d6e7b2d6d016c590c8830adc07a94375ddfecb51e3c635acc409214e339578ec82289f44c8f4880a0ae954ef72f609072c1c2d1b1f608da56b883e9847c046afed59939b2493a2f51c6f94aa8d852434b288f1a5e5507534aa463056e5a559960d28cc2911b68ef5fee1351a4a0e4b2bc688a65a966904e3f2e7ec2f72631b12f720467724f4557448d218071c259ad71dc89fe84fa10a8bbdd17e41420ab724d28352caff8e01e2eac0ce7c35fa1fe0f63d3eaee7f62542f162c33bf66fd04b1f66bb0371cf753b6a82debac00bb202d7649b5733e6818a9d80842f6a7b5f4cba8eef9b42850d2fedf831acd90996df3e8af5814f20d9d00a85e200ecee91db7df5879137419318f61fbbcd0b365f20cbd5be070b08ca1ae0511507c34d213cb26f3d4de2295a99811cbd0147851c533a62d0254e95cb10b1da1ea3c49f3d31e7ad4ee478653ac4a001910ca1579879eb239a5a24dfb1e034e966f8d691dc221c8472d584275048260cde52786249c6c5257ceb0d0457ca0bd8c114de1e43d31b87738d7743687f8d600dbbf6bfa543b2e192e7694a9ac2b07ea50431e0342b81c1255984ad6f16dea97687a7bd05e395b819d21bdb8fa7b89de24989426c648e87c4f2eab9090073eb402a0758bda6f096b802892e7a3f73c133709e19df5d2b1b006c41efb118c322ae39ba9558b752b15db04d1159039c9a532e5396189890ebde5e006b8aea991b6301c419796ad0065ba16cc1c840919781058b35586b1bfdadc38e40892c97a082e7eaf03c2aa1474c52ad87b1adc6a6e5ee21cd72474446c79246d8815b2d30f5bc048af7bb0e037d1af9e188697792b4a8e99f2a4ed2685eaafbc5612e36d85c9ba180cf63563df922b92730a2c9e3aa87d52e28d13e91761ce63971c564d71a04673c933dd3e5dfb1e9ba1fba88fd49a6640c33bcd309cc3859180b18d465452361ff83030a8d762e92730b5e7b98ed9977a8071cb562259ac46a4c083619492007f23f34c870797a3d445aa954e1c23283b3106d55154047d8d33a1efaba88baa75de622fb31e37c15c0bc05fb03c6f3a34eaed64dcdc500504e257bc0947a33f0387649f6032b7a3783e19abcf1afa1fb855acc389d3e6b393bebc20a4ef7e8941521c4bf322fd3c78fd09771b1991b11e6d997325c6479afcc77a28dce391512713a6df8c1e3319c99b1efb69d56d2763bee7d9f9685be044344806d83fabfffbc92e4bafa77189ddea7a5ded9b42f1214d95de3c1f909b472c33dbc153ba3c0da641cd2577a6470705f4877eda928911fc4e9caa6f6ffd29a415df8b0779f7837ace0c3c02f3ef9b717241a6aa2c500e1128b91b40cc73b7a112c102473779c7ffa3e540044f399f6d99e3144dd6a2532bf987d49e4b0397fb3f3bec0f17f446c89109741ff1c33253537c2ebe98ac18898a6e5b605bc0395cd57ac58b0c6dd505ae6b4ddcd2b418b6dd9b793d6cbca2c6e7f46f29efd2334723104512a99f7e78512753605b9fb331b6ff0d3804b2f4964e2d0194efb6a24ade37c61e9453a1a966fe18a35fc00decd4c5bd849f1e3bd932d3ab467e82ddee5f099cd753f8cc75264c79591b4451de5d5618fbe76e7ccb2aebcdb6b8047c7516d2f1f6ca0f4f664848bb3760fdb12a2998ebd5265e847130b86e05c41b6ec2e3a9c92839c63d20e9afe75e82e19dd1099dc7dfd54a8d174c44e35ead9e2f2281a4aeaf3a1b1bdc7ef5e1a4ce8125b2b57482b568a122f91c3d5e94a4cf8b73e6bbb2df0bb04dc23aaafca24a0b6fd464428a0c93ff761192e4bf1bf8124492d4de9e14e259f9dd06c30b00a8a14736c6a2bf30d11be81b6f2f2840cab1238f144c51b2f7db400a9f1bf8550b12446f6166149039b2b2f711497c4eb792d27324dc90ac2893450d453e062d82438827c5b8bd8e58ce1613ebb6a35796ef2a7ddba8caea4f2f99fcd0ef80dd5c65c4caf89d98fc6423532e94b2caa3d97d6756e1e713b5497f28f6c40a7a02db0da0eb65b50b05d8a0b0337403a376b4143558884ee8f537343726b6a61156622ae31959853a9c136b38773803dbc1a6f2a6dced3360f51d918282ea6637fe2198a4866fd98e370bee62aafd85a5cfe158380d377fb1dbb2da554d754f05034142213f43e47c2b3b292b1d7f1a66486ce613ac4f62a9d732a1bd27b8bd2fe6c230b900c8342a1a25dfa99b3cd20a615ffaf6b5fe0b4f371f2ea58e6f5aa8add634f57ab098f22490315183daa82425e0e0df8941abab99f7d7da898ff02af1ac5dc2b5cbc69d6ea5dcb12f1b8180d3f08efa35dc5f36e3e444ef7b91fe8b927a326b2e49d01651854f58e0f9f4793fe490b3ee5bb3f64b47950b2c28daf02d5da0d7c5e50578d1b4c9e9aaf0fa6033d5d3df1039a548c994ed695472a45dca2a6dc6cd4fa2f0a79d7c08261df3fb717e924187378e142d032ff0fe4077e0166851fb2e667c4c52d2029f11ed407efd1d1c1fa0d8cedb6bbaf76e486287bb6a0b25226cbbda2fa918ff1407a914e7298dc506ca00959594ade41ec058113867be188b0ef55c1952b0eda507fbda406613dba49ececc1cbdf1eb2c506c807601c1f704136e0438754132e30c12f448114bb3f2a81879e138adf8ddbd5369a4c7bb649249f9d8d3ec748ffd7f726cc1db26f4a27b527b121757745a8b1fb5b84e5282ea5e38127665935ee624dbf9766971e7d056fe3090fe6e56eb0b0f4003fa608d627e46533bd16017305ee2d13ebe10efe5f7a9755c94edcf02621d36c4172fcf80df27b1e2e67c348ac1243df771c7dbc02a7bbeb40e9949e90d14e8aa546ef135949bfdbd3aee589dd0989e309067c4c61446a0663ba308438fc3b21737ac1694ab9fdcc0d124c78736282fa11e60069329faa8655dc9531f198526dcd9bc67642bfc41dedb38de57feff3201392eded89f0c26d41acb12f23dee66a8700578752c30510a04e67f5f1a556de97a7fe157dfe45c412fb9308b873bef2c0c8982ec8833d487281b2315992dae3de1266093e006ffd22dd828e18f3c864bb26478cedb5941970494f29497e0bdc2a5f59cc9b2d07f9789b0c63e079e0f95a3dd30158dc46dbe922f742bc5161eff07d6fa1c706b0d3c5ea6bf06a2934a0db47378d5a45d506b52fa750f4badc57c4a17f0031a62b510f9127ef32d542b3590f8435efc850e0044a792b02212984d046df0d3282e17f71ebc09419ebaa9df571b506f5fddcbf5c46b4e3de21594d295946dbf6de73f1c9c47bee89fdc3ac834d7c34c8b55578aa4d3dffd9549fcf0ca33125acbac82976c2aa4b539d4f4a5a7ef737a7febebb12c23992ed47cdd14058b4b1217a6c327dbb9c1143e254ce954234b37cdbd37ce13c506ea0b11d7e2ca9aa602c91c79a37fdff8cede3a405394a12871261862eae3a6bb7f0ba69fdfd9b6c089b78556de4176a9dd600b0587f4a8df2831d5f44bbde69e54cf0ec050c44700f4d933460927dd4c78373354995b0c5c321f5b21656efced7f62d3dec1282296509d30e274f9259dd0c1e9c8e0143cd25e2d0960ba6b698be50b26cc94fdbfe8dbd043a0c290ef4445e4f0f57743fd0bcf9080e3182cd3d7cacec900e6c937d3a548404f10345da241db966ffa204567756b5283d22d8d7edfae467e871277910bbd51ccba818c9db2e0d3c96d56ea922e026b8d16fca5378051f0b082d4f34decce72af761e65c44151b0e19fa02e2c3816baf1e7ec34280477bab462d2b507b35f19531069b1c7152958725264525771eccf9dfce3c8e5f60ce3b8eb9a61e96a57f05877211ce913a622004b30aa17348ebbe5e77d7fa0e178cf82146dbbce56fd810dff6a4b13c95d5b1d96d5bf624f6c51afcfa43bc129dda9d0ce76feb30141f50acb30af7cf28999bd616a8ee536bc3d4c9a7edc15b32063cf472c39f332d07b4c6154667d8d5efa10ecb625461d57a7afa917170a83a6c560ca4a1d2916db04d099824b016f92745ef796143bca52fae4b4e7a834915ef5a76199466073137f3ae9968d50db1aaa2fce5d411be746173d6a3e01bbe262feb74e8b1ba5da6f9707e1e4cb3d0a15a9a6ae42c552062b5ddd5e252c5dde9a894c471c00a1a5c74908022b4bd359a67c86eeccc6897e5195481d3d1b61b1e54b7f9fc24eaed9aacac7b8268","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
