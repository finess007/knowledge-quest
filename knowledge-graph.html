<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"ef1a628b89099ab26abaa4891826f0a494f34f92111c508e4ab8d737f8f5e4bbc86896b3ac712b9e834241383926803497b59741858c57cd139d904cb61a106081a405f37c83870a10220b5e953b160f9ef034642e55ed9711e40bfefbade7190275af00550991b94ca4d4995b2bd3429047b8e13ef53e6603bae58483319de80e6a3b46b81bae2b2348f4e1a1ca1b2e94577ee504bc8a318e118d1aebf15d56673edb7b306c7110825e0eaf35f335e33a12d0c246cbbae77b5d93b5043b28c8dd504c4020bf5942d3d9e68b7937c3091b40df90357223fb12bdb7aaad5d1cef1f0ca8f1aef6b11ef050aa21188bf96ff6361da6c3de35d07d9452c2e34ddf8dbc34327cf32c8093b5f003d998f6d4fd08e2b39bd822c37617d9d368937f2deef3db01e75290cb92dad8d263d47f3a094d30e878acc25767f5fa7a9886e2b1a4731dc764ddb698d5c8829345c5d277c927b532e7f3c07e2a82dca14cdb6d01b85f3a06af1e32015dd74f289a5c96c740bc9d7241ed250488dd12b17b0372c77559bfebcafbd7a995aa1d9c01ccb71cf9f7c362a268d53ece0a6d219a6589ff52e531c7b36e216833e143b36e6c4e2653aef7714e0e9d7f27abe840f5f1262119482a53f545726915006b81b87d9acca8fe1c6a2b8f997046050118219d12ddfad17c82d9ee231bda332f3e473a1ca0318d131845c696ebe932b1ecb4ce50f0d9c2f9d202d7d1f2024e2ac7b5a89c14be584b4eb07d04afaa74385205c90e4e8ec1a785cc95592175ccb58230ff6029107d952f2a8bfd4f3e83170595170a0f6e783c10d59eea80bf05f7d23cac074bece2e1e450cbc07fff1843fa0290d86f1fb65c0bddbec5eb928d3c2abff829f42842761a268c639b11d677d41e806e3d6d541aee8d614caf9244c74114881576cfef748fd34017184e63285d6567165d54778ae198513ea4b7d4cf09b5425dbaa2a160b96a1614dbadc8331452676bc038a3a0d2bde67b272096bb3a93c4ec9abe205f0f149a8836bb7363446cd74af0ca7a102519679ff41cbc8851869d85a2ec5cef48154c0b089f9bdbdcc00a75e08032a8323c4870ebbe422ce2a271daaacbdde31ecd8d65824a52ba8100965d14266d47911ea8771d1725b70c1bafb7fa8db92ebd7dac69a8dfe59635d89b0a7bd5846a1fde9bf8a96a9f5fd44d87eb11a736962c9965266bb58c9f1c8f1a1b1e32c1314f2e82a5fcf2570ec9cffb24007bece8a36f449a7a95dd1dac3e3a21596e88f96ba335a58a0b8893de84f1f64b735cbc478ba0ab39220cdcd14bf7607ebe109248071de4c89e438eb6fd7d85c73e2855af0d026422a4cd094e7a87ae6cbcfd000c72bdb49b811e0031295efdea1a9e3dbe9f9932a7332457612eed7c427e92d82b01f8c10f604e172daa61c549b625790b2dd1f9f3e76c09e3bbf49a7ce0332876833398e833f59f21231396c2d7e0bb23eacb55fea2071364ccf8a092cf1c6006bb0ab1a5986dba48c27fe59fb2a7ca3c428ff207222f35f9d9ec3614f40011a8ec76048941954f0988c0ff6162b7d8264452a031915a269a20a3567787fbf84dfa70a87ba700139a510f355e570c37f2b1dcc20053b5d8431bcff601350c8142c5eb1ddfaf7349a150919b9732b2a5f3960fab5fb4c3141cd7f2ccfa02d66b59c353dba4ef1d82f183d14e7a90272dbe68d9903bec1a4942aa77364c7391223885921007ece470714d11fe0516bf26516315ea4d861c2699f6759465f1246635286b035d0ebfe3050b781f06c8c9444f57e4de79259aa3d35f258988ae0446a9c2477ebfdba0d7141532ec8ea95a6be98625ff86fdcbabecf3a171675bc830c5f3943bab055adb1c5a6cd97e27b8fd3c754f143043f3218dfcec8d060c18018c26bdeb016d2b7e2e504b4347d2c66db9265fd96d9f2c7059c03eac3e8c0779c0674b5779d9b2fd0b9ad068bd59ae591b09b8a834f3ad03afd249d7dc6d2133301b18f1d8fb0f0f30d7e56d061d96c49eee61acfe115bf16bfc6eeeba638d1c2f1d7ee6a664ee0e26f432b22fd44a6171fe9b3caf35334b4f271e2a12ef0698343fcae4be4d420eaebb701a1a5f802aaf6e7213405715411bb6d10c95a3883c5dc07ed7439e713e4c40b1318685b2a8ec56bdad0f140c3d2f4022551ac458dc9568ddcd99cb10f79319154bc902c862989dcab447300af69ec35d5cbd75f0bdb364adf7addcf4e7fea6663c3321a72a97ca51832a56af86242ba9789abee13b44f042ddfbd5f4b793752a26fed95aa85693461c4b54db5fc4e1edee90d0a1152f4179dee4e8a3cc73e0c46baa2835b0fa6b63d8678eccda3ea440eee4a1fdf75aadb81595744c1c2f362ac605deeaa997cdfe1d28d7b58d23b43b3656e5a3c3825dd8763d6a0499f63956e56822f07a0285b8feab2c4242b0baa03206f17094f3808f076d8bfb34e6fde7fc20a88bfed31fddabde61bb3aae9cc5adffaae85717795b2fb3a4c4cecbfe0e2cc5be9d74afb74730bc02405a74f69127b43dd2204e3dc18d7bb49ae9b0ef5eacfbc2c0fa8ef83fdb5f942d2bfe8ba5352b5d81c018a3304c0acc5a60471a5b229b6353e54a69180858441ffa0573cb950db09daefef6a7d62d5c64d9bdaf6323ed70c54ae3b6126a26d3bbd1b3be3cae6a4b83edfe6d7a784d24f9866e10809ec8bd33996a07833e2ef970f289bc9844692cf25e2abe405d06b4b7c74a9caaf2f25c261f620a0bae3f3dabd2a8a2ad598faad7bdb4f0aac640ae72b295f3b73f451501c228b6f3dad7e1789c480533820937ea5bd645a302f195bd345df76a45184c523624b706c92cf28de3bbf0816c40fa996b8c1f79a294462ba7bc9d831221f3221a40942d910b2915964bfe970b3fab893f3343aa35d5001c2ec9027f2060c1fbc26949a1f461ed7c1909f292741964885e0499dad1f382abc6b35c4a6c6e5580350d8b2e3f5b62a1df6969f57ada8939f82bc3384000b754c5cb0f85e995f2e42221e582096f13e4cc4ecadc960a005b220d70020e65df56a6abf4686f7e0eb352bd26d773ec3a3fa0b65a9747a17688397612b84950ade9a4d48523cf6f9311479280d97a41ce58aedc1c97a408c7c625967a48120b28320536f75ba912b75104cc71248532dd50312dba245c47eec852112d47c5362764b13935b3997ff2ddece66b84a35b555fb8478ba6e627f783782906c7e28070637a02a07e4e8ac4d5cfe8987d5167629ae1401bd8aa2261aa22d58677b4b97609b81158ef1cd89c33170dcd847e80970b781b03d49ed4b035d87f8117eb12a628e73e8a16b07aba2433309ac2e4376f1ff4be35f1cd0850a7022505b7fbe2d13a0afa63bf5d888a5a661a72401cbe39abc3d470b7acb494ddcd133529fb27b8bf1463e14e25cfcc1fad7f4ca1861f8f73cd46c671025892bd07b6e992c5b59025bc9e33304f60b9d94fc0a925b1f58990324b7bf7a8f1beaa95e20df1aef693c3c3a6272936ad23de157d11ed05a00353f871dafa1f53273dece2c06d5f99a665971e1d5874705e974c6b5bc19b260ca4b46b36b1dfe160ccc001a6806d4bdd62907d9045e8b206fc733192ea97f4d6d2ca22b57bedd97e1451ee464a87df73ea0dc200cb9c1a3abc82739e2f7bcdd416bd135a86e32cc4d68e270d4437e3ec376202e64de76b9743b7f73b359a33396868418bcfcb97fca607e405c7e103acaaf2e7140ee7e774a91d35d830a5b25001dbc34c7fce636ba1225ee23b9a9353863cff13ac3906723ae681f491b5098b77f64f985d9c4434144728a840f1f49054fe587a25509e35691ea998233604d69a467ef26c7d6a92c17078b1f60f5111ad22c72b97ba075df43c3cea398a295b35ef2a7b6e2335ac9ebe44c6225c569fe153537392cd947877c96792d0fbaa048a6b301216c87ff354dd121cbda87c44501c772c73c512066d45ec103d371417194ad0d490918681da76225e1c434f328401ba41044a57f71cfa7773cdff3c3da76ec4d82c5703cdae2ae5f37e2a16d90ebe9979d593ffbebed8f15db9357f0d13e6fe558cd383cbfe9a40f46519d5e912a0eecc172be6c0766fa3735186349d04e6a6b84bdd282a0b78d207b36f8ff7dec765c29cbf1a95606de9f7d8ce4d79d6dbe06272e2d06ad419cc0c5225bd2b3bc045981b8bb7ccd95a3114a1c9f53c4c2047c9bb946fb1655e0d02bedf701774a7ebb0fa4bbcd18282031987f1aea4d43b376ccfaf2b5722bc1504d1ac2a70346541682f07d6bf4c851b28a33a122f823dabe5b6b5cb8892b9e39e81372c31143547abce03c661c182550f1ddb353e94d072e7397f5d9d0cb9860cf6c4a6ba9a0cafe5dcc96e731ef0455ffd474fa74014d7cad6e16b816620c64ef53fb7383427294dc2be66338446bab6bf3b7ac57c4bfb7046b028a36fb7998e6afe60237870335e099eb4b828c219011da2350a2b4e6367407c6fb74bdbdcbd1e5cf2c01a79335c9bab81fd88b531deeca2d7528d7945429033b6b616f5fa338bf47b02afae1e0a49814b00faa545586cc1c2f97b09f9a9095eaabb8baa61eaa976c997c19c367bd15daa8c15a066295c1dd784c16327a9e2cf4f9145a093a60874db995c78735fcdf0777f35cd4c369b06104543bf6995c6512eb28216d3de6786fb5fe5b6c3d9c58b7a2fe164c0eb6f9e2ca5bed1682eb948dc00a7959d0c3055613b77c7e2b8b40e7f6579b0d0b7935372696a84e50768a96bf9ca9ab9b02f15585c21d29a2c9feb101a3f9ae1d13e04e604458bd249c1b6b1a3e377107bd52218c5f65038b5923c1b63c67cd0ab0fdd9429fae5499e06e9b509cedc9966bbee3d4f3116040f26328a6a543e458ff83dadaf90b8ac5cb18a6a7f8631a07a39838e55aa73fc2135390b9d9b8f439305ad1be892134aa7bfc7c24c69566d332fa5dbb33a0628989b50ae96094b9f6b4708cba99ec7b88fa5fe35d6d8ced53eb3cfbd338b0fea5253699587562165060808cbcdbaeb5c84869b1c392e1aad78641abfe9396499301daf606c383408f41dbbdcec23be30a6df342fbe6de1a37e08318e3cf97a85e90c8812370019f94d9d550f41c2c292b9ebe646fea890e5413681d225ac3f5bbff4562b84066c9dc1c2bc27d379bad14286d50eaf55fa616ee132961bcf02dda720279bcf28602c6537015e4b675be4d81ecc6d7adbd4fdd7aae8bf0a76be0bffb996049e6d697a27f5694e63c2e371b3bd7a2d5fa141b17715683b96648243240d564098c00087a180ce412ff44aedc6c516cf7e432bfdb5bf5fd5fb9c47a44649b5125e5888f5c93450c89648fd5abb7fe9cd43e61cad1fac2191da21150c9947c1a4ca29dbe96f5ced15201921be07721ddb7da8a65a3e0aac98c5c54a6f0a95a7d231eccfab5d87890254bd3dbeffc8fa39705ba4ab71ba6fa3cc5a89f5aa21f582a160c1b933a943c123f7017b6b17a700f01a012dbda306389888caf20be31f437bf31ecbf054c748fc8d40293fecb711beef6872e707c86913c8b37c4b44d7fd09f4b9883ee273df4852f9c95f28108616fb642b8fca4b72e66caf3c9bc1db4a24620b5d159efc298fa419192020a86d0a6423d7de8fecb088f527ac08c178df4ae26ddb5c2df670258eebf4ff6d5c40dd168793995d7d607f8e21ccb7ea2650253c8fd2b391dc15242121aa0d950482e221dc3fd860ec12332a0f6a6616a37daf34024a4c1c55c3bbe6b4bf9641b4d088683d7d6366490d5bd6816601a11630e51b1702a1ad985ebccc6a4d83e19ec6964ab9cdb5bc62a58ebc840eda8d093880b9119a8b2ea0c3f718f5be319d3874a5b57ff385635902bff2bce1dcb9dfd02a0f06cbbc49db6656557ce611a4e0b9270afade5bb3832450345494b1bc0a1bd194e4762af93535f30de039289babb478f06412a009e9b71ec30595c8d0f00a0fd1a61b759d986f91254e284d61c411027f555e96812596ae8b2e72afe694c38ff9adec5cd9c7a10ec9d30ff2064c6a50013ab132e7ea2508bf5d097a6b72b86ddf7486066c5c92d4830fb5be34db53a341369dec85a235e35e06e434c25075a6d50536d5176b70c8b27697e37e4e67427c19a4b2215e4e0bcddb4112eed7e73980569bb968e6bb3e7860ba8918c7982f0267a03fe323d5ebe38da922285710f087302ce660d2575f9d9e8b6a5b95159d2923cf7c77b6c4e9a82311e0c49f6188383bd89586ac00354dfd12a5841383573367d056159e94c221aa03671b2174600a0a7445dae48acb14903c541c83e38a40b9edc4df0d1665139e4207dd81f4c841038f2aa2d35702015a743cb8b859b8aafb625b7ab9fdd1776b31c0b42170ae9dd1d57ca87cc88b43d095519036ff93d47da360ce38ba974e040d269ac77159923f070ea13ebc40acae7afdd32583faf5a978054dbfc08a4a2f15198bd9aa21ace50379d427d87ceca0ed59570fb158721dd4f6be28d3eeac730dee7a38112acb10e48de7072b31e34ae822b29ed7bc9b682e6012c581eb8f671202362063c5b2d1dd5f4fac32def833e121d92c59cf5dde8b5ce710de4e690a0641abea91642979c9b70c916d896614f0e5f9df6b90536bfe279ae65959a26a90882f41ed2fc550a456be80a45f1eae43064e2a683906ba4054e2332db94c58c1599aa48ab891824ee7548c0f2af79258378d64a4b44ade242b91c06ca53a2dc7c37d1fbdca62dc286ea519eed4756b0471faccb7e13e43c60063bacabe5d6dde84dcd1868f35bb7a97b085737d22d8a704d1ca1b36974bfa5d95cef2681868008948046922612e69be4c796ad0e7a7eb7daec7e582e199b1763ba5c3f210104c177a97616f9b8a5661e68b073e634f89213c123dadee8c7e4f58d0300d0bb99414b14179590e6e6328be88a26d05e5065e304f7419447afbc31f2a420a7c07872aebfa0196f35342fe7caf36b1c6785ae534f54c803b6f98d865ff15489256f854409fbc8d2a389619427d2a7949250813cd8319311b8800b743f1d462128b3e7228a09460c358cda02f608ad0b29d56aacc116311f2561c2f962080e9ff73848a4adc650b4771dcf146f7008aa4caf258a92b673d0c01ee1e841db2300f85c819df2c9b1df3c3440e23a5436aadb4d26aa82d4a0904d9c700c6e75462ee89ec9959d7608045c0875373aa708bd6436201df78306dc2975c87291c0a85f9ce7e70e5576d2a2d316fb9b3868f74347e3f9b0ce4b6859469f64aad3e92dd2bca553ceb92568d5290e95a81da65160a283165e2eace36609fdf67d8ea45b236a662386452e53a789cad6bbf104442a119481a7a8b9a8f896c20bdcbdf2ca5bcfb6aa15117cc2255859581dafb44eb98f52a6ec3d201899f07fba003fd452d125e9dd153fd7426190320dc1baa448eb20085451df13cfb56c34c6f4268d540fe880f91d35a64f91a13b058d29f0109c7b4a08e222926d306f30b0bc1bf53bc455a35ca7a3210da2dc6f64a5e99d8a54020968adc52205e559f4e18ff13bf7621ef03c72ab98d3b1517bb5dc138bde9371523d668bd21b8c64f014a709922bf0f43027c9daf7a15dec2b03f760825467486b6b23ca9cd873cfef591f2b2425de0fed207f3129a8909ef12f44a0007861ecdc36cabdd0b67b27aedf5251c709bbef4d9e549e2b2ad972f987e81c84d68dd37b80a9d5cb6cac6958dd7e869d4fd5fd832e8947231ba1a3694725078f653df9fcae7f05905151d65aecce05eec4a0e94a4e1a771206205335885b3ebe0c9433075a0329547575e954aef721a4c0ceb7652904d370e5d5749123913f33bc94aa7fd33f41de4560a9d050dc927328608c53f010ed6b12905713f38adf5ada0e350dacf251486b8af76e53a7737368dd3f223683f90668fb1fbf9e9999e183e79d06a702618d732d0848aecbc2f4cad75afc7afce0ed616e202a0fd2a53fc0895dc7a556c37105d6a50103bdb56d40a4b5775a98ecb5788912487d14572ceeea9e079398359a6274f7bfa286617d103f1b8b85042226e317d191e539aff659da107726668a16952dc77087ee4305dcde9bf40950ff36ba897b73e4ec99d739e0a6cb9a736f17717c39c92e58b4add21abf8e6535ef12f2c38bdb28d2ed7a2baac1aeb42364b6358fa81ead458fa3d3c97fb59dfcbc0c94d43e206c6aeeb95f0cbed111854844f8cfa846cb128afd793bf10ff0545e4833a512bea141622dd99badac31cd9409bebb913614dcfa22e266393ebba60a22cc7cc80922e662baead1b4855b0463708661e90df6e7572f9762e5b6ef5c744a1f00577b7a1066068c9e42eb82f175ff2bedf21f8ca1ee2865438069d9bd0953e1656bc9f0dd9fa3b0a3a57b34d54478afae307d3b9ffc2eccb81ee3d04566938d49cb8de0285e5bb07a18ab9b098a70c557887046a3b925683376e7692be00a2bd380ec908d55df60cada0fe0845d6e3c41d26865ddb4072c35cc1a9ebd0ee69b8fa336c717d10877456bf439dda60a53725887e53afa458b8154f23929def00d1b124f1b8cfe03b6254c0ecbcd1796175c6f1c2cdf4996ffcc31a6d41f2d19b6d338d837b0425ac017203abe43598bba3c15b3ab560237e193776dc3c789dee12c736cd865eedccc893a9b95e4dc5ad140c8bdc8d873cd704e3dbc7c86579e4dac16359130bca9ea90e9c7e7d1de78f3aa7a80c81b07f4891585766cc09bbf7fa167cf9b1b9ccd9023cac506f456b6658529329ebb30971903e4cab8c0be43f3649aaf3dd1298ef07e72b5633b27b87f019e95ef1928d8037fafdaafb36541dc58603600e1bd1280129fac79fa1db22b852dadb040957fb6cc9aa4cdc347c54f0c30e5936e59d702f3eb5e9ae8b3e715c340e172f8b0a038e6fd24f551d22eeb01bc4d45c4acf38dbccd24a34e11db414b9ecd3c1c391a77b19183146691adc95a3be7575e219d1dd45b2b57eb208abb1df3922478cce2de36beefd7251767a95af59857c71c10966ceb861b0feb889a413474e037e1164503543f86f773dfabdd8ef087cce17abb812a630145e6b747bf7182417e5e11a43c4f845e91c49359f586f9afa1c699c088142f7846be8e8bc86287b0def75b121f438189bcbf23c3cbdb2076a5e8492f495681f71ca6d42d3d733b83660f22e9082d2beddea2d8c2c791f80b21e2822af1b5caccd8f4bf079bdeb08ffd2a568c56d8802bbe3eae1135833cc8d4b1df372ffa5fc83478c4531e978a7b66d197445759fb8d4fa8e5d5b20896c6557abcd2a3ca517ef729c81b7d3a38a29b591ebc125c9e6c4e2e907a8518cc967153fc2fc81999a6c862170a3c936f618047e34fd85d9ffcb7e480af7d925139011a6f244ad13be2e481dd96f565d95b58585238adece8feb35a3d31127c93c4ee0b65674b983cc41922381e6fced9d066c03658ef3ad714bad2fb3926b3836988d65679edba5408ae8a1b5c2e279eab5b4aa960e123cb277cae3fb61ef5e86b3b1b8389914ffff6a894b5606ee695cf0ec960c32a9725c5dbb5c8bd37dfb4d0936ef6fa815bbcacbf22c91dda127ff8fb6f36e3bc7711b49030fc1615da094d80b863361bea3f8d7257ef09c2bdba82dc404c90aff028b9a108723050fae3a32331a36ecacf046b0db12085c815b5008c9438566eeaaf5a729603c1a363a775a90f2c05fe221db091fd26042f5ad9cbc37d376909963f119728f4239d28699c17107b9ff82ef6cd66f279123740212d70c4a6f035f4fb84ef73575742e3f6a3be5bf2459c9af67a027680bae27b8bf0e1f88d6174985575bc008b008eb795d250849697bd2a6fdaf6d4a2071901b69cd771a6c0f543f861f24cd5097c4253e3eca8c1a8d8970959e490e214fd8aff5dd86a9938baf4087b75996dd980298f5b7714bb91b31134a39aa18e122661e3dc4de198022aa569ff825358bc8f3424023f95f1b7b1bd5d3f963441e04712464cc009f92fd4d1449aaa552ef2a67206e06a66ffa9546e559106677ce6835e32295199dd84ff9b671667ee2eac837d267c4181525e30fb2056c5d710eb6409de5d1d88955e4089b6d047440901eeba669c6b3d3500cd7eddac2e8b33e665b086dd7554cb6116251ef0fdadc16693a8dc715860831f725094537b02a47a04ae3bd9cf331579adc5312826526e433e51e51e1ae4f1741197975aa8c5e783e7ae7a516f2b996412997f135be9a0694ba213bcd1a55fee28d5127a753ffeb0daf8b3154cd5fc24979d3bce58d87d8eb0cfe65a91ccd7dc3e7eb2074744ca4606a4d6a61fccb73ea3682912af72ef102f6d1186ad0b78527b40abed79773d63857b067222184fc07b0975939d7046c4c871cb4b5349352ddb676c5e1b0f046f395ce5054b73893cb2dc6f67f361a87072dc078b4f4f99dc153acc8d8ae3dc5ceba8d33a541b696e5f7877d6627c7b438148a278721a446ff6deb35cc769ea5463d5109b19f0694d434d3f4af5254dae7fd77c32db74a974a30e44e8ac157123f56cd2c9f33ebdf7e5363a1d534146329de87b095b853a6a9b4d0dc74396cc930481b6b3923272ad51ed8099de68407dfe5fc9b8cced1166e0a6fde97f68f8fee79c696d4b332804e84400bae9458b9367cbac51129260a1420ac63323f35362333d8310054411458967ce43f82208c780cef8a278c152790c6848e3279e1f7bae85f2a5fe4d6d5f4abdea997f4fe728c561edf99a56e1b49c4b7a7711270b138d65a4a5eee5c6097c7b787c11e71c16282e91cd5def06f48f06d638249d0a60f95a9981e4cfa137cf9e6a2ce9b5fa7f92c664f77c89a37ac9c8c473099a75e7a84e1f702869bf6d7479877e6e4becfe598cfce746a9cd7b2b151dd7d7fcc81667fca0216e7260eb92f7a62d42c1feba482a12e9f6ddf344fc79feac4045ce8240d922beae7af2eb6d39c0e5f1d00959d5e997c3e5469adb4bc862ad048540d0f9ca15c7a21054b47c4a90e722ee5f0f9345818c104d8254d2db6da8e2ebb2b316757a0e83893429538bcc19b8c778865bcfa514269ed90d2b0b6749a064a6a2a255eea245b1b881b3e2c7d669015ea4a5cef27514acaaeda54110cbead55f3bcfeb2159f91e8d97b504a506fc3578f048fd57385d1f459966c88131e614f6854d9654ee954c96f04c1d129086b99b4d87eb9601afe8b7968c43ed296c048cf433d9f4c9468b6736f364ccc76fd71402f360ab21485c44a03dee32290e45d87ff207dbe9f9dafbe1ddcaf8414d4b4d21a58fd7f0ef4a3d14d0bdfafd8abb757346cc21b4e005fa9d45808ab99c6bdde1f6df4da6e8e3637ad1bf91f48c8823d289fc9487dc07a1ba1bf4868e98e34bcd01954116bc8e08481b3d8c33bcb56bc071309278aa0e80057337604a49d25f64533a0a89894860ef53707cfd218fcebfe67ac3cf9781fd4046dffae7c63def1b9228ddc5dc32d4ea356363cfa587faa9ed39b48e7b89aa029e778b86c2c369aba233ba94d13a6e627f9d697402975a06fe3bad5340428b1e336dd9bc456380a8f92e65b89f22e65b1c4013bfe6ceb45263afc4b9e599e05df5cf8f39a80f0c285201e79685304fc3b111310fa883a170f2327591a9f1e83d0a2d1db49819f31b27d65eec83baaf85d0acced27ae2c976fb97944f08bc7d66091f5d37b21cac61c75cdb42a421c5c54f2f930eb8f8abe9e51fc198eef1b12aa13c5fb4efd1ac38d501134d9c82df2f077a9c4d78a5eb2cb6d95ebe77bac4bf47abb99768ff81f7a2a8fb104c7d9d70aee4ed7be1954d2bed7d441303e8f459665aa65d69d9adad2f36049652be6a789fb2b277aa04445ee03456ce2db37d5f233095116a9728d8120e7aaf5f35b321306a3e19099088b8603e74df091b076efc2127a4a4b02ab547c8f0701f27d1ba41aa8ac560c082231179f01ced5c175c0552b9c97e55e09c65242ca71ea5e0a01cf31fd8840c175eacff34a20880872bd2158685b25d65ed49f8429a3880dd2b749054b149b6ccffbc27cb4024f4262a31a2734222dff77ecbe6f33a41dd8258b5f8d21643eea9045be560e1a8867f3a93ecf1fee162c6adefb2379bcad5da8f1b4035519a277326ea181c7e0e29c6fef5200e2640d20badb02368e44ea1717df199e3600b1e8011f87658a92b8df19d0b01834ab4d29c766a92ace6ba8251f6deb57a298fa2b752fb895cd47637242489451ee9640fe9935c31b16f61652feace28c32f9d8f46e04a71eeaebc756d06086d331b4e09bc2bb33b48b54187be8037a7fbce6d88b0327920a75376fb1990b50dbf284d495e67455bac256b6d7eb19d75e0109887a83af1df78a3a2fce0d53f167c1c710925bb03dc9b9388651a10e1c24c3b0ebc99624db46bd35500d14fcb54e583e37fcc7ba5212c522094bb4fc61bb739a1c8651a85bb5d4b6d741dca341b99bda0331f902a9676b73b73605ab861974fe4e37ff026332c527b802d53d3cbf4bc0acd0e17b8fc3333123be29d0b9de7b447277235d7f2f821329801201890867b7b50e90c1fc62f7858d6a67344f6bb895e70ffcab2d554af3b7d88bbc8a8ce4f61e3c9217945e19eb3f9402849f2e8572403ea8d294563d3df8702eaae048e9416f36ce8336bb4fcda14c9f79562fb1936db5038012a40b478ca7f863de40f0bdd736d05c6afc029bb95307e05f0bed4a9046ca476a96189c3fbf31be8186bdbda1b9b42125fd16620f8ffcf62a245c81115c4633813f58fc0892b202d529cf9b23e2e8ace520a1e5aeb7f8837679bd96467ee2aed3f73af2885684f30ea8aa23a97c9b38ddb2415636a474c2af5b072127c8d0a42ef0cd2d03a5d63cd23d1fa64a59537db922700e75f424e1e782d090b4888312b7170e9ba3fc2d2ecba8db20bfa6127142f64be6bc5ca6a59f3cd4f44312afa48e262e111d607a994337df83459baa547a945e0fbc83a800902154d98da394a6efd6a262fef93d1ecc2ba009e461e8e6aa3c29bd447537df22578b4a58e96ea51e0010f2cb31dd184714097684544851cdfc5a677e354efb05b0a851a0e7f1a35c73c12843095c4747709b3a56f0a05b60437049acd3c63b8c592cde461fcc7380667b0a7014049549837687ac2c39b326cbe068374fd71c0dd134084f382bdd1da1df1f4dbcab846e0cc1ea8cc2749eb1703912b62b8303014cc703bb56e2853c9a5a3de45952bd8a5499b1b8bd05557387d74ee70f0e022eda4df32c989af6abec6ee22ab0d3a74d8d751cec8e010dd66f43d60a4f90e838b08acf436db642e3208f1e69d95e26e3612e4f82c2bb2b483940f3809385f06badf45130e78a6feac274f78bc981db6d5d1b3f1eccb7b193cb949e9bfae6c7cc5cda3e2e8b81830fc04bd4f08d0d0407f8cd070e1f301650b09c71e507a84aad2b55629dee03d8246f57e741ee7a2a4592baea5ad849605be7bdc705779cc4fba6f4c86cef281b9f7e8dec74211430a31bf224dc85d3f753226a45b153ef76b445c12faa18d87d6a5b342faac7c6a7365f2880064b314f27f5eacdac821ff3df60e9352143c787198ca3e222f427bc70324ab4d47eb89a39d7c0a7169e2d46135c24b56bfc39c0ebc8953b51d6a96dd7b6719f87cfa92f4d38dbd338e3ecb4595fc1862bb748d6c232f2773a811fffea21e7538d68d0463a7ea19945bbc63696c9b676cdd5c61040f88efceda7c4c7b90fc0b263776534734369d4119022107eb1e8d8ba8a25197500253071f0fb50aa924c2d8a0cf2b53969868f45523ec70095b22d8197cee52dee73a5d64a55443980cac92264bea75204617bab648aac85f50e556e344b4f35c6bf7b73969307bdf25f3d829891d62e4c12debc55c4fb929d321d4e5f103fe03993a1e63b2526f54cc4ad60f13d3b4243658ea89d2f238ab80517e7718bb58cd48525a0aac9bf787ab81a1c70b9dfe418c18ccb5510e6b9330c43033a9e7828397b9cc963599f50311977ae958c0eb6069b3a6728bac109745a92f932bbd832b9f4cff37e6a5737156be919d18489dfbe79ddbe5ecac985f8b915f4544379b5ce35f88330a061c8422dcce5f439922573d94ccbd71df4cdb1a03a5618946fe8f5815c65209e7d260b1980e01b93790074c2ebb452fbdac684ef8441429ef261ae973a9954e2e16bad45a6a691cc4127cf9de0ae14d78ba69bd23d84e504a35e1f3e775963a8c145cbc289a7ed4dba32b063241d192ad95cb515cbe2168580318849cef91df0c84be7e49adc64afabd6aee9b40fc8d811c36beb4e6b3f053176395c70a10436db28ef193848569313d4c08137f3d9895fb3f66507e4af0b82e5478d0c6bd553576aba23b28f754fdcf86c6a5a7c7e41a373f4c4742e6ed86151a7d1ec521bdc5385353795a472b006c0a47fd42a116d9d45e4a61e84ba9ba0516fbc19026563886141841d94929f586f912e3272d01381e4f3fe8899c76d3806e296ebf41bf391537eb86a0f90334a4b04415531d15c9bb6855cee8646763710df3b7337b4c58adaa0c6e939be214238fb94199c152acf9d8c02d4548618c3573cdbc2a942fb0fb71d84d1cd2341d644569135a9a99d70803f4e1efba7e509afd50b8002eb85ab81936917d353348e73e695d28d5211618679204014e85fbccbb1d76cf13537a6073ac7eb85b7187ba73bb8c1c792d33ea93b50815f3884bc2ca7a1dff2559341f75052e2d95d4f8b63cb2ac0668d88dd52fa5178365b6cbd832b27e19155bf5132db71a74b136d1435f4e637ac0de5db1f69c354dd03e3f727c78b4b8169af92e508c60f44fbad6815489d536547bac255e266fcb437ed4614ff48f2f4ffd67b3f70b6cfe5c0b3000755cbb0f288b7d45bd50caa5f3862ba120b8d4b772c760561bcfe352b097d6a21339296dcadbf97c4dd1398f5360794f55d660a1a303f118756b37f7d5327ec4093b1ac63399337562bd3dcc0c73bae4d6c4740077299db2dcdf7d1e8e27179b16738ba03716b8555e55c817bab3d19e6a876132744cf11490547d20ee8e6ec9a9a42235bafceb5d4d23c37a8c974135d3ca89627f00e5304656e616dd6c8075491220b1ffca3fc3490ba7d05f67c34ecabf5c8c8e40b93a5159d699fb6bfd0b94429a434a8311143ec44738ed365ff054be0bca6e008b9b4bd22fa56e3501a8aed22eb69069ce16d0b930811e380112d3cf0a4e9d6c4be22d2d5e3cdd57623340c2ba304e8c1a9e9509d7a41f64196fe766e4ff13f6ab50ad86b07ac6ecd39a298f0534ad7ed6fe9d77235e60df5c89894da5d3acdaed69ec91cc2d54d5ae7eacb486c42c1740ceb3042e87a6c948d81dd4328e72042e6ac5eb6186029bc97ac031977fcff46b3f7217bd41604b1be858c6a63f07ebad7bb32b7b979fbad8a6dc96a360a9fa34af6326e2ac1a05a03dc445987e31c6236c413353bd10335cf8e126189ecf87b75a64a618c49de50fe480dbc2e1e148406c135eaffb10a8f6fec507e05fdf93023fb4aa889a79fe66b68dee4bdbd4d260f2607f11ac5094e30bbfabb928db8db902c19bbbd4a2d9f2f97bab2c5580ca1ebb9aaebab6aa2dcf13bf763a6b68addd6413a174fda39011734adbaa18fbcdcae02530f40460d1c5716cb654d1333056da73c87515988a5c6b9ce84efa76cb36be573dab3df114316f99bcb83fc95dafec8a010e953c6090ac443b8ab2f1036637e8f707cada902fe1ac06db523e13c9889585d03e1176a7ea49e1167b3891b897967dce1f0152529ed5556cd56b0946d708d558be6d16a33b0e6d3555ccc29b706a766dda7979a3928fc75075d930755623464199abe49abcdae3860ad64dbbb40cec03098ae80ac2b4265563e321ff0456959e0f47a2eca46be04a0d07179fc9ed3d6f39becf1ffd5f73f9ff8d023f5612b4f6e804cdac077781ba7fcf7bfc5f0561ad96e9f151bcc34cd38ab9e03770d4639d05968965271dceba94e502dcdf842f6bbdbc0c0f481d79614f81eadda8bc83a49167cf0c4eeefce343b78d48c25248c2920d36f2bba929b94be6af3764e8414cf48eca5d328e5a10fded49ca9cdb816a04e45406960bc8a8371a8b8b852624d411aa861539f67d93c988740c498808c554336e55fb6dcfc8da0d6a900d7f643ea3d3e72209eee6c8c7ac1a48a7b8a7ffbec28eeb668f610411d47ebdec488b241a0932185d6388757221fe3a1e9fead547616361afe0cf85a39bdc4f33cd31680cae91ea37e4a123ff7fc87b716c829eb6f3b4262bc199de16971ff133418e19428528a471855ee7e85cacc8103a906e746620634b3f0f00fdd55727200590f5ebe64e2ab2676bd46bb6e35df66cf5215b91273511bb4da429b6f29f551735945c2c3c70bb10976367790259dd09b50f7993ece967d58a970c946949a20facf9c137cd9e2acc51b7bfb25d9a0cbedfe6a3c405d44092ef27a23d7f6e52e346ec3669acf4238ac6440bba4ef316ab8099b066827d8d146b373540b27b72df50c6c9815ed7b016c96fde12177e33d601edea401b6853d04acd0b7e9277d033e6ea2aa8708003d63c30446290c9922d03d511a98d06d881817b051e6bed902a51c53ea45853a7139b75ee808760012590931bbc715559e0b6f0842dd11066f6a895fd022da238a1f9bf40542333bea36c6cd09619553c0029d1c0066406fa1c2965d3994364afbdc37b81762042eec31933c7ab0599df014d76ca779d9db7f049e9d1e250d5ee81fd92830fe541e095f418e1293cf3491d3b837457bfb493077c511d323e277f5813cfe0144c2a0fd30e2fb3dbcca868d1babb822ff023d67137d4234b8225ee09fdfdcd6733d98c2a5a969406ea51f2c12d5838e171c26ac54c475c7e75cc19b8d7dfdb5e98ef36dc5a6b9915a9e4300a87c9f30dc8ecf8a5410a47a62a90532844b9eee644e4c3ea33fc57241ca9664a8c6b8a629b81a07e4bd52752922787e77c1202794cc483d6d774c5e3a2f3d822c150f7eecab1170f17529bbad8e23c369c1d1a8059c6fa4871bf134fb03c80fbe36a8b31c9a6734ef6124fc45d1e4678a8caf46da74587669e1b9770bfac9c2a2d05dd55550b1646ad7237c4ff91e54e3a240f550a8e34d6c22d38b92098bd1059e476b2ec75c60bfd197b97e406bd0ba9735c75859c9c5a6133f44f54c8b6b17462dda954d4b1d6f8159fd53423f9874d949d2670367306fa6da9d6b9edb2dc82abd378838f3a975f42e093aef4dbaad88fac2dc664d2d902a7f71bd69afab87281dc6ce96a2fdf81930442761e1384a52751031e3e28cc4cd5e137dc879eaaac614f3351949c66d5d8a2cd367ea01e0d055bdc366d53adf35a2939e7fc6a31018a3fcfb8fb89d017bcea44cade38ac762b332cf56185baae8ca6aee3310fff653e6f469e15789a8e29e0c9878288f21a5cf79791a86a3cad1c81886cc6c14e6ebf218cbba7bae7d80381756fd70ccfdda21a7fc2d54f576f1907c1450a02ceb1edbf0e8b9ab345262f404d4718713c6b3dcead0727776c6949305ad7a9d9f8f9211e65386087e9c2d058d935a2b12128e5f282b9350d133e7c664a4163e0d46ca823928694ec3784d264fc8a0501cec6e4293dd0d28565d63407193da291f078f61552df7f354607d3b5cc5e54dbd029d9fc18b47aa9d6a96859a11ae7a622ad68f1aca44e0528bf6ccf9ce06e32a82a2ee069cb89ee6cd06f333b2be8a91a9aff76e4e6c6db3d70bdb71691bbae1ea8f053180050ac0ff1b14144e58468284d28c2d69888a838d9cca26ecd6f8d62005376d2f6bfa640d14ebc7951b994df44689625f3487d855dde287033e019e33ac64bb62776edcef320389a847fe0a3fa9b1deedc920b9ca45afa2367786485dcb56b7d27082dacf022a03225ad2c9c064f6cdc56f7756e977132781c0e2e4d2a6eb95de797527e7b9eecffc903ea09904814e12586acb6dfbbbcf25880456fbcebcb3f4998f1d473d535850b83ab5efa149a7851f53751c9b44b11fbfd66261c49003dee2951a251aa96c5258a83db2e0a77c512744757b6a6dd6c9c54ec04f95cd874dc78338558e9ffeb7ebe3af29da270b17a82c568d0d9d1631dea7fba125e00ee6959a5cfcd49d5177e6b99db98920be93248e2bab9a087caef0c31420bf746742ffa1e99e24db656d751bcb13d271961ef2096d5bc2a3d8667e3a8ac2320293fbd20615f9a397ddb0e2aab28433fbc5e5a9defddf34a11a8d479f1a367dbe5ee29f7c1c8436ad3341f6648852f6b693fad1069799e629667f3bd7a256562eb16fe99b964cf44f51cc3d0d0dafa0a56b870b346ccd1e9edc2e3254321d1a17ecbaea225308ac925471f29babbfd6c22fcc13d2f78ae0e4541b109710f5cb0003768a52f84b496295ee616f633f6ddc8c14b70c041b379e367e477482abb0b51313c413ae886a5bd5e47668cd1a818714f58399fdf889e8efa71928e1c732e7de6345b537bdbc727f9167634824a64dcc4aba6e96d8aee7124661305b706d41819612a40b3565809ba5264b937cc7d55562c4e32eaf60cfdb67a7a92c1df596d777a15f9784e9c48b8ead82ae2677127bff1295a916d194a01d3a031681885dbf7dfbc8f781d091469cd20263742561745489fae3497db26ef8027268b3176a803393178e9850c749239f103ed601672878c2c7088590553f783c1465aaf65f3c4943352213be5455dd013b705fdbc1d0b2d86bdb261aabde04ad77e17b17f78a3f5abe4e698b511e0f1c125d71aa04b8aefd4d0bbc7e5d119885347fb42439875ff4eb9757d0fc32c8bb7af8234261901301c6cc48533e828feb6b499760b27c238f27a65be482aad96cbaef79db9c9ebf48912c44ba157930e9d62e0096eb73a8988def74995014333a201cb91ad7738aca33924bc61352e738a55c3629541634ae47a8647858cf1a4ff7b0955dd0db28e555d27bff3b1bd463a2a015c2948a40732d4799e9b076d0ffd3266c5a7f0973cb287db7b170cd8d4f05e3fb62e9582880e69a3c06230d31dae8a700c076f55a7e8ead7c843b773b213d2a3651a166b709c71d3c51ba40c3ffaf81106cefb15b53c9f7c57cd8ae748650642475584416e5aa1521c8b093fac7c8091c1d3cd56401f38a5638b21c6b9775890c9fd3b5955e0efe503b661ac073c55b7b39a8709b9c40269fb11c89fa966a0e5b767b5d48a686ff8e1e223fb85cd0dfd77430f7bec8af44dfcbc15e464545a502ae8ab4cca11d03d324eb854779c57b3f5cc5a84caa5aec10d4ae342cd0a5efcffa0de9767c2a6ed2652c43149b390b0484aff878585c85f11f40a3b90ca42f74cc9d7a23b0748073031c379b1a4d4580c5adc855d5f2e88208886d736642471fc8f3d813d7f30b7e8810cef56330c1c0fc442c1e3b4bc4f1731d5708391d7d4c92d9aa013bb2775c2751587294083fff9183cd5121a8acb541e40ae5fc6537d21fd6cf4aa87d627586d439d99296806f067335eac78cc1a51c1eb606e180ebbd34c79b9ee4b69b37e43041dfde2da1146643adbe8eda39b9664360444b952dce584ec10a84fb83da99c7dd54642fc6badd177cbb99c4a142ce09ccd3d1083d7e1cfc8fdc005b53f240c7aedb25450139843ed097ac5ddf35d7d08c78e12c0d5d5c7dae2353956f58a9d0f0c2b20fb9f5ab077598485585e422136c7962d20bc7fbc2c211230b48166798676b474f1f7f0ca0d3cfd3bbd5c650b9ef5f46bbe4363be09c11e400828dd8886d355751657b7c26101cd7c0e6293f624cf8185017e34a8d91b89c1fdd75b22cc3a0a3d6b472278dbaf8bbbb7d931e42ba11088141bd9cb7de1ea66871b3e3f2c2f49bbd68c850d2196e820c4768498a4d35bc17e9cf02a2b1a8308e06f245a6b49800ed6c2666d264051380e5287efbd96185d85692155ea902999b904d1861124b1c4766a943d81d424153bae7730258ba9a65d23cb8559d58ee9ba11a37f039187679081ca9e5b9cc421d8aa428d347665923d93bc02467b2f59c44188dfc7f375f3982e8f0231ac1fd1a5a290da3c7f84f25972c0350e2b6c2df590293a797f28f131a3917f9119acfe00bbe46712661416c2b50c32071137a7a5d91cc932d33da2d9f85cef3a419ae1c48caae50ce7d1cecb8977d7deaee967cb641587de3bd18efe5762b7eff32a2d3919609bd747b78bb7450e3a9d831ad7481b9570c7c8950b9b6ee32d803675af6fb3d12dea97635ab97798e2a68ea13713a8168d904e8121843fa48d66c06bcd17144b191177b1a294bea8244647888b4b8558934655c8260d39a3c0227757bf20ab1f7fdb124b826d9cee2637c7a1a47feec5a6b953cd05566c49d45145de13306eae2a1984e5c1cbd8c21d8b8b3d53f5ec2f45781f6b5a571f515a6da864df1d8f03c3836335a2fb3f0af9876676ea870739a362ce1830bfa99ddc5d8c7347d59c64a96caa3bd5eae71b31ba8021a611bb327f10c7d3151cb1655d9bdecc7c0b4a79bb0aa09e6b2ca18549552aa426ef5492aaba1585aea4da9e132f6cfa3b0bdad1f310cbb953d10124ba102c13c398658265d8109388470c612b8c25834ddf4779e95f63516c6e522d7eb39c937e19f8d5326e84a7e5fbab74580ddd9589f8e6656b0d6044bc1a1a927cf63107388f0079c0e27e4e58308eb43b1c98d272b2fe7e899047d1e7855dfdee511a86d09b8efb07a7bec307df72ad4e19c7cc313de080ac443349d8da375ca3570af86e9c54ce13642a9e09339c8acdaee79d8e60753e4d18553c28d9a450f1f729c3cf783c47d0735d4adfcce8fd1ba191b400c705457fe3408ffb3ef216309ae1c2f817b2828981833416259b1e414826370c3f257ff754e2d9a2ce338f197131c03d28bddace742a792d22fd9148cf90bcf8c3808b9a5c27719b68931f8e2c449dbd83b1f9762c40c04cd9480e541cdbadcc250a1026c69826f56805511cc33b1c75a0be4500f41e26bae26fe6ce382a930f5b7b4e06d4d52f0464891729a8d17a4cfb8a5bf8098181c85e86539343affdd2106b51e6d2f46c6a11a66201ccc96ed202a82042f6b2cb12cb307a74295805c8b6c53a6ca4c5481b97017775f1ca53cfb3edd07ca715463d8fee59b11674bcc36ccbfbc22c062717852f1cf53b72a3d70b5b0db0424afc8bdef357fbadb01ffe3090bbd1df28fc157082846df5aecc5e9d4874763ed52a0d7736c18c0cfb0823e66e329dbb3a5763d90f3559a96a859b18aee5741364a2c4f16144f77969dcdd6efc4dd6b57e9df98f477578b1590355ff40e2a41f1c2bef50d36c3034d2767986e9fe0f3aa9b475f7b3319f0d8d5e40e2c3f5cb4a0c8cc35a9f74e6f13914e1cf206304929a6e6099a18ac592b85bd5a78a860f08be26d4ee1a2a72c6a2a684e18112fe923bae2d9656deb73db6b00c5d6cea9e1ebde60890b12f05d90199e69f90b13cb42066ce5642045dc5ee8453a08c9185961b01764af189c73a9a7fe04c364cc9221930a3286c1bf56ec1a081fef8dea011f55181c6558c2c51f4d0459a95c5399c4ccac758dafaf9815eeefd0c46c2a3f368b21c3f55d01577c5a988d8c11bfbddba01c18c54308e34ceaacdacbb87c652436930efab737c81fb3ca61fe2b8f28d0d1305fecbac6fed934f0debe70d96ec1ce8bd42a7ff709bafdf73b9f203653a3a1f00baaa4b99f0687f5ba2c554c39b2df4ab02604ccd2461a630c6c64890e56c86edb90d471f00339c1d51d7e8e48012e46881f5ae74df3001005082d623886f8f60a8a9ac3e96c3121b7ea08e079461f92cf8d95f369b801f6aeb268e56fe601f5caa8dcf478e339bd532def53394a22b780166f02d4da2b7a4300b50ae6bc184b52744062b7776b3eee20d0d6a886504a2d9fe0d7c51f9cf907d1d0b44b2ddbb836d7dc91baa62da40bb4bca3437c14d06d50a96be195dd518b5098bbcfe7523aabb2381cfd81ed90474e78d24c0fc9771cf36bad71a3d0a064f22b8a7e1f3f6ac4502e3e16a14ebb8ecc471030cda4941e891d22440868fd9dec0e2c5df7ba721cf22856d5ef24e3466fbd7303dcbf2ba2c6dcc4ebbe135ce864964a34954acf741b4abf9b2a7807f5da45c8eefaaff04eb04e945469c836dfb5096574b987b4020ea9ea698e15fbfdbe7dcd33e3ad9dc3e8721da1ecf45bf3e857123a9b3fde7932a4f85ecb25c5da603bedc7a17993ff1849202cecc7669cf46efc05c2d96e7059b6317641eb26192f9c84cfa5f73cd299df1e10ee7b5ae81e37b1b7c3bbb0748963f08c974c44a505c3dc1775667917fb2c277257dd62794e9d679c5f2b20674b02f54e31384d1c1429758939ac5671d0dd781c99575777d2d1055ce1d9482dd3e3747e983bd73b4a3318fe3e7e35335718d2d857d4ba53c96a1a18ab40e78d64b37aa12a45d8241ceb83f7db34d3a316987cb3524df7ccf8c28c64c8b029cb5e219b253b1dd71f851cf83b36f5c64bfd7474028489cfc8b439f6f07e84c41b6e1d75f4b909692e4cb5dcc09609c6c9285e03a9115518bab419474678d1d8d3cae3ebbe1daa5acbb25cc788f2a2472abfa8a9283e68a6a276ff70d1c967618b5489e53738e0b0d38611a37979029c27051a38e9b58e298940defb3fc3bd8df2d5ee136e7998661292e1c3c8c1ceb3141f3699eefbe716d6bc5dee60d4a4ab621286ed65e4dc1ace5be98c5a399c564e8e9f9a6b67863db199ceb655306004bf5a9388313234ad20b511b1e703c8928391c6e4ca297b1769ff0395478e15d5864b2a9126960dfab45cb7c18d30e30207c7378988a7f64442951b178661f345a059bc8928f84da87410be1a0d8e82953d5e9fb6854ba836839c3b5e7f9bb7d2b2714c90ca6fb53300eb3fa29111e0a2563d30c0bf2796023c9fb2f27b3050a7c1b67678dcbf6de160d6cd458628f3c25b9e768f0a742da3d3ac6df90994f008788f238294e10c2c8858872489e5d65e830d9a874a58afe9aebab61288a518cbe4b32afa8d5d3771be5e0d6da74c468ae06bdae921310169e69ad6fae23113b50ee6ace7ab7098a731a2b3cc29bc3b2cb128e4673a8e5a0c34bbbfb8f6d8ade7f68b158bf3992f301ad575977f94bff9dd52e7992bdf89b62cc2c9987487bf43884d8369ec8538ab0978632c0f927e3310d23e4ee3fba670ae1e1fb0ac5a0db75a1b4f852ec2ea716fb501bb4dfdfa4ccd82e46e1a3ac7b176561d4c01aaf68d42605c930e2193a4ad73e9083a7990f36c486e8e5831156c295ff5a22c1d492c944e70ed15fd9e9d170bc979938bb4ce39239620cfc89e0a7811e0c91ede70b45781dcdd212c12fec9d1e2b6b69d6495f018bba0f0bb402af9852505aaa19fd271184c7742a2c25c1a3aa264669c1b4e80eb130712194719062229718086dfecadfc4d7e4a55441e1e2d5e56ee7574267bcfd3ce129e1a39809044639f23cd1c5215b7395da980e06843fdf4b4fc50133cc69eefdc1baff29cfca27c8757102b5bd413e1fb752dfaaebc9b49bf5ffec8545b797ee0c377e5e845d08f05320b3c2b75b60aadd9c07ecd2592459a4e5d059518e2340a027c7a2289bfe5fd3d3e82b73b0f940a1bb435b09461e9bfeb663939ea20abdb68bd854845086a3cd78c92e2ca425d61d5182e26864c878f9518929e06b83f6e0e0770314d43604031c57261b4aa6d26060398619e40d991fed3007a488ca88b69be9964fe1865c5b510f5d8c809157a8994faca763070f9182be1e422b23fc4b8b40fc03c3adaa0b51bf29be0d9e85c7bfab526178665b89eab203993d047d21ff3892b4e732888b4f93905470701fb205e53ed7e8954c90d0c87cf34e4964628cbec8f99cb35b7142851db3171e6889ee47b1ec1bbd15e1961ada282d0340698e27f2fe88b3f7676192148398361cd3d6f7b697fe57b7b4d5c6fae65717845edf3122eb55af9be7a3768c1505b10f117c838da6b830ae9f6c340dc4fa2f3f4bf97e35ea73d3805aad566fff367789b8c15c4a4aec5fcbd084f3718770be092eade8923472cda56074d38a7348c08eea703d9cd991b7788141a53c86e9b39fe926c88581dcd1766edcd3430b9791f7f9006fe6e06d1130e777b767cc5d037acc3443b224a9ef28462be56f5ce43068235b92515c346eef8da860fdfda1aa62e43556419ab66aaec3d8638ae229894b04c5425c0f71cd150aff07f11932ba5d79bd25394019cd2bc6cdaba079b9b9ce198bfbfd7f5bb5e67a607ad968cff59c4d36541dddb148d8f11fc5e23e36c85e51033236edb3d5d631237fcb9074a87d68b55d3a8a76af5d6404996dd4155cc25f094ce3d923aae6c8461530b99d790db3cf9686e23199471127d26ae2f56348fd2b2875128240f2a24379f026fd1d7c5c9421dc66034532aaebf74e94e12901c5739a02cf5ea7b49028dee6c9746b72732fd0795f4ff5c5caa459f58611ab1c9de8ea7efa38781d5882f1960327bd52b7271782ad5fb9f88608c1b40a6de4a86b45d700e33cc1108175c0eb72f7d05caa14dcd4a48364662add79ec56895d3aa1058458bf2eb4a206b45bd8db1d8f088ee3ae6cf3395e08243e78c96f2bd8969ddadb548545badb64ce6fcc1359842bdb19cdec935285a68e7c94769386f78098f6e7a8020f101e04123f5558d6b29985ee45ae1a040722d54a82ca60c2d19353cb8c23a93a18fcb0859abaa5415d1ad5856252189433babcd80cfb067bdc428d10e7bda3bf1c012d39c67747316ff8df2d2179a15891fc89f518d01e7f389b76ba139d5558467ff937ddf487102d4e1e98c6465ac25534e523422bc415f13dc5db9a3e8b4f775be9a0218edfd49aea9704ad6f6f7cddf2f63aa35e866377f5d5c231bb6fb0569065b8b05e1247a579fae3229f14730850ceaa40246784dd7615477e7e1a4a363a316e8a0eb570f2232f7fd0eed49c8ba89105bebc03b8ef4b94e6f3df28053669eea21a9eb6ea1a1fcaf2a93c65298d741de3f448ab505e0ae7815c315345917e5d252f4fd37f2172b5b1e74731b7b748075c425cbb039b1bd20ff0bf4296ed0662e0a34fa533fde9e7fda8014cafe5f31fde9b6912badbdc085f3df271b8f1ff7a8ed02119b7e7a20f96323843fcb8ddb8a64a9e49d5c437ae7a8d48eb30c02d350c3dfafface845dd6af3dc476f141d3060e135a65139222ab347b2bd04c6dee09989a370959b88ca7e895d556bdab8cbcb5c5d234531b8ff47e5b0c224c99eb7642eed4aaf35f8b96f752d4dc3626943ebd4139bc81d71b14f343e85b459f1a5d8df7fdd0febeeccabafe9df915f1515668209615b0ac708776947dd2414fb661772e342594faefb0528bc7b5a2ba422e86eeeb4f109b97c5efd751fc5d91e1fa492fd594cc33753a1fcf47943555287f8010f4a68557b6457b6b5130e3d273f5d4875cde08b6bb8b13bbf08706041d4b39b25bfc47cb9e34199057fd19ebb7c194e263296f17e4473812fc173ffacbc59f52806866c09afad8faa67ea0d55235a09dfbe6a511cdbbd757f2777dbc65b34e1aeec17cb890b4a7504038964cb78b578186a655dd8bfa210ea0e2cdd091e717982a2a5635c0cf4035b0e478259a6db647a507ccc2df3b40c6e14898fab5fbce64a45f6a87e8b03119a5bca23281ae4a016264684885a4760be867b38ce92dd4e4ac15abb2e6a83e42620ea1d03df6cc079c9738825ac4f80ebad3e5d7281be3522d52c5894e179f8976598fdbcc5be540508295230cd7e4c4731f38465606f7e28134c3a16a8402bdca57e2ed5157a6d1dcef17793a279b8f1364569793fb51ddb5fe0e907a536fcdef4790791fd918e17486b2b761f665ffe21bf40918903ea0c74dda2321f1454ca86bd580e73ff46c33860cd4025a29ddeebd8af1b38e221b8c280ca07e09373e791ca4a1b21f32e788907262a74f40bd160b5f176475394992a071f3092bcd715f72aafc16ef5683f832d2e6a80005d1d00e2b299c37e16413c51d1f982e182a048a1bfca1f6a6a4d941965b2979c8f3d382f931b9f92aa165de5f015b753d4a391566c1b69975111e411020dd5013f25ea5f85a0cfe49495511af1643d82379ab88861c1168b87bf087a1bb482175f3218718a6e0ba2425cc7ee6bec4f46fffa3a94581c594493855473419aeadf3189eae0f1cc646f3c4585b5e06853dc2df8ef9db4f2dcff4929f77ccd269daacd6b17bc0edecb9d619efb0d6cb84aaf6114c566ae1c373faca3bb65e0579a35f1917af84f7cbe3fc0981d69c5af78636afbedd45b1d97405b7fef29aee14bf6f33bd0b92e6af768b04255c01d123a734217110ca04bf2d689203fa9efcc17b5db501108bb4e806853b54107182798f1fe937379925e6adce20d49e8c48c6d888c6600121ae8487173c5e27d8d2ba95e37a96869e4d1ef4c61dc66f1c602bd393f23987752ea4d78f8cdde0b6bc6f5c4f60f1249a9216a890e5a5","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
