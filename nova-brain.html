<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f364cfab03734248910fc0fba26ab4fe9ed9fe3a21b532b2fd65078b898bf170499933af38cce40b71031e89629c9be3302d97e5b238b1c556e5e4587f58b641ea16a661b0d07da4d5ad3fceee316db31f3434c74c0f251d1fbb16aa565b3218ea6b7d5d0421faa484aa7ee577cffe0e017ee91169db25eedbb428a0d526b7d75fd5f48fb25babf2e9cb25e6e893af0928209028c69258a3ccaf233695b8c8f59abbb1d18bf3c643cc3da4b0fc69e9a833fdc158642e0cfe3f4b436bf6f49892767ef79fb89989e314fc367850be7e51e9da773882568f8685fb4b38533be180932f7cdf7d672de3d9352da033596ba21e7c610b449458e7fde7b85e801a4c194c7e5eb21295f941478008e21f9ba1359f48fa81da49d44e0230f0cc74d63bf4a8998346e4a69ae199de206a4fabb6047a88050ab490039129c0037a5739b722de604cd09635e7ea37054974741910dd97f7a367f9ee382e826974910533b0b13412fd1930e3bea11b15c88bb43d71f4f5b02cb1df2ff89056fa92ff95d2131ef4e235763779116861b9e06c01111e82a7b0d67caf8ad9c0ff829abe3110ef144d8a5fae3fadfc61792098a4ae966b900c96344371d7a733db9b0aa2fe770d6a7d30c2369a11d3e0924f0ff8bcdbd0fcc1462c87eeb8f8978c34a7c13f4309336f7392773639af8eb274e06e4dbb6fdb1ffbafbff486a2d2c3d6fb013b4f4d081d7f90266cc8f5095c5559254b49195fb7fa0ae61cce0de7b0d5580c16d1a3cc48cdd02d614d5c9e9423e20bb55f19902c5aa475f186e797f7f161474f2dbf33ed59a2f28a295ba709b1e9605867f2a53bc6411586756061a249d5c79101c9ca69524b83531205fc0ec4e3d2bd924996c8045dc2a8cda2153886b0509d4797441741e7bd55ab75b86947cf3ea896b969d764f4cb13b0d5778a1fe268b2ffc8dfb6add8fd2baf188527219d87984ca4b13feb48f37516162cd3edc445be026b3475cdec62779bcbd899cbd690f8a485c90ec0111f65c2e2730602c6744b2337eca4179d43a202d8df739307c41bfedbbc2ca2f43ea9e7a8fe63cf070f8fdb5350cc656838fc2f4032462e8d6b3af7624ffbd4618298111656572f05f239389b7c6d955695a50d121f331e2762c735006bfb71db918b3342680aacaa06b2073283992873ba8c49f0fef86bac3e8283a9e55e9a838deee2118f23c34d6db035ee8a598cdbddd92f075e88b02f0f5fde2ef70bcf0cfa9f99ba2c42478ff30dbacd230d6305651b9316cf2806952675d95e1bb8aac730369e3e3eba80327c2f5a5c7abf248e8f5d85cc55b60fd4d96f3e09d807604ab07a0d9664441dc2c4cc3ed1353798b6787d88f764c054906ea52010856d90cb19592cfc193295aa659e4e8df22c83c481dd2d105a834d2fae30754ff952b11941a1f6fcc6baf339dc7d1e95f2d030cd9991791be473f951146673a1043b47a42967c371d9620cd4bb00c087d26c0782ba56f1e61972c6ce29eba40fcc91ce79e19985fe627fcf6c7118a67ed9fc0b54cbe5a95c0132d9bc1c2f656d452926f187c1c5dd3d2e814e5ebbd17dd3c8eae35c03665f294962d8bf56ffc56134888e7542d0c79538a08a3b757f849949cf5fada24b28e26649126fb29bf60ad3ca1a2b21f654dbfc3b67ae1280419b08fa91ff06967d31e2229525ecb1c7fc3e34fc0b9fe7e97678c06784286bcdf44f784f3e6d8573a55915f86d54a6b37c83491b77e14098d70c8f94de561e32f4110e38c7e5ba2bd99cd431e006c57e101fca3639249ed7633e6c2df8859f43502c728a3ca3c703eac480a01db0773d60e52bed73f38cae0de8bb0975e8f4d22d6f7206a8ec395db16cf4cac4f0b9f0ad69766d80a22f6069e7c4a2e65d2fab45d7d1caa1f5333a53f637c4b05c27d1615610a2d72dca683e66bde030804595a285d7aabd83ee9fc8e02c61cd89fdd3bc31063ba433b8baebd92a293efedf9888b6e98c5ff316272d538dbe90de10e766742b53776d296826e45d2d39adfabf1acc1cbf1e47e11b7aedf67b999d086daa8d1651dc76c5faca5b160f2f87857738d8d6dc9e3a36357d350d795ed725cf8eea289f50fcc9a1b7f2b0c553957a456b24057e1c7a1d314f232d47983d1eeb1099cb83d33082b9c829a0d461a543ad28a29b8b231eae83039d4f0e1badc8e70562990ca2e0f10be2c70eb4aa9eb206ec419134fd2ce3cd4502557fc27e9b21dab6bf52b46316aa80ad4335e76b7594b5fb74afc33dd40dd1fb33260187ee917967374456b6d9c12695e6fcf4c68dc62aae7b45d436557e515685f383431a71d645a69c8f2f9211b779a60c6adc1e1b6bd0fda0bcf77ee37c9df6b4f355ca46b4a7c3f5a3721bfab1dd1535e073595bd784a1b577ad027982d2d7fd57209a20ec0c1450a3007d7fd5ef02d821f19e719f333448cfaa5479e0a0580ee511cc58d052d8a1efba82f91b6858b6bf3b29ce670d2175c2bc77ff3b08c076ca13da2d55dd8f16ef373b25e16130084e55144332064df02e51f606c3488dca2129fd58ed72d031e5b5b188dcc5106f10374d1f9d1d7e9d47b00ff10f7cac3c95bba7b88daa65f382236565cccd747d92b657c766b855cb43ab810efce10c10b6a0d20634960251750987ed704c880e48f2f4aab55b65a2a0f61d20607937f0a05fc9a61228c507b8d30c652f28af460733aa52a3956bfcee168575190afb59f69b1be28590cd0b318c0eede9b1946c1fedb5fa499509de495fe15b8226e66f443aa91994c312bbc494209b98cac82e4e852da1d99dcaef08468262dbda865021f9ca98699f674d9acb8d27f5d181dfe5be08d480d3a54ffac80aadb050a6434799560be37ee12fb685d34c6e895a55a7a55a93a2f0abd597468e9513d9f4c2eca723140a0ed128adfa0062b5c46c1534fa5fd61fc7d6e4e6dbcecf24df5b5f8e67faf935f3fcaf4a82929d062ac9b181afc10cf946013edae80324adf4b06229ae4b68323f785bd8b37c3b38bc76433bec7cc7c568c172336e373ef7c029ced06bbeb2db3a5ecd11b4b29f58bdb332746246e3afd02a213e2f5dc251c4f75f0685e2be52f5636b0d17415fed5c625002b700bc9d979a0bce61da46df9d93b526bbfe0967f37ff31536dafd1eb184377e98e2ef322672db95524712d626933ff8b8899adcf709e24190d7f3731f4cccd0f40c65b806b1a736ede5d7542897e6e59c6702088dd21a28b4e9d26ba9c9ba0a32736121a3d10bf9d09b5d684b9a6477cc9495e4d723b462c65e39b0a619b84a590f96c4fa4388dc7dfed035c2caafd95dbed9e30d0a52187b9f2a01b905dc915d376de53a56da8b5064f9e2246d6992b13c14a5335e88b44ab90b99cf1418bc376dd61e137fa8d01eb6020c6ecd3aafa2076d00884c52b26038187f9177c6fc5368a984f89c72fcc26edfd683e5c47be6ed1bdc01a1b18d579a970c66b062f03e7678c0849cc3555e25c4e5a0f2e005f9969a7f69249be6afb37a1744b3e8d9d709a4d887a4e915333101aa2a2a90b36d1dfdccfac9cb1313c41bc6c0a14ec987b940bfe15ec28ce19949b57c1c923982e4771ac4f6ed9faadf81804e3a20453bf41d8bf1a812709e25b45ac884779a3f0c803b38b25b5fdc29d95f08268e05c1f4b97e41c2e49c5c6e5066fe3076971fd21998a79f17d81443ed2408936ca5c5c68ab34cf7aea917598af1228f3fd890d6c69f61e7e4017166a0a60d23fe2f1a7802da1a181f29e98e6b24f0e49ecbfb0ee66b984603c50dff53599b8db880c878aeebc268171fa80b4a4993cc6d9a7fc9453a91e1c09002b41b9cb3ce0acc84d1e3fcbd1c87886f5c26adadab52d15c1c84ad471e7b46f02375a8b0e2a472770d86341a04e09daea6382554d2a175da5150a5962b337182fa411ab81a9ad73386e4c5773e79c3072a69e22676c56165965e8ecf1eab9d3e88d4e7649760e74da93496702de9d55cf471c0198b28e6c27f3f4d6177e6cb851c9bd1db8056bca8deab8c1e4e37e95d8f888cda690d2f6a97fe7e911410f881ac0da708aa177ce70315200431504b1c83361966fabc577a206149fd4eb6bd5e0ed3a28c07745d3eba065128ddf82cae683c1213afc8b9b5e2c8d47cb5ad127c46e98f5dd5532502ce89e7dabf71dc7f4c1e78c1305448fdbb461df472fa91936acabaa035c0822a2d6f09093ec84bc29b8af698f869d8e0dc845acb2b467be7c040819d86dce4cc241e796d15d8f3cf90b6bb892ba80914d1bfaeda1cc3d5ce09d55fbc0c2b4daa3b50a9fe20481aa3a3647816c182146f49320d4cec5b118ab4c8cb51034d2eadc87814520a65a42a641d30e5324d0181ec31af8f32554ea06614a78cf0005c2cb406bfabe7ddc92bb2d2fef1c36783664272ec291f4cbaa7b2946d0a56b88caa4c27d84d94e21a0d14a0b0b644a22b61274d19d036afce11ab3d9bebb7bcb752aed71cdcc5ee1f58734f7c07382720a5b097e703334f0c2511ded7335e7d8aaeee6ac614ac7ca979aa7951e8c81a061bc539c6d9f54af9dd3664351263a2e31967c4df8f87676007b8bec2cc555640643872b036104cf49df6d8055af98c69cff640169bdb0db127eba6c747199a4f76049635857a664a27ce6243477a5a850d71656f1cc23d0167cd90a6f801dc580e61b33e6fa6ef5ac1a30f739e5848d1fd81695257df4d62db33438f90b222f3f8e0252d04b7ec0fda7374350541fdbc7b2661ecda2107c9c805e9aa3a40e2d7e98ccb36a4d253238ad62349b6a17d70c46cafa407eeada261e1673dee89a0df7c2afb1cba17b689ec2eb0cac4d68ced20cc6a1c4d5e6be4ecfa7cfc5147c2d451c751a71ccc902fa75a7824867b59ee8a0a0aed07d94440d71ad09ac5f4cdce50b049a93085a4253f1663f814ecd26aed05d56a2c01e3d9d02fe747a7ee849426696ec72dfa1b9a6bb470b0c6c7346bd8bf72c333ecafc307b41dbe0a3d627406fb0cf3d3e878a8dab9a6fad2614b562142467eff164d4cf23031a6ad05c91107506bded22b36016c1df932459cf31f26693b0dbbfb0a7dc74ca310ea7b2b68c142d3e719652b10fd59b37af1eb45366000ebe6c99acea3dbb34325120767d42a51c0b017f1d2867a8e05c6b4e5ad58c8229937fcdf60262f92acc056e8d1cf5bb03c7f13269a954727270b902f19dee03063b1614c960f576baaab53695423234d802c2ca710b0841228f6256ba168b03167391b82aed388a2ba1f31e93cccf2896304ea1e6d3aad4337442c48f9e1a7b8906a717ada7dfffbf6eccfd1a8e8f4b9abb5f49fb43869d4c9e3a448f29568a0bc8da676a88f867e9b5a6ff041662fa25cc3722eddf612774b85dfc0f4ad26ab20331b060efcf8ae42a94e4770f54c5d80602d87f7ce5a2f2c58a49902e6b46f5aa931f5873da8fe2d6d602b24308cfc969d8434f6600c8a87fbd8491a256860d78e4cab92c611581c0f196f72e342eb8304886568d54f595ce269581b47d5380f95f01f0787249d2bc0a9e03ad2057a094a029d187f5445ff1b7504c7c50b52c96f1ca7c30c035e20e5dd6ea43e507ff26c417083f2fc741a5f2e36a9f00a461c54e8c19541ebe3ab6ab5e954be7a5b5c80f77908980e4542ad9732cdd8274f1449c7452e977cf4004f13eb1978b670c527baf319112a433f9cbce57b5c0cbda655ca0288fa6622fc5a299ab54c8e3d80e910f392c433ae59374230060f8d7657ca9b44c2d050e8336034f10ad0f1c691c7460510d390572ca40b4a94f41f8ce9f7ab63cd5e2bdcd4713bb034390e9d18a3fd6b2cb96ffd06c599e293cc9543d1905336774df0134474ccd1dbabd788e5e5b62ca076a017a7443b7f01184e1f1677a05deb265373bbf694632a16d4e47f6e70ddb10fc50fe209abf86c0aded08708c0199ac342afa7432630d6563481066feda699d69c6e7f4c239cec2a518b83f2f286d56c79b8c3aa85cffba39e917cbcfcd9ecc21fded844b6e37229d26e9153c599ad661ca8eac5c7a1862c9c56865eaffbb0017841ccd803eaa74c4f61f6d422293d0d9e992952493c286c59e181221959ebc0ec1c97759c6b198e7b4b7ec136124e826dfba207fc6951229dd5d23c28687218f3cc5221063175e11ada722631265b32f04fd07720472e33ec295197ed6b797996ec4d692dbad8c9af446923f5474fb7c6ffdc6dfd03526c3e20ecfabfda2011d3b3ddb9e2751af9302523897e3f9c13715a1269acc17dab8d2f13a12f0702afb373036138dbc6ff614e47e01afecf37fb291d38a3cf35e67c22fb95e129848177faf44122530f922243365c7133d51257469575f6e615dad87d2666ec6b5e76cd8deb7419353e242e73468f53a991aa19f747cbf4d8616e56caa87acac739b25327366d07a614573569a53c8972c782ad9544bf9871b990cc72e2a5d04a18851d2fb868ed93b1cdb919f0dbf2f2814dcee98393119422e48f841c2cdfcba6a57d5dfa3dfad73b67040447317256865b09247a97b09f94230c005e334355c5e835fd7094e8b834d01533a8e06069a7bf494d3a8ca3106c17cb98818241e8dea779d1f76fd38376a72f1f30afb39e6afde9922b01b69589008e5f3e11f619ec48d7fddd0b946ce089247042c0e08eff868a49da53b350cff567d99b8631c0ec601e22c0cce6bac7e02cdd035b30f67b6faadf06ddaef7cc7e28ed3635a925b492f5d9e116c2dac732508bad2f61b9cf5d56c7ed47d05ea1b84f98e27f3ad10ee5f15d435f47e031a25662d86521a7fdfedb7b698527c7fc43c38ba317f6919f7b0e03223855c2b991c5b73b91212d58c2693c5b896c175c021d7db5f93a601b3306eac356e8ef384ffb7ebf0f563379c0e2ee08c52e02ae95772fc729f17524b31fd39ff48a4e609899c0796ea9609c50cec922834a07a56597a5bae42f8306b0607a97aaaaec59d6e6d447e2c665bbfd09a981f6be73a313571f0ead8c18624f3a914ba071ea175ef62fb0fbebe5120563dacc5a99f61e852ffafec8174c2b95cb261fa5a03a4a110bf60b3840d8dad3b73505e5edbbdcad57796714eae062c0151aff48901382c952674e7d3a0e5bfe1d274ee364d816128b9d8f4e4704a24d55d949bfd14d72ea4814c56d72750de80fd175a43eeec68f2ef556aa723635eb66b107b2c6803a85f63f00f9dc2257dc5f64801825ee4772615d2c642bbb564c648e612a4330be0e5d698bb6ed411a34bc5a88334cc6919bada14c098a7a37ce788415b5c7fc55358a667be4c72fa85e84ba077b881f95ad2c76c5e2e27bca314ce0853909706e4248c3debe2f11ae516253ecc03cbe0b2e6fbb5c7ee746cadd70ca084102193b050f649a1d2f333a09731ed1396fd4e98e3b03c6f255007f46a1bd84ea96c0f3b494df1489b4ebfcb714ebb2b481fe3cf7b8cc82dba74d6b7e93c5afdd4a854e03f08949fb558862371929ad30a4eb74993c607ba7d141e06719742884deaf6cc59f76d962d367a68fef9187014c5a721cebe84eb21469eb7abed2d4d7ca3f83e372afa360cdaa6b2fd469c41fd77c1db200dfb375e8736c03eaf5d5e8ce8f03e35d6a41fbfaec45cfc04d5c472d7c028f4df1a9a6b25c24d21b8629f6cab4cda225eecfc1af8589861a7f513fec0632ec317aac75885b3d4f516843c8c8fb87b23e2d5a73d28d6e8375ab1f21964de14c89a5f9dca6dd2d77154088bd04d366058933faffb40bc11366b857167c3630722c65d49d145f54100bc32146ea708ef92224bf72eee1ca2889bb2927eb613491ba6e2fdab0129b7a07b19230455d2529d06a2df59c4ecc934c1164bc619fc7a44e00d32926bf4daeadc655585548f5d75ee907e0dc0b3203f7f2f9c9a4bb9498ef55b6ea218f9594e063f1c17dcdfb2c1a35d9cdddfe51c3353afd6912156d97a5ada128ee7734ff86aa67b4deb829853f6df5d9874ded48e402bcce16cf30091e9a6fd274bf2ff98eec8d3afe7e9af9bcd390f5e77b1e5baed61e1ecf3b78301837c017293fa96c803ef6a4626ab9275b3e53ed75c6b6efda6827d7706999c7c074e61d00e81b78c769a2c262e28deedebdff7e2bfcf6fa0736180f030fd39fbce8adda68a9055b3dd3a533cd5e2492da65be228711e5a0edc4cba6248bd0f9a37415f4396a8e64424c0e8957463ce6f555fce10116283e3f4204253fb15eb093a3f52e38eeec15d39a404b455cb793943531020b763f4d27c797ac070ae28f049d4189382dbbcef7cd62805e672cb0f38716abe6360af86e8675c24afe24e59bd6c84a8dfd9cfa4176711ad1ab4de2704930ce33c02436ebb617ae907727689078302858d13857057d8fd6adb269f963db807372b0dac59142366424e9e0c34477227a70dd7c724fd7ddbbdbe8079e1b2d0eb6d761aacf65b6290339f6b15cff58e5f93205cb18a046f87198253fbd6065f028299817880e6aa012ccf287842867014aa06a28d27b7f45812eaa8b1068a6b69919035fa4f2a06d9c6dd763ae589125247fdc7a87826fcf4ff2a8d588a73c199d01221a1ce39a84655f3e5badf771670fe7ecc1f5952970b30206460101b898f6367a6592ed81c8ca2287b680de6f1781e0757dbc00da797c0eaec9e6d5900b58fb7d34f5a9a280303a4251d7dd917ac87de3e9019cbffb879bcec3ece146ededad793a5f70cdb1546e8651232b63f53d25d55a817fd3b1a0332f39327b496dee086864022a975a70714959da9fbc71c4bf1e3901980999a33f3cea2dfc8dd59659c2d0da3b9503c62820d4aa9da95ccc51cba55d5fccd8a59a1296d75ae673f76401e67aba4386bb635c2a88d4b6edc75293eb064e6428903c58f76db607443d1e0661c540067bde38f7e5cf34b9321144697468cfa1c5ed2c4346c99c099dab0af786a6966c9e1c8e2aaa304bb223903b35fbe1d875d391a54dfacc3678266c61fa749b95bca875adf37dfa96d69162f04a1518326f725e54db173a415a8c6e14c779176251f6b97bf93d7007f2e9e3e7653f46bc938c3780f5cdafe7d75b6b1849d8c4a149c7f61dfee55b186c89e0954aab8733a5233c548b7078afb6e14a9500930e56a20650c0f7b35ac67723021a2fa61d6f746f10d1b2e4e5cb46a44aa98e417191eb52e6675bc2b2337d59ee3a888c6930f7f7a890d6c32af6e57c68ac6f322256a83f104d59a0cf05ff14c8790a314db233ef0f8f7e64460877a4f6b0b0f5614ca33bf4f29a2d56a69b06d10df90fd5568e2e3eb78a892acf7e55b5191e219df4dfe1db0c205f34e3c0800da1d79da903f8e3c80ef7ecc27e71c7f357c402ecc380886a34d8e1b78d58d84b56c6e65b2495f24b1082eb5ccb70b9ef37df24396ce2d9e793311ee937c5033be66926d6c2b6e266df0682c2a322257414aa64943f972a4fcf135075d8aacebebf5499f0099f438f26efbfd097e31a104052b12cd48aa2377b3b44b5d567367d0b01d4ba9fd0c596c40f97af0df4e9dabbc9f7a129e5b2ff21b20d9bc7f70157bd4e5b255fafd84ed78c3f47e467a9ae0fbda26b05a703c914766624bea37cfd314c1018603160db60e763fa9dc7d0e91c8c07a70ac5fef42dc88b6f6dc7d37230f93e7dc8ad04e48197efa4097d240efddf7e7607676176dd619265b7f456fbf95573d13ddbb54e1cbf008184d90084ccc5b27f6f1ea7d80aa554f78fdb7cae13bbdf14789574111858aa896f462bac8d11cb444652cc88764f57dafa6b8a3f198b16f41b83c24af84b007a6ae7c4f27d2a5134322efc1288091cb6a9d1235b917e285e6118da0839b8ff252051e5942ebc187c718c50b27935c7f993a74d2f7219596d76931efc947a607321f22e8357e1eda8fc4a230d0f3cab0a667bf2cd9564ceda253465508f5d4727c8f5b30aed2cd15630c65ff476d438645c0fc98cb4a13b2924b13f7c4a5e2cd2a5c93f4c03ed9aee4f24a94137e605395a2f3a268a58b3a6cf4e75ec84f691ba519d1f84476c111c3ba46a6ca8e113470e76403132dfa0cb7bfe65001d52cef5eb6710cac64ba07509693e344af12166707212171b911594c7c58f923b3336f2fcfab4cdd0d538d1ed8868ee7050c9117ab167e08e291166be0fb2e1849d44bac0d700fbd42c713b867b12bd41c1d78233e85e7173d9eb024bf1c2eeda60a3c7b320a90cd857e89971a253ce27d884b9699b0aa9703f6666d9db4055070f418c620bde79e17318e2c8ed80a0d87908317c90f65d8d0a7ecb07eae9b505346438025003329a7ab04afbf6d09f4a9c99bdcdd650d8732a1f9a276096c36d8039c75ee4733f2be497d0af56df3e6603c116712639f457309216c12d5a65797a332e54f74c8998b761899b6ba9963597e4ece8e737469277526a8efcfc09468da393468249803d237c5d785cee15e00391609bc7c6db3862ba48d44be50f035762ba6116e3d24160291e67c110d986edbdfc889b91ae65428657e6e28e229a2d79157890c5cf0ef39cc19b6289b2ad45d142b5cebfb204b3fb9c3b0d96d24e8a95ed5bc6f7ff03995298c04de1fbce27a50e9eef64c39d70a8c8eea828fe57e0e8d93525b19fd17aca55ff50f803d03648f5dee69b5aa3f8a47b846bfd19b4c81cc6be4b33967b99084d585b68ac0aed40782a1db69b7e72b56427b06e23dc064cbeeefce17e6d15153f29d1bb52ab8b4dc3190064d95538ae3aeb1ea20545917031f96242e3b37b5fc4fb2a62810e3ff75b5f95fc5b39a7903bf9a250c07ebb5d993ee62d0004addd4e742723a136f077d4a8d0959e4c60dfc817d542f09d61b469871056d6bafb607ba52b564db567cfff963c70e876edb0042b72b8614065cf2a606739b1455aecd5802a950345bf617835eff29e5698317100e9535ce320a80d7be32ae9d7626255f86ac405b91b9dc84d88dc5c1c2a832f374eea4bee1e1d50ed51227b190aca1674cd3e2d15557d207ccce15196062e04f7382380ec428d2d9b27b8acb234afa8a30d86e0b3bf250c796f4dcf69597d5c3ffe64509f7d27276d91ee98da13cadd2edc39e10d67b5f7403356b71b738caa3b5873e89a1b9dde482604c19db1bcf1acb2d09e4b76054d519e0dd5b667a0cc2738645c23257c81b6352ec5696e19a2f2452f65dadf51f2944b253c2ad7b06c0670a615ae54acb56cdffe479c294b6f4ec80234bb4770066483b22ff4133cbded980e884f95f2621db1fcfcde201370fb6bf3eb83a2153ae9fda7912319a0555d213609f79282bdabffcb1a51afff5a6ee7ce0e7173391e276765869b27f302a8d59d677f318e00aba2f79a17dab072a99cfb2021743779b70626d4b4b5c229e2957a2f9e127d128e3d1733fad12bf52f50e6b776844a9737aafd2ab0e937275fc9a70705167a986e10eab20bf6fa17c23df6b44fc5afff9f00d13993e7ca578be213a71b213f6d01047d2f495da6884a8b857f3a7502e660e2f5ce7838b88622e3d1fc46e68f52d7866f73d2ab86d020c830a0e6558f9e4a7672536c615f1864a7115ae65011269153e008a86e91c2f41e18ddb04333d868e23bce87745eba0b3909d2bf88a8110a32b880f97a27f6af9a56e32ec34f323298a705fe19f922acbca27502c934ceb87411653cace122f8826d76da7aaf592c7e578f11d81ba96cef6378f124515584872b44da365df5f693a4b1228f2e98b424055ffe5282ed4a34b1ff0d8f218a6f6848bc3f3aef1cdb262d6c9335c287d4bdfef5f05ad2a33e07fc6b40ef1fe08a7650554a1f0c8d14080b12c4c6c83ddc4ad7eb1c60845ed8f1a09a2032c3abac5b4c98b74fe3ca8cd2bb064c1a3e78190f4315e0bb80511c123f79f12426a49277efed5f56aa61938fc6d390a9efc5711302dc41e0e21597a4677331e867de7c310e9cfd9a98412946dad5868c956dd0903e46c4383de74625c60ffaad6294ac8f3e304e1e999dda00d82ec599ffbfb61df69e5f09a298b78208d6bc0cedfa2c24e7a6f8a8fc90cb495fbf076ad6f0e6a50c7b5314f247184c3e0a99b1a99b363471ffb0c4cc9e1cc749e9ceb6343d8c15ecfaf1eb854af99191ebdd96f6a7c0ec35befd877934fedf6cc40bf7a968c7b7e162aa7ed1187cd66b40b8b49ca332d8af9e119201c6dc28f1a00cf2b65da6fbd20e8ba2db4ecd5b29a20507e45c7b15fe75c086856887994d558e47fc587732808ba62c26d83a2739e913b9db82e8df212faae3417d7498015c9cb9efd8625556ac98bf93eea1485cc9ae9470464f7ae44e205ea0cf2b6ffc2b19174a6b6490479da82e407f13eb0bdd482077b0dc4a0649258019220c4742c4c798a799a2624ecc8d75f547743d9a3893cb357c3aeef4f8e732fceedaad403d621c7cf1b3b007415ecdc4439bef3a549e4a4a9051594860ed7c290d7bc3284e3e4c69a0adda42521cca565f850a601d477a8219a2c793d2a5abbcc94cf012c700d3a066b89c2093fc0bc76947cfa1058e46581b54c91d08a5ba55dc71dbff99c361bc86cf4ae775fa2ecbac8a0da8f1c7faaf7b19570074ef6794c08af15efc41989294501fec56aaf853a67cb76750b9e8740e10b4af609e8a0be1eadd692ea9c510d56d69346c06ab8f7ca314b20430e7513214bb6ea99a567342b352bd0a8f8b594f19b02cea6122f2e32d97460279304d61078f510ace12cae1067069f11e3f037b6bbd2c071f0ba049c25be51005ed5a6e434962d3d6912d02530f188389c30731d60dfed2a460ae8afda508ff6b50d0c213236448ec52209c1e5ad998db56c1fcd5c70312f8342dbb234190b5bdc05f56dd9494299a73d8099a2c96e05192c6228e67e4e7a2990ec6042fa5238377cf71b737530da84fa7ea8f8ed436351ba3a23696d5de60a3d09c056a33d3a1d505f32deb98cc50168be9117b4115b7f671283a707b1d73cf8a5e685bbac7637d5c79140714a7713cf08818ded026766bebe4f6639533c07663b9c80650fd019f26dde45c452943e96fa09c4ac2798f2b86266b61471775be28e9d88eef11a306f98c8acd423cdeda79efbb5e90c6b1e76683de6d9db61d154e5efbb38de1d9bf2f350aa74e885ad547d2f0b2f313e3acfd619a1ef1be1bc7fc099fb3f03345b15ce069b6f3121b0d163fc5499bca200967526cec4e4afcbf5c1a05a9f3b2c9996cf897125fb913e2d84b26b6b03f2d6e6118faf3b1347296828f6492c46a518e20471702acc22d2d3c3a9284c4f25710056a9f9194d3c98c9947c898b35fca39c9c2649288a3dab383527db6344d26e0c8cbb6e8c4f4e72e2fea2e2bfa7a7d9b21ff0dde6cdea59ebd8d7e133ffabd77fc16fd3c51ac8c5a9a3b41e831cb62265db25ffc0a047db913f99a248640b4bb3bcb826c402deb65dcfe8b530290977744f6d8f246234934b1111e23cd18955940097c23fc17dfc4383636c42828fa834b44ca694bddf219438b5ed88c48720bc93c8ff1e61885ca7121f9c4ec930d21407a42d7e6040c22baf659371bd5704ae53a820e601c7016bfeef592349180bc8e3d3e69893300a23b3a71e3193f6aaa6e3736a949d8f6473f089deed3b2bff718bb5c801bfcd6dc1f62c12c5f669d6c161c1e2ef08567b5e9d3a0dfa3a2ed14027840b641a71b7a6bcd9ab85521b856450887b11d4f54b83beb32545cde4a4d3a173874f80db76e30542594042ce0e00887d4cf8012897e92e1a39e662c5a7c2991e5d476f02881875edfb5e89ccd9c165b84ea6123a2bf588e98a6c62e6990948d0d62445a3ac9656419676bd8bdc41a174da0c2c56a81929a17a507bc79d24381aad84e83c293198f4f69bd7e5499f2e68d3923313cde1baaf4fe3abfe1b37ecf5f70fbbd0df94181b809c811ed4a5d70f104f3f2d6f9983b3585c88a83249aa38878de5728ded8dd21eb32a1fed96a944aa3f52b9e4089eba320da7b5df4bc515678c7f16de98eacd50851464cd8f4f0f7ef6b008d0d7fab50a09fade15ced0861234561657b74fe4a02c5b62d4e85da40b293da032af14d4120e865c4ec6e2ab8cfc748897b33c4b1a603f3ea258ed4234a8f20c10dfdbbbe4c615db4fee0e7ebbe23802d5320d4ae5402c850ecbc2fbdbc6ad63f611c7dee1cd7789b98d9d26bceab2c699ce3c167768d9c7d3715ce9fd3915e1c9fa4897794d5394557d99f8dafc784531a3bce6d4cd56e8c276830a2086d75e9a47c79eacb437b13f0987498b828d875220515f5909026c68e899e668d5fa53ede25894c83b054f9602009fa39e5e51b4ce93077364c1e0b6a0a029f30b234f60f1182ab7967ece188d73a8e48a1a411626921ea9d7bb9bb33b07c5fe777585bda776e2a31d8c1b96a541516773362b6a77b71977929a83447a7dfc09a8667c40a1476e21ad1e031c17dd2828a1d840baa47bbece4d4066427a6ffb4b1d9203095aa821822a89ad90f1f859e68a9a39b32e7efb8c1eb3d02b79a0b1736bb302f396374d7aab22681b5bfe63ab07f904702a0397d837b8f09abf7611bd8984fc3f7f992c43da1059685372ee095ae3da5dd6faaeb96ea923d09ba2859fb25dc55e902a64bb17cf95758456f7abe73e3cca857cc3a950b3f672b150d857575ce9f5c75d310b2e66af0704b51d5613c8f24671ae2fbdacd89a9e0e7694a358ea25716847bbd4ef7cecce1bbc9a2468123d3bc65d8a2c2d916361d44c014acc87a19f5fc44eee7df45deb29676cf629eedef3e367bb104835fb4172755220bcc1bf92391ff9b4fac1f7ee4529700cb4e481580043b2c0f8d0f9ca6799cb518f0941f70dc7df90c2d24abed4331da701807d97eb72f2e198efb9db32ffc6112e2748e5abbb9c3ca61a8101d3ec5901a01a58dbe01f143e403920ea91af898d1490f06bad6264a8cf693b36c94c01dc0bdba6e61eae121769f27e42f10b2c57042bd8e9a642957aa2560620ac8e7cb20654688f15524490d8b22871aed4f57592c20ea8ce40bd7c59fe3ab38557b6203fb95ac3bca3d9b6955aa2f25c984603601a49a83805930c50b02a4d8869bb5593349300f5958152a020c6cfdc42015f7f19181d6e18fc44cfa239a535df6e28aa2d74c5dd382afa256093ed2f9cf17b40a8a5f0eb8d81354eb2fa4952f7f471e5289cd27cd97b253e8ee16924a3bfd2d644cc0aac170fc532773c6b037b2c71a5094eca2a8ab7b46e5b6fc83a75139f1f2064e44f17da3681ab4b4f5790bfe0a14a48f220d571c1575fe4c7d7da38b4b50830b91ae038c80e64b2306d8be8b7a805d66d84e55566807febf16ab02294c96fc76f702f6a12ca1fbdea838ff57ae5b59738803840644454e160df55f931498575e3acc02bb8dbb868816d151765079ede7de2c5c8fe39667a1909031382fc2096b895c7386549f989c933f81e5b84f56e442e977853ce727f0920ea052175abc8e29dc9e00b1c1cbf349115e900fab9b1cacbaf9862c0f7c568e0de577b017c6c9bdd5f88acf58889edaccf95bf3f863f908b0ddf9e47250e6a3bb616f64ff9900fb8042bf54b601a81508d619f5901ecfbff50cbfb2b6a737e01e2810ace5450a4862db14b96396f8ab7eadb08a2310d78ef45ee08ef46930996be5bcc6d647d755f2dd7fad71f2b8e8adc3654ce3d4a374fe68fb53a18b9ddd3615a8ad72be842f401909a9df6cbe4b2c4887ee27b6b343ed3b97cf0af881ba5c7ae29a5e753e6dbadeef466cdbfe0b7d40e5a63329555b2898908eac8db95187484a59187f4537f792dfa4a07ada1e43225a61fa81591be23561f07c84f2d558c84043380cf048f89fa99abf35f1f528712bf051f7b011cfd728cbd571204fef1465d9d4f8c9502c053ccec10d0f64a9837967601faef1b49abe170662f5d78674e27b67789946d7e7482d1c1bdbfb7eea63379404815ace8839e8f8567f01763410fde266ab90a620a0081a769190d96a277e37b541b5aed8beaa12779dc5f576bf349fcf93796814f26ee7ab7fbff8ff2a807f6eea627675c1cbfbfda4288ed513717dbdb290e7db2887d7db4a69c4917ed3a0d66f54947c0af08eb8130e4eb84fb0ab91aa864d96ef5de3f4d2e1cf904271d5dd1ee19e1628cefe77caa24b3e65987b5876ec5797e703cb4428cdf4321823bbab07071e9fd7a9b1e6c4d07f8dbed67c2f9920c6bb366962f4db10569f422f5b2061cdd2427cdce90f1fd77113566a964364fcd70066987beb7cf7947ff46a0f115c310e18956ade1d163b8bc31f1e49d0be13657504aa2449441ed2d376eb130dc7edafaa036247c7cba85594fa450d565e778251d6d1bc0231dcbfb59a157192d0cef7c5a739ff80d66596022b3e640e1d9226075c2046adc63954b6a4c2f2dd76200546ad72c2b7e824e8b28e07b84fe2cd5334950d183db816c16aa0dfeed0ccf0060da4a560fe22b8a9db24b60acd4e11ca869daf617cda643cbce2f1c71c7c7f49b4ce956c7e46dbe96444e06e4dc1980308b5104ccf13aaba1fc47302595c8a121b0fc2817489c6d0c23e1d893c906d52828d32bac39fb7d5e2848820b74cd0a60ad4b2e9c9784810ad0884bee6d9b3397ae62c112389500ac965c7cb6763639d8d74311eae0d434d4d60d0b398f2a9c76cc859e4d3be258d8d7bbc4f1e1b4e0dcfd327e5f847df0d9e354adfa5a1ff2267d4fdde47004e58e2c6d09270ec0b74e815acfccd63a64a787c7088810191e15652baa1b8724f16ba6909c81f5512a6d0e7d846b20c07c5aec1a496b59c92a28a8ce7f219855621c132762447d0e2ada8aabdbef7ffa165a7404d0c570433de3cd3942d9f2667aa3e5cca86576836a79d8f22e3123aeff377b08cca29b41dd665783e0d9a429aba563f30032985f85b7d87e6cb0c2f1e2612939cba2d57c7c21f1e371047dfdd0be3599f5c2a6597777c6575786a0f0573a0282726ef6f548b6235f339e46459737f0d40cc461b8ab0d667ddeb2bb08444dbd6fced95d18484e0d1fe1092f215d15005e6c844246fd1d033a1df4beac4356889da36810653e22ff334d7a4aa19ebd649750e51fa609efd60557c5e5e533b447ce1ea576dfa5b60a519e27f2e386df432f6929cd0093da2348c7c2e38738016c70f6b18649e6cc85338223c8a8b0f7f779c68cae07f03957ed9e0a504b58ebbc2c552d4e77cf6a3980d61d19677dcf4c2aa0fb36fe8575c874a457d45a057128aaed15006d5a542f0288182657d5cac83757829cb569720169441db5b77a322d336848f4d2d8a4a86d05119230b2298a30659522ace5a768eb952ae11500aa74467247652cd02bfbe521ec9b57789e9ec6f5ad0c2f70c72f50f8f5bf8f5ee3769bd9276798ac09bd2c8cf96402bfc8f3b42339f2cf2fd99410dd611a62a19e212c31041855993ae507070ade69f202d85f53e1d913cfbc5ed5892d7fec8e8696ee63b50c3f25266cb79ff8c16b7c8a1c0fc5e429a0ffc073630a903604951ebaa35c71fd64eb3fb358ddd0dfd902e24cff04748d728ab375f5215555d94c029a3dcd74e98546b24b9872c10cf8ee0cb099be188211e030dd8d7df598aa45e0525b0d93a6ce5c522cf5bc045968190237f5f1f1d50a1e50aeeae03ffa2f20301b950e0b83115df5a69c9bbec47b5006f7c7f938713bc866d50cac4a95ff804e9d67e6beec8d7c73ff6bb1d5e5c4aa1787b185aca51512da1b1401c03b047bdc32434bbc017471701f77ad3ae707b8d48cd2cea9281b016d49fcbab667caab6423c27f6b8853525a9442bf6ce5b0b8f51ae52b043f0a9816e6ad4d3028419f0f985cac85a0002dea83a29a3dbe95cac0dd547e3d7aec2ab227284a70791edf8fb672c36ccee0a291dee39b9871184a7ca889add86b73793707d1c72ade0477e03a4c1edd378c6061706a1dd74aba0cbe87f5f2e46c0202f8054f28f4e96bf892a26cf0f39f0cbb1f56f4c1eab1be5dcec6941a2754b3f7e160edc7d3f777d1204bb670f51e82c49a4b97a1d9415af9e4eeb69fcad894221d90802c13da76ab7e963db0a266fd87ca27d0bf07319c932075baa3bbe474c25edb11863b1034c00df599dc3bacef236aa78dd0df5c8c2040d86734bd0e0d19cf7949961a4c7735385743ed7e6a90de422b96c3efdb687fafc2f42dd0eb2e6708ba4e504b7b2ee068fda4e92e29bc7bee6f17c446674d495cbd231e6f260d2a7432f539fdf6f4fda8caef96cfbfbad57ed279f52906cf6ff0f73319ace5950d1ea89df6ac79817d0be5a4f7747a07e322421e5f9c504b5e64e633d749e47d37f3e813812ecd34e810a2432ec7d26ce3b78b718b1bf5ec1b30476c87ff2b01284af9ef64d0c4639034c6ae953a2577c02cb557d24aeebdbf5954391df290cf04c944d6232cea841584f4167947cc799b2293335b8e84f6302a774454574f2dec0c0dd5984acbe2949ac78e6841c0ee1a6745c0135dc97c17017987f91594fd556aa68a9fc5a89b1bc230a0ad7e8b348d6a9f41cca8bf01927b0f05ca645899c31ccdfe308efeb00a9836494fb6a8be8bb0893e41d4fc7b60c66a2d12561f244ff9a8c9a548257a524df6b8118b053d0ef066c15efc88b9f5c8fbfc0727d17dc2be1b9b7fbb0b6361175ec3a68514442bcb0cd8c37eeb5c290ca66ccea0ad5f376b8c8c4323c97e4c00399443e26da13e431fdf9c5e93327a28c2dd57c2da1a2e16a4dd3b684d80e4dacd16c0aa6b69ba0d14ab3b0bb452561cf3829e0ba5041fa1b2cd3b7e6eb773b7b8fce291c228aa893a753e5efa4f2638b178fb8c1d4983156c81faedbfc7cecc0ea19a80c5b827c8d55517863254b961f122e0bccb748e6e5b482a9f330394dab8774e731a8270fa116026163e5c6a53f87a0b64e456fbb538c972407f68b4f0183ece716d27d2a439acafa64cd759ebfed9d1fbb15da2a9bd3a26a50084c36e62016a1f6938a7d51f89b2690cd7a3f274b795fafe76cbcb114998d35efb37e4446d255532ea4d755c2cb36f160a065f583949b62310441a79758c051a5374e8dd99e2ea128f546f2941bf4a8659dff4b5ba712ab6dd2ce9085d7395e78ea3c2ecb79b584","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
