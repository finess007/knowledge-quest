<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4b336e55a1ff8ddcf6ba5d204a4756b826cc44eaccd634ae31bd98661cc31e34ae609dd164af6dbbcf01ff2e823e78b14616b45c884c951f31c69bbed18a8b078f42936bbf9c7825feada6dbfa2270d0f88ed5848d0d10793cb8ca6c765ed7b79e2e1a276cde575770516ae7e586d77678d7b844594ed3c6692215d4b2fce8f476f0d43e92f00f40c6f1b21c38df6d8fd73fbfbd4fcc59ac3806012e74238a7d15820b1b64be684912db688c47b7e8134455e6a533e067016837be993ec106cb3e073c9f8e245e379625b295a9cbc227b354403d12ef15a0d670d16a2a782f11f5aa4c43adc72a0d2906b1a04f0a08de560f18f90d5737a28c097cf259489b8439a3e2b3a1a8e3d48f8f8722a9a36856cadd3c8d80c24c8a3339ee708b84cd671e388011e73328f1a28dc6284d5fa7dc718902e9d53d7bae089c3c7f4d22a15e8a6a257274d88ab63eea74025aa4edd5cee7060cce22fc64742e79a1b60242c46444e3720f5d8251cda58fcfcf3adef70dc12eda8ec32c651e19e0eab9417b83563d75942e068657c44aa05b5b805111b47117a574bc02501861c5a070fcdd434a13dda7e20fea8b9a161acb15410297d040dfbd694751a6bf8f0ef45fe179f0b0f8b1331f9ed55bb0385b160693ad982b3217f662b58d08683c63fbd097c28428c933725a28a77769a72ac8015afdeb4e998e2efd406ba7e43436f9443b494dfeb04a6a33848ee5fd404d4d0b53c9dec1fff97a24f203142f8fab14c14a4062052e68fb9079d7e608ac57698e27cdaa37d6f3fc45f87c2d474d00b280841ed6daee85d8b1a3de3ca0e051a644685b086674b15744f5db1e71a44f2c1a49b268fa16fe2694ac5be1edcd5d56f467693a2fc6005ddee0a8aefac663f5f4dad2ab06c05347fd4f2334e22c1f960b0350fe9532675547bc02d2720cde77d779533961294857b8153bb831aeb23072ac852b315430595a59882a4667257107d57e549f690cb2be3ad1a0d13df6216df1f6261433a1cb6adf9495bb7a7d2cf9a0e40331139ab7b4509b6ec11b62c913c5b1e7e4a91c6b9be5364df43a9ebd6f032d073e5926a0527039e4497c720be12c6d48b2dc2eb01cad7e3a7381f6b369ce7cb16817f5b8ea8feec4370165050f5b243fe70c423677e70c4807c1c2a3722de3f39ef2f356cdea0f25ea5fcaa7cfe6cb041b2bae5c4c1e9a887bcbdd9ac849b28af77fbbfe2f5ae32b9ac2762b702a2c8bfa4a8dde20f1b2701fe5c12ff695bc922796f9b5e10d39b701ed516362c243db545fe4081386f661c323461eadabbda3de82c7a86581cd15376fc869d4bde9e9c989893f52b6f26313814b92bfd15b1ca93880cc9c8c165f8a9742e73acec8b46e285ccc40e70b9ac62e4f686e9dc92178935ef6ace9599a28f1876935dd9c7b6ed3b8ab3c33b139529f98db8e40b55a4f868bc14ade4a21088f528654d8928cce1ab2d44eb7bce7b574e4bd643c2de54219406781950e0ab9bb2ed65b79b9b7d453195128aee785fcfe52cc8b923340b10fccbf31bc65719c2804bdbec0e133565398a22ef94ebc8aa18ad2820ca87976852ba0e2287cef016b5b0795a8ab580e5474c9d379de31bea12322962b645dbecc0cfb72e3655ac5cc3c14950e8aa67a507a25426eae1a7e372a28835b67eefc77d2f59209d7549421e41f0487d85d67fb9c62afc7cfd71b6bd3358bcfbd7e67ccdbb0cfd99fbf0793332b42542a8b93467074866339f168afd69963ca13897d0c33d7a009c499dda451bc69e8aff17615303abb04b717b6c1aaf7b9f0de6a9faa56cf9db7f2b93de53e8b7fd4d74122bfb03f7b04182bb69c49a43feb80e930572a6ab9899c2d18017b4e1eb5f5a51b4d30ed1988c0eb90a8b807b45f7581584772f72faee4d170090093d76766b60ee1bd407eab194fb8d03ec9c764f2b8803df0f5ba363ce672ac5c73d3ddbaed99393e865576b56f04e06208775645d7b89ce3db7890dc6c26c097f390cc9aba2acb053fa788aa8e74be080fa73bdff37dcf01f8c72369b39351cac2dbdb9c092a02292dcdfa64182495c9fc00abdcdd27feabbff2bdfc0b2bd1831014ea900c01a61fc8f3ed65c6b51b3601f5a8d63a91b768c147c61670ffdc947f3e89f3c7414977831ac2b48cdc3109c37194b2b9fb371fd958ac673c375332fbfab983244f211dcec422e072faefe0a9e9a3d3a45c3b9c1b9feb33ffde5c79419edbef9b507b843f11cb2b2e5358e94365d799d99f1d2a2ba30eaf3eb09e59166f5cdf01173f5df1fb4c83068003bb66c3698deb23f9691c4e68e7717128b7f40d280a1e73399dbbd7922a3cab16d21d8fe1a2266c51b627f207e1e9df531de07ca6febddabd533db5f81aba1858d0b79eb9826969423141472888bf88f2820c0274ce219a4d6100cb82b6d5244fa75909c43feaf9549c3d4c8611dac8940107bb9b6c96af84947f719b310323fb5a89189e63ef32e6a22b22097759351ad9e262a1910e2d5a01a6a6d2e5ca61284cd19985dab7ed4c11083d19c1371ddcbaf3a9f98ffc8b79bbf9e780710bb79539d52b48021d6786ab283b86434e864b0bbe90bd156aff04abd241ab7c17e000a504d32d79ee59bbda844fcaaeba16af9e5990e35de349deb899e03e3785f8f0e49190989cd7891121caea47a039141134fd38105a1f981c04a73212bcf4b92fdf31d8b59ff9626c87033513cccde1950cd4e0c3ad8ec03a490b048f01bc6d3260a71e3ebd3cacfb9ad6d08b22de054e6b62eb7a674b600620aa11f86d67d1c8a605f8a8ade1e15bd3e7bbedb8dc446298619c2a3a8c432b0a391cbbd951d60079f330c5fa73da77b9a25596493ff19399e4fd80d1670706d9e4b1c4a7ff1a5aaa969ec089b2e2797598b7d15b65d64401af6ec842d5fcc1bf139194ecb531c876434be28af76c9acf5676846130429819b112e06716761e4a083cc888b4d97ee740297eda38b07146577ab372d3f37af093fa079cc677f061d9cb99943721c45ecadcb4b5d4a21a48a9d863e75093ab6f7312083a06a812c4ffa836e03ab49568a09994a027f6ab34b5340815d459dac3c055eb67013c3eeb31c72ec4bd09134355932dec43f3fd063e723220c5ea0bfabd2b036159d25cea22ee84e6d1d93b1fe6eb9c6ab1fcd90bf8f62cab932b4376e9c4707ad7528daa42bb65e6b6f9e773980cf10e3b795797778584333da3a04c7f21fbf8d03f12a49369fb5fa65f28be0f7d571dd7db1ed72bc32a426c874ebe3feb501e99225eb97c1e0426a12a7f37ff98b35668267975f6256a7aca3893eaccc28c2b43498fe053148dae6276ccf4e190316f49e16ad6e76d6ec9bbe9c4a57543cab52cf6297bff0dccf725d368e081f701e07c1f876fb75b96ed03dd1ed8fa84a4e6edb4039685977b7ddba79f6dca163667090700ad93b0ace7259a54ff6e2d2f6af8be2784bab357f39b5058909445d7f85bf2670ad5fc01c5325fe806134161c49de0d0e34954646b24866eabe9927f39c297c5fdcd0b1f62e46edc8524312bedf164606fdcd0fef9b3fcc385615cab15b438b132c65c97c00a972cc25433b6db256d0da3bac3639e75470d7522f3a46033cbcb7d7f432092baf19e4588680afb50d32d54cf4e773275f48609bd481c254d13fa739e459760da7c64aa89c447dba7d8a948f3f322a6bc4a92d7c1af76396e41a8fce8b45faf93d0864ece2a2100ddc3fc170ead005d2f489b9834024b38edc8bcd74eb2c21d34bc1f5ac5e7c309286941cd1bf35715900d4911d5526d4b248afa7d279d07919fd1ba07abd8ba480caf648fde611c2bc9572fc3c347ca0aa856972ac65e63b40fb5259b62160d392b0d2a2f175d3405c605164ec2b47b59ce5f7ae68ffe05cab38aa68ca74ce18e96efa8ee768a5f000a679af6d4395fa97c290fc53db7d4827dc9f79f03493335de50c4bd88fa1a3895d97f8b6e05ec9b6a3a65749560a2b0b86d8fc002ec7c04755e6529636940a5dc7f7725a383b7737e4b8e35900dbb19477b34273cdedb7b665a427e25235b9a553f8d3ee77a5a156de1a95de4a156b30d26c96062f2f57157b93f4c34d38d7981fce0ee908ec87af1d4e96595814d96488b7ab59d2e471f6f1f82a185c6a8b4d263a1c56742eca5af8b009508958333086512e15cbba5b5e3cfe09b1fc57f87ca049e6b067909bd3be79c918b765fa5b438755bcc468ff50ade35955a00b4c6269ed96a6b796e80aa492a42fb5b567ff29f8895379e3b542722a97a9403b1ae820a5bc0f92d80e89a1de5226e9ff848ae8268550aa3a1763a647afd31d732a018d60de63d72d6085d2fe8de0b1c1b4a175da6a39efd6d90980bcb01ecf1c16f8954e835033aa7a24300d281c4178603f342af295f037ea57d4340139dff60ab71d4b5b7c95cc733426a4a6f8c79f4a16c32324a13a55958d92dde310bad9618eea75c03444ac616bb5a308268c799009f6c498fb07b6cb80c9a1fa793f0289b78078bb221f7421300d8a36fc8d5bae88dc35356c289047ed2650915fd2c4dea83ba849077771588e850fdbe74a4c7df3654717f36440784af9514159a771942714f2a4de65d5293668167c2df1d37f614ad18b20e18e8df7066bf29f7de95bd4559846870ba8124cca56c0593d9c2456c40ac716f9774a63b28f933218e770da0b4c4e4c4473159f06b2a67d9f6dca64cbf0af444e3620de343a309f96f61ed5e71673c94f313e4d3ad4ad2de38d11ea4e62e5827189e6aa2b816382b32f0b72f59b0866c72b0d055c4de1de355ab4241b2235201d891a7785eec49610cdcf6bea2f595079b3081908c294030eb3603b101456ed829b19b9c58ecb737aee2376c161449eb5e8db9c6311919acd336e86d40d014e547385a77d0356ee6380a723815daa42eeb99897344c79967e8dd307ba275d23197d551dc8462dbbfd3e822bb14b76a999c3e4a32ba40342b3532b4b1bd751cb919026bb23aa5cb8c2a98ccd22cef22ab9c8a371a4fae6db7e618c68e7d6e1aa7dcd02e403d8e1b68c239a04b534e08dc68e45fd60b5483437c1abfd4485201f3656d1c7fb752c30ea72ef3b1b2bda4f1d61636c6243342e0d04ad756ff1a2821fcca6bd17c052f9b5ddc4ed0de57db5df4448216b74f8552e8fe578ae5cf844af2beb1896a59b3d0e7c77c057030a18ecb70fb976bd20f6ed756f93e7a1e64955599b145fa12dc91920ce1e4fecbb303edb17de475cccc8c309f173902660ecdcefcde3ff5e633298ac6bbc0e712b464162c3e1ff687ce59ac90162aa327f8aa6de3977998b4642a3336e773df472a5a37fc14876efeed55d04c5394c47d453f7be219fad86e916028b83d16e4b613b9159d5a5912e04fc7865230d170ed0d1de82d5304af1646188a31441192e886b5499476c130a5cb751dd74e2512f3948ac77127af83676b479080a02c94efef2d418df2c079ff899f8c9b4347e106c13b4a1d1ae8d1b7fc6b72b32c35fa73844b8c6ae50c9f8e694f4636c9de2dcf40c752512d019fdc6fb799f07de65ea4d55c0609170deaff69714d0ffc8d7d9f2b414e75dcd72321cd7c82d6d83281f8e1d8c90d0d19ac3037ae6d532cb5dfb1f926c8a9f1410cca7c128296a611d4813fdf7e040ea8c6e6e54efb5b8b495f46881bb2cbf97722bb916e9bea4684cac34335e1ed084fff6b81c309f9eb4419c5252565176d7cd5e0cc47984d4d7921d0ef776cc074fc573d61f628778c4d92bf1160d43504b51517b69c50c6d1fdb590985f82b3072df3cc811917286849be8cc4a320a8c64261712a1a6c81366fe5f3db206a3d251a7730eaa07b3ee2abf36a574c5c5d89bc3a7e6a47c8f6a3e46e09bf7a6ce232605940a2433c83bdff6947261ebf88457663e636b9cea2daa27a98f2b8d7f599f2197347599c5b74705605ce4f9b0f80b8ea5241c3b87002364c170b2520c160dbcb37441b1d053823b3321ee93a6cf469b03286015b311fc6aefd3c2339f47acf4ed1a584badf3537dd2fde46d32fce37aa3f0e53007c742a64af9645988b80bc57a3dfd08365e120774fbfc5d85856645a79eecc5a0b6d59d7e2ee5e8064464308a21a6239be8f01a3b5d304e9f823c315b120d10a8d6e0abfdb292048ede5f21267e7b6a5661564bcf37177f12fd94ebfa25cae3e1b4a7c1e80aad1e6a0e86d89c3b599efa778f14e134754fe116a2a99ea67620cbcde80a9db12ac343480630876103eb725f806510cd8d8e6c9ab4907ed4dea525a3623319aa7cf2013dcc979f65d99e035cd4f3d3805dfdee93361de8a1b6b3f84a53bc12e397f38830a7165c5930c85b4f43f29910853c0f22faf29ccad9d6819042fd0905a8e7c15b57dccf65135b8788b222236e35283629695ceb0a1b144fff7065c460970099ba00a441a61644f88b66b0467f80d8813f9f615be3042c10091ab8c2de411ef2ea784fdfad0256bfbc88a9b7df3325d5d1dd98bfdbba92321e0770660085ae7a21b5e14e0d54fa8889fd5cc474e2a44b1000776d1f9069441dd99ecafe0015599114582710ac795f1654cd81c7522f25aff54f9aea29724bb7663c3320d08489580bf95c06bca290373159e214ca01da126f8c22b30ecc64f66a487a0e24fb7994cb34381e27a590798e6649d8845076304133e9f9ab9cb9af7fafef808bb5b7646199867cbae3f578cccec8a06c66f00c5043bd17eb2131631e928a5345df540513b85a56990ddd3dcb6b84893fe080c6ff7b9de18030758f8dbc3000f1cf3c3869354d1f5782722e34b77bdb7ef8315c725e5462c2c125fa0dbcfa1fccc7b8575ca75fa441f914f31182b6e76a64a0e64082c69751785bd8da69171799d1612ac3239acfce8b5d5029872ee85ba731ab0985dc96d9d7fdcbfe973e942b44614e9099a8c0e204ff0491ca1158cf15264bc93634d46238ef4fc02ec65c8e588d7d00ef5165e4d2562253776cc26911fe0afc6799424d38e2086986effa4f736d8144ad2ae7b9a01b24abda65f3f872bc02b7ed88ec39582c69db57cd10f17bb55473d36ce75b5dc1d46ca27dc042b36309cbab4e021fb98256f1a4742616f9b4212069467da12a36fb57e2aa0ced31ddb69fa6f5d5d5998c471a1574d945d496d655a1268a93834c1adafdd7725880e00cf510d3027e7c21e7ad61fc79868adc3e4ea5283de6eed95620ee2f29f0f37a6e0b841e4a77de8eede37a203b1d1519af08a8942648358d87397357b4ababc8f94b91b270bca158a6065b1b0198ba76d345917229589b6ae04373590ec1dd4d70ead706e14304c501fd62fc63bb3aef9c28411e396c9f63cff73dc8a5ad1fad73ac68306615fcd720aa05a21b70acbc8348c1ea70467f9557ef04c73cd514d781be4f5b6359750039054b84ebfed89a0484926b600bf4d4d34ff1c300e3d9ff8806ae4229ccdd542d5a1f2409357eeb4ceda5d6d8975c7a2b20ed891a2b00819159b78fa128bbab7fc1b712b11d4efa6cb65becbabada8a20e55e89f97e56ef2562545e7aabd8357f23cf0defe79d3caa1f62994606e9254b52deca03cccc8ca72753f68298ab95aa24e2997d3d901632240e3cc7fc0d3696f8f6a2e4448aeab63f68116c3b2844759c4fe100f4fd6675a48ccf19f3dab6349a8b7a5bae303b08eafc97ff113210f831dff5f2e12f5c60a5b1dfe5a47a732a220165ed77bb9c43971e4c7338c80db4085ed79ece83fa016696a78fcc102a707a1bff09138d3fc48475e418cc96836c9ce31d240139d2f8d4645d051685fbee02b278d6d577211b3fa35e376706e4fea96e0320f90528adc3b05e7d489dbf46d7913d9631ca4487a0115c3e25f6ca5d41ffbbfd4003ae81bd1d28da1aa9288271bfa1e42b4141ef7cb9090d8792672ba08ba6f235b28cb587990850df99da0f566d0be29136a9d45a148d2e974b4b037ee9ac38b0eba8563842e1036320247f34a69e56e37f01222dc92a63c7db5cdaa2eb2e3aaa9be7cd45a254c86b074f60a782e1f3e59a23716b9a4ae77120d44c4f193d3ef7022b655c9a1f46ac0b08e2f1c92548f8ba2a814d06b42a24a92af3e9b5fb5848a6d7297583613dcf05b48365f1799c052cbb60929ae91c706a0f3dc5828e2be79c5d9642364b42f9d5615f904071a063ba14cc506d2bf499d2304ec2416ba2b0efd69b7ad9f33d7bbf9309440c88a94b349ce63789b576d1ea4890f25fde81797bbc1da513ac0000a618c3890f8d2d94513cd401b0f72bb690df42861ade6465d5e96ea5f80a244b8df69c5888298a99ac6c56ea3fae4a37dad235f08a04402b854c42b2ac43504456f881824fe2184eb3605864d9f86bb54881c1ae4c968857d5066501a26ad0ab7596859ede4ddd87f17f5c203b383137315379d3b0b01fd62938d86cdbd53e4da5c6f25cf6251f1581cd8d920930acd0f0746760a9dd57951bc49cc7f58918ee2ab61c07d8f09524d46e8678eaccc4052d41e24bc05547696c3451df20927647deb28c081d90c758b28b6635f7555ed1bef719b7b9db46623abe81aab1459addfaa65c526f00d08f2be2d8359d9d4c8da834242419b5d79f9f09174f2dee0a0b1b4276d1b5b96f292744a65def27431f918c031c9693f60dbbb082a6b29f39abdfdd47320874928570328ec9caa2b5b4dae393733f7ffcd6bfd2f915735f8e6bb23e151f7123d96d7bc723958d47417411aa0cfd27605729eefa83967938c68ac79e50212a1e2e279ce896f57c79205eaf1484669cc4417c099debdab9abbbf4f21d66133707024b6b2ac2915d93d49ee4c96db58a14fbe674af2c48ec487bdfdd03fca23b2def850b0805a85890587db6b3f29319b9e0665624b10918c8dac6cc638cd3e153d5ef77cc767fba087a71ebeb1c2621e22b30ed807f46e2abfa2c8650a83d287d6b82e5947159da31263ed93d7d9fa3c19a00891c4dc5aea6c65d9325fdf90ee92bd27a8aa6bb0d0368df172b538c3795c39b77e9bd1027bafd9e87b0d2dd63a59fb2d7134304824bbdaa4e3d2eb599245be926f3957be40061f0055d14b7eb784c69fa41eeb391af77de3c11f5acdc90940d54b4f181d8dee1cf3b81f96c08359c56d778901448370ddedc495051cc281ffeb8dbbc614c61fec631b2ba56f9f0f43b8b24728db9c1ee5d5582c41b545c87a317faa723f0e1500189598dc5cf47320123b05deedf37e492bce47c085f590fc401f6701150d340c7377b1879e09ac73fb2f4852755fa192e867bd50ed98fc6a9094b15d80cb0a2e092d9015487bb42c6dc7eaf3b1f5956aaffea712f271e5ab48a0e3fa53f84d14f217c206283c627953e407190448fbffef27489f2f8c003fdfcfcf5f36861bef7d399f58b95b5fb79f4ab391cd29a0b32f8ad725b7a5624b25fb144bc19e3e987a9011bbe48b92114a49027a86b4a622ee8fed9521d3c5c367e3b7e184065a71537818f9a5046b381c8d5e06e88ed62b8f7af858b2d4f2b52198e746bc072ba8407797a06a903ef8a84bff7c2b388fcb719d7d0f74abb997d29b21fc9e3c7d5969c7e11cefbc0283fc0a741a3d1340120af195e5bb67c017815f67ff9a79b4007af6b1910c688b986ee31e8a658fb1c9fe86bde5211d643d4ccdb4fd52a8f1d0c78e287ad9106e6bb8440f791ceefd5911624650aae3d59f07ff120b39d7e7c5b519c1fc00be966f6751e1a8cdebb93ad50e84d30beb41fae7a5ce74481cb77d42108806f80c103475196e2785c7d9fe31bacac36e257e1bf85514cae8d1f2073530477a2be282fdf4d0a01984875d4ca520756a502933b1896a3380903fd02a195a998eaddd446390b4b241e12adb6794ab6f6df5ab3c21b4dc4f7e6955150ccb1dc4c190ea025ecebb9ae0d3361aacfc7d461a0cb0e196da1b8500270c5734656bd47965f36e8d9c1f20dcaf3d9314cc36ae647b6a1ba43a3dadc9502cfc7d39fa4a9cd811fd5c528b4372ab505892ed873678d3a08ba7efe067652d2dc2a258578d1c9ff5872e022ac124b3ba23a2929c9a22fc9933805c0db389b4084b0e1d07835b1a701801e28fa36d047dc9bbb299630764cada5ca6308cfba47e421c9983dbb2aaf91869d5258cc8140052bd0eb190384e791aaa61269b845b619ed9e760431d35b3964f39439f307832911c7d8f5f65bb03f321f29da55971974b6fe7c9e5f37f8e7c3e111092cd85c07b002f99eef2c998c19459724abfb68398850fcbb6cee426d648126e568f9ec5634e5653002a9217fd3035419f378e933b0df2e8377f5ece8064d342fe999db19c7993ca79bcb3a791cb01d93ca6a662864604abc8aee0abe173164bab41b870788684bcf1456b9c3623b2dd3dbe08774fcee802024c487e6ca4925b9203619e6018d5ef07c1fd955a77295f0be1383942ff346f044fb03aef34fcc60d78e200ff5cdeb7e611e1aa3d04b31b59e13970e4763b4228a3fcebd8e1cdfe73f41ec5fab023a781e0432b123f5ff8ce08941d3161099750cf993f8f7430622886a9c5bc2b92f2d9daccb28bf9b60f930fd3e72aa7090464a13f9bca05d62a1b6570ba99c91ffe026d7c069eb8fe29b83c19180757b6728db04699298d12a88e690cb8d9faebd7fcbba663655b1cde18418d6cf7c9f42a42b6c6b7687e34bfd2dbe0faaefceca3cbcc635db7ad1a9b475a4bea8940e697a98185f1e8bd1b9ea61305e3a156506371effd70251e369898a984a109cebb9c1ed479079ac716f6df630338d78d861dba7ec14c2170308cc1906868470e99bd6866bd89330993f8263b1d65f4ca91aae992770f1ce88e6727d57fd142f525da21a303fc7edc80ea775113e83621609251a8d8d39a70f95be76191bfc8f02e77e4400a8710c9fb3fb9bf1d774ecd71a7d08f27ed12f49612be08982f722901b17c7a9652fe1dd5dd2b037a2b27a006a1ff69df3505de869cae7f8a7831945ac83c20cf648b76ec4bf7db60c39a48dcc6eb32b5eafba01939e5eecf9850d158142e19c8c717799f1a61ca005fdd5207b34c4ddb22f5e1290fb48a5e874bbc8506afe657624a9b3f7885d51c855a31e29d8e46f92167838f0045bbd0e416a0a60e17a99825b509bbade81b3b805ba71000eecc95feca08859b642e55250012019d190108db8e8faff485fcd35044d69c75561b8cfced697c61c2c739468f85b75a3247c3a50b084e704aecae50d0abd6ad199ff3637deadeffca21273cbcfb1fd3e3c271040978829880fd3a57af370a942bed3282b19d9f3c969d7b57ed6dab0865b7d204fd08845b806699d5edeaab11e857d62b24645aa8bd7ce7013d4fdc0f68527de02a72ece82cd69acbc688a7cf362ddd712ae040ee820c135188d9ade3b50ad1c55d233ab8effdc07a280a284e09417fdf4ff624a155b73912afc0e178e9724f5cc3ca7882374b750cbffc84467a30e7464deeb2994ba7d21020e2c25e22c38e2ce2e1a5365f381578d47170bd243ddb547e01b5f9be8591a8edbcc5a7a9630f35be2af856799db156e6dba007e22bde6e3047672c41a507a15982c802b0bc9473a26d53055ae7bb3e85163c7e6f01d75bd7ce25de665044f644f7713518f4a3fc5d8d9e1807edd95e48d05050a5f17e3f4540883861fadf5a8c0afcc71ae9754d621345eee336f95f3e90a45fda641361db9cdf598a8f143d3a93650b4db621405d3df914a72a71e9aaf35d730014427755aeebaf341d13cf5d66ba87c9ee58d9cd2c8d0e4c579f97d0ac446c021b22ba16022efc328bb9aab227547dc8b2dd78b91a4f02fa07877c68ab2a82c2d50d38fb5f2d7a46df14e2bca7b4a78061de1348c45695f0af29a60295670bc8936585bec75dedd2461127d731a090f0d63ec3cc62db6077419033c1ad71974ec8d32ffd7eea6eda833a9dda913fb09d8c6e29270536b4dcd78a4c1fe9a38316351434ce9c6efa9ce9d91bdab4ca1c3f3246f34645d3481b4ece3e9d506590ff238127c8b17f701d597bde41c9074186aee0b73967371a109b57e240aa5284502bbb74cb74f802272f21716f93a2bde0d2e1f65e9622998eafdd5ad1d21c51fb7e8dc89f1b5410e6018290c7fa5f8c9ea54b40a9421a55d1d6ac8efe3abf4962bf4da01fe8530f47dc5b93b415609f232f7ee99a6aafd180c804f51f7e690efc4ca6929bd4761fe8329dd7a03dce3a10c26d0beba527030fadbb59ab4850bef96f1f08b92ef67356bb53b1daad41e7d5d9d41bbb4068ced660c9582dc49aafbf66770485135352169e6661a7a06c7a4738c0ba90dc1e88488efc22c1dbfcf736ad9254d1eaee6a7b60c50af8587bc91b6712373474a8fab375de2d35a6dcaad2fd4f42f9022622accd815cbf20dd96bda40aa413d4c75834080cfc5a81091341b0417c90874bd439c5977fd25592d8c973d07c8e852e3c978b0e4140cd0ec4e90a713b172426d7bdf9699c3268805d1a6fb22675bc7c94e4ef844a96cd3fecd8f0ea00614b692efca8b7e4a99dbe63c4147d5ab229e738fcb2e71283333ef28a5cd673d7e1812a08c3c7a394c1632b8b3a4d7671c1128f80ef256dd5144f3bb0e1e9127d3d6a3530af1d6dcf3f8b8910d4071e4cc6fa5b5aac093173d9a8ccdd52d1d3aaf5183a19174c448fc7bb86a640a9a47b5004941c529d2c41e8a4fb0cb9667748a25112112bb995789e7c9c6d12f15d54b0d881aeaa93fcd57380922268f8fddacf0f19cb025d59d917709c5ee2b70668d810d49f6a926904ed69f364b25114a963d3ea2d663bf7444e00edacdb537f13b3e859e7ed1050f6171fd702e1fad42a4bbc5e7c19d58c7196b7986455518aa4ec8dfdedfb8ce8f86c80c167cc56d365f426c6aac1dc41b769e8aad27f4d9b29e0c2cacb707a58a6b656fe3bed4878cd3a5e4feccd648776725fea2b754f35dcbd19736afa190d3639d9ee6a0267dd16a28751e95e47703404d3c3d8aac627060ac150ae958adc6bbe7074881d9caa65b50a5b8c3f98d6063d8ac98346f2d04d2436f962edb07dcaa80407507a09d4eeff504d7b15b507b189800a609fb6bc57755910dde88a1c65db37229e7be4d5f41f70e6d710b9639fa25a0e30912079f9a3d242deb4d53aa3e0f8f57c1a2b3429f7ff9231381f5e5a3a1352833718fc8505f29223caf2d2910c178303cac72b891294586cc41833b0c501f257f8e9381e3f608e2031b27372c70e10b48e5d627b4845c3a86f7ea8c60c8fb92d74b0bedffb8fc8ae0d21e37d17d1c187ef81b0a2831e71df82f7896cf4b9b39ecaf004eb60890b18ddd87ecd1f4e3e2670129c5bc7963f49197aeddf8499e4909defd3a9d04eb22cd5e627f488dac8b0abb1481b568342d7f023fc46e0c86353108dae423395ff0dc753a4a4915a995e31a2564edaf2a0f3704405082d18f7c3831e7b4f762b67dc52bea8c2829306da96df5d3e74ac72f1f70bbfa0901a318792e14c84950a20a862474d2dd4483de3555125d73361a1ed6bff71001a9758c67ac14cc08a98d94227bacded4baf2411f0a7b34eafadba959fd185bee4e667829c1d627293a05f5aef6a8c47c4cb7aa5637de197da631c252ae7cfec431bfd824e2f32356d90cb99e858ec2c078f19a3e0961ff4f086e4daf8279dd17f9e86c2b12f59fba6d81a3bacef4c76f77d547f71de2ced57ae8cd48df7d4ec575960135a152b35c1d361d3fbd6a484dbb6df25c28df3893f018fb095bd1063816cd278b16a79357364ff5077e612ae19fe32f8e695253f471c3205feb2a1d24aef62a267962df371a32d595d84ee71a0ad80a0f7a9126013c20265fdc0ee28b7cb7e6993f1da322ba2353b17dc746b34fc58845425bba6838302bbe86c761d8074d782ad78934a67cfa6c540bd7a7fb005941cb5bc3dc2795b0b2e27ac6c0b8cbcff42beac3ba205c113625ee8057490f52d795c1279b956df2d0cded614d5ed10a1dc69a02651a5556449c4e21c2ed317817899d8379705fee5911dd2ac7f2df2348e980d7f6da44417314b216436497925fc34e62c5a1fbf1ae2baa3fa3eb1d7c34509ef23290e1dfb48a53956694e6b6b823f57845c1b530e880b925a4ac159689649f12495260604b22600538e1818ea9b74adc3a95c07dbaf9d8785a490d165cfbd6ae3e61b6acd2dfda3ed9db5aaec31ce5a5f1a0cebdee4b19b76254eaf53088e95b69551dbf8844817bb462fb875c28457fb68aef8d611714a6fcd2386182befd8878a290ccc24425c246bf11e79ac629073f77a09c6ff5267fb0e78785b85cfe85203f1d6f7b3623ee5c0136b8d8e34877a2439a1b031e5568b63c957b7bd4d84cf5c6e2424f65959e0f88f06a972403f126b193118bacae324d0118dedb966a58fba798c13e865b5731f550be338786b983fabd24aea8c43e3eb67530f432c40b2ec1e715ee49cce040c9ef383c7b3b2f6bece55d5a5845bb2bbc7b44f88145a59b2e640c3207acc322a118a3a705f19376f6911d3edb8b72f8378c46e3e94c2235eb665bd9af8fe71582c3e85d9cc7627b010a277f045e0ab03a65e4ebc387b54089b96733760d8702ac3e4cfe1cf6f5f368ac44c30a2ef425d49e837081357681f2725f0b7edc64261766a3a81b4fc3c91d797e6bb39c049ad1afcec6ec5478f9e0db2ff4526104d35b7d3438a9e2afe48575f4eb4b21048f7e5ec230db8a2a1e3b8e4db59898891805cbe6ad772899eaa205f75a792dcb70ad4e87254902ab17edbc27a532cf9944179a0d7bd341a28cabc1260d397cc02302ca1bb5270e06f3aac5f0addff71ade187663d665f8f8cec8ef169ee1154eed238b7b10f6a2b4604f0f80ddf6da3bdd7640a46dda2dcdcab3067b2b5dc24c891d55c179845a7af2ad6808dc442fc4adf34c3516dd785c45c0a62e5f223ff52e8ed01c0f42bdaf23b1490e5af138bbbf3d3e1cefb17bbf929452fa70ba5ef0df265cdc724c9e72b7b5f0c89456319d8ef0aab83f53290a2ec792a2349991888fd7372dcd1a396c648df43005cb4ce89fefa3effa759b66eeda668f835a65e04e35d9585d275b32ecfdec0a1c477c35f7e40426c0264f8ea48ec8458baecacebd65cc5ab290ecb68b33cc4bb565442cdedf152ef39849a911ba57c2564e58e6594376a67d1f25bfdc9481fd51e35dd4518a684d91ff7b436b6885c1f256ed322ae5fca2d5acfee8295fb480ec0fcb4afa92e5d32bc4b6d7808de0601c0708a218fa473cd71b25f6d7ad03577158d25cac296ebf4c87b6c5cec8b6a80f6359f5caa40ba22dc97cf88ef4f3de5fa2eaf4b5aa6049af17c9fb24c60b292c09bdfe851f8bcf32850693ad80852438fbb6ea4ecb3ff3fd262c6fac49e4fe885069d7d7037f8832e576b5aa1727d9b28b21768d87985317f35472b8d7f6fcc1844d3eadd0a965885e187e756c81fd87d8a01183bae49290ca5685321af83044dd8706801f95c773c9f0a5f4cb729da1b03416bdcbe395152e8b01391b56ca8ede372cc2e3bd54894b2fa9231ef52b6a1c3eadfb809df558dfc68774f2f9ff5e963ab93b8c3d70d1bf3c482e9f84cd7db23e77ec40385d693534890565a1657429ef6b93697acf97b755126dfc4184433adc6527018fce3224587a72ef7d0b376c2de6a8d6c3a3142aee03616cdb2caaa980dd2976aeba1fa1956da07e02a6e3cf03d315e0fbfda36c081de63ffabb750b1f44454522baba816ffa15ad659563d73970ccaea96e187cc02db5a131bee1a40dba029897dd39ba6ca8ffbeb7f4c31c0a638b5e9c5912cc518daad36349279f0e03967febf85234a93b798c3435bce94aa51bde56d927f28cc867ee5f7979968f5151b92eb80fce856cf358c977d62319540558ede7bb823118a0ffc404b9b8f97967699e8e189b5c904587001fefb7258e5f6676c9edb187cca974319b7f64173c859062131f0c11f9725c305de6b55193a34afd323a2175c5c87c0e1c6ee227e6cfffea69257a0fad43f9bcc39cde83a6b6b6691927ee16f053a73e80d2a296d4f4b19221404a532e788a575f6cfcc98cfe31419619ec47bfd3e2f1c7dc2dfe2cf524b389cf07d8eebaba3303b7456f9226c7678b0341e9f2d2641ea72487369cd5d00e0ce5624d4a7776ccd0754b232879c006a9e4f78750ae180cb7a1c4a964470c53af2c097c252a84260b5adb2c5486115a7ae17bb7c226810a12b7a2581cddc64528276b8f8359ffe0db8c7ec25ed3963e551b429d3b310d523abcfdc6c8bc3f97041e3293d71652caccf968aeeb0a7905b57ce2c79b052f722ac1847f2bd3c7d691e2d29abe55505173f15c55db12d45d8505bb01a1c2a50fb3ac8c3711e69153dd8027544277c96591108f0265f8cd9041444fe9e9f9c24be7c4f7243a2fdf90987dd46dfa52f96859ead5823aa81766397a3192e2d847d14139986ff716c116136d78c871db0de8d40eeb7f7a09b9b1c7f35c6eb90f54fddd806cb637d0d032574e3b17b14450669dde0a21e6f6b272f48054c0f47a73c3f2a76f44649b1bbdec77f78525c8858145e480402d1094e9641b9ef22a0f36335a49f770946d6612a5376d7832ebc95569c5cc2f880e8363294b80e97ba77e68800b3ec323de3dede7201a45081285a09118b124568dce2fd4da926bf4a485c2359154465de19f5860dc22286bfde13eb0bf86be8b4f2c29d976371448bcbf3520b889c6e7b2e5b00236964f13342f2ce78a363a12bf5b010cdf9cd1c08a74eb59e739bb8445d94e03330559052224e9b7ca595e15b69e12f3f89859adac600335dec7299602937714e5a45862fbcef76f3320f5e3f63091c1acdc0c7e8c25671a0ddf6ad4d97a38922fb7b879e225216f713d660e5bf003cbf2e02e9231dd2e57dbe14e4c180e4dfbc5b79bf6d15645444487da480388befd99a923376f0195f6df25e847883545d421e618951f2f901028e81a9b50ec092affc3552fcdef94d9c32f99542b2a75471b737f96136e663eafa13eca1dafc0e3ce1bd20862d3839d534373dfb4c25222c908c755a4d0762d1fe4224d084159aed0359c86bfa88c4692813b50d1f674b0a5e1b475ecae052b559a8bc9ccae3256aedc86879205a2ca4e1ecf3d281345a0a50baf26af3676f4c45c3703d930be227d6017a1f894db0f358b48d7d1d33424caded83c3e91572993f4d745c44f44386d22c8200a720b52d5dd8fc8afda92849aaebb72fa70acc1fc7d9fc419bc35920649e8edf2c040ec84aab4f966267c6bf4d0c1b54fe22c0dcac9b8ebc92413cd2089284d712fce18cdab16c7b091ec5fdb7078b9942544f1964dabec8118767fcc01e683e88c4d85e0fe12f16fe4e5c85e1825d578307504aa51cbbd58ae833737153441a8fc609426c9dc3fd3d4090e9606656516d8248719ece850239b79cb8874b292a23e3c00672ea45e7541cf01d3fd1d8a971a8a1a87f99d026491ffe3422277bc06d1b52d33f4c898c8cf33d8b8a61467f6ad5e88b479569f90d9fffee0e1702dbf68cd199361b518abe4c1fc5aeb2d2ea7aee792266d81b36d51812e0fc2a2aa53c3e613fe865e83282db96037be1f43c2ef6d7f033f1da7a73a691833c2e2c1e0e507facf3019e90d78ab9d28115f77ba8bc08b92b16a6d04556c7b863c47f555b30a900a2035308244766964e23bcb43e798a1cc84562805b5a775f7de85d045e46c6b49cdee02e58f4a3468594d8e8bbe19ecdb9aff2bbc1b3cd023923c2f1b61485e395a6bf2c7ba27ee81d778ba4d8dd5aab0393bb032d0f63fe7b2756b523c7c93ceac4981dd2fcb153084a10c23576d4e573f3f64c10727c1eb1c1f420d050466208e8db37afd9dfa390d49fc8270c178b24f3f35fdc91a3b1708cf1b3a7da0a5b02cdf9ab33d0803f1dc9183f47582958801dd51b860b94b1b46d6f93f6073bd8d6c8a622ccafb186bc2aa67a274cf544083e036f61e3731c7e22e0f30b6dba214fa068aed424b0e28293921967b0537deccce18bccfb954f0a4d94532e0da73332b125a56b7aa0cfc31b2e32e28927cb110a62c4f1970abfa279f7a88fe3a2acb3576f442b011a4287fe94d87be70a97df0a5a0e004ea896b048079f7628f824d2cd5e37c0ee1e7deaa41a531f7784e2e48dd63ab6be1969e59b4c432d0d007bfd3b5022922359dd457cb3d21cae56fb998a429f9c55eade004583629e7ace68ade71df71f07a62d8414d7d19f790444d09f3b5f79b2380d4fe904af91de83ec2ad1fd31f393fad4ea6af6fcebb6df1fbe2997f212f5dc0ee30d72c38d5b498de64a4ca993faec0a6655e0145f8be39e71b446984042c00cce83a121a32e0b9a5f10b05f78a8b19973518ea32e8170b511b98d82ed0a94c90444c0d0f46cd30e07a6b14f6e7a1d979987d4a253d5c1824765e899e5c091e1a6b043abb38fd787847fa3ecd897c5f78a83e5e2f7dfa2f139184c7c6b482dc755d1377585161379c61290d8636a5b4cb060af9dab1007807db61c60bdf415a7ebc21a4df5fb4eda209159458547fc0354cf6d23f30874f88b9098aa108d541fc1be720e4eba156d55dc0266a5a9ee6a8e1cebc0690ed98be3f931612cf47933e36463bc102abe4349964e0afeb4d747e5df8ebb64fa761421de70fb3380646467149cc6154acc7e2561966ada2fdae1d763fc00668b0368abe78476a95031c5549296291f0a9bc84fb6d3427a98d24aa2d9b486733196858aa9c0d31e1b937df2f299ed957935fc96bb54b4fe1db15341d72b917e6b0e3c357367dd97973cb5e397f6013ab75466466e926ce01a1ddbb2f2ba76237812ef2775f2e11d2fbd134912d3a46402656afb8cd4d299a1bdd1e3838e4f85ec94da05b52eaaa2600407bc096b8fb70c7a5ea5148106bb5c41a2bd896c97b21b1cf588f52f51aca71cad30717953a5a96287f86056d251db659307508b87fa497e9592143454c45af1eb62a366657ea0b9a14d24d2263c957c4c1669ab4fd76fd5b70292773cc510b014a934c221ee008cdbffe473ebc39ca21c397d0e77931991af8bc2e51f02eb6e803fca688924a38a85b5fe09","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
