<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a157c5933fcdde36a8e9d2fbaad814ea4ed6c9b4842517e8ba60330f9de9d687c38b2560bd89083ca7bb75385c69ce324482e5a22c919573c3ad2431f317b5ddc1e7dcf4b927629ab47656c97d83ad8751eb89fb784e56a2757280b8c8f672273c47b6b459c17b80687a638dee9b24be7e6cd66ee1b93003e0df19172ce1f447f4aee30e5f02becc9a92056055ab17dc0c20dbca3ff390b825ab981e7d3e6470704bf82771de3723b981c74765913125615262814fdb34639093fbee5b914724873142f2c7eb6b673b152f967b1b5f13e06824cbc0d0763c6105dc37906717682492066e8621fd72e3136e94cfbc1197e39de9ee8c02ff1b7ee3cb2cb721ae49fd2ef0d782acdd037ef4aa5733884aca6ec993e43005631da53cd510d3fdae34442e0653e7111a8f01492eea4d1ca8ad8fd8a9886bcdbb144c551a6d883f6615bf9f491869622249215aa6afb393e3ab05b22bcb4f405d83afd23c3feb1bc0f2f7abda090109b97c2a7aa95ac5880639c5bc97c42bddef53ff466ae53009d21ea40de682f9f936fe243091deabbb6a3eb0e866f4705cfefe0a5ed51d199faf63b7a105efac727a5ff90ae88e58916b7393911482f6d04e4ad6f5dee2dd00c531ef3bae2e4ba8a064a5a81a0b52758c3e857489c63c8beb56524c0d32945c995898a862d954aa92450b43096fe681eb60245b371fe6d84fdbd7b032646d53e2e7865c05ff2ed3169ce3a389e5c1d779db99034815bfef67e0cbc79d97ba696ba9debc50fd5d8a21f7a719e02a644a657570a3778301e4f5bc452c2063367a3d6ed06b36dd3e987592479da4396c1c1004521868f6cc3eb68007f2db300a9efc7a2f02ce05e00b2cbdfa18a5dae5444030571a985321ea526c8b004f065f73395c3b8c1248a4a54e5027051946ae3f6122b2863d753addc905ee6f81b59711f7a65244694aa6e0e40089d4be3b31c6a792469d68366f12f0cc024bc2c226cf53c44156b13a09fd014fda1685bb7094778ec5c1821d90bc935b762486a1e36d744888ac1fe43142564de38c64ea9dd9e2877e9432a6e04ee7921f5867db28fc89f751df8552b0cced92155525798c0ed9065a77a08413502720bb3e463350d791b8d75c3887e891f675b1bc50221069730d6b749d91fd950aa92ecafdf3be8addbd6a3400d4ce9ec4fe5d1240890fd3057a957b92373fb73005826289f9fe6b1f298f0c1e473eb65614f913aa6f20d37db297bcf52a58a04a0898846a5a7c8ba6a5cbd286095c7fa3f576080e7c062b894f269a73aa05b85ee84f7570b9a8048290cbb81e16efcbdb50ff3acba7fb38e1931c28014244600ce7cdc9f91db540cf65f4b2bfeaa1ce47f737d5fff850514c5e5622f44e2994464b6fe9ef01872e4d7e21136026a3a6729b06e855a0996ae7e5345eff95207ba2afde1287fac19ad8bd520d8fb56a1f896d64ae728df9636a6ec344fd150a6b4eb81dd5563e66952dbdd3b108a2cc348dc9abee517c34995ba36b8128aa0ea726eba8aa61c5af4c52fc9587fa8c38b25acdd162bdfdaeb3d4acda26a407fc688361f31b13bef49968a082027da02005b7873376108bf4885c5198f1ffd3fcb3f63033ee8d855f8469fc122bf5ec18f0a9c2125f9a2099fa28802106e2e7699a7037846f400b2c98ebb34984540c18a9d1784192c709ffce9e4f5e7c7ede3eb2389b8780e1a31b8c979c6e0a6f292d20e0015021da24a5a3c3fef8861a2c01be8912b40481e169987940d02a8da068eca5bff58ce406ba6c974bbf3c15e668fd5f2b08d8cc0802a382c340773725fdfaaa48e7baeba97bea4eccb8b891ca1fa09298491ba6d7a86bd83bb9cd3cbc2c055971791d7720a46a52b7b4db2d11955a61a068482995e04b3238ec34d995d8bf83ada084488cfe477e77d8f04c71c3cee000cd2201269c50d064fe5ffcdce71c1ad4f77db6ad364a9532cd8642ccc905c3f8b1ac4c7ec39bdaf6c320c900d33d73ae612861e19de01c4407e3161fe8f81f3d526d05d70c0babe18968c6d2cbdc69f33caa421926d2ec329673e2dbeba72c6ca86de9ae8a5a1766516328d6c3f5a5c1d8459d41513cdbdb1c5d5238eac1b126074fb9b466f5799ea2a268dd1ee587af74f9766d9ce22d16fdf5ece8533f9fcf7716ef3d3ad5703246c925ebeb7f49239e22af415e9a9e5fe383ef900012a05be81519093df826c22b11517f83ed73b3ca77b83f72f75f50e16456730d5584bae8aadc7cb7376f153fbd15862c55d992072c8032c6f7b3cd991cad1ecd008518a201ed44359c9065f3455498333ea1f099a111b28ffbaefc00616c1ef3d06007e1117d8183942a273aca519c87cb84b7c173df199480fc20015a0b958fb1b7caa0dd562ec5e27323d6c02c34e8ee4d62052fd331b9ce81ca0598213e674a0e7f8fc8b570e540a1620873fc525ede8c8d91c0b1010d6ac41fbc35835a216dd6f680ce297566990de7b85b8caabcc51c20d2997f5ff312c453df8186114d0c2674b194c2a769a6a09572ef2fd47f7c1a1b05af31b9f19a4d83195cc32ee2784f42727ec0237f66be4aa976ec2736f4dde234c8b8c1685cff6f79ac7a50df8973f362cac4e9bbb8ba734460926f8354a13e4f412da1d7944a6ba5b53065bced44108222de70cec587234b1a358c31243ab5b09872269c6248e65ec97851863e493f1735cf20201045dafd709eba07f7cfba6804415e76ac2a3e1776c6fd205609d2d796fc8c959950f38f939e8fe941a6f38cf1dbc3eeb3821063b0ffce202ff9329ec74686d90bee6a213b494044a4a6662fea358d6c44e975bcfd1a0b7ad29e36e0db3fb3f62fc7ecd6946c2891700f08cdb536d3450bdf6ab65fce2e1f61aac6f1ea9f890a7737c8a2771d794e25175fbfc4f3b0992111502725611261dc9dc1c77285b27a93c60366814adfba8aa0e7ba2815cadb6726acce7ad0762607bf9558c2e2f1dcf53cd84070540cbb40f78ae3b1531be822380facc523588e886cae8c35b64683df0e60ce7ad44aa75981f81d84f8c67333a52751f25a62fdcb79c95d7297065d6ca6c2a7dae80c7de96e150e53ba8a46c8f5c6a17c8663e44c7b4c9ac60089f5b7d07a0fa10e1cfacf166fd5bde4bb63d8943ec4ecd67188dc8149f772e1d95b90b67d4fa02e09c0ec0abc59a726bd8f4f368a314e9efeb54a89f817c11b0911e6fbfc5fbeccb10e7ca5cdea6f9556731841f036beb8be61c13d6803c7f3f94e4495c0fd7db38c064836b134bea0588610172ae8e10673c1cf1a15964b4931d9e59773d5468b24cce0866bcbaafdf4af06632e8f86cf402b9d28d02d79f4ebdaaab2626c5bb884f468b243587f1d71fcdf1d544b83d3b7d7d4e4d3a55e70ca97c27c906bf799156fe8fbdd8fdc7f3a90a18c7312cc5b681fe93a436980fca677061016aaac6f37aed807322f345f26d957dba4c9be422a6fb87a3bc06d93e3b58c3a725a6bd75497053be8d30cf6a22cdb3c4130493ae51bf38cbaab44ddafefd192251a556fe1db8ec5222987105b0d141922bfa53bc3f667b785d5675a15483b561a8ec49a22ae35dfd578e6d61ee893b58c73cc83bfc882782fe551aaed0efe5dfd3155df8c1fb82d94ab8f7e1ff490f21f42f01ab3a3cb34f9fd5994a85cdf02712310245dfe9a7183c75b39cecbd9e50ad44336afd80efb43ee8aadf30aa8a6b74151916d1ac8d129eaea57a7fca8616b4d814fb2df0689574c5c4be1227c7c8d529f8bdd98deb1aab7a3a1d5b6e374063a21eab2693cdcf81ad692cea244615774952c7657ca7ddf238bba2d7326f205aa502ec58bd6f1f0342a41ddc57b60f218f4fcaca00d04465df7b0fbd0783d448570c78ddd722eb9d220d86fb00d2f6a52402422495613a3cb757c7c2f7a7f56e0330fd057cbe6397d1ac0d2b75e8d6bc4c5ddeaae3cb219b7680d9529dc2afafc64f6bf118ff1a3310b8cc967108ef6cefb5bce3d71b0da639df4ea805213415d7b150e7dc95f4c33484e5f16d669fca56cf8d0a016aebfe7492dd3da77713f185a493beebd811e3809b5d6102063b681b4256cc1705a781bd2932540f8130dc57e33462f49aff2b59351c7b94aca92b1db445770f83f6c634eecf3cb6cb0ee24b17fde7736a0ab146c6e5b774bf27d9857f25331447f7aa1a3fc2b94aa13b9bdb49662a1186dbd5c3009da8dd4fba83b52b8d830bb53ddebf99da30df41bcf23813319cc8a307a673a3f8d17a6086395ba1ea5da16ee9149a4670dd0f23e2490e85f59afa9eef120f18c3764d6ad6f5604b05d8f67b7c33902b9224feb89fc94f1c3a935d0ba4501ef189c97299700a81c36414c5d1d0923aadc8bf13c4c32022fbf9d2d8725f32a5792db03a471fdbc139c2966a70a12d3d12f136d32c6edd7ed5c50ff3928b3ca3379950c4b025be2d90c3bf244575c2c3b04647f087088b81cb80a20364814c84c87f6ceceb6356090cebc5d8f8fe598bcdf2c87f2e6e9299838d463b1372b56595d55f2e71308ba6bbc6e1155481bdeec4c99b527305571a60f7dad298421c39b0be265614e305ac8367261b1d77fe507766a97caf7d7c33ed57bc94168ba2b9aec499ced666844a781c1214b967a9c2960b8e56e43a64adca5e7ee6cd34c78c22de86e11d422c628eba1d5c7db1b9f18ac648370da405e0fbdae94841e129fd946c8f7a82a21653a78bdf38bfed58bb25e788df090506446ddcfb6f301755c971518a8a8c52058406d6eddef99427c1ea2f6d3d0dafb6af9a2f3a34353d561e0246c7beaa6d6e3ead9610b12e6bd699ece1b7f322ac169cafe01a0730bfdf0c3b2a149e577a0e7b3a0b68f15da08874cb1b198f6d610ef124a473b3538a57c100d497715f47f1425b75c974903cec3e8dcd92482656c634fa42d8509e83d9e7112686bc11e927adbb6a746daf62b60933c9d07ed41dec23011c0480f02952e08bd293e1f6ef60cf4e848500f1d9460f1696d96ccb004650306e4620d87397b966182fc53772bfe3f1ac70be5e0b798fcf647f12e10b0ccd9580dcfd026b2ae69ecb11d4cc8832a53dd1b7147f946b2b8dfd7f8406a6e124f9c26e7ca407190ad2e0a57e1fb8392d8cf9740737c1c7f0e3174c6b07ef6770388b7996e74ea216e6d12ff9e813b957904e8c31a0fd4000c9e23e44bf696bc2bf6a0e2807f6bffdef3e2c8bf0f6e8d769f886a1ca1bdea7101f10d1694e279ea10ec92e1d9930d810bfd87a4ef323e06fa518275bbdaf017492bb8e61572726d8519a8cd7327fe075bbe8949b34ade6b0155072f4ef3060ad4755e5f6f164fb395c63712efd487ce07b73bc9b20be18e79841ecc7677c082de52e98e4b38c18188c15f30ee9966fac7eb8b823340bcfa2a9889ea5f474e74935bf140030d5e2ffe126f3c579706ca7b567266208e22befe3b19d7cb5958ea82688e1c49e05ebddc8df75f977344a8243e10cbacc3b524b6358c8f1503916fe056bfb16a4ec8f3637f65675e0094a8776a62251d3c3c4c533f08c7a360f427518e379d04c35d9a12375765f5437b058c7114814f0010f1bd005a70de18319105b26dddce4fe42038cdd30076073be9e495b7f80e0912bdd86168bb4d38a878c62ee34df36bf02a6315e77109a67e7219dcad639f686207b13351edd080287c72f37d80d043546aaf5cf26a7c95a0f4adc176f8f0e916056ebc3343a1f27f6c61241beb7c5914511cc6866518fedcf4265e208a8baee92a3239e55351cc90b170f7cdcacb0112a7165074976785f3e63f575211958a82e4c6609eed2b3f16702649b50f344d5396bd5deaef79fb3e77e35eadc788d4fbd54e45714d6fe96d27548748f56c5b5a2990f22e5732c0e3bcb3ff110af209543093e4236a802d3b907c4ed4b6a3f8c0a10536eed0965e966bd77e187cfaf7c495a9aa1d264dcacc4df0600f3b927d6c0daa65952ae92c50da5dc8ac603344d65cf25572b4406f6c31aad2c8496fec402a02922fe7b607e681516a1b513dc954063410608fbaacc5c859444bc22c51f77c813d63f3ef43062cac4467e80f8812b192437d5f46bff3cadefa5cb3195ee3434373dd8f6b0df5369ae446be8b219ffe50e8d94b628ffc043533abb4ca6d62e98d74390628b54cc2afeb1a71f9b52ec5a0a119bd40dcd0390e388ade3303c05cfa0c0d2c4c2d7999d393c14281802963742369d9b652d98a7b0b8e00b453344ef4f35da0536270f45d9d4513f3b5aab5078dd092d31ce3e8afc2ba6abc53eb6eb63fce91393c4dc995b1428a1dfbbf400eedf05a2da16c4edeb92b36d18dceae4791e302d724802791533fb73b429d0439761cc5c1f2090773981c472ea954437c0340dd32d8592c9e751eae622076dac12d5b006dfbb9a047bd0b27233d61c77377b1130332464150415a86a1f54319b48feb79e0cca04391ced3968145c4802cb83afbb80cac8bc011a99c7c97ab21825296159b148acbaab7d73cc41a5aaa4ec2fdd6c306b80d8fcf1a9ae59c6ef424ad0c1f084bd273a1602c5a487b5d6bd2c764b7704d91026c856b00fdfba27d4878a1b57be84f1001c144b5ba3ac572a9a27603cbb64ee353bcfe3a6c90e212952735349ba293b12d73022a37ff9266944a50141c2d3177c7f05f10306af81c84f31a463a7c7109e8a3ed5cc4fb29db5d8297b19553ecfcddb1220e486271452d42e6ddc56dece1f094260a7d05c7b73f1ff2574ed3d31c7573962a56c9863db31c00405939b674b526c222dc73a1db75d7ef1ef6df819706189756e4322178e046ed952b9f558e12675adcdf56ce948d0d93839226290d5357b82bc76fd6717398e6c5dba7ff734cd758c868f64710ac321446dc9c9c3ba5461b1402d4f27410215c7b31afac9457b89df102881b40e0904290f62c9568725388f000a9c234cd9950d4ebe2d87fcedf36cc24b255cfbdab95fd17a9f82597c57ed0db413f313289b1195eb86a82f174c9f50fbdcd240d6835b2503cd2d53f4a457e9fbca0b24d7d1386299f6260267c9f7a2245f9193261ac0e1c930f0d2186dd2870fff45939c79ada5e3ac876fa2d2549a000620f8df6965b0ed750dca63a2ccb9938bdd6319f74838d443a287b0a27f6b9f0c21f6bd85762ec18f8df6d3d5d4cce3b6d4ccadb4ac808cd1b412bc988ed35e933ead3f72902eb5c466e9012cdf61dd582455d89c25c44286c84d924a3538806aac3676d3f2cedd3ce8aa1d0d3ee3e9565cdcd237715b6c46f7555b167050ada009553075a3d0583f2d80fb99df3d558482024fbdede17d5c128074a6d18f2dba009e0e6d9ce7971c21f60f119ed34df06a11a2c96ff12aa0d204a32b7e1344641335fdca28a92fd877217acd325f6ebfc9319ccac593134474cf75f37dbb48a6cc121c1703e878ad8497142be3725bc8c3f1bede2ad20c4d836aba39c06cdc80b4f745b0bf00a5c8e44cd9b0bdf12db75cfd8673919330861140aafb52a9950983c80161369dace8fa390c116572c954d5beb75e9dd7c73a8662b703bdbb1867cee4f915b46bf5152456a6db9b591a81ef1fb52597238b1ef9fc0d445a07f004fb04672ffa3b01f6bf316636bd05f1dad2c3267aafc4036cf4d1483841c6a063869f2a0570576672a30ec58905aa77b5c16a40efa9c82f3a420dee9f84e7cab749f14b8cacbd127298261a16b7a8bfb95da1f99bb34f5210e1c9b8424293bf3c16844d3839660ba90da6d5dadace6a5bc7550530aede38e1af6581dd944bd51b0c9b6cbdb577ab2727c7eb0bb530e72a7ddde8504c37e0095a0c6c1d7c9ceb0aa6b98b7e5e693339711c1e23ddf4631e74e0f93fbfd64cd8eb1f2eb2fd76dac15688a2618e3e7d3930439d22a02dcb145551ffd6c174d7eae1f14d2bd0ce890e38b8ce853ae9b1202eaee031a0d3836b28e6569dca6d21e0d5743f8ea0c8473ed6df125a521bf51c9cf0794ecadfc50750df887be83ff62f2773f138c5c8ef49b50e8ba49614af89aae0c3ead4aa6f6a1cf6c809880cddae25ac42cff1c4a4c9d687132a881dc528c336e1f8ce0cf3113f7c593cd2ed312075bb8bf8698cec56a8631d6cbf2973fbbf898c1486fc5ceb7255136bfdda730596b2aae570c0a54625dbe876c81fe36a0c01b161f4d5290011baca672bcea4d555b95c4a17a05595ee0bdf60ab0c0bb5b894c2813243744defff8a105ba08c9818d8d4da7a4ba8dcb50063049f9478168b908547177230ffd95814410398aa9ea66e59e9c7880a19cf9888280fd4398078a2a32540713c1af7bf5ddf54b9e9028d8682836f72caaa95188f24497be2d3181e00eaf38d1b5933ba4773a7988de6bbba80346de51d9ca74e994d1f0b1c91889c834d31607ac3ac9907eaf7e83edc3afc765db5482e0a80548b807a722c73a824bfed40f7c78192bbda91f8b8cfb2c9ab0f48c22b3e6f5541915b9b9e635364e652627bc052cbef4dd2d40d9934d4941936d63150cd19a877b8528737bd5998fb75b661001928ed7e6cbfdcd8e1f37a388787c4596ccd2496c491bcbd80aeebbc36b40ff9760ef5298cdd46063d5f3e78ce934d78f1d05b83b5d2d6605727792f4f7f9b136a6424e8c51d8fb8642e8a1e91935bf50978abb1ba847b65e876380d578eff4eb4f4f092a08bd5d3781b701a45abec3c330df8dcbc9d1ff027b961df3e975013ddbbabd66757e498244f8568b21e43394d43cd5cb2b4e03c59471ed20f0d31a66946ca13f5682a900d3fbe1f1464f57c9d08c74a6dfd4267ac50461421d3418388d0115800e126d0893b4218712aa2e8bfcf63aceaf9d73bc13ce71c1f120a11f982e419c5632ac0112db8edbd8bc8d7e8172c2a8a64cddbc4a081e5c546c223b5ee54df7681c2ebf62d17db5aef116ec87ad5ab44f8bcefbe49feca99d013b3a443eacf5544a8be0e9bab2c3c8ce65f8e5ac49654ac16c8824d5c8aa4d2238d97f1a622406914dba95ef873f7040b5b30717a33d8b41e65d3678cee5ddcb80f57cf00ee69fa003b1ad3184ad4eec3cb6d4f9a89d6c74f3188595a1c7459a2ed559b9545bf5f1671c6d50e07d0d01d6203c5802bf060c75db0442c1ffd4e4cb0965d6b24ec0bf0342b9cbc19a61e51ee8253ff18c95b5c9b86350f6a5cedbb43b2948c2cec05b14d9e5c994909835599eac1590ae8c63da7bf3b9701eb3d2544838da5adff91e58c4a4bbd09062f28b5c758ea0107c0a04e82b8e71934adc82d6d261c526be5178aba81bad2d9676417ed78a5021e9bf6f0a8978f2cae1f38507dc701683097ac33409188d91f55a7ef66786eef92f821ffe3496c962c1ebbfc18e61dc166a4b6432bff649eeafb35fc6bb4ba5c08e67c54e49f638f62fc235a70613f2bddb63a84c0fe16ef819a0601b84997d0ae8b4a1549b6406ed7a17c71733b663dff0881a6f582945f107f362111bfb23f12c02c85ea99c048bac453ed529d37e67183c7115995d5c2029c7502921ca44af9751d4ea62efe4a81ac4302c437df1c4c9c902726ae04312956ec8dbb13f11e70b48048be648a0127fe949b8703280ab209515eff34656d2a2d6e294cc0e51f7519f30401f4c53270deec0259ec859a8ee964f90640217ef0bce097ef61ac46c69a0ee302d279fbfd785e95da5058fe69bf0d5613b2b660373da0ac635e31837195009ba4854419f0d9dd16ad0dffea442396de4a2e215b369d33a3329210753a9a449804fec6fe3dbe3276921eb6e88689230d0b1f45ff2ef555ad8e48403da85efd6644c40a71e07e2d45a928a6353c2cbf01a0c74e2f17a615c3435bd195ac50f5eb2676be64c14f0cee7c4df700b4965251c1107b49c98057bc46209a5aad7f7cb13125331bd0faccd4a92c9b19192f2c5d2466eac44818b21d92e982b272f6063c660ad67dfceac948bf733c4c378b99a9fa066f66fd1556d335d442133c8cdd3b5b3fb0d010c3328252e2c14e9aba38eeaa59236fe77708980c3e8f3d7684e25155b5439926144dca06e1bd515c4de238a4550488d9074d35defa411a5f4ff0822e47a986cd9a16ea6616900b6cf6e4ab02b25f5240bc2856cefec9aa138f5d6f1815d3501f662eb308d27793c4268465372b2f7cd57b7868481bce953f8a1889ceffefa1641c872b195a8fa1f42d63f744b882abfb7e807e2425c5d808fe8ad46f86dbd95d06b7aae3d4114dcc95fb914330834156b8bf265856199be796aaf5798f57f8cd216e738ddee2fc69cd560a3fc7cc7729c730351631b42a980d495d06ac728c79716438bc3eb2dd7ecbf72d903585b3991399596d8428486c66d2761bef52a663034b0085568ffdec156b4a51007deef843820388851e334fc003a0f33769c7356ea81b66931f2c8f1d48c8a00c2200bc429d8abb360bb778fd8e268c83e1e17f03512847de651023cda5bd6702e53c7a11d7048e06c4319683e7ce2447edaf459c31a357baa7fc3fb9b40eb9bea9e3a24165fb2892da3226e157283c4c83e9832d481f5b3fc6294c5d5ba052c6633a4cfaeaf6f72e76db25f4420b24ed192d711621ff2597bf9174bcb53807759ff93050776b73ff8260a01fd091c9f1b3e857ced2e2e1142714e9e96396ad24220fdc2e3fc7b388244a0e417cae1f0383241d3b7d2f66846a1c96f487ac46b4274b727ef09db561f7fce9d0efef74db81047d6a41a5cf51abdf00463495b848ca1c54253649ba407d6a4642e514f975836ab99e66bd796860b15c84f9b628672eabecce2f654ab2ff358db308c10c1638f844503299483581b57c140eb1a1b6c7972930a1f1023715312c044d1086b0af883694adfc080831aefea80ab3369b3521e9c089b60443b094a1964da63348b47e4c7d1da3173d8b0730dd610eede4ff86e911e4675439e22028791f0dfaa3a832af3ee54a55f5667dcd05d32e1bb45da9d928f5e1897510b666ebcfd34ff690dd10dcca64d2aeff66e145f76205e0a147f1fe8071d50c2a4e3cb199175ceed81cc7cc829a99c713c6cb2022218c937a91215d2634b33b21778890fb0554fac558aa01cf56231d642fda79ab2f8032881b23b4e66778c05891adbf9947e59c6121f725849a0fa27243dfedf3e22f9825c967eb9bb50480775c322478803ea1f07281788e7443058ee9790cd55ad1aaeb701b88f7b3e75130a8d88ea6792435e998bafbb606eb87a08de4ceb4136b6e16fd7a99f209f3318d9e4aa69508b60df8daea4de8d07262aa0599b52370a7d918f267c1554c7f1c3e13bf880e9e0ef3709c8f78256261f75de8b3723228dcfe73dda8694f7368d7be8c78c66cbce8c13fd8b11c3c5562dd6565690dab0d0c604132641ffb1dd7ef700218bbfcf780eb9ecea516d6c634d1c9a78afc61b7ca11dc6ab5d1d67c190ffa060733b0126f30285bd3173d248f3c753440286598f96fca953c833e651779cd4ce4c6e8bfff0feb7c3e38d00727eb967dcf12b0329fb40a0b4a43682f022c4ea48a65c9202f2645c63cc5de6c4da7ced4967ee1779cdc648e1a4ea5a0a5c5d69a468bc46754f059f1d786b77572b61d94c3b4b926656412e311a97094d1b0ee9b3806d5882a09a6148d34f812e5fb6436fa8003193a01f32b563808736868f1d4f9a79068786a11c4b8287052d2a7ac0a9d0f510aaec8bb551ad9c0ff0b64605bec47a94f7695831f2befeff7aa8395b70e6aa80c8631b4cdadaa719de45e3181edd676c5dab5c49c362ecd71ba49a6bac00700cf85631579e9dec1582e267777022cef3801fb62e102952042acc15e147f5076f6950d0f5d95f09f395b4b088bb513402418e70cd6444d07a030cefd08ff8ec10e33f43ac111ad1d10a3ba750e760eddfcde44790e0eae00e9fb5842cd7cdbd6b2a8be8160a5a821265655a8a634a76cb7123ff74e0861e0956e27555ba92c16437db2e168d5d39e6e63896355082240f63d0febda82bd10f2b336267ceedf696508f975a4dae0174171be4a78c771840866cab9484f94315f6303961d8827f33b312135ab1868ad8efddc27fc78a576ccb4dd0cd3891a9d95994cf02f966dc9662688e859cbc151a383f94f5dbbef62fceeaddafd121377131e92fdb030bcb686db945630e388a06532096821bae7201602286b664a5cc4aca38c7abf895c52cd7914e1d2621bd43d0a5444249effb17a91040a91fcd2616e7de4248ffcd9a49506fba488f5461dbfc8bcd835f2a26c53bdb819591b33950b318ec169f59d9a9326e35af109afd877db39c5d2a3436db58bd6e54f8e9fc26533d21912f6059b051b20d6ab838113486a5a3730977ff85c7a1a5957f36e790349b7200825effd4f2173e9695f91b3334814447c72c320c7ed3f26f3c8a8660e1173aa4d9891b671f826322ac96feb480b0ebe78fbabd81b0f0334a6fa52ef8e56a486010bba3732c5ab3e17a4a4d7f7a021be59ad03e1ef753e17aa59ecb1b8616c77d34daa75df53dc011d35d824f71dcab24cadb29276be89c3a146dc8c712751020746ea78cde8c0b20d4fe58fd9c644a1144e8b8f47a1a7664aeb2244b70da72d3fa10a61a65f507f3d650ca698b234dfc0c3559614778274dfee0d8a7428ff5609402ea946fdb73c539aa38cddeab40938eeeaf117e80aa458c3b749d9458074ca5f9e037eab399de661b9bdc179f1b67a09a28807dfcc600142ece135772cc5acb7d65dcf76afad9a5a04192ae9c7b898f72a9596b23b03ae13b426047464bce3bca1bd189ac82110130e0e67a37c6d2d3714f0c250b298312f0d9b747751df524d1435fdd0bd3e15463b501aebf8b089e8fb6286628cdd90a4671419f60716692e05ca557eb0e4074c7e9f6152bd16a9d8685648df211a0df60fb255b7dde5704d6e8d2781ea859e6512a150b01b2735ab200fe7ba7f4bae62b81c4b3a8b4955aa78b5ebcd7ee75bca3be961ceb32c2aae50989ed5b6cc3aaa8524bb9d3ca7fcf4be61d77edcbaa5bd1298e1a9fb310e9050c48c1ecbcc798fd6935c75719dde40d4027a4cad75094e4e3b1b48a30f25d53bdba2bcfc37402881f71f1dc9b6682b724b89ad8f1b0ca5fa983b4be9205ce633fccdf7ff87b8f0d46e26de4f4d6358025f2815c7a7e7196eedffc66e0225534de8af8d77b3457af7148e1132d97304dbff8635f91ab2e1b804b68f7731285f53be85af1598740533bf47b39a258b48fa24c442d29ff3932aa6312498fb87f292203c26fef0352166493b94b68954f3b1c291bb370c6bdaa86ab9c5cc75ad33a9129ae5ed0f5ad70a19cb2e3ef20c061d08eef70439a681cfe4788cc3b2ad23a81d3af455aed7d46a323c3e0d8609215143573dd935fac68ed3e398a07a2755d4a068cf1e07a5dd6535463a4f1a75441fff8b80b4e05e9c3781fcf7c3e85d213185ca98d0648e65380c5ddad1db276aa7cc8fbbd224f839279560670a2b7111a581c7080315bcceb6da9f824891704f8b6a67c309e2b3152b5cc45be4617f5bf90fe012fe3b447bc77e5f72108031ab29948e766ef061b94f1c27a824ffc2ae88d1eafa99957b866cfbd1d2ee408e31d00463a350cde471ef8e4b65874b804cd79a9846645959046e4eaace45c08e6ac32c11e329a5d8ad052545a4acd8fdffe01218263f1e05d435ae36120d7876343baa3e3c31ca94fcd2820dc8d3480b78e88f033d5ef732528dc0d9d5a85badefda2731577bb94e83622363d09391a77ad8e0183c547d60501a225a28323dad6947c3c70582722114f24c21358727c6cf96c1d56e8032a700b72e16a315d231350ccdcf31206f30132f9add10f6b0fd46fdf117bb026bdccb537f10f46a5109faf513b17b680b3439778a7179e6010c3e1b2631f4d6e9ba11e04dc2ac2e4e7c1fbc42f3808c938b614272e6c09a989b3cfd4081a04ac8fdf88103e33c43515f1f2f161b9322d42f48bcc5899f087260edbb28a85e833f1a9cc08d5163ebe16528c0460298bfae044b30b4fe3243ba7fba0a14ffe441a8e26cba2a4b8fe6dcc15cdf140d18132a47076fbc554a32975729668df546d8e2cfae6437e99fe666670d6c40f533031a058d5181e92f0ad0a57d618347d8a18b7a0688089fb0a604d2853798117be4109f1e6888801c2a54b5db9c5aae9e641b29f36d35cfe465f79c79c7b3fc95c4d578ac8c5e61ff0fe19b9d9767b5d28f86d80ba059da2c98b42c70ad87dd528844b9bf8c9b997cfb0972da9bb4d93ffab7baff37936c6008cbe062848443cbb1df00e300f664a0455890ba01525285dcc9fafaef8ae034515b1e353c28fd3ec7c1fce80902df571e206c6cfacb58bcbc2957058745e8f2a2925a2205e85c7c42c6ff12af39e5aedde0026e5510c28b07e6db8061d1e3362f6b62156f897801f657e1fab9481b293163511f8a3cebd164d04a9b916af552649eef594b247f4152e364b10edb833f434077cc08cad9d0377ed6120d4cf45733cd72b9fc059a96e6851a0bbedb061acdb8a3e732affd508dcf41da8e3e2c88fdd41af108bd31e227e3fd9f5ae809e4dbddbf7761225c7f0ad211ef21f557b3cce9d8bfb9940f97bffa955939fe5ace9b3001da33a177fed59274abe5d40b06924a3addb173925b8057f1f8f488cddfe50d62b0f26fab70251db3fd176bab3d3b5c538e917e669ce5839f5dc648fa060ffb4f613e94c4c370abdf5a9c1fce206a460dac1d436d580775f2817dcac815dd275faa5189be7bcd42d6c9122a8889a3d8315f3617c2b0647d39091b83735619075d9063190c02bcda098b442478b9e3f4c546cafbc5a7a0f5185a60cc14dab5af21462da7b8a56f0933821c53c290f710d01055709a2f8516655d20f54dc3120bd1b22680caf23d5e9b9c9692a0b0a65b10cd1dcb6d3acc78bacc8694d48c181eef1c31b5a43a07828b1fbb35eacbff4aa35900b275b898702266b0feecf1ca82a0a119f68ba5854eef3a84d581de77b2720e88281a8f6fb4ca6a43ecf5607e4f93074ec4534f4e09b4cad4a4b059b1fd6bef379070c360e949702af07a72517f43122f39cabd3ad473114b1dc42d5990f4401b2aa905f42c801c20242a86c5c6628b90b00d6434718c443bec5e04b087ac510cc2ee6a325a545c381cb1bbb369dde47ccef173473b520a02d630f9cb520a261dfceb196fb8ca25f2e8f9ce32d9b8c7e2c8d94a2dd9e70901af9d9f15c760823da69ea91417001e9b33490daf6923d78d85144463f829d65773928db757676b95167a838d351ee9f49e9fde115c412d9ee70bd57af424911cc4770d3513ed2cd237e317bb424e744d234daed41cbc086984598c36e891a96c24e33f4f4b66dbb9662460fb19357beb5e682d5f3b018ceb7819b68ccfbbb527e9c850ca5753f4825b4f6e496da85b2a0cc616437fa3aa0da02033aa107cfec3c5012c011bf1dbe9e65f4f88a343b7c4fb30c182e06552f215eca5930e2326d6d667e2bca58a154b5451705f6d1c833e477150e86945e7ab34e5ae34671cc057237e15d7e825e5a6b2fd35bb693aedf1a3da0d409f157964505ff07457748132ea0369c5200b3c7d4704b1058e8283f952ab28fb29b5e85bab848356c4dbe75ffdb801fd3375c093fda66466d6afcbbca7fb87cee960ce7ed9cd0c87199d6788c445b2bfa105136e6fa69536122c72bb4bc309a11ef76809e3eebf53a5b51a3b2dbccbaa2dd9e88230c48b6234ce98c5d6b5c772899f5a40fda12bdd05fa0bf857c002253c00ec122cebebd107064de45bca7791fdead74f7c4fe34ffa9eb55f66c790c4a43cb3b9167a829db38a14a8e370de1419d583271e6300b2b96baab3ee6b18011a77474e6bb824db1082d3744018bc279905b544a7279f7d00768885af976ec1a4c25e8b2016430e71c183c5fc7bb0731513982efcbec66c852292d47ba40b31b22b6dfe0d3263791d88325599e19a54337ac7843e4faaf6f4e3adefd19111784d60558dead778592f95ac8efdd9ae0c5aff3f77bde577e46d1b531e698e643dce967bd4c823a899d707f86dc2ddf92b2d6af964010ed47cb611ef378ae7dd7830b06b8b0dfbdb86a1327141a222b965963f03a46445f401311e08034e3e943e0edc8d75917f1a4258acea39c345524ba7d5494e903502efd7e5633a4aa0b4f59cc64cfeac0a31c655ac662bedf76a92608be8c0a4eb0953bb2a4b5b15ac1d171ac07eb064fd7704d6edc718e44a907908b42b54e81fcdbe4e1dd055bc9597162fa2a0c3f1f9a83880201b07573b1fca5b89417bab47259dc70507ff4f7d49559c2f03d9a72f868de59671b6d6ce986a0199120836cf8f455dcd266794033b8604d535dc94c593eef38bb53e80aa620bc7a4a8296d1d094e0c538743f550f654cb7e00923dff3cce13300109e372fd278e98230ed8f0fe5a4b347ae16b483d8d2b0ddce0ebe5039719172756c1db1e75946edeb5f75e9fa32b3ef8fbcf2bd3c078cbcb79019412951188360324c7edcc32636f1f34478eb71afa27cad1a10994d369fc61c9a2aaf4b7d236d6155870565f3e5c13621ddf1b7c3cc6555a9e84590990ff7ced6b1d3b204e408900131035e29289c8edc3e337de9c9faddbd61e591e381cc757c19f7f8a8ca9bb0ff0c0a10547f85cd3b873d1f74f8b0344ed73d7d4f72b0285442b9378bbd62d0d22b8212a324550059280acb9e3d1b09f0f549eb4daa6f3ff0458980b5932b951eda15f122fd79b153789dac6bb024fb7a55ccb4fe7ed560f3fd5cb888a2b29ae96c6ebea93b2ced898de60c9a372a37021c76f77931859a03919968b97530aed66140fbfc93bb64b364bbb951b396a7e285381d391345a6ef0e19fff293b9e4a0e8f32f0dccf269bdc9c3b054d82415eaa250f1f476201918c50868c21d72e480fe3ee9aa9094b0ddc3a7a57aa4f75cdb5b6ad3c6fef07d15b6ec15afc221564a28a06b5ffdab710adc0edaa256eae749eefc641bd141cf71025bd0877f01021f7aaae7a70e2bc57e32b39d779fd1e5dcc93e482378fdbc279cf8129cca80eb6cb5e7679806bb60b97cefd12ced56fdd8803976fa272f51955a49046a68d7d10f0a6147e153789ab1554d0569fd5693929f3e84da853f500ccf781827947f24b02859fc88968afe364b427f3940be5db8f414267c4664b1214a503f7887fa5a6b85998fc17117388066157c3d4a777410d54dd1427d9970b4783fea7c1e4f10f74a499ff968f6f44b67cb779710a452209e2786c36bf8310274e00c5dca63bdbf93129e7b8a8e8e95a02c1296cfacfb7d70f3ab5e31289fbb8a41d93c53f901be5a9745783ae8741de44e2c74598e5b3bc44dc624f8e48208bcf6597fd742dfc47bd04c9a3d99e2b1343d3f59bf73b4ba8de545f9bb144c3c4a781e59fa18844b1b27f9222dfb3df472672a03e1a958e8acac1b08ad172afa776b8a2afb2f59e807e40f0e042987f7e5e749606033f78065d7645cc22f93af4ff455b8ccebd022c4100660c3a8367e949d3e46b593044ee00b34f6ab5a81e19219fbe61b095a5aded92dda5f3cbe5bdf692dadd7bab15efa79386e4a5b8e04a56a8abe38a6e457c85448666eb5f9b09e6dba55161168555bd007735290280e3c19cb1d18929d83a56937ecb4ff117b2f054698885923d396523a626b8675892d95a32dd5d1e1df02b752784ad823e7561d9f72aab783976619ef4b7362e2888ce541670270cb4fe0e7f6aeb8386862d3b5048bdfa28bb9c38edad987d86207ffa200416ec95819c25a9d5642bb06bfab69de69eb7e04708f87a41f2342913bf9542b5fa8f2c3a6269f182c798b3e3f0c8ff2085e2699600ea39457725b72328979bdeb8054d1444c7e9d478eee811c8b660b35c824a8d53c08e89b9f77f81aa964d6f7c6fa591a0fee142642580253f6e0288f55b766710fedbed56a5f255980b5fca47c505e641b6f5452678e45302c4596054b1382b87cd8ac9e8a5a8c4c6cf3228714beafab46d20656da73f2afbb27fc795dc6aa5f75cccc6c8134f339250c1b6a9c15db3dfca7c7efc5d5ac0fecfa26aede16dc4b3deff9df6755c1265638ef4f986f95f61d7deb802b1eba07fa6220f295111ff8ef389faaef86e00179b869a4c3854417bb6dec5e7f30f98042be46970e6c9400bfa224605006d53dd2b722709d0445f058890fbff27bf55fb32997fffb778ca356bb80e89ea6f57723a0cdd4f02d44c8aeb0abce3e33f8c19b6b6ac0919c7a3b64d113a2f3831ed4b1aaff7e10c472a0b2918de94c5ab7676c82c9dc42bab2a9fdcc4696aec28c345f4f69c1689afcb214fbc3e8988249acc83f61047d34a6371b5df0d1e0056b831330e6150ab4410ea19c61ef315cca1b1e8796d64ad562742aa21482573b067e925cfd78f75273d3b627a5fadc740aa84b98677cc8036d520c5f97a2766b6de6a893a27884d7f4592177b660eab9cb250d635f54f0b9530c0b55599fbddfc0e1e64e8553a9af4e010668025e100054a554b17e520d8afab60ea3bd816b940ef748a3ade11bebc62db65201636724d0e87443b233d08335a0e1637874af6d723d6b564b9bbcb5a1816221ae4580c7be02474ed35dc15b92a80f42d5d8111adfe620e5fc54f51788d1337bf9433bb8215d0e7398a728b89b18f26213c52b949778ca861aef237b7a1eb1d00c56d0c239d464865eacfaedfeb1c77a055e2a78509ebb45bc35b10882dcb37fe7d1fa2e7c96c8a3013e4888c037c008a0b5aabb0de7911651fd89485a496b617445b431a33058c627b4de96d72b65b294bcf65b78d670975a6b2614e0d753a72dfc086a7cc7ddf45610dfa411bb71717cdd7ee7f59a05fb2cf69912f3b44ff877f2021fd1b495512408ff9432cce5ee003aabb57c2fe808c962cb8c92e24fec8c7c205c2d5e4358e345a0033578f49bf3e70dadc5f56f9a96a0f706ec26d167691f1524a5e10042df71d055c0a337dd211db5833f74f347a3acb1069751a678819a1dff4a7225de6712c330f7a5b19b1d0f645b661db206bc148d39041835e72c30f5226b78b45dc314e55cfc8537cd8da91861083316029ccd8d9db78de2bb","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
