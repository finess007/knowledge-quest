<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"bee24d6cd7dd707596ea56ef389037ff68b8feb6f09ffbac527fe9de7a2bafdd871b8eb4b743ac4f4f7c6bf84b90bed20cb963b5317e6a33a4c8a0ce50c642469b59e6333cc4ab1bc8f3fd2dfef8f4dec6e7994d2776fa3db9ac857baad371e7d165c7ab4af0c05b6ec784cedb27717c875850cf0bd7460ad05c83d7f77fab8d44e64a8fe8520cb74a951e94a91272e19d9e9e207acc5d48a67e377a611c49af3ba9b9f0dcd110f5c995a5cb2ee626c17a8c054d63a8eaccb4b85bb9fbdc6666ba3bc7d287aaa961b1e438e6bfc7607590582679550004d38804b0c9acdaf1aa682e6939c1d82c69af57e755a2771a5bec5fdd33aa7ea610d032de960223468277174d5fdb873a83c77ed4f5b3b153256c003505b82d7ad617e37eb29df6d89037768606f7771aee27473c1996a228737c60d5faae4f042422d5eda4649274a0897c19b9792d7037a5c1d5b9ea7554096e5f334492db01ef97ea2fecded3ea263b4d076aff0f2f21924e09639d4cd45d1b3d681e3bbefb289e7474ceabf6be5d61e887e2e4dd75926740339bc302d853e09cc01fc03f9ee492c466ecbb59f78067f40e9329342a2185f61a3863cc845edd965139abd84f381cb77786326872a237615684d3e0845d31b10feb99229bbd9e86fd353fcd82fc1f97d8900173e1d7e313dea20db213c89c8cd314d0b927f4a0ae03d21547a4fa7cbcf1df53af472c8e6913c7bc044789bd712e63fe549026dc4b2138b0164dc834a27830c8aa0a9940905f5ec81cb3d8f8adb52b8be93fc5b29e22685bb8452f63d5427b00e25221c9cabd73db84a1cc281bc982592051cccca1ce2f274e12cc9e53c8b88b61cea416dbaccc0af217de201618eda8269bac4fff6074d3fb07de0cabdf49c335dcf47b53db429f3daecb5db4a758e8198ae034905b9b98f5b67ddf2586b3653855d8248ca6b00cc4cf767e46d79934c9f6170b561183685717cc523ffa7e92e214f220039d45a404a8c8a8fccc5966ce534066b83032c6cbf608ccd6ea4669397f96995145aa8793b81b6ffbce63565602d93afbe6d5588b348c605193f3dbc7e09ce1f6cf53a85d3bcaa22ee8f50eaf73aa9a09e7faacfa160bbe97006fb0971e119b59437a6d3254744c83759e191f2ffc5b5bd8ed60cf33d9d48c65e7fe69cbfb2dad3e81afcd530b3ab406774028dd6068ce8ebc0eab87d49067f0142bfdb083643c08f61b0de97f25198bddbc65487d1dc5986deed2c9299076c85ec04a305b59849be9f104e259a4b32aadec9391e64b66cc2d0039bd68d846bdb196f4fc50020beab000e4346642329ddf9061a9f47caf6ff4434936dd444f55a4e34774061219be0c9841736e08258b37752ab747a4d78b05ae4fd5b860e747b8d46c81aa10e298004f5e5e4c03e15e5c6a7251e3be28bf09160cff7f6c48db6a4094473342cb0ec9c8d9214fd1b2c62839e1253b8ab650b6faf99b894c289226dd73fa6333f0163bad017b9534fcc893ae9d39da37fec78694f23fa4a0dd9e2b38153ab7887b35cfd6cd4ffec7acf281b3136cbc5b151f35b7e57a2b97e995b22871c2c22d76bc21cf8f6ef7f6af186b413a093f7c70fa72b95f4a449204c2652941052d4567473d21d94c70f0d7a61ee855209b275e122e6ec194c6336ae1a93a9b41116609a7620c0b98ea0ae2fd54118c6700061856fae85e684f9cdb94d437dff51942d27f47deda2b7de2cb0631c9964efcbe8a05692a7ad447c9ba51daf945745e16f4a0c06fe4cb8d1e4bd032be01a9ba786a0982ddea0cfe40284f33c8006d4fa1fc88b315c23c5cc185f841b1c14851429b685ca833dd81ab8e12e0ee9a16c7d271cf4d7f1374b0cbf36dc22fb821f745b4f290f56fcf0b8b67d210b281e0f50e15f0cc9fab67a5f1b41934eecf8b2b2e28cffe56adcee5d6674977614b0b43a7daf0a749e478ea668ffdfdff4cef58df8dbc76515af50dbe2fd533f79381655d8ef4371844b7252f33694e517cc937fa303335e41dafd3e7433fcea6f52585570fbca92751d213e3080327ea0392f6eae02d6271138e7344c32181ef5c045e22ee89b992d0138818504f3e8a2d54e506b7b425ecf418b1202cc2c0e641a356ad1c59fcf8150d7d37da2f382fedf287401e8df067098db4e9f658cc226fe7e8c3b6ea08109bb8d7684168faa0b32ab3e5619821aa9b71c55dec6ee4bc444ec400ef10242d8081ccb4ad0d5a4c04419b40be46b1d25ce02c865a91c7e9507b50d1a93586191e799cf0da3da8bb6683f58332df78fc1fefb71a74166c70fa946202aa47912790c00f96ee7641d7600e592ab2746cb8fcd27f2915fc5cb425589ea59d3862df66543577c830650a7514ac02459ed51539427d2d47dea16bd3415d7f40d801752dff0cd6721a707c15d26e69a0869e05015ae786543a798f7e610fa8cb4cb4929dccb203a0268f8e63f1a6e2a205894bf6df2bbffebba30e8a2251e91db2f8c2509ecff4ac0b725ec9baebf3ad52e902f757baaeedd24cbb49ceae38a7424615224c595b0edf13cc44b67b285b581f4ca18e273efdaa5cd7c34a914cd896cf7fc9b21078c28ab1885e9c8a326572662eb6c62683b158eade0e850899285ea3bfca37f50bac2dd47bbb51856ded01061076e9341766b75de51e7b357b045048b0a42dc73a834b44eb7451f811af76ce04db9970646338855e166267d57fa50693d97c48f6720f11d8d4172d56cd33adc8285aed8c9337aac7e072d6d6c9dc2b6d657c847384e5815b313d2a3af401ce3c607b6c2936d9ed898c2663f488c6e97ae5bd57caec7d24a757a89e01cfc19adc30f0b1143c936fa2c1ce1e0f63fff3d947fb8425099f05243bd4bf2cd5d6ec6e6a53a6d6680f2df64915e70190b0f4b3d3acd5c44d02f871123c23fef67ea772d04c9ae767de7de40b3cfc8ed5abcfcd7a9753527c5723ca844b0f375da774323277e8a0100efef7a7c7e414ea013e0a95a7d59a8da996f8e4fdfdd992c28d42a3ba3e95544ba13774c075f082325d3107b59aeb4979395cc2d73ad61daa12bc40f6c5729c774266942ec645303a18c0265eb2d447a8a1c31257c4367a166115ac629ab9a60697f8acd65c8a94f453c0db69a709b8454eaae648a6ef94fea312d3c43da1bbcc094c31633d0e924f691ada67b1c04f35c70a31a5578db772a766df2b4263a8e0e86feaa3af4106809325be78fe327b81cd75a0710c6338b378cb4857fa0947ce84f5a7e367b1376c33fdfec529fba7a055b9bdcac324e486d00bfa001bc0928f6bcc7044bb82fcaeba5a42198995574c0f92deddd3ea1fa7fbc412933fdc418c3ca28b4f0368cb02f7cddb7493fde1b5e0409e70403e435c8a09de8318ef9ff1a80f78b7dbdfb07005f39109094f4495d8be3700bd56c5f036c1f5efeb65a1c55fbdf7b43bfcc6cfa4126e324dd30339aec25a86aba8a10f638f927a31a423f2b9eee0781bf90c1aaa7cfcdefb50efd8fe1b27eff46f3f6e0a9c2d51969c2276c5c6748f189fb3e01e55950ca17180a16a633b2097461a7b6557045f241d488fef4de2932bd67c7b6c55a64c7d12cd7c722fbd447e44df970d70e5c575e3a8969cb2e6dc7745a19baeb4be92a48e478879dc5ffd358df1bcf80007b5ab2274a87d82667133521b1ed9cfa172a58e90a2c28684caa833d77ae0241b9728373d25b79e7c020b5084a7d55e7a52c1700475909f8e8a92de68ae2279d892bfd8c71a7f114e9cfa73ec4c088332524421188a9570230719c37081863db81ad6f1a5c5d6a2fd22e9532c6e9191a861027136a57af4e14a3bbb251fe2859a6fe384c1a451298f3479eeb54e13180b5f90a29cc98e3253dd9dcf858c69c2036fd202cbbde17c648fa8e6dd5fbdc2253cc43bc2ba9ef47cf365296ed634e59bd0cc1b52f6a547280e1bc27d6223bf300f6c61aa15db93f185ca208ebecac09a209accfc58c9163e668069027df3c26a2fdaefe6a9479e7e6080aa32f194496460fe1d51b4a65d848f045ef4b856c4547410098f5e014f336dbd88c4607dc9043a79ab142ba493af551c883d1a066401b01a7ebddd008211815304b79ec097108a2367bc5b62c48c9b594867e2a94e24ce80445f092353e65fa122e029b77aee4f90fca76934ad9c5cb6a749f3bceaacc57549a38b711b2f405e5e9b5dd907b12b96b60388cb2c64b24ca7aacda2434d050061e6cf452e8c9d4750e030ca19abb16886ac3e6e50e1cbd8c1504fcfc55c5519fe89e637b1fe4ab54079fb5495edef1a121391a510f5513160e49345468ae12223f862ea0bf62c28a6f1af8120954bf2864bd82d31c285eff73ccd137db2376161fd552a43c04b917c560eeabdde28f25048291dc1d92f34a31cee099e7a087346d5e782c89e23bceb25489e94ee89bfd4ca3dde9df316950a69d4bb196de2c8bc58d723e1ae3e29a342e415672fda84c7ebb27f36f464843983988a3d3e89f6666ce10bbe4f1699f97d109cc126db0c2bd1a3131b3d78e78882ac858f787c5495c135cafa6b7a2ad9222541ac1cf344aa1a7c14886fd6144237aae68f3efd07e978df193e6aaa8fe85254cf96b6ef52e3b1513100111112c66a81c16b3fc1fa27531ae1f42c7c31abdaf4b825868f376f5cebfd310c63b545affd44ef6c8db124b0d3b49d35377801a6bfda5a0b0540700a409dae9e90d7a4df55873f17a4b4072d750a2c7152e6fbc0b59e2e4bbeb5f1847607047b30e515a6f75021b5363bfec79a152341a375451ffe551960ce9eb5658d5f6c1c2bbf5ab93a1d89a141ef0e8363e758796c1d5075db874d89f273afba6eb43619fd82c2a1b2abfa28a131e8118a6cbc36403205118df0f1cc2b187cd0db8a96a1ae0f416458bcddb494772cc696df88b67fec1c85f41ae798f1d6fd0f5bd7a6cbcb00216ff0689b2489fb41410c81a2b4aa15e777a539b8fed8c14dc974a788188fff1c6380694426eff8e00b7c5ebabca33f02d1b92d2b0a218bf975e24dbd321a614824f06f16ec770048eed281deb4b2545b1661298d59b3ce426b48bdd361ce29cba3ce17461f2b35f54e8773750b030798416685c0fbcb1df020673be624e1e5b5458cd8a85ad235b7eaeac7a16d7548a208db50ddf3f8b6617705d25fd2daa61352b1c73bc37e74f69ab108f3aa9eadcd76a9116b4528e5eaa337ab955a6ec939021892c41108b566c502bc62d82fae96c44e9c57f5ac0dec14bb3d6fa783faa894f1159089d77f5081e99630c3a46daf7433f5de6661d2b5f2b4555bbe6cf2ba38895f46e11df8fd3ae7bfc9f7b0b2efb85774ee9edacfc44aac6cb9c49896a46575b0bf10b78ee8610855f997f2eb28ae359cacf752cad2cece25cb0363452e365e2d047186c08ddf289782928ae4cd000d24e2f0d53b2b0ed99ff7b4bf676a9c148c9a06de996521d0f67a5d8ae1126cd0c93242462aaf4d5a7594986270ac7022a36b4c98ef8121a3a828e5b522bffbf53810fb29e325c2a5603bb693ad873a1b0adbed1b2d837d51f49bfe5380cc23d588052e54dde15370cd3f555f89937f8d7e5010eb7d073bdd47b257e2bb4b5715bbd31a9cfca08977cf2cae3e9f29499e5dc1fc6695cc19d943cbebdb63846715c67556ff6754f414d73634f1b0fc88a5a0d2866ee72dda458a03f150843da766ebea6af03e9a637882d063d33b7519b9344e5a326dcda8dda24966e06e89201f5041793a815863fe1ef3b9591f3f730a6241394e20b5f1d808b10fa177aacb5d30d3301910b1d6e42c7fde51ade9cc36093b939ae8b49754c14ead692f03edcba3ffd1870d6828c43be6e0215742929c22956efeab6137c78df05bef1a6c73149127a64df5541bad91ce0226eeb917c0029a016bd9ffb751f635d19d9d4178cb1b2be122682c3f55710780dcaa36b772fed20d816ee771061ed5ded42156fd960baf200c315a00a34a0794daf554e83e62bccd8621379ab71fb2c37ac096a201ab0d608fd39fa6f50901742b3cb1680a6e280d845f2ac714714a795b68e31a8248c2a256ee0cd99750bece8c409cb2e5e0022b78810eebd38c6eddd43f966116fb8a00c3c4e85c3b58b7f99a49819d41b2896f880bb1a05ab825f80e9b98a4a1538ca9fd9b53652b9536d89c4f29a9a48b99a3da746b30f20f7b3a277da6156440e6870309c9271279c39690b7f23826bcd98bccd8d0e3f480843cda060c153c9798381d051b6c4337a4cadfe01176783eb5bc206cb048dec5ec0b07fc902bd75274dab83ae446d82a71c3409eba6a44d41efd742f86995d8a20caa06e59cde5af5c51a5484fa9b15f1dd8075d9679a62797963b611fda760331d924b6a8d1fdc196616cb223170d1a393fb6ec5fceae74a302b5ea71d1a7a1d65a116c12d5a0f89b886d4b5785ab88693262e321b8a2416ebbe0268d3a36d166ac4775c13f055519428a77a09d84c9d832ea1ec0212de9dfec13039a484336f6d2546986bcd7215062a0681a2b1d5ca0b889f2215b2f03dd50890937e14a5c64b604de6509d1729494b96bfe0d1c3a718759a600b71207a1995664590e8a86187f59966b9042cff69bdc3f4bd39aaf87a01579ea5ea3c20cad6e9608c1d28e9a179388885e63d18121293fbeaeec7f8f34c9de9441ac265b00461b730559cc0e19ff8195768653b1ffc554d717e4199cc2c60ce4b97414370f0b45c2e14b5ff04e0c7ddf264c4028b7394b9f231240e149813b89df76f83bb1b5315798e53dc0c19f0cd607774e686b5f354458069df8f53238b5ab40acfcba05306f629ead9e6ad8f81d04a010ff5a3a39a82bf4ab345e3582dfb6b42359e895bfde35165730ff6bc15380239a141385eec4747b456bf273bdcc69b36e0585d5197b1277d9e1a591679d5b20eb1781f0e90776f956324f5dc99c16aab5aa98a546893ab3b8de6b437fe6dae97810a1f3a7f05547b570ca55ffd89f5cf6b200b866c6e985061d616d51683e8eb1ac41ee4919b29bf2acd8a4fd711fb9afade814d6e4896eb01f7c921028672ee2db19adde6f23747f4197d42dd753c452332b58c78f3f17ead9014af5cce33b2d5e68e05c660bd90cbad0e54e4dac43b4b850f7ee47aa6f70d9da7189a85436aec2be33f221e47a33ab384e05b805e0a77bd77bd42b0fa8473566f995a5a78513d049fbc65fbd21375a6114a331223d670bcc6f95010803407b8504f15ba8e7d1ad58a1b69cd59103b7e62914dadcb0ce96384d9deaab8b7bb2fbe972ef31deb8f9b83d5ed59454dce5672f0aead972e16e1cb85b414d612d74428c6ab355af770ef720550109b3d07f46f91fd9f166c442d39f4fba94c2642028ef68ea94d5360aabb4dac34c47277f1d6ef9ff4b79e9a9418123149b3262bb4ac8c3443ec154d0dfdf9667851f6873e0056b98cf33bafa13b52c328107f769eb23b78dc1dea9ad10ed1589600423348226cda790e75f53fc63eb8f5c6a9e63bda37cc25318fa4c8f4a59ea97662f4e70b9d2d4675239acc847a1f20afb93ebd35b706fd84b805525bc5dff126559380948ff98ed6ad66d42b4663a3726fe0b0e118258649c29cc48ce47d15bbe995777f900a3f93afe23bfdd0c0288b61199ffc555855407b7b148cf81e8cb548d7ad874f12659e0033ed9fea5bf90d34324aae808d046209f4ebfc0a3558be7cabef34234bf301f8f2e9e5516d90468d225ac94fc1a49d4c841c19922c3e4e2b113c4c2752886d3186f930a8f8d493d35aa7eb300296f6a5bfc5832547aad5d0c94880e05993c41006dc5370565bd3201209578efc25bbed8b176fe891b9c160e8483053bba324ea6a6d9b6beaff7c18508b1964f5dc78d72b7e80e72192778584fab10d19ca2293c94e388975d26e4dd5be9495ce3d30a934c627e57ff64e41cf17930a1d6e1089eb70391730a1ff7c53f29943f401199f6befa4fa547da5a21f08dd069defaf0d43efa0d0b474542283366d8027dd39740cc94256eb1e9863f0b7566aeb0b71ef7945ec6d65e1a5ae87e3f45cf24911a6f7c0a7aabc29aea9c6477a6e8d536f3b9469ca2acc93a1ec3ffefdeee2b4ecfa9f0a09f32a6007caa1b3b8526cbc418f2e83047139dea344efcecb6972c60fb328577d56da1ae187ef5028bf85657309cf3d75487803cdfa127a51d5d1615cc5f6a3ea94c0e2d3aebf6f983903fa97d66f7409852bffe1def5b95801adcfe06463c2fd1ddf2a20ec24c08d331585619e2a825591e76e244b83c71218d5b3ff2c673ce16e32ba9d41f5af14edae3efadbf7814e038a37760dbab9c9d06bfb2bca263066b1360827775c97eebde59033aff9f741626d08d76d2cbd12ff0cc2657b0b9d7bb6c9e454c8605e2f6f4736d0684def8a162e924634975280e3c32cf261ecce5abcc245754a4d9ec1f85f5269bbd2daed172d9d0caf9ba3d7dab219aeb1a8adfcf1548cd7d2e2c1139b33762bb9775c6d62363f75abcefbe6acc296628685652a25f4bbef59db9253158f1298ecad4f869081268d33346c4157f83819db69219f88a6b69d14927cdf28a4d14d83e9d29f9332561f398e6a57b6fcab9f6ff33733eb9779caedb7b7877052b62135d790c16adaee6947d8058414fc4f74e191b955edfc10441b5a1bc6f49437779ae2cd4f20566c6e24ddcce486bc677a46ce25751188a69d6d994606c5dc18c6d014924252f0ccfd4ba972e14c775cdb473b1f465ffbdca5d5b5703fea2a023d886721c9da36f065a98fba02bcbcbf32a1e41760df33a1317d8fd80c901976ceb4fd86d80133a48400c3761d65ce0070991bcd5187415e8d2df7e548403e8256a5bd171b13c1625be065c403a3ffa02f005577781b751d2f9a2cb0a8b954ed92d2acbae8323362972c8166cbf68fbc62ce4cace39e9025fc36aac6397fca0bc137eb4cb38d19753e0cfe0ae7b2a74c3d12e991d73b96ee990c1eff5db60b6a50180deb728c55478e1e1faffefdb25dad3aa7c97b974fb3dcd3d7a1a6a1f197aa890de6c3d54b5119754c2451d672bc49ae6e4455a4fbd59915b3b39a8daba3c4f53cb871d5e0f89b740b8a1020620797021a645ee70dafa320d9d76c3cbc875aa5e1211d88a297d1e6ed6e3772ede02d7d11b6a12172fedc6be1ea9a7b6b4bac2e994af04f5085d7795ecea96f0b1eb5d02c1777cb8e7a0acd47e06290e506774408af10146f5320fe03881be797f392b7730048439de92b628b8062547610677981954b3f776d4d30fe4acaa2ecad4e09f2ab8f5ce2e8230b9a9909fda4cbd805bd7a24b0e419c0bf093e759860af889c8c44e0d98fd9a6cfc68594ae6f0dde368a90ce7e755d23f13fe7cb039182e640169d5e25c9c091bb6157f118170692fea402844fa7d28bbc64c7ff978e57f7597decf6e64741a164d54c184ed2765b2311322dd8995ce1850e1ec7a28ea5a33944ec5659fa7f00f83a343f6a4c865b47db924925bef62bf37bb04fc5f5fcbef82a1379f26aedefa4e6320073484112b19d0785b2279d72f8bc5673aa20a024693acfe943209c2fd3de0531a66857f477bb550e51929e9477a9b34e86c52ac4129f9d5d4d602bc5ce4d3a5f7876bd33a3a26942d710fe6048e50f11a7946d1b2076d0ed95ba73fb081e73891ca75322cb6ceca1af5d5cdf7f6c83ccc19b6abc2ea8e6445790c509c452180dade58773aaf2e0a7db93878f0f538f1b5f2facc8149e2a2ef3d4538664a6738e764ec3d7db86efa8a2786baa5064e2557349a8db9f3b820b73ef51a9edbefcf843275df8f774893e6d2e8821324c5abf54966882f6c202507726a888942526cf6bc0909a889aae1413a37f2664b8140d46de88531dff53d1272773b82c51ce6aa84c96bab84f10ef89b58d43b2cd2e15039614819504e0ce1daa6a9226d3c9104c2e12f1ddf2603e9c9cabb106305e5f4e741f4e950cf9dc486733fe05991f5d72e0afe6cf57744224efabb8887887466e75081ce4af468c19fd5da4e96b6f79d4bacf7cd3fbbfc13602697e6283f0d4170f988a4b84c1ecd6e9a0e371f83b05464c52ea5fb58a8d5723674525591dfc4f4a667f2c95e8e1825394681bf6a5e6f37fd7e4abedcdcc73e61220fac319ec37291bc54b8275fb767c171beab6a08dd04ef30c2e262eac76cbd331971f78eed25ef6a6d7a5dade02ba657feafa8029fd1add9e14eb0319a44370fdf4b6568f98b69fb95a135d07592bac5b2df73691556c7a2be2b50cc3b8fca8abe498ab58d35e5c16f047729d2642b399b93fde83d7cc671d62cdadbc9c35a7b1aeb8fee5e2fa34959247cbf256e65a218654bd0e50327950942ec704c6d1692d2279027597a357a26d1aee155620f4137955345aaaa708177f840bae495f44f6969427b1b36717022ebd2ed68f005d2dcf9c54bd2eee62011fc7c1af21046881b66133f7408ff18d1fbd5d7336cd33fce9b5d80dbc71eda8ae782dc3cff3e4d7e5e29300e10fe37273cd86046f9b7e2a0721d8f3b21b2e020e150d8513633edf03f143f885337fda27e119a41da0234c4b56c5498ee47cd2307df31ccea27ec1337193ecdb85a2ad00dfdcec42e436fceacc7af5e79a90956d09b06ddffc55de6d43f17fd7405e90608d9bfaa2e192edd309589a533d8a2646b15dca5019f485bcce1fc9a0463bc76d12a0720eb48d821d8b4c6c31fcf444a17c70ff4c0991c7d485fd9cdae7992da57e7c90325a08836be952b350bb6a74e6e12f819e9cdde236dc4910b0466ba352b5d85d9f4601ea94bcb23290799090f25931b82b016632881b4b8b1116ad85a122e62dbb92ec5446d14883a15157793f52d539f6c4551a1e482f7ad752899f1780cb4d74c3c8f316b5d96f548fc72b58fe6bab896859febcdc36217a6f08d832a692f86ad75180ed19ab0aa3e81fa5cbd8b6496b01a65f2a6d5fe814149618a546a3f195e024488c534810ab066814a56925027ba68bcbcf0d69a17073202971168bb51102244b9d66fd1c3fabe1271062d53fa26b8b7b573dd5845a26a81e290d897d1a08c02256e41b152c1685b2a0da208d0fe687aeac09f6364bb63c6af1c1930ddb168996fc80a14cc5b6c49273aa6eebbf94829fd054342e4e3260b75b4c6bb9f0f3acf7ff4a7040dcd9421dee9933fc2e193a74150c363f766b387efb239f62f1472ae67c02151703493652397ed8b72f462a7a65eb97e7f560bcf878dc13f9f5f81dc42614bf77380c3b10afcd4bc70111d7b04eec4665dfb91bf552bac80d2d96162b67b030c79f330bf425aefc779046771c664ac26fd3dc0be38c1c16dbfa7cb268ed6783d56413be17062965ffbc6cdf2946c47cae846eaf90e46c2fb58d8a66e92525217e0bf11421d91c321983378c72d52eeb13092becf5311809bee7048ac8ef3b98e4e8b334c888879bc3d2dbb525cb795c2075ef9978e1fe8c39384ae4a8c03dfb02d8a53547f84966b14dd77bbea185538cc0f0aba670cae4832d292b50214dd11b65a2ef7d209764f581dafe5363556ec2225a63e833bfc419c87fa1cba6d631ee8a96c0c5bc35dbc875cafc0980e4e050636c5fda96aa610c5f4c1c3d8b39b8b69af9b298151b9efd7bf43021c5b530edbeaee6851a2423b0a1e1c504e1dc5e22162ae158a514bf4371741bc69e6076759f0609048d9cf3e8c62d04d485fa415165f3dc28d8c752e9d34661e26c22a96d8d2e5b59e68e1e348206d03fed70667809dc8da9972e8e1f2f27f3c0abf0f27d253ca16f71b235aee7b8a68dd48e0463db2e1a709e74cfba0d84db31e1a6877dfff8a955c7f6c262546979f589b2e1e3d26818d12b61f02bd78f31edc50e9e4d1603d4c41a695154a542b68fb2d06b124a90d9e2ce84b1ee6c231c6cf9ccf56543d32c184b6f8fd92f36644e0e9e93a224dd8bd76e2589fcec86a13d48ca8065a2a88c122edaca0b6ba28f7169b84f0cbb54b3e054413c676e98f2eaf3b31de55311be56474d56b9cd90ce990cf48ca76c647c84f0410044ed4cdaaccadbbfde63b8da33dd2ebdf2691c2b6aeb762cb11e660699a39ff13b45eff6227097c662aee05d768e931d41577c4fc8a0064e324f05f27a98ce4246956bbde38a282a5f80bc0031db60e6ba7d7efaf42067fa8721088a18018f7d29f04caa0bd1c42b2db46c89b9969e2231d72363ed89e6679b8f1a50ba106efcbac5c09af25ddca14fabd17a678bc421d743e02fcd63863d598077d6ca663de62add68c7a492c8cab53423c764288beac25ca96ef81e04aa80b8f8cea85b45a085efe555f697b049c85c8f02bf485bedc185a73f967ce6a075f3b32c1d2c36191648fff6a3bc6fea210681474d950e5346281d4c576dea4ed2b54d5d41b456dfb01f883ceab51f8d902024f531eadfb4d3f64f0604b9146d1e35ee791bad18026d81edd7dd5b4df384fc435e12f6bcf466aa2a11c82d80f7ff8a35d6a68e589d394cbaf5622723777e8712d8195cd9831ef10ebf5053fcecf6bac2fac89b8cf38807732ad9cc1d75093ce7b35eb6b6f6499494cd78362e87a51020cffc5692ac884c9769ef60f38d72bb3acf95972908d81a65268bd879e861fa556065be02d8721bdfac5dca2de8d1e438c63ca40cfc7edf7ba5172e2014000498e91f04afa1836bfba398f2b2a82082187560e8758d63058ac5f542f8c6a843c066ee619709dfb96b1d8bbf109cb8f7013f70980b2cfc42f098a12f9e8587c27b0a07723754caee974240b4adeedb3c44eba335cd8156b31330f50343538b7fe1820a58592eb222e7fe638d0342d616647ee5b363c69c057b05f745789a3fac266f5554f35d8298dd8c9a9fc9b2bcf9d0de084ba1762933d181bfcdf07f06eb653720d54fb9982461d2d70a77b95ccbb742a05e6b171ac5e3848c30bc291fdefdc524bdd76cc09629bad53985cdbc0042e7eb7ae76af5705c0018f7aa52b34e94eb1cdbce90878ed007e3fe2f5d950bd0c51eb6c24b550eb5562974bd3e1380070bb10b35a8538c7357151d8b51f8bc3d34a7233dba92b6d0c01a588e447d0efd6079203310754e0fd8f9034a3495b7bcc44d2a6db6027a802de34f4970120c51ac1576693a5185f0081d7caeb8de4f28544e14dce5975854899f3d663d02cdee0e0d612b211a26f5683fe79c2bfbe97273c48e9758b44be8ffe6ddf4ffa287fa8735c27618e1cb60b7c6d98265bef8e8f38fe112b375999098759fcb1959203ef8266bd08808682d72258a72f48bebe27b772d5b78aaf5596e5a306c984879679bc399b2926e90d898f8f9397b1d8d8c3aa86759797b63a39e869b88af191115123e5b5857195123de0ef1109dc0db85a5a416363eca5999abb26b134ca212fa4c7eb2242a56f1aa81579618d09271dc268c817e8eb036de0d7e4f8369b45ccfb471ef512d8e3ac35f8af98dd83f038f0df6f1285abfa24f12bae71db4b60b37b7513290ccd8066e6977d09008aa8152fa152e95c0e3efc9bcae575c750779d4da284aa3e9afd569f8550ba278a38c184b4f6dad637c337d4a752c2da3d9fbf5de49513b05def801042b512c1f234b9a324ae90a5378cdd0d884f911a09651999432c13f246ec91c658ea4614363533744e00cfd20788ad679567c758b6f3f6f7590efeba1f7a82440de62347048221d845853c57ae4b654f1b3dfcbec0e97c508d7df8dfd09a33520564130fcf632dbe9ae84e7e3fece8fc64a71dff8e7274b8c674a0e35d8dab983a667f5040bed03aedde94a9a9055485fbf976d3202426c9a9e6495c7e4c31e5dc4d13e090ba20e47d92e52b1201e4a15256c779aada32649dd593ac32a44d2e6c7d3b6b5b5a9dcc2d837a24c996f57671ff8cca2b0c8821f5666b62c8d127bd351161900d4983eec5ff28675c43320122ab8597eba66a1760b884a2729b64829961d06bf7ac43a62a0f43c7880d8b4ca0ae7efc1764c75063d4022144ea1a9e87c36df6e3c33129bc4239f333b6aaf07437c17e2d7d72fab0c66c7447d15428eff00adeb902ba5223aabd0433dce30b4c7456103150e0ae698a908ed9ba532bc47903d13b7e5d11e540cc3c22495e1ecaf816be31c14277ce2ea8ffaddd583e8c3e0a8e78d179541323d3c035f557c330f71e39e0752975f4a8697664792c7513ba7cd279c16dd2ab0c843dbcdf3206ff48f483ff7646736355d29d812ef38a71e8b090f75a718de67c2999572e0bed07a6a6462b1cd5da5118bfbbd8f41b734b10ed6d156407c25b8a484a2d8ecbb6a60f3ce4aaff8eb6525b785efb38ca5d8095dece71e82ff9a1db4e326c35289cd31dd98dc76a5b5311a42a3f014fd720442975d6e85ef33128facf3eef3a22958a11d9efdb18fd8d894bf368e0a1d9a461300082f4189519e7a3f2b99444ba38b434924ec280d481b1faae5d1fdc88a30d7acf22a3a2505b5492bddccd4093b74fc609161aed7d9b76ea65f9a08b02d7c1e6cd185fbd4d96a892125303a5abc4917633ab6ba02cf9bfee5470b30a175f64202fe1f98bcb663dbe43bab4ea7fef9099e089cae631a4e1ea6ec69a527102287111e96e9838a58f085bf84c245a81d3ab29fcb0a18d176ad61c3f6b173c049868857454f263124339a9acf7f38b7ba59b0dc4e2853ace5d6c28dc0df11f9403d43b8ac92723e5a69ba5b7b692aec92ec73bb88bf9c59c69c7e61f6211333d4fe5c2fee675e7c36124b64b5e699197a8e117022b12c2c3faac076b098eb2ee67104a9ea29074d763702c2bd0980fb1af2254fbd8dc2ae8111bdcd36875e0fce34d0637aec3c3ce0ec2a3499c791d091dbd4ca1dc069a588107c25c10d480064b2c2d79c0a4e8fd2b2c6d82b4b02454b7c378d1c34dc0aea15503daecce811fb25a3739742d8a3f1d2281889bb4b15d41e673459051ba6908a1539e2b374d18e02a6bd1bdb1c2a2774db552231ce38949b1a6bd27847d5c19d3963a32974bcb7c5786a811518170bb391550f224300a27371c6310f37e8e66834dd4784f87510d8b8a63663fb58b926da68d6794429121bea025e1de4531bcfc8db0e3e884dc29a8fef800fdc57045fe908e3389ddf9f6eacef123d9d9652eee64abd1105eefad2c91702c8a710cd66e8d824d6a9aaae33d9c17368aac47becd1bc4e93f6e5c2e0f3242be76016c483d2676acb59029df4960958c7215b8fc559b50cd72b638ab784162289f38d27930ac41f88025b8d8bdb94b104952967ec1b8f27979f23b18e4ca5e1b920e396fa83f34e3276f8ee2e3ea1dc24ecc3e2adba0d4ef57e776575da191f35f7d6c59fd31eb422c77bb71616188f99afa680990b3f08e6b4359a9b3196049cbd8dfec5e5c0d42846d8c19d7f2b5c224b215d36eb71e4de7f5240bb6efe6bf8bc9290446e100c8d6b92251c76d40b2018fce38b3ba1a679721470b0dda6d1bfd79533fea399d960ddd5808ebe1aaec76f0f5e5b346296ffacf38bcb5aa0479e8184923b7ee9ac6e2a491c8b972ec4e1268838cf7ffc0eabd72dfc13e1cbbfadab077faa06aa360465307e5aca14d83a634b682094c289313be3076538dabe16a88ccb54eca0aab70820d2e49218e731262346f4ca88f86e6a537eb1989e950dc660381e7b74b39e25c697bf913837b4d4afaa64fedb72e390b049dd5216aecac708b5b6781f44078582d68a55c2c7539ba3ab481233600b59915ece300cc1cb08473cdd56e069cf6e9d0a3d094ef375c64a925d56ee667e92cceac2fd4848d1c779b627365ec4aa06a73e630e7e4e5db2007aa32a326e8078a01b8641b6c1219a538fbdc2cace7e1608e0b1d58847ecabaf5ca161d71ea7ea0223e0febd0f73c83b5fe132ee04a8a09d5e3776a6d5ab8093a9c2aca7343508413a4a7089b660efb16e399c1f4d96633a5ef90d0182a4b018eb37248a7b378cd379771dc47691f32ab6fa4e3dff7c98b3c5ae321a1c2d28df8febb14b1322351bfe11feb8506e169a628a0856f29ca94905c5415ec0c4ae304beb889e547e16ad65c33fa87708f3efb8ba2f405c02c937f0cda1ab6618434a00a1e5464c71c3e65e2580ce2da086ad5355195ce32bcf7925a09f2a42d5db735da4e8782fb245ede60fb3f7a7070ec6ad3eaf4612d55b274d45a81c67879e7ca064c3da915a970fcb0381e66599f3abe129100d6466fbba7b696df16ff64ece446e04c9e19cd3c58d5c0a15634d69823191b6b8f0e058c994f2a63517cc57f5c6b4635482f58f664e13d1929a6a6dc0b432ff1b0096abec0b893dc0f3170703ce3c720227f22ddb4043289afde5b8e9319fd012b73c4f143b456563077a589ae439e23e65ebfb644a1fa27aa06fd348a43e3897a15f6c3b3ae1edbc94cd71d4b3adb8efed8f156b56b03e0ea78e97b2e9023e0fd3fb319194b9a7da274a9f55a75cf81d54817cd2a59a2935e907a077211331d089cea93da914fb1f51610576cf02c2ea3ed39bad64a979b243fbb465cea9448f33e57def181446e1c5767dbb114e33be562f101191598e791545790a8dda44561ed56e321f5d4eb7d349e46cf3bb98bd91462aa83c8918ca7be2b947b63860ed7aec498fbdb943ce876fe79a699e0dcb11cb5d6b80571fabee323c9c90cca3c262b2cd10215d8ff53c76d3d31ce952d6339bb824d245c861ef8a0755ff13c2d36523373cd2c8eb7bdb4541b2b303e5bdc571ac8f31e879b2d7a1cb34462f4799395755136507afd906caff817f637d3da4664082eb454868e7afac2fff37b5460b90624cacbc75a5726e709adc8b4b6d762707061bfdaab166b18cadb3f51da787c96be3e19be464284c1190906839256b70ec0530ec131504c3e34ee8e78e092896d87d41fb3c4d7718c41d2d41ed0387a089dcef985cdcc76a3029d4120e06586b07d00eedd721c505f1c1871825339ae1af5594c9fbf0675086cf262b74149325d3be16a80baefd827c4a641613f1dfbd11b99e726bcfe4afc6d07fd418c50bb97d11c1116dba4fcc9ae88e3b3bae6f21df70ddff536bd5b7cc0accc317413c6508deb0cbccec5c19ce98baa1cf8481c7ed996a6acd49ece5e84b9894c47af8580baf03913278f0f9f2e2e12df22124e14dc6c7a86a985ffcd09eb88263195f8d4649ab3fd43ac9a6d2c9c1fea52d2d7c6e28b6e2b799a6fc6bf0a4072ae74976d7e8f2ce593f7cd371f0b0ffa007a349136761ec6cc1094fdba63fa70b0d4ff4dd059928006cf99049a0f4d89855416ef6a238f685a07253d564261a240fe9206473e20ca0288c2b792e60a985a7d12cd818843d470419ca609ab2ce8cd421581aa9699e11cea65fc1be3f6b10b62994926dd6d748176769276fae1ec30e677c51d5e50a8ef9b8bb07ddc112602812373cb32c692d50e78cbc2fdd607a8aeab30c898463b3ad5aec2b0a7b86fd2f6e2982f152689f6b2c7c03f1a736b23e90cd9b8ba3cc1a0f6f10f172abba16b0f4569b1c79bc7fdcece57bcf5a4c817f5fd6a9f4238d01763ee9d0a1e5cd8ec8d59a25eccf854a14172aaa93877fbc50383474491baae961293c2c7ffd23cfd5b9437b3e918e34d831feb5dcc2770469d8d662d3638a9b61546fbb11b5ab59d91cba07a25274f44cef30b2d03194cf490429ba9319d95d87eb721c853c160b98820112068b69866d9e9495413381a9eab34e7a139c4235b9db5c4066262eaf3e1f168de9557ae968713f5f55d47bd0e9c697451cd0480ede1dccbfc34dd04ace8876294865b830e8d2b6ceeafcfec7e43d83c5dea7bd0781dce667046c63e804286b33d47d0612ceb3eec5ae8313818c5aea5a59a89a3a2b34bc114bfec7d9f1dd363f3e66bd54247a06af0d4fb73bd0b599a438195dd7474c15d37a27cb5109d1f0e6400e9d19afa12b67828280dcbb65e00f92e0f02719a0fb6af7b93a3e49fe30f79dac89754d00d39b74cf8a6d85cee70a42efd60025ae5012922d5eefe352fde501573ef7b6e742386b1933907b177f924a8616cf98ea04d0a04351fe3cf64d660cb138788384a01e6ee20b1219cb18f2647928b7b30c596c47054d1b07926bab06e8ee04dbc4a0dc5168587ecc2f416c311043753af764c74902b349ee668981e95bf774e54b5d1e4624d6e991f9cc3d05d0c2dafa626135ec7755a612a1bcf02f2cedfbbba4afe1e4753a014c0b993060119159502bb1880449a4785846b88695a35eb4102fdeeb510bdc45f5c914682f28136147f5ce97f8ce84a2b51eabee319fdb5aece524e8e83aa1d45350c0d3ffeb197d6d485b3bab197766895cb102be5a2ee3db4e4b87529fe50422f77304b5633a9ca2e6135d04171e76568e76e8bc2ba8f48ee693e81b5454bff6ecaceece4e489299904c16e95cd9684375c8ae844ce67b1294950946515c68786e87cdf4941e11e68f3106c70b683a2669ceaf9bdab1669a9120162d239bb120e6246da8d87a54b3ea889a4e229ad593fc4476c8d798ed12ae65728a248b03af9ae91e74b9fc27d247da0ec669b7a64d2c78399d200f85f4edbf62abf073dd0599a3af9ec90ac72b7c3112fd2ec1af4bccfc524f3bbf452984d8f7369dce8fdc1c875c0ee4f614f58e69740d5733d5f064af7cc87c6386983ed43b2935ce5271f62f4461ae0201eb96677936fd7eff2a4bf8609ee2027f706fc646b4ba841fae839f174e924c1d49934d82cead28771ecdf1b87fd645f6a5c82905014c43fee00ddc53f3cca05d0b9518f236e8f03dd2660ea875e2ed6ddfa11bec373db3a7a68c78f0ba35fa31c65088fc013d4da8491b9c26710e8aabf26d3225f44eda231e490d6edd8290f7733a6e4c32d8447990904e2e340e9be15555c563aa9f1ecc832a072a0affbb1dc6d840799d1a21b1517c160158cd16f90893d48390b840446bf13e55a16c500c06aea7a734e6ef0158cf558dccc1d6b205083341785393fe76307c2cc1a40be76fa558700679f14edcef5b698c239301cedbc0e2d539b83943da6809ae666081f2b87bd7592cb9af912f758129cc29367df58cba6890a1ef379696171cde8c797a5d0f17d8d04fce943d2657f847b544ee912ddf1","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
