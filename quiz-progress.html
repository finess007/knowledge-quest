<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c530b1f5f5b490a9b864d65af64b532d657b67f1c6172e7e49eb5e10846fba601837b0b74efbcde0feb0484bf6cfbf09458fbfe843e8bdfc13962fba7ea481f94b752801ebe25b0ac378a31201893e12b7472d8df75118caf639d93acb7b09fce24df803cba5171d420b0cd0686b5cd68daa7cf8c25c82880e5a3d6cec8688a4bbd3548db6bf661bed651658673d3573ae3781cc0b94655692e2e71acc2045ebccea9bce15093ba3590f534414e99024b8d1b9c007b7496116d658f96b48ce17c86f70706b25b080466cccd7df2c50389797e41dbca51bb06b8e12a047f840a8fa049db83fbc92988c2de49fbda5b19f80cd6c39f7254c6673d0edb16b0564fae3c6947e55f660a6d48187a6448230c8043da502b9e1e0620fca7024425d1243abe09264fb97ad5cc6e93879b13a7dda91337415b0cfe76add7528ffb456adce87eff5a1373d512edc2e69ce9253eef3c527d55074a7515e21e32c255336669aaa3860cdfd026abe7ef42bcc2c729f5333009c9df6ffc4fcced7b475866feaf94e7323839f38216e7eac69fababdbfde955b6fab9382b2a73ca93040193aa664c678ab2c9deafcb7a5803d297ef1913ef4b8a94bb146de6163a644999954da094aa279233b3e357ae6325144b3eac971a548684af9952611e8e58d7edf1d0543742015183743dc735026ba4f1fdc65a55306df778fa2ceb4a569837b1128d6dcafbbea5cd7c4d8713b5dd5c876abb5c04cdd6c86eeb767693c6e650258660c94c42f2850b2744e9b3de22f3c1d548eab30e7bdf45a2540f01b4fb11c593483a66695eb8320a521a179d1d29d6d6d1b42df0f4cbd448298604a18f669c1b7c4c67223a4ed3a0e9ba81233b385a4490f180aea57bf44fa41cad496879b023da98c8708e8bb8cc943e8cc5fd80af38c2358ec6b0780a848ae53a0def71fb4ad7952a282767610068b23e7a5922bbf0589e12dcdf7718cdb822edcebee2ea333b5a92f45cec4a0ba80ec0b9be676758ca6b715702d741527648128ed5b6e7847dc33bbe9208c5861efd82a4d9aa109e4ca02f74f65e1fec602694a224e7c1330dcdb83803ac0dfbd22542fccd39df0b2e079b57f71123d6a8d5f9798cff72e4a7257f343a6fb66eb0e008faa7a0a218c37f1553579b0adad21b524e7d603f56a83b220cc8ffd944b5d90b09580e87a6bcf391380d3eacd38b1499a5052cabcf613a11bd52355e22d6f4654798b3ab5dbdb1f5c677c807b33ce21ef44364de659d2587236da48d2e61dc1b573fbf6db0f53e93c4f62c66637baace576a137d5d81dcb795f7c6ae004011393d910180d38d9b38ba462c705b8c6b0c440073cb0a47da94edbf7cced94a3a051189da2ed9e2a56cf998db49c464add5797d370a3f2e38592ec8d1aea1a5ef210221913c5ca13823a0ca653b4c6f524263fd884916fdc3dce2623cad69097de1379ff2e9a972e8d8b426087b61680f92d0e34151947f7ac5a658fe3776f4fe6095139eaa375ddb9523b2f660bcc27a7ad147d31022eba3bda48dd255887f87f3341b2d10c244502ed810889aaf4cfcbb69b39c6cfb5f1cff5c6796729f96c8ed79e618f45eec3c0771cf165239e6f6f0ad7e51ee7041209321ae7b06751c06f809c3bcc63083d7d6928c49134d0af8e1ecc718544c4ac359d0735cac0aeb4de8b38981b5ea1e9b8337c0ad58298021412e4d6d24a5934f11663d146766fc61c973dfac7418ebe9677a8b3f494479487382bdb35f8ca50b064b6acf1e205dcc7289decb2b075aa19b4bd09ea24e739c00c12126880203d9b5e7939916c417739a25c921e9045e663ea37d7b49490433cbdce8870025783a510f12115a8d81f53ab04da8caa50515fb6fd495f34f3da9c12e12d4b38ef0bd5d4b69758819a9df5c678227ed05ff440899f0f9697b79e45975a3590d8c4de782f78b5c7d0943791d5333ea035df1af0357fdf236e21009e32d5a4c2a94cdcc48b2b8041f0f9fa00c184092870aa87cf7d65878ba1f3ccaa26f3dc540927c64a96abb1ba88363a9e518b4fa29bc6a6600ba761cc160942eebb43f554346a2a5f347642d8d7bb54fd0ca1db5345ff84ea78461f569203e4168bb0e1fd13175bd4c9a1534657584adf39f3cb5d19cb8a5ebc3bce2086e17e0cf05f2766a9dfd6ca20427e5ab24e2f4e277400a104202cadb7b3644f412ff5bc6484d7ed268cc6c243a8915fe030ff79443cd672012fbbb00c901846780d0f6c4941097e2f4a32975cb7986c7305b65a78b37f78f4b603583f5355533eb783e670a861c4d298b15b68900eb84a34200d29b969beb7e4f3ec9a7b30be7e16259f5f9d779a9273e73d720bc160ed8fc197f59d8549a676a2918dbab8fc8e970323abbbe1c1d44becb61da88d8a77343fe5be9f6f3c69bb647e8e533f7e6bcf1989e72dd5afd39f35acc4ed2876d557865d779a32c17c0ec0ae26d97f4b878c0756139be37cba7fa5c9431d2bffdb79a183f1aac088965d5858b76a7e13f89fbde9fcdaf43a41c66a2df40b2262b32e93fafa83cc6347e4b8d6590394d51b4d46a8a2a626235d17b1f1dce4e23a43d4bd2a3e69003a2464c586351fc9e9b98ee7bd293151498b9cdf0d15d1e9cd284fe484bc7479ea53b7d24fa0b5ef3a9b966fce0bc9b7747b9ccb9938bc53bf4120e376e161b7dfaa53b408cb1c5a1bee3e6cf374c5c7654e35fb35d5c5d6d17160e905c42145cf843b39baee7f089f5113341caf60ec522c3de61b6769f9cc878581b4ee4cce0c03a6df8314fdcb18dbfcd292f82ff0888a63626e1932abd798a305b8d01a01b6ae40b8a649e54c04ce21003abcd2170f6c0cbe8c96a61c391fba46a2e03a40d4d3f6efb5fd3a3f92d721742648450b21df76586377b91ad453f8a2eafe640fcbdd4fa54d6b83f0fdb7799a83b8ffc541193525cd5474e43cc7d293f010cb6863c1be1296fbf780ecb060b203307ab4640303c1707db988e591513727d0160ea02eceeab819315509e6be2b3ffcbdd8cc6dfa7c98a14bd99f74b7bf23303b86844fc642e3ff8c721896b21abeeee8a1456fd3029a356f6ac331aaf5394612ba315cc2a04b92079df0a10bb0fae59851bf08eb61f0640efac9208569d707127ba7ebc2281627f76e14d0a24c9ff11c0537b2904d76e141ff43eb8c04a30556c9bea9dca4512de124cc36df3eee5894ed60ad1698ba08bd7faf108f027ebbec3ef71be54a4b6352121ffd25610e5c3af0ea375d675410eeca17f31e417518b67a8ebad74d4baf98dffb3d9f5b809068bbda1c4c7853894d1d69c614326d7f618b0fb19e0d53db8ce7254d61fa007b54bacd61487cfa69d9ea05d349e6e6a97ba5fcdb0876420d1e2032d886e90df4408d1f45977c8f9c1bffcf45a97b661a65ab1739bf0b0110ebe418085d1e157fead5fc67cd30c0a39bb96518d923c7e43337f165fd1c21aa1f6bab7da7f67046ecf1cc52be0cc999104cd79479aedb31734e71c680f554259cc9a47c9a21de3ec15854b939a58efd5a21eefc5e7238ed795535eb2c3224469c4a6ba3767ea7584e0605e28e635c7ed1606b178ba16e18c4108a4b5d3c22872444f3d80a536a8f94571fd0fa95ca993b74eb76df4013cd74246833a957581d10104799877314d41771f8ccb281001d9f39e11d79e61907753e8ff55915fe477c682b8d910aa66073b386a0bce48884b61c98a7de344060b18369da46787a1133c9f1ca304370c5b081c8a8d68a33d3ff643fadd1b04df48023ba5dea87345f7703e6b773f2ee5a6d05c357f3c9f24786f0a68ef2ab460ef6ffbefa474daf7fc15ac61cd22c52ac788183d29bbca609bea19f593ba655b1b5cbdc257657697f8a835daa7c3c675e95f4ac2e0a3f209a0502b87278ec77b8b7ef96aa068a8b321f7370e41ac42e444351efe4a85dbf93400e07216327339fcbcf2cb0ec33727653af0312974460c48caec63986cf1613341c0207fa1af1b8daaff66cb4b4dd96b44cf79422330fdea83989d61d35d1b1e5186694d3f52cce9c1c04cc1998413c3d4f01754c765de09018358fcc38c5d4633f31613bb1350e20b9a879a8ae639e99e26046f0d5fc9727a11d406b3d486a96e698aa571df769390105b3b2ee121fdab7629fd697426e7d4ad5fcdf2d33043e57b6ebf06f2ca125efb1faed147bf602d5c8e0151a1b3d57f6aaf2e459e43ac3dc5d2846ecbbcd448990b8956fea8d1599853dfe7fdee9deb5a85f5ad6e47f2ad490419eb2862edb689dd36d942ffbee6d1c31de74a2b60acecf7afaea7563e901d08bc5dd2f9d1a94ab006f4f93ba3b28238d162d46d2cbfea08c792bf04f8dd20b7fcc28ca26f27e79a783640554fcf748d20fcea4896df55fa3ec9f38f1930fa1cc5a5e53f42d7052604628b410a30ec8ccb66890c3c09243109cd3734be3470cb97a2f1da7ce1cfb18a5d6082ef591f9912df61d8326f1c55d098b6957c29b3510d8e7b3bb5bd76c2c6f9d258bd62118730bc2b8826b42ec4a540f9489656e9f30ee6c207226e7b85d6ef04ac1f575c91ff08e125bb82bbe39975ea8a359fc42114e58052a71387a1fc5e46c933524c93843b4ec09f36b370ebf86174f2341f4f8c1847cc4681069f261ecd87361949cce1298d58eed2ea648b4a75c334c9ee641e4fd8319017b403e86495e0c70e3a6f6df3dd6f04217e3d4acc4657fdd31ed6f5f181eb06a71a2919767270f8cf47b3748dd98c75b8723d504395e442ffc24bdb6f9c89b6947495fbb7f9f85d457e0cb9fd0ae0d81efaef0214bc02b0ccfd5729495c93101a18b5bd389910c1c0eff0475a21b968cb4df706c093ba7cb1343b784e42bc617014baffe519e9536a5a1b61328de3014cd99119d57e6e265de421f11f1438d331f1c1dce75f3259c5d64893a115858238defbb3c94778a5465f1aac814a5b8540f8f843d5b5e6536918c10795a2d7171064704c56d3aee71edfc5799c03bc6e6766eed6bcebaac92f26f310cd0cb18ba69fc876cfeb9e56797da3c86918e49d95945b260d74c97f2c9245e64ec8fb33e7d2c0d3f916a48d2f57289d6932c40eaaa954c5f0722e9b6d54a2e8bf5b01c16ca16919e2290f53035a2fa21b415778f1156a1f50ebdd4c37f917edfea2754c55d7eaf06a09579991d30da14b4af5c7a8f8b51e2b6b8f83422918e327cee110e328a4e9e877247895bd61ab63b36d0f62f24a8f3937281f478e05b48cc05f5ef28001a95da75cc5418e506c1fa2b2ae0f00a82ca899a17ee31de6ed887513d6f33b0045ee9f321ab342dd556bc7fea3ed59fa4558c3fa2630a3f9f0983e6d3a681f9b9fc20cc6fd725f4864a191222c4f574252a0562b36aacda5decc071ab5b3181553215582222b939dddedbe8594867b8d29cf7ddd0241ac95188fff3d59d9740cc8208ac69d598d3a43991a72ea5544d6d49793f6a8903cb361b124a0027c5e022c9e6968e05bdaa563b12467c48923292e809eaf81be32242097961930f18f70e6d2396de2f3a0fdcfe6920d470d139e639c8bfc0d0f8ba855e469dcf6c329104c645079fa3bfc78bd7547e2f2a75a0ab4fe3e6cc4d06ec08bdd8b1433a9a57868379132558b5b2a6e266450892aa9b297a484b3d0f0f0a7e0a9290ea163b9aca87f6c2c7ce3372aa7a23c61452616c91fdf830d1daaf2d435ba02b02f04eed709945828b058507b4ecc259772469cc13b21d6261a45e0392df0942986f75280013040549724b75b20e6fab7d2d9d1389572ff32a42f298bbd185cea94690d3b5ae94aaa17e6b45ed886c4e976f2d502f4135d99b473ee68e827a732394a3bfcaa8db435d800c38137ba2a5254a85be4d2b3bc4b86888761a0624495bd5e4d9773bc2c7e3281d5e0f47363f08bd42c5cb5eff2a17dd838d7ee8a6fff0a0f77a4afdaf2b366f920da4707ae2717b20b5cac239e3ac21fe269cd118040f7391868f540c14cf5ce641a825eeece8151542e3501cf575c7e27ce9182bfb3349c37d26477caf18bab1f101fe9e2b8c2ff69c7fadef01e5064704b96f6e0d4d37b8ccc19a3ba0d6933e9b37923482be5e86b90404d65015051bb4043401521fc37e42d016a7a43172e04053f10b08424e53297bdac3d3edb1ef2aa57af58fa9482099ff6b3136c8611c26fa8dfe710ffef540c8bf47e424752d4331cd21272895a29d4b1b991d24b6aab0c12301470f631063c71cc1174c32532882051e1f173b3a54c44ed3f13d894df478b7846fae605639c3269d8d6c2ce7fea84b532af45c78dc0833d3c9f44294bcd1cc8265ad5b51e6e0a0eee1b550de9175f049c133562fd889d14ab196e99a4747772d8223457cef7c41bd92552a662bf2f47dfb180d9c16edceb10793e12f054489d5da56ee334e450f8c16ffc42c00bac2542ad9ff1112f1efddc933e0af8afddab422d2a012bca96c1245e455a3403dc7817ac9d58f8ffd5ddaeeca62ccd78a042b1bfce12f9b1ca439d55971137179746204b4e6c1b7d3e210c5b1bdaa57a5cbe5793454e5a51c6872fcdf5d785fa7ea4cc8c227db3c5d288db320f834c3f35b0d3538f54fd94283eae0e3d04e91f11cb03f78cf6295f34652dd0663593e5fd4b9cb77303906c9eb617b5c4ddf73a2aacade0ffb27e7f787afe0e18bea322cf741f6d5337b2bd9595671a3913aa7563e492803c551f7c144169bcc38dcbf5a81aee8c87b6cce6b9416fd24651b23f5a09a80761837e1221dcaa05c507048eb0b45a4b25a2d24e0f665544075cda2ab2f999c9f9a8f56002a5d1b9ef4f4162101a2c66d40336f92d672bc3fcea61c50565fa98c222316455b53fdba78c7d6678da79f9a342c13602ede537963731dc21a422d02c712ca347bb5b61b28c7c13e4b8c5023e1c81141c4e9cb6ba92c2a4e222433c5a59ba1dca40d69aa2e434127aec684f5af64d5a82402fed272b38be47e666d4ab043ef0db9666fec23ee72daf99fe4b63ec31e56425dfebbecfb2ede92eb72f3c5ca7ad9e3c0031996843f894d66292d44b81f5f3c6e20493ce512803b5263aea09c0c699505db28cca9a56bcffe3823555a0c26b3b1f3514c992f887d52820a11e7ea248a4a1645552e795f964ab3a4689739030b6f80aa661e8e46ea2dd09e3e13c76005c6b12dc076d362eeb4f0f19d86d49f3bfb2c5d850720ed443a88eb7ffbff29d15b9a15d8e8fb761282776b07e41dd8c97695b5f6e9c804342f808658d4306a8963bc7f35c363064d5db30ffe573ee3559f69c459f444ac3d1d0895e257581441958be7458b72d066cf5fbea6b4941a50cf64de55b3949006e495660e06a83fc70bc2694f7943bd568c577bad07652bae532b20f56813f4346c0ae2d1bc20f8791ca0564db71cfe526647b416888f5c6d955cb87a0cf775c6843b71c0576ceb718752233558a5706f05a196f7d6e0050a5027431779f01325ffcad7055b8f88dfa18c72404e58bbfe3bac8f91d6deb1ba5741d9a9773707d77787e8101296b8a6ab06696be2ceb14d2a40ab698e3f46203b4f03ac34dc6416fa2b6ed499b662467069e9a1815612e973caea97b0d74e99f88d7115de392a7ce15c2cdf4f28c2a966ef72ff0df4474e79eacc6017cc3aff0c4054c3358264def22a8ff25e6dc4bcfe5077834489ee07ea0765b08418815fbbcea301454a4da6c1c538c95c6622021aeef65927dde2071710055e6bc1cc463b67352114dbd3a0f839a7da5c45105b4ffd37150b21218db5f901eafb74fabe7c249e59d4179dafd69a2ff7f0bbecdb6a72a76d41c8ad04878bf28a1256fd145649fc6bbfb4253c2b434d9db0c85132268ce194ce0e063687d12f3a7d7f26aad0a9722a6c2bcb55190957441288d8923773848a2fdba2ba678d183de56c2270a652de19cbb081fdeb367873b16299a187d44d7b677a62f35348214b3ce11b14cbb89941b22b35df4e43dc682221e066f345e8405579e242a6cb75c77033faed0d54976aa5fd2488e0de97c49ff2d62dbf4be864b34aaeaf1a2e39bf040f2d242396eed519d66a605781aa2fe95c40a36d13bb49b08d2ed74df9eef1df3b348642af1d0f92a86fe3e94268eaa14a1cdbaecd894866c5cb3ab2bb93e25a339aac73468eff67e34bbdf799c56876d95cacef857b528b30761e91bda101053eb4a24eb9b73018da9cb3e4626c90f2243db10971af3d06d43acffec5b10172519c55c2987e1c8bb6ebae10ae3d09c28a2c5446f9ee044767a5c663b60847bf498c733558c1f09aac19b238352c60640927012d7d70560e2fe44b2fc8c54bfcc3aab21dd1b40f77fef2ae38c0b5b58c2ccbc271b4666e64c7ced86643841d1ae91803fad8f9f01d03b2c9cdcea646b699acda27771abdfae99ba644dc7c198304035fee8f0210914e3caf9999cb4433a4ef844791fd9dcc0a11fdaebfa2906660b56c2411c95d7fcc99c1433754a835c4ea39677f036e9e28b2908bd47e1d4c3a219740cc9405ef831c8c2947997bce1181156d603a64033ea33ea40c85ded83be36f5414284fdc7d62b79bda838f053928913f4706e4abb8eb22d085c6d86e50da9fe7cc2d655768d8d75291bf772aff346902f4a2cf42eed46dee4fc29452460368ad275df8b92d0d94a8ea7b75d8d6ba26023f86e93753b812b4af87ad852c55d2cea267bfa54183de520e90b1627a19a8a33d5c89d5bbcd0e1d13aad20519937ce394cb75433ade830a966708dcaad355bbf08f5ce8fe9451a30228b380166f3476cc689075b08e26b36232306e1441c19edbd021707ff163fd1198b82940b8395558ccba0bf40a7655d28197d6c2317b455993f5a2cc92e9aa97f65843833b1950ac8b45b22292adf59083e8115f527c6775e964f6b86be89ef500f10b89c841537f7f4257ee141c7bf1d67f9eca7965215b38e4e89196970bcf0b88c2733e8aa1a52c84a31b1e7e9b8d8a873e6f90f2c3030f0ea7c8e9b016ca8ca9725bd350678aa13df1230347d7fc86eeda920bdffb68c6faaf22ed2301e855800903a886cdd79490c6a7253e274cacf0acd7275092df05d75b06152fd3dfc772b839c0b2e7815bdd6829d0aae8258e8ed86d900c834b63c5db81710d8a817907281b575d845da74b59184cb6968036d134c47b14977a0282e96efb0c2a13087593e7cd9398153e417e27bd0d4c83564895988306453a61e5fdcde8f77adb88f84d6c9c78aae424bea97f3ea1e8b0c80a5abb4bf0f234b5d1c9b6f5d3976b4319e73477e2c10193a230f8bab6aa983aff948a18bae10b58aa7c63711976b5c4eb916675076c285c4ccbc9dd020327816113d9c65bf2ab8439406cb682b5d490d8b61b5e5dee79e85332303e9a28672f5b71437e0307ce68a3d529994b97962d07fd08d1c887fc6732d5e795674263eaf2b08c2493031a73d4beef2aa8e4e720ee4ae7951e3a1d9d667ac054604e7b2cd58bd160b4302f0deb3b8dc9708fef15e9997ee9d7667993f8b5385d1f49452c1dfe3eb5377e3f9a8a0b5c653681ba6ec0cf8efd96366fa7d42a27f31b704094333ab69b4df09533d5365e28307f46e41237a9b302018b794938fdc36fb83196e0cc7a660ab584652d22c5cfafab823062c21a767f98298c714dc3912ebfddc2b83a20862c91b78eef0f9e4892129a29e0d01c0ed867c2663f4fb96b9598ae6d3195495d1200832654557486b9917bd769a15f3333616e152a7585b8ec81675f4c4a15f70436fc2eb5e3f626d9bbf22537f50bf6130b1e90a0e74ce06d2da1d92eac7f3114d9317c1f2ae95dbd35b2c21bd1456fe9cb41ca1988f2c2e99209e5913d96e4c102c702853d85eacb8e108f089e41f3e91a54965681ef0092d525c37794a0a064277a103c04c77fda98eda8bcdf261cbc1d1a2d8f663a72f7549951b699d596d0c48945e0f96b5ece9973f154233c45289d63ee8f4944cdc95a14bda9b98679da696748c1b2825da875ddcc05b5f6fe5a7d523b86bd59b82357dc5bcacd5b4611dfbaca03320aed6692c4311ddd7d920dda57a4fcabd274e9a7c62305799f05c480b109416f09557d9157e3879d731331255ae92349944ff117a5dd48275b96cf113ef080d32d837ab633cc7ca84f446b322f88d08978a4df1596480efa270f584f7a83acc3299315bd427800c90daa1cda535978107b117bba29f6cb99f9cc676a6deb30e0259fddb5ea016d39a8d17fc0d4424161e32af04e1f26203a48ff90200768cc775ca0edb418528d5c95f382699d8bf2935128734c686b3bf2b103f171dda563535d5e75f461eb353fcc0f1c649b5bf83496b61537633b3bb4d27c08b3d50630837815eb003dc37948fd29a3d761b056e4b7078c12a3229ab5517e3c3b5566e2b1b89d40b7bc85cbd2b31744ff257efd805f6d9195ee932d976191fd718d0fa73660e0aa529f04a281b308ea54699d6efae3a242e53e9d39fbb55bbb42d83f3f26854bb6c3fe6a73a8248b415921d9cc0b17b1db6cb6c60b700fae4aabab5331236c31bdcee965ecea9a1229657a5d969a7f5cd6ab0b41cc8b97877938b3a7f0166b948e5c708307af079c96b474c6e6768033bdf3a79eeb864edf69f16fb1145e6f5066a36537c849905706d3a5fb331b6aaa07de2daa68ba8c875e04be6c51ca13791a4cb24ae7ff6119b93b2c7866aaa24b99362e74cef5b69eeaed1667093dacabf5146d58b6985d5ed803282467c8fde35916d380fe17796139aebe221e89910092917597150fb4ccb1c06a5bf06177836f68677a1b20a76bfb7f9d4acfdf72f4d62e9211f16fd863b4a80755a7b642dd3912ae3b035c989d7de17367d20daacd32fed3500ef10f1dde00d4c252e546bc21129389778533dbed6e50d4fca607b245f84c782116886afb8f5c287d02092190eec11b8f255b38594ae99f383b04c34a713d2ea17e9c6a16bd29332e79f0bfc9fcb38754e0d04e3096ceecae9743489122c4bcadf12012ef7f1c1fbed7a352a4705a0d29d9ddc81d24297e797bd5a874ea8520156363038baf53b8b9791ecfc94d7ce8d566808865d0c28c47c8731679cc38920dc5e0a3e899d53b9580627c4343b2372b3a445bff19cf66044b7fd713debb7881fbf85bcb0abd30b0552555c8dbedbeb747059ad3827dd0be6074ce164a2e5dc78586993e7591f5fee45c3facbc2fd58c1e844347f73ff809495e7787f07d06899fb80b4a07b01dbbbd1b6ec345d4b905067986af2b6054c7ba014328b88e40302ed04a69d6f570962cfe6de8d42543c0fb9d6989b07162ac4ea78acb7f153d93745ce7e94383634ccaa36466a7fb8a83f55e9f6d6cc0503c54857d3f816e8adcd4d72d7abb33da377defddc81ed110c99a775501b62eec266ced2d165dac9e7dd64c12eebc8b44a8f31781c3e500f65f6149928ab931c654396dd2ee09efa0c0f2ff8e2f492e189ca0eb14f9d82fcef8b23d2f4be3668fa62c3282651c428a660ecff77452881a94c055815f61674b1d800ce6fab2ff2c9f118793f235319aef9b1bfb7b0afe95f1a8ec33ab96ff0354ee41aaa02fcd0d1580db50146b6a1f7c5c723ff882f860d4a974fcc4a49604a9997e06541d5b5dc459e5630091e3d30c5fda7bfbf06bc080e513be66a9405c2b50f4caa3b6ab924d829e334eb64bf248e13b0b3b2bf51de1562b994193b45a59e99bfd2b5f6a0403f05eee9b6c56c11bc2d470dddfff5c0aa2f20a9c258fa054ed69bf669ccbe8f333a15372b36554e4842a4e7de44441a98752568223e2e6a012b3bb2d522795d6d241223e54670869c6a238e1573e8f70b4475dda2c46a23a4ef962a6d0af3035cbf14624f6c5754a48a84d82a85032c32a822edc96ccc21db560d07d6e02b26e3662bd77901214457b43455b6afc387b66fa165a495f72e09125f15e670635bf04a67b756502d274c2d03dae985557ffc74b74731acf02b7e2684de7d5ddfb4886d5027c8667714afb8730dba4512275364b4c0c1fcc78ab7fe2ddb2c897204f7c63e7b1e5df99b9e81bf30b49a75552e4151b7877a42eca5d3813b4182423091685602879863a871682b2274e70362c9473bf73c682facf262433a4d8639da04968f6cbc013dcb549ba63310755670f5885bd716041aa53115310702bfd4f0d03629ee0cdb20234386dee71db5bec46baf114d4b8b47d37931681a3caf15ae8ee28bf26cdd2b1b5dd04c35982b7c3b2a33e993fb6b1203c8d5c89d778dbfc32431f31d8958388855511ff1d4d4a162f96eadc8184d6577a44e275ea2ce577be831a5acb5d531d304d77a566084b4e36bb77d1457d022ca70fdd98170d15874e452e634bacc4f93bbce4adec26ad7b3e72baf781fb4730b93d9181dd3df483ac48e33afcedd369b440c3238df00426dcc68652622d841d5d990d430e5f2ef9807f0d241e324cd85f97acdac494f6e714326e85b5aff17112ee2803bb71388901d2560ad062cbc0959f0c478fb6d13e021df4c22adca700fe4414565d7b6f708a1739d76bcac88d37f88ef71a8d87996973d3ce981e7fb3523aa3f3e35a3855b9bd57366e93c5a6156aefe96fc1721f913532e3fbed66b312f5f8ea73fb7f72c256dc21880ae66454f43fd8e36284e9f8f377fc14905bcf937640a65897edaadb5032f4ba02d1aca1464bf29d04ff2904821fe55a75f1aea19c0a6827f9f57b7e18ae600dc37d429978198c53e0d2e9426fa03ec0dd8265ae4bace42fa671555ba7e83f53d8122cb6151a9a12db534d2bcc588854da5b7f985e69e13836efa338e2307a6267b8e27dfbeff02ac083ef61271a5ec2a8b0d8ec5435feceb6263c8117860a927e5ac6999f32f8daa404a80cf16e59d17cae38cb777a2a12b3bfb76928b7911f392d4405f4c539f1206f2c1fd007614cce7c0db318441ab192c88938545596ef37a1a810293b0ccd507228fd8ccf889878f4a2d6231b48dcf20efaffb0faf14d6624d06927ec523a47b6270647f55b1a3df0271eb61090aec51ad04a82bc5fd44c549604f3025cd53435e1344d64b069c7c054d4be849fb93c1ad68d9855aa2760ea55dd8e2f39978e81a0ae1cfbb2651b4e9a454cff004781041159a365def71c7b1fb84671b4cdc42eb486e34d65481932965715e44a5353851b441a2a1fd115b91fd12a30198a824bb31975a544e5b156eb4a8bd72586c56711cc65f02d6b1e5b93c357b0d634eb7f4d34af82d12f9d242e934ecd0dc97ad25f655b71b8d05b5d3c33837f150b5dbd1d4e5950cae01fb9109acece8f4a9ea225f268d755959db374a6f0981c6499f207d0c818254868d092b4f2068b9c157afd29e9529f7ed42e4e111a0c55b605cdf1798dabd97bc7d91416247d44ca0c5196f6b4891a1ac8a04338f98b6f721fb1757b7962b7c49a42889e47adc0cd332421493b37590272c571aabcb884b60d2d38597812725835daf50849c63cc99f832b7f1bc6e575c1ee8687483b118be1b22f1ab1bed8b78938a6594fe38b0ffd52cd93e356450bc014b111e9df6b86ddd96e4eaf64cfb6125010609447b648ebfa2f048d129d1000b0ac650e2e7c0d2c4bec67d7d56b1faec92708f9d6e8db461050d172bf995b815f695edf2225dde348fe63f325ec6601f399b8f1eeabb481616586af4542156ce5950aa1d29b27384f12c03b9159213bdb72a9f6a08db96f06fbfc3d1658ec59cce30d1abfced9c29139d813c730bbfd7dfc92bd2d988ff18c968c7b101fb083756caa2a8efe4b64d816cfb56d37e12d88c3edb1052169b99b0b6e8f62cf89336e9291d886c9c807a2f8c64bd8996b9109cf0a78d5d33b67f712fb431f2025ab7f44f9299813dd673a3194d8ba80597f0fd0400e93c82ba36c7e284f28212ffea12bd54ba0dc93caacba32b7740dd3e3dfe1e9b7ecc686f5fd4e6e601b1e92b4f6fafe3f6f02cef7f34a0c6a095e504069d74e15a36801ab4edb1f17f9f9751088261fb9f051e0ea1fd22af00dd7a6c213781f128ee335650e96d7e48052fcaa66e5813c36335312f5b613de538aeeb8a5b703c4a69bf44bf820e0f49c07c1f90bdc10be4244688c43efd09238ca31bd7de112a878ef869ebbb93ef9a855b823dd1cdeb3cfb59de0e96a2c1b06a32090b3f9671f477bd413bc83ca7b184e51d1d78c49afa34870b971ef32aa1d6a749f32f86ee53c2ca41dd0d10adc0c5c1190f0149b2f536338a74dfbc5f3ef1faa6e68396abe0c67583bfa3389cfd9a82b284da2ddb4fb15296b3b6990413296a046110820cb66102f2fde981763c87558cd28a2732e26661e16d01ab2884fa00486c48748f873074c9d51802fa566dbd79929ba33563af7b90fa4c5923b21d10bc5e40453e329870018838d3184b829596c370a26943e7d00272dc3c572931baf72c60004d38bd17bda00eb759db4a9eac5cbfc13ce928a2582c65c1f161fd9d5a283a1507aa7bba44e8b357da8c6f1aae82a33cc1908f7979d0bf829907885c4ffc5bda55c1cac46eaecdef99c2515d537dda63e694d9f1810c6328c959a8d277ebfe14633366ec4c967cd2dc69897976f205d5108a8e5ea1cebcc5e787f047d4694f5766090dcfec9f212c58c6af028e7744f74f7ebd7a7e291d7c7c87f630baa3b54eeff413e2ce083456cfcab7b66f372cadabff1aee69fff9198abd3a9c9af44ab9e65491edb93152057097118c6e1cfa85217592e7af0cdae81393976e73fdd30ccff58601e747e1afc5583e40c161122ef1f201eb592593cab7d741c03976df34d69147c25a2bbcfaaec9b15198d7928259c48ac70e81e214d9b2060387a71a086a292f48ac0e771420f594d5790af5054088fa9078c192966fe7507dbc08a566105bb705876c6a3e92318fae34e73ad694d137a02f53d538b52731e440351c5ad8c9f8cf5d5d83b50cf1c1525664cf9cc353dc32b5d597946419e7e8aa0a0914e6e52774ee386d184e81e2d5344efea2d3ca715500f480ec6cc2046351d1d944617fea48b9b646ea2a5c67b638179bdf219421a28c3044c764f8653277b6ed9fdcd555ba53eafb9d16cbfc4757166ed224bd6f4fd26fb3586505d47460e9a707817f4670703ac1c7343a0094ccf60f788796deb78b1cf7da7635b27bea34f7896a60f7c05e1df3d3afc2bf1ef127680094ced0763d5521a6d8abdabf197c1964f39ad5820fe37bf55550c0decec037e960bf9e3becdab17695387a65019eeea0d30a27017fd5473fb750f2ab6f09357af61b4d1fd5513f8f2aafd6d3dddcb8247a26feba5f5dc568e2f532486421a08c9864a16078c72a2af2b199d7b875b2045c1580bb4c06043518fd5cb004ab73607f6423e3b6f2e28d0e1279845cd506599196a1c9b7eb135d5d4fd6b977d39976680247bcbf2bb3e013327ff848cacf1d4d14a00072d8024fd20fc8d944eb15f2ff2a8220ace32584fc6b935d48b0d9d6c039d77714774a97d822540ade4d6983df1cdef8ae5d286c5ff3e7ec7f5758b7db134c86f3ac16323bead0a8c013936a581ba6509fc401eb5bbcf6a4214f28822d4cf557055bbad66c7fd8c952ffbf6b2ca441d8678122ce5963801c9d2b42b45b71387d91e985c58c32881abc8d18cf79ae0e1f74411b279e3255acbf23958e199a55927a0e88c95a52aa2bcf5f896e1971732cc032ae03fe4aef2e77411c47002b001fba82eaee12a1bfa2b3542fa432e6296aa02764578427d223f3d3428a8811334fe8559a19ef304be390d81bd260eb817513f252c7f171543deefed4d3690c603f192506ae701cff43dbf39fd08f710a97370c8f61a9ade9e71de5628978673ed7eeccddff37c397623386bb8c99a73819512b4e04a0f537cd6a7bfa8738477d9a7e98b5527f7d2cc91ee161789c1f96fa9de814c6a72d310761b2ba88972eae99ef0a77c2e7d83e86b1986e169302a39c646f238d6304501e36a322b3a2cb3bcb4690f78098442a6272ff03d5fc15665cdfbb49f84ab26906bf5c86fe5a216cd90981c73bb2d95ee595ad619f61d914a3748156bc34d2562d0af389faa0ca2908310d176d3af31ea4a1941ff0ce2c7a8a91d3a90075ad10834e132ff502fa4059fb1727061e71dd8334c956e18c952f128f92058a27ddca6f8e98588cfc5a21b6c2fbeea571edda056eafe79621f21c5c16cc87f587858eff460315ee4ae3f69f128b622796b8dcdb4f24caad65e6c43e33cac81845263f03ef1e67f729ae6758cc99d87ae9ee3315f0f04008ed77aa7e7b076985abdebf1751ebfdb491ff3ab7264e986d239bcf0ae0cdf3c9c6530e1627b2d9d3e66d76edf772e758a3106ad36ad2cb259e2ce137d7367e352a28208aaf7184b429a11694c9a14401d6d0f97f2d19830f580e604cf8b2b4ba1eacc19d092d77c9c04f4273b99710503ab4bb3706b1f73413aa60d39c02fa3f4416d50201e8551a396c72e46b7ddd1ab4815363b5fea26b04379d062fa692fee60d6a4394178aa6735344eb157ce0e6af57fe66b8d419fb6820ecc11a1c8b8d4f752c5c10936d7facefcade797d55f0d6c5ad3cba2a33b8b18ac5398a0d435e2d414f904f72ffdd0eab232c46b993619e9da8af1bc8ff2ef783460b17f74689899b7ff70dd3bcd3368f6bb5d030b7216c198c030aec70a4acfbee0410108479fad3731f61a16c187ce3f09472a8cd885d09e57528bb492ffb5cfbfbce9082941c52ae240f7ddedf92967d7b00ea952c2483fa222b0f7b1ee5bec16f778f764eebf87ef91075ad8757ea5fa1c77d6738bde57a86f116ef3d2694aa3d9407b715aa3bab4cdd856992c6f6b3bc637ab55647c045050c6ebd4662edd7af296f0053c2a07852eaa54d001eac2d5d99b5fd8101e54cea22cca618017eec76c9a09a1f3ccf145c89842a7675432c16e3f9a5661a83a9eade5e86752fc87ce945c122aab822ca0c6d4bddaaf8b3d2cd10e06b47a45d7461c1d9444d42c47b268e5df7cb5b043df2c7b7acbbc114edee41ab8ec281b43302a86ad60a3f04a58332a14e74e5e3c575b1618f68eab103dd5fb72cecf765d9a1a149a1f27c6d7b4d7f9ead843dc6c717306fae0477ab8044bdde109534f7b87f673a4d14b9cd753766e2d0d5b55573c6739d836e07f6a8f2fd7bd401d4669b651a40cc4ee02ead916533dfce8a717bc292b07a9eb97fb6ffc18098e80a60616378eed801bd45edbfa6c1f39d67af4d0f29e7f56f4e43e4c97330995a8093b6bc37f57a2f0132b56aab7148b974e268f332e9257abfd7e4ba5623854b9f7f7e32c40b7fba1dcd2de1cb9240e772e521d1f026edb906cb9fba4fdd79eb5044b6a10b1dba295496781a13ba40bbc7291b1925ced1984b4eaf182d508fdbd95f73d35f46b472d4e2459f5179d2224874f6d72d798e4583a7b205b7479b82af6e1f1564c2dfbc468b519200d6335cb6905121955049e5bf34ba9f37edb3a259707bfd93b3bc7319682a27f5f618d545fc3486cd94ebd57ee8424380722751a0a4c006ee9e57b3b7e88721f888a289adb510b985ea63f39accf229e64a2c887f21d9a44f64ce73fd673e4ab4d1e2b87693d05fe06e0b7ebfa8d357c45c2291c65f897f0645384d45f6cc825dea93f0fe1833a8b1fc259f2bbbc7a3ce9ae7fe63c4e2fd8f378f32a8eaa754983c76fe36c76c43cba810ece46e24b84106d61d40554c3930564fe49a1700f317463d482bdae81bddd84fed60a25de990b1a2a51354db8042a1887b599819ed66893e70244a80cb3db941b849ee034972dea291e0bf5faa7136a3b2a9f181023a6593706ad7c17505326b3c6c495d71456e172db860075d6ed4748d1d9d50d6b86d49be6359f56efa797ef15cbf21d4ecb058385f54bd1dd91153a41cbec0dee0f3206219182b603d568636cd8a285d70cb5521cf05e7cedaac33da38e35ed332ec45b61da0ff45bc6a9b6009e39b7247be149752c7dc3f644a9ee6d305ee20358dc0fee34feae984bcc6e1aa47c0cbde9827be54f69e791ae410f9e838b1a43bc23a00f8e8affde514e09c9f3b815e263bcd25f93aed9aaa922b03c094d70e90fe389b637aab68a2643c528ff5f710eb5fbfc0e469dbb2aad60cb8c3ff81bf57fbdbf6e26708dedd67d261b74ed61a7cc990303fbb9044757f7c2aafa44ef3807ad87e3c1b7bdbcfbbd333d13d24b610c1a7cccf86633322f56b77fd97afb34175fb99927f238f0911ef415f29e458f89a07e8ab0b5179da767a54d214fdc934013af051b12934d4671c35b6af0f268b1ad9c9aac93f065d69e51f157e59ac33e4fae4f37561ab170db596314b85bac6692e2283fd6fcead06aeb111aeac217e64ce1062447ae83c984c94ff465a905dec4056f55eec9b1d6881e0e70feed2ad221b7473aa3ae40cbb96bb89e3c44a65aad660fbcb8c9970e87bb0bdc42ff0a99d2fb7fbfd6269069ea6e42704f1ca796b51d81430693d427c7a2f262513691b2b0a9bad63fd188c107e827a8878c3aa1be35aa33362611e72f741112fb14569f74fcb2dbbd40415b59fd76cb15ee1f6158e88e42146c58cdced55736e531060c9c6399838e4f4ff47d04d70968c582f93faf855d6cf51e2da82ac43dd5548e4d801469aad24c892c2dd2fe2bc062a85415dac015fe7037396d44a1366fafb141f6e1c243ecfc9042d909bc184affe534eb79fd0b47b4c09bb2a09daf5bc3b8457653e84331b1bfa42378dbeee030e0dbafd2920a84843d804e7aea6e053e8254afa7060b4f4fc03e1398928fd6654a120915b33b65a7e404588699ad3bb4e5573b6a3531b94756829bc60b566bc8126e34ec0a546ab9c80beb23fbe4ad723f2929e47afadeb337b0ff25ac16e271b65d11d35c70905f79d505c42f2a5b7571171d655c96a824f831ce99f00098331410510755d64beda9494e8ef7ed4596cdc74194ef35c90bc7ba94d61d1cdc90d10b8dc67d7b8845bf61fceeace1d29f2beda6ba46ff5e2f2a4ad2601ebea7cd3f23bd17f855b720c325a8addd2e7e75520dab4f7f8e42470765ac5b0bcc678431912ce468afb24048b41c51deb97a886caf59f3b982173718df64","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
