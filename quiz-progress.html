<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"acaca078fd68371bcc1556336ee76842836cd29cbbf7d581ede0a00edc86959a012c4283482f823994b5aaa4ba896cefaefd71e92b38b48017163810f877ae39464d32f66a3de0de7fdfa7c259fdce40f20d5500d823d91aa32bc5e3ed6d9cd2e2b57321ae1b9331d58f483d8aa57cde0924b3ccf3411026fc3d1e105c43c1f635e28f25511c0ed1ea392521fbaef192fa66a78850268879ba863841a6e8b68c509af9a5777325b9764d7a3dc8f3bd7f3a81f9f842d73e7167efe5f120d3e9030ae7988ba14a10e02f207f7274716b4fd90cc4608e8111c14aa3571869639ca19b44fb248ed104b82b1c7e161bc5847596e832520e57961356430696559dbc406cb46bd416ac6d916047e68b0515c652b94bd2e05e6179e163adfbaa554651ecf743a3c4b4400eee6ff45028702c0a6391d3b132dd30b57b10a37781e313241b79631028ddfc4a84e168ee8f93b35a9cef648153679063a9975cc92453b45b3c7c372ebfd3c59c394b4d8ee64da3ef735a4fe503765d679df8dd28450c8d17677faadc7fc77dfd4f79fd18581895afc8cb43512683fac8b6dc2758e3dd08d1c3a398aa7403d69f0330ab620774f9a9da88a86386606d4ccc8c0c5b82350bf618665e7e7ee816260dbe02b2aec83ec9f2d8c811a15278ad3e0e19f5def37e01d9b40b1b40f4c00eb704a30bc7ac7ac90ec67944a7a6a222880015413060c53fe974c1e96cac06416499c20e12c2456a6caa27f69549c95d79a05eb4319d34a8ca5eab083d28fb4591a29084fee4455b18ca2e3127837bd69414adef3bf31e15f02607b3ee80d3cdd6efc3e16f3297ff52df5d413bc289b6023d92138f340c38084f2169cd1e67403e693fbed5931fcb389f3a1709502d8b206be00c9d25aeeb1c924a93d80e1a3d8a778ce651a42139c397311be58cd7e46aac0361f935c4dc3f14b6b59b0658dbba5fa07270199d59434e28d92fde3a70a8ba96a87fc5cd8f22eab99030eacf1a8bbb80448898f327bce9a0caaca5f7333bf98929a64ed6f072b57327b92a07aeb8774cb67be03d2e954b664b4a78e8ae7b03e6c0c7fd27ad279122e4ad71b37bb0339d887e4122b0bf932a613f685ae6cb15d1fd033f90ab5e5639aef97c84abc0b75a7b86b0352fb13db2d2c3bc6ddcc2e5414b9d66819693a0d431b0670b2428d03232b590a869a690da8531cfc9f7922500058b0ae55e69057e09a5ca554becdac834976bfced435beb16735ffc63daf04fe9656651d19e265c724181edfa5ce6ffc5e2e8e6972fd8ced47cc5ff81a7c9eded594ee93679929057a2f8cd53f58db58de983f355a4b7592114649bd5fac527282875eb3373a73e50e22f1d572e0d558a9aa720d540ffe7cd811cd8a36b4ac21b5734aeacc0236926786bb25a4f3c90b2e12442c906af2c0dd2d112efc5c0026c7e2e5a28e6609a1d35d7954e6314bf5bc88f3e04092e68cf8c80843f95be0e6e46ae86aed5c0f939842fe9d7516cff5f646a549658dc6cb3d4f4c4e0eee1e6d1b9b2122f06eba0e71620384fea954935b43ede5d4eee6813a50521d9b4c14dff1e5dc5c5e661848a4f8bfe5ffb7508e8d58d33202af777a46a6b82ace8497bdf716f6b4031c955c553e48117842a35c6780f5f61cb7691f52f0589ede1e6179746a97728ebcf532cc9c17f87a6da0dc68a1d5e941c3297c61d59c59bf59a7a42d690f10cf7ff4013aaf145cb1af52213bd6db9e2bac01ef168ce6b33812c24b5fdcb9e8ea20cfa523d6b36a00819a3303174ddb38d0a093a2a059a1595cfa0cf792b5939d605e84e452f77428a0f583a2192bdaef8c8ae24c5f722332a67353d27732a3d03a0fb0642a5a87355331403ee7ef6a42d6f892b85b85b5a72567cea575ba91eb516ec45d27f88ed3aae3fd8079d209062d59c4044f17ccc887def904415475939abcd78778e0ff6670550847582ae1cb6810d58de4a0b464b5664b10f4aa2c4ecf864364c52525d837d1b64860d7a30af0896cc58ef807002cfbeb899fa2e83fd6467d08169efa5a0bb981bc3f49745b190dee45ad54eb370ddcbf3184001675dd7b9e4f6f08058f1c1432ea875b9d0f68a270549c4e05db07bd5da1b34f148b0e5232fe622fc2b9b336f896a1bfed656209d76fdf67152fd70146ab38ca0c3b03fb691d9656d752cd87e14dff6ec867933fe127616d0c0df10ea34b60cc4ccc648374267384f626d66597f82e796d6d39e866fd3284d94b6acc51b2c7f78637fa37d65a093a0f9f70b5045767a3799256d0643bfbad682dbeca69fcc47bb8334b037db80d79c3cb12ebd8489229056d757a0822bd7f7b91cfafb53937b88e7391d82f853c9fdb26dd7f2c2da7f98597857085d1643b29ad5ee4d7fcf6bbda06db1532650737588beec7fb5c6015aa3c6b5465bdd785642584fecc8a7f072703e3cc9f785af1d2dc8e06939f06bf35a56cff2cee8ebdcef0e7ec0110c0a097aba4ee9703c6698fb44e8bde56c99f8f2d56dd177dcff9365114b82961e150e34139e1548e907f73196e3c67a2ba15450aacdf3a1d02d3af9e2e7140745ed9f478dabea35835bb396ecc2e3340bbcbc6cbdcc3cd799ce662f744139de9582589aba3640da2ad93c8826abfa6b741f60f1f4570d6f054decff778024b6c43bb14a65a0dcef3c59fe3d7ce536ea3198fb0435f83795c3df88cf3d9b572013945d4f5093b14ba6b3791513dd77f7ca2a0b2bc199176e7a906d1178139a1f416e2f4cd2a5f670be8478ca48e74ad62901b88eff08b69ac65c7bc96966869bd4cfc5729d65418284198eef201728dc1ed595828070379446a669c615ab0e67119ee376d0838a4c84f3fa10a767feaf6f535aa303894829caaeea0b2feef3219fc8f5d4a37d3d6ffdebba992030bbd0d9c690ef8e8440565fed0387f8af82181ed509e8a978a3bbb701efb200f6362ba717a779cb5613c383f2674cab556e08cf4f581c0cae3f77282793a240b36b49abfdec9514da415033e121817cf4322c00d0df08b1278c9dbcf03ce006a54bf37e73730d00499f4c0da370b9a0982f074d9b8361dbf1834ec2bc23a8a2c6cb323f4bd471bd80733afd5e9458da183728f6a115433e1aa54ab1ff47593dd249e716849f430ea771cd8b207d3659649a9bd27ef6d78ba8d1da65c54bc7825139d3c91be67b30078b6f3fa75528da482392e17ed281eaccccd88042088869abe066a8cf7f586e184c7b145977d573c118d82de003e84ad9e5ded4776c257db207b276c9b5b666d93b19d121e92a0b09d51b9bb650f4e8d79bc3aee726835184aee95ace5683fb67e826f2d4e6cc3be173e22ad5c99a5ac424e8f70c650103c5c337243b9bb721b92ced0fffea3f259dab99deb021bc341e3269a2b0875c575146376e5e6483f06d5205609c54927c39a47537d7c79792b3d58dfcb9cfaf1211087f98e7701e6a794e9b5ef678c71458e8509e864b9ea7db59b728b4e80e59006de95173817e257054096d773c1d1a9cdbffbff229c81d4c1042abcf72b35c418229aa4928cabf6d70cb8383fd613fed3d9c79a5cd653c88ccbc4e64456b644987b6206fabe93aa7b4d4e04f6e1540049a26656ef8306da716377afeb9fdfe7215f143f8d1f482135ad0d877d3291b0b3058dd5c73fa7a06bc715c35f8e0b2cbe510751a19afdc09a40f9328462a24e6a5ec4823b489c2238174f66a17613c99544fc7dd93ef7a53f63fc261a55f9ec2c6d22818167c203e67ffc7cfb70d049e27092bf9a60e36f26dd51e0a83b245ba1dd1d0684d5a373de1facd8a13af773d5efcfb66f14d9035169cddd973f2b4b62ea969b4f325231effb6e9e6dfefb627157c2d453e8fc043f9316ab860a414459e44cc091525dbe6ef6205a4e59de5f5528e2b43f8386fd354c26a470bd595f0062e655e9836bddb0d0cd162e2913c0908da8928b1b6d4a9324ee2ccf03b480c4406ff38457a7806d4cac76df4265419e47f6fca6ebca1944c3be13b10ade4fd66172052cede2e08333d3dee45e646ca031dd546e17e7c07ffa760e2b019be287a128298065c4f84c2fb6051e05fd5b45e80aa59fb4e8cf301fac7f671cd63403af7a647784e57c027290cf33c4420c2f4b52c101fb57e47764bfaeaa3a99046226ad7a7fe1998f8214a2800b9e5c82747c0cdff9fc324211a3441989f8ac9153bb3eca5d2f07c190c5deb99e5c4791e2b42471031ed3fac7cb8e026e2c117b94e2cba7b4a8fc055de183b962e426d4888df0e93ff7a2eef113cc2b6f4b5cee5fa64ab820c1d815f51094377e6b5eaae3744eb8aa893c925686a7d24693f11ea7e52da39fa8824d9af4fd8eb4c9ac10eabcb3d2bb1c0a577d2a7119f0d0b41273412632d984c59c7a3455842c67783210ad325bd0f5cc81f75a81f194897315c64eb4c0112bce49a4f299916b3bd30232dc33afb0976c5a6ac403adff106dd8b49ad642dd4321e8e8edbf622a194c2f84f1fa27670b6109cff9b87e3b3bc0c6aadfd7988b50d6cc8d8f7c4a9fcee2692bf410b7fad8c8e862eeb7b1f986ce36015fe0c513b623be41797bb648b907d4bd8f6eb38d2591e308e2dafc3d3df4f044252fc5d7df0393a271a7717bf3a71386fc6c9b381a3184517a700497f18ba41fc37574d3ab2d55c90e2e166c91ffeae12dc4e11cf8de7f5532f2c093e3438499a9044b27267093d200beae23d1c9d0df9c86fc02abcf534b4be55f97d160f72300f5185ec7e932774a285fe7e7470041af6f0501cc2482fa97091bc1979dc61e9c5fd630e6931f9168947ed3ddaa014085f3a180341877b26fafc08049a59512d92eeed4a215f8f1be401ec5db4141b702c41cf8c4743710642275723973b2325609117c6843c59848eabeb400e68a84cb375c7de052b7a49ae9d489127cc6fd3bb22f5478f0323c54c7316c83e8dfe81a26e10edc632a6108898e1e265e6d377c95cac1c0dce17e4c7ea6f066976e5ccbba5ecdd2896bbf68a5c4a1e22bb4f76f242f577e51479ca73f73341ce7259d5b8aa74208df1f8af68173bc6c67fce08369f939a039adee1119d5cf7862540a2e71f57838a7689fa87473d71b9fb889f73c80f45dba18c0f13a8838e2c73af9dd51a13b5adb6497e83e1f21a5779a0adc8310bbb2fe1869390dd5345b022096f3cfed5ca66bcac25fb492cb4a0ffc3d3e7d100677343cf442ff44f600c69c0c8842574d199bc689df18310c8e65cf3981d054604b1d57db15337e8a3d488ebfd17d87f29f812fbe96e191c1a025763469722551c81e961313ee03bf5666bc864d2e40a893db478e954e62308b5e626152ba31022a11775690b6985987a22b3f34843e58cd02fe8a8a2a2754a57cdf182689021fc9bdf48aab4cd7295d0784a7cd7eaed3eda82c38c4ec81671e71dbd57809c44b8b84ff1284c33fc88a4c30280b5dba8a45f77b86a3ff6e18f8edceea3eeeaf67100431b1c71562496e9433a479c375f9fd979e86ff1d74ce13bbf6f151f4f4d02a49fc0a58ff4677664d8b8b50cd634073a6520086c74a8b29eca2766d18589c5fce721ebfd57a7ff53bae131da82440b8a185037de51aeb7949b1b8973c845f0394d673534d7aee69a00121c4b24d0c6edda72e4452bced6f1f926941127115297fc6a9373202c0d29b6fdbd4e30174ed8487e678d52ea0f29a17b9500626f777594eefdaf74b81063f109ebd1d3f7628db7c0ad62ddecc5f4e5f6a67ca8e77571e083a4e206f18b5f19674eb01eadbf796923e953b65616fa4cdcdd3a0150067b31f344bb673bf893a7878636e438c67086f40f9cc6fc26b0131cd444a9bbfef7597f02c42e3747546b86d70a4553316d8ffa40979e76a20c3b6e51ae1cae68db026cd70fbcb7f901945815cda887f8f57665f9b13a9dc83c67d4ebd9df99083387b2a76a9932982444804637cbce2640f9b659e3203d62a1bc73345961247c6b86bde3936b5bbb36ae8f5e4f277d5f0a2549883c94ada946e17121658b552328f3b5907b373864b67ca19eff6b0030e263efb8d263a3a359d24a796066658e8acbca94fdd62f57c269a5aded356a4748d6fbbe2597850b88d7bab8a219df81f213673c10d3b933a2d67911432fde7c584e80eb991ac533d649fb3cc885cdc6fc596a8d36b1fa2e88e6138bf8506eea8afa554721f921692347c46b0209475bfa7c46363bee2fcce11a4b55fb8d24f40571575076254847fcc2b8e5818b4cd1fcec4461453acb2996c0c94e08f3d1ef2f00cac6fc1e65a739a487d375143b40ebddf890c0a1d8655ecc96a25a2cbe8cf4c001dff5ae706c95b4e299d9c934022363f325f2e4b84835c1ee04e9a7d48c47c28763a3c2b3e6fa1287fec7ff9483c7d77f8cb3f7dbd6d04028b0f140be4efe1a3896e1095f331e4a982d1b61b9729ed8751d8e85b73f804cd7b88a9c9fca36edf0427b5000ccda3a95c76525de8f969134b8ce943d5e4152002b1772ab6bb8e5218845ee8aac038db1a1a4563151c6140d9a7507c5016010cdc08694343aaf1c04ea65412fd24eff8c09caa67ffefbb7a1e299ebc5b4c4a3989feb09e830536873f68d3690377f46dfb76e0adcc45cdb46b3712d1a29ca56b3c0d05e454d7bb43ccfb55383d189aabee912db7e5157fdf23ebd09685471c969d91aff693fab5b5ae4f1dded75363cc550dc8fbdc559cbfee07c45ce1c749a9dbe0e086e4fa9727762f130476cae5de6db2d4c997717641b2fdf46b4fa59b951190934220645ac28d960520e44ba24b23dff985f656dccc50899307fc27a77a4a94f4fe3477460ebd5591c6e9e4e989b27de42c2ce3d521e67496c5e2d1d9dbe75956dfebf5964f233f56ea1eb6c4986923cce5af22b039f8771750e93b4ea5813d0cdcac5b5f2d7bd3f2be876257a2a55473978e90a1e7d922a9c33f72016779f5c6a241cb7cc7be7b6a631de5e1512a9b25e15d0c96939f55a62d33aacc3096f36ac29e1c8a535bb79f8749201c51be1fcef25be5c49fcc2e574ba7c0e2622fd34c2e276c29123a9a92e9a612d68ade85e6f55997990dfc27ee4aad1010d1aa3a24188986c5893f4195c74885d4622730c5a1733826310741f28c3c7b7142626ce46abc939be5fe5137ced9d071404f9f565792c881613b0ad88a020e7a2f1306902f80ec15a79ee7b9c2e70d36485193af165fe795bbea8769074b61c101ca83f8ee1eaf329673bd45ab44f1d09520205d8a54e1c90ad7467f9842f6a0ef4fa02e68b1c5c79c0f917ba319ce8bc9dc8ba1e42923a8fdcec376498e6894ef0f042361a5e7c38405580a4516ccebd04e1889e8fbee607c43e0554eb88406ceccd1b846ed5c0f9d3fe1bb1798befa374e96269794d63e8ed3ea9aa7f7632c3bee99120b64cbd47dbe5a6685b306d3e62c4385d6615427f562f1e834037f70d8ea43b4b9b57083154a3e8a8ced9143c5fb17d2968fb979e48e9ed2802a1ceb966cb7b2fcb3a59391105d5498a40e782c6a241a4052462ed15545bfa75ea50aa49b41e0cf0864b1d468e5ae1188f81a8e3491905a61ec869b2d0be6c7dd242249920679fcc87cb3da17988da11cc6c5e871bd23b78206f664eb44728dcc655cf77aa99f548b74f8c21c42a179faaf6f6ba2775f870269643000f80775c98f584e5594ce7930538393c3fec2c3e5ae5f333f576e106e07067d5252116a2d542a12129daa02025f436668e39df2722efdab9537af218e39398f9ce5f014ffcd18d291c47b35df1b159caaacd94f3e4e6b0adfdd9c144544624e039df070bfe2b925f062c2f32cf113025cf20e90527f0b75277e94e2ba01f792b1ea12a0a7353e8890d483a1b9a6369d64f903d9af1cc78776dc83338a49f1469582b11542e3c5e6ccb67daf3436cd24c2a4d4bedb786e720099b454b9885ccac0abdc0b966789babc59b58b7ed60b8ecf6df14a83b35ae625bcf5c020adb6a913a7509c6056f494ac9e57527d26014aeb50339151ce815de7451b0a836187e78d3a51911e696838115ad7deb8784c96df6ca0e770241a1e4a926ca74ff38f3329f9306b785b3ba5d5eac64c4bc3083cb77c6b53020ea05a30163334b3ae624b47f6fda690777ee0a721abf4ef59b80f86f606ee28499071d823a9691738de78532b5b42b56360c90356f71d5ca5e4d26ae9172434bb262dafb076c57fe33b2b76a808ea3dac545316f07b63c0a9f8be5a3feced68cc50942d756ddd58222092e5bde8186ed762bff850c29a4abbd926e798b98b70479a1d381e61310fa0891ac613461050c885b645d14e0385e17e46c2c93c7f89f8ff1b17c1f05c60297d1a6cf827a18a59000de63ea6947d51912aa8744652bcb15b6e47fc5eb74c8f2f08c5657324960cb4f7bb6b58c21927759f0b62d8a3fb0e9dedb6e2bfab863f3339a2f263d8f1aaaf1faa063ae23cb74306251fb512e5ce3614ebc5896a9a1fefc915bf6bebece2ed1007af57801684c24e98efe717fcf18c63ada9dbbb0c20540e35ecbe1d66306da382c4520d3b559478c52a1310298ac20a3fee0429012b7e792f75150fc3340dda68cc7bef53f5a71fdb9973cfda85fa26fd2599230e4965a568a10bbbaa1ad3d26c4213a1c9bb8b3ab293cf1e26dd4898274c82501813abec3d451226f36521e612488a62947e69aa4c2c2b8add5d9a54ed1ba96200ecbb80316f922cae57ce3a4a55bb5ac0d4e29a0be972c16e75a29dd1982cef525188997659d6cd5f8a7e810af097f71ddbd5f09d40ad2e32cdf8bb30a3a6aba01446ddb7b8c5931a15230b899a14e8444505973c831d688d26879c7cb944dcb417eebbc1d6d434b105e3c8fdbb38453a46b306711221509845029ad82e0e104032921187186082d9ca9560f2bae3345c3274ffa6269302d2d2b33b6bb25a06ad59e38e346cd1b4a904d2bd772bd6e29a1f6aca9df44d09d85fa24dd76598ca8705fbf92ba0701a2e75807aaa589f6efe6bf3f026eacefc8348967ea22f61f8011be89e6c0b28d569b7b16f02dfe4fea900d0f8c082a1e8ce3c1139ffe19356e69d0e588b912ece2d94bbc56dbacbac80815c33dfa1fd07ea3d4af5ba4a91a02310ac8f78dc86e8985f9bf0082bb3e9bc61b08c1ad567d36784d59e841080837d4605af1ebd3c3a295665ea405c7808abbdc8566b2160fd9fe0dc0745c220c73e39b484c966806b554a974d80b381f14b2dbaf5c37fa7269973a1a0c265480bf6c128da7a5734488ac65e572192af4ae56c582a79a25ca5a67f8ec9cb4b349a6500846861bc1f4353e0bfca37fd5f10ac47210dc52b2caf8f6ee83aef2f526a85eef386a24c08816d5e89964949c9316737a48e08a0d18d7c47e4ed8a6a02d61bcc3127703eaf1ad60c7131e647821fd387bc3b37d7fdb748686cf3a9cd82a99712c2b0cbf7d51d32e228c60413943cce593075b1fdef73033c6344c8a814d8bd380f13a92454850edcdd4e4cd569386f178c8fae373082b64aa8dcc081298141f3f8f476a5ff79e6bd9ac3f63a9e33f67d85d4fa219e9cf2f06d809b6ab1d4aa73464c1e5e83ced975ea108e648a68313a5a96be24e44d798baaa72a9e6e96b4e3acf644ab92108f8ecc823421fb08bac377984cd3225011e64cb1679903e831f2a1cb7c73bb521cd0207ed60dbe16265f47ed7509c4713a653bac1fc79e4e542bf49d9fd12e3455e1fdb4d646a148a371cb42758f6419811992180918806f01dac91d30adfafda41f2da6a506b4cd1a602468ba40f5bcee0ab8dedc9d8ae5ff62f03c1e86c0296c52cb9524060d1ca67dcad96f69e8c1263081821fe14dbfa22d6fe848bed04905df477afbe8d0c7a73979b8f36145cc57a6b12a3f4c4e53da5ce866a5ac2e6e2cc5f8a8b1e2828fc070b2191a12c331cc559d63e2c315223185d40a030c70fe7de8b2647e3506b4024956e5d5df78f3d11996abd1eaab9319d6f6f58394080ac431f704f83c453b8f534247b30696f71db5b2c938160fc2f38914e63c390ed51e30298b14474ecda8d4f83d109dd6b1ba06366d3a9b82289c084611d7fe43c891ab05305fe852a257faf57416206c1a631abe29f0b8a3098c62d4177e4573663dcc0b9bd9fe23f2726563028ff139c5311b7c0af1a0f6734ba801a3f01ceb43636f73eac687e03b5ea010d17e6c4b2a45689e3f35ccaba3b7d56640d26571f15cb78f945201bbece06b2b7ae87c6d582536372afb4ed212f28d67dd718ad899e2d0d15936fda8402bd0664257dd8de2c09335176d7e71cba08a764f00304ae6c20877640a620fd21b2d4196dc5b7dd63ad25b4e72bc5f9d18351dca5cd05bb2a661bee2be1fee2bdc914a863e10211920cb94bfa5f935070640832e0bb42514ee504f4e087483435c638936e50d6ecdac67d89a65d754cb45e9504070cd76b6564817c70f84d03075fd5c2ab854f4a65f20468b24da09ea2ea3e535c386f00586dc77a7e60fc9425e4208572f1bf339d9a2fdfcbdc61d2421380c1b40e9f4041c5c661f8fd8d229d2817b97f1a5b1c5e2a8a8e7f15a5fd682011a8b239ab5903698110a68bf822ee7d90a17f5649926bb5e9a20d7ceede2d78a5391ce8ebbfa613ee7f95434f9c24e48cd1a3147506693672c4b2aa5728b66ff47e42cd8d876e9aa4ba53dc80b50e986b22ad192303495680fad8488cafa385ae9e6c2a2532101f7ef2d311f8bfd642b38bfe534caa8e241739e9d68e173992e5f6184ba10ea081f9a93dbf76450f3ceb165187841afdaf41957aed36296a80bf1394d7a722fe01358b937ef6968b5978f3ddb340e599acc7e8ec14eda17c750a0004e0852ec186412d23a7d17034dfba4e3c1fe94722ea20efb893c792e8f28500e26127b7b39947266b904904b22ef6446c75821a7163666b2a4cb034535c7646cda0e4bfa5b81635bf65623916c81448760df9eb3ab360238c344fe51e3c5159e75ac5f270b494777cedad417233f620c58dca68908e7cf2539f0ef4d1a429964332c0ca739efb968bc0006d114dad09ae8017c2cb322660d8dbdf9014fcf749af4e491f32f5111915b6384cc1c10629e440e893f46b3f2ce73680984ce25e67996165565ca6fd562d6e09b1fd555bab406d540b4c275db319b44cda045881c2bbb91675ef3d2279becc55d95b21c16c491626b9c827a6fe91f7dd5251dcd6c70371bdc8d70b24e4b22d73c320c8e59d233c63ecfd9172c860208e5460a7f3dadb19f5f422c006e4df533b9f25d9d5e6068f0b20d76d511af0192df6ad50d504cea05e6df6d3df2d0a5439937571ee65969e9656a9fa1e6c629e7decce26fe6e7c55d05c5e4f9433dafc543cb78b856bf14660e098eb43ced7b2d48319bc742586882392e85f6b234342d30aca735492156d6236912bd3ab12cd0edab3437bf15cabbfe995fb42d93758c301220f5b9e3b3bbdb67e182956fa3655b3defa7e5e2cb694310690f78a39ddd494b3884cf930b901119506b9a35dccd7ef3b31f635ed2d5d8fa39cf5e21a22fffd162ee3feb06524022fc149245129c0a18185977684495174451d22567af33ae259e939d5928f50dea83b71e2fbedf43dc30e1912b608ac98d23dcfaed3c02fc4a44157aafb3293243b8dcc7d3e5e9042801b9b00ede25dd2019d1f9f230fef78b50705a49897e3010623ff42ba1fcb1521bc537c4b0e07bc30fb1e65180333000e217830c6c0719524cb6309c4fb1d671247f2fb8a272e8093c6a16fec070149e18084119f2ddd12ff39ca05b8bb4b13feeab3c35c602a676571ef82775be37bed6e5cf70244f8b8a4dbde3e506ef15b7fe43d97ee7778d174b59f1aaea817f47e9ee4d4811235a6d78386865426fd86ead374828543b8699f1f75846d564e6eea68745bef46466201f73fc52ea5bf9318c914ad66f787226c722f876e47dbd68ac38caeed5a562003b975ddfcca34c5fcbbb6df13acbf0e179f7ecb58eb1fa30c177959dfd4344396c94de1732dbca249b0d85e8cb6e2ba9bfc9f79891fb98793b5ef6dbefbf59366605ea5fe69322f9d99bd542a656f2db71d1d8df0985426650d9eddca922db2398358044879cc05112b7b3d9a61b4fa2bb9e95af6090672b794ecfd18d4237a41d29b8f4fa3ae6cbb2b031144b154e412bc05f3642bcde6baf6d5ef857ac9725949d08997916ba554e1127b809602c36438068c5994f58813927410791e326c70a3ecfe017399dfde1db8cc1f50dce2222e7b1dac30b462ec7160b7bfee72bb8da5416e0051edc892e145609aad0e8dfc31bcb194b0cc870031609ad29b1d025bb5c1a8c7f1ce3f63fa90a17832865fdda5d591e1d341fc9e6d10b65438f9e670ddbd3e7227cce40653d6b685003548e936b1e35033cf12c9b9ab634d804c77f0a4992ee1ea684fbb80fb358a2022d290786ee1b94628b8b98d07f51b235095c05889b214caa9c569799e04a5395ee037f79331e965350827b6f924573cab71e4f2c74fd5f3428062cf53c10dbcb5990e222d94a69e68ad2af03ef4d2c7726a6da3fbbc021e9c4d6ce7f13da7e66c3955e9483e2b86d64ea4e3d9807a5adf91fe47de6f67208dd5f1c0f8195f1216d83eedaa66d8b89bb6cc5a01d30d5cde4d8cef23329ff1778d5faf759fe5506e2fe0f8827bd852cec38126b59f0a3110bd9949d1dbc1a362583f5e3f8312f5a387b32d8b79e5f0d007c7559b10f58baf60cc87ce9445d0fe57904126924f284e0cbba2cd2a4727d3c8cc3a900fbc52ecd718d230591ffcad391b94a6f74c8227c8497bcdbb65459eb2924e3cb48432fef9686e0030cbcfb85f645102e4b19b66f4071a657c6c98a7120ffe0fd5ccc9a438ab36264949d956dc80409d3734fbe7ef8d76cf22e8de4b565f640487061d6b92250471c168659fc90452bacd307ce16663dba434f48270dee33c84174f1fc0c73c9b37cc6c7ad9d94327d0c630585247367e8591eb3ed459fa3500173ced5380f9acb3a5aa758e7118fb5fc1f58f7d6cb215f9c6d11f5b78658693b7051ceb3e7dfac91bbdb89382d5e5bf11b46bf4848e49e90bb2b3c20f758ee48e2edb0b732e5b37dddbc3cbd4e6ed74cd440f4aae6ab498aee9347551225c4b4d46137dc1455587d0c99b12514b911c76b04333bf77c4568c7c5d87523e73440e1e59883b5daed906dcc9b41827dfd5522e7554ec5065bbb5715bb842222b8a7badfd775345473dc3eb609484dc8dc44602ed406f2c741956b3c32b5a80caca7acfbd0aa424fd4dd85bc6edadea870c704a44bb09d060604334207bd82085240cf0d07353a495a8f5e4c6e469646df769ac823e9660457456822b94ffa2ff8c269c8728fd60e1a3b0c9924c9462bb0e0bd51de55204005298716ca0a21a6addda40cb46cb57582a2362504b9e7325b0f5c756ca918eff6195b90023687bb32d3a2f30a2b228e339bae65496938e6727b03e357fb03ac61da75b07e83d0dcf0f5e5834f7f3be4670fb2697589c86ffd1e35eed48d22c0eb34a47381fc11b2dd0d30201d8f4b51bf9fc18cdd48234ac5e998125f4bb47a208fb013d5960f5dffb74e6e205ecfbed312439d618c5766affb00f38a9bbe7956638b897c3753508c32c9cd948695e0371f12cbcbc06c97ffe1f9c8471132491a4e3c275e81c5db338f82dde3a0487b2906d2581cee5902a5e4a45c854972234ae3bb779f9674f9ac13b4c2e90738b56fc833767663eac8685a42f58c8e6ba488ffa2e376554f82259338fb4657f4dcccaf026b5589fd181173b19d840caa39e276e3fc19f8777cc0d051479cd65a091738ba21c3ffe9a747f07351965133d388782e2a395df817794bdf5e9fe4e7ecadafed96d5ef65680aa37207708a036fcf4a9e6395b93ad34b56b4e3ec1d4c1a8af4100b129a58155919ab27e46f11268016f7cd09410e2929c34003cad6155d18a8b2ca2c5b5ef118e69d6df44ed5634cfaf8eae5ece9cec17fb6e98466f0fa5a2aca41011f5a67015f2561d5d4170ceaf1f2d5935c959977dea5cb00a0372fbe5dc0218ba8ad58d6eb4f3cefd9dd07c2fc62a2070dbac2f45e192ba05a24a2b67ab78a34e724c8af6075d929791503405ec3a3251880a7827a1bb6345d433ce1790775649d2158b85c8836aac647a2488366552ee9f458ca790dbf73d2e6645aa18c58962eeeb58205a5e378d1fa62bdda1a33b015921e316b62db96348e2bae45147c1465b66675da4d85834c27cd7f511161fbc9479cc133d742267121f8341bcc9cfa29129641faa6460ffbbf2c9527a61caae4eb5478a44f8f9e73122b77e79b5ce86fc1f4270f830d1683ac8aafcf4a8133555b914ea14e032a57c1581cbb32d65863cba41bc3b3f8904af355d58d0dff733fefb856dd634e471b4a390b08c8e5a91de568cd6bb03380da680ef3e7fa0600b2d84c39a9ef432cd7143518e4e3c1886718a4e0595e492e4dc00ed496824e775afaffbc3d9e71b741a3b4b791c98067d9e5277c3fdaf57a2be730c76d2ac8e08e4314e8f7d254680ca25b614e95a28c535cf34a03e711eebcf1c59c801ce55295b7594f7591fd5114f751a99cef85b5a581229179be2fac8d9eab6df6ddaed91207fe3b86f2a4b7819438c74de89278baa853b0bac4f4e864068aa13810dbf009ff1b747d349bdf61f4b3a384bccd56137fe68785c706495fa915bd6ca48e9a9bb719ad88a66714867753f2b36608afa46fa568329c1f37e3450b33d78f51c0b1088c1dd19789ec318253e08dd4965606b0492220ac391d57738032074615870ea69be3b2adc0ae66f0af9bb5e6351b86661ec6db84add89ba15a4dc67d4e5605d0f292f3d0e959b2d61ab937908c148a92c8d1f0853acfe82a63b5d75f09832b73e45e7b91d938e1863ea58955d63d1bbd5911b86552188698d6f06f40cd2eb75f4eadf836bd29c19a1c9a9a95692e6cf6f06cda3207456b9658cecaaf7cbdb0b01da31c37baf33c652a12d34e1d87edf3d6d653184549d7a837e9b48b5de9b71de6efde4e2733420354e6f3a4c27c231f45be7c021ea8bc097474bf41ace745951e5e9a268541a1525960107f93ee51ac9a4f3460683afa88b615c68c717a27bf43c99ab7aa8f2d69a27dc5274a6dd2b71ceb8a993b9818ba4ad6985711cb988ee1a8ad8a2858ce796b8f5f574696eca00134a2bbe1908b097abbd0463872a2eabc681dc6365c5499ff034f49384d146371f0ebc9712ebe402fb58f138ce4779dccc58bc2b12e8462b5e962e8dc3ca11ef1c23d015f635114ae7029ce31dccb6044fdb7a33aaff697ba6be87d19042bd31fe0f32126f21cc6f6255d2660c90991cb3ea8b798d28e1f36b5c07a378e6444cf41dce6f97dd9860fa4192c01c7545c1488a1dedf628a30d33a937703d0ca94280c83cbf91bea48c0a37a36af7d3cbd8ebf13ae3b19b5a68ff0771b2bebef22cbce7076d812a5c78be73e7b9ef8fcb11f9b37f7e794d5f99e3cd51ddfdbe8b80d534ac9558031ed2186893d28ce71f9b7c6f2d189bb6569f9e3225dab5e07dd6a18016374de5c7bfe014dd3985b1e9a0d01484cec8e46670feee140baa81191de8d104d6645a5a8183474897245b25eee6ec1efd4fdb1c1790151c9ba7a2d9f51e80ae90e63a7d69369702b34e85bef301ec9b2a4c43fc0639f8fc7f470f285f850ae1595022b9a1c817ce0488f7fc42ea500179847dace03ccc6c9d4f9d19929a69d1e303cce10bb5c9fefe1430de9f6c34a419ad09800c01a60f6452aa66f0a8e63c9f1fce379823265fb37a85f8b4958aa832bba6721309f2f42d8ef7ebde4b4ae3fec89005dca5629618e3cb47f3236a7ae406b293210e39d461e0ca5d5d39648081045b9a4804555980161317854d13f30f003c9e105995e71c275954dc3e3108771d2ec3832014c3852f6467cfb682b698406feb01ec3b8784d93c25b7e85fc2978d9fb1d2ca0cc64b7562fd25df181b182188d34716ac4b944a3edcf42807740f013bc807f47cd8244f88db758f38a4efb0cab52341f71cb2d01259445f2e680445eff3fccb29965fead7a4039df91d87ca27fea7c16c4be50ed006aaf2735bf30e19cc7d8481c2acfceb2cf8069d1ff50e13a1ac3c0566306c21fb9b6d5d9b78ca07ea038201e2833cc51f5805c215bf00bc098d673e229619e84243b9a82fd3b0fe7177c0e762b1c25a152aae88de526e8f726fed87b249398a4bc885b6c47e807535260100f65f3f2cb3b67a58b44b2cbaf7fc26075a13e7a46e6d3460c44b8cc8fc52d13e4f92d77ad9c306c7cac971fecc09798f3f67fe591a4e115efe0bcd3d39b5986ab9f654e539ffc401531598531778e029d5d1ed8816b00fc9caf853c6243cf00cd50857b8812274021a16a1b672d459e48b45cfc64ac0e233cc89b3e98ca329ea89f1766ca1d1043de279fcb1f867ca599a3c7ba64e8834084645dd9223f01748210d4230865794e726a254a3e7d9d7f534732cd82dae6857e17545b3d569063d21fd765dcb35fd864e9c48ac6ae2b78fad59ef6f6067b0a327027eea63154d4a10f9a321fc58c7b29c6ec63a7fd66566ea477f28aff415b6c65da994c6a2db6bcf4c40187454b60fc441e69679f953595b91a27997e9ba284661db93254fb9a23dd705f873f8163b906f324a80575db69eced5a86cb9ba9880e377c05dcfb772303eda278d195a44a1a2c0fdf865563e9ecf8408ccccc8c62d4e16b63d5a692ba0b34efae6855108285672bea1286d0743d0a316d75b951d8cd05304fc4a9bc6f4081ba31dde738f962cebc0d110d6ba4c3e4a74e5656d6bf72a9ce91966669ce69e32e69094c6bb0cb623778f02ba18fb43c9c63e29856c0b47a7041cbeb229a3baf8a312223067543b14437ec4a5ee519ab400b3c54d6158d6c1ea20d5c5930932b10417289592285752c620a71bfd322d3732d2ce08ab78f0ffa0a4433dce6f265dfa83c8e98ef4e9f5ca599edad77afb5a8193b509aa05fdff3b55047f16eb941190cd9b727ae88fd96d92048184f9c762bd0672c66c27ac53f75f0b2385a3f78529363173def82b8b85d4876c86f3a72e7e10e9e54a83163e145099c5a789a146c2f11a695a39ac11ef8df76c3b4e537e0b61ff2f22e0ae3dff8e25a9e408e78f775255e800672ca053ae127cbeaf8e7a9e663152b68fed8e67fe513bbecbb727afb76aab3e89dac9e49259e22de42e619643d1b6de12570f280ba5b0d24375c3bedc4798b6e8e768453e6b13940a60dd5c7e49b2eee5fd628ca7f71dedea3336988d9cd9488128ef1102f5ca296be16e55cd509ffcb980029740b0342fbede13aadecae5f92fd157c53164f38bc9011dbf7010103585fe1b50d328374ed34339194c555550901281280187549ab62aba87e2b940251af402c65c4278697d0db1e1e5e124fd770d2bb15822ae18898bb4dda254cfa0e25e5ef568ab046cd38c532b92004effb73dd85b9bdf4f22746c33d79609cf0dbb1b99b8fab88db2341b41d28764bc53740fc70f2192454c17204204b6b26c31c977ec2dd9bcc0c75c2078f1f8cf90d7eb8a8d2e543e256f79160600adf14f813c89ac5ba51ca101d6da83f022a5568a5033c3b8ea48f684a8eddd1fd8df49d313e9d6e579e975cb0d001d4fcf75d6b501fad6f3ebf0bb5cc1acbf65526700433188c6c97215520c2c8cece31e8f75427a1ede93db7d91d5561e96e50523f6df0bf96b41d1541e1687106fd8a9f8554ec3f9d26ec2500818f951f9a3ec0dc564bf30ec067b0b93e2fa17f0236da453e24d5fa5a111bc441f043e67728d2d0634ba4191c9dfaf4c1cc7548d2c35a7c44125762432367b0e6bdf0a16dbfb4060daf7daae01db42b05bb035c6e578b0c94fef2cea3c997c8c98885a949621cd5a45c23bfcab3470b74376ccc4fcc4387d59330c25fd30f55cd1aa16d12e9241c97ed6b589255ab245cd12390a299608b0e83a45a42f51f9ab022cc4a466eee80286ea315434e7e5d470b84f909e8de62490e4a64f79f5404b4e3149dd911e49dcd5cc6745bca863a7b4145b108a9d1f67a6b0ea6d8c3c82d2b3958d797f1b49c693754681847f9e847344ec6397ece011dc029b4dba8fd7c30f25657f6897773d3769eff0a05a95fcf07dc38820c8aa8d682602529b2eebaffe3d8cb97383e8d07787d451a72c9632b250f1a78b2deb68f6170d15b428b40887d75635c5e81638ef88b4b303a2d44e10c505f332655f10c3616babb256b154f4a649b9b11d96b46926c1c5b87094f253d40a0c9f5cb874a926e54091312770c65b24e479483c67f3db8de25c2baa0d29542eef5b4b366cc05f0ef82b3932aaa8376f0e8ad13dc8cf52019623f764cccc245b4114f11d780b5e31e2270726bbd6fc7ef97dcae63c112e1ccb0225a180f93ee2117164f8ed747c8c1de34a7f7850dba4e7158dcaaa5908a58bc6ae1a079a2fb530377c048012538c206d8dd94585a55dca5a149fcecf37071749dbfa61c9a00d4a536bceb5eeba84e22b02053d928b4335858a9418f02ac647f762eaa4e64fb49f1e7eaaf58aa7d867a2c56d2d92229b369a16f5c1ddd8c2bb1851cea7e4c99ac10495c3c053ac78ca10a87351ddb26d3d39377c3c0cbebf83fa2b8a5a154325668e02d0f654568b0419c2c0cd79d473bcc918280c28c89973f1d06bcc8429c2473c732fe0ad554bdd9cba06b1be99c42e6500763ee3a1c2784e0450df10eea2c8040c15d66d419a57f824b6111b24e78eaa94b31b922abde22e4cf4c4c3cbbba73dd89e27231d39863181562af0d7529968e26df5140db4461f8fe112367442d3b97dc696e90c88484395a428f724d0fa64e6bc4af926da65a06b0dad609cdcdeb04c70ab61f71b5e20b91d409ea9fc7ccbc71c409f0e1d495e49db267a648e1730fa20464f00e5b886b6531821596f5c3f0081866fb5467de8fc3772f80240bf2ae26c86360bb770b2c69e6fb8561cd1afd4ce89c4d58dea8b333abc965c8d77dc41fd916d08566937f4c4df62f15ba7886cff5c58e7ade0ca3c35a22b33efd2bdc596763ffa","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
