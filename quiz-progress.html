<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"62930fdf440438fdf732558ee9e650c0e635322881665d29cf67feae7c4cacfaa36bb3c50b16881caab3b4c83e8686e3a94705deffe9c0446e7e1fb72d26c68de90ded3b197dfcb20093ab80a2a8cc95857aa4692de9337acaefc2fc73d39fdde80a878bcc92fc29288e0f8d6d358abf27d26bdcd43084879e5757bbdb130dc9ae8202da5ac9fb876915c3d2eca2b64d33f33e62384d9e638eac9d44b3e959125f951d62ff8af4f5ab3f67b8bf8915ed67ff7e53bd2e5f87031084dd64ec2d660a9efbb8d05fc99c7199941b76ea22df16239f09c74d4fa98080857ed4264afc14ab597e3dab6844afb2df3c11abe98fbd16172db30edef105c6e922b39729e208e380219b02268dd88c99e1391d4f089593d7219762200553ead9085cbb4bc145d57fda0a76ba8db2deaffe56ff75862154aeb2f5e8a62dfaa5adb61b8497f0fc6d8b77660ba2f7e5a81bde9178451e5d2f806830dc6b8e7ba67984bc41fff7ca548ff4011204a109e7048c4ee1f31e4010f15e70bdc67e771e6bce7fe489bc8500926fe87f90ae1bf7289c186ed4dc6a4f7dd3ae8f7e513bbde0cb3433e01d01898fb4d23b21f03211d87515b0d7fbc0936f66267ed3293cfe7699c5fc1cd15a38d7448dee0cc87d63c6afcb1648cc5ec552b727719545f82ea9321d4a545a55bff07dec870a02677036d52756ce8021590a186eac6dcbd38e1e147682b965e73331a0f4252ba2ab8b534920b62a60f2c6c3f9b34e2bf292073fd1af6d3647e2083522443efba8cf13015587acb085fb54d7d594fd30c04c3404a63bc15fd76b484f77c2feb67c64cd60b85af3fe17e823f5c17fc1f2b638ddb25839926e51a53cd73c5906d69c0547b6b06b93504bafd8fd0f5b185964817eb309f70316852840f3f661bc11a35e250000899a5ed8e98ef5de85cf1b141bcc9e610c62d2486a37e66a5366d204d25da52775d42c645b4235d5521a6563932277d2b90d17ae467aca2326a7cd1d64d549c563209228d8503bd65bf5e320a0d925965c1d5efd3acee3c9d3e0adfbb25b1de5b275c2f78cdecc364f6d7e8c3ecd0921831291b0797a66e65aff030237c9b34980890f0e9fbc155da363e64f7bb32cb13c22031e5916f2d31c37f6b23dd8a5fe80f3348a040a8b54b9f2f0f83e51b798eb24089cc8f1004bf948b93e8294efb4ee934a0518f2bbcf89865ad34c7bfe478768f1009fc34a067a9dce6c38429c26d32f30589e2911a5e49893d2991c3dcad77e9ecbec46f7d5e1d9b828d0a7e292ce9d8e33c03f699146c7e7cad2d3be679a49a0322e23b805555f54aa3ed6245dee33f7e412316ef9bc9b0caaf2508ee25eb98e7eccb6ca788903f149d6cb1a3bfba0fecc9fd4ac0a8637b9087d25f2ce41a771fa283bc503ba9e24dc50f7b58bb870d63fe6147108d3b5b46927be3f51b7c3cf8b63915f5750bc67fc819c11fa76a5e371b81f4187bb74edc4a85a996f5ba86c3f39f7d171d974750dcec215563faa024dbd999e228fda968850dbd9f1c3cd4e5b1f8547f3b62da3dceba45ccedc85c3a2e1bc6aff0f35e1db8cc715790b6a249512112e33f22d166dedbff638639bafca8af8a14506feddc043541faaf108f6b90106d40ff6064716bb72b17e2c882533c5522c3c5103306318d985f326d40af5e6c4404d77a11f39dde344b0cff7bc0b4bba835220fdc1e7b2edf92a68d24becb3bb28bace172c566b208faa435fd6b96f2f5dc37b03d904f86669e9d55e754aac7c1f59c1949d0170fbe66568519f3288cf6f3001cbcf12c6a1c408d7a18d088ff496b2425402c3e088b2526698b115fafb80f0ca3da3666ec01163de2cce0a463b1ecc66bece62c1e958f8fcd2b94bb7b88518d17a2cdc813fefb03ddaa1233a5cde85a98954df384277e7943ddc4de672bf9905ecff426d10d3b9c0553c6ad9a4f4d5b630f4294ae47717dee1f45434aba457b3882539198f6ac25fc896aa60b85d19586357516974da6c76c25cc17aea55c182c01b44ecf38c8df29452e10c6d0aad76d3b2e9ada3c825cb1a4a330d2e5a40c20705271ff83bb99678050323a1bfea6eca48d3bbac1df3c277c511ac9c0882a64113017dfdbca80fd611444ea1fa1c84bda47253c8c23cb2257eef8d12a87ebbcf4f51255ca54525b133183fb708233f0cc20bba6c17295a4e7e664e2dde46838fb5bba6c36a3cda6716d4ed56d94fe9ec4ff81aad503366556068a6633d9b41c8a88ebf936e8a3b1fda787afe653f0b781bdcd34702b915be33410ae2dc0a2d1b814b72a264a747d0dfdbcf06a9ade73203fc06f15568ef45186cbb0f0fa31916e60fb9677473a1ddb209112da93be1315081960189cdd677f141f3ada764f24afa6a56d2014f56ccb8c49e6949e591a7c0974f433eea8e74a4420fc698cc18589b8467f41da3e2517587d80a30388f1b081548d6fc402a2d47e080aa98c634575b3339455ba8bc06638e43194e92e6c1a0fc79efcf1b23b338714639887b6643aa681f72659068a153b57a96f2843b657d4abef1914f669b922ae5a418cd0d9d6697fc63e5532c8a9a689d8fc0a55f086f35622e1a74475f9ffaf970f929ebfefb8f733b72baf8095473385a4f28fb61861e7d474835682b7e9c0a42183a6f7b7a2a673f9663f3621c9ff2709bb879ac8e16b8be7b01d24fc91087f31e2d1e6d7b5e87caa40725b231159e5fbd517cdf2bd93e1ab077ef1a21961f4de3ffb1d624036b2ebc0ab5d2138377b4208609f9d9f63ed42b37f78d578268d15fb9de95791224057f0100b9108b26f69c25e04b468b7f67eb4675b9366001fb5907685d415d7bfa4cd791ec42e97e842eadbcba98a9f637e9c2bc1c528b2d3170f70219ef5841ee2c0ad68eae3bbae65d746f1a8ac5245617dccfba692c494a6d3b4b60b0cb28d987c05ea4b7dbed8c1d074bcfb9cd6283241fdb9fc7adbdbed73e88a7bd2aa60360179fc0083fd124a7a7de444bccada30b9599343aa87e1bd041d85b832cd89575e36c2d214c18cb4b1fd1b65199ca9a214eb5caae541aacb724454b781ab50fdf1627d91f1d07e0f35ec89d515f6afa493b5c0be3b6278eedbf1f45518f620951652953a1388e05c8e372f8cd520fcf658b52174a1c5dc8bdf377633460cedc5b21d547a8ae3a66295ee87743915dd9b088e7b415fbe552ae897c38c4c7848816b80fd45101ef3b07a78a81e59dcaa55e9ce94bb5733cd6b1fdc7d99c93afa07650243ba1d779e29854945db06a708bf2082c7a58001868c320d3469d6e9a1bfdf9158884cd08f113ea094094146aec4692e13f413928da9aa76e70c13049fe172514be6f41636812a9108618e2dad97a2c82556aa4392c40d2d02659af2b615fb57fdc3c41578f84eb63a5da12ff36098a8e95c30fe23275aae381a766ac3e18d3691a5b2e571a956bf33e17a0632727d6f43f9d7df017071364745345aa81f06279f93e700398b8bf6a8ed6ddc2d4f86a54117a5627b8e76d93992dec68f6c277ac685370836fa5aa4affde2768fe001dbc8e2d4c53e8b19c66190f6817887db741cc1cd823bf6610e70b10c2cfbb3d77972a0a221139b565725fdb961938b7fb02bdca4b35bb5ff30bed8560d573356b7ee8920c2b22e38553c32ff163ebee5de0ce536dac39321fd4d1836e75d7f1e2607d6fb98bafa353505853813503675de6440433c7c07aaf4145ffefc9ef18f7c2feeb8a5e89267de3fd7c5c248ff65c4e496acb45b23352480d38bd5c138e58bed8397aa5af5e5f720342d363398d9c1257483449b085e2f464b5b23f31392ae2637667c55e238cec4051ef4c3c3f9dafa4c906841b74286f9bbfb5f6bb0a9673689008feab1578cf6f9491181bc1c21f9c6f56d4852e51bde848eec6fc7c21d72a88ac8efe50680e9a2d4e15189dda7251a58b879255c20aa821b408553939c2ff820d92fe61ad87b39ca7e1e498b56ff7538d6255d5f30a9dd1edb794ac5105a7f646ad379a679cf011563e5ebf8e76d4d66118d182e55f848194bba440a413a75a095c2da72f61e09499633429049c9174b918f25c2ba860bc32b299ea0ef67944a735235d95a048966f5da949c18e1234c17c676fc9363389f4ef08c55fd7e5b9f57c23d8e0706c737756dac97e959bc0ed80a93daf6f3c9344b708d0df895a7f03ebd83d9b11aaa75b62e85f1b9f1b4b8668ebb4fd04acfca1a7fa8e06165a292b7c1828f69219411eccba613edfea2f2212f511406287baf0535f8d96836f9690b7b843def517e0fce2f2e4df72f7db789c6611b885b2726c8ee1f9ad9c616d428e288ec106b3535c53c551d294e0db9c29cda993b4e68580e05a25e86f4606a16864efa9d2ae1eda439ac33c326b15c5ee52e7ba3e157932d5e37695c4b67255d2a134cd829bb60c105ae92d4e7138c4f1f2bc442b58936fa8f4488bab7e70aa5b931f386ba9dce702df053f7a986f75f90c40b6100e5e07eca001bd60af87f95379728f3c6d5c528c5407c337f845cbba5841286b5b607bddd92ce5dd03478fa50bc9a37e643e207d07a576e760284e2c1311d1f200ca39385b82d155b04beb7f9dc7f4f7bf8fde62498ce1de45495b06c8c0174eee20589d9f4b8c8170c7b5284dcd6677d75bd641c9b14a130a711184353b2f8a805a43f1c40bf4848f022d6f04c6ede944765d01c1fd3c2e8cd9400f2fb237ee9651383ac58d2032057083f3f4e98dbd18390f10087b95ca3c204c2412f63999d098c90d23ee3dc0711a38d23ec320cc9e93965c58a76ababf4735f64089111bc75379c3e73a529474d1f720941915a7e75f0a5690e8f11ddc56867d8b7313ba92ef600f3de82925f7601d5591004f2f3c5194e132438e7f6cad6b45908e078b79417bd5b96c791440b622ff689c7991a351f03d5f908c8bcc2b922c64b9727cee985073999ef11c3120a64b5137bebcdb4cf6fa60f8854bda31f28f5a641fb58a8781d52c77534346d125df987f2cb256c1a7ac809922de44d400aefe702e3439431f0f59b321f669623a4240918b91e5668ba2a08ed0993c8770443fdc8c0da321951be3a7acc64e8517daf642266a4d1825d36109f0832070f80454cd7e1afb892d528f9fcc8b6cfd8c3a99010fc041bc1539e2749db8a699afce769f39954d11ab49308a817122de6311dcbce8dcef03d771cb70fc7836f10b46ac57d3e903a22b9baa5cda80b2f0106c5d1b9ae91d629246b8b3d323f275578c59fa92260c5d32e8d0c2b93ebc83c01864f8a31e6d907225f5c5e2e01eec3d6d4ebb16b899ddc072d24127b935a137f6c189f7770e6661ab7682f8e5a8bc828f9e358d3105b053f16d723bdb0e94326c708955d8ede882ebbc4858da5670d022a915501d3941b66637bc2f497ac2f8293b2c3d870b7997b6422be389ccede2be8ae3a6e4025a4b75016b0c5fa84370b425fde131ab2f2ee56842d41417f4c8a3b46293e1fab5e69ea8207b3d2b334a4a2346ec73e46bbd2db0af068f7b8c729f8728eeb65fd2fead99351e17fbc4e06f51b8682333006df28f7f8195d4b513e9adfa9574c82bbaf14961e2cbc2484ea4fc04097f39bdafed785f61eec9eb1bf021100410fd35d1ca50cac472c8e81039af4319a0ece96607874dbe543dbdeb684803864bb22b72641b10d6bf04ad419f2dae16916b1441cb63b4ebc4abe0112c4f31ccbf385fa8ba46261bb7848634dedde3e10c171fbedba7adb237ca48eda6c0c8d657f5883e0481943f00fce8474e946606beb053f9948784e40565ec9c3b2df3043f87f33a627d82e332bb62ff47793f3bfa554a0e5bdd5079fafbeaf6a5aa7336b45a6d0f39ce8275f3da30c159ac3bd682e16498e0473f4d1e4771732b137fe49e7142e68b66c7e0b98677c2b51ca66ea836ef7227d367859063a01b6add2ceb33a013de740b3b7e14c772b36cd3cba08070a90c45877c06cdd9729a2f7d194b0d3e9aa88686db3b2820e15f85637f8f2246287e3174f3d8f4cba439f478822a0fc06cdcab705fecc3681b8fe30b991a57cbcb0cccadbf10690f6f9e03471939c7b64d3a5f88abc0ace7d5b5b49f75cd8b16442135a4e5575e5cc59b9fd0b7a3f133509f6e1def861a38550900d6b0ac91cadada13f64d5aa97a79289bdc756e7e666bc0df448c72f553d35641a7736513250eedb40975109fb0e7399486d2fb6991f159e9a3444b19bf351bb6c3f854456e1d7e465c0c1620992ced07db440a2dc85d5375440241f3d49a0320227d1d32a3a5617a28b9c2d9e381976270a01c19b8c95d17d83bdd3df690e91171b20c2ea42f9ea6650af434d203ed3f454bef978f757dfa4b4bfc34d9845c860d15bb940aa1e3f12a17bc37dccf02167ad0b8110ea81560cd29300e0859eab1a36b00e9cf9dcc426b8ed40c6cf837cf998daf559866354268f8713840267418213ffab605efb6e4ab7b4d38ecf2fce42dfcf99faca13a94fccc9be7a3bb2b16d47038c463a9447af4dc59f42920f6fac3810a67b9daea32b7d0d5648645c6c12b6c89c699675f3281857b563ab858e20ea8ab17fd5c66f5d29594811e4d9d1aa458ca6fc7395b0d392ee99c5b28e78e1163effcd1edac84efd9bf1ac89d76d9c9199eb2924bd2baf01c559538063da3f27a861349acf272b33e154a849b48c3ecc81f83b38dbf0c5dd016d5514f92342936a6e11d10f19f185f9167e75e17cb29831b47e0f77da114123d17d447b997de49c61607688ce36c39cc6b6fe4b6cbc07e0d8ae5e209a473a57d2fb434ed6ad83c2a04fe61d05f991e01ea8abc84c8b5ebe952248f52395f7dd5c4c7036688015b552ac6b17d6c742af8e64c477bec7cd8093ca24028a987675da442e976f2b35395805b1ee226dd4a96ef4058c3d03f92d06f3b5ded74cafbb9ae567f15c0b76a9ba1b4ef8a2cd837f81c303190b7b7fd18d0fcc1ab841151d53e67f1198358d41beefd1bf6343f0424fe67c102adfed20f13e47cea1fe2dee5abe30bb5bc38f10e23334f3a66aa92a0f8fa29e44d1104b25da0fb6ccb9b479f30e7950eff33a750bb07ec4d6c5142db2f2f6bfddecec0c652eb2bbb72a6f6f3bbe76512823597f8d5804db33a9231ed10ed2e5d5fcd4f1433c7a90e75b53fc60ae9172c2ca63d8abccbe0ac27b593315be6c666dc4397746ebe4f28396b8158a9da2e65521eb2d17f41b468c73627def3e7f6e725aa9b3267556aad5b54425adc46e0767619965f4a760c3a5eab1f5e637c80ecad4ded8fe0122652884577ed35048c9adcfd572ac6e8506c6fe22dada4741f57ccd58b033d1d0c10d2ec8f769fa490b4c43aef1d5023ff7a244ed6b43894c27a39eba1b80f62eaf911c1d13848351f48bc002c7844086b535d14a6662e3aa2c8b51b82fffe460ec75218910f4bf4c26d9d91a0bb4520f81969bd9c62d8bdf91a9db68a6b624f024e89f59ecae0055d77baed9d104b2d4f9b532a75f4a74bec62685a2b9f06d4b121da8a331b1695a767e6e8b320ba22e72c4ae159327d622509a612e395a037f1da36d6ef43cd94be6d9a22885495c8f933fbacb9ca9574540e0d08da9a4977930a65e2dc1e44da7fe5379372e786ed1d0086e2af86aa42f5959c3fe9eeaba67f8716756d5aad8076d6ab8ec79eb5933688ae6c5b7ce5ac954e4c0f3996ee9e384c33601f0f7ebe467f6cb933d70f4b725405e2bdcd96ac3f278912fbbb184af44d477d37803ca1ee451e84dbf37e270a412c0936632d3f1b1c4677c1822bb52f4c3b39188fbefe8e7a764cd4d40e835962e26291d53e435dbca3aa83128b98823d5c9c1e27cbaac5c066269e656b9ad1b6e61fc7ecb55b57d1500d64a679a32fbe7ea05dbfd0291fd55a678d86108e2c0440e057391bc672287131cb8e86b9789b7c1f271dcd44b375f2dbdd0dc016273b5e1865950da54dc963d5f39c32e2213691a737a85900ef23ae5a82f888b9f181d6afd67326829bc0e7a600db7d9554e668f1b53d4c6e053160e4cb035d87346888fae2e8b8bb68978ce76e50e3f76701779b0be8aa5080121afb14eb11c9e92a4ef404d7440392df52c9ff527f8b142b43d9c3e2e11988a7c73b968267c450d98fcaa70dd5f46a18b9249ccf684b3f89c45b55253db0c035d6d88c218948c166c327e2f5245069ab28e1cc6c3b1fc49336cf6480c1e1aea4991b621792e8c8259509c02dc77e605cebffe2f8a2d0c47bcdf26b3de19992637f81534da380fef2ff30114c39168e65715578904ff001942b754051edb84421cc426b60977f1df8b2505db7ed40b1e2d6003a5b6850a9323936f6eb4ed6d0a981d65f397a18753c59383fd58a8ce947ddbd64322452db583017a72b8c4744b670547609e38632746a6cf6a0d61a8ea55a11fb9352cb8b00aa4861953eaa10b25658c2019827730777fd1d18f3c1c9faabefe6f9ad699c21f4372b12ae38ed59513415f4275c3eef868012db7b441c08017084599f13b6169ec2bf4e41106841796b7073ceee9f7a4f814cec365e5ae9d84f0514d59912692ab36f7230f6c47f4792179bbbeb576f0612bd995882808f9fc2cc60d7a94d42c89c6395244402ec5ab49325cb1ee0f08df4d20e9dd7732aaa3f65d89e97bb36ca36c2ba8f7d2e4b98c7226d78b2c77a9d6b899c9893dda595dd160541f0d46c69f2e1618808ae1fec48d3762db665bdc035453fd3e8b75c6992e4d6fae6f9e4da168b380afed447418ee99ababd92db203e8a66416ef0aacd779798f79cf7929aac28dac9ad2e427421e100bdbde63568daa8e425dcd88e900c818257b5d40c0fed8495a235f80bc7ad84be3c61aaf8af4be7e292ea492c4a40ef111a35db58488eed027cb63cb4ca76ee8fccd14edf0b42c904b7c6229246b297ee4a141c235512e6b49597eacf0d1874cf0db59f9b957b42ae9e9975d1a43df8313a40703ae322eb8e0315eeff3dfaad5c4153d60e788934c5d09077972eb45772d8c0079228f2cc14d655e97b506bd3575da21b856687f308c0a7166e4e63dca450f3d7c59a7da45f0b13c731bcc08b4d3a4a45c6e1f5db4848eca4351fe2ae0c52ff0988088226196ec8ab0e918337fbad54cd9b944d5b3c0bc4876288556390baafd5a1c46c105c24b2cf72823f5e8a0c7d08a90732f93650b9a204db6f4f4ef58b9f473722e62f96c6f2a3cab189d5a46f268bd5801b9faf2eb5217be681058cf07f30b1f3816c794df1f547687548d146e7d7106d97e5d76f0839f27db1518dc8deadf19edd0bde5d634087f6ed29badc61d3f5232b50849dbebb31ba58150b16586d14ecbc943b63a1c7c04b9e9dd3edba3755d2901470178c06159056a8333d1a170fcb51dd6c4d2f61fbc1398043c04f34a96eb6440bc40243d2a9030a4edcb14adf9f6d02f7a701112962fef81b64f6aba5aa7e9178a1519052257fdb3830e6fc2b75f428f889d9fde4502e8b89378bc6c8b479ac97ee4a8755af2b9937ea2482240922b23a9ab9f7d7a8bc41411301aaf95ba5ff253d3d1e0ee3d1a4095b86ddda170071b2b871279ef7fe1d72e1df041dd3835fccad11f975e0cf212aebd2b9303aa4e76a3b389805c158d776e6f18589a2ca20d89b903c4554da3031d391c71e28157a70fffcbdba5c92e796ac774514e59de846459c1ea9518344bb2ec4d5386f85a3b125f66707dd451114521b658bc3ec10005dbce5df79fdc26d07477aff13d9cf5d7d07b4694b5a71846d106443c5b4f6bb7c495af0a880754b2a98ab2f33124e1910dcbe53f06cd527695f288714ba33cfd3896f5cce93306fdca814f83619a99445365b43d76b9687d0a921bab806e5cdd10efaeb34ee7b4b7876a1857eff1488cf6c4e6f61a05bff8c6f1f167fa0e64cb537bea3fc664d01d57b27c7be5763e700d4411f344376216be38f3381a8e6ef9ba2e1fa7d9441741d9b1afcf523e30176b018e514204e27af3c9977aa97410c998e640cc1d836b068e44b037b6cbfc1db184a61652b7f1a8070a107ef21e8280247bdfc5854568dfa8157973fb949090e806a778729260a8aabf17c311b22af3f2cfe64608e66ce8e557b99241bab35ca6b65272e9e16e658cb4ab29db882119ade52aeebd8d1fe182111e5da9256c0cf85c407a037c29c1f4106b8a626e88c4ab12c6bb7682e1a6bf4c71bb56cd5430522747850a3ee3baaf082aaf330a9b16d2c75d577d6c9c9d34ca8af1dd5b817c85ce8c8dd3e97691c0a61005057c897d6f3d5c996601637c98d74682b7bc62f5bed1dbea6da3668502eeb8a5b334090f6652cfa80a1e7b5a23879977cf57ad7347c2c95c94c0c4f4900fcee335f0e12315c71fea8d14c2e73e11046428f4a3bc7cd5b7a56adbf7eeb9ceb14338b9a797ea954580d25866c8e4d5e0e5b3ff4d1c9afefcea701341ec05851a48a09f810181ab008983a84e21dabaccb2a65c7ebd5cba3df64f722ccf9902cf7eadf0901f18904e4c2bcb6249cc728a2ff2bf0582bd95e0277510d0ca318bd2f2e84ba8172cf47634b93130828f6e14538ea75ab99712d4349937acc20cb5739fef30bab0fedc8c35601dc9117d9e0bcc706c0f6f6606324f9c9ef107a5084425a72152d755332e12f42a9561dab180a0717d8a06c98a139c96775e046262fcd77b25ff129d9c249d08bb9cfd3ba19003b4e00d6d5dd3103fa82e8ec9f43abfa654d007c33e084f2fd74cd202c0e8a0c114814828c6552cbd061c9cb5681bc0cf36ef05eef47375fc329fa2b35bf2d412e0f6dbb2ba7638aaf53f291355b2e063f60673a4d41cd48aef0bf43b6bd3233618f256b81fe948b9dc574eb5100820fbddded3a4cd97e0687fb0376e25e86895a8419ee4eee1e399ffc73530a509bf85011d2542d437ff057a59c5c48a4f9e91fac9aeccaed349a0b53d7271225555678c878b4919a4c7f3cdd6e70159c6e5dcc9df6ac64daa58b0edb1daa6f6c48af023a95bd462256f646dd0c702f1bfb4d259f733436f9e655e6b03119ec48d3c017f1455e66e37b20f12c9460df2bcb0461679e7b5dd2fff6b82b5ada691a4eb8f4c7d066da740f7c10bc4f39a174773e62c41b52f140b6b8b177de5bd81151b9dcc171a05e22946672ebf163646c4b43424d8720a67bc1cb43de504d30fabfc1d441c0c0b12eedb79b97b368e29c940acc7c7b735fb026f5ef9ca95b41f8ad7338a0756e44a8b8d256551878b93905a0c7a15cb25b390565c598fa79077ba1f6f2d3d2897d6687c688c33be3a3f233a79a34d7f5084400109e61da97d54a1017fa32da92f7e0148a3d1735aa3672ce7107aa6d427fe3a8e7340c94d6fdd0e5b0457eec33189e29bd8bced17e7595f4f2344f4d8a7c0ab638a481316617909572a0e5464c997cd17401b68e51ec6e9457de2e7e1f3348cd19353b6d7b3becba6d4d82e1586849616f60c7338d59a1d5a0d3b219c40793cdcc887543c88d56fc340206a8e754a2bf5c93c2d9085afeff0f6fddcb4fa837256ca09c4f2854a2d3865e92310db6e5b608903433783f610ed838fe5df9086b252bb4abcec21c09c4533f1beefd9e07d61ba94ecc2b412adcb93dc0427d1a1509cd3fbf1febfc2971ee2ba0117962e2509faefb96cbeca563648f9a0a2e00e6178a60e4f427de2b65b4a2577c3c974a9486e2c341e56b8d6b1016ab99857ce620fda6506032e01470ca4ffd0ae86bd338c85cf431941010f5cd54172c95a08da8cb214be27967071a4ce6c02f02071e3120c1af1d4ab8e5c3fc6c347636dfc39bba3758bc8a57ed3b084f42ed5ccf85f56632100f659ea85a4d7615b12b3ca0419d3df5d8f2dc36b8ee758966d0f9e87469cce17d00206644e82b26bf01bb1f5474b643bcc633ee66012d53a5a2e2845437249c24cd9149bf25a6574f84acfc9c4335ee265b938e1ae04af6ad301a5db96814f9c6daf6af442e40f035481d2a7df32c81174dadd7e61c5a55c3bade5f6db3e974e454c6c34148226b4f54c88458954798da9d1f4130dbf7a2b6cb5d130254d4a0fbc7a72ac41b8c745b0230cbb45722b9f5e462f1a6e5650f63e39ce0220dcd61f3ac7763d574b904c2d19bea9e5ec4531eb6d425911e07ca9afc9031603de689686b5fe4f9f4eee822e30b8024884a1cc495dbbcc163da7be2794ec22c12191c1cd49db32c1fc4d5c980cdb3816ccbd02385bd5f99ccbd39349ef28e7260498d4412756ba92120c76b4abcd7251452ed5b38675948fc8a01539c2aa0f8301f8a8aa8babc2820ff5194d9da38a0701eb04d33eb31a0f0859d47455f16f80c2f21c5bfb430411176f89dd01c927fd83dff153321a9e59bdc9511c3441cdb7cc863d30a28f244dae01b40cec9d456d282d80db76a5126465b177a78edbd81c874311d9930418095e1e83a6b957ef6db810a06ff5c3009ed188a4ff2a02cf0d0ea2ba2867c3427d225f24a2faa8ce27e73ef5055f9e37724eaebff6f5a0dd35f5604bac653c275d73678586c433c4a9600582932f254616809a4f3e13654d4fedd4ff09cb2e16ea3e073f51a78c594b395b90e76caf369caffbb7337724d99f3ad19f871dd42e90f321a733932ba9b60a633971fe8f7c4c63c1a461ce0aee9d1fb4b638c1161789304e3764d4799df3c4c3affacf32671b5ea9b0c9ab4ce8bfbcfeee95eca9c3e8693d7f868ca9b09f8c9d1b4a3a1600e4de08b041a82299571bbda96f6765fb8b0e013b0709640ce28fed58f01fc99ed165e4b0fb132d452398ee07b716dda645e855e569b1510b5ee5a613c5599b0a1551750c18c4985a4e8f383e4a70931a8addc8d64e295eeeb75418ca9b1c3f329319ca4c90cbbad566c65b396c508b3abc688dec2fad7e13fca56b02d34e0fc40c27d8d6badcdfe2156bb816cc30371d1259f274315b30a0fdf13463d9c44c3726e1d7646bd71bc1a5a28e7a190a04a1bc9e1c470b4b8d70884974ecd8689b0e3a2fd51f2aea44d45256ba4bc6d6ff6b5d9ab12c10dc19e68c31a061dfebe183578c79c13ad7b50e613bf9f8b88553967bfa6793e66895176161b5abe0c0b186fa0c8aa0e6d0fd52db5fff9279461635d98e16d6706efbd9d911c829e615673c8f6f6b468c9095443016d30f897b1a451d451cdaae9f363d91608dccec9215fe82365f76012602aa526d5aa274352e636b77b4f984251d9a9d6f9cca2dc0e621338922210f56f7a6ec2d3fab817ae3cc3b942d9b0bd0292c68e8c472db329fd2f4313492662242c865a0e1589337a62f575e55e2c4bedb523d2d22da5c00b90e0b4c83d92e0d3aa85d4d60c8ee40cd87fdacdca36972ad3e310828bdfa9a2770c9ed7eda513f3327ddace4e33b53a5720b7ea16eacab448097b4cbf58bb3260ff1083a0677797e11b98b39a991ab430770e8dbc2cfc568aa5bd199862839e46c1778a4d9a5047582cb034a3c181c2c552c1d1c9b1c430a5f9f2122612b1466e01dea551cd1fd576cf153566ca2d7e2e87f565c21c6b3878ca1fbca5bccc83ee2dd9ad12421c5bf4894b89e7534c68a84e4c38cd04438a1d4899fc1f70131dfa8bcc7e55eb86059d93d50c9859abc3b1a85492c17d1142d11b2d0556e619ff2915155e46517eb26699d0099a0dbe5def26fd1dd20136c0e824a775c0b355566023ec6b3b59c0a6eba84d961006b29cadcff890808cb2912a9fadda80976bd1704ce448af2cf8f6b20d2eb2aa790057bf4beeb097223de52660553c7bd3a1b239e4acc9e750459a02c4ecbf2156640aa983ec578ef23c43c19e3bad78d605874bc90e98cb215da6e5ad1a596b9a4ca16f35cc2c58fe15fef26646f220cd46af92256a648ee5238d175c1c2525c816620044697890fd8700d339fe662e3a24b7c833f820ece4cb199a005352184517078687890c277008646546493da66a9a90fb1e1f8fd996f171d043231aca223eaaf1053c3a835fda85200b55a9bc2beee9664021bf69ae61cc156738d50608e675775dc0884c34541d965a9e74995bdb1a85380f2b10c24eb1a7851ab7567a86cc43a824ef51cbe4d96b5d1ea5caca5c1e8a313c0fca40f37ee050d5a969b04048ae2de15d58f97e74a2330ee7de802239375b592bf234f886162cbf099c31e6beb7a51d0510c8102366a984330faf6a27c09383793383850aaa77521516fd51540fa9d6a301d59f4716ef84504ebaf157ccd931b9b99317b680124397209179e6f5e83b28e5da4ae1e5385a9c26ca395fa9b6f2f5dd86a206916270507ac9919813e540d9cce53722bcfb5a78a59b49affdf1fbd6d7052580f33b0a27d614dc692c16419d25da979c9e9d4395d1aab0028a816b908f81a90bb85bf7da29f1a608871704bfb806dad61d3bdb2ca30226872fcb4d44638772baa3de90372d86583a790c521966c3ad50b71825a53b525bcca2e524de645fc6f8947873a7e234951f7bfd35f681fdeedb59bfb32d7878710c009f146b8b23ce45c6ebaa2de018e1be66eac9837eaf6b7233a7618d66e5a72a84497b9cdeca965ae7cf9b3ff4fd5fc348c6053059c4cea8058ba1d755e905c6d021038ad3388694eea004d4e52984ac52f60bc0d49e7847d69ef6ac21728961e0b4b6149dc606d8bf2d70407bc523aa4ff00eb8a91e5a5c1927bf32066c9d56ec0edc979bb357a8ee35e7a3d130ffe6be06b0ffffbd6867129b2f83838ae4f63b753dbc007eb60fe0ce7f41176b60b39f1550709393ba97cd50e6c6229a46618877ecbc4be056cc509f0bada3faa52c369e1d82f2aa3d2ee74dd58f818fd74c34fd7fefcf2ebac062b5931f0cd6dd7552309580b9d9a2fc2a9d1f36f5a48b7afd591321008c0685a01ed527bc028496005c057f72d812cc4e4f8956da205898283e3dc2fc585b207fde4f9d9c658d94dd7171abae84a04b62a75068e015cb77356870a0684796dea1095a434efd63aa84fb92921cb8a2979c97b72933f5e1a9d51576f45417daca537d05362f49f8b8ff51b4933dd42e7cc42f1ddb13751ec1dbd64e94859dd76a67b1f274a0434b7c2fd52d39194607dbe333ce47a15cbe6f4ad8a1dabd489b2f47f2fe5e8c1aa5aa6be7c2c3741e1b65d846fcbe8a14f515f86801414977f037f9bd1cf4442d21e1d3b89cb783a520d05af89f80c7a58a4372ca3e7c157e3ce33d5e2effb93b567faeb458591ce4a03e1e433faaaaf5547bc4b22478586610fafa3be78405c6e4b2bc40999aa3d60eee9abfada6a986b3b7676267cf13d2bade4a28e5b7ed85585164d5fed6a45f049e9cec95ab377aa57e586a18b473f30ffa37f5710da33320e20d8323479ed46321d4ca60e627041a81f477058ccbcd4afc0bb7f4059d632dc53427e1d3972beaba1c4be9541bd82e279eebdca0d91939c46cf88b2e7460e6288fa05704ab14c40c61a647a5b2649db6676b38c0fdcff0001947f6ab0f3bf74019fc78c597a38b3421825b6aadc11cd3a17adcc0231f3b63621154b7cc54a6e9f7405ba21c0aab07fe4bede2ebe3d95065ddeacc7def38b7f7d0bdd5d73a532a2a85003eafcef7d396d2f9eed3c621325d7fe859bce890d1203b37c53c5b159e4adcfc0610cceef3bceacafa55c351eafeba00b9bc78d2d95a20c42fff183ec0ead2b57d2524006c7333b42fa4901bab33aad52a0f9e49970bda5851e3d99d3708d6afa5678dbda8e7487c0096876b8fdfc4064d486424ea314be8382d831d646b40877cb9b414eabe17898bf8f8ac7c819f87dbe8238f4d8e0e6332b607fd59ce2fe5e4aaf1e34716d731499d5b0728b5eb8458223b2e1fb73aa522bf7d83d86b20c405ff03d3a367084fa20a2d0668d946a35f8fe72f19d85674b913d00c172a524333c19b9db3882ab640caed50f15f235dbe0bf72257bad5c866ae9081d800d1d52bb240b3293fb6a5c3af1e7e505d2fcc3fcc28bdb83efe8a1949a3c98a5b5adcbc6dfdd00612da25a7fada59099f5b76f2d379df612e4ce4d55f3f775316487dda716045348e9e44b4f93e42ff33ebda7b2a5293591591d21fc0b43c16772e10d238e09b7a02385be751bde114cecb20909c95253c495d646508ffc21caa7096c068dd07a49b79eb53f9e49ce55f2d38fa8b91df78bac18d7435e5fa047242fb17784098f948675522907cc0327e2585ab044bfe5a14c0a60909b751b4de27251497ff242eef2850b634edf7a124672f2a36a044e5b30377fe99641bc2cfbfedd90c01768aafde2d3c945e1cc6136fdbac6628b54ee81268f8b2a5260c33a0cd1ad627de4344a8ea11218093113e2402a84996f391a53b0f2b17b1bb032955004ab44a4b8fa3e994950b5866dd9e7b4b9032549d35cc3c0a6c9fb5296c417f3ed5e335185584ba1894cca7dc3b24826406acd399e14300e2df38732623f7b0de74b4afa3bbc9a53e4e99346fbdb53c80d666a18d701d3cf48862d4dde64dc39643a7b0619539856e1dfd8309ceeda8d8631e2a80f89f33776c4d1274c926ed31e6caf2707ef1d874c46bd1e3c59f55a52b0e723f1974cb2c4bb885e43acb56bc685f3ed0070ba94eba0563c5eb47287f3c2cbca1ae56de878fcfce029c632be0bb32a51259129ea8a25992287bd3b5d2fd41135b99343ff77dbff08dccfa83f3713621e597e0cadc44852273abdf5de0fc28e9910697fb0a574981bdd3190801d74e06d0ccf3065a6e08ba7227cd4088b3fd0b3bd877cb42d5ee4ece412b19f4729700971d81258982207549823e992520f760af0fb9bc8b167de7be3f7416d4e78d764f30464bc78da946fa7b1c79b24babf9a9b234a3f38b39f0fdacf5b5556c694332a3f0285ddd2294db99d8b283e7e757bce7be2b7788b1bfca52f5edcb75213cc6fde592d5f4d18349048e828f818648c8f6699c319510e97063e245ff54d07172b6981e6e550e73d63d370c4545bc26d1342c73b3453dfb0390bc1be8ab8fe4cb70e50c48a0528fde49731b6d7c4bbe62f5dcfc99fd05acd521cfff54dee237dc0a57be3ffda41c5921cc18baaec5815b41313d3850ce696a5286df8c647a12e5f2c51917afeec76f48a7748f800b60e3524d14ebbc90fdbee9398360bd25ee0c5b51a617e12fb4ad1e2a34ea8138329cb73535a83c39b0e721bc2922e510e201abdc445f21dedf441c4aaceadb4206ea427a168c6be6760cc1c286894f8ae7a0874bba0bfc5a88b8123113df8167236f4a152318c2d302e50ce4403efd14844af4d19a56ce2235d88954cd974dcdc8c3c0a5d7605a1f7da2fb87dbd754220554cafe91525fe86c93f3db21f1c860aeecb85daf54c064ed3eafdfdd646161b36da7f32551e62f7fbbfc769e0f17b417fcf4f8ca39b8fb5ce762c4cdebbd61adac5b7a37631a1422bd5f87d13575121f6a5cdd47061ae88e034406bebbf0bf1224b1b9eded988bb8944fc65ee93ad2f74cfa0823232b8408be7bbbdd52fdef42e6a6af8dd67f3b495428fd872dc6279bea4a1ae44a295b98ddd37d172bd85692e73c50dfda725cb07a0e17ad53a65ef8578b0197e4d02a11c03db69563308c7c73481544e48bf27a1e7c862b0e2b1208a854c342d68f5a25c12897b03f6abe03573910d1d393b85b73f6bf5c0a2371cd8e0adbbf24ec26ba280cbe78aba1eec8a492fcf9384fd7067e14d849d3ef7a0d60b344f80394f1323a737d21648b9264aa4b4343a81407415e2ac24544a23fddbf01e63478fef366b13389f073ce1f02cf62a662f2bbaddabc91b8a3789729fc77a178ecd9489d62deb85fea7a9f81f0dc3b64798196bcedec648c6db17f953d2dac732627fd76ab6fe2f688c6d087d3a071d6d0b57591fb2628e2bd4861e24f317103bf732fe032e52bd5b7bf52d8ff6539741efe067f4b5bbd6af5f64d283ce231c5e6fcccd0e36eef31652120a9a59bbcd49ea6b94f40e0346a34ad34a9fb170b9dca5fb1bfcef24df04807f619a0b799b54f3173dcc9112a5562a1fa3bb812987a812f1379b9ae7f0f34f74617c888067581004fd8f8705dcc146f8635c01ea9e45c272dbb116b85da16f7bdcfe098609cc566c37b7d67d33d7c32b5d0c6675371ece12ba11fedd3dc4747f2ee42d44ebd342092a533c464e5b65e8226bc2193af6e4079f5de0ee31ff194e98392ee58a0001cac46c24216b7237fd9fa668337407343e439f789d2c3cd8a9d87b4cbc693b0fcc8b8f917811056ed72802a476764a7d9b134bb10392d39565858447ae34e6b8004faf8caac1e38bd974bb19e9de6146c3cf88577a016a477c9aa3b0bb8e4ac31bb5a8249b2e23784e8992c2fda9c4ea9276b272447bef68afa9141ea4346668692681186c1c9e2d362431f903ab9f6797e2ac7261a61e6714f2e81eebc98a3387a46314ab7fbfbf08a221e6051ad828157f6331f7d3c53462e36968cfa512598fe122f9fb8395b40ee953e8d1cccfac2d04edcc592556bd879857a4e62c66d7780a3e6f35ab696b992796b9d91553894d81207bbb07ce42ce9826fa4242b44ab329ea98e605a507bcb565cb741d6ae9a9607007445defb8879c466e994ebcc90ae474b1ad072d14ff8f57b9fe0335c8b7dd116ab499e6685c8f1d52e9ce316186ccfb256d09409e01c59a7c284312947c54e3fdc8c83675fd0a445863db88df9352ac5a89c4168a01bb3610821aee2c87e8a98f339f363d1b0ec9ab2a49e652e8d662df8336ef15c9b5de3b77748fc2e8d3752704ef0b706f297a2215fb9c06dc7ede9221bae15472d4641a9b8dd517e74459361485870b5169d544a7b7237a84ea5d8ec89c34c851e8ef8f158cc14332bdb2df849e8c27fee60b11c28774e90cf13700823a2fb01d3038bbb03afafc6daa1e717840c8e9b4a5190f568a298c8158977636d41cf1f1bdc8eb7abbdc16b928d769beaafc800c5670653c047f707197525e4227eb9890ecbf0eb87ea5addc1870e5ede21052ea875735138ceb158296ed9fd761803aee1341000ded80c854665a65981a99bf4d063818fcc8d77c6dbd18d7764d0ff3ac1dcf139bc0feb304467ef0d517d0d33b13f7ddfb9cf57a3f5feac991a661fc0f1decc66326376","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
