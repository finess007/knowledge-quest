<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"dc8afcce7dad796aecdcd642511a29f16b3065c8a2d9dedd6b08af4561d2f823cd25dbe65cc7c44edc442145898c00452e2a434a6570425f985b3c636fc5fd27a1bfe0614cc0de47767fe952dc51b3b597461e151ece1b65bfaf608367de46253b682d52f9364a4fd2a252a97eaceca722097bf69e34a37c242788e924e053a9cffa55f825d3305007a179a7aeee622b842617b94a9d12aa4ad5060160aab7296f2867019f662625b7a538dbccbbb74164a4933d3482b82488778599051b9ec575af16ab7cd43a5bfcc5f89ca77dd351d513d60e3253d83ac8f8b8c53dc8a78d7d7c4aaf58e226af4765f4b593e17630e952274eb587bd63b8bd949ba9b49f27f049269cce20e2121497ff3cc70cde741c5efbca1cd3913125e041f11dfd2cd21a65526df39ac9ad6a4170aab66bb9a87160f5bb244d2bdfea745af2f27d865c30ac09127d447403a86dbadac0f8d59d1f236ef6379c8d037aba54038d73b8683fa799a97033c31eeb13afc43228cbc6e38d816b3a740e50474494ccfbdeca419dc993d6265b87fec11615518bd328cd10269fbf497c74360f4d5b94d0be2e50b882a9fd339a0c5c2ad082d967f32064a3db106e3d93548ba045fc10c7684c548414755c6aa00688eba3ae6c308f8c694cbfcccbed2e7ad0a30b4ef35849d12e7504fbb3e41bb3d3e13fc0dbe213ae39cdee3906f84d7cb424159b9e0e8f57edff442a5373d8c1f57b3abe85bd5562a158040cf3851a3e515abe495fd203745ca221ec12b4a6c185d8e5c195cf7d222fd5011b235ba7ca2dedb7a37cc6b14b2d29510227aef3a4ffe78547c14d9ce88dc0d0d896c5de70c116ba572528e6481a84ef01076083ea02964af9890bf8c80b7acb190fcc4702d599fbabd84b89300ca213b19e6cc8005e16e09797dc68ca0e620b31fbdd8119e2e3f4458a9aa28c1c79f4514ba0d7e9ade8ae4f4f4437bb47205c51d713d0cfdb10b7fef677fc788b7df02f86fdd4306ad4a86224b02ed39ecc0bef038bc1fc48640015ad661effa77c8a44433e5caa591e2723c16ef3ef49c9197830da2ab7de473bd5b4afeafbc201b4518ccbab796b21ea11d5e6580552330e33fb67dae2f5368b83f929b6ba64352fb315b8c2c4d4af01c74a4156ae7973e68bda839aca29642e81c79755b3c3f61ba86071d2781ce7c64cf238de55c1ecf9ed330462af380e7c2b273d7fbdc4718e1e9dccb66329cdd5cb0ba0af3dbd593e49ef99485ad64609d667bd201870b7cfddecb9f062f0f2a21016b29364d71479673fedf456df135dbf121e0fecd68dd05a1cae6e83986d56e03a8b6d88dc044a0d4f7e8efbce64229091d31e0424fa0198e66785332db27b4bfa2bc433f4fa8c33cbb0872d509553df6d1483135813ff9b5d86b561c35117cc6fa9ec80ead3768315fb3dbeefcfa8ac725a6dfc263d927d3249a7c65a03632a963f5444f398670ec41c7af821f1f64acf02d7ce17bd5238ce7d016fa23e2b5a9d665a460a3abd5e5a7ee3ce0b277e6b03b75ae3d50103aabe12f93c1cdcf43b541b69712e1ada7ac7d35df76814053511cd6236f67f455f9d2b36977c56671df931f76907367ca685e7119ec8a75648448da8538d43bd04affd99d723b807faaf2b88033366f56755d4405392ee925a08c4b37f2d0d98716f9ee5405f293bee04fe5379efd4cc47fea43c614bd60d53d519aab98a6d2370a21ed29ac9ec44044de1c85b3042ee3d4de7e19a65c56a6958eeade443963577fe011431293fe64cbbe03ce9faf7c2bbfcc7abc5e3a8b76bbb4261a887e031552556809f0d05512950adb910ffb25ea58db1a872248e01ba5f60cbb7a77cef394fbb4b721868cdb91cf7cfbf29eefd8f5afc22d03acad90bf995aed06ec08c252f4d1b7312b9184c1aaf3bb7c2dd2088be02e52c69a2d46789aca46f2d36cbb4ccf5b0945408ece3eec2e53a036f674d25cc0381e5d5b4b170b3aae2e2b9804681eb05221ae1ca1a6b3ed359e267061c25f08bbbf2ce4cbe24e5c6f7ff5274aac4633727856b4cd1bc09fd5aa1cb36522333470d7f14e8f5d682de4fdbbb89e2d13a7db62b1707f8bcc97b5fc827eb1690f36ee162724df4d9e1f5b5a171266b29d504f11a7227750452253e1d4b187030557186ab8b74b52c2a2b831e7af99802208925e73fb41d729ca9380c2c375d8e0404640b32ebd46bd68aa2d0b4c3fb39f19572154127743928371009c88b7df24fb554f6bbe0f76d6a2465f0398f31a48789f5cfb4b69428b86430a259718e55d08782ebccde5d7735abec1b3ba1e8c8ed6b6f6d36c65d1b7ef4505be36ac9e5e92d722388a1c2d2b45d28213ef3aaaa082de43993ded96013cadf5d6bfb7fd049e6fab37dd4007214f41008fc998cf3ed0d890e752823a25781ccd1c46264328d2282b15d9759f8c627e6fb4076243d83fda66ffe8ec02ecca32aeffc8f154d0aa1dbf7c7161f7c979781df40ee0e5efaf15dede1196cb046e1b7538b1ef50e7f7e38f0e826592bb60f1ef7a1bf849cf92accbdd0213d5b4ffe80abb860d696ee09493103361ef91a34aeb0544e5564171d7463f6cdc9e4a44d087b26bcf0a2976e0de119093149e2a32622913ea88a402a4bd8570eb6f0b02746a412c825a2be143f54c8be18582df199fd82e036593c01c8405a78e2e64f9bf9b65ecb5415fb389af6cfa19c8c90112400863c8540e943d0dc8312566f8f681ea6b8bee56cc1864c8a3396d4e170642b078566320c3f664975f97f748c3ff29ee6f20812ef87dd5ad039299c7d6827cf62e6d5b74502fd05bb6b5e59a2729958d3ad36a665ab7ce27874d2514b602376348dbb2937e35184cfc9275184bfa9c1d5dad4cd9760f6f6ad4229a1e34cfab29eac15c8c5137924266ef01bae1dca80436725665629ff5dbe4e454ed0efce6baa574b8f48e7c38660b486c199dd26c13ae2e8dd1dd4aba095c35aecfa36f649f822c4a7df0527ae3eddedb37cd329e0d0ddeca6a9c512f2f79489de144f47c6de0fd87614569bd92281e9de35745f03ac102e3f0fde20bd27a65f23f65a68a5293998eceb6503b6d49fcbe598742c0b2d844989d263a3fd71a1982965e0ac33bb39c864fb0a764db80330e3d02eefb1b297fec8a8bbb385532afbfb80c84f5f4e0a22c31e0fc26d6d6702b119d1cfeb7787ce7beb51acfa34855fdc8e89742a9f7ad8d09363c7245270af15ebfc5d1a2af0e7a7f2ab9f8c52d4245702ecde2019a580dba5f7bcfc72908997ed9f3ed7e9de79c0d71e45ef805ce0b73eeed40b8a70c969990251e780baf5fbe5a571a1984208d9a8b63b52b04cfdfb0a5f6e08089112bb10469a93ca2dd7c29b3560190726d1e39e093286d60f32e501604e7dd5714624837156fde3a7208c53b14e5d829e4b410f099511bab3883c4419f80c9c0ff3986ceacf5e08d63d40fc7bad3e36f79d22b352fd0710c07f594c44c648a91406b955425d7c43e0997446f640e0be734a35acb3dbe4e729c31aed642d61f43a051c13220b975eb649555a54d866c4c95cafc74366b072eed1e97fdf1c3aa908d5f10435ee0d85693594e40d7d284367cd47b10e55636545124c8d97d508f82739cd9d9d92bb7977e23357f65b79d8a54ef243ac91c6f9861f4e0625fa9b47492c194d0cdeee9660cfd24f32cc86cdd64768ec8f8cbd87fd08455409b4835fe3f9c93423dbc76d0fe96a65e2d470190dcf4c2a35d4bae18fed4ec838e123fada9e174f1407b2affb86e9de2f0ba8b08dcad8dcd770b5de4b7e27299fe676be6ec2d2b357a415c269cdfdc76ed11ee0bf1632d3c6d0157bba50b8c3fae9429fa82222a162773a666380c5115123c218c4890fa70f91e49f3ae0617f1b12b53cac235c6ac7c42321499b273739b5e76885855309bc597d573702aca216c05e3fc63d8bd9bc0bc729b1aa2210ff362a743d7bbe23ef1ac19b4574fb7410ee64a2701c2c875791490efff2194ceca70851b9dd7ea1537067b11e05cb38d338bd910bc981e068438be03ef0e0c55e9d24ec67d8cbf54f26263456bc80ecaccf3bffb3313b087b0c7f665b98771b4a7dbc21a99ccc57f3df06806e11df6d80bf7336b9ccae0a23a863510fd0c9fbc7ed7e3bb0fdad6d8dd0f7bcfd8341082196fc31e76c204756d0e213526c79c87efa7399275ff510cd0251390437f07762fec5821f3a74acc6cc39ebfe2f853a00e8afcd2b85608f108c054aab085dda9f48d849386afc91e4f57c88252bbd4e0c44297f7e13d6c29c93c30606477e3b022525f80dae36ec7e42484f1630774703c39faec4d65b7474330ee6da306f63493fe559105c8e5fbcaf0365f564d68f94a7f117d0dc489f8c97a6a193ab40e6d09a8f47712f8388452a9fef988694079ec16f11fccc7db588bee33e51bfe51f51634c89d6edc433caca58dc55e8906421ec3c0b51e03ba5a6e57e8bdee27520c79a3f92036d4925a78e9d2a2311132318e16af07d23bde1bcc180441cef3101d60791c6139ee05265293078b45e137ea2a5cadc4355c8eee5ff340ac0b9df597efffd27032952ad1e0c7ffbaf8636a9824651fcbc6ff4963c13f50049dd89de863966a5f3680b7b2f4e589c67b95517c359d101872aeee03eb9823026394aacab97ad8b41718e43bd163e53fa93186a8d2da4d2b91ade25f120e797894e96baf3c169a72d6eda990abe5b56eb4816605fc9486701d50cec599acaa6945220de5bb284208dc7621009eaa807075ef4166960ddb48c9c46b3ead2b4c1bd5d0471c6628d2eeaaddee547867c1afbdf1522efe77896cc9df71df86fdbf84377339a1380734fab388bab980476ebcc4815344ab0c7cf4ae79753cf2f40f201d11f20a7f0f1c5f17906f0da34d4e0450bc5bf776d22af5fa15b0384d6bbadd024260a0c099f21ec116364bc0a074648d1c9aceb15ee3381c49eb5efd3f52f8fdd387911c0ce739fd492023a0805f526cef37512e29ed553182b7338bc8f60f3a7da11db753266833efba6a473ad45eac34cd032eccad6432a1f8b2f491f0c8fbcae4c4f40edd841ee5cf42fd6ee6499efb327ab5d8348a3bea84704a9ed32a2d1e6b0aff7b5851d293ab2cff3b9e439f075aa6e176c4783de8603c65fc5e5b2fc0f03e0d9384c5c348823a2cba5602b61677ce40cfa0b0b7005c31a02509f1978422d61f6cab202e94d612e09f88795c6d6dcd716e8263115cafd04137eba05375a1126c2ca136a5cd59021cac4b371e06313d1df294408f767ffe69e6e9b2b67111322a92970dde32bf7898135355f0f6a58030624111fd1af5eb25d8364dbb3055f69f60564330b58c828ac93289d4fe3abb715702c12ff81a383da19bfbddbac45fc12ce4fa3c018ecbcecdd60432398c217dc034e0df33683e0819c6bab48712f314d79831aa566dcc4afb9b5f090a5aa01be44adbe3dfb31a131fb43fe77b11efaec6e25f1d97420c91e2e952845e5599268de579e6f2c090dc568a47ce3090989cf198d5f9466c29f0a919874ab12964f4c94ad8f5ecfc06ff08e594ed6790112313f4d46bc09617bbb5b253185fc910ea56f9bcafad3b1456b0c1275b2cb488cdc993fea737c20de64c0508dcdfb92be659af75fed891a016499ddc4b5896ac4a92dd685eee95816aaa2eac7082c44afd9f16b789c73b518fe821dfe49228427eed2f27c28781401ce80b171977918a8af0d8e07cc10b819764606bbcb0b1c5065e57f52882a6bc781cec1c4cfb9ff48b44f4fa2b01f0b1d35a5e75b50f77bc5bc55233b31bb09df62f59d46e7bdd064242bb88404a6792a05abd6d2199c492c90f0ef463120aa517b46912b450b11cc4a6c97c3b4b0585bbfcf5d05b9b374cf662f474e282ddfa0febeeb477f4246914f41e21feced9a31f12c25b6cfff2426ebc689f9d5f8d9c9966a5bc141b637fa9153a0d6c780b3a56c2a3f1b53abf9e6420c5b2bc9d45b2fbba07e261c4c15df815a87869f0bf35a9b124935146752fe50944e018f0c9a5916a5a45906beca3926a1a1f5c9a06dd0ab6907d6e900632b8ee6568896fc52aaca9dc9940954c1dd05c2a7ffc21705930acef682f9de081d4ca7f4c04cd1a159de55f13c212032740bb59ea4f36296c1f2239e36af7160bdf0306790cd12242d5ecbb502e89b88c3dcf598fe3028573143384bb884e18c599f8bef15ab405873d06b08b054e489876df0c774855bd1b150ac9bfd1dcf3c8c89aa544ca7ef2c857fd93578f327c730c27231fa270ccfb64b9248e5f5a46c34ddb9d1ac05ea7c997fd87cc98de1033bd291fd7f1fd18f4415a1a610ea11bb657af6bfc2c1b0eee98d22db7e75fdb53bdc6a0ce85c709032142ee4167dea14e22e969327260dcc56d13f4c0b3682734b97ecb15165c9bd1cbd5f3ae4fd9285088d3366bee4718e40694084436dfd56c1061d9fd280ee63db04f1c5a993fc82b60d2947be28fce1cd7bbc73bb389bf90f73f31caafb4569d310290ad74ab4c10937e75ba8288f68610b909aefbedd5d5982c4ea93800c07bbe10454d1fd9e48c73afb7b8f3d3d35a904c50953dba9464502b94c056aaafee537e4cc220c323cd9f0474711110c27ae3923da186c5fb37911107829f40aee6b2e9fb48ec35cb52be375c61ff96f01897f39c7d7c6dcb11bb828e36e009e19ff5bb2ac9556ef600d4d7cbfa57810ec2e2efa21bc3275c235ec99cfaaa91cb944e59b7087950a45d535a12b264d997b6c51802e2ee7292acbef3962394298d6a4cdab504f796570cb59795d0d2df793318df1699c99b772e7c7858516371da34883e0701e73bc81d203e54a01381dddd339cb85a2c2292233d593a6a0d245e27cffb6b3afdf9e60108266650d24250920207b771ebe35e6d86b37cd6cc0602557318a610968cfe84dcdbaf3533a4ab5e8f5ffef934741a8450a6fb3e71d6f2d53c450b92d7a69cc75070afb26e9a8396cbbc441f451c09a28c225d3f129931412de7a7cfd520038eca7b3e78eac15463d51e04a1fcefbc9b4064338ed2c0be94a503a167c183295c8a8dd2ee07c8f62622b18dc6f38683ccbcceaca305f977c5f9d56e5598f3d255e32cbdb602419b5c5bfd98b85c80d58324903a8ebf888994179297d71297bbcf40f118391ffb1ff3aaa22d9383b636cdf244da9591dc980b925c17597c9c003a7bf1bcdb910a679c0390e1343c6ab9d33d2476f14c77df3c165552165a79c8713a7f8b145af309fb30cee909725264979f9d3aa5502a8fff4a63d12c68d63c143b9538f97ae6970cf1d80348cf95983632a525c23bbd1e0168f0f9700d7c5840531081c47185a6306cf3a2a96bfb3492d4026bc2fe10ea0c1e6e02b41fcef9678ad9de3102d8041c9ae05657e0b6be561ae2fd02f31b6ef85394e28bd5accce28e93d59aac0d2d009c658198bdb959e325120c794f0067816ba0c36d2cdb24257de5e066b2ecdd89392a6bc89cd9574f2520a43ec6e5f59fd0a78ae9782bc2e367e9305dd247bf419415d6b7012345bfa43d13b4094ea7660e9ce88474a8029de73ebbfa5e6ed20a0b7dddc7dfbdae1d9f2dd57403cec7344229108680f6a2bc97bc619527162a34e013eadbc2c6174d2d0c518cfc09a6093dd321e610451cc67ca5d32e0f994f0af8000d84f148ac227da97627015adeb0356dd25c95d3850312c317af4cf4386f8eeec652eef5c939b26815eb9c2e1876690a592b0a71df43858dd7d7d8b53edde6aa5aba44677ed05d7faf65b740d7dbdc3dee81d5d3a78c66b20a74987a51cfe9f61ef6d7179641c4e6886558f00fedfe97e960b66e31f8afcc89583f7edb4a2dd2d9cb53fecaefa4ab7c3ec7ea2d968e435a33069ee218285210923d6ffe104f2fe290b5d80325e9b2ee27059e29660d96bf93ea866b79f4b9ff3e729d5cf25a624982aff40d3e236f1038ace5cf7678b874a7d8f62afd443fac1adef525ee60b450d026a360b15529ee0477acb82bb82ef7367acee909cc04eae7832c8196060c908c1552b34aeeb82d7920410c14d4cac3d737d9fbf84447eab87c9eed53e68c2be318e78d7544f36590ac2aa7058941cad64618565f84cc4ba790e2b223950e1a254b81b705d709fd095fe77a8b2a38a5682dc2ecdf1d7315e92ff47a390c27338020ecce685019c37952ae0438ca313623887f1c4650354119c310b194d0aae3503c9d553cd930e0445d5c562e13651113460fc450b253afc5c411dff1f8d35e210241bf365ad1dd7616cfcfb6c34f243770b9234c363a057a6017d4abdd7284e80032ac7de501a896ec34334185b8a3189504dc2204e12c140f580fba7aca26acfc635c5b43c6dbda41988513744253009272ed30621294b2ce5f1bbcc18ac06fbe21404716a9d13316ec51a6b36cbae84124e45cb4dfdd3c4af53e7c64ca61b078efd5869fda23c4ee69f9900f5cff97cb2a40a0fe673825d7b026ff489c2ad99f4640aa224e0d2f10ccb26f38f75624b8c6b0c7f2e1fa7fe0039c88fac81a9bb7bba42b0f979865502ef0dd76dc77f598fbc470f491d268a1e18ce27e5a5b0969934c0f49312227e096ce38480ad76bf3292e4940aff890f7ef9d9deb93c7c3c5ccec2c645cf538e7384839738059f32c29625da1cf818133864fcc6a9e2bd937d11843970fdb155ca062191689c82f0a6fcebbc9fece5510611f225b974a4432e5464f185699291bf755ba58809f7294941b22a93ebbb34adbeaaa5adc3326cf346526d7020eb152971f2157b86749672de498f01b0179bc1cc752fdc17bff2990b18447b5d323377e5fcec2bf5b58f29f30250b33688a8c8310437e18b0d6af7537e6491f15ab2a8dff799a03a641e269688bbd599ecfd7f64fa17fb80dd607fecdc362bb02ce4018aa7c07e638ec9009296140bd565a58e05510fd63ac5a77fa1e40c9b8d09b5806837eb1982ff769d8acc51a48a7c36e57b741297cfd01f0c075026bc68312e268aeedc74059bc2b31a2c7e682542b73b50bc813c16aa6ff8e8f24b47f211bdcc94e182aa6a63fc57defaeb5ebef9da8f98a2d4b4855c2af78b57fcc64840510388eb36c4f4fddeadbca37f455aa646ed092a0c8f37cc09e211fa078fbe9182e5f676d07b88b6aa4f6b4da2beeb10f641342d87bb50b03eb4cf53d9ed83a9158d960e2341ef55171da678a3783d5a7f0dd48925f9ba022c3a3040d339b0c2f696effa418bff4e520171471d2afac0905625274887df6acb3d1d97a48565791b72bde9475180135a6e6342fefb209609091f10b23d5fee1c876128a3749e90395489624cf95a5e9de2d0b8679b55c91c39076f16de004e856c356199ed12280bfe25e3bb49876da4e98bd9f2abf5841101dc996e5a4f98845025071024ed2c552748a854eb4fb19bd5a2567ae93f020fd2380f23b63972ec52a15c46d2898d0ae3f14cd31973c3c156fd71831b8a646743cf02ccc8cc725eef4269415e4ea2bbc290e8a4840ed1dcb94ed63a321d310e3dd940b1eb92768d22bdc239d5fad7823dc310496225f0e690505034828915976a8b8f7854c0dd14a2b2ce21583a488590cd82f25097ae5a75e77ac9fa0c92557d15c45dd44189588b1ab077147c256fc223ed7112900531f76fe54e5767b3e34e664cd9557946158720aacd9a53443e1d2f8220f13af2f8d1e8435b61c954a8e5a44b4af0030c69e01fb02dd30f6b2ec9fa1fb0e34aee4aad54b86f098e25f9a78c4714f14fe82d2b7991c26c909feee98ebbcb8e12bc5427a7f67845dcafb606003587412463cb8a6f880f05d5fe26b57800d142bb77b2b51d79839f8fef789786602bf95164da8c0be4377917704d4bbe04470403ffb28df99d734ff248cdf5362a2429008b42c5832735881f994970f025a16b11410c845275ff66d174ca0ee8f7b1ef4c39314a0df5f02a56d535dc3f18c99f3f1505122777c23e507913c64d6d0a5fd2eb224e34be2e6bb099a117fd53a3be219e3431d61cf8b78fb72e75c6cdcb2b942b58cd945badd3eafca510cff965a51a4e568436839933c20ff33cc74a26e9a1ea7fdd80a15582d04796a5a7280646350951b503ef486a467940d91d4ea663bd403aceceb2661d7623a812e25c9d36ed0ae2d59fe2fb52ed721b88d76d243fb98bf9cba3fdf9f053cb2a686be4ce0e464c912ddb6f6308f9ab9a58c0420a725b10416d8d771b6b1a9de8838fb97283766888b9643a3f2a9c1f04257d93626fce6d7d1a295d385cc0f8d4817ff58f9896d46ce6cd6aece6945ff91dcf22664549151615e99b0648d0eb147276eb341aeb345821d27f6207bfcdd0b9c6f33fafab5d4040f2719dc8b81842d78e4ceac8f9edd617b2261f7522cceaeb95b8d54f5f10ef160ab223fe8a8cece8b813c07a305dbfb5d8d4c00f9dcfae8c1a2b8cf851d9ba4b5ecaa7c23f3a05be6476309e046a882c1c136d1cb759b2d3c97f66f3477b2931cb0954224e3230c46811c5a47321dc26dddbb0a40133090cc7b70e0e44f63ee9c7077a5053288a021fc58358305faf8c4ac60e8facbd4f71e4a79b4e6e50026c99f43bd0e20e5b91021990fb4d22b4a495af84f069b6a725155d9fe85ceed49e78082eef140a46ed1464642a0e41d28330ae5c6fda9ee560bd43cbd8e93edf71b7556d88d94cf58eaa727300976023f963dbc19ff283fb2baa1810b7529aec82082da375cf6be8891b732b73709b8cc961c933457d81c0189e7e10df1e8f8c83749c2797dc743e05e3132dc54d0ba9d397df6e6acf966b1b040800940b88f36d68112aaffd7611870e23e350b141ab80e2a286004b5ff67fb167bf6a226b62264adb9476a4daedd93329d37627e1d601f032d5b3d0dc08f496ed8e430d850d88164967fc91049370833c2591d7a1c700a16d5063929022acabd96f26546f06a2ccbf284bcb6bd88d4006beba11af1315e766bb3671eb7b2bee2c6ba7a544ed1eb0f1f66d124d10c3ca5b5cdeeca4ffcacfceedd0886442bb2d899bf0a114ec9ab52a3a2d74e4974a99a3b6e5cb4e0939910c16b6e530f696136c9779a6281d1986a70637a3d5370fa6c2e68afbf70a8b2caae5704a7953c0ececdbaf35118edb274b928480a28ef5e3fe0a31b9b73c8b452d161b908dc4e80d274402963ca139dc5ac05bae44a46b7b21bac4b92b1a249fa4f73849b0fbeb9d88eed03712c4316d5fd6ef802a4b6916b17144c126888beb66ff86ae9a33446d5066752b850b44842b60ff6cca707ef73a486fede68681c6f2ecc4e060ecc03bf68911a3fdb9d929264febc6b8dc6ee470b3e9be3ba962c7e2880b643c011c436fdbec4b8765dc3916136eb39972a71389690d88d1daca3743f1c5a8922a8b3183de7403b0c4b9f387ec3938cf36d9f5b82dd6a1a876e4ba4767c28b85bead086e62bd0049d97268eb3b0f372fbea410758732ac32d1ff625b8dcfecea3215d3f05e970aaf42544e8b4908d7b8c6d1e62ac014735a7dec206f41908ce550ea023b1064899b60c31a99a0cf95cfe3dcfb5b6dd64c5ddb601fb6b5620276ce538ec2ed32e98b55a72e23f83959efef7b038f547830e29dfdf5d99332066d951eaebe875a1cbad498c09d049e6f96661a7df87688018d403faba186d524b07c39c195c4e6dc0e00b306b0684d916e285e3b5389dd6e6fd8f39a34706e05b5d9e484845859045ec9dfa0f8115162cdc443e364e60f6f2fe682de563354785d152e024e518a668fb3f3c607a51d2982d8003f113db66671a6dd0bf5a7f4093d4a4430bb584d5215ad4f0679d5ca17c6750664f1aabb2a671a8dc7bd17f697b73a6fbe13a993b7f3213280053a4bf4c4809c8a46f97dfc7aaa60b8d2d0b931019a20645b36265a3c09fca5260add0c84ce719b62e6d416e776250b0f4ae35590bdd9f19cf2d192027eca175c74a830a3986c191647ed7c90cafa123722e1ad1b53eb4d4d69d8844f46b5f58c726faeb8ce62c6bbff1e41b332acce9507fcc42ca476894d7d57c33151543f677f401bc89f4dc078464782284206ac823387e221ebc7a3ab08e39d43b9ca4814e8e2aefc76265ce62dfaadb4811fa29f0e274b327442d8a6e000e4dc9e7e25c5c30580835d1222aafb4a41b9965d2c96f186fb2cc4562d316165e29d4fca2dfae71d79c965edf84be0cdb1831ab2bc6283d8aa039240b4f3c41d8b0d5e3214b9b8cdf7d519eb4ee25afb770e8a0b1a4bbfa17de213d0b7b54d32f1db691f22cb2c5aff75be9610e4df4f861d4ef0b883ddfff51ad0ba8427f3ea3470a5bed7318292fabb4e38b26096176c6f596ba5c670f977fca142e5ceeebf519d68433ed0dd1156202b7a6d194d0e8ab23b11ec0cec2711133239a9fd08c4a4590ed2eb26f39054429c9b4867c64a07e9f5cda55350df12f48338ae3776b8cd1c52517a20cfcfcbb12d09dc563cf82454fd189ff73c0a3c5de8e4d2971ffb7979f7be75921cdfcf69a297b493775c91624b4c3238104f6403d2a4c6389653efa65f4d6d2eba1eff78b240826f06a0932298180a4de16a3a657afd68476bfb13e44420ad64d62ef1b6ba7e709fcf19c694e7c0141bc0a75bb4ef332fe8be1442c4d584ceca065d288a4b45544e610cae23a0614d4d56b3690a3fbba6636a2caa835a81a7ef0db61c3a4f921eabd7a3ec02f3358b087fea190bac42164dc05a7fdcf30b9d73f29ce1b5f42ccbabdb4019351dbff76134301c5e8298778f1aacb5e3c4cab9be769dd5a781aa3fd2ce08abd828472789136dac58dd67453737b72786d6642ed1f7e99c93b291ac0a795a8c8ff713b70f2a77cc05ecdee6b2930b7832d1fbf63ab464643f044dcd3ffc7f8c170ccc1f5e3bb98814cfdfc0de667047619ef75d292a9447935122b9dde6a747036cf90a56cdae4058c7d971670783e60823aa9399d1b7d1dd00657e5caf320cf8b89a2ed99d58324aedf89f3964eb75bd42ace37908771a7d0efa4c8b5efb0662d736cf2a63884ccf5f1aeb6b8a10f3be1318b1eaf208ee8df73466162852c74dbcda8a18bb77c634f7a7910cfe38f8fddf8a5924d894f14cb3e7bea0360990845113f5067de70829b0f9fc2e1508e4a018e17fbfe5ce7aa40add8737fa91fbd9e9b79ced7ab3683106748faf80fef2c816e077e6f07131f8cf9255d6cae2e1f89ef35fd08a3949064755ae08d0e9b566891c8ac4ea0d4498bdfec09d0a67ff1e127fe5c8fdd48d7adec5d96e761248cb08cdc168c50a3bc61a82746675cb62a9cabe5691b21d8eedd134e199f1db3c0e44c59e46a853b17a24c208033881da191d17307ba9cba8d24f9bc96cfcad0b33747357e61f57540a87c5c57231708c3cfda04391191281a5f7c72f0b24ba5f45d5089f882986c18e8033d605793bd76bc5d9822d4ae9cf290874e23dd277d24b24995127b4ade4450c774e8b8ed30ab4eec922eefd4dee3c579310146575adb450109fff7530583ba473d389b3c767be1a02a070af99e1ae7a8965d9007b06a24a529c6565118c5eaaa1200c6480fc6d187d15e13148c7a678293895f10287d56ea474d086a3b5da6ea19ec0a2a1a1ac63c862a818d7e072b7a91f5223e4486b1394f28273b0089945ffda44892e700b123826c9753b656c48d0d4161b22d7cc729cf8d73e27a3b26a869bb035998326698dc7b983b2045fc777e50edbdca427d0d74a0d55303a7daa7ea9d98f4b3b39a19c51bfff08b603ed4cd57542560414cbe2924b4aeeb7d63f335b3a979abe586e600592a311369d5cc7a793c3064a6b5e92ba1dd755226a70889bc0097c2a56f6965bcc1133ff6db57402411ce9a546add44a7955f5519ed5cc3cd093359fdc66343faab97c8b80bc8f98f30b7a13bad66163be9bbead5c4da4621d189d92f10e86cd4b2d3236027caea7e47b47d983380d662045e48067a0d1b5973886494e704c1510d77b578b601019e0659123533c0d504d15fbdf3151e52a5e7253423b64ba529d1e53fcf73786d18af7a160e0cf519c4ac8b78027b844e1250283e8ac92d773bd0c007f5fc8a66c1044f7a0294c7a4b2ba71bb25f94a3136962259c7d6bff55a52a978dd58b9c069fa6fb09640f06ea13152b9e6c9014ee56dcacdbc8d323a1a09cb83d6b690083b627d44be80f54cb7c3ac1e2f4b67729061b31a7a1b14b948c55410e4473ba73f33b0a6db207db2652dc12edafb9792842279033e11b102efa45fdabce1e5e4cb018ac0accf39573555a519e7993fac9876500aa3fd1a7f4f239d48d0a47be3285cdca5d87e090b889b9bbcbacc3000b68666b10cace63cf9b18e7fc127f519c3036fe50114ef31d89f8d6d332e006bc9246d261a1f6e2d9b22979f9f9f02713890ced4bb37fe6dcef169101cc02d1c4184db1b6a1743ed832bddcd357c5ac9500cf1f66e3a5e856decc5f8d808fb1fa77a7f429b5376aaf93d2ebc86d832c057032ddfcc06c3067a20d1f47c0acc92a0ba3f7013af7f8453ea7a1b8c7bc1baf6188623f473da2e7a19d19bcddd793c34f81d12afbb0462fd0e5abffe8ee29748732358b98ebf8fd0092a80cd83e4d3b559ff802a7d2e6d3aaf0aa2bfebda03e4e408f397507b5fe5739c08c00a6658ee4933707d37e6037ff9094b3371089ce901c9954a6e70fab1b0d3e0ee480033154ffd759f271997f229db2e48d130231990be2663a53bcd0f0202a26c8816a14e06297000b8be0b61c5760b1dfdbe5ca3152ee427c310663f21cab3a06956c289bd1810ab7c5b5e19b1c1a22427abc28444afadf9b914f2bb400aab60761b322ae6957b3d235e4bf3d3d13e3762b157bcd7d02b34ba18e166b41e215acb14762fd499ae3f1adcfa829d37ff94423511a99ae78b3a4f912d34a430c41fa1f5d6f8b7004501979e8e9b7c450b403a636cbc80c348ab813944bc658c5c2572e1b6ee7f943dc2664e605cd660b82aa5d917df6dc7372cef9182ce30d367711415de35e46cc26e7234d891b290315d917f4efd52796dab79d6cb3ea26c0978ce98354571db5457a03e2343e9d5d34993045edb70376ec931dc3cd84c2bec3e56147a7a491e1bf06a6a7b58300767859ac425acd25db2978448dce8dacb0632bcff3b837ef0d157380cb464fc2b94c1c0dcc9d2a9ea7733a497797f639dbe2e8c432b8a49f7d0a2adcd0ff741f02986dff06a8d6310ac062afa55cbe7c45b71f9272c9ab8ed0573de963a8175cbc2e01207e35c8e736781528efd739ed04dead9ca0afcaee3e18e0cada454b9059bacc061d43fbd2526edf089e4387747d4e3e8b7003bbd51891a0e50f328cf92fa578d9728210bba5fb3385e9098ec72c2b4f77b4caa4fddb7465d601962f9e1013994000fc994f572742cbe9a27690ac7e8989c8b992d05a6ce5c05a1a607a8a4db81d7f68cd11450fa25fd7851487516a2b6d934f6e651d2a861a6233b669f04cfaf1a2a87918edb07fe5ac3d889487ed704a13cc4de81db929b1cbd7d29abcaa5b367a68db03c7f24ccb7746d8bab69e6ef9adae59b9bfc013f41d435624b0efaef353466923c7abb5bfcc9dbb1af2a61050cbcb8874a13cef12eb6f59791d681d504cbc39176771b15cc646056ce9263eece10b0e971083c6f9066744496c58a8804d8b015ebf5caa8feed59f23a88dc4c73bcf0706d05667ee3079a45ad9139812ae6d303ca33a926f35ccd9512a6ee97475bcb6d377db7c909462dee1de937103003e02a3c7548fc94c8e5a988270e04581b7de56f5d609690d630cd0babb3515591fc5b92f2458080b0480b7f017c76581eadbd2560e428bf7366cbdd55c383f95dea111d1baa722f3ccb0ccc7665c3e8ca9d6461de859b38f74181ba01679505f9163216a5f976f99311fed7c0a4531990384f164635f8eddae73c3dbf188c4eb6900d17f210e1f20a8439fad583cf9b7e4689d68765a1974ded938580773cd6aff72cfb20cc3f38bca707d962e581b871e622c774eca8fb5a99f7943c535ffd957336e23eaa3eb7050e4119f45c5f6b6aca9a42f1ba70d7aabaae01f77aa24b6c07c9108e9cc0fde45a97579b6147ade62cac4f399aab4607156c222734ec24873b0ecde4d0751d59fc49e4d843b43bc263f7f4863530abb54cf303a0acfae1bae1a9082a439dd1ccadca0b1ad9c60825eae3436b66ce8a03a2f3a08c744a74bfeae983b5018376f7e78ee019e8f0ab3a4ebf0777101f6c9e18b7920cf2191f26d7e19c7bb04f5c17fcba0180d7e7816513afe2d78e79fc9080c45e50cb5ef3645d17e4ba34b9ea84759f3a1ff4f29fedde726cf82afa57c370093d9b69fb8975c8de554b0a757bbe06296f5a477888b946a465ae69b0ede273d97956b7e637e9bef38eae4e2585b657a5418d489e9bdf2b6ccfeb65200a02a98452d8c4d78aae462804a39456f6755a2b69dd4481e241598ff1f0c41d84d6185ae22a06b97abd61d62b3a532b8ad36e2b4028108c2d91ffcefa5bd0b9e4e5d341382a02944e5b35259d600c6b45c8939ad4151bec460323cbb0e1989902b600c6246cf9f523022b421d354b9d68af68d49a9aa363d6cb1aa42a326f195aa04243ba3ca33de13c1d1125689a610d13fe3953f32223e42f70c45d8c53e0831bdb938f2fc2ca8ba8717e3b169d2d4c856029ea50116ce2d65775f2bbb938093698894423d5c76e08c3e717af362bf5b8277e8ac7a7f90b5f4c056a5ebd98aa4b2edabe71632dc35b1110ff836d837d0935809b83ae4cfdcea2233e29b07b5796f885cd0c307cbcad7ad327bc8b0aa33f5fdf17f29fa8b7e4e772f2f51d27aa57a755f4c6a4e185832c834890cf4a857b28662a97208fb5851864a3a7bf6d56e6abed5f2b6f2f551e7cd5992b014f6c22cf0ef504f607e7208caa40c0b485cdd655809440bd802ce583d313a0df3069843019b0661606ff0d5c28d292b32d03c2856dab63c28dd1eb9bd003ccc8cbf9ac250627e25ff762f9b0cb8c8d1486c8236313f09afa7b0fa31d371a6c61d4d0f24bda502cf96e7c9d3efd93c14cad485846eea076fc3a18b3ca35d8549308707eb6837d929721ab91bc8abcfba0cf0fc1b778efb61bbe9cf50282bcbcc1ef03c2f1b40c774835132e1262e09ac5fe533a4e617ece3dbd6d03ccc3d66d2ec21d3fd0a7b69dc8485fd24c3104ad4bca8e3959d4614333d498ee406c802e047fa66746e9424e95c54b8b9db1bdc96a862c1f014ccb5f2b3e9b9ba3c5285290bc799f68803b499f2e47d88942ff094fe511475f12317afcef504e179d83380cb51e07e2f550063ffd92afa226a4dff9a09be96608f9c3b7618373711cf0e86ee2cdc44848368bb5c21bd785a7edda7ca56feb6322860b370c9d6496f6d0db74cc4fce7561c90eb55d2368c43d4487f605892c657183fcf852e8b1c224aacc152aa2b49991a3b64425b4b2284c49efbdb6b1ef742e8021ede5488b4137f1ffcb0a0802bbb1e52d817dbf4f999de685ddd18ffb791f4a08f08af0ceba3c04ed2734065805adfee593acd8925f1f1ac7625a8dd2d62f653d3c68f0cb54d58f61f29347188e76cc2ffcc898f10652bbf8b766db81c02d6dbb51af70d51536b4232313e2145cfa28dc74d49f70a5add6638f1569c7ed94cdf59a1d446f7655d11118312dd98b5b8774eac891a022ff9fefdc08c1ac73306ddeeb003c0ebb5621417903e90e73eb8c2c602b11662615d9309c0237de9fb44bcc669c97297721f54fb99d966defc3b3dfcfde1bafbfbd83444f4d75afe981169dbe280ea2e5460039661bcc2af1c0902fd0a65dc31b0d430bf3ccd8c505a75f6e139f12f1a448295453cf759f9101f19e7b0667bb5ec058ef752d9c87b05658eb9b24d2a30a2cbbb64b73055b1c299e3869cd9d96394a40f1d460e7eddea0e3fb647d045ac7cc9c71a55a95a181e26e504e4d14f89fd38951090a835bc97f17e1e14dbf6af397159c6116cb3ea21d45d7769c98b1f27e3df8db368ec0118dd8ac904510d7158155cd62378dbb2f12d93346bdab99bcf4b021ef885e3f36f9d6fac6c1c37df72d805fbbd56377670886c818c4b534c6a0752650abe46547d5f677649dd42cab2182b7bc4474315d056e02eaf45699349170c4617d8cf97d5495865dd16cc4e588deed6bfccb0b9ed2134ce329ae25654b10f3ca3f028e0df4f427df4d50c619969fef4f918bee7eaf527d88eaa7c4cf5fe425e296fdcd8db3d1b11d81b58aaabdaebd3cfc2e211148eafe9810a0b1d32381538b0b1c654b926483f1e29c5a5dc9ebec27f36019d24c1f021a0544d5cdded8f5f6b7ca12b5047664a9b699da72e410e6369993a3680577157440accb83234be6793499cbbf9ed78cb519d60a872389a5e5de49f4aabea69e2e295a01bfa6cebc4a11b9049dedc6fb00539c020aeff854ee9f6d7aa53388187243d4329f4a84f21384bf739fc2f8ee99bf6a9895ddc35cd4879c7aca5aaefab0077288f77c1da65aa4cfde38bd27e81d1d4cf18f26dacb78705f40e184764e016a2f6b4e6e8b904d9bea2cf86cf4f03f1fa9c617bf6ab39911bbe744d9bd954ebc2bec8e823a028086ff09b99890a7eb1008036dfbcaa36edbe4f45f4ace49f25aa7deef8ff7db7cbf863d6912fa8a3a163152cf5afb2b6ea09db21ae8726b8eb82ed976499740ffc6e18381b428787da145080df496f2b586f97a45df770333ebd715ce8f06ee52633487daa6f56b0367998b5697091db4077ac5b622b8d2853987d1b8f2fbe447977b7312d8525e2d2f83ca60ab7d3df34bda1447326a94fc9f2a4ec13ad0732462f661c17d4ec6a5f9805aa2cc04b8df84318b70f7761c7a9bd208685e1adbb66bcfc14057f15634c7764e09ea13bb49d5b96626e5bd599a6e2c0cac2c9431daef661280c441e5ca0d8536ba3558f2140f290a29474f20b3bf94c33319778d3b93e6eb64017fa495f8097d557a30cba93e3482fa1721ce37d532a1e9e7212c33c8c1ca1c74afad3f7f928a0ceb2f2e9765f25991f26653bec622141d7a3ea87813aeef45ecd02c11dade5e580f13ed953602e8b56715de861","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
