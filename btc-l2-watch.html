<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7aa69ae2129c5ed61292327535b7a0a2e68c44035439e49f3edf7926afb1701fc78012a87e57f7d6540451e6d2fc2f81c18c8e27e4c24fbefeb4884ca19aaf7dfd42221a6e88908c752e385c158629e72988bf90ae243daec859c5df6d9ae6bee511f0de87a90846201f4763aa40b7e5c669a5bf527927cd33cc1818c589b8d2d9084264400cdbca2b674ddbf2cae2845b5fe9321f9d893d48f06f01d86eec0efe7a9c80bae1f556b46bf2cb788228432a95de7ecd5f68dd72d4218299ea07374fac53db9deb9356f9dbe6fc0ff8e1aa891180dbf78cdf5ac7713657ba6776723ac86615fed3d8fad3652c852ce348a4dbe48cd97694aaadbe9b596699fc0a38956b4f0568ecfdfb6b5c1a7eb17bc8add7e5260d7cf5e98a4ec5b4e6c68654c6e2d9d19d717f76ea382e62dae9ca549b71ff42c8c91d096d030c04f66ae63b684318d15395061c4f534e11883ab1a9cc6aa2c8f45561b8be64593eb961298f4e34664a1689f7ce05ee6bbf0f191dcf53347622b463fd42e50e95d819a5e6cfe8148d89cb8bf613a1ac2134a11ac7bd66697647f8f4c6e509189c9efd2b11db10a35b7a6b3fb0e27a99879d799f2dd7e85bb97aa16a89ea84bcb8bfea469329c8663c9f79bf62e2d0ce36bcc400cccd79ae050fcfe620d09af71ba4ca7df46a7dfa87ff19cdf2a4398babc1936f106518cc22f4d5ddcefc5b6dcab5c690eda69e2d782e5ccfa296766308fafef35ca5df89da63008dc0d243f34bdb9d19afaf13e9b70f005664a57fa681923e08148562a45bf0f4ed56082df04d061a580b4fc39a05a63237ed83a9a82264e42a973998b03832e414d2b952d762e4c89aa578cd49a8d39d24b416c03cf404bd4680588167219974292c2db4ba028c971930ecb9f4bdb8708f7bd3dd552196c5a0beacabc64594afbac34a9e66d4e14ec89baee0ab5198f8b5b30da987f624a9fd7ce7ab1b2ddf8bdad6d22ab071f2d1271d4825a4cf1a0d90902df036a6ff12d3d9e2f671e41a403e42ace42253fedee4388dd620747e237ff9e8c746873edf8a1472975b6d894c5955af43fe30059fffaac037bf1679803310018ee1e0e70c534e5ee7076275d46248f6768758e381ee2acfd0a72fe2ea674dbe7194e15e014cada25aca721cf5b99dcad87978ddff543fc18e6ad0e08805fe3537eb8f3d2892a0846f088ba21e31f7f13bdf77b603ddf4d0695c68d5ba05ffa551991195e5ad1f5b9cb44fe337b2c088f533a5ab7c1bb6763ab924d76382f83ecdb0ebe7f94307c6d2c0e790d79f71a88f6afaf20aa894a17cd2834b2d3f031c77b45c21005b0a3ead8913515bbfff2baf25a8f81a833e3032b09162c4693ad89d9530e2d266e621e66158279726386eb6c93cd16fcfd660089ed816dd6f0e6e887eae1448d0dbc7c7803587ef3bfca1d8f4c3a224fffc3de1b15feca1f5fa99512c13aec668d6db4a6407519ec37eb5e094d1080daf87489e6618a25523c54fdd254c2a5035de32ae7df8e827f6602a1319e9cb27ed17b06dd2e391c68a874afa0bd8f6b8dedb5428eeeb06d798810d07a7bb09d0b47bdf34fd01a81d52abdbb615470605de9221d581115a07cb8a91243d4ff26376536970f358dd95a5e14aeed7810a341746a2b67ef32f49356f65709850322ff5c2923a0b95938200f93052450066fb20da6eeb06017306533a8d3433b22a1a7674cdf5d8e6b221c0ca995fb485479e5ac390eedb5125bf365052da61529af7f11007aa5db4d21986eb9233e96d88b38a50027c9d82333c82b2313c4bf35ef79ec36038780f8e5249b1d7637ef6b539f72acbebb5824432cde8676dabf7eb05415ff1f01c790459225526e6139b03d6ea1c4aa7bc2c8421617265b35cd0415b80a869eb5811ef7820670edea5c01866b5e48674d5c73f58f1a7769e07331619d5da441764a2805afac12f67cd942a29bf5513aa13dc8353755d9620a622e23bc9e1a51f51b586af5c06fc82428d5a5ec4f48387cbf83c02305c39078339ae9dcd85064d22dd027ec4569fa3163f547efe27593531461b9a432c33e77f226c77f2d13aa5e68ae5b38214f175137a69b94d1029cc4ebe70fc0d09bdf687cff0c411c0e463b7122f73cd8c956404d2fbf099977b8aa471298e75d8886fbeb8ef953da114cc87da6d58427a2dcfddd23051c3c5d32e002b4ca6cce966e70858e7fff90e2dde503a984f18547f2b9e7f6c6a0f35dd396bfb82c60f4e6c630c7761c55cfa28d2bde154dc3be38ac7dd449412e680aecebe82f5dcb189615b34d3cfe3e5e114aa9c51d3a3123f8cd60410da51cf97506356e797eb42aaa6b15c6bb21bbd87336f49372ddfb3ae5265e9e2695c4dfa329c57cd754d28f4b2501eaa18753308c9cdf3746fe3d863fd2cd4e5862acfec321d241d062e41d558f237ff744d575696713796fefe78fafe7a4a4a6474906fbb66ebbd457fcd8ac5b48d5730f92b7a8e012eee5bb24162d73ad553d7fd90573cb083f5101c6c869229c4b15b20c457449d4fb6b44f62e1872fddd679007e43d9ec4e3b2a25ccec9ed3327e4e73660e3377eed471ec28d0890f2a10e38b50d645a317802ba7eb068f6ef75230db9b01d9f45168f556d168165ac4a953fb1da1c348c4aba5711f399703f1386702cf820cd24ca8dffeda2005c5a90b1663f43692661fd243445b12e4c4ad0152e5261704a07f3c57476e6544cd6c1cbbecddc48b75f996174f89b1afa44d047f9830c4143c65db8e5f889fcfe1e55c1f0d41c811248f787c7822b8a684c9e488ebf4f4943fafc7099f30dab77f4b01c84087e42b426e19cb8c5bb24b855cde00f65df68d1f2d5ddb1d0e01eac2e364e0d9ef2c3b1ff295a74f6f169f9b5c1b1c35acf62581c802ff28c1970d0fc7e6896a3dc5dd97bca74a5c26f69f505b8f58a1210c64ba94024b51495f0d369b005774b11a0cc6dbd799179e21b40f2b6c975dc755249b65a4d643b981bfcb56d71a8508ad4e2cd4296035b5365d6256c41653a7fd022b24638a4fb69575481a520f10411cce5b8011300579ef338dbb4a6a201fe41882543c64e55e69274465d93b3ec0d2a6f353b4cfee95518879980a705d37b32db3075dda3d48dd436450b8ebc6dc90621c146b0ed3bc3fa37271c5bc61ff1cb6848201a066759503b0eb42d7248dc5c6307b668962ddc7a414a615db9188bbb33fddc269f0af977965bd5acddb5d4f0b63b7c650d533551e9f5422343acba87fcadbcaf029dd5a39cfe3213cc8cbe703655617c6c7619e7812d1f5312db4bfa94684349315da1b8e63393dd17ad013ed68396015bc41b110944dd82cd7d781628d35291a17c4cec1d7aaf9c7517f7afd083b8230ba1b0e985ab6749c98628c68f7c71c93655346f10056552591fedb3a152ac447cd8c958a898fa1dd44c0b3a137eb07b0fe802c76dd565255f1040db23b40fdd83fd2f8955873040a970f15678b1fc66ca1e4c6e0e1b8d0ffdc0a6300f5a8882c8e49a72fcf12818c5f4c753c55b8651c31eea3bd6e533968de42f47dafb9ac32ab2026c75b599184f59fb140590f55fae645181754f3115872e176196a614e0e0ea02d4c12584fee0f230ad9a391c5da70a3aaca2c14c2e38af4c8a8e0a8bf304be23686a137a8f971a839b9441cc49c9647c084ed06cb450f3cbab5fed48f0c731362c2523f0dfe6047f80786042a7aef32eac3f940f0e995409c338b320aeb917b78c7e3365fc61bed443c57be2d3e585dc8e6e8835e9ad624b37ce95d358d8454f4c68cafa9a0218e1387d9b07242893472ff8f09bc477105bd7491afcf0834d3d0b3fe837a9a57c7ad3466220a51ede424308a30d405d544715864edb9c6420ab8c9ab491d9803f70040409395dfdf6228ecb06250a4dbdf80988c8dd854754441582163a4710faed2724d90bddd853a93ffe0c1c56c6eb2087e7d9a6d28deba71b7e4034a66a34658039527e61cb86983752f613fb669161320fe236ec8f0d1f64b6f70b7afc3af3636e55718cb8b38321f6b7f851d9b391f47181ba84ad7064fec9f93716561ea89909be84ef00a7acd0b0317785b2a755f87fc7187343dc48684526d15596695ea64c09440de8df4d0332628c71dd7c0eee0ff446c6ed3c24de993438e5ca9cc2256c91c8685e2f906dcb9abca7ef03d8588103b6c9c9c85004c43e870a8cb962069ffc4fcc264e5344816ef609655ce79a780d8e1ddec222779990858a0500a30bd8d0cee27c3e0f22d52406e5133c44b0a6eeb64ca4e7f9d136b06ca6b4e4c4a028644e43763c7d91abe8a033e8dca2d66025deba8bf7f34501e7314c82a46560e957da6bb607a98c66947a34fe9987c6436d300b080b3b98c91729f7f3c3df1f950b5fa33e0dc25cbfd3e6571057dc2a4c630681b76ab2ba340af4ac68ad935500827fdff284ffdb49c0218590b9e9a9a0c3c52b4f3772451d6c2c6653f223e039ba87f813cda6e5a7f1e7970c288cd3a5dd1a24661d9e258064c4df80ddbb334eb7f88b94f425335620400274db64d61fa2631627f3f3868689d008d5897cb3bb594606f32e3faf8e0ca3015f129423168dfa243d48305dcca2c658881f67a48a845b2c4f7fbe4a01234dea59510890a32cd7f9f24767b37855ca79c39c4946f146602e2360ba74048b174094c7753f76f0ba7d26a76a2fbc78a7cd8a63ad99c5fccc4128b95310fd5686f910196282504a1de970a13827531223f22f151a2623d1b3e87ef841f0cd02a0c8e03ee3aa91562c2f4155aba0fd832d9ccc9e2a400c064751221d15c9cdab94632feb5e24873bb13cdcc50937a6d5369f59f4b6957ec3041ee18e313253909e6f34fb688f4058718378b0f93b7e8011a2434c7dd60cfdf417fde86e589d20004d4561496e93998a55f7fc92ca6b2f58d7607889c90c90993dca83cfe9c2dee868ba48c4175e793041a99adc0c1d77a002e5195fe198b1ef3386726aad0e435a5913cf62ad1a2ee7652cd97effe35a8b8581c758c8de9ac4632e9f7a18cf81786bc0ed2f1cdca2a5c1b498db83e987877413bbab964f97ad0eaf9efb91f2fdf3f28e1c971834cafacb992b6f0fbc86b58fe61ae0ee4cb45ba75d4506a59fd6251728222ef1e4e56ed8aa13c136c0c800fd9ff72e0adc0cce221a2fb59e13e7d55c784be5c084cb591853c2123b440d04110860b8b20258df0092eb6ed6786b53a97a8e7766a86dbba5516ccb51703f7d2d93b803167ab8b4e28753f5d054fe1aff532ffa374b454e1c336827b7961739ae48a52dd78a26227ec23add9107b42eee567d785b9a3c7ff98c78b10135cb3e91eee010487805ea80144cc21c3d31851841232250922b926b5548fd0a180d7d393207eb2f8572ac0dbf75f06f3d19529f6b7a13f69149d85aafa00a27ac02c9f5fdeb9a38b10718188229a9d8a4b8ca84d447a2203f953e35de608dbe0b4117c25b2976d21615cd33d15eda0e2b8952e7ca452928ddb220074e475d22718b292f8c04f0262f08353aa38692ec720bc0c9db964882b980c26b2fa42ed285ba3cbd04256db5c8a8dfb38af86d8c4b7e271954bcb8fc6cde4da9c639b71b65fde5f80123d478793f8c4d69904a7f249a076180b0fa7b0192a42e25ec65e6d195be0d02485fda987842ffc7db075a88016167dda42c7e81b0bbb01edb7fa31ae0570dec1f4f46f97c429ad0b867a6b682933360964d084722cf772acee2c6f320bb6f170817f86f3d941479d1802fdc90eba616b6c843b30ccf06ee8bd945fc5d7321bcf84e59f6544ff9290df41f3947482a50e19daef0b5ab60f4d9dd59c07daf82868e969326541233bd21c032459a104912af45b902d32869f0093d8a11b46556cf4872122cebd39debfeb205d6b3872e9b9251e2b9d0282937744aa67a13f13d71cc2ad62b091f274b92584c8a86b2873081ead19338e63f6ff7acb009afa84af2bad36a58734c386b863df38d69fddee640ebef770bdbb7b6aefce814b9f779ca109ed4fea53148a3792228d78097fb1b54409543b8acaab649f274b5b8486f2f7bb4146b39d82aae62ec17e78939f4d92d96919758ee56469ca817bea8ad4c3c488a2b2e25f05104016ea8c2721244b5885d03ecef8c48cf10b473063ba31f293e75f55408e2d649fda54897909a65bcf457f4908a22701cd3bb01200a8fdea3ce84cfa6c33e4be8b03ca87f9be9393964ea3bc430cf01e13c9aec611c1b99e887a14ff142c716f38555eebc4b56c282a89c03592a8ab2cb082e6d9dcdf358f57f846de98923bd6efe128e18dc93793d86a10d9e06f8e308caae958bc6006da46b844fcfe32d9eaba06c92697f9b8ceb46ddb4993446c6cd15133178ccfeec6d14170b080aea0eff7ee43af2f684d638e42656b085e274c98a19e9b6e8170e7a847e3805eb7367256dbfbefd32952f385466f7533eba2dcfef977b4a458749c0ad753fe20a71cb21a8fdd65eed485c8a98a63daee2b76d3bb3ea8407dabb8357224959760336068297276557f18d1b4f3acf2eb3e4892ae2dc2def0aec8242dd8bb054a992524b204481769966eb13c29fd6bac4858b5ff7853973b2902724aa24b310c21dff2daf6ad89bc80a6ed7c69b63ce488db8e8d32a23c68b4a683544d37c99450c6146ed76026afe17f1030a92825b075670d87ed70992a5396a6c06c0cc393a32a24859e2e9049986c583ed2c7b028f7642c91bc8b2a4c409b9d6e67e836178ee273641c86ce2a97f22f3871c4c947cdb1b36b28c583901899cfe75e4166fcbfad672c1c4b0a4a6022570f88476d4ad1d80785cb8230276bad49d4fe26d0c8695388bd622e7acd0941c8879c84b30a5271bc7beb08c6510609a97b1a47de261666d40628c3f1756a97eeaed3bc611ae56d7431c1aef9212831b05b0fb469cee68de42601a6c5d9871e7f0fe2fac5b261e0e1b1fcd2d9e8d73e51dea22e1fb37fd7719c925a4b48dca9881a353fd763542706f824f2dc9ac4bffb1ea18dd3b32ec503eac1b700b2fac662cead72593b41344a7600b18f71efa2da2f7df54498279f5b388086fb495065890dac8697bfbafde1e2d90f398b85379133d6b368fb3080eaa053ee28ab2cd165e9b132cbec58921f04a39e0ab64b8e23212315a74bdffd73347d3ac2c1a771961d500a181be97bc33d095349ec010d171fa7ad596659f10af4cf3a71e66e3d1be69404984527caf574a62c1657893ae04bdd842e61b21e566f7178ea011d61b1c433bf577c86fd975240ab7499ea45f9f0f9305057137d49955f96a7b858aa1df10b61584c1df43a38cb000bd4529d74e00fa36dc96866f483f4f8d6253ca1a2e7c323c4dc2cd523801dab3cf269433c8fdc975694ffca69175139017acee261e2e30b1c00cfc5d0632ce9b43aef63ba8d9c07dec144c11e9a9b23d447d1f4afa9d3115fa0fa40ab005ada83d149787f75b0d7bafbc3fab4957d570d0019680f8ed2218350ee092578dfca7e69677f92781732381d9e2d9e7f0f07c78f5cd74b4a44bf70569a8d21e745a6e26ffa4d54425c4e30b815fa31c65fdf01da62ba9a5215f30748299501a8fbc387e55900ffd5b8076cfc13e6f404d0fe925d274682fb1f7d579384b8c65fa5d56a634c7bd49234ebb8a2150bde42daa6c602a80c80c3674ba77358f808a9253e1f2ce15db43eccfb5412c92a8557571ed6e7a030fbbbf68edb88684e0272a521a2f4e7ed3626f1c64a9c822514138c9adf83b4e8cc9ce70599797485df7439a8ebebd610ecdbae2d82b7c46365d58783748514035fb561a378f89241f9676eeb53925042c72a31dbeac0fa91fcfe59218007c07578fefd4e00fde71760254d0e90b371e0a7efa090930e489c86fe8a6c5db6ddf661321bf4dd8d34d506dcdb366c3e815203f6fce8eb1fc5b209643225a98286c2e6fd73ca49c5702e46c6b2c527d49bfb6f22c4dbdffb8ffaca6f965b538b0a21fa39e32e958f87c799c4c746f11bdb1031ba6bb096b5a84bec47a05aaa604ca3ad1543956cb8becb992ddfa6a40f77ef122190cd5b2537fd5f6ac33dc22d3740752d33282b74e5e125853ddcd451506d20f1feb89b2ca9bc1cc396e08d314bddaf3bad54892af650be3040b9cdbc67df4738d795b633d9e3af3fdc9c794b45a4d1a0d9c13a7ffe59542a715329e80810bc6deebc28013797aabbcba3068505de03ce78d8bdf114dbc11181a624c6605d2b6eebf26e7ef5df6485ecbb3cbd1da92e0318e0fb191c2efd2153ecf716e3c3ad308168b84f872074faeb579ab702301536afa36637ba878b618eae02ab562ed96dd017ab447a10ae5ce262837df3286cbea835cf5a11b2b3c6ce8ff188c8ddd1d9d249d3a73f1dbef7babeb9b91abaa1806ac94c42c7025cdb05e54e40c508882613b02b968982289a6c559573442493348e7239c57756a2b87722afadc9aa2c0e87c6673bac3e7f37dbee8ba87445125f4e77c4926b79a0d69528462caf4e4c6d73db3804208482f89d7e196646e83658a475ca382a5b769f822b93b9a04124b2e33b9d78aede0da3b47f54b552126236a7cdfcd77c8d942d311977c8c489dd63e285544db9cba799bf7c9d73d489250b4bd50093870121dce0de8f8596a7dad48d04ed9d4a380cb10ed32b8cf757fe9e14b658bd4e88bb28db5deb597adf92d64562048cf10b0b3ed066595e3833cdecceb79aec816c9f1d5ec85677b673bf0237ca97676239996031565635c547ac045a890f5b3af53b0a3ff5cb0544fc247c150991c192ec82d8c0ea0a8a6b9ebbc7e6beb3df67707347c1e507d7e3215e366e7fcbdaf4b5a1756a9d56eaee6cabb9bbb9555cba6d41cb1adbc72dff1c9911d4188db0e7e97cb40f9951f8f4bb4f79fc7892b0cffc3b39a5d50fe7e7ae2d0e863241b0aa5b6d480be72d0168fcd1c660c6de7595a3e6ff22326c7a89823d04504146315216f6108ea807189378159aa256b0330f2c6a1f479060ce05edfb027dbece7d739511dc129aa91477d90a897e9146c2099e7d266f4d4fba509cf3f6b665b5c79b3b578f034984bfac3760eaf020deae59ff375f7075a7c7baf01c05678bc0ea8eece62ad453c6636602ae8489f573c9b383b292927d97f3fb5f587356dc1eaa2cf2fba3baf8de4b9a47e877be1292722be0e6e4d7b9f3760df30709e88396436c667591183e135f3003ed376fae45fcdfa1785a2334a5e19234d351809e9ce78810d94330a672d20ad05d18456a971679e20dbd4143c47f6faaabb879d93f0ba5b3c132a5b2b2950862940c250c74103a4a1e60ebc9c93b3e8a62a953c5c6124f22c682aea4317e48d54a35613c8680101db0ec55403a316820b7199e5843b0b30caf900ec0323dad7330201d9c3f012cbd0f04b570a9bd4515248e011dca8e7f31acb328241ed2c6ff4c1c6639247b3eaa1acca656f636eba0a07359b652b47ea3c60f590d4bc02fc7b0e66a7753d5665c3c9e5af50167f9c352d55bcae48b7176f900203674ed3c41aac00b96b0353a12e2e7e809b3eda29f52c3021ab21a9a8cee7952c14f04384b69b00f593ee3b7853c96d7371de0b3acd3aa2e06fd75125da933d40906a8c56e7656029986512a5347a1ab52e509da6c1a8d3c90ba0a028b9749e1c0d43ea644490a3b3d513b8af3a1983286bae134a130713523ee9803193abf2781e62cf366b566d80c015cb23eddd53d1f2a8ff6f84a7647213ca8c51b6f1f196ac7e03e9479ae3af4d83b251224f79d99d0611b4b43c6dc5318bbdaf9d896dd1279e686f135905426c4e2f5dacfa767ea4e0dcb2571e446d03cb1728db976c8108d85817a727680dd5707732beb4e4d0bd093bdf278b47b7b357674b6b2db8bfe65bb0ca6e669a113324933652ddf0036aac38ef203148ad38a2f27034c453d8f8030f92232b7391a815ff71f25f6c53c7201d0e39896e15fb2e2638dbb7e5cb49082b5ff75f8e141e1a4cca8417ad0a42fd0fad719dafb49e8f42193f06aa8f8672fcb19eeac41c8a4af9706769d7faa5d6d6fcd3a478498b00b8578986c12594aca2fb3fdfc3b6fd3ee1637902cf11453586565d242aa5a3ee7db637f859261ee5475dcb2aefadc4e8ea8609eac70acc92e210f9c8a86bde077873abdbf6193c323edfdce1e90a1415b64424df19835232f8b2f86f46ddcfcdfe9493f503cc8f747afad293a1cb2102286780ece24b1a452a020634b1c0ee7cff3bae2cc9545375f26465eb9cefe5a5bad96b3be0ef43960a2e4ee41b2882c45c12aabb234100b4a67af7e4ccef9a8781d84dc1e7faf578ad768b72d77f01ab01d605950bdd20b79f9ac74b2299a72a823517e3552026bade8b3da0e7fef45847766397b737626e0113a43e2c3b313556ba33dea823636632094f2c097054101c67c05849ad6a8cb0a8414eb5c03afe1c07f9fa16956af45f653c93ba19cec4d0a50d8c7f72e4e9dc6953a96b952022120efaad0c647cb03f1f734e1602a3588d513dc8f2ca9c832fe2ea27eb97fcb8d078b8937ef07345c728b9e71f031952fcdb42ee57d24f9242f5ac4316634f06c7b7f89a296d7baa232fff208a890e039ce0faf16957853531694f5c6a569627e900d317c14493d8db8a4e75db719cd12a60dcb9b2182fbb7530966533aa90fed8672fa34e49455fdbbdb0dcdfa7931f3fc4bcfd480b2d3b3d1c07fa83f931e3569a7f1540267cbe7c33c7e7a19db1553a1f94417d3b527602bd8e4cae07a5d3bf9ce337143afe34cad97dddd179471fa491c9028d79a5641ce447d72e4e9b9a3f52e5912143f0e6585c78779deb80903933cd7cb8d4740c7cfd98a2cf6bd91500964d164240a7310037a1923aae9fb2b2e7ffffac2d7b1756caf571ea03749fc8399174d3d3e6160bf764397754f751f00ddf2974cf1cd0c370400d5a878f8c343439453e6a38ea984a3811029bd0adc06d580597b70377179f56fc050532099d3fa37523c543b4496bf4b71ed456ed1647b52ab72f07c1bcca6b188bc64737aeced80d6ea2518539a896f341671a415d7217335204373ff8d32fba150d01d79537dc6f7580fdc40c526a32fec8f1cb3b655b33b6f417aededcb59e264c996ea7eb0ea70935d0320f4c3aba1ddf1343ce6ead673695b46b8b172c1056844381c1f2db37e59c2d2ae3972f66ee017531535d3c0913cf516e8e979c020d9289333f818fb185b749b2c256fe3f205cb8d8796e4132069bbb1857a429e368e36263aa38dba26a1f966723ca44c55b7e7d599f3c62d84287bb6ce519316ef863131a6e72375f5e194c6c93b938fc52f1fb8d16bbf8a5c29cd1dead0d0e6d411e2b5bfdcc97ba29deafb643c918990864f30b0a6ed8540f1085f2fe1461d23e455370b678d345165049fca4c53e721cec8cd458f21a4d6996e460cca8e3280cb15609af49864ac16bac41720ffe1746fc08128f2b1a06346bf9a5717580e11bd7eddac512c612470ba50adf7bc8b5684e3ed01bf916284edbabb71fa0084a6c90735880fd8f956eb8cbddc591fe9b3fae824abc2d1a94552d4f029ce732a417fd7af7dbe6c09aee4d65fbc4b362c5e5203d7f7dfeb9ae63e910c14d1b92f979fd76d195d477211d99d6d5b17ec6bb168dfd6e042ef7c86877774c9fe4a17b94d710cd6eda0553c75b95661f2ca12f29beaa788daab025fdc929cb55b065a1693573cd4e752a90e796bf8e72cd70c6ff19cbbe52d3b55da9c94d2e5b202ba2f99c193d45f8a96013707ddb85dadce8c26e358996f78d45102e26e5ef0111cf8cfee010020dcdeb37896675b605cfb2d5bc55176c00ae2ccdcd18bfebff4a69a05dfea45473abeae67d1d96c209f651f7b2bcc54423df939a7faf155c6e39d3d88b17704ed79412859962e8fb9edb1469dbb229147d29b946ee05046720b1ac028761c67d4328b5d2c09798e25700b038edbd98c4ce4409dc211e60ac9149d8a5b62131e9d2020b8cb0adc28f1ef94b5a1dab79771e219e52f6be8417a0e2301c1fc4a2dee691816689b317cb2ca2848150e115def535de842eae8c79516556fd4034feeca26c247f9e177b151b2f4dc5f725af036250cbc98d2bf2093e9a7951a6249889611032fbb4295b79df8988cb357a48e3e85b0c04342a9aaf8e982b533f5a261af15f6ae2ec89f6a40b8b4f251fd494d9b2cd5a0227e66fb7fd606309e1a961570fca9a9a9c6dff8db966df6ad98444b6ed94d80f56014ae55e86a89e29b3a2ba3ce8e9607901620632d3f97d383eb6996d32c1d54122335a6f4cddf6a967995d922c47f9aafebb0b9b1e9aebe804301ec597ec6258bd8944b279820daeb1f60237418ef9d03ad300a4b1ce19d64d9197f76b9cb5a988339b1d9cbabfa957313930ddf2a5bb453127dd06cd47e9e4d92096ecd277d24a147a908d35e0979619bf0c89006fa33a861e62c56aafb373e1615713756dbc2021f57951c6b57836b52e8e164e6608412d62577c903add54039d291d31249ec3ee4da95f1cacd3a73a1016dac4662ead1bd1318f49b34d25c992529a79b9be5a47433f379e6e82c234f490eb802d1521f3eae719cab4f483e53e1736405c31898bda7411a5c811e0fd9ca5c2e5d07bb8b7b795b6dd12aa83a1c67f90b3cfc8f7a2b4bb8a795933582861b5ba7772b8104faa7202ce242890cedcf74a38e5bfc013c584376844334db639d67428755aa4f2b19f3fb68fe84e9e3239bc03523cb7a8e5833d9a0133407ce7d35c1846ea927f0b7eed4881c624176727867a9b8d806c4a07b1b0a73246cbe01b382eb2a64adc7b79ac8eec6924d935603c7f5f2d5c6b47c400613fec84a974df2de61df71cc371e33b6b3576ed30a1d6753b574fd7fb7df8095d81453bcf45efc0a3ab4da89f986d61b88df6fd988d87c51e95e0917c09f3432808fd62d51b0cc4c4b3db45fbb20ed7d5850d0885d284cf46bf9b60cb050a631d64efb1f0baaa01415ad1b7ca050d4355fa7d8037c3e93ce98db56e472e5d4a07dd4fbc9e2f2a4a40d07b9def64355b2afa32ed7296698170edfcd489d4cf4906b9175ad5aaac89b0dcfe5593a13c66fd6e91254710893b4e63fca905987e5c0ce48eb7d106a0d0e6a9402485ba28a68b00c71e54dc8dee11a0c49b11b5cfeb68966d45a4c2d288272823718bcbec55c47f4eff442fbc42fac3bf613082aa78eb60a23d243c0906c979e65542e6a132bb6a5c03c387b3bfa9a8ec9ab478d4e049489a55f62baa4e65a1dbbf68d54dc050d776fc0386f2e240a29b4656c5cfa0af4e6881ff1cf90a5789aa2861436b94e7efd285e678af19ff5a66f70b8153bffad98cec9ee559f5c0bdd3d6833c4cc7dd220412f5821f50f509799d9453935a02d6c23564c14b5deed65c0eb3c8f43e2ab785f24cfa0bbbd9d04e01a4367dbeb24cbaf876f0e55109683c0fb3a1acca6d4d8e4d202ed5161a944f90c1c1c11ed255b428a3c44450518e131081015895617d0ef9a3b364a45fa9c11b2cccaddbbc9d2716143ae1dbf7ef805ce7df996d9732882688dd92975c913110d0094a4ef3891de157dc2853280e3d876cd4fc88f5420683eb8fe41c639ddfe66092df143ff321e7d95c16a88be3dd6abe38e19750447cf92f8010aec019fa940bf2c3608e10ec02ece59bb483cb2381313ed06f225ffbe97bb10fa733e6b0ff6f39961fe0bc12b93692195b8afa0bcff3f86e7223a184d7828f4fb7d98e9f1f338715708cda690ba8669e06110d122d683af2599884caed90f38075168951adc60ac4581a0ecdf4e8d4a440dcf66d61da8a0f0b3d797e3f2e5d4ac060efabc253ee5b09d1601126c3cbfc6cc66c62f48f67ba3f8e56fd5e5417c1b95c92c1d7980abb256a5b1586d716cea80fa5dd86a3082a8407b20638d6248c54baf556337fb24a14a09fc26f6e1c5578fad597dcadd4d9aa6e824e7356004773c2523d088c2a7af7dbe47acdecc2e0524ff1749e2084f306747b83ce245b3e4bd338493246bb5f4fcf5a53b3b77d9c3d54462531bbba7044bc913fa740f1a5f214601773ab1e1e6c940d0f29788ad4384338f6b5d4719800bb358dc60afc9f10b00c79692f8ed7b633db907aa65bd0f28f80ffd1b17a324c6db83eba0bdd8e1a9596837d2886c78a9054a91706b837ab150f93a3cfeb73014bd356eab8b19aab877a1e61ea127c3ad340c21f5cbc83acb379256c715b628773da787ca7c2a017fca78a7975e7d7712a04170d30968324a39e34403704a178a7765a615cacf694f31bdc59c2c8ac60f01077b8621a10d2af2eaa8662c2d6f660baef77d2530be318a919c38011f010ed2305b336c70b76c6d86999c351389dd13646b4fb9ff43b250181584158b018d282b39268b9c9503704776ec3de2ab1c678e5cefb55f5891f54644060cb081e4dbefeb3e75768778cb325d58fd46118a76fb36cf0d89ac97544ae77c1437b2d2a4ffef3333bfda1ffc6e9eca4f6238a5ab506994ac8b86461b6d8a86b70a9b4dc59327289c2f1f7bdccae366e413b2914464270d0faa14cdfb43b0bb47256e803b0ed28d83dedb111675c88729cb3fa30a734248bdf3770bf1a1d1a4ee1e985474d0aee1d3c29de642a6e46fcd39f472579aa2229278ed3f1059caff8bbe04d8b5e0725829bba1da8e00359336c4bef22416c71896a37ab5a10cfa0faebce8edb3fa39f073c6820d74ec22403c881ebc766704a5ac5d1a3757d1d72788c90aa8dff106ee6309b6cca7d81f238ca6f9a33b12cd21d26e330a0797652c604b3f352982a1288000dc4bc785b2d63a70b8717ddc72a48497b60ad34f7b35c33527b8ba8de2203cf66a3b43b6237f5d6607aa27ca088ca5d587c91bf85010b4451e4c4f6320777b5dfa2c2ceb7792d3c269d2e7ff8d2690e2f857bf334bd952bc6b29ffe0107d67e99c5fb82ed4f1870def696c2ac6a712a704b6be7d3242184ec6266106e849c6375d842b5ab82297b14dbf99677d0175460d9bf2ffee3f53adc138ea4c477a34adaefccfc42df61b0ed961eb5be3a3b30391a5b166a67f284e686628f24e46e8e574106f6634eab2d9eb98951d800968ecf417824f7127e87120780efc78add5fcfbdf9459d7b6dc6d9fa40ef2d2444f8cc432195e8785ce93216cc8f43087802330e4b537c58a4720394114376167413550e7881246ed8ee92cdab629aed0046bc8d5a4bc9ff6497a25f8fa125868ee32694b02767ae1141fdd4110bed39ef3836ea617d52f68cada17ddfced47fb6d0b115a6ef7f3856ee5f30a3518e970cb22ae6f742fdac8b333f5d00b0c6e29a85100e059329ea5875ade5024b561645b51805b5cdfa7f94ea399ebccd39ca31018f1974c0e07b1956f9dfa26e83d5f712fb641a7637b20aace58ec9a870fc80cfb47cd5c615c6b8fe40ec9a798f057972cb7f3b1e8ca1c3835eb364036893f3d8959690b672477452bade013fec3f2a07e73371bd90b56a311074d3d696cd81247ea7473ab36aa47bae1541663fca31dd2b9755052fd1820aeabb9d9624b2aa5033380b109cc310a8c09467d862b82324a6e1b4e161a9e5854577f4fa66cb6dbe514aeb2a555f8d146d2d73c82faa7ddcfb3a1d7e55742f7a5bba08eb5f320fb1e179e0dbdf23bc0972a0a6120720afd9b5b996116fadcb31c1d8c602d91e4eb268787188470e67dea67c9b0b7ddd2d807991085accf66ab53d78c982982863d9210e8c2456e1d962ab7db506030f8a44e3883eadbcf8921147e3387f9eee0f8e469d40710e6a9ae79ea6e149e447d0dd334069db8a995bf6cfb9f7942518ceceafa46d2f4628b42a93a2906af69fc67161f9101758888cfe5c6e98423c3148a129665433393cbdc2cd9a7bebcc572fbcf5285cfe04593275b5d345e2459449461621d0b1889a9a9984638ada3dca553924ee486da2d76e8b557270f6221ab38516ee778178c49b9eb887f999450d86f3bc5001365be1371334a52a480e937d1d10374c085c13c04b4a8d12b248c534eb8a3109cf2f85041d695c0ab5fbaf0a31b14b5cd5ea580d65ec71d0018b9a5b75056e79d47e67569591a5e657dffb84c5b547e13b386c30704c39638d7915d78697c243c527ce437b53b7b26d9b88731e188b27cb24f3b681c33b21c17bf628e16dc07c1086d98cc13749b1c108bd9ee757d55c8c397de635b788c2c22d333973da6ba7d8fa59703e609bd89704b65f9917bc4d7e87236ecadce886205b732eb11bf3443bc7bd85f5cfa95601a1ab684baec0eb175fb12e3620b67e00b3a236c0f56c875d5bff78a567c775f7890225c06ba011719f60b49169c4e8b1be322eab8e499de4ff563cab70eabbe57dfec149dc8bf4469f8b935428f0812c5e7a538000bafc69dfc439ce25d00190c52fb7c750533cf5eb086509bdcf61301bc84d9ba478fe4af995892236f8c1f7ef57b58909a7445cc49123d520b91ce5ca111cc0cad83e395cd2113eedd515aa3390bb8476744978eff70249fd3354718ebf3626e94ff64c0e6c0eeedb40a56e877986c7650ff2e83b0c7bad1891e63d74e8af08ca2ff30d90386f54ea554cace352eeb090f4d0ae84bdb2cc6c280a61cfba6977fd4e2c2d5d75589ee479589539dffd5226a545dba30219f9a3e16c33c8ec7e9fb14437ac6555b18aa57fe33bbb5f5b7ba25e0fc8d1b18d75d21a0e5d4979c897bde73cc8c9e4067b78006fbfe55af4a99523f79e056c957d14ea660e8dcd2791b1839eec840dd755eddc5e748d2275c8cbe9d0fe98143e94d4eb381dbdd12906750b33daeb38a51661c2475472172579fb14c00adf7db2bf95a377ee0ac29a895d25b65da14a784154ecf288f623f48b1249c078542a414ad80cd8272dabe0cd87286522de41928cbfb8d3835987c67c2e21db40298d8d4d64aac85cd70afbb51765882c21ae68b17ee2f2b5930abe4b096c08a9acbb786f8e5f264ca38b6dfbb5edcf1aece62ee59eac4ff10b842ffd455152eed7b790be0c747c0239beaba8d23b3375ff3052fa60a2ea859a3939b12f64bfeb9e07fdb50b659250535903d4d287f58d92b6d6f1699a2d07a83a4b2e7cca031c124286e78cce96989839d6295330523953de8ec7bad5de1bb8745118bf5c27eae9da0e00f2cac2ec8d8e380b8bd55ba2b6c1f4f5375e22240f8e619cc42d5253561dbf3d1a8cd72b96c7f0bdd614fdf29b284a3bd56daca8234492f2862feb2dbefb3cc956e594063bdda8e7e4813a54b13bc1d15dedf5684c050f9450247521630fc11eb3acca475299901998b4cc3d859ef0f58e6630f9e767ff9dd6d5a275883a69bfeda852b0cbc93cb8bdc10cc0a6598e5b93b25e59237c1d1489b8cbee2d88dc86db332a28dbbcdf6630dc60667f348f2b1f07260312192af5380431b9c5442ecbaf70cd2eba0ae73429af398fdf7ffaf2fd681e307600dbcebf0d0b7049894ce738f499804c80699f8feb5503479a731e1859c951663967ec28cb388cd4bc7cff5043e3b69e03b7eaeac8e926e9de3888c8da56d4a91908f816777191a4cf8190554ea1f66daca3fdf052201b3feed2b8fdd6165d3cebd8a1a3644aba8899339d6d29efd516e715bf2a567561e3cfc3e17a0fc3e561f53f1d8c116835a31aafd45cdf0f86c929baedc96e81ccaa34c4f2eb4fc966f20143bf763d2c9689dee669330a44049ea05a3239c14704735bae7c0f766fc4b7c859a0915842917c60673257d86c2bcc15d83790ad26c4c2434d96c791dd47e54f44f6bd4a4bfd16021864c5a8af76cda9cf3da45a596b36bebb5715e2afe6fd7451b5e845ecaac1981b370eae5d47637edd2b0aeaf3e9dcde82ed6ec7888e37e14aa38d038fa0778e3f43cab3fac35ed14beea8adf48d905d7389c06f00f99aed1df94d4951c8eeae8f8326207c66868ba1ed6b5bd705ba99d70bdcb6658dbf30351605a24b1ddce6df79c5cf0cce81a5002861f3f94f0fd8645cc656d165bbd33831b011f29e0699bbfa169a0fc2dc225cb59d750f8802894e9f4c0bf301237b3a5a1f259087523e7efffa01ce6aa881021c1f04bf53c0ca2e2fc0d6899fff01a831230189719f74e9d63a148ba95ac4a36f48ce7439f93397471a689a941006ec92d13ab31ff0f523f2a1b15f3e01d716092a9bb60f33bd0b323698623ada372a77968a74ff1fdc8bca05b6855c164feb96f1466a2c3493ba684063cb43a2d37d9562526d79c9d4c0bfd37cdfc8385e694aeacaa4b2d82e0bb4e58759a251e97b016bf5d581e2794295f23dbee22c353a22f80c9076ae0cf1cebb0c04b3d1143fde2d0c56377e917dd69a88aa133e49dd0e4527fd90615547a5ce240381e2bd4b4ccd25bd85d7abaf3563698b53f0051349b168286a8ae8b28c2a6f810cae92909505c3a9e0646ada31cd5626565fad44b016bb01897c7c97d5e090f96a56df92dc75db26cb29c9f2bc5923ea7016b2561991e088f2c24083f1be9860ad91b3378faa4964de7a927b475de5742a7de9539fdbac5d4245ea8ca4ece61a308467e5e2e218d0f7bb66b6a04d0ad56e30c817d52502f3c341fbdddecf49ddc8194e8aade29149a7536b66a2c4788f8488c27eeeb2760173843392debeb75098584100b268057fe94cd15af7331ba42968d0d1fde89a7314c3f05ed1c8d574005167ba5232a589422fa94be7e8032c0d4785ef833a568d37a73b33e1a451b7729308772f9e5a1babfce7eda874e6321dd3c7d153a1a884ee8eec29dce793d30eec11ff13b76e623fb8975404de08831cd33eed0d157186e88652da68c4ce63c55d49745c872fd981f82b6ff20480d6421445a73c8e1e5840524b85163b0d8e0891f2e994fd6b0e318588d36c1477fea17b9ebefa2029e2f69194d62d8ce9c58394d7d21ec92b815c7ee7ea8e1a248600faf66967bc23570f491645536819cb2bbd63a259b66f51776d474c65207eb01b7b54b9ac9cfadf94d453783e0f2aafbae343271c0cb90b6558b9c9165428e8334da75c7c3ccaedb73b40c195c2c9a6ed4037d0c41240bd518eca6e79ddbefadb41c58f0bc4f5de890472a62a9251eb185d204aba48be0c15ab132e7cd161c1c63bba7afad032aafeb83039c84daf6ee1bcf700d747374ed614efe424c0e9a03e2c2ad841c3e7d623b32c897b4951cdceec49ffdad5f83b501a2317ac8667a74b02182c5c4763aca5471168cf87614c359a1aeaecaa52139b9844a9200c9c6f92f88f83be9dfa940f31f01b1cc6724eba5e6a1c0fbf6bb25852aaa5ac4b230a3a3ca2c086068ea10c8cb806d91c38d20e2d33038970359629b1da9dcc6581b19e73a5c3dfb616963a786c80112ae0fd6fb6630ff10c57cd99ee9da02f6d5bc11a650b2a2715be5387992b14104ef1041e55fc8e2f67db8cb7f1dd875b50defc8a980b204eb3d7a3b4fb43b1fb3e63ba66cfcfe5366b920477cba29318a92f3885be215f081921dc0f6df3438e4291fa046bcbb39f47adea6f64ab50ce748cdd7db2c28d849ab44cead816dcfbabdbc41ee758c83bbd6a865b6158eb9defbf07a21e4090314def525c7dc4d955537aa0b1e77a4f2bbfb74da676b41d9fc3528b6e2a59943068fc737809d9e814f000225530f253188d48cdaa880ee30cb960b5d2b2bf3c0c775d7d39265ab7848de29ceda3ba601668a7d726a5d43670866dc8ef51b2788d2823ce3c2e5b12589bdfc71a8006d97dd7de26e600109bbc5fc653200903e9a4f3bedc65764899283ae8164d3bba8255675f041f250211722503beac9064680a6a1074350319366f1179e0e8f905f979028395a5159172b0e65fe0dc9bcdbd2549df2d8f8d66528e3286158863ea88a5d9da4b9d9e0c5980e02d60ac57fc5f65c8d02948413263af20f7c4885507483246bd990803a604cebe6410dfd9753dc868be857cefbfb318e6ddc46e3442ecaa392af78945644e0debc74f4ce4f3d8c6a57933b5d1f1d49641bd66067e78c47ee16f051cf92f0141c5c773c5c0dddfc4acd3cfb3daf339b06d2f55261fa42846839dfa7c40d5990df0509157b545cc20ffe33e47458838240d81afca6d27cfaa02e97a0cbd21c1c715e35eba3675604989c11791ed13e833c78a72192a63195b6dc92210c5a6b4a7300027fdaa5be97582a35001a023d19abf0057cc278eb0c8c98196fa2cff6f93697545c090978b536664ac5c61f9f57867b82a57be72aaf2538b8a2fa19ccac04d8e00203127bff6b89813d38d3cec69cd632d22dc4694f6fdef8b0dfe14165e04ebdc7d199538990b32e26c461dc73a8b076725950ed884b099613db6483e4d3c653a608ec19354d2205e501317edf148cf7d2ff6775aeffcb2d5a1745f9d712043ab29f97e7aaf30e0834e0987630a5dc82034af1d1e687629145a1ecd20025903a8d3aa77e90c5644025f46717b30e55bf13cbecaffd7e7e3cf662e508cffd64ef0318ad7aa24c180fb2a3dba923cc2a25bba735257d79e7f798bdf2b20af6ba5b53fb6f0e87f5a24e67fea10a8665ea188bc9cd3daab45402ed2f1877cd3f3c10315784165b9b6457c849b07bf5d0f13a2b8a2cc644c80318f221f824d379937e29fc834a9c045a32dc6651cb7cef07c3574fa7fae936d41432e7f51d9b166488db928cca2a95f0cea12290901a3b5d8782167af9004b9c33a7831b3651a1046c1279491074fab7f2c5bfb567113fea334230fbdee933e4283cdcc82419998a8a9382fd0a7527a8f4368b05560499abc54d9c853d2e618dc307c0be26076b37b5e7ca080d06ec3b90a0e0e35ddd17754bbfbeffc40934f0406d690fda4ff51403d8f42dc62855ec70c9c13153bbb1d8f9932c233d49916432adf1a739c6d20304dd24c4e01c35a6269a9269b2da704794d8507a111a086129abb39513cd413044173ce741f549580e3dec7d5115814843840caece99f236609088a244ece938c137db55b2526880faf596b9741dea572679b567a3e4f15d0e54b037bc51b41d828df02abfd6d513001964ca42035dad0aeb8e61f8effead1f71804a821503d008068e7b4a0fbdd2f11263bf03b5227e6d18abba0e6fb6a50eab014a8cd5ed87d99e95843c1eb1dffdf8e6ff9c943422ba7feb155dabae408ec5292204f3b80dabebb7031745985cd4744ac4b4a8d95879475d8a312be140cf68435cc28ec473d2b45f9c5040ae31d4b4b221a9f5fb2ebb0320e251d02170a13eca9aef6518925ebe4e862cb7516141cb2ae407cd259d057e281c6cb15c19fe1974189f1606a7a315fb848fad02953d6b95272b144d5c1a87c00f5e64199076c296caca022a07c9fd731e8ecf76c96af8cd4740265fe324047224ae7e22c5d4f5d604ebb01dd0b9bcebd87d32117cf1d218becfa0ec24ab49f39b39d6f392b0c1cfa3581aa87b0e2e0403e7a572306353b6296e4f85bc59b83867efabb07e25e99c2d6837cf66614a4b212b02a6a24aa8bfd419a8d98f36b3200af9451b8eb8432caa9179a54641c8d78e8cfde5d2383204ff4cdde0958a7cdf6192cea0049ab013ed368d47742f3980d8fbf6e55e59a8290c7f6326f46b15bdba313ec8562e466ff5f3dfc5a269e91372d028f048ecf2abbff7aaefa089f776b5a17f00c5f7ba38b880c4456a5ed0885bcbc9efa7a7c1d9e6acdb0aebf10b3636dc2fb6023e5d173aa70b28b2e4f854a2364f88d833696015fc801b6f6cfdadab03e5549818a192ac541a5e7742d6db5b9eec4f87aa3037a76754fd53ceed917d8c0b4d9d0ceccb2fbae38d3cea0cd8da6ee42c5df71bd50f418a2c040b853dedee73bcd7406e51d0e16cc95b4367cc9afed4e90a692e1bc6ed8d4d7d11a659baba65725bbeee2f7bcdaf0a02ff0968104305578186c9bd189bd36a5bf08f19a9925e091098027e74304bc9507c9703e4fe27ec2d066fe55208844426e596eba00339a906a6c71947ab42f63a31e6230cf9686101244e8f0197689c717bae8f337da7ff51227408d2c413882ae0986dc7ed1be68ee597ff8a786aeec31e121b1ab69a5f7abf5c9d434916e2dddf249495ed2d4688eb1b8155b6b807bd6379c2946c5bb060ee2379ffe56554d16137cccc90ea618af4a5a9d82cbdfbfc32f2ae26b1279ea5c8df6ce0f9ad1cf6c309a6ab2629e1c38b713ad88b5c64576be873f0bc008da7c67ca405fb90366ca27262467fe06ec6f4ba14a65263cc17ff032836de627b707bab2e589407c3e780bd7bb3253c136a5a7e1be3b45fc83557a9f98a68211284361bbb5cb2b3d7883e7db449e2aace8a24ce9b82753da6bf4dead7f6c638cf45e2f4b07fd47d98e23f4e8a953c7b1a67985b5daa0ae99bc7f42ef518cf7256e6d0403cb34d1fe67ea0532ce0110fb0a67d7ab85cc23b12fc9d3b0f4679e4545f347f924fe613810da9ab6f947e37c44d32da4f7501faad64892a6548663ca2fd8195929b299111c63f6ea4e77e750920c0cec36fa8f603fb9c66ab297b8b5fa5ffa11ca9ebe830e1b03fff6dff0b15d043b8c455446c08d9d1ba3361a86232262b112900ef2dbfbbdd328ed44a47a5476c72a3b8b0e57237bd41bee7676ad291526c9e86edcf495f1501c590523f5b22760ca90a94729095a0c784365199ffdc8c6d4494c1cde762e4debfb23a126f151bb266294b2c317e4626cf0ca183b8885e0058d59f5d6d25f2bb5f5fba7e219d6635ec7e096b0151db6758e0b5d1a19cec2d0f382d00209a1b4c258b606479bb1049510efe8e42b4b3519acf5b7db9b2eccb972e893f4e3b715d28d7f22ad906fe8bda3dd05a4fea690fc966a74b62c7714a5b4de1973f527bc6f4d1898e4bb9adc106f64e9b932e47060597b05c3e190d22253b9afdb8b936307f9fa6173f5c9c2a23a112eb0a244c89bc26dcbadc66d34c4d8c3583746c41b19a2e28922ae4cdb14a5e76ffc64691286659cf94095c9b7ed428bdd73ce13e0dd0f973bbd0172d3cfdb0cc6e3a6a0bd9275885c4f9a0597dd9bb2fbd86db7169bea0c36ab196958f320c97073fb2eedfb6472b3b00be5ed57f23777b409ddef58c36d0d82b","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
