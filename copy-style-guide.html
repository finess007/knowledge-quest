<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"82e0c06b0d1ef3e6cd1790a295ded492ea81de2b1f1b09db569ff69081a58ba7453873e26b8d5287e191a01a94d0097445efe2faa7d4c70c7fd1a0b2b5c9a4b2768f57b218571b10d69b58517470fa4151be9bba53c4eeb74ed4527ef0ac8cdeddd8a2baaad4f81392240310f974785b28456e94986116cf8483639ede3207c0e6be95f79b5a8ad0691d10cfe609b59e6a3cb1b47a4efc9fe014320daa765889a7d065370b2f677b0507d7cc0ffdbde46b4a8e231d8a164689aa2527dceecbb1a534257838c4aec1e3ed3c80a7184fa8ded39748b50bdbf93ffe236a4945fd2d17de00103d26da46d138297c318aef1b4f724d8193f6255e78f7ecd1fb92c4d16adbe11607f50cee50ea3518a589b3e9ad1a6ae106282ecd0cc7dfd9c10120b09ac9e17dd95a1a0f83a909f32e5f32f096e48224ec74dc1ecf356a1de272a7ab93cf6e5045039e3123d497dac27eb96c16ec18507eeb25917053442b3b4b590979c52a715d7995e791f91d69e27088f80c29924c15e277b19fe3772e64e7d1f74651cb13a3b72dfdce590d467c45744e587e0501d7d3228f265c6dfbc4e1badf74f923a10d90ca3d0fa9a990e5430e3c2ac5a3ce41ffac11e0d1b30b10e7b03dec5901ef526e76ad72896394918c1f7522b93def74360c90991d81eb9fa63962b954f233c854299227e1f4190f1b9858e8c99b49c2c66d2741038f2cf7352fc4f81e3020511580f61d6a118aafd5601ac628b21955916eb4cab4a62376a1ab0e14ad767d134169a04fd1e59b8e854eb4a54a1b08da7e5a4dae5a4887b7110ed07189c9db25eea6ae03fe90f497e66e4b029a1c43afd081350fc5e1989e92cdb27c6ca58abb37893bc83f3dfb0e607804ff0e530941d3177c5b3754fa1dd8957cfff42ecf2f62a35d191c506ae4ddfe09a31f083c5d9d1c57ebd3a201ce5861e7cf6346fb5544b577218a1212df15e2c5bbeb30adc43443ab7772b63444c39f4d7cdacddc8df765beb83d9fb76854073970d55852cd6e15d8b1f73f0677a081de3d7d20ef9765561bd48a8ec97b653ec8f460a3bfbfbef0005187848b78d20403b0c0cd18aa3740bfe423df52b75f0930792722d77eecb5d248b26458bd47412c3ae4326bab52d6ad948d64f207504147e307bc792617591d9302db3bc39d3cb6f945c5abc3ad08bc6eda5e126b8dea538bfdab6787a73560467c699b850a4759bbc50110b2e064c64b05f7ba730c1ebf2c259c6a3b5a44f00b2c627c9b29aaeb79a2e9ffa91655f2999cceee878bd5e81bbe3d81ec3b18d8b4e42589ee620428be46055fa17f2e04fe5991e359e5f31a86c5309db1a43592cd01957ae3519fbb350a8e6ca3c95cddbd302d45d128d776dea729e1d95af53ca0bf8c97993be1b9ea3a660589b50ff6aa59634b1344ee02c06c6c14c5b9bfb8a4541411f4655f92f446936a266f8cabd375d296efb880f6af3985b5870acf175f4d50e9f510aaeb0338b6dd14f37d6215f5bbfc3468e6ab3a098373151496d3f9579ac827319d3afa5c18b67714688b4129d3391b4ef6ba6a9d7aceab88b647593152e19079c2e0f85582439efcc927ba00b8361eeeb482ec47bb7af7c6e04c011420454445daee11833303b05f2ee189ce41ccc2152fcf959e6e369065939ca0b0fbdbc3827c2b11e9ca9bc3a4ab2d9d1d55beba6fc32426b2c9abb1c16b21c3ff21116670678e44d0d466ae28155fab5c59c07f34912ddf473c47c59b58736412923c40a57cbe12b35fe88e3d43a46c5b78cc214d771bc53e5fb48001f80ab1f70f84969662adbe45daaab911a057d868291d9fe52fdaccd086b6b86c11e27e0ff8b12f764ab726a782bad44f127f105edf841ab579a926c52a7223218e0a161ac3dad25ef32ce1068b19c0fbd384797405a03e6438323e5c251c0e3853ece13f28f8b278ea5eddd32413768cddef6075703e73cec301359f24f52218642bba97a6601abc383ccb20011a54349cb18b5ea3f4b1a73cbee094206cdf19a54aa552b74452d13ac55cceb7e9435e633cd279e47e3857cd3a9d52f58e578acc8c991cf0ac02a8483e338b2a67e98da62ade37d38c5b422fb799f7ee69d9dcfd35f90e81726ebccacdb6cb15c0f4304081fb88dd6837db680e3dbf9cda4b6e1d2bae2121cd05c404e76c11c87dd56a56cd86bcf8774ed82c9680fbc886c06ed64177ee08845a393f235c0d2553c8a6060dc64867ab560d3ad9b725af5d29b41a635f04c7d679cd6b6903fcd514192095a7fbd965a9041d3984555c50d6ebd5d185ffc590c29a73a7b8730ead1a1434991a023953ed6ee946a713b09620908eccf785049b657ce31a87339700492f4c5b459acef1321a2c91253bc6f99adabdbcb026ffd735872b594dc643221077d1f31fa33f583cf1922c171e546f0ae565e79e030808a67321d04c8dcedb5ec07a2928d18009a3497ef5be6de322c191692e1eb07a1c9ef96aed2659f5f915e667f87c336ec3f3e28af721fb238c63dbb9ba2f59a0ad899ccb8c69e33e60bf4c7295196ecd61d2aebc9b75e51e445e1be2d7dfc6a82cb5d732a2aabb5ad55452bb25a0d039972ffb28d04b75140f6847da96a0f989cee07ea0c8581b9c33819fc590373ec6e8546b740bfd15f04144cd3528a4fc2a3b4093532d553d25083c9d67419f12b49deb70a56d913561369c5ef242c6bc846c33fe0937b2294eefb26839a23f13e05ef148a6ff929aa761eefa1b91134e3eef1681ca8bce4df72c98083df2a84e31e493d96210f4e1f6cd097ae6e12e87c34f8a5874e240b4195c6cff864db66ea21c6956c9bc909cfb6f60e015d4539fc77e9fb0831331ec51d4b57ab5e5acb4055771278e785d2149f35c53cb72c173c9b812df01f2fa4c0daaedbb2d228c635508807f512275b3df3ecc1beacb8d996a5e5cbaf4b2ff1136a595656499bbf37797f95ca06f255d098969361ccda5febfe6dd889e4b7c85ac4a0b981a668fb60e00174fa762b063004657e5521427ee61886acfac52ebc8c48b151e86739fda7d7a28d6b60b0cfd095f3fb381713b64bb53e3f4a8bbc6ce731833ebab66b99be178e8fcffb9fcc632a5fc9c94e461f4c9f77506acb88f580e6d40fbc1ea03a257ac2d3bebf28c3eb6eb3a61a283dc9084cc0156aa6b369b9652d9f8ab1d0c0fe797a1ed18417e51e0b9a15539e7cbff920c594fbd9b72caf5c0a2a6657ef801fc4b229e541a9758ec16692a3650437c00ed92d2c9581997a0246e98be101e12367775a7b025a3634d3479601d86d1c25749bf1b9b7bb66c9eef95cc33ecfc6575d13db1ee64936b403c9bf1842c98d11725b777574d182fce8c31e446a20f0bb04ec9e15f61ab8b62481152f40a4b99230bc9f514d4f1a307bf1f45f38e679128891408985527b73af1dfdf537cde1ecbf2df7f62ae6a5120b6082fc369e232de45caabca176fefca3960aa74562b7c10b8823612677c7103e8e2653d0718c1830cd976516bba0b5ef1bc920abab630b51b6f8616f13c738d63f97c951c911e27de881033e31f10c1175d33d4c02c9ae2ad6e7fce87e02855576bc395e789d1bc510da3d65a961611eddb8900b60c10559e8bc622cf7cd611d1fe698b946ec8366a292bd975bbc18b7768a3e16b656a4a79463919d03f7bd6bf6cb664d73777202062a895f259ee509ce88294c45f8bcc2f2327e5bf0df3e674b9de853dc88bcda46dc74d09131c90097a75aab52f10cea19e6a2a744b2233a5653b39186d4ad1661df855c47dc7413c3c64bb959a2524161d47e9eb3b1f86ecd4d9a2754600a45dffebc17a0eafeff331489a71079a39809e5a0854c576a8065d0cf373f9dd5bd6df70b950270d1c176e62d2e9efc0631a3fc64ccf92883ff45fb95f20ef665d562b8f4185701fcd204a48f368763e0753135d8a84572b55ded8bea6d63f47e4500eaedff60b09dbdaa2401f511542e9387e1e4d69d04bdf250373ff7af52c63931770914d312a3800aa57663e324481580690e1495b9a685aa786fde0199c6f61f3772831e5ce0bd8dee8df8e3fdd5b86a338a35114698f60a42d889d2d8be508e9a1ad72056162907ae95b8b8a5ff1058be8b77e4b2412b4e270c85ceee77a3f4447bf4ee429df2dc45a470751f04fbd147df565d10738261e7cac7080542d00b75787f36d81243bd7bc954ceabbc5fe769c0d84036fa2d71faafc6cf8f0ccf53987b3c9d5a5e8059a6136aec375f669812b2e9d5105832cbece68bebf096ab57d19b7bb74fa8e3b1eb94f6144471c353954cecca89cf19709a7eb33d3e9889d548ebd23b5a82a796208569f1593919812219cd2874f3739ec6e37e1848bf514d63cf4e0c674fb254322c7a77051c9e5c6133414a107e7abbd25a9a83c6bf59a0cf3458718aa4056b1eae0291316c06e1e964d2355581bdaa401d6dc5979a1266866fd62532c11c633a6f902bd318c461148517ace1cc2332347b0c68d5b6cabf1f2bde3424405bad45003c5c06190a01652839fe84089cc770ee923035f0d3b4ac7f6210fc705639b7ce41f94b5bf7ad6aeab7ace1dbf9fad16a9007095bd4aa76f0a5172a45fccac8ad4b395c9eb869a09b2fcddd47af3ea64a062315ea730a58319fe84fc18454dfc1b222b1977d44b78df290f416dff1a33ea77069945f3f68600337eef6174ff381b3c90c6bdfd47671c9a2855a376ecf30f87d67a27813acfd1216c5c7e79d4888908f6d3da7c1e51ef64259b96c951dbbb49f97714f9fee78edba0e93959092173a4ad8fb933c9ab2a7643fe2579343004652d23689a93b7e1885093ad438a30c1610c316869830193841ec8b7ff9045b62b7ceb3ce5ba0a5850d3ea3c58373ec8f57acd6ef80d6df1d670f4d581bf565fc420bf66db08e10592d49c898fa3fad60e7ab4eb9cbf34b8e543e31d607a05dfde6f4d196adf251dab22a12afa40a1104e52d87f1cd1423edc0e34adca78705a2c91379bc9e1f88cdbb45a4c22733f14c721143acee7962b3e4ad3885806d25e12e5c38070e2f5621b78a39b5d1208ee9fd42d170be7725f97dce41b2172494ccdc90c2e8019d57ba9135e7b000990a57653a268d97eed3242b9ad2750bf4a2667e05c50b9504e1c190a1fa4bf8a0656c3e3d33a2775aabc6b0a3d63b8618da22c63b86f301370c135fa3fb168f4c96f04191faaa321370ae42f7927428517f64a368636150b6ccc92e6f2638f9e4b2d75c10e8ad1d6426577bedbd581c0a3e16a0197fea8021a59013bcfc5094317338ebda9784a26d27afa7b83661ef76ce124a9a780262783aea9fb0fb9f7bd96d9f25975ebdefb3c61f9d713831100d6c63ecba2252f3f9759e8e7d72df2d5e08a5418dd89ba486955a9c349b351ea26b001826757f20d17aabb09dadd7ecf6061563ff0ba89cb9b0bd54867f3e352df5a7817cae74c2d658f55b4a4a5baa2ad1ed8db7a4be488f95526e1e81d1ba8db3c44c5c02cb629d236a713f8ac5de71ddca13bc09c9ddbac67bd36b4178d514ee94d80a7ee59ddc9358c4157a52680f9a7bd3c710b3f8e8894a601ba0832a18f719e78e1ef94947840875791cd5a52e4337b51a8577e37a6d13be8b8507587a258b2d86448ea69f8de9aeb06e1a1c8494f81381c50c6ff7a2e2e330041d4f1252d999d6bee79292f62017ca548f98eb7e289633b593bdfb5dee05439f60315ef5947f166db06a35de1cb1785e5279c4c6d7d8773b096c7a9fa266239aeb8edcf3b4d9b3cbd4dfb15a128621fb697c029f3660b7912ee3e2b3a6c3b1f3abb2ad0b100a6659ae16d51a0c18ed5703492390726404011c4da08e1ecba3be0056eff7f0a029dd8dd00e94e015bc2537a1df8740048a062257ae211ea5af03762b84d3c3d7e10f2e389a36edc0eb6c2eec9b3379660b38fa43778331f2bdf6df687bdb5b921288cc63278fde99255c3311fe3415563b220af34c91fd8f7ae3dcd37af7a9b5838b55ab409cf29c689aabeaa9a7e1d6c43f4d3c292e2c47e6d0635a2c73242949be1ed01a7215fd0ce4c9d2e0104659e0a895919643f91d92c92973518179e446d39f8670d3d67aa208a46119a545d014fefc5a6bffd816e001cf9e010575d18028d56d393827c3bb657d21fe363c314f0c55c09be8fa91788ad3b4c231bbc113bafb3c15671052a1ab4329ee0650235055993c1215008913ae288230432185f346063f43821ce07d2aa860ac90e0d3e5ee3f864eb4818aa352354c18c33e4ba29a66ca2c60bd30dd514947d679574df74b238eb853daf848a9c256a40bf1990c124ab148b7330ecd8add757d940a7f77850a3d3c222bd9dea7e61db41b73f8b233f3dec42ceb9a36222d76b183f89af01f97285b97104bbd2225fb1fae3a91cf8b44b9e093470cf66e60174b34cf1f9f22f9463298221dbbac0881b9352776fa997ab0d5a3dab01c3742259cd4357c56e6831bcec682ae083d546d3b15ea4d97ba9ef924532342e90f64aa9702c67d5c3eb3b34f12ad2659d00df0873669ecdb3e0d6e7ad929c918fcb41479d5f76b762a923ef1d4e488e9f4d4de95fa99b7aa33ea08f04f0ab31b871b2f556f1282e32148ce288d34064ee4b65d08339f8042b9255e20602feb45105f1753bbed97010e995b7038014aa255bc34d3ced30a98b78978dfe5872b02f523a8d7b61ba94e7c4b2bb64e01812d66b20c6dfc3b81ce2092010c0f7306af83d372ed33c95b836d328ede201d3b65da52eff40b9338b661d0ca7016e83cccc2dd991f7f23832ec77af06c35423cea7268eef7f9c61d494d03dd36149776c237a67e68c186d67c4ee4fa467ce718988fbc934cafa6817596ee346cd5061c3f6413bffeaecc93cc4403294ee15ba8eae26e186d4d6c9199e488a4de3b370c5e29334f10de730f93db3f81588b1257c5e959f089171e3979151e66fa6313d2e883ca7867f86dcb4c1a3e4601ca3be1302742e8aa189f3c2fc442cacb6004c76bb96839f1aa10fa00554a268f3c4f9c26920a27f513fd01171ea7ac1c9ecf95bfbf20ad44a25651b810e3026e4ba679784bdead3688eca782b56c53c9c1b3ea75d68caae31247c2fb1090f3667fb0e3f92b35897a617518b03ad9c7ce836220ce9db9c47f20451cc23f63616073dfeb1287258c6163158ba3fcba7f4996ce216741211d95ef7187444fc1d11ce16f30038949b0c1034a0e3ec8e95924d47fc637e8aee213720ceba47b673174646b39337c1f3fb67399456106f17615197d48d9aff177434546087ae8e72b15c56d0ee52b75462f2e34af3d09a7ea17efe31ff7c0bd8daab142c5ad11280871ee26b737ae33860fa260f5bd8b7f5e83e857b357c1239a04e3d2a0244d6fb15715ada90de526263f0509da5f4dfc3615b265a0a70bd26740de1676936f8f6ffaf2afa6601575ac15aa1a3c2a5989ef8313df7fff1948d84a44f069f1b1398af6d1457bd13ac151261da4f1ab73c40a713b7abc8e104583e769f7d4cb5384f40664fe81e4bfb4dcb8dd8e75e8cef58f3089cfb7ac03fe2249aa3a77186caa9a1e9de891025a6274a0e31e30a56b59cfc11779ef3e625c55632087e7c0a78f62ea0c7700742d14f347fe1e725840da368dfa4dae8065b0e5d4829409b98cc5ec5d6863a3734feaf938546bf1028ee927a48daddcac8806391f7676812c219a63168f51ee2ddbcc73ed59cf5ddbe8c4c3e36417a9abd1b3dfc3ab1b81f69bddcda445d4a2ad37c83d1a55c47bce4955ecd6762507ff7b11de11cf3fff862df09af479e79d2c3e412434501e5baf8d5358ec0024aee77d02ba1ee642b7886c8d8141abcf370e261dee71ab4f1c34182d7527c506305b358b80f28edb19bfc1ef320b7e3878d5ded08a47706c18463f1d5b3832f726be84f19be2dc0ce22cd8b9c5484c1578113d78ebc86b54fff67c3a5a86ebc8bcf1c2d9b5bbbbec5cd7d74f3eb0cd59291c791e409bbf4b4875a9604e8ee81d12c611de5393288198b730509344bdfde118d646c6f769841822e9f93535ce8a03643d170bd1b565c4749c6a40f177641691a4e11ba9a12bb751ef095b6d9471a3dca3086f36bff6715479e1d196dda143ceed24a2b3f198db8a3e54a56969774f30b39688a7a08d4ae1a104483ec521d30d71220a9e071efea78b6da8869bf4b984d35ee9aaa5ed0fb04a28c8be045051a4c8c757d94e942a31639fcd7cdcdcd81bc7c80374f44b1fb5ac7b6de6bb13f75733267ad6aa20f2bf8bebf7edeecb2abef7fff9a9f962024a697fe7056ecabc8e45c5f74d1687163e31bcaf534f80f62d09aac8e61c773294b5c7669aa0e07df950673313298690404a7494a5b9670130922f6d6ab0c33a88aaf50370376b10565bffbde6d7e2bcf0aa93fe58b69224f2262b971ed0291c4495e197438045b1ba9d7a6c076daf0880d6dc661ef2e38862e3a937ce1732ee95d3c24cd7068127a03870c0f599f10c159410bb5ffac58ce5a8e82c92adc29cbb563d6eaecd214b6ada18489914862367387093efc3a85a43c48beed32b178bcbff4bd5ecc8d39570c1ce7bfcde13146b74b0958369ed0c767d643bcce40289878e32f702e15e48344bbaaad939a92955741f0ad01740306c0be4b0613573551d64d283f860e708c646c6a050e5456fbb8603147306aac01a7b7ea5c71649939d877919bf540f65c90d8b01f51cdd1c919db7fec1821bfdb799af0f741fc33e8e608b2620d74d8f5a3df7bd14d1720f1d5135ef59f8f99829d7bfaeae1ecbaa54b81b2679998f84f9fc7e9b73e328a5f5414300c46a01b32b70fb8cd71ad881f8ac3cf0591882206995296051f669fe82b13addaa56e57dc144dbe6053e6f093b51c8218f9a1287a4e54d11f56523a7395a43492634c1c7a38b7631be0c162caac2a7e16cce9bb146cd98354b4d764b329d8d4cab2c3bdb4294c53b15c50363bb6a6907aeb4be2dd8389aa0f966c4a380462592070d363b3caf48f80770c0863bf7690261933d755237c66d3697442bf3ccf1c97eca817cb5e9ca922ee00f6320ebb5a8ca2ed7cb369b5a5de277851c4614c70fbd4b2834c08e2dcb34e7bbf2b02f7d78d8656248d9ab2570162cbe49c453d1e41328b79831db32002ed5298a8b8d1ced4888c51b746e465eac4097baaba121bc25d0d8b20e157f9c776f1a1a4fd6dbf1cc64a44e4ea7bfde0ebda878433ff202a56e095e2c36bdffdfebb66f175fb5544a287f06b9f28889e2344f50354f908aec1109e0076e43094593a31b08c911ad726c62ebe5230d00ca61d802fdee76525314adbec1dd4053100ebf98dbaf2392b5d017b551e779aef5597aecb59b42b9868f406bec77665866112fc76a4878547c4a594db2b6db02a9b3984721ffb0e82cb034eb0b5b7b21acad9c397391bf53c19f5b625c3389b932f251b80763709f471cd6cba6ff402bdc7a8c911a1c2e16789dc2cdfb6e09d976cd8a50dacdeea436d59571c0a7b85adcc5678b119767cde3d7ff9ef1a4cb74b8cbaa7f3636e1bfc4ed580a2e2afda2d5475720c24527576d9f1c3ba6b48ff729f6a80e10c50fe8ef40d1230d99f375d73641b24db678f1d31224b5c0c7f60c9c41e449f6b7b7884ec88c73465a16a16c92014a3aa6766d6a53f60b40b39a3ddcf2a4229e460ab1f4c9408285df52e88225cb6c0a1847c04be4fcb01524244d34dc9a8e7e9d4ca9e26e8ceb250f6113809483702fe0396a56deed854c351a515d20e78dddeaf9f4141e2001bf844c7ecf3ccfa1e2689721afeca987924e9e9a1bb9cfd74d4172529642cbf8b924fe6c540dc536cd71ae8ed52ef710ed052cb20e20111eade74feef1459aaa6a333f439a39c483262ed0430424c4132c9249c16aa22166ce432fc384bd9a99dbb2294ccfdc12366c489924872d5dd7abe04be33776566f1a44c45984a709dcb02bc1c36cf35452d8d58f52d72afef9f3085f96590c0eb601e84fa64308373d605ea0129cb16c7e663978282ab4fc59a65bc942da13cb87f7fade71203465e51687eae99e58839a95650f4b9fdc4c032c8aa63eeaf6c4dbec323cf7aa32a418ca554d2fb61c7fd633533e67d18bde2c51961d44762763f195b8ac9d6ad9e7bb4080ae8daad729d66a3cfdaf192e54a8ec593dedcc9e05c40a178eb8d2befbbaba0327f95592c0f2303cb4448ea38bf17c2a7298f0e09527884b8eefeba53c8c1e657fec77fa9cba2395fcd29103d83d6e4e44dfc39637c669181f9f86807318fa71b7bb83310e88fee8cf136ea9c0eb9bf3316b8d44b6efe02feab2ce71ef89e5e1008e8a48f6a482917c031faef51c35fce572c6d2e20ec965895efe53d1ea9d88510c498b7bffb30dc5a16e632df3124c9b29550aeef3ac613930859febffc4412f86f08b6ccde4b706e4584c240848eb8429f092b9ce2d6d2c695bf4146c2032098ad42a54130490563fd7af84fe8f68d87b2da1f04cfccca4fe6a0ae2065b179aac9b64b5d6aeb05ba5bb33633d4936191243f19b9fc0e810966f7cbc99131cb2f63d03267e254b5ee08475953f77c4b152fd31791e566c64be982b3cb22b1dc26acfade6c63e92d88caf7b0684daeda3552d06c94ce03155566d751137cb44aa0070dd169ce491c805d0cb7807c0e6e9e2590f50b30b99276b2d7ff0c6ff98e9bacc80f34f4f76b8c71a00c40ece45785131611c3d320adc1d59b271cb9bfa34ca5dabaf9820662aca8887e67a572ddf8524001faad44f94149490008b1c52ef0610d0d94db047fdf6c3f09d832128468229f1b4c6ac20bf672a88a98c813ffa2d5e7a09cf26e8c0f4f8344437835243dfd4d45c65f6a5cfe0597254ce1d2b317e556341068a243fe7b1cb7af662432e34e9934ce313a982c75a9527ecb3dd7058ed91c46c4b2547de4f617c323d5b75cea0748672b5d301434bea7e7c44a6168da041b6be6f3f49232f56adbca0b6913c2236740329e64e7440e6eebb9e6a287e4b7e78365fab4a85f41b3e55d3166645612306a15c09379ae4eea18c451632168ce1be5c6d5bb7da493c34d62d5eb7a23bb9f2300f076440c2f859500e2778f7211dea82dfe1bee6928b333fbea9818d3e89490ad94d04a0af57ee4c41e61c4be2d2eb5d0543e817d6dfbfd1be0c7d6fcd8d45810290fda113e4d2472080f3d5dce486eda4473549e6785182206bcd1395683cd0694f74d664cb77d0c0c96e5682cd3dec71ef72f66ba45a09625888e5406a850fd206f2642df173f783fea5a1b46378ba7b4df45f29c9c4c1f329ef04f69331104ef12a04987994e0b3c0a9607769507ec907fcd0d3d5a4e2577a4093e93d6485e5ae8e98d1fcac4ff9fc9c56e25a2ad23cccd372a4bba9ae779ff1057d13f0dc88b66e070ead7a5e694c6b9ff79dfa4c826e7537acdec00c85f667e621c7f3695e3c884349196881301acf9454af7a94ebf45aff9361e7c09501285b5d41c61aca2da26ecbcfb0f6d957d5b2cceadce8ae75adad0f21ee5974e459fb36413db4cf5c14925af84fcc164a491c374d18bb30807774ed241ebb41369180609b7f6c50a0966cfba27c79d12b5d6e5a6d483d78e29477fa5d214b526d62c5e417854aa18b89d38a455e06956569e1d3a8990ec534d470519373aaa1f0105e878ea80dcaca74b7172b04a33ecbc8ebbf501b523b8b85c65e946eb4d045a8baa2a42072fa44b71f0afcc50bc5a6093510a95d773d25319a7572966560b32b70710b1ad2cc6bb25b651b4f5f30b2b239a8bbf2fc890c5ea15171a79397a251f8c41c4b0ee9a3655a56b515ad961c2a8c7b66fdd52e02af895cb9c66bb702e8e3043c13b7ac34a05dd4c293aed20f07170fb3d0a12ae30e0440367fda16499dac0b227ff2f5fffcc224210674b9aa145e75f1a9e88f3bb4501d3234d3b01908434a7f59e09628aa7a7a1f2bde79b845b843fe33d1139aff6297a12a7add2389a3a34e83329237737a5b0ff3d28cacbab3023066120e5d0b41211af6fa6572d05c4660eb45c49843d6cae125c1ef122ea834fd3570a60518bce08466d0a9de089f5a957f378015bec423d82189085c66c77172695bca4e82edc84a355cadd75992c68855dd921b05c574be3b22e614f2dd224afa6ef1e4bace13e84d932413388ca0c7e23bf0ec142b048d1512d2ec692d2951e2253be4998d4bcb706d071f1d4c0f8db4583e852c17fbab084ee08e02da8bb3b56b5ca04adca07ff042e5e15a498abe290dd36f272eb81f1adf3076e15f04f9885c3849bcd2cbb03f800e7561dd08969c1c5a71930f4154c22e17037705c86de3cc69e04d680eb98f71ff8f475c162194649d421c42994ad6a52622286560ca85ed5367a92e2632d7f06d3e667cebf306e145639077acffdbc38aa41bb3aea825e31bff94b4b9b3328a7aaa3ad6801fbe818116b17066992cdfbe59b18dbeab3fba46bfd414480d4196e5055d355d524af3f344028906e00b8d1be5c651a4e5725571fe922f78ad46700a84c389acf92a4b1d1fd1510a736e2f3b197da7bdad236fb70aa345fc57c2a765b0d2dc332ca77300f0b9838b8461fbeea41f9a31e27a0e11cc83eb3c33d5cb11c74228d12511975ea91adeb0aa6a7e6a21a78a6cc6d6db0d63a9949dafd6037846b1b6dfec850f854567556ab29436e517ba138a620bd58cd7a56a0f1f8939c07bfdb930cacf9817055331ed0c419869cbf3cc4b122291d52f414712b6a51ba7137daa19734c108db04dbba243c8f81c4a74bdfb29744ef3b89c3e37dd23e26aa35b1c1a97b32c17696dcefb568357584260fd6fc54039866742b3104239b13cac5f9a5dacd1421f5d4e0412ab7afd1f6f67fde1b0c10cd210996864b411bab84903c55f9c48b06bdfe1514aac69655926560e1fd1b70ac3ba5ee2421d2078a8117afa8bb8710ae6ffe210c5f830bdf1764d7728bf7fc040703f3d48d8fc0a26ee430d569c65c7a12245745cc4f7134615444bf09173c503e3a5a842fd7d716841d959d0d067c04f7df9a37802c589948f18d683594aad5e5279be05539ae73858475fa5a0e1dda4e8ee329e547c68097c2d36aea60e580170a3f7a25e15dcc171cd25f01f088d0175eba8f202d6f67b3fcfac52cdaef49b60dde52218c5e55545802bdb59fee6e13f6749e9672f6f3d09371c34414d9044a7d061195e736fad4046c3cb5e58d8d8fbd0c21c106b237d48cc2db49bdfe4b27388709fc4ff154adbaef89ac46192122ee63b4c6712e69b35472619b6a22deb548ea012eeb4d8f1a5e2e02604ffe991f85a8c459caf65c3f033c11569b6fd527f8c6ccba6c0a4b2d3a0813737723ceec2d63a6c5aee567b6b740e5e134a2decd5cdaee2e4e1bd74f7daabe5acbe5e9ee464211e727e81df6c0e212fc51f6da226f89f246b468bc419155a76f88dab5e32792faf2110dfe171519dbaf4dcd6d3af9f13cd0775c96af5bb5e22d67bb0cace5d1a5c220cc76922a25f2ab94a40aa0e65abaaeaff55baaac931788b7158f901bd28abbd9b4fef75534c8e79d5beb72b1340f72e55705c92556eeeaf945f3d85c6ea4f9260b3a162065f8eba5bb6bb5cd67aaa38cb531900f0b65800c1360047a2db5079022190d28921ee9149df34a80e59eee6fe331ead8702e30c7085bb946163759edbe23ea218c5cf909860342acbb344f8f178b7167bf765ce469b4f241c5451ae862b8aa59aa5f4023a30d5b9d00347857eb6a55592d1bc57dc5d30363ad6adff5aed8d17da3e03ff615d6dbdad25dbc586c17fab79cba91a2ca273ecd966ba495b9ee37ec1e51123a7801d48aa30b32db151c71783b10cb4745344dbabbb56d6e2a2e0e9f7100e518cf8fecebc5cb7ecb69507973e429a53e67265afe2f8e525c75320d18734385cff5fe4c8aa3787f838bdd9a4d1e0b31c75f58e6e6f224b13e6cbdb7439895004790e61172b5d12fb4f957b26c29cc501c286dd97589a243382dca99b2f54cb371dd2ff590d53b0c4ca53c703c4b3c266095975d7bb2e683d8c2d2eae66a825992afd22918e43a9b5f462e6d6a74bcfbfe8e9a37307d572384376982d77614fcc298f51c9f26cc08ec0e983d020a7219e63073959c31e7ca08a2872e1b77981830c6f572d583c2c72283a8ed641f949d2a2018c0dfcbc2d9776b592a7760ebced7560c72c96f8282957b75e5a180cb5a0712aefee2debc91793d90d52c276d96d1c1c2be573bdcfdac2590affe9efb0a2c430072fa556104f61fd83755c3e97ab7a255a0068c47805555ab5eb81aedca84ced18a6964f1822964f3977107d7bda3628acd75b5645ae1e0526307272ac47e3e551f35b7712f3c4be1a1faba2685650064457ad31c83ea6cc8e24f13e1573867f8e8d4055c90dd3a3f5bb33d0bedf56b820e0ea997f78427b33053af56d01ce6a505708dcd95236101f34dd67293d4fb0000064553a6ff12160f75a5f1de2ed58ac8479424726394e053472a5269f126011546a5e67780bf133587878e6647e483605544ee356fa5be80fa51585de33c4b5b1ff5ca2fcd7108f99af8061ce945c3fb69405108651fa861a505c92bc9b60a6daa600ee223fdd23a75893708b059801de6c2fcfade0604a13b806a9ceba811ac5024ade85b971826a8b69f5437a8f5ae37dd3a270725692a06e1dc198b30dc346795a6489a290d49fb0403733c9a7cdebab7220fd0a5d1e087fc7f38345701f1a644c45eda525fd5935545608099eb08014c3c5d6d79458f63be43793ae471c0e4f97df36793916c5eea48ac62432e5b613208f7a294a83119893a4308063ca8973a2f80bfc1df5b1de1d10e6fba072c57ec4c5832c8aa463a51e137a85504060de26f80174bf7fc2b24f91d4a826903fcaf110e709b4282d7126a0e6cde82839782ea69906f69695a2cab569d46d642f752aa599364a174f22971d164f79dfecdad82a6a0b30a4a244e6b5ff0ac3cb032bae1ab1d7ba55b5b101d23258cc3c96bdb802f86821189801d7ccbabd0507f18b596e7c0f32297154d1a2926d735c070a92b9c445bddec9a9da327c6cf35380e113508c1e01af9a899fca62469fef6c3e147d546e333f8e470e6c5366515bff15c2bd983828462863c6b01a8d435c33a9fc9ae0302258009afb63d478a72c8d6eb390aa92548a1147db476e336fb2c326fa273e0a281464c16f6a02694264b7ee6fbd12dd6395a01cf72e52790e33e5630c874cb481b3206c6ca6066507ce76a3cce17b2481c3649a784b428a9eef790ef59e9f498065b76752209d37660eb1f21b4dc788580d772e6fde1258cd9eb1ad38a4f657ef485227be8e3da335855a4df9d56d73479d9216586d6c9874375dbe99036983e065cee8a9310b0b2e15d940356897c69c6ad66230f316500948cfd79b02ae7c681aedaa2576057559d27d0dfef3ccb5f3f1b513f01b74b1803e8e6761f8d455cdec08734b7edaa85f1a35f83da395a073a652d1fb2477b140c38f970527f28175913ea5b5bbe7ce15553b2b4b5173ebee66a17255dd4cae8943dbc04a6b360fbe5f352abdcb77e1e6a5887f263cabf52b761e186ff2cc63baa073f25528e8349f9187f05611fec72786d608347042e2b2e08ae214833af2e7c639f59e175a29c2d1536b6c791ecfe4da276f6e489d3d05bac1aa46836a6d07e1e7c17f969f14f017017433119d13ed9059d2d2e6097d7774da2cd138aaccae70df5b3e3d870d17976726d8254156a0588e46656fa1c8855f8653bb912c6cde5c107d4cbdb14cf1ad04c592982ac98cbee1a0605cf6d17a8b75c0c984581dc2ebb05bf64736391cafc3ea534e05935ed9e33ba73d5a93a3fccc629fc3fa454aa40eba911b8cddd71d4c0cbb66a8da25a7c02c7e3be58f46c87ca3b9ae191f1bd393d5ba47888a21aa885399a580307401335c913b6e6f1df33ccf98de4782f65af7eb14924c9f38797f8a11d6980d366c10c5eac325fc9681fb6515ef6da60efbc013034687bf1047aa1cb3dc8fbf675372a505df6528430ecf4ece6eb4eca2655eee6d08817ac974e0fa7eaef6261d9932a49e120f339102e9ed91abdf4d72717b935c10525fbcf4e3c01a34c3a11ffa5dc0a96bb928e57c8945ecea56ecfcdab091d1e2ef8f90c8cf18002e5289b7f01614a0d400b7f760dfd5830b46b4638afce1d683dc3833e94e4d26bee30ad05e88df8d3e7c3194b5bc26a87fd5aabfaa75320a5dd69b90f957c4d5785ee73d2a6a62d4d431360d6bbb6b5ca9d006e63b12c794af67b58dd7cd8d11091bf44a6df639df3c300eccddee9a973842b1c2c5ace31f5f5f0d6a4efe620b0aed17b7f4649894a6c4ba64b9e52ffd9f70972afa6df646dc6f71a3d718abc6c30148accbc816c2b749879e1479c0dbe2d965c9fd4813eff2d0ec40010db4bda591f712279c2abe066bf841e711d5acd8345d88f841fe2953536facf0d45976384adc8026d506c36bb42555f125ca4b5a095a3c77b7267866389c4d5635dfc6eed28330f7718c8211d086a4a03c05ccdf504f4e39fd0041196e98885288310d718df2c14ead273d2734c480c184c0894be6c5ccc43620bffb4dba823074a8fa1e083d2f0001d80eecfd4ac83862860976eff5910f21a17826ab8491ed2f1e6561d3449320e6008090cb0897ff6f2bb22fe1e42e4cd1ab8221573c792a745d4204acb4871e83b58ef56faaae343a7c9bd98768f0a3ba4ba731966d68588e5e485335f7e26aa49c805fddcdabbd1c98d46eb61bae645297cf497aec9372b704260119cb301b5da7c850c2402245cab7c4c565f1e339ac0f95e6888f1cfc05038fc3c0da3a0df2ba2564f5d2d7305aa216f8f53fcdf659dcde82aaa01ee99e760624780602ebfe3f75c8f2f203f38e6d675c926517f7e361a2bf8eb88d5195cfef0d6ae8020d791985419fa568922aabc1f914b6a363e95dfa8dd5a814ceadd28e0c22216072d94e8c56f05db296d01076b66896e2958c5c73268a2628f4c3252e48df052995ad6f11b203ef77f5df9b67a81302e197b83edb17b5f32b5d0c5ce4e47222d5743cc11e54475fc8832d8e116f6be3d29ae0f2352d095a1201ebccad32a5600f608e1b0f372b4073ae67b993fef45407d0eb7ed730ea0225e4bf89cc1ce191f64bfd31c9f63c27ef44a957ddd5e7a5c0b5b172c758d17a9079ef791be6048b4dbb3219814f2a0ad109936ad0fcd9dab7bd502b39fd9546a056e556875d9f6a7f3dd028055d10925e754c3f40037401abd4fd7a8242aa62dc342d778131ecb796e59d0210e8f1e432c08e514d884c2c6feb792c0ec74cd5c14cf994d362d616efc63daff8d9edc77ba7febe2b3ac799628af11525662dbb928adf624f4699c2a0c3915a39454734a20757668425d5877cbbca8993b22a99f8516365e72a35aa970e32169fd387cecf5fde876b75653047ea0a91741e84349b7e3d42e977388246d2e3f9ef3a149760afec67e51bd390695d9dcb5b4111621830815f07a77d9143b74a88e141bbc4e5a73f58affeaa771fefa29ccf01ba85ba7443b477ad25c657d2f84672235b0a626c02c91aff2cb4a8979c62d4abcc5b34818f289d01bb2d43d70ddead3661f7467d72ee9f8c68ded4408eeb2595519f82efd622d0aaee9bfbb5045c6f6951d67982f2d26db5e32fa7d0251d01ef9b783450a3230e6963e141d623c5281685a53acca53e6352f53c9ddf877c75ec6c42dac9a9b57933f7c13ba77c41f92ffca78f0e58c593492d37ecd5bf8608b01d640db6e67bb2f7457210a4d2e93a8a54abce24376b3a003a81791ee469abf925a0ffd1f609d32f9dd650bf2ca1c9da000f383e304ce6dcdb27cd67052c863a6c7be0016af191777d4cf6ae40f235819691d39750049e9d819f8ee32694b9992ae4200b600d339eaf41d92b6a79de8e33acaeaffa8591416e55e549c0bb37af6b231cb08d0b75e0db10496ec971198f8fc05f96f04016cf96edfeac5c217952d7179714f8ef984356c0a211a34bfea729521d09d268f778734b01491f2121a01f51aa327c064dc74941f80699ec2b7369b82de9d00aab2fd1380c802ad73d500b8fe126d21cd12f431dd12b2abd3c41cc0913c4ab9b963abe66f0cc57a67cc8a6d678fa2a1911b0c7b990fed027c643c0d939893029578e5645aa3f54232276298d7d48be5e9ef7e9f3fc04e7b83f0f4c88d00e33c832e0100d876425332e860503590b50fd4f6bbe67c5e961172bc20fc2f017ca74585fcab5b6fa473949947532225aed990fc8670ee56fccd6ea757ba2a76f1464ae89ec5a5e198c5e5eb6fac5cc0633316b0f86c807592631bc3967d21a3f042333c2cc3d41266a2de0373b527b0f5532e902a5a4b7a75d122b23ab7037078359474ed9281c1331cb07f6a0d5cb72151a40323e114f0ee5762ca0c3b2ef1c392d38ef117a2548d9aa09bd6c63528b0c0ac33acef048bfdd3a9bc53f55589d0ca609c1e715fbac5528f0fd812477b62c13dc6246d12679976ee8581a154c23185caaa484cfc5e5339f03cdab95f2a8182548532fc42526d2901d66dfb6376cd42d15f95b1b2054f9f9f6fb4a3d8b1178e81a748c5492a0511c7558b1c68b1722bd966a145850ba5c88bcab59cb04ce3d28a5dd06a681d3b988d01131e78c40c314a04d206dd031c6c9c6e49bebaf519d82c029b2bc9615fed3bb449fd411739b0ed6b16d9453c3a4aabadc892985c29d808abc0d962d3b014b54686b76485d0d806d03e59f64d60e0cc8b6ba2d551fba86cf8343242e3c6dcd7bf0c79185b05e1d6b2f69010b45498a474cf83b9d379f2d22ad2fc5b12ff6cdb308d4c68be0b7aa9e80cdf36dcd474813dac5023a6f41e0c458ce90bb17b2f0a8fc031a8705b2e58b6d4373caee109b8ec2bd5fe57483fef8fd556651d947c16b80add7782cad04f558095a7aefcf4508e704308cbae1b276f2b3f8eee223dd9215ee82f1c8d16107275c0394198ef9b31c30902abb77653625e9f82b62cfbf1aa9917f4b7e8be8024d614f9d0b30968585d175f4651ac6e6fc3570c3c7e6bb3d4261588dc11f1dce1c06dd2577512ea4cb7938125dba797a089bdbf3a39ade80ed7d839ba2c702b0039c7e3ffd42dab61fee3b43d6e83ae1854de70aa5053040279383fb18bb89e52c78143553c25c2a2893bf71b2bf178172557fd8876e16d4e108c457e780ff29d5c45fa7e15da40899a2326fc0afb2c23be8688840b883439b98d956a0f8d450c2b9a6efe33004c334c3351833bc7f1747cfb19fc1944536854f53ff2a4d51f06ff3de9786334cd6131e2a37a7ba0d0b069571b3b011e936f82134bb689a5da24b27579417060a6d8b25144128fb1a77631ff4e9c79eb9563707cfc67881cb8f200d5af9dbecebf8bc487cc88bd5f28846bf47ad180d601ccad247cf7e42fc3828e7e5b32fed5d8a474551e0e487623fe6583e05363759417726ba54b2878949f5ddb0f195563bba77277c0c51a2647a10532cc9be69ffdf1dd4be4394351827c3bb197f837bcc0a1011ef5491dbc9f48b6b2ef9f6b49c328aa3538177110e4d6f94718448ab07d1bcaec0e53fa44cfa49d76956c960c430842cd89a28b3b38e2320065e166fe23e1242cab76bb006b65d6e981d55d9f10120cc87051769865cf9f961e4074ef3e568b15049583777b0e2e46a0ef7cf6777e0a72d62c69f013baa15939905f1bb42243a9421e5333c6f9993fddb2bf77d4e205d0aebb5492edfdf5dbbacd160899864c34dfbdb0f3397517690de37c9ed3ff3b39d8890ee1aa1a040fff67c49e22578584b7aeeaa5e3522388f22ab37544c12db1cbff7f4ee6686382278ccd964dbda6eac704f21499649f41bdbec650fffdaf13c97d0613c57fd0dd4ccd825fce732dd6effcc4bab2426af8abb04e708796cfebf9832c69642baf592be3a89ad9df5d808272e1e07dd0c51b93b12c5b55841de67e9eba84159e6af5ed039930023726ddf1c4660b21b0171c8bc3257bbaf9247b48cdbe01dc5c92c778c8cb421af92be657182b241069c5444a51450c07e0381e519835090180205f0e698de7c0c45dbf55f7d9cc00c86d0dc5a2d09ecfee5c8c1ef996318cb00164ace91e6ace147ba6b7502a2df0b3d4c3c90926a54381326af910873c8191a2d0fcfe0f7baadee56d335fc9652664a6f0ab0c0e056be45d401bc0181b8eb8381e6ed76881ec79a694419d5edb60c1c064a17bc965b7a9d55f4e75fdf02bc185d61cfb68a14ad604d1f4f4aa331fbd822919f3d499757fb25f2cb08d807426b2e43a13b1f5ee62916a65d6301da04ed837928eb0c1fab5b5550e99d6df265d63edae2fbe7b0eebd8c87d414a2e485dcd3d51e2140359cece0564dfa9d458db184cd94b5839b6de33af0c2e8c8ff29799bb75f75bc8da56a16c082b97d0de78eb63bfa814935aaa7eb54deb964345aaa1b3f9aaff56cabdd7494751abdb2323cc02b4087fda41292cfa6579d608ab694236f7109ec0166366f1876b2421f6bc01fd9afdaad81497ad6445812987daa18c6d302757b498e7f3e630d27bc79159aace9f81d9a994b8186e83b162258ce7b515041deb0cc82d46e392acae4349f312c96d911f852bd521aedd6af2ed3f3c421104c11f1c3ad0589173e9a96762fe53654a58355042fe33930ac46bb0187905d62e47d5346b893ec69278b4b294cf700a57671f0e3f1d6e3f4843ac6242e0977e2c924bd4a22a07d2ae3a7843bdd7743ec0f2af86384f76a22436035e582434ec79cbacfec992082a18eb76914fd7f02f116eb04dd49550593b25aaaceebdb5a0066f89967e0eedd088ec242b828142f366a4f3cf4ae63092d0d8db9b0c328d91851ae43f62e9946dab46d8d7d9f74680134f4888c373d49a6638aefc306c662c47f618a41c350867ae003abb3cdccd38c3d700ad036201f8b2af6ac49fc35b4cf631cdb338928cec1ea153eb7ac6af8f3ff3cb306d87589305ada455e8582770edf9eff73e357341e7e4867ca093515e66dcce0fef668a3c9ae55f85e33145dd8dfb5847f3ada858d6e468da204a76d325514efad3901f68a8c9798244010b95695b8aa32660c1157b64f0935e29966beb137c5c7fa83c27cb1da8a215c5d7498b6ad06a68ae8d80cc315a67842ccf69968bd9d0185a72adcc66fd554ee4012a4ff6953d15a071398c5bddab42c58f585aa8f48e1a1d0f499662ab7ea7d32984a05d59c7d7af8795ae13d9099f40d4a5baa412c244f2ec14c57b2a8ab83af687c4587da5b3e9763f4e470b9413611101454d4c734d1bdf70c97ca98034e4bde60b4293e30178c98da16de5883033619603597f49e686271888645f7eb618a0e19573be099d5689a8a451e1aba8f93b5561893a805e0e32c62fbb36b869c21540214b10f1c284c3c2d065fb4a42d916aa91feeb8a38b5332616ca5e4863c0c3a157ed73b6a9d85a0777832ee323c9ab265e4b6eab09f895deee68b4df1464f436f7937c0f492004f30187456a1d3dbd28ba261c786e12c0b909e99054c61531ada2c4f82eba4584e21fca3ee32452ba10e1719c403dd93dfd1c4b7058e8089510e767b4a23050265e462c5392e2aa60c4aaac9c3f338f68c106a1","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
