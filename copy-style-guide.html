<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4422a2aa1206d5de53150545e1fe8c956f32600efc0697e5d51cdf66d27d3f5c80b7cbbec0f6d91c641667ada47ac54311277a35ada3fa62e1c79f22cca117d7e9d9a278852dbcfc0b2b994765bc16de3942320ac918ee4462895d01a28f315cb269380e8a41eddb4dc2ef6df34e4f8d2b08c306496ef88a0101c0233e093dd41a5ba712695d0615d5a7fa636759a4621796bdee6587922e0752b07ea14088938f305d26a05b84b70fe8306710c1123309c4fa11fbff665b80a27cff7faee4e32486ddc0e4463c1fd1932ecf9ddd962f1829c1fcafa7169aa180b5baf7c01456da1138a2554a3af5653edb3b7ca18670d600fcb8686384be38842ed5ea321070f917747a66770242aaeb10a6abf3ef13add67be26db0b36ecabc9a435970da669d0b87c546cd1927ca94f500da89e5abea3f5ffa8a09489c569cb42f75228d35f556f158c1688cc382f11e1d3f0b416ca6eb98851a0f2430c587b0607bc52454e2f6b96213fdddd6d24ace6bfef167b29395cc1f71f23a50aee05884d3e5636ace9485188dfd1b49f033b9bccd7aa2a4f6cba3caaa80d4c45d1dc59fb9845841e440c188040b531ae249dd3f239b5f09b4babc621a22623210ea187713c666f323ef6312f168913826c58b10a4bd67465d8c12426c9a0d74274d4aeae0477b05286b3bc5a8236753dcb2488d013db600f3a5386914771654998669e52f9abe3a29f5a16f32abe34be2b9fc2a517faf7af8cb70a1b092c91edae4d0633d9a7150bc42e85ea3b74292aa40ffca263e8b3baa297fc12a6ebe1f2cc13e9bf1f1bb8d1120f993e341ded8a2e06f8803c3dbd5a2eaa97fc6a6cdc57efb98242519695c9136baf04b4892e154c988aa983411ae9ca652cd6291cff1a63a329b8f4d531d92a89ad23922cf98a3c421507ee7198f4109a893d7eded1e887a122e08044715e08c74c45d5d50c659febc7e1b3b511e40f828ccfaa524b5422ff0944f558d618c0af8477fc475bfbf732b66e1ab2d9cd91c7890b124bda065139799a3784f9d14aeb560d0733a1bfc576b35ff467437969743d4f34c9129ce8419d1b8dc4f856d58f935e18a6662c4f721c1873fea59646fbf35ab157f0373315431bbc97d724752fbf3e162ad344b9a3526259cff111e56f7c05b18802729b2010c2e725fa07c43a4e76da5a6ad926e616f4d3e924828906fdd4d67598794514df4b2bc5694efc5d6b6d61522a08baba99df23fa2a03a8010da746312c4587742c6c19f38f0be623365213c08cea8397cdf61d0cb0226e0b2f8e8d6daf649a049fa209118fbdaee968b3396bce079ff1a46bf4b4c82064fd45b2dd34c5e774d6cf2106063d7b0ff11052786124b58732f27b6843268583cf56b61a244605d591b84e374f09f917fbad06b49d290ae776ea7dc5b919f16adcfa64aec996ebeee6feb79384588897db328ddcbdfed8fa22933dae9c827e3dd9e3426d8244f6f1eb4e99f3a0e28ad93aa0bb106b32f22afd0e56cf7f66694fccce5e50eeceb3e25ba6a282497b35fea9f336fcc6a8e59e7ab569c0ccc9d39f5202177cc46bd3b6e9d31a9bb384051409201ab1960153c631a1a003a76a19ef71b60fe2c40a2a8ed05a30046d4dcc0cd9245afc8b346c12dacfc266e58c3f280b3a837bcd01bb0b35893190330f21f9ac598f93fe85498d0f54eae2d4a3dc00abafc0639d360b38f594975eb216c297b663943f87455f3785bc75b32881b050446c0d436977936e75b12f892bfa744a1cab500797b80f50a7febd6514249ed061df5312586e7918e795eeae7bd9ff2d99bfa253f27c78215a434b11b98fc25a92197fb71c7e6c7fb418fbdb5cd930d92b1b0b905a510e005a09133d9b7ce23fcdb7f308e283cb537c42830335db0ac644b1086f8bd94d6291fc686bcf4b7e4a8b79b29457ca46252c397f62bf4f41641641f2b828dda85ab8191004dc0aec8b38b8118de9c0b935c1c84831bb21265ca6e6333444f517b0ae635e50d5589dc58509a58b2043e0c13fb0abfe1dd555620e5d176a834868deda0d19e54e35e1c2985fd4bc3e10693ae5279d482eb5bd25cfc30c5559038ea70f8218318e0ea0b278be5755dd40138275b6fba8224473a7a437477ae0a0e4a56c2e801860e22f462c9019551b6cd2b4d87fa3bfbdc4dd57ca332a58aa7f4dbf238713fbe4274c193c46edac6fd646e39b060ab6cceed89b7bf40e2e4ca41dd70c319e86115f96896b202363e385700460e75d6d1a9636b3970357a63623cae0add616b6fd9dc136d9282f3b41313f7566121c26a3b16ee3ba20cff3e2b099610f163aa4526fc59e1fcacfe26b4cde61791df5ee9c3e6cfc363e13f48718ae48d3e87bd664eacd70306ba03566d9f57825a3e5bd6361c1b428afdd4dd57246b45831721bfe83957af635bfbf82eee53ac40a5bbbfe5b069e8e3b4c63a640b93be81fd3b13874a58e3945022e624e7e641bb439a814210e81f16615e0c0fa3af9456fade847448b1d6ad47fd3c916f290a2c69cb3d711799d49fa83d9e6f07c24e6f287eb144b9ae0841c9fe3f4ed374c39d76da268dac0557ef608364153257c70f58cd4fd2e39d17ba01f51fe521e34500741fcf5af9c38250575023872a15cb1f7f08e5e6968172ccb9cb3ea1ddef335fdfe9c860880a5daa3fd2cc4805fb141a0326bc81e314af7557a9c11d6dde08b308832b2f1c6661b606cfe7c54c047630be2975a092fc7d298f4411e8456195424fd60e9566855a46901c99c34c6aa2c1ef8ae7b1f45317d4cb61f88d9af542922f15b8f3c73a88192a2e8bc5a359259a93aee83958f3c1ad400626b0f8617b377fd3187c730d5a7e10e3a0f77b55123ef9419b4e498b9f570db2703a0198eabf07a94150ba917c910147ae07fc3aded22f089450810e05a1a8a184aa2bbb941a99b019824084a5588240313f13313afd8453c40e763b999b8a87ca5f02baa7f7e8e68ed9af867d81e6a1fec3a8181f2372ecae1d7928b7a6244e9e5770287c45179c4f7e6af609fb8f3aa266eb67f1382bbcadb99e2d89e09924456bf1903661e7d02f53162ddab0b06025026fb454fc718b93e50b4e728e53b3e05eded8f0a64cdf860695e18e2100993920bd635cb486d58a0a644c82250b998bba58e91516fb92a4012ae1df9952ba3c116ba1c996df19ba8248254d80a5153cb71de15a534e9797a8e6f708e3e847e8347bcff2d5f81e73a80dc44ad005e395782d9d95bd08a3f0b37dc958ae1984922f0aeb6c062d9348fa4607133c4cb42e430f43f924bda64382ad57567ad89180e606577b9ff5da516ede0012981f3ddc5522ea6affa143cd0db00e06f95242430e8d867afc00933e87ec878f3bb3fa7115e5b53755d81877d540ff21ed8de95ed8992ef67947ae73d0e70ce69db0f5d4785bb9ebee0778f4b783553292473dfd14a4035a1d7a98abec32c4f3b48b922cb4f6de145802cbe0720f7545029c095c7dec8dc6681624e9adfc5c1bd38c1e4792fa2bd147a5f5e1b6d57b09882339c265033c8cbd363015af74e06f25fcdc563f382ef022fb73990b5897100b2b1ea3b8efe7d75066ade354203ec73a2391ca621ddcf564a63a528b00491bd933c2a630fc55136ba5c6bfde5809ea8041fd3e69d228d2d745c19bc372a491612542c5e4898fc0a8e0b3630cc4b66e8dc914b69736f33c91ab7b4fb8453694f486b6f3f732830e5f58e05af0351ef16b8ebe022f915123fbaae3a127ccf5210d8cc405acfe47df8a42737ae0aea7dc9e6f0b757ace5fde85bcf70877f58c35ed1ae496bc59ddda58e15dbe29c3973c0eec3b67f24158026ed04b93a4e33e28bed75911a276b617d5e63a14819cbbf22eb0bc5b13a975aac740fbec673f5e2b2202bef6267edbee7328a42fd077ca04c6879fea997409fd83c4ecefc2198ad727e3dfa08e3ba4a44491658a6e45f48a09204e895f9162e9b8d0d3987c0d25840a756f52d8e0a86e49103ab9f0bcb06ed7456f464ed59ea0397e35e426521424133c05b6c435971296b45bd44727eea4715dd20406841cc5f0e68a6e85da5b7b5b1f6c4f59bb8b8c527a354cdb542d1308ea93dff38958d4cd317cc1b247f4bebe95561f86e286269e2ba5b5839b6bbd1e71b123dd2a5aead928f0880101b9a26804b95aff6fac641570eb6f858a2df28220d99f120876e0f1fae5732f03c4fbbcc7082d19f763a6ae9cfb37dc1e48d8d85577b7f529db9804a740a0d3c62b2b292f7132e13013d192db089dc9215535ea90512c9ba8c0648e4b9fc9968b68cf5c94de3d6f5a960008971e9bef518d821755141cb74dcf0295662f020db49d1a775ace6ed15d6a67e6ee6f7267934fc89c4bdb413175d1d937dcb4282286b687f0f41be0d1c618f6932025f2fba48a320f3af18a8a459142af5b564cbbc0c880c795890b29939c42b6553dce6664c2f5542ee1f49e7ee6c61f0046e1f7d2edc3375bb2cd81e01a94363fae9fefcfa9dab01b2cb188ef399676ab21fb873dfc8e242dca515ccd259aaa5872c416c3cf531caf9b160102f35c00b69da338a86663cf40416966f6e0bbfb863e34e65c1ad852f5774e0ff5eeb4cbe6e648534480ed2fd480c4af2e98bec6a8b3a985a201f0b67d1f6e99d0135a34a728b74166a7acef92c62faf89058f67a5b42f0f1cdf74fb456c5cc1855c333620fd05000efb6c89cc92d1abfb7e8ac0d7dd53832a9b2c083a60220313c6b2abcdea843494c942b25ec48087077e6d91960bfe7add294135c5fbc99ea11c7dbf1686662900f96c75bcd64af6090ecbbc774648611b4b5d422864ab2936baad36797f2ad53612dede60a69a6db882b9ef56fd4fd9184c1b18f3eba9ad35d426f045ae3cef189fb7aff657b8c84be8ac95a76d652156b3be1a2dea0d110cdb5a56cd0bbbb9aaa0d344256a63493f346c7a51cddbbe35b209cb547802a030b45e5ca83bd2ab1ba9f351dc1ad69622c9ecf376a062251918b2a149312eaca930f3ae7ecbedaa22b8b419d186bfec99a8368b12794169b7fb5ed24e6fa34470fee9de7e171c76d1f7c06951c11bc459082eac9cb04d6834a527db960e87ad5027e674d260728c0ad5a465d4695023d3eb017576bd5f97adce17caf655209cc26fa154911319a748a9264e88672598e86d9e9dd9d8ec0cc55fae2cdb04cf26c5bd30f26fbdd3d60f52e70bd2fc610b1f91462ad384cb21895f0a1cef20c408bb8984ae064ddf0059ff4c95e1617ab4a3cbd83fe7307affc1a1baefe5d7685718d39dc2d6612f1b4c6d310a992f462f90af3e6fdb22646707aea5c9235b74b9a2d5cc090e4ec58a78b437f7e6d2dd7aae976c5fb5e372d7d70e827c77c4d50c7da6edf86b122b0b4a85540f47c4715d645c209ede41fda05d9cc56337035b7bda9a46481adc56bf8c0e56ee4df2a4110687fc5196913de61867123233d979ee9e830c81ba726e309e65c878ad44f4043a81be5ef1dbec328640fdccf466641c1ff4d3a96ac92cd28c88fe438bbfd21f956c6fb5cc33e6d2e99c0e9f794f18f79c2b102fa5b7a36aa9c9d42a766861ffedc8f671be3f8d3082ee9c1a38866a888dcd72f370244042c0c2f1f71b53ad1385b4dc6142b081eb9342266e79a13770deefd324633764e1df7f7ed165c24bace93f084788c1f2e75a80b0f7454ae5deb3283c50aad5e0d8aac0ad5f2ccd43a1f754205f5a8652e060b811f19cb61d4d6e57c32b11b352fef180e34d6318a7dcc3161ad1e89f25d7b2a186bb7f9ee14c7bdcd07ac391883ed86d7287d841aa169fbaabba12138cc50f1181b16b184c7f08cd86c5d562eeb0869fa1f08d1692c3fbf56368cad17909e815c33d12e2c5f6cb3f1413edf235942d182af7609a2626ce8e5c2e04f06c0d7104bcbf0b0ef73463d945fe773515ff93285a0689c4124cf5a0d8e7fa4bc10af95c33ec3fc32ebf15aaae7e65c806e2886d7f8d03b396aa05f67a756b951ca112aba73284d3f55bdeb10984de7107b4c8c1ef837a86d59d8980af14d5c731eac938948bfa3f705e05e30f74a6907079f140162399ccbe6084871121b81658248e24dc76215a73161c6ff022812679f587dac87a6eca1d8c6b535b921dd328565c34996b04159c28917d00fde7d539f39716ffcb0c8603b46f275e2fb5556b0efa412338b0b5cf0b59861c025b7cd45242d87b1b7a97e99b1bb09d0344eff22765e5d6ec54d5a689096e19f5d64523c7b7c4bf9fda83c5403099f8689c042f3ec66fb32721b24bf78c0ff98251e49eea2488d61b1c447957b42534ff90644ae22a111fdb18d97e35700ccb7b606d739c51d00cd39fc6ffe17ea7568f196a82939fe20521a4b0bce23ebd5ff26849aa11f8be2fc8a64ad33edb922bb09a1a3f1c0a03ac466183ce29c58a4a314ea07a0cefc78ddf070f19689a7d3a9c73ebc70f0a31e74a783eca2d3bc75f66684981b310ff77e4a87193b85a8b71912216b8d57cf15ffb42f9538d0fef4f9fad834f79400fa8c9f62bbdf7f7ff4a1ab31a8d9a234d86111379f524510f7e2e1cb9f0f432ef829432d42ff465abb1d34e19f4f852a2ae6d9bbcdeddbeb86a80c2340d1888a2dd2cc21a9f8e5ee1749603263218e8bd21a6499fed19da9a70a3bc06aaed54218d28fa170dffbe8cb88bf08aa37d50fc2ef0534a19a513de067acfacb7b7b2ba6504f52f07aa7c7f70f51378a16676335e33fdcba1aa9a6ebe025c5d35ec20b8d55d21454967e52e4b4f5be047ccf4ec4d3a000a0395689fc0f0dfba0c191f41ef2cfbe8a4c82e332eb4481a0fd20c306370231d336109b37afc9bde0f916aa3505987bd2ab8082a9befef020ea7546809b7ea3a98806ab30653e22cc977872e3fafd32189b4a214e0978f3186fcbbf433b5b27fab4612cff1f13e48553053773c56fc6fef2c34f3c9ffd266da95266039bd2deb7443edda518d9b8c514b011c33d0d46b902297d40bbeee29dfa8aa7f5768f7d7b84ca04b05e215d796b46d685041a8d9b0247adc29d71cdb12ae0690c69c8171508c60bbebcf97c83da85799e51384071efd8bece2a811b0f12c734464f9696f865bfe89ca7bfc5cd48c70ac260acfd5ca7cd9efaae220bc6c8a07303e127f9fc712e1c04dcfe7d0ea771fb59118c85395c0a893790171dca2f36906174d6ea3c951a846d547187718d8b1a67ce124ed557ec92d7a10ebe18250fe97594c11981f79e0ad0463923b013b66662d3719e2abab2c30b14e596f0a883b8452c4f4ed23d633ea147c2c939f69f2ff597773bb066800db9118c45aed1a5598003675ef9d3d3c7dc141dbb3b83134e2909f85a14e9368dfe366954a1275858879010711da7929e45f70c1f1ea74d682bfbe4c30c39a3b7272fc7139fa96686f1d0f332d4b41f7a6af178086592b17cd3f7f4a22ff62265a9167b09337b64ba4181b2e21fd5f010ae1b7948dafcd32ca142fa3996d73e37fc4fd35db4a7cb39ca9dbb89013da6930b1f64240a099d2546e3d5881a3acafeb01447b25d3a66aca72c584835d5abb19117817d566c4cc158c5e94ff0bbcafca493568c873b4dfa8d79b0b01efce0e546fe5528f341067de1a46da5f9ce816e02c00e5a94612643f6b4e9630c18ed7fedcd2ee815acef6bc4f1db9f5ce867a8ce3906a981b87f808c380629bed8b7fefbc26e739897fcc8256ba8e5388d4a24691445fbe9f241e34af6b5096e0a6de573b5f41a8625fca58cd1d253a326529d5f7c4a2b4a1263cfe9c347d31c8ab05bfbeaa6d6a1162aa627aeaa7bc3b2d8e3dbc773e752be1e8227b4b382e6ff106420df9a07577dee47f302458dbe0b6539034f8cbbceee45314a41a2fc514ee27000426f08e07518201dda7a12f09d39c55d350d05aa6b1c4a082f36e94f34100c8f321a81c96d2e84d27e8c44140123872891c34ea92f5ea65ca5288e5289bb4c845aff464845f1fdb682f5853e516c15c5cfd259e02239160f203fad9410a0447613496aef332bcc7a25e3da957e612c21725e906f7448c8f03d0ee13ccadc74a87632c1c69e4ad9ab57ff750b843d4730f43da5a6a2369f00e08a3274e0bd6523dc1ddb30e4aff90d89798d71852a5e6222464f5354c9f090b1bc54b409ab46ad9f8b523740b656bccafe7151e1c9be3029e52918ee88bbc742274a0431d5dee2a788d2bc6460f38c293335dae893056e58e7a16fa7cc3318b41d19c127c80672ab67e8fc994f1719577072cd7a0724cef1343632658508355adfbf3f5920666b457bd79cb71781854f55f96bd16f963104ce24fd0400ea198ffc4ae04ad8299f67b40946251bc0dd641d0ef29a38d15b0582f1638d813911bc4e984fac72d289a2ef4a7166911cd7b641851838de5794d3cd3d3a35ef41e74dc28842d1583b34729fe64c8a8905ef4b19114f0886c0d63cc77e0f980646d7f20cc797f721c4120cca1cad39b22172522e603b8888248dfed27d100d845aa0bb83d2b258fa6aff866add50dfaaa192803de58c6d8873356562e5d3594c6106a57cd6eda5181511e1cbc2c332e34eb5348ad7d13c26cfc05835aa9c79abed52435710e60a01bdd711e53b0b4ca6e2da299388e7d9b4cef98debd0309b63405d0d99000a2d123b101fc27e559a74bcba70f5b06645da36beefe167bfe4e672ac3a69ac2b7118848c792da33c8f6df65888c42c2e708dc04af1ffc1a5887d14bd27886db109560a7783596d1311d2665f97136062f748a53614f37a20bc023f5d4f2e2788fce893753970505e8bf77cdd3a6e2dd6ee3a4f86b170cfcd14f7de86133afd9af3c34e7dad9f527c8df5a4a0fa60177cfa1a0aadb71cfe34b76751ffa7721d75fbc0677dd634335fe147b7ca26e706978c9f9e4eeab871cd03a9fb4a0ed4416ea706b1b69357b9f563034a915de6131e46e6610e6c927f1cb7163777dcffe452323a6ab46c767252f1b0489786b4e8c8d204a1d47b3663865d2a6b8cee72df4617f7844fe3059381cb8946d36e29fb2bba268b2ea8a9f0a7c5a1c758ce9fd8160c7aff92ca67b0a3f169ad6dcfd0ae22fb2123ddfc2ae9b46055c700e428cc54dc1500f709d7785a2df81661ddad70608d6023b7991a1d881f52ff1c30432210e6ad857f01516e47b415baa46054dda561cc6dc1997423692b84f7b4dcc966ad86a6dfec898c9361986939290f5884afa592f3587f416beffc898e31e6e12ec80397e762d6bfe271a92b619f17b1086c519accbc77704c49a0c2e522c72dc5f9a6b3694f0bb884d77456778d5b90cc1c47079de0199cbf58dd86283cf5d7d008169162d044b919dd7a62ac73b2f15cdcde9bf94cd0c26d3e9c7063a8000ef7f04fb5d8996ffeb90f759ef545538f228165060cc014e348364cb9bd1c9c67fd797cd71b72e60107036dd22d8c3b30035ee8a23c7687e51ef4b39001a366abb3e6da2ebae98c51407377a9c1b7a3773407aeeca8bad5f89cca6820053fd66b62648d0ad12fa8167ad3b58e47a791726f7fdb84df7c94aa06638c46f7c8188da467654d023b0673dce248efe2c7bd7e9ade2881a62fb6ca7fa09f15cdf21a49f16f81ffc0ea49355d1c4ab4c50889d039ec46cd088050fa3ca3bb2d4d9d11f5db7c1380ab9cdf19edbc47dd573f196b7dfa30531ccf87c9233fae3c0be3e59e46d07721b8cbc4ca5ce9f2f87d30bd7e7821e496e30c2882462a527196684e6222cdc707d61f37c3e85c01e3129bf1f00eb7abb12cc2f8651a0478103041eb5f5e291d22e134789fa488d937a3239a7aabc4da0a82fa22c3b9d8b7edc61918e758b64a4d078d3e6122fcebb704800dc0ebbd0870b1573966bc4ea51180faa2b0c8583efb142a4ed1e022a489dcd0b4ee3a35770094ff499d20f43a7b2c8718d3fd573d1918643c6172d3e347f2c70dbd599884d71eeaa7d22190ace69f0d5d31bf8fe529dd95b4dbe2c72651f5b2a60d031d3d01fed394bd31e2d1e4944787ac192afa8d8c69ce488e2c402a469dee78df583232d89a667903bc27c1dd233e8903f183f47bcbaaaace87e3ba568c4b61c606076d5059debb4c3f9e6daf3e4bd645a6d1d22c2c3ad1d3b304fe619dedb9f21f3330be89245d4ef772d76bab7c8266065af163b2e9bcf18524be86e5c54f2faecb60de6e72208cdb44b98e8130eb921e018a6b2fcaefc95c290e06a742c1008abc2bfb2bc64c7959b844a4152707a8d5dc087ebe9d098b26c5cc71e0249a59357c02462628ca06f89ca137a10216f0fec57c19ee490b69bb5da2b83c65701b293ed81fc186f836ab39c63279b9427e26b11720759666b7f1c7f2ddd88013d8f8675f410308f57e3d756f1923a722d1a773e2ae65dd3205797a2fa02f2ece0b3bcabc452c65cb72307299c1a977512162e866f85e1d911562ed2b8beec34d02006ad731e06541429abcebd413313e57ed80b6a945e4d35b35f99e9f0ba33df4e37f44b895546e0cdd417c6ee17655e4accff000279174b45ff855d616c3210344173d1c7b391a6b7819b25099c95827b99bd4758e4cceb383b51d9a56bf8770da87aede823184aa8945a7a8b0b2a3dcdf74cb6be6164b304938a14cf61659a246abeaa2a492fc7f3149b8cdea514efa05a91cb3e24fef1ff69fbe5d316c926c4aa41281cda049656a1148d219d074a44ff9a12a0d0a664ea97c869dfa33a24975c422ae2cb4248bdf776ae4bddb86bd4811cc56643dc130b8e0366b3b36baab06775258c4aad9701b588416cc477c7b37af24396059decf05c91da2baf5cb0c8f71984fb2215ca39d9b7f6847e9087252423c84a7e67104366650f179fecb584d5c75da1321a9410fb1afd51d2fffe845d56905f322a5e3b6da4706be52a5601a5be331c30da73d7b056637768462d288423df26209839d80b81f57dbb71671e5f20937c8102bf8a9c48d747c36e5265a8e208b08a898aba4a5f84209db82ee81fe5252427726a18f95a820c54fc8247714bc1efed91852ae1dd36d24210744c130880dac87260237ddb02b6847e5c2cc24d4d3063c42ed8aa4a7738de1f22b849cdd480b3d21278806cff4b5cb12a9a621a2ed8fab1bfa3abba7a06da55e89c6214dc6d68b6e89546a3e4432b5f8a0f4bcb8ccf4fc9a9fe702dc65ef31c05bf74df548df7f3fb6980a521cfba661e6dc7fb38b45a77750405088ca2160d0a26a0f127a0529c195f1d655461742ba7d901df820321123e948ace974b7ab66d0678c0b9d66cf756ee9e357b8109b0c588b9e070875f343b2e3fd79a5c5e1f4fc79c1c069a531815386e247dc659a3ae4ff40a7bedc6a41e26b8b74265014411e0e7c210d1c2ad019b1fd24f19db278853f45b52d4ca6e97af2f34a1d11b6e84227ae60b58557399d9a49365769c44aa307edb9f145ce01f41c7d87ffa9cc2b59d66f17577f4d7ea7ecfa46ee87548d835327e64dfb940c32383858676f8e72c79b7adc663fba8c1692bd1c8e5c82f2fae18492b7a557872808e8438e89cf3e630c42028e8b6b7730edb0dd82879e171ef90920d497fa0f696dcc2ceb3109b9db299fa586226b5c1856bb5ea844293e1f12ca6fef2ae48a82a12eb0ca1e04846bc5ccec7bca2de1bdeecfbe1577773499ffa4935e22bfbf310ac2f78679bf049300c0e9a3879b26c42c0d724398b0ca00b0f233d6e399f6e7bd924b9d4e59688e0f9e9d52a6067fe4fb79de4ea7d71995a9036f8372eeecb18d342ead4ac12493a699f8b9a06e4faeefeccd58eb140d31183d58a9ea68aca3b227fa2e614bab73ae0da2119c13ae601485bfcffb122c00df6a0ceb5647dbbda426805f441580d8165dfb4461e727173ee5173700d7a2e45b1f6a871424b31b45af2f4e6de0928dc1784056cdc8e8bc2ed60185649dde8aa8d8e1dfccf16a0cbc29e0c7d8acdd949d430411a0fcb718d07be83bf830259c55209c489e074a65f03ddbbe9c3a4421f8fc57483dfe8a444b8fd61913dab761cad36dfb0deca71d47e4d62a6c6e9ac7a8c7b9c4d3b8ca3d09b02674e2b27c64994151c91ea4f417c43d4c253ea91e964ad219417b58bf912ac48546cb22f30531a88c60146765ff0e25fc51270c3a183c73a62e3b12497738a29f7063f92a4b4d042cc5c03ec7f615e680ac2996e7d261d2608ca0c6a7c5fb48983f5457e24fb3249601c135898551b02bc380235dc9d1a786b2406f9715347b22b0c610b8add91bf9e5f3bfa5c8f2fd4015decd959f7ca5d27c9d4a28d78d3dcd4cccfe1741a5c26cc90b317dd5eeb9cf369f8878bf0a12d1fec3fc3dd8726ca105125ba4f4c32cba2ee5d641ebeda970a8bab8c2378b897ff76bb502837dc72dccd78c27723b913a347bc93187a2cc42d594efceec0c18429b29c93239630042f198141b3bda73cfd85b04e6d1f2c42ec8fb29109b4415b7a6e325b269ec14dc74288e0bcacd40a991666cdfa6f178978a0736c9f848e4411976498aad3050d6c9fdbba49a8591cdda7e9ff5abb62be8e73a3d7d1f0fd1d80a4e224b30a11a6211a8f3875c57c25382b0923d8d3d0a81ef41ecbdf30470c4c252d0106003bce5fcc65fc63577f8aab0731bcc12288282b11f5da56dd25985f0943c26e2b97e854e8baa7b2635e091075d801aa198052c8721f1836da39aecda5d249170e325325b9e914a6b52a14f4eb82fc712aa13bac5e325fa8560748e5ac3d15699c4cde01c2347d41fcaeef91e4ffaaedcb87f3b95bc6dd30424432fd85486a664733bc97abc6a3f7bd6ed20a5a52e1e9cab35bbeb6feb321780f4a1f93951fc084326966562f5a7e9583fa97280e05d69e8e8ef680939e1070d19da45c2c14feb771f67a26584b0c2d193aa5c650db21583eba703f5f147925517536bd1f1c86a8c39abbc3b516c55015f08b3581811230c42699c75c0cff646055107c39ec624b4758ec11425b318415ef8c2ebef9e80ffa4eaefb9eb047bdf1cd85c53f97eafda225486850024aace583ac8a6a1f7c1d2c07b088e4dcb3c1029d7da7bba2e3ee026374ae24226f60f481de2c46a08bd9b450604721822da643f9817a0ad14139ea2060b3ba8e2c441e495fada0eccb295205c3499000e16b8b651af3bfdf949b4009bd04aea5a32416cf62bafb353c214fcb4fab1f12d5d8848e6f6cce2f0a5072d90454453088f23410c35e6535a1698a17892ff2520e27f460cccb289a88f8335d3f60d1903270345aa17815f6c086af523c4e4aefb31e7f6a21c40041713619cdf478892a7be23e1b7bb47f9283780e00259f09336f414389d8316fe1e698e35eabdad904ff0aa296d3e0149a8e50d8e00117abc919cfe18900852bb35a6432a46f3d562bb8f711cd648047c82a27377b196cdcdd9b70a347a23827e64bf85c6924dc626c8a01a86f18d8ebf4850b60d93068a06bdd30e664151ef5402e87f86e508b0f93ec4bea07cfeca2eecdae681b483560cb70699bf0c242ea9903312030cf02f2e6469c5ee756dd03112cf81d29d2d95b4803efe058677bcd4e6497318b17bfe13470b4228a01efd99189cb90d30a7ce5fe0e29d1f4afdd9863c1fa0bbb0e9c4e3e98bbb24e99538724deac5f20bdec4fd62cec0d5bcfd9523de2409cf0bf7890d875185bf6f5edbf1ee07aea51241a2344b306227f3f19574124cd44a8d177e201ea2f8b70457caf7fde567815a2c79dbfc3199d41e30f3712523fe0680d681ea200d9ca5169510406a584a2a82dc6d9ecbfaf98296a94b7893b63cd1a339d9fcfaa17210a31f185910b96de5b9f39a9fc4d7b4c459893f3b3708163d79f25f100b157f117856e4267e2551a59d7e5579afae5617b0e93c4bca66728540486cfe353c2aafac7ce5557b0d327c1aad5d61220fe59ce98175e71936b8fac241f1bbe3dcf53fae7e07031e744699259c9ccc7382db359629f40e307becca9639d7924211370b6c7f0ab021322bc06fed6def691e3fcf2a877d7533b8e19d08711f8f922921e321c0d4c1aed5b80a42bfe5472be85408f082080098c1e8d0de1a650ad13f98540b189b046700fa8c0a771bd8ac5d2beee723914ecbf88e53db316082d292bd7e2b8098c7e4fdadb58f8970aa91fd19d4a022d15546fd428cb5bdd3341356fabc7b4dcfdc4f9d71e9fcd4a34cdaf4f8d10b4783854abebf7d93d9fe9e359ab8c711f3172d28d344eadc9b2e5f175e668e1d84810e583c2b5106b6d8eb7e6a0914934752947a984d99a31fe9d2cacc68336425bbdfda22e4ed322a9d028068b84d7c49208d216b3fa20c472acaa4628c8cb1eadb5747223eabe8834b098663da34462b775a23af139f6b45661baec7c09917ec825d317f892165d4ee247d9236162398f272e6e826501aad83e5f650c9c28883fee9945c67f0225588cb0d2fe3136e3f9193b9e693a25ed50e5e506fbffa2dea1f70442205a0daf4a85f610306a83240538422e2ea3fd4b8e6fb4f68fab948aedda79bf8cd9d3771c096e8e96eef82fd83235ad0b52e026113ef9bdecf4d8bf6f4eaf38899cae705d2b96a623df0958291a4ccf5c8133b72af5c175a7643816d1dde56279042e62d723ebd590884070144bd51cd27894b5c4408cc50a5b8346960b6ac2b6e29c5047c83e300d36972bc0391b8419530d4e1ad2f8aa1e38d69f749af1dba79c62276244d94d56a41a57e46902cb798350369b7078275ea85523c8bbc0a73937c2abd3664d506b96fbc16e32be60aed9f8ad3dd460bb9878cfeeaf632f4d43ee53e9f15a8a3fd514c747460ae51a68f0ec0ba4fa006f2059fc0f39457abe351653b573a3f39930d761a4da797365fa9e008abc6b5501df5c0bcd80bfa5d7ca9b5c11148e5c3b3a4b291fc161dba0c992f643c4669f8eda21896aed835a368ad6c22ad307cb48207068d53f73d84aa06ea88554b03a33c9af596bb32a38cbf75769201f3fb6d2cc0601c112ae1abe69c8814b268fa9db9a8a9333dbd74fddd6325287565b728ab9c9d712f369f07701165271d5c8f1f37d8569780fbf0f8890e0356f43ff097f6f89861f4eabed7b104b6218b6d4362e0b209585f54b765c095636a89db4eb3fe393efeb247879a81090afcce8fd9aa06f390558623d1948a607ea163498ab80b358b0547a2d7782a35044df12b3e028d8198f405e529cea1219e4432541b334dac0687af64cd769ccb4e8a64e987b348e7a9adbb72985ca4fe7abf54d9adce439f7338547e45fb1275e13ba3ee7da23abb15b56a3b80d480c2542d825107ce1a9f054587e04fb15f095bb6894486946ba8d208deff06f7f65f27756bb884a7be6116c2684f491eb8b973b9dbfcbf99d9b6e4f57cd18848c35567ae29564999cd35f918637effe4175d53738aede3a40c95faa1e42c66bfddfde60b4d8b9920edbf3bdc4da380aaae30bbdab421c03b42b23636019f282fdc5c9d3a9a9f6e17653c6fe14b3372c44e72f105a0dd4d7e8c25dadf43d4f7e31e6d1dce1a9eb3b2f6c134d43e028cae488de1b5bc5ef3aa70d1ee06f9645edd70e00c0a2ee9e5ed303c9ac43c7d2e722b68262517c22a33664ba7a60c496149296f702ad93e0b1111865bca8316159895a4e0e58baffd7aec02faeba6aad820c319ee45f53e7877f081a03e09de051c963ea3df9d405cee29d226eb6bfca568a3a63ca935bebcec4bf90fc88e0c1162a04fff2e4cba9e8f9951929464660edf716a26bf2e0e8a584d29c135e777c351d353ea4b9dda23ac69818ee0044351e4ce0c3163ac85987a23530cef54ba10e6d4f45b82d2d3e00f1b193afa7ea75848209c9e661be4a69dd4a938e67444d7dbc1caf3679393bba6247f920490cce451215bd144fc31690a94cfdbbcfdad728dae260c5a0cdc45ce3d637446d6bf29e60117d94c309532a2305c9374f394cada7b7ace0836807330c0b32b22455507f4aefb220e8ffd9085d993d46ce8c2a24286c7aa5e0fe8639bc018e5c0edd22dbc11a7242b233eb011aeeb69feba0eb9ff60a27b0a45bda86b9b712384ba3a91ebb3d0ecdc0bfc8ccaf72b5f708914c82fa5f4fb96612ac57ccf0588c56832e9dd033b54d9e65035c5e2f5e2df8b1399f4a4f03b069f6c3f3ba5e88bb32dfbdf97ca02242163c0bfebfc9fa0d014958ff8f6bcc0dbd50f7914eaf4053f39c612d327db81e68d131516419d3ccc56e31c9b19bfdb4f29ed9350c435004f487cd531649205537dd372bfa85856b206e6576b271ba42259b864fd8952271c35f82f92c8756661ec4b1fab0e9e675732eff685501f1d2582eecb79e0198d607f6228bf27a69b44777b13a8d441cb741104ea6fe03b2038992887d53b13b5c753ba6a253684096ce87729a5e6d7ce3360731e4e423998b545dd15b171459ba9b7009a954f6f47a3a2d0dce7331f0639514955508ebd8e7dcd1db0cad574834aa53b0e99f14298283a8f9348b7c3323be2a75bcd80e9174947e4c90fbeeaf4b0917b91fa27d7cb47e9ce735231b992d34fa4f5c12a3bf6ac68a70f509d2fbcc0c2b02b05c8d77ae7f3c3f2373fb751ad9abf3eed6f8b9921fdf8ee49dc3d81e3214512a0930fdd9ce331fdf65a55ad4d5d761c4a73a4855d23199ebdf88c5e404f51cbaa4d643796282f87a149c1bf4d6b5814b678774fcda629909a6ea973610bfc81574c241bb4ffb32edb71a937434aba91afb52cd94f038df809759f986d70249fb1a3b921d6501dca3f94fd6a1a18207118d11f3d1673f774f28e3b9d0b1d24990b2851110f4af7c2bd942b8ba217b1db004c35c5dd5e6f4e708eb9c612087f6ae63d9255cd9ba4cb817fc5aceabae09e3b35b3ea6bb12aa79faca3ce2daf6a45ae136240b8f8670a7dfae39afe3c2dec4286d485cc6d6425d11ffee5e59d0355ff71276cc28bd1a9338d4f0e79e3739904db6308d0ca549df804325d1e2516706fa76e3ba6dca651d3bf8d12bde41ea968f7282217825b61843ff09334ab43c843f7d3c9cb012cc3b748218092928e215080288a2948eb81fc88bdf94b6f86fd58f3277494e779fe04c5539c5dfc7af6e9aac8842e0173094a2f870ce7bfb8863eece56088f7f6e97f99e25157e2a0f3603c83b88220c71edb12e099081d3f610083017f950520eff075f0fd5f3b3a088f33c1b86e4fa834e320e8af8dee126532f07bbef61b138288a90cc10bd9b2e6c69c7fd679f41966833d2256e4b9f0d31b4388279bcbd10a3d94cdd3f7dacf7abd8b212138de4e068e535f5b8882a9cc61e46c5566b8dcadc27f38bd6452aa7304de9620075d66dd221fdca8f85ed2062b0d6f401b379468fe44ff5cfeed483634b1091ceb6c83e2bdb480d0424607e737e8fa43acdd57b2a2f3247e2c59be005871ba781f2d55eb447868fcad4ef3dff389fd86e48c0639e24396eab2f917647f28bdd7e8bfb3b265711337e885ec9b802908f065a2697a82f76824016ea7193fbbc722b0933ed6d708eddec24184d0a1130b83780b337be63333fd3eb04c9a659d15e679efb8a6043f9ddfbce27e143748cc4e22f7d89d5fd750194bca964f451df1651fe552321ea52ad06743982b370ba711a4409095f1b2dbd45b6f52725d34c29576f632b3022d038033fef98e179eb9dd9748ab92a8eb6c9a6b7b126d1276acac5721b3312095bf7c7388843c4d1b10be70a587430d3183ed509b422fd1bdecd051f8e730d6ccffd6ed4ee5db3974611168d52edb0b74d677cd840993ae59743ebcefb8fb1b58947be0d00c2605db82f1ec38e566b21f50d8eb60e01f38f34b077b755861c7ab9595c16935ceca3976a64881fe4865fdc59f92083e9e9bc14d4c4da140d11af1fdf7d9255c7a4fdad533eba7c43b09cd4802605187f326f3e853bf26c40cc18643acd59f679fb997aa041d541792f8fd1e598b597393c49c950a4bbe18c5bfe0a7218a44a5009d514b8f170dc11214c1621e07abc4633520c89543bfc7e010cdec286ed9cef1c17441aa1a490353549502b8daa7c06da6bb5369d4649e09ee22b24d544a62d21a100ed2b56a89cbc37bcb46d484b74ad17cc3f242766f5d2175864f16aac453896600202c42817d303e06b8653feddf1035f0c360bc0bd19ee5bb9f0c22155319d01fd660377aa4407fc8584bc8d930a78ded4355843416b56466e76688f02ac1fd52f4366b7fe1c29040f668d9777130a37d11a0c7a87af454a0a66a14a68c81d3b75f372b2e847b54ad87e773d755cafbe846d7bfc88b9ac3c6793c8927dc4a195f4ae9c744b5977df4c604c24e550394c4b5be4a68f99a4e0a6a4b6f14196cb451f6604364c5b355fcd3e66c632ca6a86fb4250deaf215bb9b76fe7456be36e0f816006477b8a34fb628943085e404e57afde60786710139e78112f72243cd3d8188910d16eb4735d5ad0c10bd120efab61fae935185c26d624164699c27473c7f79b4a7e42baf2df84485247d25b551202232435de60c0c01641fb461f813bf54e90d8e26a310d71539c0bba73ae319729eb0f7859ca480b62250e87335794ad801a2a8372b58fb47cd611dd18738d9c75688bf5ece8119b72ee010fadf66ca0f05e555100ad7da49639a893e4738474840de562d5b5e725a4b64c6b96bc9fd844acf8acb8be42b60c5d969dce958f7f9f066d1488b393c1574537c6092b85f4c4f870ac6dc700ef731ac6f54c4f2ce59415808980bc58049861f85c0d93c84eae8dad591028b55e37aa41a712af2ed4a3e7eb4647a87027873c830addd6322ed7084723fa5e7966acfe3a0739c14cdecc2d32717f5be8b9a2d77b5191621dd1a3e9b1ae66a01727f3b34fe028943dace9cee0d37899ddaf77131e2836746c3aa393208e37e49a344decc95fdd7e39ce8fe733061054fd94a89eaa5d2a75ebc2c905f464f85bf51e480971d3fb8ef422e0f9212822542b86d1468c94b176d792fb2551004d02fec04e83ef76d85e18cd1f141ed3c9a2d9cfdc06af0efd550d657133951ccb2794b2266cdf0fb8eda04fb21fe6e252d527c9f44ecf8c0fb4564ace049984229b55991af3c3cae07093df22b114ad81fcd832f8c48534cb3bd6e1130d9498bb05d40dac20acf5c07fdd57e8d06e5fcba38b6664a92a4d6a6afbd0c79c46e7601ce91d6b0e9ae64b1ff258f601086fc4fa0fcfeb6eeea1a8ede0fdfd3d7a330c57328b8637c63c0b3e5a717a77bdd2b0826029ef82c57c0b2d97995ef977d0c7a82fa7a1228d225204f1d2ef9787048092c46a94d0c78ac16191effce2f3d876b4204acb21781984b338066c8f375b5a115480819d517b60ff18666918876c74b9b7af9d59e5b9d1fb761f4b947289db1465f4ea79c0ce01dc93936cbf9cc80474008ca6ee443e7a4e9858ff10112967dc0c9da421f110a385ae66134145180ec025e76c3485d7b6abcf450e186f291f26efbf1907a6916aa401d9baf0ab1616c7a9f75bc209d5be18cbc7fe0787b70c5ce2e7f650760c89f5056dd62d82d99c70d29c8fa6be6b48a938864600282b365d3896ee6b947151b908a21fd1241c36acff2b327e6375b1b0d3096bceb9bc3461eb2cf782a2f556198be2ffd06f26732dce786579ab6ecb472b475fb723919a51a82cd5c70b37cf58f42dbe048fd6aff820143880afde78f7fcf75c808ac653f0b1bb63efcf969ed11e143cd12e68359fbe905ff60fbfc517a8fc146f6b1917344c32c6c3b8bde61380899e82d2c24bb37fa8f45adbc4fe906d95418214dfb7603d96709dce34988924bb73aa22eae604441e7f9919b201a723feae77e54daa15a8e6790b55e589801dd382ce5622de6e95a741dccf90f7b25d8ec15c93655c78f46dbe224ba639155d6803f3b7ae9956609b63ea0fd960c7a079bbfc88a65c8c5980cba8df794abe3d1e22d35b1ae25f2cb6770b2f7e6daf58d18922950fa246b0b58705dbe87ba7e309af1fb969eaab270ab6caab05c341556e2573c2289709a04f8789a334d1f63efad6ea8fd251b70454cbe23ce3fa9628a23065c4ea26ca562c1791d55767ae23626fdab7ab8cbb707607937613caf3a9315a64c9293c67bcce06a719eef757c57276c8aaa64976ed6d04d922ac877d8d95dacd9f1da084b3bedbdca0a85f9b047185db1373083fac59cd96ad509bdbe5cbc7af4425129ca36b107695f711d4a611379918dd3c764f944ffc79a5688518a44d3b80407052f471b38bff0f9f5cbab16b1827fe9e36134e450ea57f137443a5d9491077725d70f71cc7b7d3aa3b3e89f3d935fff64f214edf885844fb6a900150be3964f126e619a78d133d25109df83ed2a5398d7c99a4b6fc87d08d4ff20caebcbf4dc711748f3ca7ccb59995ea8a057c61afd70ae4374da62df94d9c493830e2fbbfc057683c2ec3d08f04aa57993e79fd1ee1d6007efafa9511a6f608775c8db28c84ced54b5c663f0b048c8b9c557e3862ea7f4b3e9e3dcb44a630082c0f886b4bf26c3af131643d7b5b946855e4695bdfb286cbacdbd8ae8b7fed3f1446ad29a8b3a46e1f5d1b7be6226a10cc62ff2ac9f814aa5bc079de2abd4e2d099861fbb11203494894f8849e52759c9481eb452e3592e402f832f26e8454e54231ed0e8a86c00c9b6beed8db5b4511674234ecefac09c7017d0ba9a10885c53355e9e3e0ef62fe1fa5afa516474b270aea11e6b97412bcad4afa383ef9e48b550e7338885d58ab6fb20658032afbb93febb2054bc11bdc571e27d086889e45c2d41e2dc3800b75c70482852a3879913160321c20eb159193ed42d6026b386861a5b40aeb58b6c56ab88596a4c1295ac5297435d877fdf286b3dc61665bf19d51a5b7a97f3bf34b7c8c53a433ff4dd70a5157f09f7990d8682861a5de2722b13bd04fae82b1ec274d66e2cc4c510ff186da82d4257137c372ad02f6e08673761100678421f93d69b1431ea5a351a608347a752db14bd4a2ee6ddb7495b0c802277398532c1c473217cd9cb372412522439c63cabd854fc687ac8b35037cbbb8c225730c8cc0bd6126222407f3562b38f76dbc99c86c597723261664117ecc0c4dc577e0fe192f0c4155ab2fa9d44495c9ca81aab44c765c21cd741226515ed7b02ae0bbbbe7f3b1dc4d9b5a5b675dd9741187dc3a52ee4f6fdb4d48872549c0a9e91386c5c8bce07684e043d3be1404d3db6a0ab22fb08ea3e71c1b02ea3dcbd5707b1c658cbbd95765e04bddc570ec1ae55c837fe64ebafcc7f8cbf71467c05821b14637bcfb809d76fa4677b67321c7c6e2192e68a239760e8f8bb0b20074629d34353fb58465e9b047c82421de14cf918793af48187f5845620c01e6071fa14e90ebd4f8bd74830ccad55263166c29622bed3290b8fd23c939cd2b810c91792ac13d7a9bca13b1eccaae74d7ff89cd24c7a1b0cef4273ffddd857ffe6f29ee3711d4be59985d2e1d0d5691794b49c6571f2f7a5e1cbfc5fc6847d3219c3919ec20c1ba42e5e3eec336781d7ba871b208af190b7a7890866beb5221688be74b67e9986aec8c316427b64fd05e2aedc40e22a0dbdb718e313e30217149b67e019056a54884f30f14f1122c15e7d0d62c08c81074e26b1dc12c1ab2468d9f35da1cc5c830be10116fac4ff38fcf073754b997de8958e8db9cdfb3c58005eea952cce9c5","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
