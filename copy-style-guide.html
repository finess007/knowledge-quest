<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3f4bcc38b4469e7dcbfabff5ff4cd38ea4353f42abcb1ba867b557aa7736ae3e3c47af7402555b7418f04f310c954d9cb829626359559b99cec0c2b06e24da66e19384b347abce1da53af976394b44c69a3e0fd6a45724fddcdd70c3893f4bae65d7f0d62c903c0e33dca75fa4870c929d14b8d9e4fb92877816ac96ec4c0965a35704953358ccbcfd7a3a3fc315a209b6224d99122ac94e34566304cebc1fe229d8b75350e6aa806fe62b23716ce078bfcf2018e1056e98b305e2c8c989eda23238896c02f7c210e82ab46562033be4c84b2c2b43879d11a9a2e25548f80b5965ebdcef54de3c3c6a58e2330ea45fca146530ca6cf0d7011823308ddb66a120e52b8c0110e9a1bb755b81270836e7a4dd135bb0da277b1a236a2c23fde3fec0443276e10a39905c95cd5f100880b7c177be00c94e767d50ced478a05cbbf3b2244dac47c23d6cc23d57c6a21b84e1357b8bb91094b99ed3013b75601d1a4927b3e3e545b3c3510e137d411b95a2a6b3d83672507e0ef36e1c26dc3e27d39f6b5e8e6619131185e13b58ebc23b90fe048fa88f4e4834059c9532e456bec2c7e966569c5d0cb62f2d125d7a1affedea6e36f4af8d2452aec8873a5c00ad981b933967ce29b8bcd07e66191b393bced6b5257fcc0bbf624391bfa526f9e5e792b3fc91435bdf24e7a1917b4badfa229c28d4e59f9badf6ead8b65cf4121cbbb8c50b824103bec59f1b5432bb2f626fbac5a5007b856cffd718d89956ad6a9231c4039e8e66bc300175d293af651a1f6445182788c88906ffd6a34ada72416f4470c33ef4bb998acaaa73f25b6ede06fd9c17ae7e6436bfda18914bdb1cd8f34cfa448c443139e886bbf2dc2a1387973ca91567acf37bbfc8945a614332fe6a54fb5b94f13bd9d4d81212120fd6937b8e6df25aab2ab3066b7a2974d2d6f0f1a76d0c0899fdc6a324079891e33503c38cb0a4b65d9239d8d57ac98a849bb06e3d1129f8afb8b4e9a04375427d6fdb50ed3f1afa67ad21d398aaa67c42f3805781ac5d1ad319bc52ec8d7f52c5a9623aaa04cb7e8db716d0ece94c2dda2c13b85121720a9bdf3783dfa8a7183e30dbf76db1cdb66c4a08cd68839e494262835c72b2cc57fe2141ed75bb6b4eec13ab97870047283622f8667a72b0dbb9747d26c9b252d873ed023886c30be8542b250d84ab33b6fdbac7feb4f81dc5eff7487940ec982d23c601f31e1971d9599db1d4602d5643256396e5815c2974e51806c5323c9e55f3412b7bebb8b4313f4ef38e11228be94c031b8110748ef90f785d152d4f58785f3ef4f53862febbe1e5e5b065c56876b2c04683569ba08debec0f85024847f362c0daa2d5b1ec0f97428ccf5dc43faeddd64a56d58d8f3cfad28b78a1bb5aa73ee49cc91c750a57ca76179c0dd865c8541c27bad2158ff0a3e68b84bb8f61bfe8458b2b1be41eac3edc6c871561a0834d5bc99417ae70c9db1592af532a3fa5005fad28dda2fb24cc244cf1ad764b86ba92d39b543fc9e4f6df128b6762c7ff20e0ebbe05d139e19894d6e3870740e2f26f87310d766c7896f91c07635481703a674ad2b19ffd81e2591b8996ece704b1f5f3c653f19e5c045f5690d181deca265e0370f59af848841b3146bc97a16d867e181dabf9c83b98aaac09351df472dbde7bd1f96068d214fb7ae275bd0c9ed0888dcbf7d6b68efe846fa8af120fde8792d4db5d63e472dfaa34c65a22770f54ae25207809103be3b3569b55db2fe06126fd1531edb457d441c9ed09720556b928c73d49f36f800197c4bf8d388c133da6a388fb0f3f8914861d7f9021dadd20f6a5060687cd7103842aabdde7f677ae939aac2c59959ec00fe9ee87fd77ff3184cca45d4d47a20efa90beb6e9164334f4014d9f2072bd5d6ae44ecfcbcf3b83a7f62c05453e08505450cfe32c5a446f1cf41e2323636b6c80dbc9bb12ffc653df24165a2108e4ad7213fdb5776b53023bb224cbc141c6dffe3dd7435d12a5cb731de18e02d09ae70bb269a107327f8a320f526b9eb417ab1e0b3987b421193ccb15391a1aa8b88c7a0e2de5a4e29c03e317700626f7d0f2942049494f91da8f037c179c731818d4ef1ec5e1d9a150213e328557b2177755f918b2aa4bc708842a4c5d4bc524e928dc272a197e69a75f295f7e288c76e55d417b62ff41f5ca8b8ebe4b81403ff1569f2817d2a80e77dc9f870ca5735bff80a02f79f9830b808e362e485a4501034de92ee465cfcb211a759e0313efdac6dc1ae5a50d86bc743feded8f86893bf07f37eebb397ce7dbaa38091a8f910e88b05ccf7128c9af6c0c2f174776d4d70509ad73a42edfeba2dd2e01d69e00ce5906ddb4849787b58da0f5b3ef268391339d696cf8c836376bf96362d61d3bd29dfda16a38b3220cb0287be250467f3cce22df3857dc488772021c89bc2ceb5d0359104531353b8033c88fac4b60dc5e8d2e3f0133f1fe17f957db147cd892476b4cf30577960233c2a83fb600d483af2f915c04c3e49995814de35bd154bbe37f84a504259b912ff757377109afda58c93f189609ed887b1460b09cf6f4f3793b0032663cc11a7520e39930489f6170b76d1ed09fdfaa7b1b7f2ed2b159be69fe3d4a3a1fd9d32982efbef63f209248aee33102c61280ff0754615f2055a463400e1eabbe37d9d09ddd4ef8f91c0ee68b269922eb9effa3021efdfa462cedc80dec2e9ccdfd2ac2e2409cd4357dfdf4e1707838e07a1736ec312fc876124d8debfda81947968f258d5bec82f5b4717e142a18919de56921cf8362b99f77e8b2ae9c656de6f408cbafb176ec90ca0e9b4f75bb26ec09f3c0f921b885d2dae9a4d30263394925ecb7c63e9565c127809b6066461cef945ab166aee3f5f1cd6447117f04305af1509900677842db676e353e5ca97c2d6843ffe0b7c6fed31d327eb165c636bd375899fa3baa45f6df3dac99be87d20daf332c4aa863a36e175e717ec7e5d738dd0adf07ff4774b562c594286a7e57719bcd663c5247e5fd1419c2c4863b36ebe8db588fb2093f63413dd9f688491428c566fdc49692ad33f436f46a12f8c112b61c3f251aea9da7c7aa47eaf3a73c43ab7d326ffd978f94e9c169574c14ee2c00fcc009ba9ca8b8389dbf322c71c937544500563a4f9df60a3e46bdd0d023968671a2177ca6adf6a4bba6cb3a25fbd61c7e034e5dfeb8dacc6ed09ea3a7fa19ae185280be3ab93b9c9546c91d8c6249806ddb6cda2bcc9c96356db04a386290845221ea98e70953b964a4567ab4d693df60924c9958fc194ff01c08b6877e862eb4f36b3d66182a9b6231b6d6875d81b32f92f3679fc289c8a87058ad83c2dbef3af3b04acbe38063d24c3caf9b4b2d92f96e42898f188a34e61b6690381f919b6f77fec61531ccd97b478cb61f5eb28512b55e4472aa8af4ab3da0e594d063dbd256b088fa6dc3439551e9511281e97be8da80cef9bda41dacb1e420df621eb4972351da9471bf257a2e2b6f3ac3987a9be5722eb4180ba3cacf4bb88cd551188fe1e8c99851435828458224bd612fc7ef35bfacf8cfa321f9db1bafd90b70653226670a0036c1728595b217fe35abd389d0c2923b39032f1698593acdaae35e5cc5e2bb14410fbfd732bedbeacc215ff1ebce65761600e21568eac62324a301e55093e8f8028554ca35bede783e0fa67d5c8d2d16cd22dca962af1deea42c755530056506e6044564d0fcc98b41f9f2f9f0847643ef35e2b07525d23ef793b3e250ee9a97ec3207156803128bf9a2845c0c8c3ca9d25c77263af3cbaef7f2e7d0e00a51041a6da01124af6e34e803b36c7056f811fd54c7e2ee11658e98b48c6f708a2a78046b7a95a450350c67f6db5bb6c62f9a04563b62e8455ef76a79f8250d8f1feb18f62df39fbaa6491fe0ce2690ba1845b5347e9013e610c573e304a0931579d1c4d25ed845a09858efedd72795dbc1e307ff1910d52bf11b5e82c5e037c16b2fc11598a6687d482903a67c0c0cec30a4ea1b04209273a907ec927cc597848256c04ded9e0951ba4c8c39f39841d9392a71ebd003db59aa8c1856f6801e325ef0f3f6f8e3eaa8253cf2273b557674821ad416814f79b84a77304b67e1e14df4dac1fe09094bed4e47f03946101c44446b049abd9d1847bef10b69efaf652e56dfce4d9c1af5f0c61d7c06ade3af8a4eaa6db147709fec02c4f721eee8e9f92f95b8a9327889fddf6e3ac29e82daa9bac9cd243bf8113556e5721235c4895a7c6ddf9182c2e772c1ecb66a9dbf7cf25b11f84647871ff2a650c1a0cae7f04ca2e76ea2aa13f6654c7506eb8c943b7b8d3cb9e1e7068d1e909d8fd9269fcb7560003937330db996745d870b1abffe3bb8ffa7eb3f9f7758cca28a503a668bd80a5e8f0ebbf3aae4c6aede9d7944243e4483cd097863997f7694891f166dfbe3aa18e8303f126201b731e263b7a0a5456942644431dea38f3d5f31594f2b70f5dea53cf7425dbb6a931cd441ca8c2d7b7f030780fea1a946470437f6e86e5cce9ec103fb02eb65077c5e5c3e156747db167efbc2d5730f6cb45aa10e82a36322b10c70a8f9a838f45fe9bd1ff3c7a5c5cf033c3655275f5743275d8f014999ca50cb8a96569c1a749238ae1bf8966d8e71d11e830822bcd0de9721779c368c18f1b49e6c08e582c0b75675d18c849b0541a590f79f4a9f2f53ca6606e9026c21999c4cbfdfbf1b26a19bd988c4aecb33981c0a4366cf579707957c56e3be9b386f0f7a470f2f33ae81be04fafbb0c4f1cf6ee261e4601a90e6498edff86153441fc0ec1e33bfc07b26ad4cbe76a80d445fa6be6ba1660521af905dffea21db502f21bc358c8fcbe20d5b2e94706a3a4d80c9bdb10201fbd0db031d0d1c17777a6826a7a0823d078050cc18deb1d8a215866f8022245d7fdb4c991916c49c19da9000b8db89082434df6cfc906580ba22c96d594907dca436d50a3266d5b7443e14ba0a61fcbf3a92a96efba6f29433e98e8734fb92987b4c07be65dfca1f20e86dd562373a31d2b6ad884b2e13ac52dc08379762239e6a8fa0ab228b38504442b7ad3a3a91eb5f54b9bdf8048924465295cb3fd72425b6e11e6e18b7683b5f960741dc1101209184692d0d2043c42218c0f603133ec8f35ccdcdaa8b2b1bf189f8920671ca4f79457e9123929416737c7866aa4c2ff3c75375ea69dfc77dbfb3b8e316cd3f2d28f564f3cb133aca546d080b8b395839f63c7e4e822e639e662ffed57d8410aaf8678d6e7e66a078f705411b8f5c7a54e96e26e286f92743c02b2493ac4338ee4d3e0643514174a9a9040606dbe7a440ec1a926af9c695b8e9488149469ec53125673e264a4f93c5afcbf6596bdbe0995bc86deebe3292f906950fd9b11187f7ef87d8b4a43e306037095057d2c15c7c6f5cc9b82f531108e460f23aab6e4a594d89edb5c1d359ef7a99ee250e95b5bc5a037c790622655459a49325537bb41fce7d537b09331f5a3ec7767a36258685d687962fca37e34556c2c7b5ec0cf62bcf3b827fcae21dd744783a4a0401fb58e9edc2cd38a1cca3751ad2783554b394958abadaee155286924ff8f6bd67fd9fe0d6da96894c9d537fb13a71611e8cf9108feec257c458a2b628fcf26927c5e04748799338e4ba6df32d8fcba401313e3f5a439cf09d6e72da0c2f06e5cf9d8d84d25446f45b7dd05712808b8dc14f9f077311733f6f296d4abdd7f1fbdb645aaae69145a0c60bd519663a9bbedefcf28a3bb43d84b666abf12573ef01849d053767c62010bef92611a17998719a5b02c3313154f95f656adfcc08a51e834957ca8db76765a96e6ab2f22eef4a396c3c7c9f3b64e0233b0d9f396cca7456cb31968f9e1b9d734170ddcb4b83f46953bffa2b448a5f0927b3d52d3bc90b7c927133107046c8bf30fffb54a6acd1d9f54f3a126eb2dc26dbc89578adcbcffb99244d335dad25d8c5141eb878a1bf2acc89ca78427a5db07b34897c8cd81706007c138f36bf600d14eca59b22f55d87903a0812f41224cc5aeb70a4a4c1e99f52b355b71f0f5d91593fa4497b2d764004476d87b73a86ddcc96f580daa87fe1a02a63082f01c57eff6e039cb6a64b79061b7cd247daf72b04f2718d8ccb7220017f5335f19a1431dae7dda9be1ce1824f437c732951f61137c1a885a39bdfbe946e7e539415cc6eda603f2fbb7408a2768f5e9fd77af3e5b7886ea59a6f7b429629d57551e475f985c6008c841f4d215148144f0ae69c502e19e83263886af98c2761e7647e2f7bcb47c9a774fb09e3250b5a625b656b98496123b8e9ef41c706a442637635a21e162610191153d70858d6db894d2bcf914f065cd7a55e94efd6bb3220e99604e876b739693b194099cf24fe789cac5883000ce9ed3c97b90b6449471df81e6239421ca65150479240d1763420a05cabdfe1a7c765b475760a169a6afe512dd6661de7e66ba53f1e395f878d867a67ec337f07c5bd1780706a3f3bfc090979174aefda20f0ca615ecef1d340142e9e4b42b19d37fb5887de1dd33a6e6f1b64e596df63e115c6589cf45986b947a6fd192cae7d7082436ec9cc1d580af452a0369ea27de3478e4341e6525ea26b531668b1b037d8ef02891fd2aeee1a0f8bc293ed72afcf34dff2f584ffcee6c8be158206996be06908e8b5f110eab7338c04416fe4a0df6cc4361e226a01756c1f41eecafc1d1a93666a5a0ef0767bd717eb9057d553960acfc893d463206a32b319adfc6b424e9cf2980307d1fcb964cd7239175b560e0cf56c055cee50b44fda3062aa312f12bd3fbd0927530b7d326372b3d9bf03c722345ed744100521f91786ce0516268fd16cb832acbfcbe7d5ed2b70df57429139dd3552fa511858ea460daf1f1d625ae3cf6bd37c20a934a702ad9f6015e60208a44200c7b190e95f8d251d6db687910f906b9b774547686e2eab345cc95a8e41a58d2466761ebe53fb238806831263a0a31f1973aee5c833df413e64a9589e85693123ca449a625a9c9fb4ea83e6ba0267ba2d7052a3f57ab00fe2cafaf92dfeadaf1966596e1fcbf6cc42828bb46762277aab7758569134efd18bafb4315583fd086bb5241fd8586255838e5da3bf04bb788907d6ec14a91c188a3790fa01c86a21fe846f95aa76b7a5847b965b7509eaf258c84800ecef69f2799874171c250e4e72f18ddb7305c4843c965780362e0be260ff6962cf6fe7a6a08341c4b67f829f2226c7b79704a369a57e50dc99b8b456a45b3dc45030cf56198794dd028a90171e0c02055e94bde8c286feaaa266ef0fd023578b3c4a6def9ac780cad44565278532382f2cb9b6df29745e08ff878ae62acc4f4cd229aa6a2f2cc08ef0fab2555e2f40e61924352022aad8850290c4b1fdc2717905798aea4167f01a1335570afef93e1298ac5b43e9ef892396a369d5537d8b22b2c1e36e981add7ce0863cb6955018d6cd5c33732a715643d1db4379c92fed4893abe5d75cc1ec7469cf0e0351fdb8c0ff3a9ac1abf8836eb3cf4b591b016817ffe1fd0f5f24ec7be13e3270a316d3bda49f1285b0aa1eb354ae4593be28947ab45bc4e576e711c388bc25243fc76e1198c11e1180958e0a3cebde0a2e33e43c7f5bdc1ce826b0e015ce0a84660e1f7a59999e35dcff4e9859c162b9600330421a307235c3bbfb7320efe89749a26b0acdce66f1730df6a081e233fa87d90604a0743b2e1b3974adab5ea0d48590fdf78a4c5bb1cbfbae5fc6697e4723c39e40652c6bf14d1db0e41eceb0c42770093ae942d90469c21290a7a69f21173a25bdffa6c6faf46159debf9e51865483fba2d09535cf466c9d7cb9f8986a6c409506d16bd8976ee13ebd2e6f9048788f2ced930fb0c66a2b641d2edede04b98bb1779d8d5e4b04d01da957b11856e7cd1a37c5b09d9db3c6207e0460a1e36249bb569be9abc26e3264bd05b3728afc77ffc7bb983e07fef402a0b42fbc59bab025adabd7cc2b7699359328b7b5376037e32e94de3f063517412b334551afa16051746cd4dd430fcc3fce3142ddfdf23e89b35a6dc448788e4b68168c61285517a3bc80f5a0118c91ffc6d37da8df87484823da1b8ca469193238b5345cec44079d82f00dd5dd5c1072a2836536866342436dd360cf77442fe95468eb5dad23688019dc29ada3626b3072e490e0ddf056e00dbce64d9eb3a7cef2788b4faa7b45f42ad9610ee6396b6909e2c8317b14e481f9ee753a7cee342efae622a709dab0986b90459d8deefa361180944dc467fd24c86c23199ba1275abd31eca89f8bb9ba1727a7d286f2a5654bd7ca94ab8c3a977a413aa3f706977a2af2d93b1460db1e0e24278e3d07c0a56535396fee03631b3b60effea98ee155e2fc3e1b6f4e06a34faefe85a029c8d35dcc53b072fcec002622c889039f640a407bc629b8e8b83b9434ddb4cefe40088f5be2104d48542b27201cef6e97958058be9923cdd8c3fadcbfe3c527e07577bea29a9676b237c79b443a99033bb78ccc9777d90f3ced01570240d7d2d64abfcfafbb4b87f2b14375f28a6ee27c78c1c5c0841c130a2fccdcde35946fcf194deefa69c71d48c558e7a47a5fb609f1c7a3a279c1af8942920b393a02af6b8aaac8fe31a7ccc8b378a016dbbd1819fa6226fbb356cdeed3c1b1022b9cfdd9057de22f220d7ef0a4589f8dddc4217036356d940ca5884661026380a661c1778ec32d22d5f6116fbd0ec967866e2f7d78e2de46f9315f1e3a3a7707d271f246957a832493a09299840df59502e296a6d247147dc1e0579d6c966ec7a0b95fc2a5cfce912d5e529bb1b64943057a804692bcc79f60d67b8730c7497cbd8ddac35699ea6d4333022d102205638b1828916eeecc88ec8fabccbc80d43f9f2919b0723e3ba3cc2a9a66af24a6253b58c235b48054885252704f7982719c55cc5da38d206f026b5c57cb36f5be636f3e8412f408ae3335061f57e63747448a4772e4c901938fa3fc6d494d3a84aaa3fd028e86d01bb56d2e25c5b4a0b60be56e80647abb2f8e5760478175f879dd8865bda8daf6ca2ca020a50dfe3f17520e4bf0a8473d1acbbe39aaede6a0d735f01318e687181d3a2eefdcb963d41b68495f1f6c41625124b31bb5d0d311be6ae501099625f03b4a5b6db862fd2068d5b9a3e7605250b019adbdb7495c1da9fb7b608529ea7dac7a62d3857e4bd1026fe5b9ec3325b5bbe39324521addc821f2fc9127b12b1f98b61dc16a069020eac7eeb6f2b0d2162d132f88bb6767b46281479e49da11ce9ccb7edabd4fce8597fc42802c4caf0fe9fd992ffc3ff712055fa5bd732d7944e0e498cdf7681302c13f48c04b32b469f5ca1275f1a678b908f19c60207317f42feb5ddd5b44d8fae48dbf44d32e65a3545a4c3d7bb3be4eeba34c35dd4ffeccdd8f6b5f4a7a73fa7b938869b34e600b1a2f95ba2830523f689baf09a5f2459f809876628865b91a0b39584bf67abd52ee4068ab2d2b96db4ee21a33a5ceb2c3f610f7b84fd2df60725895c25257f57255ec53248e2363e4f98e843f6da231766e74be968f18527ac31980b6e54d75a329510178aeed108143769259f758a62dfb30b6422b56dc3b9366a7c041ebea26b09612837589c495e07186574ca02017019d9557109bab569b37b12e7878205a0cd9ff1dbaad55471ce506ec8f2d78c2b3cf2f6627f443891bffd60f3a1cb6dc45006caffb0d6bef1096213de392a3248aebb1d536adac81024471ef4775ea83f3a2d8acdeaaaf6bfb71e07044fdfe0a2ad295f5b05312529dc5ea33e8937eb2722e68c6fb84b42364e9379af746ec5cf270615e9583e17eb39352d4051f98379e04fef0ba4ed6da5bc9996f2f31fff658de47fc8d16a54a2f588f044d46f61d8d03dba764787713e7a6817d5a763762410b9887e60945e7def60fd727c5485d9386aadc70fbbfa7ae3c50df580df2a98331413c132e4eb6bdb193831159e2d0adb5a9957bffed193b91e9b0d60fc10a7bab07f21480917d12ac807539003c81a6394c38b7d9c16154f92bc00d4faa38f8ce1acd4ac247e7767aba44ba3ad2c6c40264f2e0f65d70017668bde0f1aa93493e14dcfdcec3a4f00aa99d5866e977c5e7eb700e0c82644570cd01d4df16ec21d228364aeacc39e5fe6e39abcd139b91c03a7a083182c9ba336ee468d058dd0ed8c7714935987449aad4195de038f841bd66190dfa327ada48cceea88e2ef9ea65d84ab462eac5b5c1c636c7fe36c61390da6ac1c55691bb223954e8b9c820265231589538f458cce3a52594597cddb3e26167eb05f684114ca7e2c79c8c39593b17c91b47efc6c74c578c5996be10e42cb42541427003b11d4d57c0f5faa79a9de47b4e5fc1cf202040ad13ad1068fa909f1f39aeb7e42a254f1f1d75892c259d8a26feb8f5427868179cd1c8437acb8f59f8055ec3226630d7e290a84b43036fe1424353609b2614bdd6e10cf92c81f4b49d4a8e52460789f7ad1f09b8af3edbe6d4f8cc8c8dab4d469a76f988eb6bea549c87aba52840559ac842c71d4a3f2d4ada9211f28e364e3b888116d598a3a455be15ed1e9ffd572b3588391e818821f2fb3a6c3a611567527539dea1ac2925dcd330ea771554be37b139aef54e79bb410ee2484f8e61db76c3206b1dce2f688d19c005471641ed063e7eef364fc0cf4ed922c47670b2fc0173cc72d4d98410c3945c4842d076e1bf934a2a59cdfc6d7bb407f34d2c9f4111211f269e3fd41b5adc3735576fc6901be599e4f8bb128942a993a81e5da7fb53085e4477c6f317f95f4df909eb1496d7254c4319c2a583ed343f76790ebaaf2b29cecfbeab84bc5db273774b3e1ef0afbf5aa255cbabffc3d37bd0797050d72b02689d88ba5cdda1a769ad17d60b4146472fea367569ae9e61dede44eb2be57ca3070e35fb0f178e1c1cc54ee17252283c08e392db8439c0cfaf43c0236ebbe5e0ca3f52c75274b5033943e510e9b809661131cdc04d139daab2a16bfbdc3add8600296798cac961b2b2d3c394c931c0179a3a670a1eee99dcf534c4ccea3c07a137bc3427ad0e4ff5ac50004a81a3d52117282bb4a6d5884adee77ed222a8351cbc3e371401b1e1fd625950f9d80b924925a28c16a4c776b7081cf5541d69ed6a9ccbc48fbfb052356ae0aa0ccc91b3d42a853bdb6737164b44d62cbbeb48b957b77fc1c0b5e5ffda8fb82ca8e54c9f6ebd8dd5812254cb816fca3d19ad5788340a9873f630bd51d834eb1f9eb7d42aec0a8941e9e23717c9c549630f61e565ddc8e9165b008070c5caddd418b824ddf15d8726c6e6aff379c7c3ae794197bbc28aa29e2b1024d7d4299a618be381f041b9895c27427d07177e8438ad7bbcf66ba047e531fece009bdf768f75f2ce4e629a17acb0d1bf5d0f7d2cf47aaafca442780670786c6d5750e111d2b6234ea2a6c1ae661ff275c0503ff098d77173d5b369718d5d9054461bb8d3e032bda0ff7178b997c15f9e9eccb65914a7c5f4c52cf4be5116b804b2c139de27216fc5842c532ccf5763ea52a41769dff56057b27220a7632e1799645c2b935a5b3ed24ddea2ac61507f998a6fb2251c2f7464222b5d4911dc2acc8c3dcfe60515c8d1a1c12a1268fbca4f50f10044870ccc05f73cf46f74bcaf3bdc7a051a1366038700bfe57552d199f5ccf430cf1b22f6ca55fe9b69d7a186b603731509d92bef6a1a55d008c574ddacfeda08aed07362f49dd809207d243a03a46b2c39fa4302224005781990199ab83ce4aaaf17964d2c94a9ac45736ba7a0f65648706e2e69dd3080e01888b2a79c5eace497e4931bc850e7fe5ddd562e1e25303a97cfbd0b1dd7dee37a4864389089b980adfdf2e6a185b38fbcf3b169b5613137f543ff62208499e67868acdebbd51472363c4801ca9c31e055e629aeea899d9b69432ff1cd9230aa64ca107f16d6c9ccc2533775fbaded877b2a4b67a6aca66843efcfd0d721bd719b37d721a2f950cf5e60b7fedaeda84df554c8ebdf1e3fcdae55635b91b9acbaba75ffa6f98074022629e61177024ad89f6e8393bd71515c0ce515079915fa1f51592bf716cb077704f7e97aa010471663eb54af16b6ef199d2f0c8b1c79baa01a76d2d22b14e4836f86819244ffa02538ca88828c5204845b64e25628ca94056ea862d00521de831d31cfd3d90b217286429652c18fdc564294a99cfde625d0b7c3e2b6a0952418c7a31031130afeb989e9f595fc270a48aca22ce1c9ea5cc7604e7f64d2c37eda0172d840698f7b131708b6691560168c63e4faa1110c2b152adf4aa2c4d24838d62fbb4d3c4620c6b92eed7e8bc61797c20fab974e9085d3c2a10025504a3049a123fa55ed69bafe2445c0d354944f1ad814d00420b07d18d966ccef6aef3628556a4109d5765debdb8b553e0ec985661dbd5346581971abf3746bdb5aaf62d1b7616abfce7279eebf3e6739bf6e1c3173a4d12a0f9cd0fa4beeaa64e3b3c80bf3aebb4be2dc500ffd473c0314fc38cfb2ea2377217f3590cc91f6454663f529c05cdd8502987c8a17c71aa71b5d6af6c4b3e5f61164e625159cda1865b118dbd73d92a45d8cc28dd8b5e313ddaba7bd07aa60f7ed41b4e421618ae3bb318f0bbc71a9400d7aa6775ffe401bc6965020e5c237c7277ec217de0d6740aeed4b6eb50d4c4e1ee32481286e7544b553e8d8d3b1ae28276aa40ee4ebaba0d8084bbd9d8883170a3504b3b53e48107eb0468e7ad11866c721837ac9354a3463d72ba4423e9dbef1d6e28a7be9570c970e95485993af22e61cd9a0ec9d1142b637b276020c368cd7be24f84b9b7f480c8c40f52b5afdc0dec5f3d83757d076839dad0ef6173316fd50dd9f4d4f47eb51e4dcdce12440e63dd6a608bcf4b9bda4eac782e678b89752df395ec9dafdf37d1fcf0c6f57137d84b42542437d294c65846a6754ea660feee52e0e3e84f7d9c49b2a4b80456f8bdc35ecb5949bce70f4932768513b339b1c2b61a90d7320f0bd2715cdf6436f40324f58645301d1cc4a2c56f403e96c2ed880bc02aa4fb6cd0f7ffe9a703907a07f399842b449db35a1bf621fcd182aa0b4a817967c2964f3f04bdf542fadcc59ee9c9d76e3c167a72e9d1953e2218b62e5b88e185a3b0de4f6e57a5b66ce64100bfcf8465f5f8e60c22497cb1b14ad8759066393e59bed104a9ad450e08c62d9db3a0fad8705cea04ed94a2a361d74f9265a212085e8d8be75775182614d2203886ec13221e9972d07ac4fc66490661b461a60ea9d0674f1af5c3da89386ec7978f81adbdff1fffce2daf575d58d2d89e1599f34f3359121916eb7ba7776fa4925263d53321e7a02270ee763a1e7e6f3a8758fb39c37248a25a64d82f3d290c435af0e3adda42e6c2049628b0e73b1c9da85d114669ed271474e843629d69eb2ea18e8b8648ac598af056c6ac7823c790d0b4adc03f139c0210f2e6aad98d1c42169a65b62acdca0897663942fc2d158e171e4c55fac910de18c6224264e3fe2b4f3c2daa17eed50c00d9b12e17184173fd453b3f384b2f3cd7985c5bc4d51a37264840d4d54e9ab9dcd1f4b933eb8fef07f260f5c7591c41380d3aad074d0f0b0e8f5ef24a7918754bf80f571aaf0e021f32c90e13c698e3446f622a267466a34bf19c2c5beca84c4a8d1331cbf01e00ed39d110c3bb71ca857365a65b6a9fc0f336c95466eef1c6cd15f834a293f718218884d11aca8c1757ce6227c7f6c51389488f90d4185d6172273100428ac2234a20355e9400ab336a35e43600f61ede50287d3ca536e518bb23ec5ec6b5527b4af18c68578493b557f22e98fa43bd90c4927eface1f4531b1bd171c485ccff743ddc4ab5a46192e4ad3bdd1c8d186e87871850563232000611d0d013578e52691bf084a201816b523a903b20323dcdd20bf43262f97382c2fa856cc2916168267b3eef82e7a2cde9f377a4c1cdfbca86378b48fa9da1a29717752b641403bb1c3978fe58deb03e46dd5c95a9993632ef0e2b0394c66a95f07586e7204f37709a4e6617f1899e895d235905253a8b3cb322a7b18651e197cd2720a1dd48378ba258f4acac7b2e276a136e64874c1866a5846e3091dccd8d33eec3ed118519f12070b925ce8b92fc320eaac3d97922fb59921d2214d745a6c4c599ea43d906b47c5556a08a4b102819fb94c4f4fd4de7256b2024e05e0ef7b4a1a6e5a4889e3c41ec51b459abcbb561e89447e13e14a4c896895702e8c738eb6264058de838b8f0fc9bc9c96680844e7d658cec76221e5fd0435dac0d221845ec2cee4866fe905b9904ee7dceeb8af429729e4a7893be48b2ac222bd2d069bac1dd34ebd1e8043ca8dbd9e111b7300bae9b33da142f01896af4bf33958792cd1871ff22706626f6e57b789241aa55c1f41b5b9f43e96bf91fabcfdf7f8687213d7c6b3f20915addc86dbe3dfdd34ce59516de17b44d0cb438a1881f2affa98462a0b98c26742ed87f398db19f2deb47f04001bac1c8cd867eb731dd47d48227d210adff3c01604f551b1c19bf318e2a2826bad26df0370092e03ab82f3023c9eef97eefa0525e74f71fdf8f9fd82a25ed783669236fde40006f8fd593573700f01a209b90bc4d4113b32f8d786e19b16f3bbe0543ccfd14f19bff09a468cdc01e3409be26f0ad2f08e50716d023e697c064c609c79417362a3208fee8b4b917989d69e5bfb5912e16e3a034778deb0e0808021649a479894354e9085b60f15e8c438b1f7cb7ee555f1ceb9290b0d67b6e980c99b4399356da4fe3a0935df62ff3b31b63b9d030e22bd742e8dad4a75aac8dcb27c911c6825baa9c6fdfa775437ab17537b0af736ac33c27557d20bfbd5e99ff071dd9a352b6a2f2949e78f0533127bb6784499310eae0cd2a7546d59efaf09cc3240ca1aa9f6877ea0b9228a0d2153eb4fe947d129333d6835f5f20e5ea2f2e8702825bb0132cf3dad4db835ed3928230957a137a52d7c9b6aacb82aba3e01de524d738c9dfdf9ddc422ded12fc99c527b68258b7ebc9550909a87a03ae4869ef8230084c61ae3a8d0a4da2ef59631d6f6dc8f53e8583da83a830315e9ba875a68cd59f3615abe60cdc34885bf0440bbb01a5273d495ad191fc6455176e5793d7722a48eb880b569bad950999dba159231a75d0ddeb3d1f6740befb6511da9cfcd13c68ff77d60d366f88802e0a17ec945233036468486af788c06420e2c16ffe13e11752f448b24dd98f17a281757d072a55133b6ae568d7c9927e3847a61e973460c727bcc6c762764a4162d1af67c764e8192a9d749fba5e6c8e03a35e81a964b70bc08a48d45a7a6b60c23ca4f06661f7cfd032f4e621d3535017cd983a4a384a3bce0333e20aebf7c9ff27ce6574e0fd5b4aef0450178582ee2b28c2ec6383659ff04df89c37df3b49b9583cbcdd6ad6d627d9d148e2230fa442d885b2d455c471d3d791f6671b96a57201b5f7d8cb0a81cbad97714100bfacb4588cd9d2277bcb5e1a813c8a4c04d5d9618ca2fe94190e2650b03203377cc0594f7eebfbdc7b1114829f292a74891f4ab69e61d9f7994f085aac8baa563c8d0179a7948deb2821828c8ae44258b226f1d31fec96e15a917b813f84d18982aa962e1286457e29bb99a5db80fc95d9e710611ab522b7591b95433b3b891b1211dd9559073918265b38180013cf23fdd3305e5c114594a7f73d57149ab87c82601ca691a2850b68a7aef9fe5840ff1e3c264b3c06183f2d55c590c70f65dc0a4f1c0afd4cda446f8289d59e4690e705eef6df474a2a1e61c4b619e9f21f6c9f522c65c122c654899731879e7ff6a5541c1885dbb9df2839b323160889140897aeb0da80a10385f3e85197407df4970ade92fce3196994f96755b559b55177ef7351af61259ec33bcc2817e5da6e1c068b90c02976db37c094e9d0bf03c269a10898ae710180ad6eeb25a22691d9a1919db6eeefab80448e42cc94d7e962d58220b7c438e4e955e9ae46fae08cccb25cf7013dcddc942f0585fad9be7759d615d6830c0796163fd95daabc1fdb1e7c43c46127ebbed729896b37a7237365982893aa0bd50d3fd9969dc15b9df64d0d170bbdca2670d900a74c6433e12dbb2960194878b3c294d99f32e1f7c710ce0bb6d11753da61bca3f9f3885fa8f72b2cc382cf600320da8a9541ec3034cf5b33ddbb3ddd1fbc5ea259b0d949b1ada3fdd7edd2df5d443e6c81773176d877230fa7b38c914dd83225be1ca310bda5d020023fe3285c789731c3794033bef10ebc70be95a1a7495aa0631acbc76db276cc4d5ee29e00c3ab19b2c7df4febc3224a120df3f9068fc44eb403006be07c5a8d1ecaabb17a631c8e513c5c063e1bad67391a7d59a46dc67f08ae64534368f95026a205d3b825ba77483061fc1a8a35b7e813c64217c4d298e4869d11957303bd7358b94c11caca71ba807276596fdeb69edb2cf96755a954b38e7849d85f31cd5338b765f0f66c6f85ad10c3b70a9f9ae712f06a22bb185ec1e0ff4557aef6213366c75c6be113970e504be02939c72a7acd79c5612f0eedca68d3de72aeb0ad6e50bccb720b8d90fa38a6b614f04e3f547ea7582d8cd891e98924c15c35542880d119ec49195ee832c658e08eacd5623cd4545d8e44ca0be4bf08efe1bde9d711eeaec70b9df0aa7b74ebbe050fba770f191ba240b0ade8c3d27bd18dd62a259614d3cabb40a6a110a57619096c880fe814e241005142edcbd8265fcf67d04da0df2c8607fa26e92103d59516694c9b0e51e34b2c1a81fe3a5ed04f43758048a75348437579d164af1478a7dee892d6ce06e0b370a24b573d06204e532d837bf1b3d2f3c092d3d8fe8652d209d752aa4486e45d123265f370511e804e11713ac1617561ef3b0f365793e21eab7cd826367d9fbb3fb905940d349a4bf405436573acb800ad8aec8db829cb37a3fd30f3efe93f002fddf0a775de79e234d68da3500379fc85bc386438c4375e32c811211fcd133cbe9a794456f8f23a48813f9533d8ef04dd75cc322bc76d9f8d5451bc4a4cb98652ee4e86a8f5ff864476a4b5c90b89937730ff5a6f7e83b1941021fa534efd3d627c2c0729208026a0da3584745e0dc88cc518e2b067a020ad49f7b01c5a8eb843104906794ca5e22ebf666a338e375256b29f6e2f6a304f282a00211f0174d2a69fc84029e1d0e7ad50d8deb3a57a724091d6d25d05c4c05e5533ae51e3db838de175a834d35ac7b47bb4c6558a60b06d0da05fe3b7beea030b395d4975fe59246b25f35c94ed61d57abb46af8e67704d5c9faf41e363cf57125f992e5caee6f11efea2f4e0c9b0cf76eb2b9318a798cf6c8ea0e08277e06427d7038d23bf4ee7b5cca07390359c33785d88e09c3aad02f7a1388226979619b16e813084bc7c8d4d846b56bd98f458966e30c3a2565fc85bfc456b4ea639f532837efb5d275a44bc05afe2b2f5f97b71b02b1773a84addbe5a8ed6a9b7618af2b6695d876d80b5808712796e2260692fb11b32bfbd643563b9663e5f0439af3f9af4c517ee2fa46d83d69c3b8ed328296e7ab2541eaf282fe62d4f095589c08f366f65a253d117a6e7eb9576f72d0d5fae64f60070e59a6a274cd4ca8eaa6e0575fc8645dcc3b089396f81655d583c9a47e7b3cc2503f26737ec6657f244f4e2f816be5db095c3a839b9b446631440616bb7b7ccd0d8dc7efee9615c4bdf3f12ad0b7c3a370bffe8377b2d70558f491e4c4caa070a152fe44245fe9e0df2c339682260b4f29e612947ee161a1438f948c38612de5ff22aa9b35be24d0febfad9bed940f2e2c13a0647e734e45f11ba4c512bc05d1535ec4366c2b516478c63ab04c98ccaf435a7a72a5a7c195c0411c34d3ec06df1030d1d2a46cae81e2d0bc9b52b1a886a83ca573fa307534a7e60c682eef30458fa12b0b15ec382d745a67d533f2fa4d91c6a050eb31cad0b4c316749d6066fb0db50b479e1bdfd1df2e62875ba77f6e31b410d2a7cce87f106667cb248e7d239a9e35f0963c51d8bf0e978b226407522efd2040ef44e2cde0c1eb91492d25c2dea477c3f2769c5c3677273084c744ca9ffc67505ecccd1e91128ee859c8051614ae0c1ade149c5e4010108338428bf82eb709a98f896be2bcd9c356aad2129f49680dc7d15f96be71d50a6e93de4b2e7c72438d9b2b2cceba94c4eed9428f9922e845705a34d9c2c9bdd9b382573ad87e3ca46aa0021a5df23f855ecb20a18088d214b413398b432437fc95e021fd665c35f279c3582eed1ece81d5557d0650859c38db0d4fce4e14407b64e6345043e8c7cbd4f58fc63cde434e36501d055d8dfb73df5999bd7f1cc0ecd61dd87322d88e675880bbac28bc1b9035e0ebeeccef257ff39d86646876723aed222f0028aed703a7510f923f461f535cb5937f4df4633140290f10f197c85453788e1782877ab8b3ace3d8ecae6fda4a3b4a7832d9c7fd8fa6a82b1c96221f6d3d785bda6aa55aee506dfa7660486fd8072fc6ac1fadc467714fa23758d6272e8243a90a6ccf26485529f127772dd318104ee078c660358dbdadd3fe7282b353b907508ed9ddb5510588e4bb30f8a0b14cf32aba993652f40e31021bd16e5411c677543c58b39f216362ca13a16a6d6a126969437593144e5c55200ce4563fe8172eb78fccdf40f2b859d5810269aa4f7035c2df493cdded08d09a85dc420799588c3de6c3e00cfb8cf0cc6a47c84e1441f612200498864a27d3abec1fac3349837908d15584722047787663b8e86a0d912749336f9b6532e55325af88c68a4579cbc85b4d4150b73571e6f3bf3eeaa3e9c5fa56d750d90dc6ec5fc72e6b89b17fe31ea80553b54b6c07715d8b5a7b5097a009409b194cd63c1b75f4e1d1937b27bc0805eab805d669734097938babcf6fdcf32107c530bccaaf8798afb3390e01d937dc735cb1a571befa06961600fe3349421d105738e77c363e955c6a4ac0257130c19e65f5b4308083a2831c065950fb54310ac02d619da1dd47c2de01b4ed37bc7f7e6ca9802d9cb7e40a928594e3dac829064e93a22a451668efd25b3c7e26f05b36b0865a309d4bcc299462ce513cc5ebb5dd2be6e3b950c2fecc0141517107e929bd2e2fd4310ef1801349aece787187a0ad4a9ee01ee5c66dc763ae6c7074b8ca1042c9d3a28ce5fd03287571dd8d1356221a7b6c9a3d4a1e91e38a7127a5e16d55a82e2ad7afb64280c6c1e270245a5c3a6571822a326ff9c9d6db0b9e7b756ae98fee5dedbfe139c6f6459f0d534810cb2296e49c0d473429b0b221705a22e805fce3265f763c8635bfc23b44d1dc7160afe702c0a06151972f240de1ced9c46899d1cff8668d1dd6e8911bbb6e3f2f3b7eaa6d3e4582e1c378e425ce7c9b4d88b0dbf7fd0cab25d6f39f43eaa81b9331c553f9c342c3067e9165bef678fd11d08437b540e0ef9e22a0c3a29f31fedcaf89cbfcea23b9b87f9c84e3534b2e4c32bb86aa85312fdf130d89cbe58a56120a0ab476a770a7469d9ac3455a4226836b0230a8fb3bc312f42351ebd09638966531b6901f14533446efd12d2e38acac9f18e3cb2bf52b1d6a8e50340a0723d91220d1a642149605ca82e558b62a58222b3d5947f686d02726bc16536857e12129a8a8e419b554db55d4a0c9e4b2d40958194ba5f9f6df63abab73d1c212ae41b9827cf16b613016023dc4c904bb329d6cc9b833c22a58424d29f36458ec63a4790c58869c915417b5e06b849ef15a7d40772a40443cf87283239bf4c3c93c2eee90e3390a30f31fc16690d634e2e09abe484f3e15ef81842f61e48eabacb8d131d759ede60b8ff02f314e3b4dee8499e0c1e1df10101936d325f1ece77a762665bb49b09def6b232073af981340e0e6c4cf11469f8008beddf8cc1749a99c306a22cc0542cc792c716867cea08f477a8da5280b444d1a291ac36b8d3b848df2de973a69495e81565508eb8eb72a9a87f54d5fa2389418893b36da0af8cfe17fc4a1dcd0c609a6a4791eefd57da854fd2ea67c472d51d3a89430156d3f4741b90004ee725b0fa5e6554c8cc632fdb313f4a181c4903a9c921d1366be5342ee4d7f7e3cbf38eb565e3151968f61bf6d690c996968017ab7ab60de45ad4e4149b6de8bc821125cc052ec48849cab53ed7dd1ee0fed33da57bd5885d686422ec054844f007ff63c8902e171b94a3a293e0d6e69aefb3426a0629ede83cf8484cb70ca4a98b95d343a088733eb393fb0cd472d7f9090c0bc0b85303dc84dd07f439f9e03aa8253e547e72145d9fd1c5c01114bb4024f1cbbd16ad13e46a50d78fd9c79b57ac565eb2b512fc60da36e11cfea314a00d7dfb78331bf5402c01cb87cfe4e433d55b160c731a57931b7323defbfc130c6fb563c070030fb1bdfaa31f8158dc4a6aa8ee9f1727e2d240659e497f564aca6f74912cfd37d2d4218d801b21d6016d0a1bc107aa6299db5ca0162029aa2163f1fda58db0a4f5b79dc5e4255e91b6305c8dda99dd12c8929b13d90f2e7d6d5eceef414340c602669881aa480494d17bf76ebd11cad637d4d308bd7721fa759534230604744bc3da5de9ba8522f375e638fe96cda30482e874707e0c51809fe7b6fb8ae03eddc25846ebdf39c2ef477028102ee97fe7877c8d85da08b263451497f5fb42b3f42d6fb1901f5c7753f9cacfd3da18231f157abb935aac34ee3fd512cec7d5616301e3019930a9efabb0437f81cd24c157262505aa3b3257669d72ac6fa61193f21851d6ba1055026405e1ce5ed641f33febd7648b7b1c98f7ae8b8ae7ae6675fe104b859fa58106fecdea7e462d41c7eb42bd19c1a45844680007972d52653aa53f8692bbc9444ec1855a0e94fe39e9eb6884675c0c6f55a73f21964808eef8f71f776dcc0fadef00257910c175fa4982f876b41abe4bb30fd148200380c294616e5eb4967ad8f84108361f9064e5afb751e8b45ca06b3c3014317b37fce8b3ea0097c77a427bc77051fec0047787f448c94c81f8821a61549a0719d838541c66d4143e3a763427da402ca0b7ebe463685bd3b6e6cbc27e2db440c88897cf2ba882c812f8eba3cb3d0f021c15785a98dc0a3d11209fd0138fa7ba3b4ada87f72752be7dd52137f037d1b2e2bf95b1775dd7278def72d7a43db863a78a49f684d6a4ce2d6735103ba24c3a03d928f4a76aedb33cf769581cb4e6ac9e82540504c349767a0a5b256019f2f86e77beee9b171425e21f0790f749ddb7c70dd8b05f1b0e299d03d56b7337178f91338b0740b6a56b2e21f78fc4b3c77a405cd57413ab7e95274b318c307735ebd879360ee3eb8c44d633b3617bfbe47eb01771e725b88b71b979172283aaef548d51c612be12cf778ac041bb0c516bf7f86bac020815719848025a0caa55c10432077c43ee2a3c208cc1575d5b65b3a34b6522f5e39db4ed7eb5650f976870ccbb3f408154e6cd7d70cf179af11ad08d6e54d92e32b3dc6e403b67526be21cb122e943645fad02c1a45115d1","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
