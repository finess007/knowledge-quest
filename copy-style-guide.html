<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a3d7db7d9305cc633d8b2eb8fa2d353fbc698b443e096689eb4e183a2f16d0a59ddec3ada9868ec81093871179deed81055ca8e010831654c33b5eca64c1bf8b0442ad29e1304bf4c1fc989494e4696ee0f578026fe876c49f1b73f2bf9ba5467c76b2f6afab228a9dba43f01bec5e0e2e2fb5242f72a549ab7292e4155cf3cebed16d09c20962ff5c16ea687c2a8102e55413840ae7fbf27350b968b054065f9258c8bce4586d27d83d668e1e76d09b8609b5ea28ce25c221d53161f8d3cbf1cb9ef61cb39b6778b653819e4ffb9f8b3a9ede11e58e87df73cc7ecded60d0e21d89abf24c313d517bc25aab5201d588372bef878f1c1530c06cd04e80bd3ebf0ba7d8415dbbcc8557453392a06e76e05de35017033a4ec238eb9fa28ef250f8c0b11b83649813ea160726fa32d8aeb30994583abf05c86c2bf38cb7be9b9d1d4d7de65382d4729662520af205490b0b2b3e60ad907ff4c87dd72c54871de2db95d5cd1c197c9e4057be73acefa732122a89a6ff421fe92806d1ad47858cc381f1bdf870e289d083ac75d39674c014599a6f10b3cfb48c3e6b7153901b49ff0c57929bcc9c20e54b0f066b049b6a0decd9e3567c2b31564b6e07d1fb28675fbd550e08100e9f1558c252e8ae22f1fa56fca93d7f3d71ba9fa8b044f31226c31caa8022760efcb53a1d47b9239f61e9bc9d1cc1d3203922ddaa6d6accbf74572b4ba0e9a27696aec317ec43e4f727b6d87543ed1397f424dc01ad205f374381128705287c5a3dc7eb6a74da681c819659fec5448bffaff098a9530c4f9a761c750c074d4f50abc45ac9fe0ff80ed213718cded72c4a15fafd5776e52d2787605308d22be224c0ce475453ae3227563cc72b10e16ec6c5c7b325806a221cf9a5b98bc2f5138a067314d7dcc13a4e18ee5d0b8cd5b57840f72c40e69f2789c5507f04fc8f41005c029bc551d5098466f8d4d3c8251491183fced8a8a2176fb61cf3492dcd272f9d8ce7bc09fe402276f2bc78074f7a5cbab562d7cc47f66a8b11e36e0d2cb240e92823b8cc6573afeecccb2aff03a1a9c82c293388c5eac5b0011c167080ff48c1136f0b9aa02ee6a0abcbfc131f0322278bb8d9ee9f6f05b669963e695de0c35dff03d3915403dae090a8b136918089447db1e378b8928ec64ea2c400127bb9ddb00fbbc78a6ecfaf9c39b5dc90689a42c1fb1a5626bd4fc2315d9ef08e07eafbb12d725f50d8a141db8fd3f5ce5076855ce364194d58a4105ef02dedc69973bf2bede1ede79e5ab502f297733399f186394a4b0ba8825a0fd1b483b773e997871f0846cc72944ab504bafda98a614995cd1b23d802cf55adff03f8563deaba20146f24b613499c7f412119faf2524d5270d4464c3b6cc6499c2dcb83ef008324a4f4480325cf0262dd05332930d5dcfc1b542860d6215968cf623aeaea29610884960ae22f0d8de7be94a8f298cd544113eeb4586997c1cbd271cf3ef2a1b0271f732e905c709ea27c9e383663776c6882641e9ef9512a3f7491cda45c2a5bf09272dc2a6a4b9e4b5df1f2d78b89fab2784e93d0f8b1af1583010fd13e57db428bdffea1b8714209ad404aca5701a56f3ef9e7d28c13457392efd099de24f3bd6db150f83710913be6a8aeb6ff48a89ced1985d14f394e12cbcaffca56101a514dea9af3188c93c21c02a9466cd0a6c2a6b3538d65b39f0d9e49c4bf2b073e41210d0f55e5a00fd28ddb49a2d048a41fcf22a315198d497ce0d17fcdce0fb5cd49835d55904154e0f47fa3c710a817fd8ff8b29d309b0abe9875fd437b2a752da3c74088f71cb59196b2b059eef2d0e791d77c47ad945e2626e452119b64da7e3bdee4ee603fb9d41de5cdf27e4f022ab8c4cb885cb06ebde97a8ca4e1be19150bd1a14ac307cce59a9c12e46d9ad0f58a11f3ebb8830ca31ca24d5a3ef09e0eb73fa77c100d090fdee4888b7e3f9b1b087b7ca5097ac68c6950f7441c9b847b5b11ae131b7c416a2ed695a7922ed70ebde1ac6c26fe0f9bac21cd047d9b23196c8445d20394a92b1f72d7cf68dc7705b67d6e6783099229630a46b9c8f8e364313585470120e628985f0d3dcae2d667b480027a10d69d40f83d515b635b0adf8ec3a8c8b02de2e5f6fc4c2c1068915eca60dbc6b8c7a71e62b388638ce6c2e78ed4d1dcb88459d4a7f6662e8dcc7032520bbf3977f6859b3673243ceb98976b88cb1b9c7ca8cd57569215df23ba8e173781b941c641f1478820ec8113297d24e10efe337ce8f954923d55a7688c6c4a6fc9356ca7cf2dac823359a3f097f7604df0ccdc19dbbae061759eb45e8ad164dcae7d3f943709a0e6eb7b81b989692109fbe4471cc2852454ade7c066ca48969ca5c551fa5e70e796b389a4a3d71614ad68bd427b1f82c1aaa659b1e98b5d21edc32aa712c6b28e608ca41f58e373db49a323db1baad2731579eed201c40d06f1022f7f2533c5720353ef0996f911d98090d43fb8aad7042f5f648cc8169de8ea39880aaee171f857355bcd41a8713a83bf2d8958d079c45ec57a09ff74798cddebd9a514543532bf3c9d909ae76d702b741356ea005ddd11379e465ce6b1a4a0ca2c749d3b266fefaf9a4b0b1e4820eef268a416bd9206a04f82093ead6705dad91cfa836f1e6d10d38232679c702619f6f36fd6e2b87cf3c14aefbcb815cc236bd77f738246520c1036dec12179032ffc6860ba71064c899d10c2c8d02c8f8b4abd5c3fb073de865bf792914ed2b03d4ad3d132eccaa9add3fc43e7e2290fb6b26d5bca523a76c09833dc6fda3a03037f663e1bca87af18b6319a92f6b5d4c7001682662a5b6ceb1d39593dd7395b83b9d5b4b22bd8c87a44266f37d028cca384d5cefa161a67b4f4093970e292219b78e6171f88e89c66b5c5da8bf62a0ea8513e066526ab156acf81c2a3e6a9a7ea51cacc3a962df36392c2f9b4a8eeca2df5716031fc63357f069ec8b2f571f5d53e8e2162318f86245775b93565592f72f75e2bb883cd2fb793437f07394a9c3eb5fbe770a2c346eeda91b4fea665b2939b0bd41d638a06163c758a55f00743c4f89a06fe90ac67426e13b17629d76c9145937545c43f10f5897cb520f611bca440fd859f3d6b5479f8c3a7dfa65b9e4d414be496a72993834e68e652a36e7f002a55f0a68282315c37b3b657142224f568c240c4f250e721e672c17f2711d0b4cbb01551c6d0c168b2f0a8a22c4909357887c188118ede10a4392bfd9b0bd3929774f4b500f4363af6542f52063f725d5de406115d40e6786f4607cce228d2a52476a5451faed6ba7b488380f46fcb0bd7706e696ad8cd6181abc8d8c7c8581d91bfe780c0f17623824a0e6e0008d8106db613cf0473914aa8cc8bf00234b447c2a1d874eedea66cf5dcd145b3efa62f7b879d1646b64480b5092c3e5a55e45e44c0b6cb96f30dea39c0bbb96482c5390ab04abd1cef7266ec398818e288410b05261d23cf48a0cd231b731c868bfc57f35788a8f858d9651aa06e5bf6d264e7891307b15245fc2dd169cd5841af708067a8b2c42623b1f9ab726c409fba5fe86227d718a028ea2c7f009967963c08a0626da2b9c9eee07a1aeba1e024f991d2f47990993f35b2fcc3b2fcb3044aa9d36e2b78bc5caba300e5b550e46afeaa19626aea6fa892fa73a4b0cff219e1b52e0978e8d140ad42d06e1767b0ae6fd1821e4c62f3cd4e00d263d4b9c97b6bd04dd72f19d147fae506142f3c6647faa91e5d15f551653f6edcf625ed3e1e0bbe9903b5fef395f186d21d267da882765966f554dee1e55029029cf333a7e5bd925b50c39ea99596bea2149fb1578bc614d19714d640b87e6546f51fe189fe2366ec6e042a01022430137702d63a51af212845170ca87039564045f9f9ce82146e2c2966c5373b44da66773e9ed2ceef316feea3aaa86e906d3f177e6ae9bf02ce98a52c1aafd20399dbd3e23f024c0c2368d2232b037e40cd1c68702f0e9bdcc6afdf8a734c963df6caa21d2043e0725ebdf50b0c23670ed2b00087830386095aff3bf05bafeb16b227992d47f4d90714929159dab74a3a71123ac4d97733c83b8b884f442f435a3c0a7081af635bc3e17c1c05e928968f658b66af1db043973fd907373a058e5b5a322b11812e4c10210f7bca8c6d71138b899f889d2aa3301e9ac6d0f1311cedd2389880c3ce62760d4c47caf8df802f3c05d75ea11dea4c08dfae00eb5d908502df8f77aa335f989fef4d36a9f85b1803591ca03e07d262317984a2786dc2b600852c092e942a54df76c6dfb7666d0d44a7b93d83d9b1157f3472da0e42717ec7d10d203650906cfafe5f0d80928ab3730f44ef13b8b9d88e1927d505f27490e0b0e8d5e4b98b086858c4e4758afb0a150fed18d26883beca9703d8c30936856ef5414d517893025e9d098045cb360351ec56d617146e458b3ccd0c1b7df0f7d3385bc8e94bbb91a6cd44d588e721b6c668164686e54623d12622a5bd95dd1b9a24376ed72a11037203b46ac57437055fe600295bf55526afd2e6af0fa924068ab1a18494fe588633e9ba881bf8dc21e93bbf02c83b01f0bec1f35cf7f1c4d48e34f52bb25b3b8afdaf3677a04f7ca570c18e3d9c7f6ed19286508e42e9b40e0ebd1ae099920b869fa1072f4de8431b93a3029f85343d92a1fb5a03133ee8dbcfa85bb38b8373d6ce2a358746149e4e7f823fb685c22d5b9d12b8b0f268c7232420f868aef3c3cf19d4da636fc3436c8070769fdff221906e436e2596711c42cc2e8d614f02bb3d45036130fb310268e32d52c09ea756638b371736c10d334983835081a30ee6e03fa78b48c88f18793ad9631517d14c29da0e6c5ba75bf800602232086cddf6a0d5ea7bf25df6bb15e8b6896aff65a944fcd7b25d76837101d7dd360581948e016588c0b280e775638bf62bd7f8f4b53509457dea676f6433478681b802fabfeda457b182d2170e497446d765d1156e513d826c4880bf11014d13a37f60ad22d58acf69df0c4c057d0c61fc8702bacde9f4a1283915e6786a63135341aa217d3ac6e0546b1e7049de3e0b0b52b69b2a6dcefb68ae41c3bfa408cfcdf60cce166ae1e8a18dfa27397e3d3c16d1259c591c930bac021b7687ddf84a494c2a5473a5867a1773cb52a248ba26a43a53c6420663dc63afbd37b59f13cce8235fde5ee53899b458108aa8482d08a59d0af00c26dfcd450f96769015c6f563abe51ed7da2b13d12e281217d75ec89ae9b44beee3caf18e246a5dccff01b0e645b200d8e88a56882592bcd875ea345e41397416a2f8df5b585c15119a9f89f7938fc64bd0423e2f8c555dc06f85736e1f9639df4065a70f19e94dd427d2897d64bc61b0c9290eafb12da4d2289acd50a15d37779dd8d2a5bbfb7c8f5bf4cbd76c6dcee67afc7e3bf470b22328504b725ceaf45cbb4578d74cda92a79e35eb48da0acb9fc249d739ea3f79e0a42c65c01092c0d1d9d1d2036ae08b5a5d167e433cc686f5cee77f09211b9f8bcb193887a69b7123129892bddb2398559e79998ad9258a7880445d88a411ed3eb3d509c18960f3eeae31464405b7f0d9b9206c0649069fea822a05e41477fbaa8e7bd52ff09923e27e07d0afeb0d5b8758e0da4d1e0b041a219126ca18066638b02d85c01f871a3bd90be0abc6e7ce164f124d26269fb52538a2ff92ae1d8d977d4582744f297040f77978027c6ab428aa813274c7b86aed604f35bc1f7ae1e87ebf0fe830c6093ee539159341ee7f9690e851f8f75a7ad8f0027d91d7b76dc426c1604c8b199ea50210eb7d9076dcc829431708f7004c1c07b35f2e8f7e71c49495ad478301a3a11dbb9181ba654fff37a22aef2c53cf173a2c68a0ddbe6e3d34501adb40cd1e85ab9c89f6db5362c5a0eda0620518e274c38fb8cb50c80c65abf22d192b6258f1faa955a321ba8729977d3e927deeb93536f4d4ee7e4abac551d932097ef77dbed45c11377303e5a9685d787dbdb1a09ea0478e8ff67c48c4204366b04bda17ba849361913173816ab68fe833ba737c4690a720ce9966b261e73cda1a56c6aa7038d18674b2a7791f074eb88442d0f6417b1d9c5a4797b1b68a1515846a9c23cefbb6b7ff7a6a560554e2183eb6fa141f84b73ca9dbb0c3ee6e0fc2db36fd8ec72246a87f8cbc1a9813594386fc7d2fc8c65d07f0115c354df6e63624875e8011ba0480ef2b5750db462321d6a3a9ee9b581562ae9f221bedcf909daa5082e1122e7b362a5958582aea3ddde511d6dd728e5030928c4340b01d653f2249518a81fec3d8b559420380eee30555ccc70a07187999015871bbda86bb249f951075602bccbc34d8c3e0f82c0fe8d294624a7df00a5c1ab078884225c94bab4408574a950b0c1f3c63d9a8fb71cabb342cd3f1476ff4549d333b513d93fe29d28f668908234eaf1e902fa49a072631ac4f04f7ddfa92689b78ed6fd039df4336974466f45fdb280a2476eabc373dbe6a482bb65f7842a84227d096e3b58c40d316cb4ac620366ee2960abc1566ef65d425eb23dc98e881b2969d01f5bf0b0528f6185a3fbc4f11bd49fe66ed8221d2820e04097fea7358b93196c4250e82c4c32182518814453d755b21352b33e48f6f99be2c911f202adc9caca4ec8cdea02429d252e1c75b9d2cbfc20b4e3bc5623dd769b59e95fc64e638eee8c26c8727703c11c88bf6fe3858c4321af1dd631ec22a6464c5c15089337f7a8e65837858cd476a7fddfbb50e7e5e4419201b0dcaf5972bff0cac8f5cb53dd7f989304be5a1d0281a2a8344bba335794fd6aa9628976cac7b480dfe8b40cdd67cb9032e1a12eef38dd0a27e5fccc4939ae0ab66bb53d25945f48cd62e3d1a858d302f735d8e7785894c58b249a5b8550292e7eda80fa19ff40f7ced1670c963a2aaf5cb68d954e352ad5f883b52611d75df7bb6c0dbe081c25396f626b85ab1e4967dde9867f64dbc8798d61e5227f5f2551a539481284648de041618f6f472aa944aaabe2426e894a445891dc590afd9c3543e41b5d9f184ebd38154e35645af5242a06aef71d2499087622267d2523eaf9e7f29b7c69d4b5bb3d366903d4a8411f2e2ec5bad9526b7f23409bcd2bbb0193598559960b0365e8d9b3655b9b2a38558fb97f0f5e98dfe07501f5cd06900b33192eeda6a3fde75b44f7b19479a7503804de0da1c4d8631a5e647ba3a58ec67932bbea518fe5f12b25d482fa1bdb22147081051e4a5ac4c90662a52587803b81bc0395740e7d62f64813280b0d50308a5829bd98459d9b827638d7f5f1cd6f2d99b4657b37d02822f561f63e9e47515f9767671be10280d17397d9780629da17597a83e1f4d7fdc17261a4b37e73704c9b1b0025542b16335cf36439f159876b6cc8e9e1065e3f2eb046f8d6e93f397cf5707849d66c8105a4d73984ee02e78129c3943ab038c52c3bc3d61c285cf5ce0884835678f9aeedfa1b69ba8fac67d6841d52481cdb7d82bafb98a63b65c4563b58d41248447aad7cdf04352b864b54a31155ab2a8c12fbe220d00ab022afbb3147c982dd9f993330318ebe745593948657ad0260bbdf82a35ad2dbcb9f717a0a925bfc45a45aa2340ba05508a3e80b5c7046f9bd8e39f7feb2f1edb7f0ed743dc07e2e3f87f60ff4394025ccb26f00e7589131ce49a78144d67bbf1df9d815d0125093150e88fadcf1a4b11191f9a0d3e96a5c5b47b64b475c6b5d4153835bf8164cfb0dbb10196daf470926653d173b929f1b6a2768994ff6d903e021ba8ccc43d9b6565375f25d8be3219ac00fca20efc0e80768c841bb9d2c5190738f4fab56a57171d7d148c4874bbb0dceba6d69d0cc5233367b250dfd9c4253f2b803346746d5e1507a8865912eefef3f90af1e398d0972e9f3889fffaf7130efcb3e5ec0b40983550a029d47f511211cdba6ca96710fb9c183bff18bc252ccd04f372e6692f892826307a30c93c7ee5486612a1031ff984ea1c02fa487068055228667f4fbe100fab729881ab098e1d69daa43d406f7c37ce1805f6f7b12ec7f6620ca3e9551f3d3c830b7ced8cbf3731bfbc38daeb5c67e8ec583d14ebf55a48ca216184efb428b9245f2247ecfb4e536694feaa54e79b1f0dd4e7e2827d703783cf71839c8a5243086e07c8824f8642c199072ccc1a2d2e31f5d9e6540bbab176e37e2308db57cdb27734e9c3990c270b9d081fd3a07d01e2159b6481cf3d2ca6e1859622fc0ef7f1c5204cfa7c27e2cb50ec93c1444106e98b3b000a438e5f9fff732a8ef2eb4610907f28150d1fe8af26c87ee13d973c91b0c2ed789c2456a2043fafda1c11201f8e2233bc9af8135016d4c1cbac75f85e24482a9bde7504bf0bd9b4e8f7f3fc10e69bde2e61a32bc605e0d2cc49672aeb2390b2ba69969137c5c2c94bffb24dba26840317a8d0d4a75b0f961672dcbbf722695bb89e64abb3077ffa21ade987d62b1db10034437056c50e0785eb0921a25c415b69e6d82a6096944ac8408b75bca7ac350e23f128c14ce036515dd49665c9741df31521b7bd91ce06e2b91995c9833cc822a3d0c69f9b1353a7bdc389ff534d361add65af69075986773a9ad30353ea41b00be395702a8fdc1ba3bbaaf4ae1be067f57f68b18724a1b0ecad565b6315a7e68bc80efcbda2ad88d36092f943a390ed2d46d12319d7ac922a6329a2f1f9d4843b7024c0f37544ad456fe0b357a166e5daa4f9d7690ca7f6ee8d4f079e2c7131f4a9de4facc2587c3deb0b1a9ae2b0a99e5e0ff8ad258a0d077c97a7bd3eafec645cca233b273203b695d06fd71c3378d18c9c82ee6647284ca24a8a3093add7de6bb2ef51c6ce054dbc91f344ef6daa56ef5e95ee626a1693e9af540f48f737eb51f30a715d17b796c64f25051500c91a5ce541a00ca882f39a4031d7c6cc2c516bb1a5581948cce1ff9a02148a76f18e8a55e1304511a605e34a548a3dd243caf152c3fd5e45700fe2d5415e03908f6c67cb22990e9d0dfc0c22bb56a25a7b17e4a23795b4115be1706c7c0c8c1f5d2586ff1b29e2eb40eb48e7f3202efd4b823d43c8c75d28f2daee113b3d368c8f11c2ee1f7980ee0fda948c375f2f3e338e1d98ca402633a42414e4814bfa9fb550cd04b6548b8a443465c948c57aead511f5418a426769e0d794edb817b64271d03bbf857bf53205f086f7c2b767f331a40e63c9f2ed65f1e9ffe25ce0b1cc0bbb388b18ff14b2f8b272de6e86c1e4c5173b32cc80214ebedd30dcd5f07890c2ae639f17d0a76c30ba70edffbded2e5b0bd274c88c3769f3772efd9662001fc0e2f5e6bd7e1a10c91680c401e12dc6c13455ad8993a3ff3d01dfbfea3577cb24d288a63d102f91ad561a7f11add1147b60e80d02518621a7fcf445fa878e92961bcc2d9938cdc039de6598004970d6b754eafd2f0727016da1bc566325642621afae2b218d4839f2eefa6977308cebc942924e2dde120060ad58ad94625466ec82d938973cbe31209564dfbccd3aa519b0fdb6f78cac874b6505e4e4636ed1db5119e9580c98c399336c0cf9111bd3750d131df5884d3662e9cf9b5d28164d58ce2d54e2186b6757417cd096407de1bfca5e50e9b153d322d342350da10344de18010916faa4cf1aa681128a9bd2f3553a94d4f38194b20e8eab52060faae7e700f04900cc1b6b00f41f02810195b5a95f5420f6bb9bcfba43dcc06ddcc2f36c36e422bcad33cd45bf6fad218f4c45cc5c038e1f88de6a049e76c0cd8e19e62b0b977e39b7609171a0017d7e601a02fef2f2e91f3e3b961ceb1668d9a500eb88e0e5945926b833352b9c3229c5a8884ab00961c075791723b208108da624a742b7a6a18e0cdf36a3ab608cb6c0823e7609c5200da30d5ddd173b5762e5a4b910f595a5fc2bf77530ee4c98f12e83892509838a69693e24c6deb580d9596600244784dfacb657603b4f64ba21730874b00c661a2ba44cc037dbff94884cd4b201cac9e0fac53e39b848e629b204a499540886ded7bc2426ef61709ced2ec91a41206a3bc262b76379a752702d6d2b963fd3e03da716380974e502cb1f797447ba74fb31807e1063b612ef3419fdbd24f455073bf27781548ea077d6a93e79bb24de314beb5327b3036a7ab3400f04fd6454e587eacdcb5fe7cf53a09add4918c35a03267eba6308fa944efea6f7c7b9ae6cc698d4324bc9dc6727b36958503d0c52a6bbf60ec73f5d348e9561368ba45ac6fd1baf96210032e92725b7866e2111e1272776823f2a2e523bd8f7c2addc0c2748f8bce4c034d3778a24e92d3e104d404bccd617385312ef551153428591cf04ec2ba01d3c18793c93a7671de70ea3710b443a415b797a3f5bf99f77a9b346c8686584cb4b56d3ecf16e8c9ab6b86edcd1a5253d74dc0ac9bbf5e100ddbe5b9fa00f827ba1d8e4c94bf47ae7abb9c067df5db6b68dfb6abc264ff1453de1ec0bf6af285666534f276cdcd04aa7404d84e6fe7fc504dbbb45ef402da675be27c71818e98e309d2c070d4fa5dfade92f82584c14594a8d60113a9c8d02e533dca5353cb02ebe81789f998f62c8ac59eeb95bc78963ffc0c9ce5c8496a7226e799465d4cfe8d01404205edb56561a6f62ab32952f9a806e3be95d2b7d233fc5fbc117754b831fb1c080157c59929f1033660c716bf2fb14bd94cc8b3f1881965b972e60cab5a771967cbed7f1c8eb8c268c24b796ea19e17d2422889f52f6fcf285421db2b029695fb7c655e9ec175598d1271c4a758e2db79dd765351ad123f8f09f6237f1e7a249c5e4997b0fd11b84b26a8ed792158ec2881b181e296445258e2c028c927b6040f7581e67b18583e256c0dcf0646a0f21902d5f526860e3d757d375cff783450e4d7af7d713bac7688a3486281ee05e92fd753268b9d484bc9299df331b497980e28220e8734bc65f4139e5d999824cbd728a118aee91a2e5819a49270d1b68561847a359d9e526338dd064493a1dae13958273be069b30222fe0d31ed478215f2e4568ca2232275f611a5b0b8fd6012e5cc9cd219c0a55cbe7157f56f5bd5267ccbf8388aa7799ee7ad8c5f055dd8d1932e0723382311a740be3be0e77c9ff0c3e4784aaa7a7bec71b958f6f5c0322132de688e0f2947a7a3041929edea231e73066a12f41a75062088d20c0de6dba0c9eb20bef93409b84f229077d4643689772e7e33092cffd83c14092306af89c90e9f23a65a27e8023ea0555df638e5d9a30bb3f37f552fa65f1d3de6a6406bef0eb53f9a248ef111d78190f5b200c04e2a7b71c7c55bdb134393cf8a508acbee4798df66b482c6b58f0940b618b51b260c5bf3841a31d768c770ecbe334e9001c8b3b85d03dad83a4b17a9b1cf613ddb0509e52e908ffd4df1d1bc7ea188f1347da008a6e777dd3ffdd65c161a6a52c06fc397737f1658ac7a6c06571f6df94bc8367b86774db5030196f548d2609917a30f4e93b39d062c7940540b26aca963ea46769ee138e56bddf1c510d38c579954b78fe01c337e8c6621863b1a7e3076e462ad1ebac02eb92d7c0f823442ca1e4fb28929d2a63027280d30d285dcd4523672042cd9430beb228f04d39390ed97f45b54363aef9a08573bb66b65b89b91632752fe5466cec6b3bb9fd76c22077aa947f4c432ebc1f2b3d1b4f8880674bc6b1d1b6bcef7df5d1a980f48e4e9b2c9fa055f4af57f61e7e4338c58bbc323ca583187d9479e33ccaf8fb4e62427ee7c88f2e1fc1c71498a33baac31d45eca577206187730552dfca5e269a416157ad2b2d0df555cb1655ab0ec303faef7257cdca848e8e5cfaf688fd80005d71d525b5221ab489012d879f1761adc41f993902f8855af758788314ea3e4b64d9f32c193aecfd1ba250924fe6c7ffeb4b6a2c945b528c1ac5d1d9b499651c5ef933c32a979dc507c635588c334e9d18a1bbf117a1283369a7e01b2a89f3662957a70a5b3eb91f91b1b18a00087f6713076621fe12ab80f14d99757e35bc23013b9b5d6dece9ea32351aa3c84a8db4ecd236347b04efc6822779a29f41a0c3211b0f2bb74e1f587efe52d69d09c8962dcfe85d608b42a057b4d881c6b701a4b1fc8117adfc9e5c16f123772ff4f92675077f7eacd156f8d25e911c0f6d121b5f931701746c21f2e7b5081c2511e84f00d65106c10d0544df6c630f0674105b1ccc40093bd739f9c92ec6326e623cb292aa202a99ae43cb6c2a94a145d65e1c869d5cb966866d1bd4eaa3401d4a7f51e4fb4b1c46e653d9ea24f1c53cba3c1728cd784ce0894ee0cddaf6a0e6e820869047cce2c8e195d7c154e5a5d71f762ba2b13266cbd3e1ca134601325ede2d63893ee1200dadb879518f57c02c1d874323bd35759d742e959df1333dc5cc07925934df4d183eb6bd604b064a6ab0a9f4576f17a29ae98c190a5206bd83c4ea32df3ac0f314b4e9b1427e1dca13c6ccd00360d5b9ffa69dc45ee264f49a9c81c7c5d2ccfc9c080ec92161fcd0e8b6c20cefeb7d6ba288342349ff6efc1ca8afa4fe91c6313965400bed64a9d4b603851bf811135f3ef5be0422e77e439c3cb5f7e3dc8dbe86265d6e997a07dbd9bdf23678749a560bfe746987ff77403eb5121049270deeb6b9a19b5d3370d44e54de9beed62e4a239f113e5046b3622b35bc5a8f60eba5171a7fce22d6bdd711524537cc64a0b480bc1aa068e5ebca70f731fe03791dd4cfbb328c10715f4298fcfcbc1651e9d4e9da434fc663097b0111e54393f169af48cdc3c91baf811e42bf9a0ea4d8efe85fc9558017fca0d2ebd7d90ba2067797cfc46d6e7cd4b7a7e8d0e9fa7038d9161c8e4a997b510be56d945501bd78472381582b6c7d94042a8e79cf1aeec1d25c83fb4aa1151ff4b35cbb35de625bdc2f0a65993b2d8e4805a1f5ddb64ed5a6528b8bd7abbd9e8c630a87d1a94fe9ec8b32fd17657a0180d635a558ba70029b3450efc04d5aca1f6649726c0f47960866846d17754955d1f2d251be6df12de0a126fe53bc19dac3f7a341f09fbb2e3ebd01d644d9745967329b82ec4fefb097f6131ea2ec0d29e28658c8ca7d0e9f5af19ff6f9a730bc7f2507bf052989eaa5161d87211da1dfa5d48937119f49cd5089d02bbd49aebaca7b2d142d93ab7b3429c7107f956b9ee754fd5f9bb725684e60976de00aafc378578f5e85af5e964082aece74c818a3c279cb3ef9a380733bb309d7c383527ee556cf0d909906af62dd8ee8b2390821809817611da0e427084678e03e44c287d2b57366fe9dfaa92852a48d929337cfd3776356f2b418be6840efaf30763673f3ab4fba34695cdebcf05522a9d1b73930db35cdb2a2eb14b82518fbab06eba4bc98b66a53d6d4d691b6e052c08686d70a3574abdab0654c62a2ff6c25cf7101c3997f235187e8bc0b31304d90e7e68a93b03c1296981b3e2daaced07fd8ae23dccd971f45ce939d1495e30aa40e67a3330e7fd49a090765807e81cbeb28e90c7ffd805323e4acbd86914227d90e6843b84c58c09f120243c89bb99b489b51d2475f5230c8d072bd48d04be39dbfefffe4c37b13e6d904dada948c039962451cf7026b75e64f6fd84a9f24cfdd7e6f847d913656edf2c9001121237b073ea03c33c840e5fc1a9993b360236368e257261e13935764c49bb008d5c2e854ab827c5f7b4a651ec6f935b36550f9cd526e406e72fdac4906d6c584409289519e598baf0585757094434b9c72ee51dc32fdf2d43d04b2d28a44345b882a7b77264bc3e95229caccb9eda50580f72ed4fa55492cbee55a84a8501f4731f8860bb8d46e99cf9ff63fe38a9b03e637fef4cbac190314d1880bf48b11e87bbab71f58de899e5e87c3fe27e2d73259697a3718309f6c86d40bd92872d2280a91f27ed9160e158f0df665a04fe21d46e2d2515de229642872c8f452a720040cef73c1cfc8b145a60e85866a58d6a7f012e5966d3bd21b774d246bbcf450c7bf0d68cf689d172b4e66df1d58ae31dafda070fe2c97fc810f1e84c4610ef0fb5f94dd5239bc0407e906c5863ae761f6a40346f55d8525f9daa9734aabc3dcc9e824e968026b25a0cbe5adcbd53e1e5f511541e481b619b7f7e676f8335a723328b0fcdba1911f47c0ae3ba0dcb31eae4c08c1a69b92a6393c9129a9022b0877d66f941dcfe088e7b3bb8cf2e78fb752a6f95196eed400c622252111d82cfa5c755b3d005f9f8e9837500546c53a1c399fa49a99e26a154e8e6423b6e5c557a244a3b5febd8b47e8413074a227d0a95349fb6656e68af8026d1bc66e77943a729eaf45ba960af09fd29ed37e52d9d20002cb8c976482ce616127c7da5d5a37c72280f950974c3aaec4ca0b4dfb5dafca785450d9d931ff9f6bb6c425994a96a94d58c2aae5aad0662f0253ee9b5cd28b39ebd61a1abdb2386a42d14becbfedbefd578bbe196f0a4a9f048fa9c8c99a3390d755594bd90cf9593547f567ef984d9befe8aae74d99fb1d4aa400987e661dfec43dda3e431bca8e5a347f8bc0f9e1012226069b2b16f2ec76aafd100d04aa05bc8eb7b1a4d64829ae8d205ec9c215e510e2179dfb51ad33a1a176b67864e0300f96bddbc03fbe52971d63c60d71e3b9af3d895010506defc97785fbff981fb273c03b5850ca38a46a8bee783527fdd3007310f5d41be78d8a844066f85f71aa3dca0965498dae76fb75c2f85795e4cf69b5c5718eddca2c37dac6c6f3040f5774a77736c6cd81efba6bdeaa2b39934f4f0ab787fa6bc6d2478481709276d5c1f1c53ea5c3d59a44452544f35362df052c2957239ad86888da0b058df27639b22bc989be3522b41e96656452494ff353c336cef6cca7ed1568bf4be4675ad25b22dd6e3c3a79667013f0aef45dbb5070f44c262ae9dc936817772ae5994f8df5b09ab84f19a1ee1ddd87d5cc1728a7fe6fa771a56daaec304ad7be66e8e046886861e6042f74cbe42e800456194ea69b35b53d78d8e1571c4fda4a5606b1150152efe3a7f2f6a2dbc6c00a679dace683ea4f01787f77a1b658f873020bee247a275a7dabc4b783631eb658e68dcc1297245ee797c9b0bda9cef549cad73b2421804dc8ecc1939677c8a8604d2457ce860603d10c5e07223d91bc98e760eb47653a16081505c67fe1c47b30738a1f95370ff913c111a19165283d9c229c6931eb3ec92f52dcea0be0ba414c2adc516afc5331a4871a83588a78abcfc6730defe99253bd640e173b9410ba5d26d2810af7dc6f0ff1ab4812d4d5f96d97e39262775f1de1539568a96f43ba80e2a9ac0ba4e94f34f0d63d4627e2ed84d45cea641bb15bd19684a0d953dd163452f6ce9aef821aafa0359a98093255ddf0fde407e6e8d2f7d1c6f6c6f59846a40161cdaf8530709152c9e6218b6a3f68691bcbc6b64571e0f9d7de3553513b6aacdacc1d4f708d1136949bddb8479e3b56e0d72fbe9919598fa63de8d85045664a3fbe974dc08c3f914fd38365e86275d4564b50115dadd84656dd4fd273fb10e9429b2d8a810ca4fd1134b272c3f9c1273bf7b91d646fc29a7db5c3743dae5267de08cc013b782d804f3800c5d1a414f0d51c46e24e05620201b1603e991681e494209d3e3a3f479ee06da2522676f6e23633be358aff1d87b9859cdb2599ea3951aa2ee45fe48db8dde533fe357889f51afddef750cdcd1314cf0de3eff665c08d39df477e25ade07fe70a6576d362788d60f4cb5a3907080fae3d5345425cbaaf4dea766622feac9cd5707decf347de2aa1d51562f1602e2028818f86d155444273940bc3057e5ffc34c5b38a5f7ce682884071b85314c2e483f0a8bb43c6128f40325b5d142d06addbb8ee7647b6edecabe17d01063ab78e8a3b87465d68a2814c2c56d2415fd949ca3cd389896ac1e09ff46c9174b5710f819e911886697a115ede3b852dc516df994689265f453a45a0fb4d4a1b679f824f35e241dd1c12737b48e93b1951461252a1db09cf0b86281b6d03e9304b16c651ac568010fd39a673b6a216317e2f9ff72d898281fce87959c224a81e95508b926ba8e0c6a5d609147a4da2c7aaf027710001b85bd7ea7c4c30db0ae39580dab82ee40f0e9ca0fc8546abe5df555cc3389748369f2e143116052e70a715bb6aac6202e138d493fab6f765c6df7bff4754ae3340c3bde4c3d6751a1bf4d4f7d57b75a8b2256adcc94d04f7cb9d2c2b0b726b4c807ab2eb39131b6d443da9f841320b53c845c0cc8283fc238304cf14f6689203e9feda1ddbb34f3feea456f927830c86a8cf775811ad949b11cf6ab28d57c4e48ba3833c8e85b33820116f437f90fce559bb6d56fc2708bdf66f50b917870a64a26d1da21223dfc3a781d69c249657112bd4d95d3bab49cebdd649af76b0bedf6592f5d0cb32a4323a30b696e83f862f62914e3c9e905c276d9016a47b0c6869baa319fcdf3dbb3c2590022430ed85548ea8958a79e70b628d2ab8902b83cd66873c58aa8ba52e4b6fd66429173190fa74d3ec4e5c232c4a04cb423b57f32562519644aeeb26262b0ddababe85e56b12889a3b8faca56e8d00c7baba38cf412b0a7774cb0d9132d528130fa925d1a22e3599ddfb17ae93607e1a6ef699717b9b776ebc666fef60ded9dbad04d8e2589865c9a6245c8efa2e6a47ecd9280d029e3071e4e706e7ed38d33f9f85e5deb245717f75f37ea065b7e08ddd360a2b306025e4e47322804a47776db7338fd2a499aaf39bd91645117f2174a80dddcf7ab957f80b5caa6d61cae9c1b247d1bea1bc7924d9dd514df499894f0235be1b7ec38c59a78d1c8b2810a71246c1cebe24f12526aceb0b37ef24a822e481b9423ede0074a3fd1ea934aaef5353b45817186263604b0224881ad6ad678380855d3a0333cf91112155c9d03c0056475661449d3847b765c220710502d13879564641003f7408bcc22f508c4aac969d6b5df669eeb436c0f1b69cffd362797a19be0ff73f11db973ffe54fe165ba6f0a98e36938dbd15cb64e2eb5c624c50bde0840f4df8730733194aaa2eaf787a83d970c9ec220433c0a219a1148c961b5eeb3e5ddef5bdf0f178e6a0465414228a22d9526224647223e173ed135dbc29ec3f92e37ac9efdb611f324b26282f0ba209cc07d9ce274f513cd0c826ad5d78588df97331194549c597e82275dcf26235a10c39cc48b1908e40d796af2d899d6007c2509098e4f59b569ba1105fbc9ad05d14f81494e13fc6c7efec64ded49d0a54fbc46d566f30554b677c57eb3b6002c31cb8dec512ab214ec7cdfed5b95f9f21353486b99aed15eced506891a7ee34233ab3f6f24e4aad485401a464eb9c6cc5e8e971b62a47ee7340e82391c533ad25a882531ed79468c4fbaab074fb8805c8f29efda9a90eb923aef25da5a1cf4d6fbe9aeaff54edc4771cd23a6f5a4ea938aeb3d72e535af52ce1aef7506ca4622961b99c7ed95fade144ed71e4dfd271b1f3194ef3aca43a839022c19d40e7a7fb6c2a5f87f1db09a9e54d5e4b5d4e151e384384a24a51a2c4fcaba14d9fcea3aeb1889698617f72e9ee1f4529d967432082e62d5a68a5c5248fbe5fbdfaa9fa2ad0aa0d2362d67a6cca05e36c88a03e8624006e50baf00c0f73a4584c69ba2bc166aae2065e8828d57efcafc917363c51ccc4c717c09a80e4e1eae8fdb5348a96a6fcbdace2de0c8526472f349a419d99f60323df03995e22ca2499182f08ea62dd3ae799ec8a2c5b4bda4d89821ab69fb29a1ff8068876757b541ae055341ac652248cee1255d6cdb1d73a94b5b195ec91fd7c89a0855e0442974a8ee61f1dc3e336ec27da8636609eda021b934d12a2a0d61213e920446acbd4ce18a90f86beb1a48e3dedf2639e9a8c6578f777524797fcc21ae237cf0439526c34bacb0920134155b1d0dd29f1fe0f8c7405424279e8fbcafeabcf4d1af4858a3ec62ff1effd65403df9af946e3784363ce229567db3cedec51e5c2038c18f078a5c72b921d5732b1d6283f3a41b3da52aa603a4082e01705024f31ee0c6404fb0cdff61dcfcb180e318662628dd5d9fb43b76c0ac651792da6b1bef46f16ab35d71a3a08223c58bdc039019f053b69f14d9c13642285fd8b5b492465b9ff6dc2bd08aea99bcea4b41fef17b09ceb522d3cd6df456d65df12503eb585f673aca58942db516f723c440611fe362d96b59158a5c4d8393d1319f95407c02bbde17b9e1f718cc29daf9f429bf0be5d6adc348ada20f94224304f1ea2f924d5f0112107476370ebb6b52985c754e60800013e55ba2138ded02f90e8d1ce18e4eda71bdd66010d364aaed1ffcd0a323381b531d4f811ad5f6ed284ca8fbda474ae001857da7aa94fd71dd357ff23f79cd25b7ec09be2c86926831aaaced15af69c5996b898db0f98c0f04c6f9b3b0ee0cbe5ae06cc7cf445a4ace12f6abe1e05ba0d823ecedd06162ebe11a2421a8f2170d65ec2aa7a88a6c5ae7ae2aa38e2572bc6ff34729b5de0ed3d258103f91d34a499c35a47e639e05b795b4e4f71c22e48cf77b631d8623228fdc1063888a157c05ad36981cf0078c22ada933f1db441e3fcdc6b41885e41e77229948749f3334a2b27639c494dff5accd2f42a3be260db5ade4648fa4d361d242429c58f66d99724b6fabf1505ec4c659c4a8558a28c4c6142582a2a2e8ec7716dd61a56e5ec21586c7de5ef2faa310a9845ae796856b41000de138d98dfa60971d51ddbebbe51c110f5b5d87a1dd02f90340e9fb9c10ae0135096c2f65cbbb62cc24277354555ec4ab47a7b4547761ad9bd49c7117d8de8851b479ede5ea9e0b90c1d59dd45d9deb23c4ade74b51729fa16063ada6decd4c01632648d969b265da8ae9fdd5cc35b515751eab295bd14c64fb234277f165dec80b2352e1beaa16dbf12ac4568ae14062dd14d4601f3bb1a5d01028c3b0a650da27e1a102e29e565cd0b23213767dfd0b6ad5bc5ae35d289f4e449538dcb50f7e4ac731b6eb09a1bfcaa73a8633cc4dd045f9f85d458cbaabd631c62f3296e4596e17a493728c92cd8f8bffc51b56bf95661bc8578804ff64256316310570670dcabc5a21fe7392fb5cf76ef56d7aca55751ca458ec4b0e1c80625bad1b8fcac34aece58a612c7c75f8fd2740aa79defb98d6115b7235fec9970d0675b593cbc0bad2cb6ae0a9bd1d5fff8eb192ad8d6e53743784546d59fa41abb176d4ecf0d70647b1d07032ba46c7627a28447dda0ee898aab37bf30f27b6e8c9aad3dc525a71e30f39ca498ca6f7439bd53fb6e424ed15002d401eccc547b83e5bcfc18dd621156d96bbde40e51d55212e3b0155fb7349f19b9e7df8990681d5e8ac54fa638a25fe8856efb6b5936da420c4a7fdf7f8f06823e349a2f220ef7ef99d26f939c1ee0a395757bc219797aa971378eea9f33f50ed910cfd505763a978b28bd3f62ae4a80174a875401e1fc064632505b4c89ce3ae16dd162f34e5da101c19e91adf4112ecab5649619f9282b30ff29c023894c14cd797e222a287a0642be34c2ddae8dbb72d7215a763510d2979db84f41520a6279f306ef10bef7846e05e8f43a41381f2ddc43a83ac370fd8fe756e49a8c3d265eeb1133f0140fdb80d31b39f04e7025d38b25b3fe82dcac1d42a07d70f30bd50287707a11740d0e76b02085f9c22d88f5044cfa700ba4849ca43918520eb11470de052090c6e5793c9f4007acfaf8fbc86ff5d09c7bec66f0036e63c77e8eae8c2a4514b2f96c479b5b02da2357c3f3e5dac95d522dc7cebd33ab4c6eb6710fbbafb26b57ee9b11a2fc30f0eb845d2f18290b2a7145afc7454b762eeee9c071ecbe9a8513c3c7b58dac652411b14ed8dadce7650ed4403a99fe6b7d0ebaad269ba09310b7158e930cb4d66cf338333c61b378f3a0ee43106d70c6eb789a4d3dbbaf785b73b3ec889a6c521fbe201d33c74ac9d6c892f966ce8c1f2a4c1c640475099dc5ab6728aaeaf0483b2fff788d07427af35399eb6eebae21e452d72b4d8dc2e61ae3b956b051e30fee33d773acec66bc0639f74f28f48da7ffd412c75c59d1432616478493a33104d7cb7e08730d41e106d8461c2bd865a8c2583b15fef723876fca88eab9e4ccc9e5ea0cc41b58fd7935b1dc8fd54f826f1a889786c53f05db69d99c9bc7f500089f1ca7c985db154ea0e2fbac4a9a1a1a7479b19dfd4dd9ad6b300d98f3dd79a20f0f1c36cd752e8cdae37d1de638aa1a24a4bb5c1b9543634c38b417aee505405e565d62b5594406700c2713ba21cce7582631aa16daaa8a5007ade92c4b6bdc7919ce654dcc6baf1c35cb1c6170949e0c73bd3a4e01e1b164baafafc471fd348c508871c63de0197c7f995fd5b74498a5f11fede1254058b73e686466d2166113e8bdd1b4fc2c7a67f9dcd4646d62c17ee5564928b1745f5a8e7745bd8bf61d72ace185f0c1b6dd08c64209d4a65bc6fa795660539ead6d879762c2d48e6828fba4d2a05a91a2290d9df4e0226a6c2560eb66bda275caa30a3d61e2443aed6cb052c11a1d0381285632e70407b60f1f9c7de9765fae4a3830b1bb6fd2ee2e76a6aa20e8f716af607497002c3823152efe386e535054cd094ff9563321dd46137be9fcaa56ab67640331dfdcb242d855600d59da82772e2c2063efaefd9dc35bd1f030d6165ae7b739d779b2b175bde65356c44f40e2fcdbfb911fdad1b24aaa2105ec2c6ed46e559238b60ed24285059a6660506b9012a63b286344a68796e8026747e990e112fbb569edba4134b394e37c0dfa12b7694ed3a237541f47fff6cdd5a7b342a9c6de28c44d7ec490be908934ab3490af10c1520104e97ebb8e63f95e253ad4774655345f4d69887d391334931ee2df22786d91717aa7bf6b6dff7c017c7812ed20553ce142be44196794586d899457ba94d53d12507d36d6d6656d3754e76ca5ee3cb68b1374981b9ed6327aefab3bfdcefa6af980af0788c440c2f88ecfaa84c0eff22ec006d142bfe3391406c6d6f36058894fedbc71e6dc7a3ccfe761b06c0ce0127a3a10f9cd2168ea1db309ec42578883eb36a28dd5387c62e7c97a39b4a7fdc9c7f7dd505c23dc10cf88dcebc8201b987c77f2cb20befd0100c342b503b6db16b7377c3a044dbf2d8dcca9240e349df87ba7d56da3539f100cc7087ae5031fa84dc0c7a00b0c02908969f00a6781f14faef473968687483cec22958d46a869d213bd4f6a3d5efcac71b903abd6bde968f2d7290050cbd06367fadeba2c69696c534fd66d1ca24a984a790d471b0caaa5cf44823c8a3332afd61cae0e352c51ca06fe59b025a16c0cd114953c1f5979fdbe359d3e71735d301a304d16b0d274179e4b1eea40b9aa6053131e8f50cb4a6add0b8d83a859347142046d3291c739fb339092d0b98f695d449725875345ebd1ae6ed8f501e31b49e8d7bfc9591dd1284a03e20d4f82b1fabc98852b45bafe27acec33336772edd44a7052ff1067071c8ae7c93796e520f1e3fa4479da9c3aa88b661aa4a05a5553005c0c85b525257d0fc776688e12d3a424d668fa6296e3bc534c0e4cd81dbee","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
