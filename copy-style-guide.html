<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6aa4982299e6a31d268f6ecd9c1ae0836b73d9c61d60bada94f14ca4bebea1bf1fc52ceaca3a689a0bfc2c0d6cce7f258918ded2a94c85527e5efe2087b109b54c56dcf0029210305b2a6adc796a2e3aae3abf6f848125f69a3f48a1d20caccbb95ab1831a6d07eb572dd5f5b80a62cc08075fcbb5d9d3ba74942a4d7520039172d86f7f3878f928e6d057a5c00771b84f930e9568d019828c79a1d379c5ea71e2cad0a81c58a2d8ef4d41d3310230f668ccb48184e7b60d284220aa5d1d672bd7a8d516cd8096a385c4c590005da60af78ac1f5fc276f835d3fa343156fa22028b69300f8980921f244ac696f67af15dd735cfaea42b7531e21f43e0431e7acdfdba90db68535abdac43cfb09408d820952d429dd89de45808ebfbffa4bd36d9e7fa5dd6c859b780c15a793c96207558cdef65378c396dd9ecb85ffe47d6255602187e40c67c6631a4b960899c74e2a7b2af8129b36433182aa9a94015b682c163c56e6da058c36b9d897036601214e7828ba459ed643ffa0de28162fd3b0d77d64e8f3fe670de587fbc5e402d5c1050510d393ee35aa655b70b98bdc0f51388c611bf78d91aa75685bffb0180c9a29dcb8762fceb96f33f5252068b9bdd8ccd7de3257732f0da6d58e1a4c5dccfe3009bbc57c51c8372e8a07111b67b68b718cd16bce6f10085478387ba3189f64aae416151085ff2139117f46c3b8d0d7990197bc34e4e76182655ee5ad606905444eefe922a32ee4a7adbb2e0a1a7f71b676fe6710c625f6f9828fbfc016f04a386c7084ae23f90c31b6c66ce9ffc8fa5fa93e1cbda97073d08d377c710f938f8231d560b51180bff3f9a970b6044241c9921bfb1dacf3109f027c19e9ee5ecd1359460cdd91d441161f3d4b3a8fc66139d81c286e7d354b34a7debe6e99a45ad28f148d1c2668f1f9e2602ec9e02c36bed912246fe4ac49aac7e428d6f90f321a1eac02da913e19c19d4f3fbc9a7e9187bc5bb1227168040ff3a53d3147adfe5d3ea772645e457f38dfe3f41d55e13f5c4aa670eede1281d24cd00b2b716a01121d9dd9afa7a708da035f05aa53827773a169e64216a1ba2446b3a1cfa3666279fd663fb5260ce7a4ec67229b0266089fae113282e7ac0accfa22c763954eebe4356b6002547e7db05010f1bd5e776eb1a2d3efb5663274ab6fbf590d147b3265e7d48262eb0401d15d1ee37f82961940c88e64d28687baf919504366df6edc15f8252be9977b30491472c4377a1622b312b9b436833bdf51bb87f72745985c0087a53ff43330e6f1c1c4f7f3a1e1eac10b50e6ca02d89e78862f2d6bca3b0258e98a0a78877bbdfaf9f631221c36ae796a5862d00b1edfca45f36f7e21324e4f6f14cd0eaff9a0971c343d9f1232facbb1ae4b211a2bf8bccab36870f590eea2ab1fee8428a712883c69de0120e21978c5b89c588f9a8f53ffd356a6f094a91a1701f6cff96daf446368974b4b5a0abd814de86f0bfdf6ffce96d0163f46b8c29dd6131c151cdd669830bc36b8483bd87a174e36e759248fad73ce24e4dcc5c72a051b3c2598836dda1aa46dcebb07486db7fd44687c8ee39b117023161b7079d86e893c15637a71e6d3db5e3b12d59b5b34433b438ebc3f0a5bc3a478464fffdd89b871a26d6fd9df3c252b4a97384d5cc0350bc0794f616fea0b57068036c5adde279a423d7946d9d1cc678e1e543fbb6468c2219ef02bb52db1b1cfef32500c6d78a00afedddb3b7e66425d8b04d379c9ed27a3dd80d901e9ae043f1f917da9d4c56389b45f53dfd22168cfd147b4573609085e8683babb3405d6240693ac0ad6ab40db5e6561ec5d206e82f34983bbe963fa513b4f2cb039d6e2a354ef04f7cef979f6360d1758a837ccc0b0a9e534b389e063f5a40bae81e99c0fae5f5a6de70c22c1b48bf4cd241472e59a35c7eaeefb9e647c7ccafaba2c7a093a088279238bd7a7028a95b24a7bb4bc6ee0951a8c43c8f32964ad0dfbea12315e412283cc4ce2afb06a9cb47b69e77d0fb21f6d5a345adb93891edb8d79394651b2035e03952960d45219595461334b483e2550144a0eb1e8c2379f5cf76d25c0117d8cdf83617b7554caa4a8a20baf6696bd78bdcb78e3e2f14587d1785c5877663a14e824a2f8b797af98bb06be2a0d59dad0b20858dee76d3d5743b815fee92361a4274df0cfb2dd74cd9cb65029d6941d60990df23288920435f84418e9025cc7f90b1b0c2d5de39cf251b842a3975ef93f009fb3d64c7fcbb21b4151ba69389519ae2b0896958e0d08873d9d5fb6c156c5b065582bf20a93a17aebf0ceaf2cfa84c544ab0c155d9a80887a5658da00af5e0e8b8ca656e3cc7a39ca358748626ee21b4cd087afe73caf7908fdfc5016af221c4269ccc1adb7c90d72ea7fb96411d40726297697913c2d6ab241b3809d8e38b1173e4befe691fa03866c2601c41aa6005120e826c5855c7db8f36ea2669f73730a30a8306b8608159a7ff3d5dbfa3728b11fa1a82548f382b88dd33e66be214aad28dea5ebc0de2ba37f6ee730333b3ba3ae6839438240c79b81250d1ec7262a6f66d8b461e2d574bb58205d10004991e9b8bdb44b69c94d49a86fd6bc3b68bac8581c30a24aeb0e999448590f53c9a18fe048d1ab60320b1188dbf89f1f73b0e8ae27c02da8de45a6a9af9e6a3aeda48eb3821d8173aecb225557b294019ed1aebb74457e7d3a2130392f450d5b7ba2722c04522abd3a88cdd81fc74b0bd25d6235deba8f9fee12a4f403ff1f2897088c0f2a6e33a06243cdd52bbbdb8426eae142a0e851d4f9a16a9bcc54b538daace83154ff8c79dc7179d57fff491cfcbfe8073c8d1b5ff59e333f31f9e2d5c8b441006ec3c7ca2f02004d43a887ab4c0a9c3518c39178918678f869475bd0d32f3285e463835e9bfc643decce02477e86045f5aaaf19f6f0a9cc6f0c0c1e388d63b78e0a813ec5c128748c400d2ba5cbaa585259ab2b6994eb72fb714a639790b3e3a8c9f705ae035c91b8d9eb090be1367d3f0e9d692279c40e328d082a67a80d1bfc623501d57e5a1ac2be1e9107b3080632ac2e1b397575494026ef4ab8465d3b0952e0c1f52b18b9f0bb540c14ca2638707fd54732811b898f3e1c3c29c6789b96f6380f73f876ec66da616b784ae7db649e9e8ccc794d8cd0a9dd37147698fe2083a0112501057b0e24352c10072769e06d91f9e97bf757fb9ce980df61b5286cc60339f23f7716cd2684e17bbb59b639745933eee0bab558036da69e89661afe4a5a960255b66441edb76e64b38b3c7dc41817940db7810971c7987c350e2a36905747addbf41c101f17c54f8a9b915398617bcc0ee36bdecee85e7b3054f6720139d42ca18f4ca1b57a14337509e0dbc8296b443e315d264f818adf1deb86e2fc85223f9a8b85c15c15275140ce91a0c127816bf52c6779e076cd52d606537bda69766fd1d4b9dd78f467fa30cc80650d6494b24160f4e4491e9dd23acd8be56be9a92ae8c593f25b8e4997787a15a7f9fddafefeaba4055af696b42ce2ef35ac15eeb3817aef79e2038fc3f1aee9b32f0501c974ce8151516245f669834a35d76cf8f912de496f03e40f21100c6e0d05520bbe395d29fbd1fff6c5d5b7660635b332d88b5aecec4a8e6ab244eb32e03427868057bd640e0d8ccb70ea4a941f933c9ab9b7d8942361c5225049fea88446adfb3c999012b8cb120f67bd08fa7a1327f5f65f1f08e8152bd9c7b9018bf8a762b0f220c0dec8078fbe7f952a3058053328ea5571e052a44d272ae36c82eb0efb598905ada8134150e8e6843e95c2e89a6cba84ec9af6fb3ff7f27a55dff6fb9c10940b570d3e806df3363728a2662b9faabf1fa70c1e1671461f9781babdee6853ed6f6555818c3c46f89ef7c0218abcda04208ecf581d508e94f7382981264d041091ae9c4589373f75a6e66b750cdbadab6e649ed5c4854a5584908799c26a7da7f6bfb1434012797be147735dc9c52a31c22a6b5a9d6da8ce350219567212c5efe7188c4d8c8a51008405a1ec919317fb857b92d67be867f79b80e55dcefd366c09751bd419869547321f0839854f88f7d2d5546c964f8e19eed8c2510f7e7c2d8d9490d5398e3f1e391200f7f5663b75f29f471ef93894be956a420deb2fb5f4af6b2e8037277442b4dcbaf0383e7c841c25b85655733cbcd3609d90b5741212b8438dc1be71f542d8b5ddd136397500e760faed1f148ecfcc63303d92fc6eddc013767e227788cd697df33b226c34302f0f28b10bed2b61d722da78cd9fe9a49b2f7abc26d4dd5a4efd4a8ce4a20889106fd9b01deb9e6cbd0b9c88358b0510890b182c6206c41a138f6c5f34cbc896bbd7e9bdee1b6d0bed3892ff5fb5ed72cd2ca1d1ad2926cc8b02c37f3c0d575112b65574b2d4f7b07cc15c061dfb079a7e4a7bcb8d14b7c9a2bb8bb64c0ef94efa52cccbcd0429af3bb101f608cfc3463048fca2eca80f3e298a99f7e3a4245daa7b4c15c5a0bec051cee90568b2e9c41860d610550583ce24672a3c73e24f4f652f18e62778fb1a9236e0c1f6678ffa135c5b70b284d33ee706d831ad6997ab8f7786e314db7ee90df30e0d0f608445b9ddd66b4bf48d100aed1cc4f5500b2904c64fb8b0c68e0b396c138689620e3cd9ea5842c7a01f91a38a6cd701df3b740dcdcdcd7861a95070082c688a76eb2fba4f43fe5712450dea7d5a7ef40ea0ace439d63f5c1a618e8f92f4cca82b17b2bb90cdc3fc221a7b31b8c051c2dc58ba6a6fd457bcfc2cafb3f266f90f0fc743a1bf1b9dbb3b469342c8110d23d45f883203b1f736cb461c1ce3d25a8645b89edbe6805f8e7542a8d0e4faf2e7d1c2483f63b0f52475b6acc77067656348e801b53a3e2b5e08f97de7ad3d70f614f32e010a0a70816fd1154fe522c08bf4aeb1c213696fbd1c8fadc14eec11ce221b4cb3f5fc73704cf6818333bf51689fc95a65f075bb3aa84e1d29c4cbc4b4a3daa943bc4ce28b1c6603038f94ea065ef4f632fa45898063d8eeedf22165963a4d654017e123ab22f5df6a27d2c095f917a63dbd0c250812ef320f6f5997675bcae35c73f369eda48229df2a53515de5043f51364563563a8f47c9fc6fd0f8c202587a9e20d35b5554474019f71982dd51d30e33d73884c1b6efa30d1a83dc2c0931c37fe58955ddf70dd164fe8eacf3ef954b12a678349941351635d5f74436622ac1c136fe9163963522366f15cb691e1d55da5a2e511995a3b3dd07ec7f45b7bcac97fa4299f0329038eeef28c6be199a050818bbe384a8eb43b27e0c07a542700394a506a3c014874c62bd69c7e351c08a4a9b0cf316b183f32836b7ed52e5960a251a786c5a21c171c7e8523d7fc3d31b271531f503744eef8ce6cf3857c6d1e980e4a2a86e1ab64c6185439108d83322015d20c8ddd85c095fbe860471a696c3b0ba93d8689ee4b3814aca18c26c38702ed9b29460880d7ab093206cb5ccd473183d5bdf9fa45d91e857c1aa84f1d31d07f4416bdb302057189a5247a2b35645d15090c1719233a5201d0d06f53df72d0c95b9433b4ba33c80d9b54e55a90b1ab2e9f317052f8447199bc3fa0f64f845131facc6e316b567abe07e0b0c6f12c26d5dbacbaeb1f023afc2aafe72f6d987b939bc783be971bb88bd43f28a711cee1584442e4ab61f3a630b4e4785dde805dbe460581bc76fd67aedeff17b458d9540e3ac5c41c4084a59c9c594f46d8000b4bb397f1fc6ae3395a72a57268b39b2bab528d014a1d8d4509d2710793dc2bfd79e5318bd12ffc4246bdbd913b097c2760bbf2d82c4455d93f706339a619da1249b5e4bd28a652c4f4f6f8ee355f84625dd5a8c1fcfde45ac552b3afc256c748696a036445031d80814b4ea85a2e366750f70d90ea3585c451fb4a9db7c3735edc26ecfb3d0497e3940a606e4a0a357c2a1def782f45ccca72be67ba42f864a2d2f619ba2f9dddfb4d6bbb7b61283cf2aa8605b8d781bc0cdfbb14414bb69a26fa9c919c52f7f4f5aaabaafabaf3d4c6aa42e283f4672921794c2a0e2c12f331ab017d4851761d2ff52282954d7564ad4a4a2bdf55b94d35afff0063bc93dfd8a8fef3e49420db5bf07d0ddb00abc54858546929bf5f996672d6c4516467d0e4574b13dcf8f4885c5f0c2a5df09b5566fe81f7203b93999ea0a74ba8a6ce86d76661117dc1e6e4fd50ab29202ba35b95947084361563c226b78137c7f6965ede882398aad717b95ea78885ab4eab47b09eb716048b1c24ae90c6dd0caa5019a518eadff41d34e91ade0a8d6a54e678e8becb6e85d7535fef1feee3e50cee16b8d9c7c83b052e81016dac44144a945a4f27fafc209063015006a125636e0b7b567785c429f80de5a6163528b4bdc20dca5a714e10d8a2d39ceebc64a55e45cfb82f0581106611f238bab0e23c8c7c4c393c9a101f60dae9ddf943c0eea27874b3e9293e0fda8b21c12af351050358e0437eab0816e67bfc920ea661ee679785dbe54055e910e0acfb02249aba28428adeab0fdd97145788fd4b99def43b2b52d7d155c59482eebff99dcde3971b17f1f4e7014e66649a4b570972cd587f49bcaa10025f5103d22e653f9a7b80b969e7346914b98c9b67ca48fa2e11a09467e19464085d6ead320bc41f4de037d78aac60103b9868260d306cac19229fa301ebcc4f94ae796888a379083c195052b34369b385f8101886080b17eb3405b63d22300b0663bfe65ca8f8102a2ef0de0d1e5d8c5e4da067e972e6361b8c50b8e8fb2751865962e3fac2dc99d1c897553224de88131e5442f0d7c65842b8aec3330b42567aac9d4403fba43c1e352557bfe21ec4a352766f6da943e154bc089121de1d1106bfd5acbc212fd442c4bc99f799386f18e4c787b0a67de460569b05f2b01bcb9a582ee19ba294fa799559e371ff66b33ef3863d31fd79a11f497934c61256771e55d64f730f69e0bf1779893e21cdc7aa1744bc0069d7c39d210ba68c492f56de50fc2cdc0b9e149a4f65f8198d34b6ed26c184fd9e6b9d32d0732e29815b484d34c5708daaac7799f23bc7486ca907bd32099045cff1011f6ee06494dcdc2c0468d1a63163ce7549fd686df519a576c02dd5d5cd77b57777d8819136b74a1013b98045e429cfc25809f3ab64d0a3f2e916221dcb500c0747f5f660b705c5eee04472b8856f6a97e5627d9e1dab163433a14c5fedc65d79c34f09109ee52db5c1951eaa172170d9f278cf0b026bb42f8a38dd7a5f1b4672b7bf2132f0387dffe59f608e5f6e11a6416d8f11a0585daea86ac7daae1cb6af5ecf177761cc345e07c720d94abb07e4f7007abe47cf011186ce3be45a452de8a0f8872e11cd351cc612210984cf62b4d0d99e61250954d478de9fd1943ec350db9240324a968f04d45b7bfa2a78302c9f6d1e3aed424fb5772f5fd3fb8f749e5b606ea53a750bed8347c011726b108b1fbb569f49c8d2e389b90163a069e64eb23f3a6accbd177967fe37f3a5dfdcc4e28e727305d25481f7caa7aea8c7288a7abc2f211d37583b46584a6445c8145a386f85696477f7c2f717733f8b206e0827b49db092d8ac51a86227babfc23036dc3680d741225f339d43d2bca3a27bcd1e2f45d46542214f1ce097dffd20ab97d7edfff538deaefd6eebfa12ca874df748f414d322003ad9a66d3a5c0e94bbb8f36b2fe30e5ae933ad210b047951f0ff7f9a0227a0c2e9c50dd580a177b242c015e87e7f31afccdcbe31caeaa960a6c509804d00640d4e98b3b4db744699f6aab2a586c73859a29eb94069874d29a4913d65ed7d6db2f30422e87b112de6f70b10b206c9f186767e017c2d211cbd9c0db46a28de351139061ee35b1ecbd2082e66e60a96d3a1ba8925817384484a371ed351fbf205ed8e20d1d919aaa17f0eebd5b7fcacd97adeefa2b976064e4b94953c4ddd42750b1a50012f317cc09f0d0f1a71f937bc222af7caf6ade3c9465be008f63d5a687d9adab7c0e0796339852cf785986b19fd9ecf22f3a4dfeda5a33ef42fafd4d8e3298517aa720645d6b54d55be907a7500a7202917825e7ec7d8c5bd37b2ac7fc40a5f812b69b9a7418980ac500f109c590095f8608218c3672f5b403d00cc0e0d36d3cf7fd86846112e309fe70f50c5ed5d5b7b38e2d3d956962a745520d0e59d4fa79bbbd8ebcd8162ba266be61e2b6d252828ee258d4ec2f02debf16d115f95b9a8424ed7240c56c338b9ababe7723fcfc84d87ef66195d5c2c6412d0f8171499defcd50455f2b79e56d8a2c9bae35490ea16e33e237b440c698f02e35f135cd6671f78fd90ae51c192757f50153fbbfcf4cbdbc1efe5f1480d3816579384af2b046fb67f546b64bd5be3300db1e5b3564ab66a7ced32e0064be3e34df6bad94a448ec17916adb2c37079e693cc97bc86aadfb0ba56762fbb575312491f80551ae7b911f1ad85c5387161b2993b2d20f7d5de8b0855b3cb7300c6d268eeb1d7e2f1c0128750b59b7bbbdcf619fe22416bba34818b95bdbf53d5aed772df49ecfc3b4e20969d01d702bfac9c2d9d15b1214d32e60e3ade11d9b411eef90d35286ff02664792473a9502b6d4da0aae6ff6ebd6ed9b0764147045dc9d427af811ea19ee876eedb70c7c9460cd16a78da7536a8d8174d2397e6c28f01909f0de2300309e19ed46437a0c62e15ff8d41ef5690ca538661794161b0aff072950854c61d7421cf11017a6db440bde56bbbd105735e73dc6c72de4be42742170c30b8686ef77db8eb9bbfabf6aa3032feeeec5a435f3e0a5b74cdb871914e831b6fb27e948410beda34a42c45d9139110bc52e2933519cf17b64b89bf3e63f8970a103df6480431f08dbe6d34460c401bdb8993154df52d93a05318819a8c3c935eebe87032d7ec335cc21a162075c43f87aa055b32ec4de93c63bb7c4e1dea1edf2ca4f5657fbf55916e2a231388f84a3ed56eed40e2acd3a0dca16518bf76fffcb7abaefb0596067cfc8ca357247134d976f98af49c96bb41b5c4660b3b604f39d9d4b7933d731ba6fac19ac4bab74341c76bb27d9f9da64ad9cd62adae7b2d8f7756231a33ae74997cd1d90080d17162f218bec47659059fbf709cc4e180edb593bec59688a770790b0970367b4ff77c64c744b55921306dfc3416f03357bb6d6ee18ca24428973ff2f59fa60459ca6e5c8ee478ce59b3e5b7dab9bea7154c8bc7be3e7297b30ea49a32713edae579d8d24c6f2e891114d14e003676ba0de611bf2d638493da58d9fdd144e41b098c0703cbcd8b5b85a0b531e7d64d9518fd4a9a72d4fdaca16be04395bee9b3080ce310a9fa99eb034c74058f9cc153c496ee4766452174663c246a56a07fb6c339f3aa632c40178cf20c9ad5abf9b37452c5e50acbbf442e18cef4f1f21e5ec3d44ad95d26321ae38294744964e225fe9a84efed36d670c5faefa190431f5aa389959d461e66b18fdc1d93301c1012f2796d7d1756239046e31bf8e3c79eb8811b7caa6e46054f819237410b47255384ff491567a94439ef955a9ed62f7629fe44d0b1eb264e7cfdd78f0e34595af66e1c9151bbdd04ef8593fbf9fe116744addb6301bd115a724f20c8e4c554b9dd5e3706fabe4d6873a5fe29cdaf28d52f693eb17da75c3b69c92e1ad02de0a80b0c4baf758f75717385508570d8b1a1c1e84c30f4926020b1e31992c2844af41c429895eef1c41cdc540a904c7e5d450719b89decdce0ce484ce7cbf9718b2d7583d43f1afdc043370fddf8b591e341a8c121174680c28582b26850107e7ae8fdc16e22214c47a16a4e1f1e982fc61fd9c7f590d3e63799c8dc23856641d55ec1569cf3f92e8c22623bd15d2470aa1939bbe1fd060f8412fa9a871f825897f234338fd56c4a1459e52ae7f654ea63de233c6d2f6cdb80feaa1d8b00830546bc641e3953bf9fe3054eedbb77bb878139aaaa23ce15e7ce081d70d34c14b4a1ab9b62e93bf97b320121654511d29b55de73d2892b1bc42760794a1b1098493f819b9bdbd4731b90ca7874803880856f38c68d36373599c634a46b05f079c7e3bd04a9a98c8f2c3239fa2dde52ad7df765aa4521b122e826fa63a8c2c8daccad23f8b24420f58ca856ca0fae2a48aa3419650e49cb756a0821d7f8e4c857d3a6bd9aff53cdc649aa97fdda619baf59913e48b2e3c13b4f9cf663d32f81079c1efb15427ed56170473f449fead3d6406a8bfb7894b953b806c5fca1d634052656b13b5aae9e6fc891a3fd184680271dc6db5d0175d2c67b95510297da84f9a7f0d88901e4aefc60511f892390b768b81bc2e8610029f0e540e4d55e0a98d565497e1c6ead4cc1dcc73841c6f543382c93f470b64b4deb885a472dc69244c25aa9fda9e0e4a5fd763cc3f2d9e068250ce2481d8ba8e86f17f6e3cafe2716858f0708cfb8f212cf487be85f072bdb9bbb12669e2e48621a33c475d8cf9f26fc0ab4825596bdb9f38314b77ad5d85956a8fd5a9e30cce8928b082727299df61ffac5f3d4e0cb5d8a086761cdb13e8bd1c9f99b374bed1820d77f87cd92a12dbc6465f1e5f4cd19a3fda235b668710ae5d166dacada39c2766d89f0e182b97896016660511d1288de8e6e39737d4ef2f85a07ba64fc757a57d5ddec861547983632c30c54fd854ff357140b5327742f3ba15256ea00ea9cfa878960ec260273deb728ea0df1cff54213325bd615a823d9ab68972bbd27b5f92a48735b25cbe342e5d0b9925f57f01f5f5dd9b160bb7730450186c932c88a6fd1b637422668641611de8b1879f6204dfb2c36b7bfb759ba5257e720f2bd416825886a1d18c72439c14312c8fa232690ef84b7832eea215065f4c8fb13b4fca230d299afc569fb8a8d6618cbe3da6fe09bb4c1ca3872f6dec7e365ca972e1cbd8eaf350f02693a289079a8bde4abbe6466bbcc96c6f59d1ad777a172bea8e935a1f9a5e5b22946d1addef0e407886f7d17168749a47bf45bad36d0694ad0204a431a37347b016d9306d02fb9401630f61cf5186d581687c098ead11cba4ab036173d8a22f3c9833a4b19862698e5a7e5d8017bacf869220282e265db53d5a91aa2928b7ab9c1f8bd3ed7d1108a1123c026c30262b94088ee74db82a95cf23c55ef201253dc4e0f9c18848e7b83956327199060628de63de30ef4baaef0aa5632bdd6afe6bc9ef6e4bf22b40c7c57d244e00655a9b678cc5b60b2be97f82c16a0053381de6570d3c2cddc011e3ec936326c218bf1739033d57592574bcdf37645f109cc05d310ffd403d88f465d477f0d78eeb3c3d2239197639884df0ecc38365ac88ccd51799d46e6b43ffadfeddfcb53f6c0af5ac2e877f839d67587455cbc203de410269b52f5336d8f74eb690151d7dc3a2ad87546f4ccaa5292831a34735738c6d53863829474e09c78602bb7f0f68ebf96addac30d78f60db0feb2863e5956ac12369de3caad808d86aeb6d479c2f8a873af8d3bff361acc8afe797faf40b75652569c6068329d031e61efe96ae7dd913f14490e3e13a26f72865d2352c6ae600182a0786c78b12a5908b65940e86f8a721837e4e44bf87145283928724661a857b98e3819d9871daffbdfd8dc1a111517b4aaeaefad4d987b0e17f1908fc86a22f52ef709a1ea58db347da6d9149a1a929e5825934a46dfff48e5227b343bd4546686b9d576fc2803e365a665e2d376e3ec53a96403a9bfc4118a381f0a0f7094c4cf5d4366b3dbfa08198e34936c82bac087eb29c87fcde92889862f181db16718ad1775e2b9b960e889cda457217bb96906b9c9364885377b428fb027bf0d89d5d8b1058bbb8bb53eb56a29b2f11c301a3834e43bd6516df4ac55d84498c8ee4d47a56162f9eb16ddefffeba212af0b3b260121802dda470435e69c49979a5863c9c9407baa47ee86e7b232895b447b965d40724eed3626d26b27747cf87336488e9f566b5abc72e8782d9515b3e4bc5a642f3d2c8cce2a6eaa5a8b802e7f71d0f8b0292ab5b1445f0c14a2723e836abba17b7bab01e577f6cb91f7bff7efc579989e4d72f43168e867dfccda4cb2b65bcae7f363b4c1b966d7d87e542742349d1f60ee9a6f667a82861552dcf2b47c19e7bde6a5428031ea59994f091e2e098406b0a0695c3c7a65d56d9518a7d123ffd0d8ca1e1bdc1c28a66acecac44d32f42e2801f262b549a76dcab276d470ce31bb6c61de80c34a5de966a1958174144ae60eb20d469331e153a80cd068904e1349d8c8c95fc6ef8eec197cffad7de4dc622689860902f0accf30015f5c20d1e37d2a1dd8f8179312fb2b934927675ca9aa04225b57c4e20b162606ffd2b6045d557e5815fe84023b16a7edc02d6c932ffa9b9a66b030bb258761aabd72a811e57b59f9f2039134a14e31b0699df82d5af167eaf05cada2af58a6cb350d1d59308b2e140852c05fdb1ae5d282f943700271b2e9cc5fac8c442582984e985eb019aa77a73f31531bdb9b046b73b1fc72d9eb26cd30170767a7371c592bde2a5b0a81dfe295c4c9b4ecafc6d8eb4e1db5c8e164a1ce30b8b25cbd7599d8543f0a557e4525ffe0066ad0b2cd57fa0f2d91353d47f8aaf87d847752a42309526be22da4a3ec3a3483047fecfeb02d085e27c0d9fc167f383676a95d655ef52d8d2552b87d6ff1f2021def57ea237ef4e4d80878b67c1ff85d0ace9537b0b8cfdcf992552d43c1afdb0f5356743c60e34b17c18dd9dc902e8f21a017b3068d022d6f0e6cb73203910d70a5eace2cfc975228c8453c959e6adc3d31c2d178993d628bf884958165d9d4d21afa5f08a8ed34ca279ddbd0db3460d41a33eff1c8cd78279a4bfa47539b23a4335614e50de7f539c6f1af2546dd1397a99a828716d526333b401271d8c8007c6eaec01f5a4955e3cd9333ffa0763527f27c11c00d9e5227e0bd7ca083d63fd44bad77cd113af2ad5df77dff058b4a79e8cf734f55320d2643d6aeef840941c45d5d0c31903d3c4b53ec76f838fa4feade3875d65eb3082d7897c8d61bce68753600f964168e3bc953e94a8476fc4ae9baafa4575c44fa3bf046a7fc0fa72bd9c4518278bb50a813c7649c69f8b754ca344c88ae6c00f3e39237b5b9b839e6959b27d7ad3f2d1d1e7f4d929974903e1c68c158510b0487611e1ff96ca4b0b3cef32de9351e9ae1d7de5a0f76ddf665fc4d1304f7c879c111a63ccdcd03f8471504fc275fdb16e201a5165f867019b9536562ef1e6026a3f7537d5c708f934d19d78796a0421c2a2b01fe7882cb261dbffadbec5002a6c3ae4f02f5b1216a2712a25b8adcc4c1d0269395c1f2410b34b5d362b59db8b5ac43867989e764f4513fd653567aec8d5a79668e2f4febb1ee6cea84a7215f2c6f5ebb170acfb0cd948c182fedf369d7718415db07ff8ac71ce922510a569d8c512a34ff7d88b59b85e79410dda3aed62e4f4d92c0fd3a993310e0f5844efaf9508dcc3ac4f5fbbc5c8e41c6d794efbe773aef0b2dc68e90f1e9aa4b8566bea4d297b9bcbc7d4a17d8d93bf124369f8cb05d3c814149612ffeb92d9cc499f1f3db38ea15f980bd34a1f8dbdebcc64c8e970eef3df7ea41801d4c718850cf0af5364b9ed1a4a314fb76a79693b3d216f7dd1012541dc5d19306e9562a77f500711ae13f7fc87df89162c2faf2efeb89a4123c63065a85b50c46eff96c3bb1d492daca49db9911456ddd2c1f0886bd51bdb60cea6f85a89e3a39b74d304c1a3823174c2cb0fae879d6d8c264da073ebd22be49f357eadc61eecf7eb785151e1e00f83f2a8ca71199afc982492a8480578813d42c573134bd9feb6c028bc65a690bcdcb6f632116412d40495d84e218477ee9ebc28cd3725abf9e64edb7e68e148e7ca1a8c28d9b4a138a0ff172568c5d8a07ea72c886d3556aa734d44a1edcb97a2af743c3482a3e46733ac1d9eca5fef240f9ceb06baa41e5df2a881361b462eb6818f2efd16d94110152e34257e797d201d4e962523d663794050f56540413d7c4eddb9758cd2c5989a4c92fd1e32581dc9a8f80bb985a68530f6bc2ae5305b2d170bbcbe3bb92e53b10f236d4382b747f74e9e3e6cbb896a7cadfcffd550d59637897c308a1b900acf540b5444a51284ee6724f816cd71f0d272f0454e927c1ebb5f2670762a9abac776055caecf8569ebe9fc7fe89679fc0e56caed6370f88c6d75a987cf3d3a376c1f2fdb86928cac5608af885c6bdc395728e39f62db5d472069eb4af75b344089247b788a78940732b64617be333c7cf0b3bc2f18f059e25f339bb98f602ae6c7f30e235e5c7600779eeeed0f8432925f978f68819cf517d598526f3c625b7eccd9d287b009635767198c7c4264f295f8bc57ab85aaf07bee61463b51a56298aca95eb829932d00c3735dc7c2dc0371470fc0449e1d470bb5ae6b60994d40a080a781f8c823aaf083588a6541d28ce45594b17895394f6ba270fd43c74e0c31b0883a67ebd80f6e6aeded28a12215bc08b2bf311580861fa04c6e843234a41f3a6e5e1ab5fe91b53f42fd6d01d75a6fc063cf75949b0ef5f91ba6f24b41b7f4b03c5138e8d6daedc2953a45da04c4e55348c9da95e69a1365572e6f9e2595613b90874965fba543ccf5fa51ee417e479989ebe188e6b377ad8b3a6ce9ac06a0f7509806ddedc45bc5f4a3e929dce524f6086d3a00c0ab52024f4ebaa7a0d978720e7915efeb23307448ea448472473125fa11c4fae4784193dfad12445c9a471bd1992bfe02607d84851db214541cef989c0e7dd682bbd2fc16d6d7803a4d783656c326d3c9276dd34f2770f293ed50b853a687a559ba4599a95b74635f0f1b7a4f306975aaae72d25167e73b1f806644314b40836d61bf1449ab0fcf1161e41468a7a8d44a70dbf2622abbcc9cee50d8bc404f12a6f7997538f0291b279938328f7d1cfac189b13902cd364e9744622ebbeed4ffbf3cb37886ca2141cee1a2ed537c77193ec65187c060687c58db61ea1396a9c4484a5d8535a21ce4368b6bb79cf6643c369b891cef563bb80aa8ab16b5ca899049ee7245933596fe678d10cf1804cc2a2ee3410f8dfbb9552f9eb9ebe27e5c25db865b7f243552e2370ee2cc83378cf68da1212a16667534932b11c8d5416bc1fdc38efa9644a60c8547e13587c751e4c3ab7d2f833f711c6c1d26bbd1d2d5ad055d6179db5546188ff3cb73832bd04433de08282b4bf077e5d4531f584336171ea131a29f4be86e94311bb221e0527f156cf5e427dafe29b401fda18876d5dbeab88d786664247cfc707323f29fc07c3cc9292544a771e18fb75c5b55736fd35e2d10bb2899d48b2dfe0130b7f8b9636873a205c8bff20dc9b79c43482da94a14e3c1a78527ef27553e8718031e34db7978eb0b5dd6b02a84d21531c32b5186bef85c11303ac228da3451a32c583bf9673d77682c6e9ba85992cc0cd4e84220bc67b209bc0f19a7a5be10c245f9dec66e708773729564150c3b8cd033184a14a55ff9df73865436d6a74e0053808a114dbaa40bad4f13e4d6d6a8b0569d3b9cbafffcfaf77e8e832d8dc797744362902540733809c892c34857d4ada2c124353ff05faae76229f34da935a5717e105e5b7fea8486247cf02c8a966b47910d25cfce8e1ea6487ef3e7d3e02f9ce803659b9c112d497e977857c8a250d6e3b9c32944c8e49a01c0bdd562361cbfe0d764379cfeec2ac88bf1d2f40c4b497753fed030aa59d73c225ee7780fba882dfb47b3eb62883d43ee3e365ff9ea708f973da84d459ffd6b4a8c484730068bd8827f5bc9bbf37b7ff587c634806275ef92f7720d102073517147d655b2caff56c8fb949b1ef82fd4f4dbdc96a1c6b5317c0194b6016f89c280df230e8e8278788f45ac6827cbe3370cf02f1d2c92f7431c65555b9e0b70f52589f8d2e7e54600fc9fd248c166345b356f18b1017dd1ee2421ed5be38d32a37102b37a31d48f5dac27a259d98f395958e922d3175649a77dff868cf23752e07e80ac4c3d7cc20fdbe3a4ea7f3ee8b08ba51796ccb231dbf24ac615a572dfa645ea8baab59e75dd05f18934c33602351de1b99d35def520a92c53b651b200d45a3f57b01496b4c8a1acbcdf2bbc6ac8cf0bac170f7444349fac78671fa1561a9c3366922dd2a1821d5bb63d3cba4da53bd0e3e856145e49a69b30f322e774ee0d7fe2590cea602b8f70afd7a3e20b8e8977fdb0e1b66bf6cb7672de9021789b5341d7c3ff54464dd5f451d078443fe4240af9295df7c6577367a20d16d668a07c98f94b9b8014e077b0a31f0aec3668d088256e2b1790515aa659490a2015feae77bd5f1de6ac94d8163bcda6f62a558ef9edd99d951570693526717db1c1934f33d4ae7eb0815cf147051a0e574bfc4b57855a5ee2b316e72639b63730b849e9130ebb9d15041454de4d978017343139c9c66f9ca2a142e4dc52ceffacd2b87cbf9fabaec179442b26c9df24330cab599c326b78204d56968ddb558a18222191c17cf1a507c7f6a43f036647291a582b68e8244be1686498f4714a3a2de1d69f624250f4445c3f7610929942779f62373dd6bdc5f4b01cf806fec7c385652eb008db49e0b6f8712c1cb300d08f02f075de34d3249bd7f4c6bbd5f7e1d832d3f52721f7f68e4cdec5828f453296cfeb456097a70b209e77af4a1e261636469f6f07756b327532bab88b7439713565439bc4b203d8840ba2927db9e0c339a7ff69f6173829447ddaa3b8179039a56349b28fb2e050df35b9d3eccfa0d17f6c4a2f2b01e4037986b3af4612679fb0bc94926292908c9ebc37af2743984679b53707c691dcc671804238ebe35c8c057e27514cfff0441453bc872ac41e734a38fbcbf2753c395196f308bcdfe99db94803271478f573be57f4bad1aa81de01eaa21aa7838cebc3c1739b7fa432e6aefedcf6a827cac013d1fc729b4c06a29f6355e6be07c03ed592621827d687238b9712ab07b65e766a4a2137a0b0e8fc5b00727ad8593f9d2757820cbdfdb3913857e1e4a1d207e246121b9f53615afc952c66f709a7b508ae91d961bd58642f8d12a0517669d527dfb14ca17edbb44752d7a84c78639882f58eb8aaf74613d385a3c9f9a23477c6889c544c4735028a891b2cd8cea65faa0b27d85350191500c93a3ed49877e87e22996984a075207dfb77113f6e0571c77abb8f0b1b547f2ef77d02e4a25d3891320da62ca07122381444664c3fe22162910c738bc5f2f5ca937e5eb24205e0493891e325066362f2f042c91515fb40f5ace9367550d8f3497df189c36195e92ec8be6c0fa77b3e990b01b2ff166c50c538ee2bf4604970c906382eb56f947c3969518fd8a86dc880334e3e9477cb1ea5ce741acafe69ac268a2e103364d95dc2d004a00bb6e04ae73f33c8d0da17fa3445dc6814a89dcdeea25424bde51a47640a7c018a95b12f07c75989672149b9b65649a1a8e74f87d294844105678faac173b510c952127a0a71e24b3b35bc76db5109ed66fee1aaf1c9bfc49e217571490b32d605154e181d2e63a3fe5e1bead359ff44ba0bef7423d598d97130e600168f0ec0d528fb723d0097e720b82e41cc6be4f2028cf45a526898e12fc2b2b4ad093eb26e61f3f402fdeb7df82f8cb307c4e38e59e8de0d025ae2cdf97322bae7827c3b502012004cfd5a6200e2d0a7673587e621d0ae3a254db1083a03f4e9a0dcfeb6b943b78c5c9b4f2d307b01b7feba62e33bff7798baa5b68de45604240605ce9ae46494d17f2d7237e874c0b4383d332eacd5eb98ba2b147cfd787cba9ab5b04104a9352e34d94b6073c283eb9e1b63d0f47d06b685284bc6a8e1988fc1e0be2ae9ce882cbf050c08fdfeb7744da72a0b8d57c0c5f5c7e23becb039c138e7d1aa94ef0dc049e1a373bc659d414866349d2fe63459ab12e89ebbd10af5e0d2e0104291cd1a8c6d6313b62d191c56fa1d5e345eebf10b6e19ac86744f265bc16d19e2f9ac3dc9ef703dd8770302fcfbb6505f19b8d81e415389d15ea4018c13b6fb0b06e26fb614e0452f25e74f26b7aa6182e12be10cc2a0e6291e73818a241ed7ac5820500c7cf2a55257b23f46898e3c5582b3a117769ee4cb47d19f122b3e655b4b703323f319ac6af226e23127145fb411b9d4e649e0f52312dedffd7d4a4240c6dcfbba2762c6641c8ef36cd7e65d2fa752d3bbde01271aa8f908ee0e4c6eb8e9816aeaa2e69d0d29e40aae7820eae7d77e8530f3d3dfe6ef78e100554d4bd1cc16104cd55585c417494ed3218903ba5bca7554330f7899ddf4a68946c0ab7111bd200957a40b88b61b61e1ebe85824802cd26d66d6966a4a651bb548e07df847418861c2d1219c288c72177c345a747fcc37df2acec11ed489e9b0be060b66a6b6e5d8d57d49b78d2282612e06cee52ab6d68e1fe6632c0b0cbbc81d9780d4cabe61a2d98dbb51954d6a6b6f35fdd8aa58d95107739454e63312992e67e376510b57492562890114edf774a2318d27d5a256a31063e534055095e2b8b1c809489f79be340566d0304cfc46c62bf1d4f6d78a041faf9547e853a3ded33ae307abcbad62ddb5940f95e863c32917b94c05dc6d6543ec76202c2f6e5a63c60a5379f64f08071b6e205d4b659dec5a896d96ba717110c3dfc6812706a55cc30059d520655962106f5260abb6d980c0a802b5e3dfc7e133b868777f239cb4b6f4db85ccfda3bd6d6297cb09631873103baa51485ca165e33bcfeb60d57fba1a9bfea8495bf3482ff14f552e6b2b2915ff5796c2a83f19dafdaeebb69d156a1da94c61d7c88756a2f90fcf38eab0e079e6fa44ad2f412d2b5424d25622c704b02c7c692a8b1acef8b119401d6d3c0b4abb2011f53dbe0b57548a5d0e2d7b53ca7637a047c669a5bbd90b98c7d3f6c41e9ba3806369db7e3594143bed47713ed91bdf4e6379f61ed919c325db8e833839ace53ac4c55eeb51437f2b6c7d4e15ace0d65c452709d9797bc41e7a951e068bb72cb9de641ba067ad63766640421c61c9fe02e8ababcfaeb9a5162628c327f3c88d5cf9ab6a9c5e0056df5e6de09745d3ea7c6494c3edfcb3fd6136d8b5ac2b4b4c648616de16735a44ac0bc22b192d700cc5c5f32751b47eaa09907f8279f73c45385fc236556e064bd17a4941541f9e306a95f9e7d4ddd567b77e4c77fdfb47e73de91650d731ade3eacc19367eca220e16064531a9a4bcb1fb5f7e7bb1dccd9ee02fb4f5d573c217986ffb902d7371b45c265921206477805f7ca7da5aa4e523d42ddd078aa4246cbc7563a0ad07988be67950c0d000ea5f4a58eb3fd37112e7d348c682364f5204b3acc0bfea22548ec6d30b6ff340f86391ef1650147740786336c7ae1753161d2b580c0af91e3f85e5822226b03c2f1144689ee3bca2035ef9cd84a19203049edd03272db27d022696cfc9daf8ed39ee3e9a58cd78de93ad8c0a2df875a23ca0d1c6a707bfad46b63b4e01bfff0ccc3f5d6f64252d9d2c9d10d7f30d69b287466875e824bc84577d8bf598b2e2615af21c4e831b931de3819fb4e2082d897030048440f80d3bd529da52bfd56ec072a04b759308e8fee9f54c2962818bf4f71a1ea7ead7356408857632d7de9bdbbb3e8e757008fba167745102b6c6f8fc660804d230aad7c764068ea5974086313451d22664633f91f020a9c6a0a4735dd17dc75c866955b336f32b91f7cf28d9b6c06433f78d5443722cda3dfd5493cba75cce30bba2e16aeebbcea015173806874c47c981762a1e8912bbc360f097ab4ec40bac1a213c4b35d7a85c7ee733933fd0f672fc9b850607d95668c44cf69987ba209b3918ffde50f00ddc64156ca3ff15da782dadf84237ba2874b245f0de74e9d38eb81b820c4ad6c89489d2df073e3e40f48359e73c495091a8fb7dd638ef1dbfd467eec1871f0adea8a8331d398483ee78a37afd330ad414f0fbd18ff7ec4891e5c7168ef59cc8313560c23f5fedd390130f108cbce0797f74ac4e0634ae8f27b3a4ba2f089b40a2c38b63dfcfbfe4c919ed31425becae7555e1fc525a31bf9c4f7f60cb26e316ffcb225e35d1dd180cebda381b0d46e1e4eca285836af24b4439a1184e5ff41af75896f2493b0c753cbd827eb81f56a28e1016974c791442965539aa372183fad249f7ed35325f04e8f5291297fbfcab257d024b666ba4f5886bc9ec8b203bd0f7ae801b96fde929486d0281c9052109ebadc93ecf8cc06d6db195624ad0fd0c342ba125d6ff41d0f07f7dd836d8c4f60d19b5619bedeb1066f4d36d8f9acb5982f8e0a8fa1e08ff4ebb2f7c61f9bbeb8b43b76adacbf0340b35e48a821d41c71bc7cb8f1e180890377f05ee11da644c337167dbf724950ddc7af7f52cc6c65efefd4a33f60b12e39f312f3f14e7f3691a5388382d1f18367a06c3289d1bf28d08963c1c156b81ddf701f6b0adc8d0e88e90aefbf1cb680b63ae64dda124d0de5e07c2afbe6c5d25f70c879a2a436a89b79b3df07af1a3de5ff8f4cdd3f982cbd51d9c7fd7a5f3bf28e6e7cfc56136fe4f3c1f04c159f638296d8aa141c6e057951caf9b16d318faa8aa50e4cf84d8edb5305647bd2c3353b68eef8e0872c0ada2a99acbfceb709fa446bcd11f4066fdc5fda1adfe50ed45c739069f2274ee6533531a540c2a5f9ef593488568b4ca66b112bf755fdec0d31f254c7bab03106c61ff1b7282b77d012a21315372d2107e7a255a36184bed84436f4a465aa6238d0b07a73377de2b0249f84bef34167676d4b565ccebd72fbad49d024ac84558b23f581a897028cc602e08078b17f7417834b87d409fd7934871f98908497e1d13b13b8f43f449e18d44b5b4e6ef24542717920e474f773863953f591c6385329356e361ea8ac7c78ef0f2cc18bc726d962e6606475f93c7cda5716f34296dfc3517e3ea5ce65efd52425e737ba5762ef2091622f14d539b4f6119cb197a570437c462709b43c094cbacdb53903858146c7e193ab39ae0899e151d47230c95bc70b6ba8009746f2f557252e1dd20e63f9c8b86eaf3c7866562255299fa798c820906aac0935bb03abda8c8085f30a0cda091ceb07e31d8a3ad8970a5638487b7052d0d005d0c60f131dfe027e6f4c0cd4230e9d249f1f1da62aa371fb130f22f07530b0f898da1a4bf5b31564ab3959830d45bfc4be0ebb004b337fb8f61510f8d396d8ba6ba28a1bf1f8f3a8301fea84d23e6921c396c95f1a4fe2ba79dd82bfb5a4b3dd9a6370c8562e06131c0d3c7a8fe1b8bcc253769ee6f65ac3a5dc395509ec2e0cd0dd20d44f365f16f118546eea05b4a424cea4f4d1e85276bfdd9e8551a8c8ef2f537c052d82ea4ff9398e365aeeeb8ca89d59fdecb5e2bad3ce1b90b0b2abb0d429079f15d09fd437a9629eb1d805c37a69fd8ba879b7e5e748e0db74c5fa9cb783b6a233f26f424b759f6081f7afb7e6388ba8f5ee883b40f7209c2f22b2fc1d5cd806166471d230901f9c556c461940ac7eea8f6ab31533f5a065e1d6eadabd8ddded2561e9766b3165d9bbb57eabd0cd02f25da8","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
