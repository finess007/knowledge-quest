<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"bc45a13f2db21a5e38e043c1a85ab27d31f10290fa045e747711b936ef1ee0d0b41c5268646305492f9aac5bfb7d85488d2ec102613c9d7b1f21789cfd46c9e830098c648d60742e56e5e5d9262e89e789eb9505414d76c20ca3ef81a5550caaa71db528a467f06aafe8dcef3f5e3efaf0689b73f0f3cb313c513d75749b57fe7a3dfbfa69fafded2125ae573f4c5bf56a6298c1d10a7f13db37115591bf9f99e2ed8a75ed8d013494027ecff44b0492ca82e6cf6b31f0408dc21df1e5382d810dd985514a8d951e8cb23ddde39f00edd9a895ca6cea27d628c45a15213d050ab37b5e19d1b79e4370a21cdc4b6ff68799998d9006ccae6b05692a9e7f066af18c0d05bd4fe1df6b6d0ce15a0a7d6db0bae9d8a65595e1b04511edef6a4bca11eb18937f7f19ab85df0ddfd0fb485581334b6905f7a90d1590b311a48fedacb7f60f2a3cc2e948022a346a1695c6977c164c703e173894e3a72faffa10376692d2cbe6ee479e492a1ea3dafc23fdb8eff187cdf1af7ab45bb9e698eae070c9fc7066b13c82dc53af4e3c6f3b6157510875827e970074469d55ff20a01754612d786aa462faf86ed06205ad09a8f9a7db3f803e1dacfa2f45437c8474c490e0c25134cfaa69e2873999aceec88b4a545acac5ce241ab0410338bb631a2a10e49db5b2c03bedca4cb7e1215a7d39eb8b9b3492ea9c645e7f50bbe5eced6ea185c5d0b1ac66adbd4f8bc416b2389109f10f66e9f9902c46219031443e42ee3ac06660479206272c42705f57e50490eb4e5476721bf6eed3dd066ba27a99bbda9f533c9afb1a13f90f52d6e87019fe5e0932d4f3df0d2c496f78d8bd66d53957933ff079ab18676a7ebadeadd88ac0e6e350c45f6ca0c22337d088e92a6e7b7869515ae8e6858a85786978a6af12cbebe862cdbd0fec421b197da8596c97c8ac9923bcfc7a8e19cd1f56989e67f146b319477c288642e566519cdb2be480567d4557faac6a425d730e1d536b3fe22af83908ef55a1e5e8bd178a716d27277e3f3062c967f7afe805dbbd9b84fdfb23dfa607fd2b8baa2d4abb406ebc750f390c1d38a1b5dab48c3cca101da32b7cef267997a119718e90ddd0a957d4bc404ab72fb041beeb3b8b81d3021a66acaeed201da0df8c6800afb7bf706696596608a8818c26a08d909d33b2a42b9556ab2d876e4a29521758ef372c2ab3890de61032a119de24e633a77eed72df52a51b43862ce94f51dd8c9c1d70c2b1caa1be9e90786aa45bd6f4777f29be16ca9a7166315c7205cf0d19e8b464ab57ffa6879ec19ac13c6b7859d273216030d279df1baee15748413b44c3385c6a395b1878db92a5909ff1053b592b83d86725e36b8eb98236ca5749d0b78584105d02e63d593b792381bacd934fb2c19928adbeddbc361c6fb92c797b3ce501b0d17856936e4c060e385fa8abb20f0ad28f430557f17dcc4cc79cfef01cf34256fb3da255be07882868b7a15d07277951381c4590898f81f2592b26b2c04e5f4e46e3aa790cd06b683b148c1aa77c01294b50c7b0a62a2f697a7cf60b42a1d16e5709a81073d9f2ef44a6e11b161e191d6e35754717639c5edd23a4830938132aed615a0f1c6bdcdb7f9660c4debe767ee241bfa7cfac33e533599f9abff8da3aad46228166a4034f4741ba1d78d58b2821290059c681f62c34f9c550042fd52e04a4912281d963fc13bd31289c10266db8275ddcce7291dfcb04111c33cd7bbd0ba24b250310789899b0999c5ac6ce9cc7e70974995d1783b42ed309dca9cd614f7723955a74bf16fba38ee1b0a7a784aeb9039b5bc09e328b74039c9e56f178ef984d958875318b49c3296baf1efac70083d2d910b4e0dbbdbd82633ea990e29fc10123ca42193b2a445220721ddd8b244320270822afcc7221ac755e40b17d918a438a9739a11991a9095d8aa5d21adbf1ed73c0fed84b79ed550a6f96da7c3ab2056b3d216346c4efac5c42c19bb95709fc949993d4da96667607dd367f9cfb513cec16518f4d0fea7d473853eec49d3ad5b80e7b166348180e57232cd35fc7be7cc7a80f02231329a7f7c1624e3198cc5b96f5eeabf87d5ae23f939323d6d6ab8843f7358148cec4b86b9ff2e1d11ad10dda6609fb71e4a910b7f4f6c0c8508e112ab6620893f8a5335420827c07836af753f898d589c2a798d620b4e6d7f1c434f4ba2d27d90949b8893fdab19d1886c2cb77aac13b2e26cc3f4b0bb842f6c6791f352f4837d522517a0fc732f5b53bfe005118dd6d0910fc244b733c51d71cb7550421779cacdbbdfcebfbd20c9778b4ec3375675857c4d396658bb89af6eebba22cc5a177f8b7d6099edd22164887432dc63a6549c944d70968b44c6f8f571b021fb59a48f7aa6c5cd9b23d8f9defa9ff6062cf463b935ba20a0592c1cfcf5f8819ebe8c94a28c3d8d4b7aff4b6ac5c34c4f9a958951777223cc9d8fff773837813f7832bff5e9f9bfd0b6086091672f3dc16e05911d55db3e20dfc0111d14a74866f1fdc74f68722190007f8db9904f825768754800b226d13beca99d4e83861f1b79096a76499e98c508729dc0834015f7afb72a7db16ad0da1c0bac1dbf90636cd42aaf6e614262d1beb0a70fe6b92b3849e5d949ee1781c5ec5a0f7817df11bad24fe9125e12b623061f78832aa838c9c47261009fa157e85fd755d8d082d86c81050ea6204e7450b3503ac57410b20032e786d65066563b68ef4bc5e13d31c57c3cde687a1edf50038d33893b1e1046e6d0ff1a67d91ab7583505f18d3b93ad9ff7249b30a371816d6b2e0eeefd7725adf472f9bc8c074e2f0a1559380dd3f4a6a10c35b24d973f6a543242ebdafe10410f8bb0a498abec4bef9d3e52d6d906dac36115e7639e84f7523731bea6b02487cac1a0ce4bbfee475a904fc896fb09c1e7cc940f8b11ac8dc45c047cb2296bcd9d33e94bbaa685969f643db9fc92307545086c103e36b0fcefda0605d2f147f03078b93be91f8c87356ce554d2b6f85b864fcc67813f77e2dc49e424420106245e4e82fd358a1ba6520a0bcca41a798b8c7ac7de13e865e40506abe0e172f397c74fc7f27b5bcb3b14c18916b526bfb62d0f3185b61abeb45166506580203031482d2c0f3e5ca41dcfc55d7478353cb1aab959ddddbcb41e879402e4761bca50c04f268ff0498d20b1acaaf0079649390cf8c9642bd8a9ad2d6b52f51a2654ec2e1272b9d76c3d0f1400b53d9e939133506d0f2ed057f56e811f0f85ca579f3f92058c837880d17ccfde4f6fd51084f22c2223af3a9e5857cdba5f54d3345d5b8d0bb8193791a60c08097bf7c89aa1a51cd6a1995dc244524af36bcf4850d70d8acb355b2e61334e685a4ef4e78aaaf1052166229c14628facd20ef8b5d024b74acc386ae1dfd1cbdd8eb37ad8e9292db753f8df9e1ef530cf53421b6a87c8b4eda02590e52587a9039233de0d07c523efcc8d7a51ae79e10ff487244c1f5242fb8bf33a76ec4aa531773f6af1aa41f2ef47b226169e83fac5e209072c6c15be19e69bf4ccbbd9a5eaccb7a5b620d127b6ae773aea6cc8992e38d035cda22b5616fd51858691c97861a844f9d5aac4e433a8b3bb62a5528b276de88a897423db83987405989bbfb070a02d13b27b6684b8e3d8fec4e0d56d3c541953f797dc218ed560630ef8a4ded3dc9fb89cd186081dd70825abba38ed160a64c2d946102bddf1a2064b3a0ca84d2442205e158b2eaa24d0c4257d2bf427ed31c64a2646851e424bc51df39f5ffcf1a9daaaad2edebf71a8a7f767bd7c743d073ef36a83dc3fd8e783d3ceba4b22f1466e1bed5ea6b12b779a7447f88d4b4afe8f244be426caefe63e5b58aacdb674a4df02c6740e1d4aa8e9bcae13495af72990893769b22ae273debe21473a56bb422636e3f790a4565c5421ff7be22ba00ccf10cbf3d91f0c6cdfe6f61899dbe69ba091ca0261481e12d643d76ab80b33d64b38b952ba76e6ff6f2d2e354e3168b7038b0405e9afe9fd37454b0536d1105ed40e956dfcfeefe23689e77a57bf836bf74a44a76b328f7f0f4282eccb7c3198eb3b297c3e3d89b09fd20af32d0d87102eaa9c2d1c9d8c0979e9c94369478791a0ec2cbcbb61d2aa855b7fd29a3477416f0ba436b68a5132fd6d8b6da42c5a6872e558a1f9237414c55802bca309a1169423ff0289cfd7b80f45f7078d780f865226bf1ea6762cc7f839ba2f0ab77b29157d4d6aa493b359d67dc52cdae3707036ee960b786490fa17ff567fff72bf2f6a3065d415a0bd3e905d90446e1b7ec078c2dc216f0d1dd6e1911a71a8f60137abb89e0e8bda87e3a841fcf383d4b762da27e4e153aed76461b6474c1679bc2f0dc642b1126bd1048dd5e38c0d98075de65b30b910c5ef14018df4bb06dcec36d77cd78c997336637af31443a2a415096e2eb913fc69f4643ea8c3ee99f27870bc7433e8f6cdd1c62b860384bb6b21152d35bf1fd6b97fd8d7e610b34bbfbffffbd0d2849108a6130a954f6b2ced94dcd5fa1f0255506c301c28812eda113a16f5f8759cf9f1e6c146810c13ff4f864adbbf5de2f47fba1715e99df863b139daecb8bbc7a5c35681bf2d247418bed5cfef035a78a8f6f57e1d22d9b7f2500b4edbaf3366b380800dad9495902992cb20102794cdc429da83d0d97525f8b22f7ffdebd2eab8cbef05b88c22a474acbd6c83209aa8cc5c197e0662f27541293be24df6192969c2279fabda384825e8cca02de4150df096005fb63505243e703218eb614b49471d0a37722ccbd841ba8fbcda98957ca3ab415cf2ba9e2842d3ebbb7dbc84145a5c7beabe7c471398df5918941bd721c1a0cb20fdfcec3f12ca0b1cd5e8383963672edf57ba7f489c48d73f20e6006192919ab45119d000f987e43291a32d194e40fa77306310c71083932cc03875197521f1d419b9ea6ca2c89abf349c1d7f67eddc90d65002309d5850ba400c57785c694cf93e52db0847fc036b1be67321a1538514816c0adaacab544285f75d00dbb01e718bbea41d15141714584663291f65b1a25bcc6f3b004490d02c6228c6b0641070646eab5a3f9937c0ab9bf9d29338bec5a22969ea13997747e9c123893ce833d8090a8326dc3ef282bc2314a87b439ab1ecc1e3440b288135aa4f8b35765c3c14749a9412fa28df373a525572ae463c428f4be051ed496969608a2e45ca5211447295297c16b69b4f2f952f426cbcc089f9ab3bf8e3fae4cb4094863e3e5cb1680f5c2e7235d4e1f021edb230a82e69c27fe0bd05616979529d598e076bed4942beb4797aa520162f205cb7722860bc1d7889c874526d65f0ec57bb9be8c359a5569526adabf747abc673955162ce8eb92b03c697fbb6d511736ce21d87c0a4059555cc25a37de342a907d5b566b26100361253328ad04ed4bb3c243818a9a20cd3e69d7d88a283dab7d0b0aea6c3ba241a9474e4df0d9b038ff35aaa8e4b3bc77d70b157ef318962bd5a7910fd30643b577dd9949a428d01c0cc9e6becf7d861e1225bafee896c05c703e763c63155bdbd681597c8f29aeac4efe7d5b3d48a5e12402e0bc09ff9ed8f67ccb6cf28b9d636fe9446722415ff88823de913cf212beac1c58dbef9368e522f99ddaa5aa60caa1fd0d8c0eaab0e14f9f94779495922136fddfb437717df3bbf794948b697eb9b5a51cc774ed00f1a101cc4ce8ffcaea7dac67a1832bdb5b43bac267d9091fcd5fb09c34fdbb27dc2183f8c983086757ce589ae3abc5da96749108d8b7ac076e44cd616f1a0e985af1e1669a35c2cea1d6851e3bf45877102763a7f5b1b7c7adb96c26da70094fcfe735a41450a0e12d25427886b97ac824c0a48b395428637a62c6387195ff7a184d4d22e080d2bd0a8ace00003ffca53d7751a3ab2b8e702d8ca86aa68767834bd3b229db1d0003245c4aaac75e32f62a711207f67f85fa1bf1160e5100623e14657576bdb4c5000baf022953d531a5a3a0a5cbc4ad04e5a72e478828b3cbe59935472a20cff356c8c4c55826e4456c67c548657802c451e2b580e27159e5e066b62b619379b46cd4480292414095805471771634ed34967b48143628165ed89ad61bf929142c18682903cbf2c3b5fa53220080a0e236b00400226a78fde06f561d99d98f1a341f7485fa25f084cb1bfe3df486339841c063d6b1d8af7c4f0c780d6ad455dc6668d7f0f551719f3c1f285b48fca964a765614f8ba6d86cf0d745a6d99098a295f95f6a3f03ca8b2314d963554110d1ce6ec04258f412a9c407de510a34357f34651f46182eb30a2b54a9431799c59c91e248d8571c6db60b47fd7e5cdfe5d709fe815c639ca316b0249c91ee76d6d207214a34bd7a2c927333cb19145b837ce67bd29c20803ef9afe7f71199c1e19e4cc74fe3afc2b147ace8a1c570394403e2eb68ae9583dd919839ff133b78a9b778c051f5a3c0702247a4780f06c391ba0aa9e9e3f606b532b95fdd48393f179ea6d2a1722eebfd443180ce65c44eabb2d140a54a24913a610a7be8209e94d500527fd14b43f4cbe782d8853f7ee86aeb2a2aef3b99b4eee7adb9daf5710a41a30352fba0ebb1958a29d4963111b7fb7f408dfb1be1eec5b915d1901428e98333d9a5e3036fbb48615b50c296c8e09fa0e6dd6caa5346649026c0692aa87e274e283a5dbb456e8511e544603c54ac0df3104743d3439716eeb149984b04d005eaaa8386159f6e969306131707d3c1b65f4ca37fe4bd7423c536fd3ac829e2d73377839e0aad7dfc348dfab01f55b68d380cc5add8c95124bc9b11aef133181c5cf7fbfa36d9cfcfad4b7168dde56cbc18f5c62bbaa6ca94f9fa333ccb6c6cac3ced6ac5353dbed92befb1436dd17b1050bd65b01da08422beab476357a1a210a95a9b573ab530fac9eb6a20ce0da147222769e487916cc85a4cbfe6aaa2655d282beda4a7f475c0effda3c834e7a24518c4f54523505a40287b63d43bd7d5f0c5c705519dabb7df243f4936a916c23976048abfea6c071478fc43934a3beef719b57a6dbff8cb46cd158e0fee8f7b4e80fac31c3d1823c9623bcc238f422a8b2e72139b26f840c456e772b10d5bd81c4a9b2040f2aecc03dcf64756358d1f5a8c41defb7857ed502ae8ba9caab426da95b526353ca7d127a24ed40d36b24e233304544ba6feda1e6a5092899446fd7986ba46de9e799eff3947e901eecc7491223909187a4a58d9a15170b2ef4c8df5b4b4c3f2368370a0fc6f4405e07500f9567a5efc2024c429a37da858159dae767e398f6a7b9939c604c52ffbbace6b4228d062991abca29c63b6a37c2bcc46080d7f8056065a2acfe41d5bef75c70aa1f10368fc2db22c5853567e50111f242407ab2d5dc45f8eb3800888707f382d364220367cb83892ae3a9bc12cd48b63deff3b3df8249d84407b9d91339687abb3e3855daeb05679e443d874b0fb99cb83368656cbee224e8a5394452b937fca1f5a5211031c67db514e59054c90917a6dd4bcd65357d427d08dffdb85355caae2b7e3d65bcde27ce47bc5da6a95ee7950b86c5be9203ac20f0c95162c95e74df3c267a4c998b20bc4cae0c0f4399636d97ab2e6910c9b0af112369d8cde08e3ac1e2f55acdc14dada8630280d22f2059bf0e7b7bdccc54228ca6c9535c1a51d01af5462ba5b93bc56d6da6aff8905544de944bb07c1eefe663df6f515f7248d42ba1c4a89a3c0e55c6ea940b4dc3226ee7e13f6b2731bc3b0e1cdc9691e72a1519805d55a0767c5eb4d76e84162522ea405c6110c441949f5b977899e972c2dc55380ff3db577b951f5cb4fd207578aacecbee04106216ef6f412852eb07a77bf9873c7e8e40be3c617a8aaa0e6edc53871a25f36edc146fb59da6999d28f98e29b0b01270b1a412b08c23f17b90d2f49fa18b714be974f485e9eb5921154f07103170b8f1ba75595dcfb0ada1734548788d33fbbc6d990e7420e429786175d6509c52b1aec0a364da90abc2f353b9484d1b7d82e1600fd155117efefff93b78fdead72234c5dfc0779e25a6bb50627e2598d00dbf2248bfda808f1f34d48929329bba5640cef5fa503a52a9405d0efbefd5892c32e35e9f8bd306abb6776299de40503940581bbb8c1b1c0ebbdf2dd8ea3ccd796d26babf2a6795533d46bfe6d7d6a53cc3380c608d682b88213e615f329fe58b65bcc4672e6b177eb19eac5177fc7ae32c806ad11590f47c8967ca1406c6922afa935fab9f202fb051dd0814bfc4c90ea216888d104b7e2f6a74485d87e518ef5522659d01d2a12c615693338e5ce535035260e54bd5020321645b28e9fa1d68dc996f69eaa6e1dbc02e20ce4649b030e13f0f8c7b015c118cd2abf090b74a39d321495dc0e9f183335213e6d956ad59309a0b0409a795b4d0bfd5ec49952b2398cb8fd93a6f09fd6f21e357bbad2512ab33935c972ab4361edf8826f0516a4a5386525607f05db966b46650256f54eb97695d67cf6022b572299f558c9e3f128d7cb403c3da4f22f4e60b62aa55526a576a0f321d7109561da5a41bfeba68011bd4d85b22124545054b030c83e0180fb99c21188fbe1f9d06faa987eb0ede5410c00edd29f7a9c0b7c848e8e3bc3d0ce31992bde8861b88f14a84087d11975538afca596d834658e7d72cb2785650e3ac0abf562ce7291d6069bbd6377ceddc5e5a04f9160e7eadfc84cc2708786cb7222146102a359acc4c88e2eaf0259cde4929a4809d229f4a2a5dc2f7f6b114a99af43a8196cc68a5f3385807a342af9d1ed483b3df86ba51cdc4e402207c2c856439f31e58fcd3e6cb6b29045f2904fae856584e885c3128a9de5a3f3f9d73e115b32a810fd3d10466b67725027345c336ba690fab91c3b3fefa8c320244a169c2907317d099dfa4efa67ea885d5f04e6d0fb7bcfc5c7dd678b3a521ac322c60524291044a45c008196e1ce77a016f6bbc6d12237bca053775798d5f292667697764d2e6e69289a86d0f0bd71bda57925d03b3cf287f910b6fc2d7b6c055a5c61e89fab37026ddca670734dddd01d69aecae7794877e2eba1ec8b622222b914eeada4d3694c60d26438e0349ed4d91e2076f11accb6eee838e89eb0211c9840c0df8953620f19e1002f520b89c8266c3c4e821ec0d8aee11169225b5afdc057578ed8caf5616ccc71cff4d5818d3c2dada9e7b8284c7186c6eb8fa3fe3666f224b925c6851e49cb2c31ad540bf952687833a085527933d140c4591ecf883c7d1c1e2ba7c369207cfc4c093c0b9ded0d70fba47713d8d475f3540de6a417e393943bf350967fd116959807113a69984d79acf53570be6716eea7b4a5f33bc4d67ac9adb37589420fdb9d50d8ea8652eb2ad0020aba42650b2e8a606275556bd9a0f8c170473408e7eb0268b888fe06b166197c4098bbc90bfd2ac135b5872347a25f65d63ab9460260b1501f9a5db5d091825bd8d0eca9d35fc12a702d10a38d817e113e5940297d7f3c8279bf0708a497bb2cabf9cda4a850e07bd5631cc17a44c287acdcffde61fbe679c89e2970ee8740411e2a19f3de3da92846328fd63d20e1f98a936c2b0d2d33153f4b274ba506c428491c51cdc45f95ea5f9f49ad733f8722676d0027c799152e931e84c7b0f67dfe1a8ff2a7ce1416e0d0994dbfa39e42361a20f8ac8bbb0f944f0d1698bef4252ebbb7aa8893152033c80db3666e2c70c3d82b2bbeafb630f4892e6b12c6355f477e13dd8ce0639794c0ce4ef132d14be73fb2c921d5c3f2a347da392d757d5ff2515b2b0e390d45d63b4716c29830e04aa3153658b0426fddb95a6ab7259c3f0fb491c352f6f36c307234ba0e5102222d2cb2185e07bd6df705406c8f3f1af2720007baf795f1b0518437ff105ff4cb78de0bace63aea10c713acbd6b69bc2b2771c49c1865fb28114960e937d88a07c0d251e3ec68d33b0ad0eb8b64b2355b202479ae37421604d8d7d488667e1aa6fe0e1fd9c7f91ddb893980ea13de7e98678865744f821627ada102139294e42fdc63f2e1a327fdaf6adde474e163ef8841b60b05732ac1cba3f1ea57016bf6a41bef1e41240449eb4f3b35c74ac5b828fb10438963a3151007a79c4a676aa39f1dba8aee8baedf344964495d9080d19530dec4cfaadbf9c3d5c9c26fbec7af5fd3729c354de2e902945e3f52f4afe6fbe4fe2719e5d7d82694c10547eb3ed3116be813abcb918ae5c398483324751bb429275f195249be4e3dd760d810c0b84b3d76fcf930b8a27bba77e03a2e1b71ba4a34f30ab79b79552224562474efb6a3b21addf000ab0480346fcc4978ef437595a6e0bb5629e294b71b34003c06065fc1e1eac7b85ccd689e3533aa40e0736f0dcecd6987805d0f1f163a9076bb24607abe5868d1106f18fd6b6e72fcf4ef44b5c8fc349cd7860ae779387f47ffa66675f6bf0d884ae0129dcb8789dd43ae59e2983c8689abdf5bcb5070b6c8c5c28637823bf49992a046ead86a3a312ec4bc4a30100092b95c7a4bdb564e9a599282cf6184f27b3253022cf365ec1fe67982932537403e262aaa30d820769341134063347c9650fdc4f17ce8845ba0d9577e4fd611a628a5705e7d11d13f508b1618de85ea06f57da1afe0ba8a183879c72b5327479918901a76c1232d70ac4c1a89e7cb4ca1b9aac614fddaedfa11c2217869935dcb5af136f222307e600735975bdeb28d416e0ef194ff843af94a311fedd790294aa5419e19e4f002c2a1124f2d6a033b482f8932b49c6b0049f66cc34ce137e6e94805fc44f5cc809fe0071b4849a6ba58486db90b195c2d4003c71bd05c8277f6429fe449d183677bf2833e8532131a4fffe138909201731ae03841ecb27999a29353dc9ab3d8e5b3a6bb0f67c4f67c62a465627a2fb03eeec27aff144dcd180113c262ee1f7e5cdbe6fcc0251efdd972c5626e7061874a47f1ce729dc60cf042ead4651c4fa7b3e3aa4a700594720c8aae743ae42a0401d5df4e5a26cdaa783592fdcc886ffeaab327b77825c88bbbe0a1d7d574810619a9e073bad63bbe22a1c4b22ffa8eba3b121049aa0f3cc2dc67eb47f076f148d5692364b0725a0c3c697383c2227e139b34f483171b4686086cf2aa0e6296d05e56ac911a734c09096aa92259363e21fc3863433ebd6c706ab5d1f100731b0ee1a31f758a1724d4998d2d2748163fd56dc7a099daf29718f9c6b8c57de8a2f637b9f75e83dd037eb4dbfd19a83561e69dd1d6ff66f7253831360d7554016b2257a44f70ab8542a0e9e9abd2c02e4339f3e17be2a65f296f44f2bcee8b5c84811bdc45cf5e895751fdb6303e90c45d93b52be47e92660b10a273ff1fafad097134cc94c24a46fc89c28e393664dae0771ffefe092b3350193ca728ad31faa58fa730082de83b76c9c1a8c61a66cf0596b8fc61c06bc8b7cf17e1ce074ae1d02a497b174fb4641ebdc8b4d5645460fd181f20472351855f875367b007e0121986d14783da314b207aaba572b531d14bc48e4ff1eca346e457ca45c5f764e72d92d66bb11d80ae71ea39dfc047b12cbf327a19c53d379e8a505e7fb4ea86ff9e30b5e6d7c123fe565c195df01a2f1047723e2300642681bad180a374ca1cdfa337210e74cd55a970c39e3fb70bb6fc41c81f97d80ff798e08dd2721957e1bf9e7a42e65755048650198aa85583536cf0f9c9e351e5889052f31bc788b8b21a437e5be44f168efce28d4831aba3c2a747dec72ffe15dcad3a7ce7f1f9e4bd20024dc7ea61c6b17d314cd08c74e0a31b8f2a39a445502af72af4ba71de6a36d9447825eed471abe01d006199d2771bb39b5ba6dc55893c1cc25e1fc77008dc51bcf80115d6f9f0d96dd64a459f2044414617d3409f1d130bf71e3566f51fff57cb21f3555ececd7ac31042fd15cf3ee87802ea79fd8f35877fb4f744561ed01f8410155db1b552b4fdde37cab84fa29cc879b785e5713bb11cc3e8207cd5cf5050ee0350ca5dda72ca1a8ed33e2495c6a048322d454a4ac112d61907dd6a46cbbb69d5d3311008d2869bf262dc5f284f9ba695d8b50ef0426a7599130b8de91b61e19a63acd0ea3590d669d8fe05e6b419c0e8b5a06c33638e50f87424b49996a7045ebb4030301ad2d2a4599cd8365fbd62ca660505210012ca67288179d9430b716510edf23c016e27866339afd3894b58e1c49b07efb67ac5e53a5acc0b9b3c47033b0592cf07092ceb09d672da8eb4daf5750ad496649ae7e4bd983608a1dfccb5ed98d57b7a3c4e85a2fd0c5ffb4053db5ee6f018a1dc83b9d5de6cd43fd75530ec13780d954dd67ae04ad8d0a1c25e817ac1db3761ac81634abc7fad841a34705813121c5048f0ca9c90d88439fdf26fff3ba816537dce41ef558d92e7c092e7d23964ffa879bdcfd8d1a861678861f77f2671519632777941162dc7f7e1c04a3c3db1b840763ea0cd9f33057b81c39fcc1b3d10cf46069453d915aaa2dbc4e6c6621c58df09dc1271ef1f4c442d079801e2316ad390f96875da7e9ab53393cbbf16110a7c2af687b51ecaa6b9529c951d744d815908342c949dab3b997841aecce598714793dc7f4985a19300cc0483f4ae421f59a2a9abce542d072f1bfbdf3f1e9d1a98ef7ee5ae15fae5a6d5f0962dcc210060c91f69dfc2b2a96cb7bcb7eb88cbd430492328b889e038d41772f999da4ebd8199ffbb8a258acd7e51844b0c50eb0c9f8ab218f7043a13f082afa28636252fe234674ce842bc856022e40c185cc95585285111618e329bbdbc97fcb21b3c609da74aeeb66e65f5cfe63014dd4ce676b0b5893ee008d2f7a1ec56a08a3b324b505bf45f07e3e8dcae24c9e831a8d2e5d1e199e640e56a69d27875c543ac49ead07f3e070e60b5aba674fb0ce141d2f4dfc41115b9a4ef19258a540de4b4b0c1318bc18fd6dc07ddfda5982917d0e3d79e189708fc54b58352448ce70fc5c0412899ecc361fbf2d24f0150deb934895ffcfa373639680515f5fb0ecfdea6ebe35ca1b439fd42fd899fbcd8c17e4236b0062b9389c02b8d9731e7b7f3bb8aab31dc8d0fd6ab97a050b1991776725f9ca8440200a258edbf8ec934083edce56d0a40fd2d83825935bcb05f6e967249d4f3d9e7247c914b33b7b58ba45f6549831fda5b26b8ce231c2abd045539d9ce3837142b5601149c4e3fd821a1ec51d9af810462551bee8562f2975c7461cfe121634ad52f217ad7e75b8385fc7331f4a67f1ee3711e95af1660cc6f607aa98920681c867f9163e5ea5c2efdfb366daf012dce083929a4377f8d87b92c009bf08c6e4bdcae3e30e9ab6a7ae9fe34210250ec694c0695c5f855050fc5614edaee854cbc125f7f2e152829ef024ec3d449bf2e3824c796c85a06fd940308a6e000867641487130eefc1fa89c98444a93c110f66992108488194200810d14da9b59398fb308a6dee391107295b371209ba9191df2e1c96d03b49a7de72bd7b0ccc54db535273b54b496b601a1e7b4f9f1a3602eab9b6f498882d8557d6ff98d810795a62273108edde8b5f18373e067aefdbe099c2c40242116ff485bcb58aa60e5c5e2adf1cf2b82023fc1810d1f465e4d3883e3e9dced1e624d865c2e16e593ae0191d5a8d692cb52d1205de500766a600bdbb07f3c84fd501631d5003df4f29d12fc4a4d22f5e533c39d0566b9d362a0811a6b0be61a6c1b73b0de978f4834c5b24b910b90153ac25b6c2f081118e94943a6bd425f15e1c60b48b788d23cd06b96b1e9a2803ae38c9502fd69eb8ac955e1f73aedf0e25df4bb6c52ac2020d9e2ebb8e994c1d5e0309959c13e2a55dad8a7ce43bf629824724782b70466eb4777ad1d971c243934c5811bb996677401cbaf68bfd3ccefcd4a733ce4dd9ab664c4e4871ce24c5f6a252875b9313c2a62d1ce13f717d096f1e3e4ebaaca40703c25ffd8375218668cb63ffa6eb18dcfe196c5b8da711579056cc52c850ad95b14ec02356db91a34d3334e5ba8e097f52e096dc4fad457693472fd44b5c69c5d9a168c9e772123bb7a7c701849fda709de3e65a292bee7838249ec97aa4c4a42ad98840602c29309885a97c59387f5901205e8e3c4e0defcd489f642749fb5612e38bf48f4232f24976ad5dba768a49473875a39af1060ab5338df3504d309a7f300f67c7f95463a731ae198c7bae2ff2a70d67e93933cf6ccf216ef43b8c350be1f8937b2d0e87c3d0c7c11cce61a327a596983318337d57b5f0cbe6eebff31cda8e58cbc5423f23564b46c4259a91f7b9c75b711ab544b0ee96e90067428ac6470fec26abd42f946a5b753ef865d39deb48028020a5fca3476ebf655c8490262166d740a78e9bede1f4e7efba1dae59195e8dc9a5c3b514c9a856a5ab5c142070de7a882716caf42cc463c2e2b3587babdccaf46e15d2501c55aa2216d4cba1da2d5b98e5353bca29de89c56806510b2b36338aa2c32c1439e76a5b72d9c5b00282d4edc5b4499103d489110735e692d1d319d592ec82cac94c227e17e5a3de8f460a61c3e45b320e425c627ae5869f7a82c02df11946420c20668767f81b644150bcca900815f2c68c56d1aa740f440de0caf7a43cd46ce53c817c09231959aad14a186504d42d7ce8135696c048bdd84b68b889a4e41abf440f018a0ecb2f9da2624baaa2bb9852d1f26a440a5bb683f1ad40891bf7a2fb5a832d8365942719fe9f75b9cb460100feca4edff9cd20ae3c123be6ec5458681a6a5a037d0afac0c267db344526148a50180df91ce59a1df62123ad661093a31edcc3847cb1930f0010b34c4cdd314fcef80c34e4577594b06ede21e3d6e9265296a896695019363aa52c0a5bcdade440c9aa6464e473f7aaa374cd7c013338764f21a79d27706c422ba7ca4501b1bd7d5c76494a0484d528631502d115bd2a74f1b1b438cef8a5808abdacc517e71357a6c27a6d66b94049b29f99a1a878fcddeaf26738ff0cdf39ec260dbce79de94157d7711aeab5cfd9274ee78128071d8c3c479c84b7a496a5c1edd4040d2e4623b686fbda94534173abf4760c999622462ec22c3ca4d4d12676e09e8438248b01774798ae64a545f03740b3be84ffec940283b0ca98e57b1d9b9d9dc101a3afdb0b7412892060f0b3c2cebe34c693200f24e9b8b0719fd32f1e97ff9046480c6e2a956319f4a59be8e87c37597fef241d1ff00ecde4e0591c295e46ea942432788f7c508b2001a349ce05d1b79dbcd42666b53f39835ffba929be239f5d883f9aadf1f71dbaadbe97efb393a4798aaf3ccd1b55a7248dd3d90a61b0f94416f4470ab87338f015c86c695ef9eeae98044199550f07ac615bc35e96dee13032a2e1bac9e1462b9b8e63148e202e632ba01d9ab0a2b4aee6d6f85aa264ce37c06895868da8946538d1f2b5e672002f621e2f20f830057b3d140788f57569bfeb8058ceb601fbc6d18c04bba07ec9953528ffd39ea8327c79b10a9fa0506401298b09e31ff8171259c099afa3f148b3022f15a0b4cd122097851ede775cc69b57e5e73ee829929f3e5ab81e7314f74b0d246837dbf1e87787e09cf070c8fe6bbf8a58b86a0871de34ebea6fbc3395b3fd016837d05761cdcf32d442cdce27d751f998f77163404ee3b7cf50c82e9ac2b8c435b239eb565cb3985095a873993d50f2d25c0481dac00b933cd8da71f751eb98fe87a54a6d2c0f5f715657ab5642b648f57e959557f935004e909ce84d6820557fdb497d3b34417a8b0a6924e51f9e7a01ca1a086d8cb4e98aa5ed7f217cea39d3a46de1c35f2af74b23e03b80fbd47a555217c0657b6c2c7ea6e35a7d7b83e511db609d6efe77bb7769dc8215ac2debd92b293eefa41d5be987c2bbd226d5ccc083b5210be5099fe19fe13dfef7fb49a4f2654ed7c9a6a1b11b4697192ba683ceb0becd323ad9c676276d64fb53fe2e5feeac2194cde866ccff12f0074754bd080dee1fe669f11623b5a960a0edd3a1a26e393856e4646c70d812d11000d1f5f84a6bc3097ce586665ad0ecbff347996d9bc8f14d1e68ff02412e7e0c89f810788d406f85e94256c5f74b9f4f3009be76295420f20d4359f4118a85dd47941989e1a2819fe7b788f8020f2f17a7f0eabbc089ca135286dd05f833536fb678781b273dbb2fabfec6a2033e4d095c05cc6230f6d14d8fe57f35d97436c34bd13a01cbd4b3362db3de226eb4e36a3c5a00e420412fa6ef4d91a22a833d25df88983364210a36912c0d478d0d1dfba1b97cf289d3b55fb03665c4d249214c543131f5649741f969a1c3150f84c1859371c030bedfbb81c33e7901d553d5619665116df60e08ff5e4ba7b7884c0b8abd84d686271e6c7a532b6b716c6a50eb62529dcb663de70e0670cebe2f0a7e6380776399d0b413c121093584aef8e40a857b991c7b60c335c767043bfa64fec03ddb61600e51015dedbd9fd5b817f8a7801f3f2e5143d7ba73d19decb32d6a7fd3f67bcd81093ee949c225ccaee3819b72cd12fe2f32662d6fd69e3525fb42f1523a4c8c102036619f4ec8468edbbce30bf93b5603e519fd280d0346d0f0adb485e0f118fe21e6a7e93d21b145074e0d69b6a56346dc719cf173ccdb57e0dfe6400136b2ef02c456b0fd79788bc41c82aa3a63418598454cda853d421efaaccca4e895ec3e52043094f25933402290c45a9da3b110061df5861becd4791ce5051ec78dcfc6431232783e2ef9c7f3af7b073e4eaf21c8dfdd309c753d5d78b00ed5d6177e5f194914da4add2efa4bc1fe94b5b290814437d958ad4eec684536d0796c2d60601c800918dff0d9078c6c3c25e3aaf37cf297a9d7947bf190ca1869ff2024206a1b2ae06fe477dc09aadf1fc99f58d3df055724d378b54222bd6d4ba5c2a7d5e2a57abcff2ecca025ef029218110094719ac8edac7cb45436129b484c4c107d1c1109fdc618b0881a08cc8237779ecfdb01fb3809c400612568318bca0b234bfa8e6198d321dd1c4e1d6c37108d14b181fc6fb377d5cdb36499970e24c59ad8cb21548967d32b96757c2f0bd4288e69d256ca4cca6ea902ae401d671c817fef23cd0fd1c19f8e2a181b9954e6cd7e8d8a666a7ff9e0c810ee12f777476a968fa5d5dbb9aad3d3a1c3ea398d8eb10f6968e45aec816eee4d52917a77c624db2a25eb8dbd1eee052178d8103bad0c8b4991b872b07790f4e3402a858317e3370e47b25d108080e9a7a1f0809b49c1976aaf7bb1d2a8828198ba1bcfd09995a61bbd3d9fb2e3ebdb245fc3c9463a0f69d2c7579ab4dadf710fec01ed7ca74384cb77abcfed67b3c803d88eedb28395166469a21255aff2578be123a984d25ab83e774d87cd77541fda211f0ac58eccf0de5959a7060f31e1d27f8aae1700893e71e842ed9cd662d36383f26f1ba60b02d6827e414ac20349d02a164644150b71f88f0ac9b401d6d2540983b745194fb9e5b2c6cbc02c23c73c8f40fb49c86f44a7b0a5aafc3309c7688bdcc3b8518ceac16f6fb44aa6dea59e7e8abcf04ef5eb77540db07a8eb655c6eb0b6d191919c08b8cf8d8c63c6395bb513e7bbedc8e015fdcb0567cba824a2fca11f70facb166d59815015e6484be7525bbc18db6fa90afd67ecb8f720cdee8ca0ef5b6ccb93fa95b583d81e0a402cd2648cba0320abcb58fe83ac1877546a2744c962cc51a6c83e97c02222567eac27315949155bc7eb2907c0073ade345470b813b3f881f674660b7334d96eb644e3ab330716dd0fb53ec6b6f7673b2a6d85624aa29cc3342aefd5c7182baaa7dd2e327d74708c088ac230ab083410f0ebe903aa21081cb190adcba81d47d4846e1cf8485dd5c0be75d7718f9578daa526740e2da8368b2ced850edc17fe1777e853c9ea777c22473cd8d07610a4b56967b029506d48352065f776b06aee0603b5cdd0b0ce05b6ba0f5cbf6f4c32f914148108e6cbfc3f0cf6a462542dd117db26a4f4c334c902c6b9eb2e2097821edb092f3aa8858fd6ba4ebe9fd41e2531e353c09407f111540be86576e64e2093f999b6f4f8e6a27e257222a8bcf6344ab540af031d3f1e3b25f37d4bd8609aadd167cb4e4c86483482d4979129efc4ff551381c709d19fea44ef0d881fe487489c1fd487ef50f8bcc43e633d1f1e6e256544b9c5deb444a0fdb02f801f29f19c049e426bcca6eae3d50d2b214603b9501f8ab481d22496ed16b368ee25f53b022670e5c42aa6098c6a0a2a83b9fb4b94535698f2ed07966c5a606126d622262f8f736e1f323b2d743a158e972d035c6d7ebd78118191376a032690ab3b4d9c1d3b2c3346efb8049d842a3cbd8eb6405f59fb476e245777ce4e62c40852aab850bcb4392deaecfbe6a9af398d5620035d405e9beac9ed3b2a094074294d46062c4639b58fc5add15744b0aa728ad4601d20753bdade4dbfe4295a1a6f421e9df27f63e0146d9e11a9dd4f57e6ce96a3bc4f7d1be0e9ca576f348e4138dc58edfe9b140c620be3cabc83204b13c7d59acabfdd1684d872f8ce76d7b5288a4caecfc310065578447659d90c92482d74da33975f18581aa6742813a5bb59ff1c847758a0179578ab32da6daa5ad13d99e87e4f1c934bbfbe04c1b95265fb16940ab7a79738789a8ad61721142f6935ce564b62a3f83ae544872ef13de9af282b79b635f893bdce1e4637e200111c86bec9ab4752a1888b5261544c6ccfdd86767ce37c54db91008ab02de6ce68a78af0e2a9e860ec586f1a18bd8049707369dd5ba5f71bd089fc09635df3cc489dbe1ad0a14f3af6be2998e8b760eaded9a6f66da09e2dd28d4876df04d09a33077f374c0d955406acb29eee70233c3d8726c8ec0b5de4b1deec0c77ae29344adc56c2cf21826c325e3711eb8da5ef043ddabb6d3d52bd84918d53533fb07b1666cb845f6c1f28bb9912abafe1b79a066c0bcc1bfd9771cf422932c8ed9ee34d1c8020e5db7836bc5ac14d622258aea74f89da1c22d160511a109bd3713323d499cdddcb6d431f8fe8b3678b19bcb84136a0b119f24dda6e3e6dcd4a73b8225f28afcd6e890bbcaebdffc8d1f6253e46aa8c8578bbd1513ea7aa4fcbf24fd5bb85e2c6c7caa69decc91096e1e537d35b3cf733da8ca993e0a73f80d0837255ce251efa8a42dee54df1b4f9298fb921c1d3f70b826a6e5794884e9fb4dcfbffeb310f781038da4ef19bad3429e5521563aae0e60427b9c75f51c5b680fb909c196effcf146b82e4dcedd90f3da85805da6f9dc355763a06edd01ba615e49daa14f44ec47241bcdf1cbf67346832b8333f143ff2881e2d95e72d2b37a45807ef366ee6677a03d3ee7a1a84af8e46fdc3ee8709eb641bef6a82644a68becf7688be0d29cddc6e889af22235a2ad50ae82cce262e985d2953df6d2c2495dd01a74d6bb33e9c44378208f6c71bea83321e9c1f133e574c24a50b0e36347685b21b1b91129fc443fdcf0b9a81020699eb32435ffb2c8d88cc5bbfa89991a3a5eac52d9caaa8cf6b022bb3a8d41f4ea8628a46ac20cceeaa466c3d3c55fc57d1ce6df81b473a7ebb28e80ac1d11119c407e9bc348c0add48f9eab6ab5e32612dede27d0b8863db3658faea76678ea6e8b33f6d5726661cf0710e68b493c568dc6e97f45a1f45e7bbfb082538e91c2c311f3ce4c7e3cff8ef973fa94f15b02050553c1a33d90be0addf8fc773ddbc4b2c40d736859d78e08657bca23802ce83aa529400c63c2459582a8ba4bc443180c343bb3216b933f2c44e58265b0d05c051fd4dfb9abb9580b2513783a54e3691ec9f617b9771cda67b622c5cb8839a584322993edf6bbc6f1e340f6de3383b79adfca1b9006df5d098c7c2ba69097247c1efa5d0ab4cdcbbaabd0e6b5104b39f323151af6920ff5475fd6286f2cab931c438eb8f7ac4dfd0df72eb4abe990e964cb09e33fea83d5696e89620afc9e3923215f2a53f27cdecf8827ea89b727dc78c09f769a0832a7660fcfa8b840a14f6ee8ef85d01772c3043cdd207a93010c023cee064afed456b3e172c637f0e984e1e930c9c7cf786e47054054fc2d24a416eb0ff7e8c99719006fd9abb8d367194fe8c7eb61e2d8c05723e2e0360693c8df47e2a5c8bd6d236d023dc54bba741a26b16edd38669ed018256626d57ee4d6862f153834bc551eefda76bc9ac4cf976f239fb1e7bf4d9c64756d91034b93a739717c48bc1e8c7e66728c5f6aa198f542cc6c69f2811952be6c691f326aebb7b644e97da683e6f2d6395c05331831fc21e724a4c662866d01a5421bbcaa6a67c55b6439b819bc4e1f5d020729c9d5d1550ab0ba5f101a47f0e34038a8d0e76348706d6d34b13315263aa7593ff5fbaa46eaeb180227715396e3522765113315c317e2716080b553f00cd3770f55364fd7ae69c8dcf8b0845ed2807b70e5a6e6321b39574e848310267c33a7e8ad9c491b36622abcf41d1742fef84f585884c646e21cf9514eb2c55a4df937dde6fab54d0b650c169a9be27c4db34c82441209d6d1a7d730bbdb105b10a18e23add7a6e00f62e3adef869deaa9cb7b8a0330930a98b2a3978be811dd372bc5c7ca9b1f6d65e9731b4c2af22286cb2f67213836cb35ed70e634c50438d3097851da500cecc94f4576c77aa5465520082e36817d3ef26628c25310b4183f8d8c7e33a2ac717c029727e2469708c216c6f3acbc614f53165d8d3edd4bb7df36955a7fab1ff6c0e9171c68b63888947c60f4d9c7b613339925331ffd105b57cb3282280104aaad3c5f4facd7a017eb5fa6830c92108f32269bacc0aa3d3800c15da804a321195283aba85ed1bbf947c54aa20e9ed98393aee81a6a84ffaff9136a3cf06a86c30dd414953ba3b256545c5518ec4aa887badd9c3536edac272bb3b72c1a788cd1ec2dbc88fd177293ac79a639e0879088694b438557bde178676187f20680a99ab90538a2862f54b94c34126d3dcaee1f500135a8ad30e217c94dfc588606d8b7298095a3427a254031114c6d9741bdb6335619ccc26a5540bc8904063bb42894c5a054947392480c868736b9073a844cd86597e2950a636750b8d2cfe9a11eb2d17894ec41df8423fd6a197ed4f5d0427bf6bbe59d7395754940ff08658a14e1e4045240263e7dafd561ed90bd7d8b0c92dc8513a46b435386b706e2ce34fe57a3e1115fcc1cc7165b8e787aa19ae33932eab84245c3cb219b9de15f51c0b998287f01e0d791f6180ed4954d50b250c9b214ee071c2c0d798de6336b738322834b9422a9c1412b5b773d79f26c582c925c768e71e525daa1259520c3633eda08012432a896f0c922be2fb20955ed541c72aed59a99e614f69dc14cd3b8c798bdcb565042ca3a3a0ca80f75bd3697bb8c9e5c77928887de3020c2b3bb9523f5e6c6b0924823a445bbe1d5c1ffeaaf7043dc1b3a5a1fc8938c0bb61f81fd08fda75f431a86b8e8b126ca955febc9d50a142187af1eaee4247f99ffc73560c3deb34fd0fae9c944720141c53441aa7a7af4ac097f19f88c559613cde1cbdc61693fbcc565c459e1214d09587ec3ff595cc2d54e6aee48bf3eb89779cf","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
