<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f5497838bd1ec5334e0e8d8de4dfb2a4641b30e7dc47616524f527f5807f8868a3314aa38218e329bef97e512a8f78ca9553c77a5b1090ef76f53a2596bad64e437dfc333fc18b21f0050e432bc848587882f695037aeedd158840bd28aa6b5ed14265b17ec2e76575c1bcb40ceb2a0437468d9b784807b1f041c8b54e4c93c2c7876e842a8ea101f69e0cb3abb63d7d06d85ab5be68221309defb11f10393ec9b7580340fa47d1407061b5f4ecdeeaed9d1cfc97e87dad79d29773ced161e9fa1a4c5fca07673fcf4b408ceae15ae6690602cad0030312f6f653e99dc9254d2efc677e46b1019f07f40e897ed95b31ca44ad11538b6dd8954838eb33de6a2e19421dc716394d2cb577c8b4e046d6017948798f0fb065ad2bc874c6eaddce635a7105e1550c0bd95f28275056c30820c120309839b573e9c76896ccd519a12065fe29746448cfbeddf43dd07f7e573f201d20aedf7f11531fc01d3865d7668d9761d5898f34ae20fb42abe89fdddc9f857900ce927020be080caf41a37c73ee087d0a15f436a0b783fc8ace98e1b37d5896f99af8b6286b513d2adf346f38bb1ea58b34701da10b93ec489248a2a6e3fe20a4dd20ac37e14ceb801ede09e6ddb46c8f77987ce74155e86e6515ebba13c4bd97b8b7bac2a69b6eaab43a8a6e97f4ec6a1fe42d59d80381d9e5d93351f267297326b20cc99586737bab04f8d2c33394aa4418d1b66359fc28561a9bf2ee69bdb73999fc1473238d3d15beb4f57f475dbd65d654a6ef56535cf7e095f5f54dc662b18900ff37919f9d5f8357c6eae27ca7cf59037e60636ff6e6a06a84896b605b18de8d3d4bd3cdd199b9c838766d17ca7ff2073001f2d08bf8c82da0af6f0b83ddc50ece647fe82fe75312e1b1783adadf2f53d88dd9d6099a2e4909ce2ece9520945ea9f996bc675a749595ee3592d997af0922c60d4d4d0e70ed1277efbcd41d0729df5300da61f8a3defdee832f25984b75d099ead5021c141960c6a0495073b2693ceb08fe6369132a6b7d389fb4ac9451da549147a7b328205080fa32ee770e0b1a6544ecffa10a4ca11c9f3d70d34cc7071e5de198f9062f191d5a3c2b7190f9748143e3058a7a2b6d08cdaefcd65d22c5021bae6f054b79f7bc9c25a3844d4eb890a52c326a93dcf6fecefb105f50f8e8605c2776f16282eefab6d0c8df074811fd507491e3be60c9daffabe7210470d0f80ada695dca1bfcea9fe6ff284663921d9a17749d7fe235fcde35f3081c5d3f7a04fe7956fa354bdcedbf05bd40b8845ff197938793e331adb5ad8979821dfe0bfdc97885b08ca5368b169889ac1ecca7f5c9d2992a1a2a5c0282569cc7d457551cc580fdfeca89276a56762ba0876d98ec86af7a5ec57d8da5b1c6bdd690a0a513b7a6d8dec705f669f7d0ef823b27eea997586748ce8f1249f5dccddd1af6e1169ca1279e060545b48d91f92d146d51dfb4c3bb663bc365aa5bb8b73e88e3f8651344d6bda03ca771bb26d279372201552ea0922fcb8c28ba609d67fa0c9df0ebbc8bf87a22dba7d267b462e08d90cfabdb913f6d1785bf3a477b42c8f3ea11c7cfa60f3a0f6dd080723c9cb20b62d8dafce9e9490d03d1a8d30c75fede5b21f05991f4666c45fe3681863a45da060bdb36d67238be7dba70dfd86ffbc087d18c2850b8d6469b98597c92be46e39b78059dd682fc7fd73eea7e5c1b91df719ffba30a2c7cd0f64fb3062082d2afa812a51fea5a44c7ef121ff1905e7ab35a5a91ed67798d0438e0730ba0eea4d3a8bc95871d54f8b07ca9149761a6c7e0737901adc3ba11a1492863e80c2a9abe7c32fa033cd1b56ea662388b4db4a659575d360579910e1187191ae10f062f38a56c54de09d12f894a7b11de521f7ab211e6006c7b0ad926456edb1680e3a6af440dfa0f05979aac33e893b292e05733d8f69c23d07ad30cd2aa409bc49469dc9e9fc16a015b36d2a16596e8bb290f3170405a8a621dae9918f240279c4491a5eaac7459db41b9ac02955e3a565315059515543b9f85c655bd08d4d0ce7580dd30294e50a4a7ae62c77779067ec80a2e05a1a1ae18b1a9379fc07f6e210b20fba8f8099b697d55adca34cb13848dfabb64a307e93ba00e414d52779e71d620f8d9eebda0c8f810deb3d4a6cd077f7c32f70014ec69a77fcef97f983883cd76be257915dbb95d1ae82e4a360e51b62cb9c0f1e82b36527dbee0a41ac5227ce3b6bd0951c5f0d1db30dee0497e3a3069a3d9bb1c8d54c0a5a42672723e51ef0df6e84471ac88f50f80289cf380c40eb66d115e490ad527791f325a82e7fe7221fc9d3c1b9dcc8390cf81ddb3cd8a7e8afbedf04c44a86052ee97ba389d6a0b1b43936505b75243af4fc5e2bd23e2354f9c88d8e618a04d15e51472b62e365dfff2fe8b61036b3a918b178fb5d403248eab0e3516e9d743c2a984814e6af184069181865529707fdc05f054771d0151ae0ab4303c8eb95ceb934edfb6720e0cc672ba90541cf390f9a5a0c688e0f9c5ece4d1d8c768928a24cab217a27e6b1c9f80ec644e9c743f7364894e0eda0694e25fcf546071387472463fd0895d60df9be6947569b628e46a49da1b715a5c5e5f69e1a348a2f55187f2a35b2800699b04b4d56367f3d3aae85c66eb8172a9ce4c5ca9c9d64ba87325a51615b196bdebc8d90ae1edd273df231fc28ae545ee6d72c82786b2207f46533a5afea541a6a278197acdbf8422a5214bad9b9281bbfe1a2c34d0c95d70dca6a4068de35081599b683ad12387fb77459de62b9aa13c30cafea5798339e66885980e980020f890555dfaba5dd08c890fda653bac8475b732f60b3212ab6aa1ca24c1325da9e2cbeb4a475e907706f47b6cec6c54f1b4cd10271e8940f4d85dd28924ec98cba46baf7260e7c071d27c8118e8db8e1b5c4a5e9c60a656a498ddc6065038e178374f16ae0d88a6586c68dcbad58b636d9e27f92a6928df82b815d398f44bc5a1441bc851e5b157cfd39673f3e9678959481bcd1cffbf0254b6df4a5a9324a810c022ea93321fb43f080d4dd9b673af791c485dce10a0a3f297b1fb0916fe90cb59b61877ff3572a55ff7ba239779431edf9d70256535ebbf0bf4dec58677dffb91959d6b1a51c734920e7e927392077d3d650d2e81d29802e7ee331b7e1abe9baa3eff221fd7ba5de7643e117b67c4e2e68ea5d1ea201558ae54fa352e4c2c7d4a788fcb826d375218fcf26319e446265f28c584634cbbdfdfd02c2d6a554f4ad9295b16f738212404feb3eefdfb5a5f1139168be9cd7ccc3e19d21a9b66033163b41d8e798496f827d45a5bd2bba5daba84b0d6a905409fe9690ea5acc2018fda6fbf564c68a8220474c35f93f1810eda35acb5f2a918cd4951d569ffa4fe89b87aa418ad088c85fe0f02b1aac6ee97a5b25d7a450812be099bcb7e0479858ca556c343cc3cfc438ef020566872ad3e0d9ad9beb15eb6416d48668a938f619233534e4c52bf46db6060a1974f2bd8c33952d6ec1b8534241f5b62d0caa1e1f98cec9631a3f62d64275b91c8155de529a02b35698337cd5bda559a68abd8e89dfac5aeb2a671dd901c3e127e56ed0f844e8b9602bc363156459767ca3eed2a6fde2d2159463b4eb99c8bd29a65c681a7bbb11cb853be11212359da507afcabc83881205c76c340e3fa7aec798144f292420165aed16400561e285e96688431e96e65569f78094ebd8a4f382d41bf5ce3ec17b6f35b0c88fd8f2c0eb311f37a453b1f40e70d6433b086169537440b5af1a48c92495afbd5c68c9462f8c924c99d21f96d8807d79181690f4b4965c774e00ac151f2e1cadd94d5e2964f6aa6376a07e43f21d85f3eff6588cc5bc46a7dfca591b3f391d1ffa76ee47a44b785b8ba49cefb1c64dfc27c71ad41d3b969ee852d143b5850c49e9e51a928d69b6e307f41544dff41432474889c9e7b6f8fe4413700f798582cc6a869f7179f17ccebe8564d6a987f9dde32172fa85bf1730e7ff1dcf6a8b558ca574f336c8540e1a453e186a81eed29ea461c3699ba97956a05e0d60bf8886ea6600fd47a0d36d01b36dbedc0f5ba2d46a7aa37530599ce551ba223697b630397854538608a66af510ed5af5e5b47ed2337e085bf76b5fd962e1dad59bfef6903f012ea52ce36d89056cae28448582f75ca80c8ccff251c5dc3aec77b7dcec000b72cd382a00c739ed2d80b26cc2ee33203d14fd7803a9332318d9891e2f59b8559ef02c70e70e17c0489e487126b832a3a15bfdd81a539f68135d485cf21eaa0fc7b1408e5535ae77f72d5c8abc694d2f79f290a5eedd6366a7ffeae997a84272a950f34fba89acaf17fada496cd87aa59e09b811713fe6b312ffa11e20ef556b54645c11668a6b96d1b21b2efbc0baa03ad4e63140631e8b893aa22c7a6b353c8d0aeb429f7678e4cdd53b50d3edc18e334699c5e08f3fa9fb5742337cfde79665959bbf5ede04e9710c75aebbafce6b039f3c249d2ed477806355e459db2f59c54e34bd12290620946acfe65e8e2e25be8de7b529974dee1dbe5d1f98ff572689dc320a4ec3553b9c74d67903c83e663fffdfeddb596752328c44c1b0e2c4dc31eb97bb8854be36b030b3ff1eab8e1781362b4febf5c179e11662a2feced1fceacc3b81c2b66eceac18f5e2e95614508a6138da6a4360304d9dfcce7ef4718fe0b296d175855110f092768e9622fa15759ae5bbed2492bdbcca657bdfd8020f7640c6b12ba57daf10f61bb5855e1f683220c3e0a22b412dc848fc4bb296fbb8665f0e06e031a4aa28fa040c33d094566a9de5956e0a54aaa6b823a9d997238e911d584f8650f96e08804fbba9c44ff9519c4d7c275229e44ff9bc9d0182c8e977380fc181f789715fac2d8f6a2cd418ef7336aa37b754ed82ebde36198eb12ba09f3df358d852185e84848d4aacf9d153604744f30ca9e8fa924fb2778a1c7fc28cca2a5d6891872e5ad88ac2e827203b0dba2abc84e7e3a1adcbe06b6309ee13eb6f65f4257501e853d98f59ca589ba7e5679658198d90de452037b14b2ee5953e6ed126d89991c77669f30225ca80fa4ada588d751e56159b94c1e7c57b7888860c41a4e5ff7fc03fb0de261444ced402e58eed25269aa2553ce7c997147b5e785b99f8a5fcf2a003883b952cb38291149b1f400572ab973d767de3ee23a3488d9cf19727208ff4a02e0972483b47bdfbe940c6a9fed068c5720369257f9992e6cf8df025274bd5682aefc2d43c5758fc5dc75ae750f82c85fabce8f61c998936f701cbff884edbdce39b308c3940a4b5f4797762ae49fde0904f9e2b75ae8bbdbd02b79ba51dc7c79b0e7a32a192bd418b03847c8b30a614abd495447e0ec2dd904eb3741e41afdf9ce7ad847627efaa04ede3716801b0a3328acd42ac04385a22db74e0b73c766499630e9f76362c9b60bf9ab8c6ebb8e5bc2fe3ca5ee610d71002ebe4320d07d2843843761c5ff2c551845979724f737415080934d4cd2c42eb61e252577b123f67c24ac949cc63b9a192c4189eb32d8bbf04d9d226cbe8c3c77e83edbaa09693f26c74684f19c2b943f882e2a5fe2bb2e97449c4080e625d82f4e7b9e84fe94b60fa149c00c425f7856efdbe81f21e792a7c8fa81be657a2897c7be4741f2260f5315570dce2e11a645de1d4d277d8d677e91f9c4a994a1b28967a21d2deb31d22118f8f86b9cdf668c8289a196f05979298dbeaa5239c576e3f96f59c02656fbc00aeeb9d0f4653999996d26759af93027df23b3212dee46fa0df69827a50f06ef3750629bc099f808fd99d31d75a61a1be95cefa72823c433b7704f2f63c3fcd48f1f4f5b888dfb65139c2e2856fa7368666a750d2463401ab32dd70cfb4eb081e8ac2c9d6be83fa1392df72b19e6ff8707629385b2b25cdd0a31bc56a9970c3aa21e5fa092396a47b3429e13c3ec6473b2802d560d0a6fab2bf5c4a225dd7f7d7e25588a04fb90a02267865ae4ba0eea31d638d2ca1b4a2fdf81bacd2aaa9a145e17d5a66f22981988e76235fbccc08f03cc2a8901ea99aebc09a1e79fe9963db4e3ecfe8cac5e7d05f3f3228ddde8f3e8b3b989315b4af47fe6a148ec825e66eee78569b6ecc3a8ad928deed343caed344332d93f25d50c35af966e0d3bca462bf6c7fea74fc7ceec2255d9dc6119f7d815730458faaae506f2a4812b1c435372abed3cffe0702fd70663c5fb3278e106bee302f8e59abfdf89933b6f2765844c26f7aa99463c216be182b3bcb391c8c557aebb5ac4864ac97215562634bf81f44c04aa50d48c48e1195d83cad4b8a7e3208b5130d8d46799c4a74fd68a8e4623ad6d8e9faf368e43deeefcc30180e5d73c1d3ccab8422ed9049122835b4be40d295ee42bdbaa0588158e3325a7321e542aa19c595da9807f49de87f256a896de0f70f69e22623eba7d2728f6862a3e63263e498653495016fe3cde8deb727ca2bedd6e6e30c48dbcba097c922f69a8389a4ef2527266ceb21f9e0f1f3a0a43fe9373ea92c5f277e2ec6190042d704cd14f8513e74fd665c78f80da5ebbe0255097787a054efb40b13e2b468bd3bd3caa3ac0e72791f7059d537531c611ec12f9c077e63c9dab8bacdc73531449bca79d2f7d317d2184477498901ca21ba39cc97aed9303224f882b4dc0bc50f34f0aa6823b585f5d98bcaf74418a4612d854f36b511c38ca74fa5265df09e5426362d6f5446d884ac41817ca4aae9b3d05086170948bd0fe664eb34b94e040e476d8b40d88345db425a9981ca6c24f681f581ab60d82ccbce2b0af200cdf8014fac56be587dc1d6aa743e04e104077ce6b13ff53eb9c2d0d1c38c79bbdc588f8d7a385208f69c0d29b289f1e05a4a14ea49ed848ae5918d6c6f5f8b0a51095738cd57be312c32c9f6e5cc16164f96f2679f3195d30fea9f757045224d3061aedd2aafb9357b8a71839e5b9559e4c7d750020ec45eb5ba25cb5a07328e9b1d91b401c3a3fef9750ce593888f99120081bacd1b831e37f19f85f57aed6c5a55f643b5514a25b330a27bdb5b1a455a280cf70fc52f3ae33c0bfad80ae17fae6c593ab15523b9dbbb287327e5f1e9215fb764af42b51559763b4f7a7147162ba980beb498b5ebe0c9d3b3b074b8bce041bfdcbe12f347eaad2a9312d21ba247e5e097b0c321301a3a61a59a21cd1f6a0b9cca9024df533a938bb7612d8edde2c3a49c43b16db980f1f6ac88085506e89c8ee2f478b2ba629030bf7f5fd55cab89f005fdc103f2a331a53c7c2cef65d8e05f6fbbd0efbe8a93e1b9a67b7ef8dd42f5ca6d21d917ec9482a417f7ba48243039fba711770d95db95dbb59c82097887d3e88f4b450702b2d986a3539622bd2b8a78cd1c5270171a28628eb406b65e564778edcb92b06a4357bb5ed0e28110ed6181870b70fa8954b00fe6f835f37eca8fbd1ffc24d5079d3f360af9a40c05d14da9c174c0d82fe14e6098ff36ca6fdf01dfac94564ba049edee2be39d8075cc55f2bc12b68f8ce05921415f68b5931200856c86f375ba9de8fe4d42ac3d35a8ae9a3e98a447251f33cd614c47e92b9eac9fb4f1f84ee434708d7fd617a5d7b5fcf5700183db61775836d34fc6b96d22da90f4bc81b3ac4b19b0ce3e7f66060f636820b442b30d81b257f8707d3a5fe4d18b5787c0c06ce57b8763b10d88be6d7cf23aa15b413b041876e4eb4a7ad88d3dcaa1a79fd9e67eb019159f14919d5f19e8d5b2428e7c8e2583db19754d59099f7ca4445e48bcd5596b4c668861641f8b733246e8b0e118a1708846603dfd02544c90db2008743eab2313a7f51048ad39974c36057a10ed4c3a0faa0be9a002dbc292c432865988dae380df30524468c09e1ca975db03060552b43bc05d187c9dff965d29b35e825e556099b40591973af32e0b779b7e15d2061beaadb602066cee5ce3a9253a32c5a5d38c4f7bf3c9f3b43ccf2a73f7fa6141598ee5b42314e6bd578665384f31b58ab00d6aab3760a803aa6667a7d91f5919d6007aa710528af92e53423a5ba7354eb5dd7ee05f06b37fe767d64d748312e64d3c5ef6c2f537fd3fb75dc05c9394ff56dd29dc0d68fb7f739a3d4a210ae9a09dd7de56456a0f72736b7222c74e6cccc50fe177feadd9cdf5be3c4153b41a0ff0032d46747808ffe2093ac536349c05f7b92d86e7cdd23d104b89506338427fa99a8eac5de870edddb8943e88373e744922e7629943e646715f4e2aea2773ff3f8d19a34d8225b3256a52f81cd0fd13c63b393c89f3b0b3c0009051a58ea12bebdb57561b3d6c407a16e0621da63d44ff8f295f934f854cb990b91f10d98a7c36888720506ffb48b7a799ea2ef748ebb6d42facb0c7920bd134b70cf4887ab15d8be5e4191406fbc3aa55ee72a8d80ad3a9230315ffb2fc511d9c6ac0396b1cd7dac3ce2bb9783f3e3f7a4e73813454771d6ed74b6d2271edc38127409fd645e324208af14b6d5ac6ae2f9b9d1f6a393a71ea4c4b7ee8dd9ffbb3ce432358386709c8e2e50fb516e87971cf3acad31bbfc2ad174929c031a178171aec915e88f15ff396fa49bfb429f0dccaf55d76bd8c5ebcd3261605bc3c0a777d8fd79f2d5302ba1027dce4c61c24ff043bceb278e336a5ed018a154345666cd1c57ed97e40f9c6d096bd2787ce2346127660bbcddb90619b6add7b6284a9f19cf68e34d738d534ef7bbcc3c4282882a141c42c0cf6d209b0ac3a1eff378f1a8030179ffc3cf34429c2d0901db45c967ac0c15278cf26ff3f073933375d6351e0405a8e2a337f3ef7bedf1c60b6d78b43650d38e486f0a77ef57f9549ebef83297ca16b86f3b148ba478906b0f56a8571e8ae0ca40914003442dcd78410a4dc2e60968eeeb7e77221b71be7c94ccd667eecc403862ca05ab018ec8e4cf82a7773fbc942594c76b89b3f2ee43a4fae909be842ea1ff45b216c690f89d1d6f7a85cbd5375fb4bdd107e96b75d6c13a7a84cdd2928db788240750284cfa0aa5d31869f92f7a710596db25cbadd0ed88591ab7f62a761e874bd75230a2b01ff488da1eb95cf2db688dc2ee355c102aa3e9d36e09fe80ec7cb59f8eb96bbf8fba93dc441b5e10c47cc17f07faf8d3fa0768a1af89d46127e80cdf172271312ed905fe223b2da5aa3dbd109b58028798a7cf0aa39be10d5661a004b401a4bc3d3ed56a613d0199fe8271e157af65fbef26d46382fa9dd831e82e89a0f6d711d20078dc0616ed9ec063e7c432ba9e52129325a8475abc828719841b55ca6f541f0ac9cb68f4a47ebd51058a465440b1df6a1268250bce3641db7e2e0b1feb7ef20c3acd1bd2ef0e3367b33a6b1aeae6387315da0075fce2f0f7ac58b5726fdc29a5d2cb2891a23ccc970570d0e7cd1abf161ca99d57d2b921f4794b375e99825854e058d1e7419263e4da788a049d03f8113fd746fc6c71876d561b29b5eac4f8f18df0955905a0eb21cf71df5d23011c2d3a0c5256cf90b121bcae4a1cb34e5342fe8b6ffdeded8118f06f79fa24b350e4b5d2f9bd0cbcae43008f650e30854ad42d0231451fbee58e64c6679f1a4d4a2be577f0beedc09501177af6519dce1bc4e08dfceeddcffaca165d5c0b6a651776bbb40bd5843684fbd86a8b79870e727333a9320b0dc9fe4ea667c28d7d35e5b5d19cf1a95b628ccb092503be9936488a87a73260c66879e02eb9052abcdc6cdc739b80f52d8e1dfb681db75cc98c7efa9ec8795397d7af7c5d08c44d82622a6172e5fe76b232103f17c8e8a0642d4348c0d5e8443922dcc92774e76c8ec78a0ea902699bdee78798edf73d37f5099caa57028655c9c9289781aec605924f9c1dc391e9924fb5dd32490bdf37450c964015f49c9e60ae4365ffc3641f96ce05e1fdafce1939cf7e66b1826d3c8dd66615bc2b11fccde92dc2674f976b3e656102ab0f80cc72229c691794ddb0788227fd24c57cf78731de1683f514ba10833e14adc94968df30a4cc9b54e353b6f87427aca9f5429b411d77021a4c81a6f7575e14c597f03a7fb2c23a7afbc64876a9cc1eed762c47db05ed01663a806a0afc30751d41c7fcf56321ac959a15b8eaeb507dc33bd6fba53f169e6e81bcfabb9b36aafbb3bdf623862ecb1b88cd6474036afe55464648456ece70e18398443d01eea469047670aec81f5654027b349e9c30b8d4f49ec004e812591f5870003a83eb63fb58c1c8880fa90f1d092a270d49feee0ac9523dbfa294618d45b63f83748eccc661e187ec80fb3f598b3ffc788bcd8900e943ff0a1cf327f2638647141cce6ba05174f18bede7a573184df3f2e4f307a56dcd9c5e7272de6509157ba2267aded6b9b313f44b95483ac4790a8107cf83957267235bf97da42b9b84bae18c22560034d9b85ecd31ec047ab2dfd2531ab8023c6a6ff830e620ca430fca3b4a19751f8d287c5a27057c630b8786f145e38ad30cc9c2401d296bd189cdb6d921ecc317e343e008b5e9be486a761899981c3a7301b7b2df5f1518a199f86a1d5b5d3307ada8ce3e1d5a8bf228556a9a82403835e924f78a213944abcef8b025fbf2e7facd1af0d8d7026963c41c8e54267915e617e78fca7b47fd837d3e626e15ecf46f495cadbf8adfaf4878227b5b85a5adb27932bcf39b1ed3e91cbe02072f52d1b2ea43fa89a1e37905d595426ffdb3683a5ad9e593bff3c8b5d51eca6ba20524d763960f875e9c6bf9222137e92f2b8f2768baa307bb5b94fdc09c11c7dd43a23491f41cdca844d49c3fbe2e426f418b67a9e44991888f2ebae950b6e2dcb20dbd3eaa65fd93ff58c6e637e47a35f056b2f00bfefda44466d930b0ad582e575ded556803d6b732f534dbe348a3c15efa776d335168d89f49ee4ea315576c07d5b83b15a3d147256f92249af1f314a73fdcdd94d86371d12f6777485d689dfa0b15903b0feeaff8b8b7db5157e48d974d39886c123d02a56d9618f492ba076cabe69df54b4296165924ff564d6ac2b58dc1f606b828f4aa5c066fae9bf4f957acaccfd391b381db55c68547f584b6c306374b03a55b3fe8898a5df170ac97261fc63e53ba3cd5c5a5ed7a0fe545c3f1eec965dc6d530fbc2c084fa5db33a8da8dd18e7a109e1557d4bdcf7db8f02d59acef03d5c8c34e2e86283052029e8dd77d70a240ac5f0cec9b4bf60c9e8c12c4b901260bbfb98bf1609e112761ef3cd9d4868a0687cb0a2e0626719f8672f396dfa3366c72adaaf9916727fb08ffee5e87cca53469a395feaf5288873e8a0a8c0b780cee15c0c19079f911dbfeef661a96a327ff4be00cf47d3578c7ec0371e5a35f10c690ce2292113c78b855effeabd6fe2412863581e9322bd81abed7aff979099c57662a2aae8318eab9b238810e84205d6a0bf7d9d0af4cf78a95d8ef9a334fb643c3cfb9940c8ca757cd14bd26ba51aeb98789e60c7ad8b596dced123608380dda55a85e8174a5ab8cdb374652128af96e84d697755f15462971d31fb35c52d9e86b9f3d50a467d1336f9ff9d1bb5414f2911c00eda5ca28f590e541de1d7ae1ba46f588a41c3253277e88bd89a609a35d8d9d588f09bd8b0628fcd08837770154b10a259a03a5d61ef155e4c09174c76ca6d562c95ff95eeaf38b3c661e4af506880213b05bca94c6e219f96b9ca268a1d65b377e26bada58615043d02f328442c3ea3913ca7dc3a60733af5de61049a734a6a9c95ebf7e2763d3b38533db6a3fd42014cbb9b49c770f4bbc932688d491893e755a0b1c8189ce7cb9028de3fb20d2fab76aaf66e5ab73b76fd091c68a0246ce45f29ce2f448bd83ec07b6a38f2fd1a7401e2cb37af4028e8ee2bd7ccaa50f72e5ee4e98e499ea4efe3f997051c2b46c73ed9245f1328dde798eb1db555b956b8ea87b93590d9f9ac6f5328b5ed4a94ee3d5f6841998d772827efc1cbf4b648116eac1ab89852cedeaf1b3cedb19b648c2e6de7ee9a030e12f598a8f8901a9fc7047a214265de136e3645b35418feaae3a5636d96b6a5449a4c9ce95016e192e5c6ca13494deb15a2f258eec78c025e1aede80733a007efc983f7fb01bce33c7afde36c33cd4b093024f1847c33a9a6e0ac14fb9d9ff261ccd262db0b51c269ba75cb35abc1fa40ec6fbbf5266fd7361e57151d124d8b98ea9407c6729290147a952ebff9ec3bc2ab8d125a9bb574852e9f1e56a69c53a033bc7cbb36f227bce8eca3551515e239661374014ff02038183763081d59f6f48204fcb46192acd1824fb16fb8ba959aa26677ce51bf5092a838dd250cde2614b2fb3f6af744353edd21255a6cec7b3906a0b5b6cc3f248782db2b50d287a3f041fc063b15cc967d23f69b7d3022f783c0946ab1420f42df8406ad8e167cf9e8f8caa3430e3bf424c1f914ca7707eca7d5ec5293ec145a3770d13b4456c4e9f5aa76f3cd84ed0b6be23ed882bf7561630fc7c702f997629b94c549952af2194163c9ae0b02a1d981a93c41128beb4b04be0c9bedc3f7bdbd1665b20f13691510e6a0ec7b794cd6f6a1d0aee022f6185551ecb0bb85c9c28e7d93341a9d165d7746796db1e0e0f2a8e94d2201bf10c24f9ae3ad1e6ddb6f55ba1e0857a10c1829d96edb3abf61cad95ebbb55b0ab7da4bb1e9a077928c0b848b8d063f7593126c938beec5c048c5318f69d7eb7e7b7828ca9f1fe5e3498a6fded819795cbe598cc8d05ee3575728ce26ab0845f4836b22f8659ebe1ee7a91ba730eb82b879ed8a5367500bc628b26f138c2ac9c26f59f5649d879bc942f22e36e9b66275f56b76b2d1013dabd80f1f71fbd6ef40d386a5e510d2eba43a5d6662d87771d442ac99dffb50a33ed9c0d2c580bc763924522477629096abed730c329fe9ad69bac83f9ce2e6a4a0a0cd42f76ec4c8c9694c68cff6de32308ec9c33a788ed20f777a6b4a234ff1300c6954b38ddf72237ac512ab40b0b82aa2d21ed658c1b90122f2be5ef5d7ed3261805471a3f7b92fac4bf856da40dd524f8ba03567a97e16dabf5d57ad903825c8d315d3ebf1398c3cda6c49789364902cf343c8d22fe034d55c9314de3fd14fd1dfb0886d971779e8b97324a45a52ac0248ccb724d57f31d9090d207c42af45abb439637d602dacc8e433d383b8033a84eea2cb80f2947d539530291dfa8f3285005da3d411f7361679ad1becfca792b3d0aa6d29da86f25cbc15ec2c47d4c9464b4c7987e5b72f325f971edb8082efe7483eb10d305a1510d3ee1dc62915f887f84836e2c45e452e65294df11111e8645b522ca0add429a4ba380c4ccac0d5bc0416729eeb9c36b27a7a5a5ff3ff6fd8c26fb4fe85ffdc3cf196dd7e714346c625cd2a8cefde94af239bf945933cfc3089721592f1cc34b19b6361264b4535e5af1a366f964640969340a754612f5d82e66146be4e0adf737a2536a8c9a019bc5b595eb381df76d892f175b6c195640bc8d5a3553f88344ab75c4d6a443d5960570caf353336c0026abb4754b7f7fa89b7d6275f2e70167e2d8877c3fcae371a86b07afb733b4abd4dd816c9c1af75ba4e2f7d1e83191f9fe4b8f438cddd24a5ef75be626269210ed4cc3d99f186ba643f3d2dcec4da201671713c321a5bea703c20b6164d0f3302c6f10c55a498007328267abe02529c89badaeb4a3ff4c10390a17744b71af2a5bb6a96f8b5856ba0cf75513d94adc56646c153037cc165c8e4cef0b2e2cea48fd8b2d5e592566dd798e01b17d83bd87ff48c9a9358942324d613d10e5aa5861a231a5a174e91e2f7bdf0c8abc994d0fe1cbfcf5684a86c45c8f6cdb9bfd235a22554f189f12c37bc4eb8e3ed809fa54f8140d1061b384f5aeb5acfbfd1e62a9a21dc83bb478aba8a054f80935548323d6ce63236f6f6920bc305cf6a424527968ef866308f0cc68a4d3a206e5fe821d1c46720138b2bca6177e7aa8ec6503861b5078f2f54534d2eb55f49d8cfc589e940cc0f9f7ea1ce34c92961bc06ced746ca44a2f8aeb8f38bfadcadff26d90df867018c709009dab0d387bd273c250f46d3114738436018fee7602d35e9583ba0f572b4694fe924e031e1352e28fcd7014522e30c64b658811989b00b17e760cb420b98d18e4530f21b4cb007109bd8db071c7c7a88e4ff5a2829037c793d97ad89c3d3d2baa0abc0d195b67391101b03189025c6dda3db60a1a0e68e905424d39ca492405240eecbfbf4998b0900449f34a129e58ebbf62c589f4ef618a085876798f5a8b1ff8761a02febc2d9818c9691d0d84eae7c6b41edb3833ae5534371aa10718f8641ebb83c0b154d98bea75bd0b80c58f26ae24807cd01510c1f13fbbc4377a272df3041911a5be454611101e514c9bd7870805341ed9a3bec08aefba58b75cb4c5da1187592f2bfd273717629f74e35c182e39108eac0c3354f1b2ddfaefc5ad5940c579f1a57e967843eae58544a022c89401106e98940636c9acbeebf87d7aa91833d958233dafa40aa24ae9fee454864523bb433189dd2a8872e784a84a13d0a3fe2d7d412ac573e86575197e67d52a68bc718e3c28259cb3cddc106b91d03f3aee1257937b6b7746b78f9e1e694ee6d1eb6eca74932ac69b69d7e3a2e15e567eb7b531d121ee4f54677bb916bc5a60465704af4f5b018f2f14a37d29b4f21df6473cd5f00a3a178974caa89c284886808fc19a9be87b3620fe8d50e62f68b076e1ba46160728c8ae68531de4eb47b28bf3a03c4007c9aed2d6f7888f0543f04baf3537163261ec42049579c2acfc9a20c3433e34946c9bcad7e93cb3a1f8de6cdcd4f35d2350aba7f61239ad5136658de51b8f1b1f8fab3d3c2c2ba9f00031ecba296c8d0666612f2bb494442892382ebb44198d1be7885568ee22a7e1870423ec580df08edd769edc63d5c2aa88e1a305baedbcdee6d755ddefc6870f3ecc551b2765785ef9ed44f1d8dcf3641e46592d9b4821d9c8926ba8073813408dbff34db0eeb17186489cbbc48ced7abc838969db059a87731a2015b06add1b3ba807779d5043dab5f3a8029f669d0ac27d3b9a6d1da5e4d129cce644184e07ad14e67766203e7922bcf8188cf0c58ef334a0056178e78f6b27f32a88b869a98be825b5ab3c6d10c34eaaa34ce4d0cafcc44a39bec975fcd32f3fe4197bcee2a44950375fd9ccd12b12b453359faa107d8ccfe0e216be066ae6ed1fd732a584006eb787c4ab1a596a4b39b49a27895cc1fe88b3c2a85711e515f1542faa5255c0637179f8f28017c342ccc2c584f364e31cf79150e50df662ff3d1bcae4acb7fcfee6f3192c185287dd0e913977b332b3ff088b945029c6325976b1588ae59f7fdfeabfc5f82454a0a0838ad62fb9029f16348b8769c4c64619d7fa62c55b23fc25e7865a509b08a13f766472cf56ee6c3ebe1404e11ae4371ad848e59d6b7746995d19f76c128914c0570e056a0d21fce20ebdda5ce5735ded0e9d3f3a5684c575b8add2d43b210700bfb47f4d88d4b56dea5f2dde255802c2d7cb1f20ef66ed6732cca77b7e1e159a477e11eec74931185c908ab4a698deb0218363d42acd968367e1f42c0a1ad71b80fe8a9f493b7f260d7d8e2fa15b414279d19b2a7a530c8e74f090b6ef21a16fdf3ca97d0bf9e6b79f5bdb9967830f37dc1b313f9573528c1264a7fbced40a4032f83aa40945f676c3d8ba363eba81650db3ae64707559ab69ed6bed16bd653c4ec284ddf586da72a5f9a843d329b0802a46cd06c46bf9782293520594dbd0b44a8a84a28fe95eed3214f4e00b2f832b00a48a46b750c5f46f2d1a57163c6881529231d94691df9b785aab5b7bb6f9690a87f48906a7143b9a282faf1f8ef270168ac6bb7f23724b96c0cead3450ed5bedf114d7adee2b4dc3d558d7b198e608a761e36db22e06e5d7c3a62124ccd4c3d3f66abd3db678a657d49ba2e86903e1b259206700ec99ec7a5730f8060d3831b42a63d586ef68dbf7ff8a397382c82a40a94b34f1ce5f33c29af6c7daa87e7687a9555ef062bf08a14759a334bd678cc9d3382a533b763c4f704627d41080272bf686bf7d096b44b15f326fd05da707fab12c53139741b732da686ec461c02ef072f55057f5fe328e9176f20a24eafccde2e8ed9b98381871f5576b5dc5cc72d7985ab24d8ecbb10094a77ab2d49be4f1be8f5160153210808216bad5f781a660cc604c16c59a972c735c3f0021084c5c7b35d76f60a1b58e5b9c266c1d39b15e79107090e1435cb5099d3cc9ab8823f117651403c073c56a189b2313c103414fd750eef98d64bf8109305b1084cc97f06550fba93bc4b6f784d010abfbf1bc48ab82f32ab90e9601fa4e6ab6b52a17beae6f627be5e29a811fcde78f217da64a4509980937aaed8080015c698bfeded6a07219a47e7eb387a90972301fa3d8d3d14cb3714c8621ef536062768d48e6485fd0f5eb3e2a074b2b95b0350bc9b082ce64c29535ea69048d0ce5ad658c9284b0717a4404dbaa261cfae6a6a4f6dd00a08750d6292a2619e30500299f91226e2e3670421f5c35a99311847f4409cf1ad9ecca41310dab5df7cf755f3fe899b438d5d221ae422b0f9943b5cf65df70af6deaaf1ae0253eaf9166c36cc030126228e034c01b9609087e28a67d890759014eea05f39098840c8ef2e9dc682063d15ba9b3918b3ec33f2844abb5f64deeaaf27d551252fc060e8dd59c7469e296b42344352e7a03689a3cfc90d062d862fbdee4930b0ae2e29d32112641ec3368b7542ffedd5d8622d0f2470756c25a037562d1818674e061b70ef692d9340f69b3f7003ae0da9093abbcf770e93b94e4b91325d04c6a64f8545a6d2b822bba9e74bc770d504c1e0fcc862cc2a0bd82c7b15de3bd14166c68c222d470fe8bcff080fb47b1a71f4ffdc8279ccfedb721d5f327d709d420df0393a54f9909409b1cdd3de9f86c5c18050410dc523e78faef1061be3bd093aafd2ea646ab014763f90f18a8b583c0176491065a67a74d2af9e7b95ac18fd05c7feb4b55414a247828980c1b12d07f35fa3c330c87e77d9e6f92dd5d2575d31b5ba2f3258b044ea8a35ea5a0cd0aa3fc94be7206d5ceef30fbf1fc85871493567c8c5ef6cf792b9c1f7af59fce68c6a17afb98a9c5f4aae9d0b92bf3a9630914f8603e3ffcab28599b8813ce93acdfa8ba1475b44dd5c8527048b97830bf31dad3798c74947c8c811ebe99a61510473b24646cfdf477e49a2082961fe46d60503afdf37317966c33c4df8310954e86138e0b77e9b46cb13a80e6f1790deee91cc0031edb2c6bcb29ab60f8ccb68991f646a3d5c41ebfce9b99b149d3894093176e778911149893546fdb4464e9ca936390c381188a65327c2b2cd56f33eea27fe62f04a252919ba1cd7856df81e79e47b085d0d100f35796cec54f02d64f0e18aac284cdd8af774c2bc44c6a01ea7df542ab684478db1683897189cd760d21fe1d98a49deedca2d6a788d2991cdf9e21d59235b5b01ccfb30d731d2f7b7301b8138185e97a7ba045aa4415ab25ea41a1c807b2fb202f968b1381841ba3d8936de35d5fd92a6867ef6a414615936431fa70698fc130caff3f38dda6ba0e8c447e1862140f5dda1b5cb4ed697eed7e2f4a8ec2f02a309f583040c8a6dea992e021fa970f8c55ebb2190653fd40de0b1122726589d00f508de6f3faadfe9abd5119d374a4b5c332f25f8ae227b9f0de23a5f5f84197d7445af70096bff786b3056633b6683681ece1da7aea289e0230d6afc265fbfe30ff994f6a0116660424b864bef24cebb25cfe218c68e4cb99b3d912d2f09bb9dddd8cb746b5cf3eb19c2f6d8f447028666fb4c7246a04dc4c920ffc5a1117c7562da3fdf837f4948a970fcafe0156091a6cf1de95faece3fe0a25307842ea42015f50067ee57bcc1724da683ce73f5ece51dd05b1deca2d7984bf0b09b0982681081ffd1eda1f52d9fb6ddfead5273c176fe0118b10db008fd0f7ec46ebeb1cc9d99b50c70a131e1b94bd6ee43c2faa0e311a83ecdb9b35c07666fbe2e1458314ae549cf83460ddfc9e30ad3f58470664f3ded744afceacb836b1cb278830ee09d2510ce12862ed561b922c13151db82e7c3bd173b92b86f823b8ef9a08b4d207ac3846b650dced0488c3e19ecad72be71127cc05bc149eed4c209d05f574127dcfdebc11734d7acb271af4ceea90b251483e21fcf6b19ad25dcc763416a39795f287d116ede50f6be5c817bbb2e82b09b1caf4794ed46ed56fb4c333ee6ccecd23a467d43e871b53e726490aca2501b1ffc79c78e7bf3ed8c83851b3e98e2905b3f6e7df04f48bad9b659e3996b70364b941bc62f81b0542dbf7a13c89762def4a986be4156d7fa0d9862031bd47e2b2d8e3779c28701895f907101992a9f1983ef9c310093ca4bab472bdb09b6c5e136231f0ffd92941651ab107d8c5534cf482ff77260acc43c6ffb3b2e275aeceaf0119fa65f1ccb14e8d51898904575a7908748f3869bfba8b999d169642155aefb071628b1b194a54a5f69037db67a000908977a2c2994300ecd29411f02b3a9368f9f5c45dab8d176eabadb85dd4f656d986c476248d2c0f4c3681fc3f4e8800f4b85f825c12120da8ce8e2c7ba327faf53082f5d9d9b8b84b0fb030869ac02afa30e85444a112236c183bc7ce46f2b528089ede22a319dd24352101f9dd128a5d36508f2766c7e9e2c1730ed263c17ebc9f9ad487a68e0b5e5eab33c58dc8af091d736bd5d5fbedbceda422e29143cfb5dbadadcc8215bd97884da34a96da77287f52b6f3c6f2ac1aac03e656dd4711564f73fcfabd97c39c9c58be919a987aea1d6822aecfa6d7fe91a439542ca88fe401421ad6a5df46f7c9194553b890bc402fca35f952cf80b09be3e3f49eebb503596fa9741b99872ddcd85a9b0c6e9783ba9bb39aafc23d58c33ed8d0329732bdb6114ebb56b7c0b711f1a1822b63aa9d26fb56b0bd206f7ecf9260e494535b7a7b4dc8163d5108c7ba2187433d0aaee4f1cef587d8b43fd8ba295f6ac1501e17fcebbfef090d7dd84f61b451d82fdad4c9c5592e57486e8e10fc5dc8378df2e509d791b228047b780cc712297b8432027046fdf39eb7010d2ee3c7d3d4149a91884949e47040528b8cd0793c24eb8ed6398594ed78a727508c00cdbec201741fa06f22d550c7ebdf607390c0f45fd228446bdebd1bed899417ca64c47491dfb343a0614cd81036f127d56cfea3f3b9b150c245393db4aa056094b03596ce8bbff94e9e323c02b15e55079f72058a788db07121c3827e78f34aee79f5a877535671ec9f696aa75cf6d18e97b81c22056dbb7ea64241a13efbfa665d7680d1e20c714e1a7864020b6e4aa2954d2b74d538ef14dfb8eab487cf3c8f3c01e426b294140c580b7bd32c9a5b504087db0066e9c4c4a54729d5d9621a573d1839eba3e84f4e69961aa058fe53ecd66157254fc86c510ace6678691a28902eb6f20fbbf8d26b50af18eaa951a363ac6c492399847703e28f40bc47d21e417b454d469e3211f4603767f822c5f6f968fb84552c135164886c52130868e6f1e822b7a9e4a54b546c124dd3153939efbfb2692747971777f0de9e5feee32a7ca23eef644415e7cfa7089aced466db32c60b3485484e3e85cb2b92a8a919225f32754cf3eb893d8e8469168960114b41c6d037d7d615fa73f565e456728ef56c6cd27650a096cc92befb4416ad82a2d6f02d61be6ac6076a074129c480ecd113c19219098160d2d8c15fe1cfa0159fd6027a1e586f879c045c23b51e122e08b56f368f4b826dc615f180ea4f1eed2a658e81b5c761a2c148527c42d3cb616b6c46e3681fa47bfe98235fa198c71296f9161cc85f1b277129f0f6afd91ae178ff71895bc73fbd89292ba16bf3f88d416b0bce2752b188fc1275b5ef7c3924b1e0886663c8c3528fe1ea4727e356c0cc2683e2be3693cd041f45846f898d529aae36c5000859207566ec10de016d7dbf2e0d2dfb4c55a59ac495ece47c4117949ff34911384c690179e6efa92f9900452e441a1c078eebf8fa7a97ac8afdb9ab68183b194317b4c53043ed0cc9ddf953ea80e3f883dde2558448e6161a8de3717cb7a4b6fe590bec5cb97ed836c9cb2a8e81d8d833ddc075cb7936fd163dc50be65eab902dd899dee1de909fa12de82ff04d877f6af36c63d5573a85faa08a42e8bb0b3c0fe3f3e80cdaaf1752ccd9ccef283d7da2658b1ab2e99aa85bce93c69edd0efb50e4c28416878a92ff6f88d301f2b96556c5d10e004e1deec2d0debeb3e77d77877ee07a9e6834496f44f1dddc0f7dd36c86b87572a6c316e01e4924048083a1a291edbff6a51655bcf00bbabde90c9158676e1a419e8d9edbbcef385d6b34f663dce26ed531515b34b3abf829d2c12db1627b1665ef44d2bc470d9e346449c1e437336e84ea73670c79f1b6f5ce9d4f0e84cb9ccd6426d29acfad234b1c23861fca2c4f8de1da6a4462d93f0e0f0a745849031c00fd26efd8cfc01ffe1f8b9ec7e0f07839fddf9755b9f6952afecf6c84529a5d7522edb8f09b65fd3978bc61ba65300acadfd9f6a1498b694b880dc7b8db365276403686dd4f60890b59dbaae7921f4eec2b312debf3ec6b32cf9c5d96a2ebd3219e021bbbbb409b12ef081f1cbd2ce1ed555871042af67f24bb29af2310efdf79c1360158dc245c7cbca4822dd3fb4972a4dbcabb999cf515edb3275a198c09da64194c31e9d605bdedf786dcaab36210551fcc368ca93f48892960f2d7056d2741b6d9b3ff96bd2165d4f2b9df70077c59c23d598d737a7d521de0741584f680c4cf05e7efb2209fd48e361bcff008ad2ad8e88732bc1f472cfeb2a2915c21fe3b9d27d1bc3bc6e1c5f9ecaef1138afe2ee375895388050be760b503f465eed6c01a9bb83ea302fd1471fbb132a2821cbb08161ead30b10bbb8d0c6420d8df51b844bf9634a0bb3feaa0cde812dcba894656cae1de12a2d1fec5e547df31d7704870deccfedf21b699a28365f736008f062818e1ec5b19a1593b48e8c4934e8edde5e54220b58faf7b845530cea2b216ad456f38b23f00942b8b1a5f190b48284fe4a870585a486421f2c5b6f220b09fb38ac88e76982f003a02dc895a64e0cddb7dd0e79f11c9a2a7a7aa91244a4a5aa440886bf4ee6d3da2ea4c96baf529088b21cdd0673d52b287d1bf4d1affd51a32c5dd0ab764c596c475c462553f30ee29c36c2e7806b9a45964abca179b5d454afc0a6172df0002665af8faf37a72d5763f53b7e50dc631f58d46a47ec1df32430ed588ff52498da2f17674af49272d1ab872878dc9b3bdcc43c8466f67369d133c5f535d099522669310d444545becfa927db31fce4fb4ebbb3ef279426d050a2f50c3e6314ee1ed5175ea9f19a5a4c3187d7d9fff9e932d7fd12c68fb083c1cdbfe75066d61aa6b1d34a880667d7ca45436b45019627cd8ab536f8d78017d61a43660e230c129bb57bdefdf4a093fa04519789487be800ca61644249f77bee4296029a3707c8abae818f8e12e91bf7e3fe71358f6abcfbb0338fa3b2cd4361f0c1d8","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
