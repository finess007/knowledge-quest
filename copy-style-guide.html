<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f9cfb7e9fc0eadfa6ab985d4cbfca1a44a4b00b32355e5c1ea8ce79829214b0ce53a167d75aafc06b68c3afc54054fe3d97af3eecf636a19839c0f271704a1598fc1264468dc32ae1653a2e85d58075e0378c6eec8de3c30d2f1272f997888e1ee183a9aa80430359ed040e725e4988433bb9eba877647817f851a8297f9ede5db462edbb8a70d5f7c1987c6440d254894ed91082603ca6b54408acd9e1f982035156a42c9d72622af81244d2ec10b813f21f9e92e06a537198bc8f72b90aefca2cc06e801805581c30b4cdf79c94cf75a3df76d9ced075f43b7cdbd7a9dc7c109b72523bac9303d994511d8f06465636db892e230a8c1b28cc6dfdfd8a1a76443a588e38c8837c7e4c4ed25e03455d4b9204504b5ada48db11749819696d91cbbb4201032e188769b01796353dfef7dc45f1a8d4113760269999ee95ff2af1e9325ec713144e500b2f65985ed8c476395ff1e4cae41c6df9cfa192d93a59bcb3e6d9615e13821fd20dc1ffc9ff61423fe5fc099167790b3d14a81ed2a33fc1ce09a0368e560fe2b68d8a3c5b22f52e1232911fd527188747c637a34695b670c39ca0a741e83fc7a54c94889ffaf50d0baf05e669a1ff7e99d9dff3fa7b4c796c618a88de471ffa758cd588d9ad1559a6bc392a7c39484c7f3ae3d834cac00cb37ddd6cceec762be61d5c251f7f530ef390ccb39f1218624e4aababdba7d8b0584e05ccd89bb90ae37c5d7b66815bde9ffe8f4be12d07546e101bcdc6a37d1b936c46e14f80bf74ca535d5f5bee75ca18d1a3422b959da4d86e8a0bd3e12f05646c4f4a0e862241f16cc516d601add9eb5486254397e2e83969e5413b4b242267b290dc0e2d5470ebce751c662f7240c0aa2092838156536e9a95af1c1872589aab295975ebe76d8d11e7232b468c2137f523871b980a0e28178eabce5668c19e78147ef91c1b8a81e43515b48eb365ed7083ea4a1019dc872425a78754f96d0c9d252207381074c4cb4b4fb70134bf6123ae8d425437f54e47508681bb47b27bdaf3056cd20f5ec503424e2d97eca1cc8e23173742cf0d513a40046e0d4c8690d3b7ed9036f34bd03be709aea391ec0105dbf513636186e7b36d271da6ce8dbaf5bcfb34477f37f7e3c4efff6ffd1f28956aae13b3651e29c8388fa8c1ebac27eaab4668c527ee8504131ccdc6ce96e7c07d8b502df6d0771e9606342927611bdf141da260740c74a0bbfa64a03298d43b01af4154036c6feba03c1d86729057db3d79f57b9ebe038c8bdb2fdf97c5519d43ab66a792e5bdbd2500136b516f3ddb4af35383336cedc89a49cd59a5e795e31b34d76e9bf8db03b76ad1915293a0070d4d0e0d9e656ade48de42932a393044fd0c7bd5fed30f767b58dc519d8ca61bcb31941a2cf3642863767ff740888442aa11a6c15906338a80a4571709287023c0aa64043de96d99daef477e465e4351a92b9d91d27a21c745ca6bcb215e8c8d8203aac57def38225ec807c03ba453e4b1aff3995f691ce8011974d3ab96229dcd3c8ab3db7ccf930c094b11e7da51209288c35a18b732b2cad7b7468ebe045ccb57f7229f559e11c02ab32b160a18593ecec2adee9b41a8cfbcf165328917b17f562bff9146033f1de5de9f4cd633d28412277793730c2ed1983d2cc7bddaa6b6f89745ef20a5a90574e4091ce75f10f66d28319a7b4bea3487e439eb1acdfaf2642a999e63be5e7af0f3370cd150a40f86dca75017c660d4717945a1912cd8f9919a0499ef9ec26c60eef2aa16ddb544dd79c69db0d856f38ba3bbed8fd6fbf91b5d4f68376b03ba398a0b30e10b59c27ecdc776d3b8ec9bd666deaa1deb49c3f0c9d79572b569f742a94c6af09666bd4ea1fab121b9708c286be1458480f2c17c426b34ac183522db34cd3941c685a1b9a5ed3820cc3fc52bae25c2e9613d730fa3376ddf1461d07dfe46e8de1c51039bdd592baa55f473c8af8d4d83ffbaee0dca5afed2d54d032f055e1f07e9af83b4667de6b0fcc651705aedf6d3a597536c0736e009c273321f3778795417c26cdcf50061f090ef2970cdf560f182a3a0978c4d484826006b1125a5334a51e513c3e3e9f1c5a5f8cf0c2c6730bb6707579cf61c5561f54f8ec31ceb7c956aaca69894f3a380b7bda4f24f9233ce228bda331e856fbd91ac1c584a7aeb1fb17082c00b94b846a8732a5961bbfba3a9cadd24706eee67d37470f32837927dbb5204476a13d22eeffd58c038567186409771fe0a0b8940129b32dcfd2782a5912e4909df6aea06709045acb14145ed3e4a01906a88a06da2370e38a6b801e6c90ad009092b20757939ad8729361ce11f2265fe8260a7eae84ecb32ac96b99dcedfe92d9abb08eafabe1da4717246c70106eb03fa08794281b6437e538ad2e2a946d71ab2a790cf21b332c272b0add3244d918ffa113ce39c4e4c513d3ff49e954010397c3b7e42cb5ee8b48304161cd9afb9669bf7e5c2d87cf75fad7a8404c038efce3f7009b79a0488166eee00c92fc7d5f4cb858d7b79d5764a4d355e79114376ece9a8826ad774c1eceeeb72dde7dd95bb8e0b2b38167c479afa0be3981a9053ac406f15b302444a35fa6eec1305cec9d9653978052c003c1f08ae847445844a4a0f3396f91915928f8bc61e1d429830636bd9f73110e71959249d5ece402a6f39ade1657287de94c7187848c2d375ebbde78ff94e37e9ad39884239adaff6aa34c591235a2cde54297dcb4e83d47775de0db0b2d3a1436db22060be9ae776c825dd1ea81ec00ca2a1260cf21253aee8a36168e7f34112f8da5434934c17699120a120bcd9619c0a05f93865d8973078d3cd4e2a01bf2d525e39a737561c5230450de3039abcfbd2dfd0c2337fb4e0c5b962516a5da5d746512cacd917e2f43b8c355fa6c8e15e2a9a7c4c23063ddaa5f2c28bd481c8aa123cd7d8b9ffcc27ada43dc465df2c7a7cc58460263d414af60e2790ccbad2398e7a0f53215e4e4243b6b45de58bf2ae75dc03fbc4562908f62e61b6785cdabf0bd9296add62fe54702085a38ed913dacd6430404241052a6eabecdd182c9b74462d3dd9802c0fee194bc4b3930088f3a9d2ec1540131c7e4b7477efa5eeff34bafff9f1ca5eb9a1dfb9a736bceea59c9b0335fc5afd2f21d57d9292997d09fd3557abd3664c62ff06d5f18bba77c68c54e3e5b0f69636cb7e26da0e3bbb8daf039662e622db70b06f040dd7e394ebce2fd0a1b8b079062784e0242607576037494feb85b996db8e86f2d3e98f9b99e46a712f76ab26a31419b2e8b368aaa9dfb41aefd61dd523e3a4c700dabce18c2969cf0a6874d9372e58b106f2e05649630074af4fae1af4c570c078fa4826c973c9b5d57202fa22a5d9a636c84d6a8bc80324501e574f565187dbc21cb73da6d9605ead4643109cb6d327ab628749219e259281c0ecfa0f9cf4102ec3bf0a399eb5da7e91921ba493718ad38dfbafa61207eddf4aba0f5b87b204b5576af15f0dc2eb40e2f0ac1ade16dd53d95661204d80b7a3a0086bf98792ca122f5d6ab752ef6267766c50251aa21b37fca497eeedb8b2de85dc98370bc8033a1e866b817d6622b75ef02ad59ae594726f7e2ed9b3b066236414793825899b418f1ac0eb14628de69ed42303015502b554ddedcf172d15bcf97155b8adb757c92db7b99c7742257008d27b8890a4fe501627ebd9b719f093361a22398b7143c2fe916d3b2458ef86ffd640297193b6bcf16cf128885893ba6a9b721212b4f8e38ed7bad64ea090aa9a7b26f6553c51461b3ff5b8893ca48b6cc6a7e723def3ca1093e20fe9c5116bdedbcffd2c3a73fff2b04f924851a082b1042131eb3622c0c2f97b95bedd1a8c23e9ee3da2cf38b0d90bc310d9370fe562ee7c9c55355115ca326ac18daebcd918b17c6fb262abe64c0384882930aa6b7e8f4ee4c627e2616cc033809adadbbcd85b21e34677b5431ea4df8fd56f2d0ecd030d4e9a4d99e31e54d3bcc1c9337218178b22257fb0ff9ed1d8b68f368d1ee4cfdf1be98d82aebf9e75a1e12bb7f1ff06d6b3b245fc16d1ae2837ac60b71a9fff8a5055108f0bed5d9cab42962b1fe953dacc7f7b06c533a9848fcf41724818d5786f8e1aa25cf4faf3f9478e55ea7beea285ff9dd2333024a4d89f1e0086e4be81761e6c911cd3b7f3d987844576cf3d6f5f2d1b3da23358a40c5cecec142749bc2dc624173d97ce3ccb2322d456390ad0bd3b1ccd67a32c69e091be08834098e6b245298c8e90c98e34c47c12409f250dfc598d2d766e3bffa214e6be94f894f8808ec4de45321d0953f45cfde0a37d6f06bc5dfb837a410d46e5388a5b26f2a345dbf96c7cf3a8bcb27a82a61a3f216262073a7fb18b83de4ddf8ca20e51e08e85f3f1ed0074593cbd2b89919bbaec28d9dfd0255458729b2d880f0740d80cf8b56a12079e6e17e4db4b8c6af6565f201fcc02d55f50a802536b52a4667c9b89586ffe1783cfc62942a3c753cfdf955ff047fb4a719267887a73c365bc95e6694db36dff0fd49e9c3bbd83504ea65759fe0b74dc25621799595bbcf96b42eb62d2c368e0f7a59e669ee1db9a11d1e357c4a1635120e85cf58436a89904b85252882a4c40e7eca6b38a891e731ac96b4823abc7e0fa8a7035518efd6bc6ebf05ea582c64a9c254e981e8e42ad3ece80ebc788872d0150f079cd9abcc4c7dc96bb84bb354ca664613aa307c36c2f007b65d389268e64e4c372c49330baf2a7fe62ddd49d5b52121bf8632418350bb2fd185446b9b749f368a22564cd2ffc7536099dfd3a4a0c0ffaec17ddf011f7dd8a67c4bad9bbfa95ec7f21c086ae9288f11bee28fb923422cd0b8e9132f8fe91109e79d3ae2531fd57d46c74f0df061b999b0e99e9328d11dea87d82af9bb12eb9a2eae564f1d5d06df63992fc22cbdc27339519d105d1972c1d64ca64a8921c17a2229d3dfabdfbfb6b7291644d92a5baad3cea24d220e5cdd60f15af0d4ea198ffc6f9c09d87932e62448b734d3186a9d6264bd4e7e50e56f563d3b3b83e6eab79d52648e9e8b6f8857c86beecbf48bf42b0ec77c9ae845b858d633d3d50649c2dabff260735438c61b575698d804954dd9cca02ebed490bed5ccd7e0bb5bf8f1ce669f027e23a69406c3f0c6ecdbb311e0776788cedfd87ad0d72bff88b82effa2e38ccb0696e491dd344c566316053e6aff197c2d762ef9d80001aa301c36411c136778fe43185096d265e788a9901543032a32cd370575345bbf97b7d540997971fd5d649e2ff144f9459a49d00993a62b1d38884c919128a7fb0525f4c3ee0b21f095da724a2c7f20bec239d1fc9b4f3ae2ca171f9cf67c82a1f9c58de192e669e290c5899edecfa71fb939c4090f2874826251cadf9d695332a461e747a71291b6f9dd6799928f081bc9200fbdb364ceccc2606ececd23d3ff3d7204a898b1ff6c94e42c22b8eb6962b6289b111b1ee4486c00fe50a71d72e869b8e4427b18269fd26273215e04762d001b3f8267efe1adb3afc01ddea12425b755b836040191fff86f27f897e1c4030387f161377bfbc46e24836cf70768bf09c72f7f79f55cd32d40730caa4ae87309fee714111c86c438a02de3d1a69e7217daf0d7c1646663c86964e4b9276d143cc16e4b386bab2488cdf25cd1ff0e313d4107f0265fee170d479589994a338270fd7e793b84e2896d67b3ec9df0d36eece33260b8acf1597513732f078a75f9acb34a4883a6a106d5f46e789809a281fc2d2c811326a46a9af475124190ef9605e18b89b7c282258d246ef2171bff0ff3646fd352a28937e11dff92f4f5210eee8914a8e0ec2bc2df0ba22d10e3f36f7897637b0d2a9648c9a9837363bfbceb0e143e9a07f92c3d5a2476a11f4b4978e9e00a1641844844b23cdfa54c7aff44fa182cfcbd414a6fc60834a30e5d3083ece025b84d3afe6332ba6fc021e46719ac9942c8188d1bf3493ab521a7f23a8fe59c1122b0404f5dfe15f2bdbdd54eaf5b235031f19ae1b88e96971fe18857210437cf1acf9bf93d145366b6a51329c6882b70e01712e6c23c995969c3876d74d9f7e7e0371d0f8861416c81f060a79750c49c218eb5adf4301a13ee6c6f6f57ccc6323d70e7b28a71d5d19bd1a983ff980de4961e766151e2ad35c2361272ec7ca1c81c3aa6ccf602ef68d6fd773decf52294b014370e1fbb0587808e70017c5ce841d9ebd55246a0b1c6687d902ab491399732435f1a414513cdc2637089504b055af8a7325f9fa3d71ea0bfbcb8c43de7de37034051ebbd81592f9508f0188c4162b152dccc2a65a791c243d0f067d8953d5e41f9022f96db218f09069c36673e908538e1738c37209921b717cbf452ccd26b1da259146e16f1106c66ef2f0d8ce989761afb74d251aef500fb7c6910f45e0f10a3bb03b2ccaf43418ed6bc5c941f18870ffdbdcff2e1e7d57ea0b921b6b0e53f995809ae885c928e793002167495c7bc0fa3c1873dd2ef0a93dfd7b3b4b221fd5a364604b8d32d66e784e3d6c68274e694fa7613e598f076ebb75c5bbca182f08112e94699d06e320f1088d94b0267df2f8d624247b1ba6d944df879b3d418dd78334db8568367e5fe60df2e61c0da5ecd0a31e6ec4d13094aa44cf426cc002205dfd527e02791b3d3368c1963cd952880fc093dc6ab2428e42e83946d5e2289986212aefaa647dc4895b8deeef6d73134f3e0936e963ba76a5cde880b4a1d4fc19e820e055abc2929ce1fbc7417d3f4af3ba08e9b0fe376821ac2963ade62dbbd4739f8e32393a859a19fe7a7c3076c078fa97db9cf518769c10cbc361fe534a2d7f6168fecc5d8ef64b46e29e8c8edc25e9c21bce31dd17c6ef94d605914f2f05a20046400a5bcce5a14f7cb9dc6f2de20bf8d8e5d1de13953941fc4a0fcbbd1db02cc9f50cf3f27880bae4038320ecdf21f8201a88e6b44abeaa52fc78a1c15b2f03e79afeb172e46f9501db686e6952367e00e8bf4ac99b261a332b8f587182e4ade570a5d667f1c1916035f5e32d2166a7507a08ba7f0080df85b59840c1c88fe567561b5112945e0141a67fc15ca540c29f5dbc2ab3470cbc8b81e1988428a8924d1509183568bcf81a74f6075e12ea9bc103e9a245abca85d3c61decdafc145917f2f0aafe8c926c730cfae9f8d88785702a56615cef432d55dee54aa300b868ba3aecf761e9d9a72a87ebf1fed06c9c9e8d442737f7efff3a8f61c05a118d1cc875716261a6a669e263a53c2b65c4000542ace86b2abda65665671c12dd2ae699c246cd28ed708288f849c771483bf3d9f63b71e076698333e3386d4af1f932b222d95aba66752911949ae68eaf2330e234b3a73ccb95268f74b81e04a6bfa14369727a3099270e60ce1e07175b333a066840c1d7c85164c248c0544a7ced932d7f8682bbd59b39eafeb516207c247b49761a451e141db27a13e2119ce01171d506aa504d25c4c87bb51c1963f1d851a2110b1f4d87c929657e7c9eba40a7655bc602967554dd19c01b9529943fe8508d6b2e5deb632c05082ff23c38a64e2d2bfa4ab7b2c651cc5ce33aa82421424d7e6eb26737e7c9f2bbd0b092dbf33ddf3ea346cc2ab911e5e8f24ae0828ece07e41f3fbed357c7f6830bd882758049c79ae1f418e7cee6418e8ad18a4992e4e913dc0c8e489f9297ca72199a1798ef78fcaf8e6059dfbc9b141b45c7b017b8a9004e662351ae9d358e7704f225f11a54073683e1769443c0e6f4ba1330b98b0686487bc3a7610ea6e52d01f3a791475a0468de7ece8c4209ac8686b7e28d43f300d8e7e6082effb35a9a2814777c6cbaa124945f43abfbcb7557b4eb833d65d07ab5e4be2ee84be5da4a2d1d730c11196e82499253a72a28ed79b50d5c52c5446151bbde33b49c55496535d7049e92c89d3ef2a6a80ee30ac473c51e25e2d01a950e7a2d6d36af1a02a37f3b05657b7455c4be236bde5118e63f66bb4f2657821c8fe0a43cd0eeaca590bf3ad95d397eb1562c91030663e1c6ed0de45b95837402ecfd1868d64c70673113ea077e0e05ae36e5377f6bda6e9e153771db033ba35184ba06b046a0ee092f30bd666f22537de3cce6bbb8df9657852494cfc64c817d1e9076a49068858e40770df829a4d793eefc5cc3d82625824760ae7b0970cfa5b93133626206f1974924c5b6f9399db4f010d70391058f9542ac1f1e76b3c751cd5de58fce373bf1377e887437dee95f9ac7e72d0c3c84bb40bb49ede9c6cf5a0799d8a8aba6df98a8d88c771fd06ba81e54d5b9f89718525092c9899e350dd9469d7a9298f8da409d2f9c561bc9303304fbfc0f0ef0a47704ed427562ae8d27f00f2aeef90517d31bdfaea598afd0369fccc291986b1388c09570261ee2fd8914d5926885f9e314bf8a3b5abd2c4d6d97a5d752ae31f0f3854b7d18e7c2b2c40e9b4604d227b6a4495da2d29e3df4705d2600ff6b222f1703dc2d840496285d4409311cb345d864baccf91e5fad0325aba671e0a6f7a26ebfe7727788f108dc9477126fabaedeb6443c67b3e928c545af3bd8109329da6e3a47bd3b3b1009d10ad630ca0bec3654901a8f7b96eeba87c61818c0c53df9cf76bf170b007f28aeb56a962ce9ce663710bc04ed051afb9cbb8174487672c17a6bd6241a77d352d953c167829711fb35096fb755706cc97e72d4e48cef63ab4f7ba937e2c3a28e9c1da615542f591def0c12755141b08e57e5202ca49ea9d99c55e66d32d56b5c329491259f98d89f6b9efb87f657912d1510bb9d223567a6cd5a1c1a8aba5fc023160b5a49d78de603adb5ed2784ebdde8497f0254be912e23fc5aabc71932f135689ea472c33c761bc0ce3bf7720229b5b6ab69b2bc7134b8e3e0daeb2a95a759091a48a8916583af8c1368a095f4c08f09cae9f8749031d1bb3862ff490069ddb9205c87b40c672db3e93f0c7d00f0360ddff209bc40c145b185d5d4cb27a339481097a65c90fb96de616b128ecc84c86ce19f8352d7461458309f9dd4e8eb6a7b55736ecbe0418983ad2f614f7fc886240423d84d34082d6c7d46f737503735bcc02970cd8f76664508b23c33c0501fafa5bb83d1ca4f287bb02abad1cad29b3ca1fb6b05e457ded18cfc97e34c39acf8d6d645c901ad7a7b29e14cd26bd8bc4a9cfd024a2e3ebfa60755cda1e07d69c657bd6ad8a5af298277f35b0971b8d80aea332471663e36f4c5cc64a717ed63bac6d1f4c0866b8742b69b41ce87a5eb5b526684d9acb5b1a1c4dee9c8096b3731950bfa1e068aaabf5675ac32597fa5596796cb6014926e04e722ca5d6a62490e4dc6d36b1f8b28dbfed26cb93ed6e17f00b3727c192af43f07be671235743d153bb867f3399fe9084bf33257136e32e1ea8ed5b3fc0cd09fe3e82e0cee68a9c9320fcc7c33ea555660d8c9685c25d2bd8e9d43110663d2c154e5c06fab3f3f1339878941247025fb6ca6319a6ec091c09fcc6d1f754a4aa6d97ccf819aa01f690c0f77315a910b50ab918d437ef1399d264a682421f8fb759b9ea67f6c44dba792deaba1d41bbea6e00b04792a1699c94fd56c91688ff1b81a6642131333581c58292b350b608824f05fe8b93af80a3dcb18480da7ba6d75df551a02f42e446554d99dccbe36ba3d18a5ec4415f368637aff5847e8ded2dc1207c8d0021623a2456631f11eea330de931627392a95aef3b7ff680e0f6d31707abbe8b89f609468c2ceb23c7f52c0d17d13c655dfdc465c7e36aa66ca4a3314ebb1063bdf1c11d7ad0cd09b1ed891c39c94ad5f4305dc1ff676673b84660cc0fb1b4ba4d79e8824cb25d2b468082a88852c511a2941cb55ea36922b7f9f36f34fff68cf88067095956fbf8526a11749eb4ca1ab0b06ab93a6a392ae1abb2e81e4b7697c048509ac1ee850a34fb708f35d25bbb8d23d11053dc5b0a9e7fd2c4ec48f9e9776dfcd0d0523c0e696bab852d9cf5fd48a181732307648180b023188e7b0587e400989892ff8944b03a9f9cf80da77163bff930a67e7c9325faf277f5cc1f9b2facba418d802e7c052e9de122b191a91fbcab3701142945a322385e7f0b14a229d22a3063571a5746ba57cb5fe65580d74e81ce8ca01468d228613b3352a975dc844fbd5c85c0dcec1874d081cb8f412091f13e01842c96a7c87909ebe28f686a7eb77da5af4ffa8c9aee8f2ae944340a0578c951293fe6524a4d66b65467fd125931513a0860ed4aeff4807826d3769fbc7a2228dc9722aa078e3f68b1f646ebf86d4fdd4bbaab90831f1009004ec49a13086e1a526e9cf4c6cbb02f41b098fa879d7820c2075e2ae53b434db88bfd449bc49f5d9e49ea31c647255e5d89f7e4381587b3d80726c164a0adbf360e8d9d368edd2ff20d7ed5cdf40defb115ccff29b37180c384b6ae69aab1266e381e0e0d92276ae95da4d52b26ef59ddf6dad7fb0f16eb8a8156aad7affa0559711652d1207dabb30df7ebca74e9475c7b13817b72d070a7c234079d137560028d379119d9a31ed055c16f04a40308410bff4486a61948c2a6f34891ee9810ab5fd55aee88f6548b4b2709b40836ce6365c448f6bbbe2faa9576531c275b20a5f20138e89287bc737a5a658658f80a774b31b56e6d43d6412004ec1601763b6b3977e64bc770340c386c765509eebc22156bfb7f1fa667eb6b32a539da34af654c82f6752e48fa65dd372aed9c0219323f958a9a6f55e04cb10ef326cf53202399b806546e804c462c5d5402672cf95cc65f5c1d1a25d71132082bb44b14e569cf77ee813f850dd93ebd13786d3073f4bb5b187784efac118aab0a4f6cb94472a25e0715e74463f025be24b1fe87b81b0935b27eb72105b55c4498afdecb0b0b4c59140d7d64c1a682338844459cd678411aeebdba3ddc0cc6b93dee9ccb10ea6154a61226e5f04ec8c99c593fb65c34e03fa3111fa451c6b15f25f0cdfbc9f1a1e12a71c8a34b3392b9eb0c09240495c1f29f4ffdfa0753b2d890d9ed78d049ee374246784c3aeee84666536f9138abad7b68dce596fa11e8b815ee967fae40529a4dfd599f748ba796945b791b9c0b4588bed7aa5ad09d4a9734ec236dfef41255e89730457ac405f0e4c1ed500a488c97cc77daec9922f1296559a36272a9304db4cd7f1db03e7200a527137bfafbd13930293b0189c2320bf7d44feec58323600c18a193c786e9289d4c5ed1fae3a32ba501cfc3a0a79769a20681632cc70c660cf80d63cbd368cc6a2740f30da300f47b5d9216e9a2d71388b5b9dc6214a41c5fd56e972c463c5b2a296fed9ad6e9211ad90b3b6a634ec6293190b74a14c43a0eb930c3eb4cf589a5cf7bee188e8781ea6b64ca8a58b84eb49a1180ceb23c15c39d2f3282cacde64f66a42cd5b0da5c02b1826f37f4765b28b64e114bd3437c41a764f63c9cbdab0214e99f4aaa841d962fc8c0855e96a218c78b24ce3cb02fad0dd12b89a94f4e4cf85fe22111142749f2e54e9c0463e3d8d4f0723f251a538720f91ae5a4a0c0989ea384a0ae7901e6e62a5dd0d547c8278f39b79a33fb40e7f20d7571303a5d3989eb190f14de9199ea300b40054d37aae27448fcb647e00fcc0dea2177e799fed694136f525607f312b6a27cf694102f69139a48df9bd80413049c1ce47b54da8addec54b64dc1a190a67fc08e7663f3821459eba28924144bb5bf9b06f6da6b576c145922132c9a4cad2f1ba9c102a08d7d3636e7da38e0c989d13e47b04686e064393e3c94b0e57b4dc2dfdc54eff95a848de79263afaa20601e9fda18a5064852e086768a54d4684ae0638b8c6628603d1de226b4ae8eb5a293d8eb70070258fd15ccb1c4da7b01f153792ca76bc4255d945df577919ec58eeae4d8e5553bcdc03d3cc580c467d87910a246adac5939b225b32d6d6eccf30f84866e97684225eb843572609164ea8c7c3dc82ea84c8168f123a0f42f84650d2669af4b025878dca7e6e1281a96730b121a99c76b7eb756beb905f3986a28e86ee28ba2295d9607fcbd3fb2d951276945eddea3761d9d39c428af831e044e3680aaa56c37897dda363d7cfd9cb2caaa7392ad199ee58827af7ac75c73c6fe67fbe76ad8e8e488a85376b26a863433f2bc86a2e46469976e3d0b63e3101f0cd3618d54854f6c56de345ca95feaaad53147789188fe72829dc80f9dce9323fb9dad0570ba7b939c2018d5523f523ce95d136d73b9c8860fdfa2cfd25070fdc4a7bd4c0781e3733c5e118346c261d22b71fb1c79978e3c6d05933a7c9656fbf9386be7d9c51ce85f12e6ae63c38e774c2a7d2deec041f6f42cdcc2a84329eb70d6e0623801441f68b2490ca49fcd147fe7e158a10310ffbfeb2a650c9fb2661c8b0d46af5b36d209f378e277c5cde01565e1ddc37f41955292ba545d0c3bdfa6d780f370ed8850a12d7ecd08686c8d2ab1d2283786b5cb6543327690baa1a487d151d8ce659b5c4190f488475480938d4dd4801ca123cc391ddf94452a52d92bfc9920d58879b11d959aa01d77e2f3910b642f1c7cc2c3eaa35440e6a2de5a77b50a586d0e7a574b7568ddcd6dfd3863c1faa2caa8da0eb3ba8e9c9f4f870a99c7d1a1d2fa4222027606a1b7ac5c2387b941310a0b54e401f05ebbdafd6c78fcf410a6a55991bdd4f22617141bacbe6af3cce6bfafb279bfea5c9c65a671573d7c5b278a74d50a40a9dae9054fbfc6a55f5ae8e971e7cf30edfaca26a7bd3a07c163ff3cdeffba0e5ec7967cb9c6a705b6e1aab5666ec7bc349fc93200bd5c43293ec625aa5722ceefe0d7cfbc3ba4cfda736b0b452888a1184a40f3ea7e046e3c210a09cf557e42c6614166ef220000f2e06878128f07df22accd67a83d4df2401cbb8df2cd4930906e10f24cdc6553107d6450be1b54a78477a74605ef08bc89b690eefee5e237e1e67a639aac9971d4e96d7f1d2177cd4e18f810645ebfd82678497da9701f70dd2b95692647e0eb7dfbff09438679420a95d8ad55b9ce67dfb0d813e6bc707a6a0533f06a1bd0cff54b172c7e2368855954b863691d531288586645b8577fcf553832ab77df9241a7dbcfea6e815ebcdeacd11b10548387522039e27705ccc85a26ececa766008ae112ce0557ff7e7ff0bd4536b85efb83e8d8ae065f02762bed4de216206b506bc59a73a1196f9e90f5ec2e43c96178663a92310e77c3495af398d35b88e488b662e51b0a15bbe0aa97ff49ce533696b74afabd8b770f1cc73e06bb31472fee6f725a977e316e4d7dac9515533ceab9c925907b0355717b759158d06ad791b14c34c25819479c99325bb993c4baf1af93aa1c5265e416a01f65f01637d07c8d9a1858758c41c11a9588494b9b4759bc67b30746ff1c0bfb8cc3d46e11a5eec2dbed920af277fe280e3764adf5f1bf1a0c1ddf031898cd54821bd35315ab046e19b1cf0c4cc882e5b3776bc61340e638b90b802227f542519288300e719f6be01ac4ceafec4d1ae56ea1e975de9c9c6e93e1f6edcf070d8e678364a7ad8ceb2af8eb1c72aba37419dead974a653a4e7c0fbf79a6f395fd49f4d9a41ef01b3fffb85eca4d0c856fc36779e298fb8027d7c8b77a5dff2a1c11d5691dc77e165579e4151766abebb759022bc8f119d40c1582c524875bc46a711609745614b22198cc67e78ce8135fd5faa2d2f65f8f4d42daf873b5b58f485cdae9fdf305517882a9ba336c2339970df8b536a6e4a401ce016c57575fd800a1adfd9721b811817f399fb5a2e4769049a3f59fb099c31e20e68fc23c7776cfdf862c9c6e3245a7fc4a14ed626bc512cffec8475550826afbe863afe508af1e951ab819719765c801bb7865b41c31e6bd57150f762cfc75896a75be252e525635f16d5d4610555be5915d87d257465bb02ed0ed78db2e8feb9b3d4d3fe885a04fc00b680cd1f1e8f6c66b4103f7afbc35193df28317f7772060b2bf86c0d7c04d556c1c45c40d772148a76bb9a64cbadefafbd0f7323df7456077f7bed816a100d2fb8d784b19e7e5afc2bf467329e16f5e309e356f2d5824a0154f86ed67cf6871aaaa20b502eeca9e190ba8528897db07ffffccf645afdb181be911a592c62db3c6be725916b82ecc8b341765138867c4e37351875cdbdb1577d1512e04e96c8abbf87422909abf3cfde576ec5d94a193e28fb57f8bb458945702d466cab5bac6aeae6b2a82ac2e69893598dab9964c232d92d19ea8e9bc268e4a64175a792ca6491307a9223174d777922c706e7b3f52cc9b7f5676a8105d28f49ece36544f0b7e636b510e607a8e284d971562e05abdf03550e6c06329d6cc8db3a96d34955a7037ffab8cd8e650f7099811f0b0759a592b1c48f207296b00c018286c7b939473713b81910d5dc8a2b84d3a466b3b34c54766044a2b113de407ce2b1c6bf81f566a55d170aae980fc58c6e90559dd91e201552303b0ec8f0c2c2c093db7f4b505058de18557f769521fe2de851add8128caaddba117b77ba393a1d357e69857257a76c63f586c7fc95ef74c51430242aa8296f412f29ee5f0ea9615ecf16fd669315206a7995d7a68212d15b475af8e6f555e270ac28a1c0bd9ffaf023597f7a0748b8df1ba43bccef9767c4937693e870be5925f0a1e47ec0bd900476a847a09ab8aeb8a3088c05fca491199a650bb3c6283c915ad78501c681f551ee492a0b698f11d22a9e66774ea3bcf3a0138726f7b2514ff1f035253aff791e8aaaf62f0183debd3213c70ade2b0a2c9ad19fd3ec95c5aac723f649864750840046e69a2dc8575623469139626ae294a7511925817981a2da880da10713da992dd03bd41085c08a0ce2ca591b907db6311cffd10956f07a7a8ebb117b82328c82dd900edbd4a66749c4554061906661b099e8e93eadf67961292f3fe95834e7c4ff2d3d5ca91d45c30009532f8ab6b58f82f2c20ccc3b129980cb7c5ac675e88adcbd42180cb8a95e22a93064543b59c3ee32b2c4e371db835e0694e86ecebc9ee1340f7e91d8a635563ad2e28f0f87e8253c04ef58c2f9aa7cfd0916625df5fb4e6c8b181813290b81b239c3edc300971094398ff58a5c2e890832a173aa174e2906dfda25ba0844cdfc50b852db701814f89d37e05c5cea9830f4b1a2577e619f4dd0c4e53975ab2d9f77dda4b5c93a952d35c7f5445d8ec3137392488ee9e5624fb87aa5466c31d870fa93f7bc495d3b05d7157b8033f29547083ea2a1dc596fd631edc717b4aec2f32b4261f93882e00cbdedb7681e19d5401077690ced0cdceecf568dc159d688471912247a9d716f3be627eb2b7aa9ed292843e516ca51e3fbfc21f80a30046a0316fb74098f46fe8d3f78a0c3ecc5a39b5b50222d94b7ad013be8c475c5f8bf965d7b31418351abd89f593a9ad43375022d51627f8a878d5092972d4ac35c1b3df3b2c454911020df9d0cf3f456f4981a316340007a882e15ac7addeee3892aeb50677aebfe97c14c544c3e47f248c72f0ce300d2b35e55b584b498a694864b796c09f47879496307b998f8410beb91fbf4f296e09454b84111f81f12336f8a8afa431a1685e4f1a1c473daf1bc28d011a890567fd0465dbb3421640e2dfb3af933b330e96ac25660335b97fe2b4e720a0609a756d3fe420e641b7f3e50bc61d96e2ddcf1b947c5a29452f24f75dc7989afc2441aa7a774f01bffb0ec490d6aea5bc77bbf54ebed923efc49ae7fe29a47d2ff825b985db793cf7f05e7cf854872d48f5b498ca622a49337101734872c5da338edd12dc8af628d04eaf60007c55967ca0b59ebda480c98c0e9138260e92fc978212f0296e6d4c24e01183ec68cfb8d7c9036ecb6a1b9adc6d80529b7e85567419fa455ea6fc8d2684b742c211e093e63b71d80206c0ce00cf242581b3037d4cc7e58f8cf587bfec8ae0550a7bbd87fcbffc3a1cf8efcf8c4406ecfb009e51f829eac89fb841490ef30a25205832accbbaa00c7592481420f2363fc745ff35a3e4f70141a27d4077ef5f8c0d4d0adaf2e662d0383937a1bf2b297e78fe96c2e204d85a345ef896a657a59a4e6a6d3fcf020142991266e814f733c793f79b685084706a45c7728d3c6d1d1bd397a3dc5dc7f42eda526b28b8bd4a42755ff53ea729a945db5690cc67376df189794984bc07e913276039a16c4f64f37e70180a71f9e45c43148b1e868e1a030e3e8e3e9368b6c5d8afab9790014ad3c9a1455a3d7bce9201982cac55c8d985c2c9d3d332cfd38cac22efc2c3a8c44f966ec771aaf22d99bbc60a458360567c03c3fd31e6e77546a0f01d25f44e39239ef2cf6f0f7b1bdb07c33758f94d6d4eb6ecbddeac63e2458c387dab9c3cecaef7bec8db6a876992e002778925f92c7737d6621efb891629d0ccd3cf9517767c24505fb626f43b85e6192d0affab870d8a440049119896832fd1476e3007d9f0749f904e5ede66ce3d0260e0aa7bbb791443f4ef3bbf9ee62dc518736f0102f45880a1347d070c1f01468c742a13db7349c77f47c3ae8cf98f377bd32aa74252a6a8be038673136bdfb91feb627c4c585e85cd157eab53df359f28e2b95218899ab8f54df643978747c1878daa1bf5ac4672a474c4eca57a9b7bf9d501179b241703ae935374cf3f1c096ef29e7b0d5e2976543c1840183c85b073f8816c1c73616db82fb14239031bd2655124dc71e6df7e9f77d23b161b309d39f0bd063cc9b129fdc33c714b18481dc5c3f168a6646a49f5588a515823c1e3ebf1dec2285d205c5983aee10378e85422fe0724ff87e19ae149b328a382171fc270671d1afb4cd424b1684981da3a659292b798de898ecff64a3c169894ab8d85625130920a2fc23fec309416cb5deebdb30c27a05d7d682db7fecfdb0a04a186186c688a85928031a6aad69c21d3cec75b02b7f941cbae387d1fd1b2734014e4163e3bcb4b3bac1fec9b7fcf2e796c832e6030114938ef30028fd6231657458af743e11fe03ff8b4db674c3b1945e98c94d44e04d586bed9423c1d35dc76d07b99e931066a3ba7fe6b0a023245e743d5f2b2762590f51d5a11cd3d3098bbc72cefeb7c9746dfde9e16130f9c779d6a8cba67f974148cb043f7cd53849496016f5c85a4b01b57ef05f04e4c43901311ee254dcb201b34bfc2f1ece27ce38ae9d58513ad8c0ede24d12225a9ad684ef2933317fe63b7b18e686354c059531e8f633cbb4a957c70c87ef04d320cac2d374ff62bcbf1350178095bb9b5b17c7948b6bfcd54dac805dc0f15e51d661fae09d178c3a894023c5bc6ba8fafa349e0dcbd6a3682dcb209fc0300a046d82cbf529ab91aea30e5fd5d9586cd267a682843a8e0d7a6f29a14548634b6c9ce2c7b8e5b9d09035bee501d1f9b32bf07dd6f752648b9a0f8ca26c735d8e7c078b809a1c7dbf60fe1dd50cbc8240e33c6f07be504db2178348b400cf9f5eda7d094e72dfb4a08ca892e909c27715d7866882db2ccadcbbf19a8e3bf5f99522f1c66dc868e987b7f37d7af42fd6af9bcaeba4a80b36da83c99441df6912c02e86e796ddf8c9d9af81bb2c382be7d0210370902582b67e6ea3a2fd694a9813150474d6e21d8ade8e77bf6853f571ead07c9bfa638458fa194b07ab80d3a5d60ee4875c0e40af3e70f04e76710e3b80c63286a90405a98019c927a39172f9882e36fcf97ed66b872175301eec29debffe4bcddeae0bceb79f9b50f3bf0b12f1f813181739d0eed5ca1f5c5cebab7140320846a0c7820f96cb460c58e5cd32fd1a581f8afaf583278684ff00af7b5e66b51c85ee6bc49a4d52c24f2d7ea2e1b92fe6ff870db1352ce3320bbcde995f06d9d14f200f2577f56924554c9bd865dc7bdcc2b5e13973130d12db26b78df43a842d1b30cddf0625e48a8ed8c4f675cfa381bf9842f29d32f5a1bfdf8d3316c6a8a95777569f8221fd3460f44551fd341183f73fcc68e2b17527653d22cf4bd1f038b0f81d13ea6c8eb75c46509b8f854d4caf9c12db27d81024bb1b1338877714b192cb6994c06f26686d600bb00fdf989b40796c754c37a37de6519b1c53603f5b3e00631ac1e4f5694c555f32887379a15ec24e90db2afd1d8130eaa651d43e98e9672a32e3bd39e59b0f434237f533f116d5efc8c51ebc2209c9a82a53343551afcbc0bb34bf8b1e44f1d7fb902a6abf5561083c528bcb2ce8d7f0ff4d00bf2bde56f96c43ab5346c8dd45694596e64a767403052cdb5a92323aa0d10043d033a9c684345a1867c8f8fa4e3355e99f72705621c9e958b3db348b8fe0ac613b65486be726e9d329d479479fe590292ebee1ae5097aa7a49d362f47dc783a5d05a1d6901593437408c77c2dbe36b8ce436510e669d5f8dfc993b29e0474bbd1e9b8e2b55dcc73e0a8b000d749bbb8f97e25152b91cf137e39ad94b2dedc672be83311d8f3e9e45c1420ebe54b7868fa16f3e8ddae1a8cb75d05eebbb1d40a3e9f47851030f58ebd9db2ac72224b16ef6928b25f7f4a16931d44862c8e417f5475df079702fae13ed8b0a70391b3b2b96fdfb7447688dc651dcf6aa5eb8f5b38b16944db76126d389c154b74dce1279867867f43f78c31772d6f43b1fdf41c70214c6b8797307de5e179dcf0cd58b8ac844930b3cc27d4d2e2e203f854f69237154d08a4c43ffafe647e3b1899db414fc52c0f38dc6ec15cdc81b10ef4de5dc57b7935f88cbf401e3d3fdd2f057580faacd241e9f5ae435db705be05972803dea1823f89eaa8480abf4011d1c4153f33b2d9bbe5060eda10b56e4a87484deb30c2907dda83d3f092e3b6de052882f0169dd5081e7a4181ca784a22cb5ffc020d8bc93cea132360a52b8571a79aaffcf12ffaaed27e704bbae6fc12e85f1b2d94f0ff8a2324d67b22ff2431dd5148d41018b59174a0019348e1b285f9e9c63027b9bba0f5e7fac19980774f3f30d6119033a895bd55c7d8dfde96104791c0a212195de9736b93b95d76f91f17d167a47ec799c8096279e6cdf8d428b5f7215e3d4d95b87610e0a91bd07e0182d354c2f89890053079f0444ab2efca8d729b1f5283260b018f24c20c8e58310d034c2269905dfd0d384851a2a024f05491e13b2f848379749d8ad2b35ac4eb32af3b21426efb9c4025de28ba946489d6b47826204a3cf5fd1ebad1b91c50de1f79f681f5bde835bd2e5ba6900a1c58428c1fc8be7312ab8dfee0ddabe4983bd00fdfbc955ae5c56714c5313edec76cc3611b64143be3288b3cbd9af9978047f65ebf2d44a46257b2bd153d32af71399f5418b888ba9e54269f6fa6379bef5989e34a4a3a433e7eb76ae55c14c22c3a42c9121405a323d4616b74e8c76d9b5b234837f85fdf342276a326d375414c9e722913cc8040c578ae7fb8be8f8cae684a24a41ed26e374f787438d04a47cf854b12fb46e43c5e73e4124b58528066c1403ca0abb70a286d222b3e94a1c3940eaee62395e45930f6adcb17bdf22b0c1e5c74d013e43cbed20d0c31dc2607d5da8bf001029d5ca1da8df632adabc0fcdbc5ae7662668fe1a6f205ebae76656920cd5d5411ee0a4a2c8b6d25a3dcdbd1ad9c7ca7f836a79be0eab54c135a9a6d5e79272f316033cb41c4ebe9aecdf9ec4acd68ee634ddd3cf411cb356739f51d69226c9f8279104acafdc89c70fde4af094cdb599199288842b54d31d25d6f22a36e14e2926add3bfe78196fcbb97c4c75d677701ee115a9a41f820bd9637aa5e55fc3e0e5f183f51464ea186838fcdf415c2cac25c2a21587a53707965851de7a452486685d33d28717a80991a53830f5adae15df8643ac760d225a8976382afdd878bb679f4c4da10fce2c9bef0b23eb853e373b5e0944b00faf75b161ad72ca471c18a535689385e047813d304cf1a957b6482aaa1b4ac280f8a9b8a1144614e4bb4a12715fd6e8165b340b6f6781c73b2ba854794064d13e98b2bdfef170f52f0f018a678fab5991cf36c7baa2ce8c43b46375acef2b3597879131264c60c38cd263dc7d5d5e7783b27883d2d8419c9de1103cfb881bc35663ebb52bcf38d6fd272bb0480aa2e25ef99bb520bfa0f4d6b49dd588037f484248d5e2cb2f5378a91ca74137e7d6237e84f341b2534ed69752e109d4bd7ce06b76129ecc5a6d88da3850f7e3167451816a80e9668bed141d37094647f0ea8a2e0365eb2a0b6803b66e1c93bd239506d4afc5856806a5336e66ab4a37eb2e5e0da3f2319a67765c311ba9b5c72b296a55d08a97934d4f745bb00e2670e3cb36feaea9c433a6a2dd62136228d46d9fb7fe9baa39aa32fa3e4fcda529a7af3339b79e7ce8d91ab2ce65445b2b1b23411ca294b08047b58738f8dc55f35b9f44c93dccb13fd1fdca24996bc1560ce9dd388f3958b44a501806ee362d2cf4c4ce6e887e2d314c913ae674d5cfc9a9dbe33e26074c2dcc5e5be6b76a3b1fb89a1d297bec06ceebe86ec9fd4e95bd5bbb89efd1d6a92dc2a1a4e444d4349082e129ae6c6222122dbb4abbe4d83b2d9ef3aad37e70aac4872121ef60dea304b8c1b2bf5cf80df983245de6d9e48c94b675548e8c9d5a63ab8e65779f0533e9d269796ace469080a3cced174b211dbacb9a06cad7e0734f19d2e8f527c331faa419b3c7bd4a79165e9a64ca004f695ed7cef3751355489d7db88029dcf4953d8bf5c4c3094ed18c98e93d23e62dd947c1589a2e511052080ee3681dbd904958d16816271a7dc51983d1c564548c645d20f6a2859a9c1bdf681d73cd60e4b3f64af607696862dec9a3c0706cf75bdc2279c673309772673ed6cf11b048043c096e67f716278b689b476f8072c6ccbdeb36006f810ffddb720fe1604aa29841da8fc752962caf85dd3dc771a6593b6ff82b42e2c490fef9da03de7a44c29011d95c359971c088bb0aa80c8a61c3bbbb578a74d8ccca6ece492efb0acdf4d62bdfa58318b5f8630646fab9efd74ea0638b60f532f98a56d78f42df002bec3d5732acd49d1959411cb9f6cc56080e7ff09beee456c624bcc8e4f2824abd51f84bfd40fc0ad58a2110afb9da317915227ad7a32337e6adfa60f49d56305af2a03dda5ebaa003f010ca9a2f1201ae42bca99989d7a3c1c1e431dd304146fe29c95a0013a35c624e07b88a033c24034a94c2e6ba8ec2cce1acd26d719af5a99c994fb63df6d7207e48603aa982030bbf4bdf65111355d0b7ca00e9d6185cfb86e16dd3dd6023faa63b56b9e172920c917f2f555d8b923de4406e465875eff193c0b1a3d854a06f0f831ed600050bbf067234c2581e7b58aa541ff251265476bee8297347d48c20ee1b6cd1ed95d0356919a92c9f375b5c51b6eab603d6401b2bbef587210ff7bb2a8f9c97b1991e30ebb771421f8f628b686d15ad4c24b56647caca662692284909172ea225371e685ef87c6b940df7e77938eb195838a8ddd29fdee3e4527a31df1d638e09ca15ccbc33732dc6b02ab6204d4d5d986b81482cb05d89ac516408fb1c280e601ffbda4345653ab763326bcec6b2efbbacd1802846b8dea416a293f4dd804b502762b7b492685a12ea3d30f962b51b0f16a0b5081","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
