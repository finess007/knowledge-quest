<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"080ee715688277b40c8cbb4550fd720fdd4ec697e0b7a997089a6ab284f028ff5df6fdfead40d5a0ba6d2a2571e6ce5d11d98dd1eccdbac9df14dadf5c56c2e4bcd5f9a02c5289b53b8d8a5d70f85e4bab6d8780fe7dbdf0a6449cdd887b22091e12a6568509912d19bc297c5b5c5f48e2de9fc17817f1068afb1ac7b2b34ff4e6431b92dc82fce277f3985781139b93a6464d04d1bb6877feae555513670db721e5c5bf1275ba18b17eb96d1ec83b82957fccbb0c822505ed0a4a2ef91b4d9e0609d89148a99d465e1a881a1fd466d95e82a5e1a639c181f501d2fbcdb4707b7a1791068741754e6144b0161316c6f183671a466f3be653c257b0dd26f39c24c36806cf9a5ddf25cfd3ef4fad39f8a956b9d2f0863577010e5ba3d9ae2e469bf0dedb983aef0aa720c9b4c8f6073f26f160d4e8ca8de0271d491a719d6fa5b5127455349bf541e0d5f8b32f56a138c1649a8152b43d6bc30c3d100accef9c146a6e1fb9b8ac7f2ae0cc96af4d69784c2e10c71bad0f32aa67b11d30e3e14ed0119c401cbc0d0757dbdc755611c7e78c29286f7f2cad2dc090eb0355e47dc1a2b58741d99752e6bcd91205adb09227ba90d0f7aa4cab183c8e53b1c60cc393567b8077630ad5bab9e1698c1f71caafe745d44499cb062bf78b3e23316a61584675e08aa57941d34b7970b7d07326dbb980e1cf4dd30f103d7bf4632f8fafe8005c8a20b62ee6ddf97cfa12a728f893cc6e492e1c07184f365c949032212a5dbecbd3fee7fbfc0d22cda5ff3e9878f4195b1268c3f8aafb68d385b6c332995d634b5540380f6ecf4448fa0980313a8d498527bb6598d15cb2c54e26385b5b044033cf5746b662b796f2f4bdd73ccf2ff253c6f548640cff7f332251a1edf4cefc80c719b4f001764ebf297c61b4a152eb87ace08155dc9d03b6f33c3fd3caf55f69a082b799a67179741206ec501bdc71c397679e52a11f8522cb33b71e0c5b49d3bc03fd1c857aae191afcdf9790a637b14fcf0ff410394a0fba35fdbe51f5cef8c2afb0bfe839bd67046fb2fbbb00bf8f25863f5bfbb35b3de6e2b032787241f2775edb394de22d397a82a18744f0a4779b7dbdfc01b9338b538523c49924ec0c6a3c8c9551564e47f3b373f108c5020236d810f844fe23418e6fee37ed6992344a9757e798b0bce8e97c1f0ff4589d61523a7e7983620015b51d5c997ee5119a3505344d2f4e0d4a514542cd3c14a22c570822f91d26b7c5bd1a47474f70138d9f3b1b05a60fee8c1383e7269a68948ea0ef60b513d09054aa1ff00e356f371194c6dd62c9e388360956271c1d616d270e7f6607564acae140b911d03ad3de1cc79dcceb9f4d6ed0eb1a94f410581e34f204ed5e6c2543af722c9b43c0e89340d9d9e28c9c9d5eaf6e11bd0d0b2aef539730263970af3022594d974bcdea3738fce44acae9bec16bbe416ccd7b2b152e77842949d064c56338cb47a6b5702be16d4544a458acd618af136afa10211142c94f04f89d049f960b529229118b52e39b55db9f66585d20bf48126d876e58ad15785aee8feda99a7ea8c6a7a3ecbaae0bc3966f63f90ff044c0c54fa5b4d62f172fbdf1f383a2a5ffdecf1448752286cb332db1e0998b4c0d0894778bdc3b2c951cf83c1e9a7260fb8648061b98ffebb61be85a1ca48ad2b0909c3ed05530281ae1958445e31902402b8747d306e541beade97dd350bd43371be57dd820a98deb4febc11bbdf21d2db3f5de0b5fe341db4812fd20483c682cb3b77dabdd086b59003b022c213a44e1e81cece0af3a1d2023f8ad4de32fb285e43882f3bb1368e58de669279437a718e383b69dc385112d69a280e128891e5d37536373ac710c5ef25e31295d18f23c15799bb179bd0ad36521f03a032d57078c10739d5334cf4814d8f3b1d801fcabd6c15f6dcbbe4c0e173f5e45218c203d7251345f966ebd732b576412ca4fde51d42a0e9586d58842a6bab4a6d02f36b5dbda8c95ed7ae00f109407f0279eee55ece0050fcda05f67d5a149a9f9d6ac9b269edf6bb572e4a810eb63196744e963ba95cd22cde4ee25ba9c54541ee583470741247c339829871266cc83472f025b78a87b1a5f85744e6840a8ff362f1863f2a0c293746591fdaca9a7727399ffa9596152abb64ffaca54af5b912d985ce7400b5247d9bf0cb78d4ae72791bab1c5831270d84327ce62e8c86d6d8541c9c0a933b1c33754405c4936ccf31bd753269dc66514357c94b43b9f39740ed757473a8360d435604cf924a4068cf87238f7b259158464b9257b7f9909ea2951d7ad66afb2755369b952d9a5413dddcfbc8115ee714423df6adf4a01c6aabaf312b27a3dd38c6a57fb5285a624b7d25e22c04b147dcf680c45a2fed23166c0038ccadb2680d77aa36e743183087372f23e5ef6b284dcd5547424d7401205d61bb75fc4f3f2fc3d201ce122079e3ce3af74809215c336687ec46979f1545b714719ca0221245f5f03459f7ed218fcd8105c681ab86ef2bddf778ff0f98bf1694d90de4db439920162d8ba94693631ff950e09cb446c0c8dc13a1b761393c1452443332420a704442d1a045bb2865f44547be57e892c5094fcfa2cb166eb1ad6984179ad39cce58bc723cd7824e650bbe0e73682b1c7d49f2ad5509e14c4f5a5396e367d31d6e956712ff7f53cd6aaa727bb8938f7fe3f3865ecf873f9b9b44a53c58254b2ecb1166ce0dae22d40a6f5d0b51b71b734809ee35ed406ee07628850093170d5cbbcd44712d2323043ecd193a6278d8bc0ae0c9a27593d996eb79614806d4610122f27c32f654de91f8cd0cd41cc50245966eb92d8a2c91e2bcbc5112b15764da0fd25d5fd93dd9d16d33fe8e18c26558c2ed1f60b094f6dc27c143c52d85a3b35e55406b239e5de20012605307e180f906ebba906d0cce18057d8c383a4333efb5f19c0827d99cc0393053c664cc3db885e93cb406686fa6215c472a837430a1f0b749b12f54484aee61894fda7f5804f15ac03374d57eb85e5bc71a179b211dd9dee18f83046accdfd860dcf92abfbc3067af6ad0218378038ca96d1863d36e033448504995c2b78987b92fea0340583894bd401640b7adf893fd9f4eb76ce4687b9a5f4777e882d49d3bf0eed00bfa642f58d7f51a003a1786402f7fbff4deb3488c18906f81ad5c5b6f878d68410f4ddc8eb1eef69f2c9e445812ef9d0ae4e73deb0402c9629ca72f4aaadb4c195cfd4e65e8c09d76bbbdd8f67ea4fefdabc1f4daecfc623ea98c5c228d30a144b8885032d367d476f74f9ada7259987d34bde58c9895f24468f217045161558a1ff9e22dc2d4ceff14fc5502463f4a2cfbfb84f18438159bc52ca20f3a55abe4deb1aacba2a65edea93a3655c90787570d59eb024589a7402de98f75b9dc4a676c777ea28642172600e83ee8ab3af6dee49d5c6f4f956ecbf06f1feb6058cf77986a26ad7128d013a940d6af0bb17a402bc3b14cbe27213776ceb4192273548d999be2372ccaa3cdea8745d3e87a7a5be333ddb9250804356d7717f03e948bca22fa8762e56d28032b7ce58beb3a446df85eaedce6d6100b305f1bb6e93c09b317c0010e87e50f3ab6fb04874caeace85d7f58a6a79d8fd9f17d8b4b6ff591a38e3d714c2c1f4d986dbfd4335efea657f63696204f1fff02c1b19bad11a23318b40b3cdd11e1f7ec54e9313f5ac26dc52d167537c6a796e945b20d1aa7ed34f76dbee6b8918d12031df3ab11ee0d3bbf016ba53e2213651ba93ba120e9ae3efc1cdb7262aa0d292969709fe9c810bb64203127864dfa8e1d0b8e9c5ed9dc4d005a379d2699334c6a5cd153ba245571b47093afb1deddacedfaf985a0742c66056cb097e59fb9e0d389c820dbb7ee2e4c5d11bf1322773fb7b02ee4ddb505b79f0f356b2c917f6fdef93165b4d5de1da95e62061abb3a2f7d53de9035e1d8a5f7e985b8fd5aba989ed5fc5a39458b55132d3ebbc0b6f34cce237a9c2ee0b015e62cccce60d05bba53a15f6025022c56e6896616e11871de0f2a1fe86670c3a3e80d4cdaf17f79e195eff3159b35cd4f0709c2e013a1df1bc1c848633c74d35062b93827d9e2ad5c3253864a623b575477f53d07d0e10424f7bd8ba815fdd1074e693edadcdb3b95c24e1b9f77024150bd97fc721105f6edd79e7eb45ffee2283dbb1fe2913f080cddcfc24ea5142a10ff03cdccb401428a23d1a191422996dd794e1390e34368ba854772ac1504b58e23e1cf409c87cccf4722f4f58c8dc560faa13c49ee00763bc32e40585e3cd78db999e61bdd40e1a1a9e21a5db8f631a6340ab8f482729d68cc157c3b35ee7a0d113d27e8c2ce5129463e63d2c23718249eeb7b1f0564f3fdf952cf37db2453f0e0c03e144aa58f2edcd2bf4160b91bdd521b0c4ed156c759084da3dadc39c428d7e8d5b08b483f9fca90d4fcf68ec1178da9d7488bb02214d603c10dc272c7be14d0ddc18a98cba7591f70ae0487a3e788445dc3d1368c5b6c64bb4918c565298558ced33c29ac4fbf96ae1744d9adc1a3f2c034a66a6ea1f898a865076c5b3f7a3f829dc8087312051fe70163609e9e5724a1a98cfe1a2cfd567b0144860cde7209a544560f2f6b3b1357917014804f8743d8d5c22af9bffd640a8eb7bdeb6bb9b14c210502125c5f69b675c645cbbcdc2a6920ea97b891608834ee9d9c30d7056c9149248ab0d1cfaa817b21f21be20f4272692fdcd18dfa370e9d8732f7ec2230ac9e4dfabf39f8b6367b2008c9c3399c0faa52009747320c92168d5766c57a527e6fe643ec367db74cf39acce3df6cc3699bb9189d35565e65be327b85402038213948654eaac2230fc58d197ff6e972a3b5f60bb1873450364be2ac8ef0b5c8366f370642155d1e330d8740bd9c894fc8403073c64e2a74215e5c608d8d10d46d099819eddff445ac5e5de021532e9d2381640b46991674330f23e9a34de47c9d10789e6b835e4bc5bdee36805c3b2033bb51719927e97881aa9c0eb14cb7e4d8bc135c456984c282730f7b6d793821c37eee6243d72563f96ee7a822d4050c708b35cdee30a5b7bb4af61c6e069e1f8e88a3cc6b817e5f455da8cb5d0daef28973a94eab57cff7b8e1fc443edf28527a22fa5a2a4577f5219e9ff0b6d24131d0692748ab460eb10ad298feac0d0f04aa47d63fcffda309fa632c7cf032c5c7e35aed23162520ea7f10b12da625eca0fda75ead4eaf5b8c32ddd28a9ef088714d1b6f5b1447d3c1f3d3a442fb553d66a8d4e464ad10451051a2466b5351f6ad01d930c4337da970c86380140e72e9021646d69a13133723a2bc04a132f3e8d466979db897ad7d8b5208a9a867d7dc6775f0d38015385c91e7bc16e1c1e742d64fb888d05ca5b6fb104155d8caa1c762785d80504be683a56114d1d7bf1ed3a63472dc0d431ee3e0b6e3ca3dada07a6cede8710febe9caf82489c1e3f5516e6a9382ded207c2d06b0b90c043e0ec5641205fb313aa0be9f560ebcee77089b3fdf8e6b658a6c4eb94058633a46b925e3653e1e488778de2685acf919e3c53061ab45d747ab4dc15ed1c3e82d84d6b620520c98d84c943a8c0bbcf77409fded64e2c21575d2129408655af170272693cf8f6a2dcf7961c1ba4a744598efa30c140499a35bc6f6477c35f2691f15939594734bf385c1e9ff2fdf64279f30f6d19cdcfabab6d307a4133acc712d87405becc3cabe524ff865268e7720a58248ad1f06a0c755b5876da0b5a16dc44b2203d92c3769c1d9a2d7ba2252459f81a6ed1e4e90c83bec5e0d236e3eb7f1287370643c4c052d0c8545aa474072292908085546ebe70f1c8482d7cd98d624df279ff368ed5127e140522548127038162b558db00318b73f8b5c8ef55b4e4aabf4ef9bf41fbfd9c084bb59fc92d7efaf923311d2eb94624a98f18cf3ee3481a4f50714631142d45c1b0ac4b01524b777d8ec3c35bbcdcecbb1d78d96e331e3fd7e41675496c98c46f7f360e4e37deca3848646c83deef7e6416375b5d1bb8b6194a6742b5a877af6d2377e905210600cfae18aacac1d2e99311d943649677d43439159f2b16a52c152040810d2cb9944132b207add8924d28a7bffa6af31dcbe1ba208515d064100a11c36e152e92e9e8987a82f4c091f3b878427b43d74728115d2710e9966275a3fbc60267cf1adcb212f8a3cf62b96835164b70abea93feac86abf1667b6019f6abebb6e0a732a4ff82240e5d81a8ae9f80ba92330fd19bf63255bf5d181f84e628e4960cc189ba4b061d973367685f463b2d566493d941bb1dec3b9a0dfb4d46dd797af85e94e7a0cd0d02dd40214534e99061eaf2073decf828a271759bf18325af8fe101d94d9c9389214d7dda8254e0c267ad97fc669fceee654e4237291560d3fcfb160e090d57c031204bf4289ceac0c37d034ad49586f9c1800766fe26cd6ca6db12d672eeb21e979d7e87dd581281b803306f88f89c7b9024b091b94ccb58d56d3abc626d22bd6105cda36caa687690ce410dc1bf670ed3772f38916c92c6a3b944cee9adf57217015707e3b5c33a071eb9ffe0889074814fb5b9e6f4c15837c189c34aa6627431e5241862fafdfdaaf279bf1060034b7c38504fedea0fbf13da6bfb31f1f851222484875d5e8ec9b6157aea7d381f3b4cd560fe1682ef4c4b5b9de701ba558b6144bcfefe82eb03ecbfa59e704056c047dc1928d598d79fad2b6e4b04f76a5310ff41b04da45028c03a2aac86f6797dc6db90ec868fd57a0a731161730ea30b7d27d8aee07937aaa002b3eed369e69d8dace235e700d9ff9acc3bc2d3f7302e7b1507baa14be00ec0fda5d45390658edcc7eec189160b671cade681420a671b802d782ed9d48446b603de028e87071cde32cd86a21604cb94e22f75573e599244aadf2e2a638bd2504fbc642edfa23f3350695612dd81bf425baddaa4228d8c606c59b53dc4b068a995067146574e7c3bfe0e3b814410331cf4512382114c8c8ca4114da822f5409f7a0ea17f805a1ff3f1648391474a469ec4e144b533e483f63980fb3b2e689c504d896622c7ba81dd208e17deaa074fec981ffab7da5f050a8d4710154fc9648027cd0e0ba6d42c08a51349a24019dc22c4ce5537b40c486dc79fec94564aa5256ca843f55334e148f42db6aa247da30507b52ecfe4c12be37357b8099c3188b8327ec4e0129814e6448b9ab7f9bc775f0b54c869f177131cc1b4f93dca98a5ee82abbc882024455c364ceb8f223805df0b0423ab7650805f7979805314d2342037129f1b6f1bdd00905c6a4bbd30be247a91cdbbaf89f55ba2dcf168b894d3c88dd053244c129545a647d9863ef19b3866c54a3261ebb502d1886e0c38dd1adfccaddf5bf6a8c04ddcc0d64ddd4a920e33f1dce40472d9e2a26d9dd47f602b0853ab968e43e8734856431f44620b1226db7bee1759f44dc6b72d0cceeb75c607cdfd4efac50b4bc6c8b034cf206c4bdb8a94cc8aecf274080a46254aa75f61af2287b5373c4a389dd692b9f91ea90d69857a015826850ba3f0447cb101b935794e8df49b62d3dc59e8bb518eb777b1d0470414151406e98894395923cf59f594f0ea6e44d423fbe3605896cde5886123e83cd21375ffc4c5c56303d06229712cf304e693599ad924eee5293d9a4f99d18c3fd1a4c7a74f46982c007f405fc9205909bf175e355b82467e9c3ad8e0e50c1a45b38dea8cbf2709e3c1acae9c057230f5a650a4c4b2e46f0d8af7e5ab0e8f13640f36862219392fa85b458633ecb1897be9be16f8c83f3146db6bafd225a5a14055cae68a68e121286e41333ab1d50ce1c318c3e0d211e7f1218aab8ac55f8a34091cd23f0f9471ed869a9d02e0b3ca82255586cee7a9ba09f21b08f7195a488c4323d11ade288a94df46fed984341f28bdf490648df6c121991b139dbd6edbcf5e6cbb596e2ca0c9484a3d6716a24873e6aee410144dcf1f4eb0a43292ede25253f21a33a3bd1611f32310ec0c16e91f5d61b77dd2248c4352c0da6d4405df793b22a1897d9414035a2afb1d2b3567c6b8a451a586d402e13067ce488720cbdbfcc0d738aa0662032f463bcf119a53dd36a3a150cd74d3c79c67ff5bb9d7869d814a28a3cd234dc282a0f0fbe9e021b12a486a249662d5faa788bbac033e392c9e5796cd000bdb33defe19bc54bb42cfce2cd0ef7e826befd734ca11bd8d850b561a6e72b7812d52ef265921d2c56f502f2ca8eb2c9a099821082b160b4fe9ddff057df0d98346590946e97d9c00c10f8a7a88c4f655daa1af7e051a10022f30985686b307d37bcbdbcd971012ebe0d07eac60b57dddd36dd9692744842d868a7370d8e35b4539c4663688b1e5fe199c08a0d9135606c613ad4aa01224cdcd3f0fce138c49a5b5440af196e720225ff75d75ac8db97d5800c021ebb610a4da5f43880818b2858bfe8cb3a0d8e54416399ce69a3e623eccce50becbd64f57e39ea70322230c0d9305c671321b080b10bfdb6949af99e871f687cc0250cbf8ca5f3d39a85ff73bbf2c87b8672501bb01b2ab56e98beb4d790f4d626d220ed901217e1cec3fff5e23ab25c29655ff668af63b7f77004d8696da0d569878e147132df695a547bcc4c4f7e4418db2314be76cbb5c2859a97927824a16f2bbecb9a18a1729a9f893c3631b37f51ba57c72e2e3cfddb4cbf5b873d7316dcfde12e02c2cd82d2d8c44a73d0adc6677e0ab0da592be450690d6dceaa6f5b102aed726ecd28dd427dd9cca564ace8d4f45961bb64536dbb52fd039e397c28bfa9ed717dc746f2ece8c4853274b130ebe6cfa34526258934099956cb27bfbac39cf3bce4789de9a5f028cfd0ed3a8ef0b46800c91a5c09ba3202a44938d86cfe9bba0f74533f4536e7805b06fd989135fec2df0f47473942bcb35d99ba50ed123a9e653afb59f74da968d50a641307f81a0cd4aa6e92ff23e317d3115ca425ae95f2e86b7a03c8e74d151b65084f0ed99e135034419b07d04b3d59d28376edab31256b1b4e0283958cf1b8272929cbead0b87cd325cfe9701ba23c577a95ca51402f85af613b195354073119b3c2347b2d69c43fa4a76e4bcb6cf97a555d676a9e19e36cfa3d09733d3d58a44fcb60f977e2b53c65bd1aa99fe83853dceb875645282d27bc4d1d0def152a69f8986fb21b175db019ec88ae64ef5b483d191955903056f837faf6f94791a3fe6b00c7db730ae7d24f929ef60899c2bb85b48fc4237dca13eec515c7287200506ff84e67c451f04ff637b4ea8412c11073213119646285c1f2ecf775e4c23cfdb1779ec6a701aa49c07fd6a877af0ac22f3fdcd3354818cb45d245956bba1bf3a8b0a9a8d677f585f6bcf34bce804bae86c064210ebe06b362515c64ce70de29bed85d3add43f5dea7722a67670934a4b5179c4f021ed85fb2d9672f2f664061e3553bcac6686bf15d6981a0eca2ad7f5b723360c95fc18e1cc24ee113469299a8034c940b6c4c53be5ac4bf71edaeae62d9a257922f2647be2f3ee661d63d8a0317ab1a52e81b8ac87228cee4b3bc87f2b5d5735d592974bcf69546bb297291a89fe3a7c8898c6581b942697a5beaf2eaedeb3d810502b5647e113b492c1f3085eeba0b17e9870a8a6f6786aaa6ba7eead9d4cdb4836378a57272846b3982fbbdcae117d2b6944ad783d60cf96e6765c551e3dad1c5d79f2c29c049a06ef8118dc4c89b8db4757d83e3a7be10e737df1925e783adf3a0528f6371188ed00cef4acf323f1e89a9fd686b52e2beec6f0d18e83b9f9b447410eebaf3631aeac8de3fa2ee5bd371b11c68f6e6ed1cd811ca410e0c832b57dfbf0941cfd62f22a1abe708a3518ba89018ab114a3d884ca304f4f559e99afcb42b9744d7e0c0a43de107792f5bb453387008f7d610eab84e3028ee07e1c62fc828293c5558557a46bddd878c0f4fd0cd969e17ac5786ca88f84567695b854ef4a8817934177205460ffced08d626e89a9e1d5150635364c2dfcd36290e6b4e85dfa30e7cfaad3a8b6ff2d82c638cd0da3439bbc229926411a63df49d8213513f8078c35d4a1b417ca8a57e74beb988cd6cb46af0622f4ace280c0b698e3ba7d7b91bb0e9f883ac29f6d967d89b26d8976589e65b4f29bdb88a870c9d140a2c22bd4b2c7768a5f8800830a3d5341c69ac294d60daaad89234f597c4671fb92b979bba4af4c8907c46352170532220e956e0bb443d94d57fc5465fd4a84e7e750e39609dce7f398ab9188dca6c1947215de46cd617c8ceb9f6024187ea34b89285ae78bab197c84283b14fe6ac4740c0344530c3fe84d5a09dc71be88298b09bc741f95b6006758b0962b8d09716df9eadf2c1a4334f1c8ad178b245c622c3d1522a1d5c219c0bbb459e86cd5324350e04a0b589ddcf4fd384b297b938e8eb7c46c2dff68b497b346dbf617fedd2eb1ee914f41c90d81da92328434b98090ae10bad0f0fa3af5ff73b7f2aa32e214d3ee43f1fcf773205513e9b2e78e0d5a5e7338dc36465e70c520f8b26856b84f8c4228557665bd1eb98b26f2e05e388aef8e06374fbe4a73b14eb1a46198e0d571f7f9e8a7673c72934f64f612482de52e69a4b6b27da24f5b3acc77e01a798b547f520acc4cf326bbd8a7fcb3f27d0b8636e15a052796efc0c4dd527551ae4f9a79da505181cbe29bf4608b9413e812f79f06cfb0a5154cab42a8c649293d97e307fc2a3a5a9985ba98a4ffa2667af22c8e62a19f91c5f12696f935b44c3f09dc971257f44831b71dfa092515eb266761e94abaecbf64fdd88c13374c09e5754b0ebd610f95e7f90b0b90bd68392755eba7a3c344facffcedaa0c1e2820cb5ed7bf6891e26899ab981061df1a92e2556da6ee56248733208d15efb4dab2c9f6a703758e32c7674b4f2472e3a6a4ebab663339b81b6b1d097aa0445bb0b74ccb6b70cc18b44767e8158232ac2b4a0f2a471e77641174230a05b4ab0e7d240691f33a0ee0e86a50a9ab28dce159b5db78da28828e2a8f6c555e236f4290b535c7a10b6be7067b2180d6e71a1bad6e6196b3f5d133b84659ab4ad489412d24e34ddbfb2fee2562660334e2b8d71c2cc8eb533a67a94e2d3fa58e25fcff6e488e6b254575275e8b20e1bb142978ebd6e58882bb62d9d8128c677f45d27d4029a9a42bb0120629b91b568d10bffd413b894881d6a1c0d727801b0a3a6c3792808fab85394b9df4362cbdbcfd99882dfbb9c41555041e4ade787cb5fb6ae128f62bfe929300400b4bc518e341f3d2f3ae01cef35448bd03a7297ac9d384b0949303a6144bfe8b9612b0bd3ca57372d2d5554857e34996bd16bc1f88214b1e71591d98009c9547eab958448117e2f9968838c1b7cd9af6d4cd1d9b492f370f4f58f8fb7a6f506dc5252d126334066eb6c77908b7f622c8b34dc9f910d3668f88c97385f50153e8f7109bba8bef30503fff2bcf7acf43839c0452910440ee8c4e7ec48c578e576855f4d5b099815a7e2a2e0f922bdd6548a0ee03b4273185d18bfe3bf39116ab2ef3b3675025e765fda3ee194e32c326a2e2232b459681966ecebdcd6b2666daab80fe2c1f9074f6a85e6f5301c66ee168220f5ba880bfcc39864e53eacdfb5344b5f971dfc050d22ece75250d3505350e34daea1a64929c1d9c1bf6b7d37e0f7200c0b9e98a6c082e58cd6d58674dddfd39fe681ffc230bb7b6c99d821f36fe24c880b660fd9cb63a1b81cf7501b11b6af6ba5d4b7e424700096fc4632f4f8e1fb0004670bdd42924284692bf9b663317df0d2847d2cd10c4a5c6d678689b6410128b6c097d44373655b45a0312cce5579f08f0a14b4a7b35f401fdaa51de6a53cf1362501c1661d9f6fad30650b99b98b08b0097565f7b39b977f6dc4a15a04f0245c7ec71bcb27c2af6108db908a66953782286140600cdd3a5903abd054520ff8a8c85b4a06ce2246c0557556a4e4dcbd5c9e37c74e875ba6772ec9e7abd581c7cada4329ae0c951e63f687836c42540570043fbcca3982b5cfc8484d1e4996f664787112f4f73691ea824e91bc2f4128832a4e3eb29e1988ca3f7032b583d2eee62bbe57a84a964afbcf47c602ed13bcc904770e196ff71e860aa94c1dc04c057a8b1091b393f79279d7294ca1d969e5a35fad09ca4ee2a796072a326ae37410c186c755f8d6dc9373cae17fd527019f732b9921c102d5596dd1ca031c4d2767d07afaee09ab7dc693616f27638b4a6ba1d13cd4a3971f14ad64dd51733f79dc0f7b38c2e576f5e77136f37822166b410bc57add9f32c0483f587c9dfa35129967ffe543c9c4967227589f53342caf936dcabb572f9276f665a9b4f8112ea832191247d59f7928e80088445a05740ae40394617bff7e17d9fd5a9e8311e8f1cde014d8679bc83d3c5ae6d267d52cbd251acf71697b15ab0c00dc02e4971fbbed614313bcdde44cfe71f95d9b8c5f42143e4f306e32eb585a50288c2ec511ee7408bfeff534cc0e35fe5f29f9f2de8d0000c01a957c9655f2e24898d4f39ec38629f0d8ac894809a0315e431b856ae5baa8e567c24370a44360713797251623d8019c55191b47f6f2cac57290e9fbcd6a2d572bb26254cb5c8475fd8a63048fd28214ccf640fdc77eed825dfb173d5cac832f22c3a7ddd5c81434ebd6745615f5dfbc1e09d5549984cc90581e7c5c5c69fbfe0d576c06cbe7f677eb6b8692ef34210b7c05567cf374f24e93de8e4a3889685750d3c5817e947c6bd92fa5a46cd34eb7244fa660b6badf4fdf687c14adbff73054876d11709c258501c4990b4b456d26fe4bf2ef1fc9c45314cccfdb9df0f4a8282c6b177300a685138424b80a94ca75e3310106f1797b44f25b857e946e0c0f2276f87f85af5fb0b84ad813a7bea8fd39ca5c6d08ad21eb4a6b4e9913c09069a759af546e94a123d4f4b4c32a4c6bc06a3de811a67d17ac7648ea893fa68bfd081d68375a3b295c0c31d69944c418c5e413909dfc9f44655300164c8448aa3e8bbff7edfbf5ea8d1be9bc39b3f883b5e0be07a015bd01763255e9795df5bc2b999ad93b328cb623ecb61e9302b9ad0aec032bbb7e906149280f00a1c5e6060d47daff2eb02b72fa8061b8fa467204e0f12c180fdd8f62036b84c7109ec411b75a8d504e8ea7ed73ec27d393ae7616dadc51ba286e4d5f68c778273ae666c5f58ee2856cde4527a667c0bfd387db3d693cc4f2503698a20424bc423991014dc3366de54dd0bcddbc08c2556d1d01e6574170b8d6e5fc538ac39572329ea1d1a36fda3fce3ffd202e0ce413098c48390ac28538f58dd2bcdebe7a8812d96a10f475da460107967ed23c82546531961f1fa37942b3fb662983b073a71428514b7ddf75bcdf5b6523e0c203ff0da0616a621e589029161cd504422b9a9f0208ce4afbe1c7325c20a2baf1f9358962f3ca902c00307967d23ce997cf51512ec97b7d8745e87b1700c5265768b9702e8c22d5ce7034f7434e362141ff29870c650732f66028f2a53f85b88aa657fd587bf401a191874e7ce3b36bcadb91f92dd53240a8e880cdf856187cb5364d5ee077bffb8782f7254e33ba4d898bfd338e40eb5a3530bd3fafe7c1b1c6b31b1ae494b30524b18181ae819e42f1e36edfca9cfbc48903731ebc1cd19dd44a740f01de0e63efa8f09c451a9ccf159a7495dea31dbf654e92cfa8f40b961867c9899e22ce41cbdd8e4854059a2c52068c3569ba3ed249ae4fce133b2363edd09cc4ee0abc0cccf557e68e5004bc993ca4771dcb6273b7b2536aa9445b24dfdce775a2334e2ed403ce440aad31c821bae3f49ad0638d20f336f55df4bd2d97d1d6b265e0f3598fa6786c8d4ec9f4d8bf451ac7bab1023dfd7e5fa82362545cd46c645086e3d902d0ecd4722e341cca1a7b3763f5c2287d655944a759ab6536630f50b6dc7ad3176d66c9bd62fd99f7c97c8a6e34a8b2ade198ea4b8fb8886d186ba99824752dfcc1eb9b8f6b23c3815846d93f9fa62a2d29b7b009c742606da43c27e9467635729691d80efc4610393ea1c6764000512fee3b3d890d8e64a51afa474006ed872610ef39c18bd66ffcfdccb5ea8e7b6381675c2ea7590a0aa23ebce1130ef87f4ed07f52d2fa3f351ae4c1e5fb1e57952660a860897e675b73ee78ac47d5e6b87670ddc5f1acdf9cc74b19f09a30f29ffdf682a1630c1e47d9b63b5231b1eb3f1882d6409323e3d52710f54baf5c868fddf7553757706c50878204d2b8e086cc6a8046db49fc407db4e1dadbfde53de354bab996905af76292a34fceedd2946856c101f1da804a9beed1682bfaca423e63c696489d68e1a133bdb284f9805fe5eeda0474490459ff0793be48ac2c1ea6c94667e2f7eeec993fd5e3e8731e39070a2414bce055677ab10ba6a4179894e28b51ca1d6beafb4f9eb5676653aae8490a1c19cb011aa3479f0b74dafa21476155c991b3bd8623de29119513c45a540e59b08c69ad7d8cf53ec62b7b0b371a179e6ded7c0c89402f264eef472bc0ee4ceef7911972c2d5f4699a8094823742c9d097eb8f05d3c5983943b792abbddfe6d441fea4d85dc1f50e3536a4147cce00c8bac68146179405668fde128d5ce24f293823ffad1bfc5d9eace0e92d6bcd18720501f3d58bfb4f6176892cc73dfefbc695b4e8ac52646a253193cfeb1939ba3282a0014af4ae7ef405be57575cad02ed347c30619c96e61ba864938af057a3981c1e89194f9dedba9bad5fdd635b59c1215bd8012966f21284ab5c41aa998aec11f389665958f100350e3f0ab04943a9afebba778dc68917fb0e6d61674706a5bae8eab029bf574cff5571b96304e7bca4682fc1f4821da0affea5eb73db4483ffdc778e44aa718d97fb635b55bebaa5f00a222f4d3b871c7064627e841377ff36178f63c487326936aaaea6dee78951a49a6bca432039307d7feae080d0d9cd02ea4ec457ea1773349c3a2d17188a416b65425ae9db9fe5efc47a0177f03a71999406cc637e0b7a00b7c1dec39448298489889f1fa04a28c6dff7fc373815ad794211acd3688673408cc9d2d0921eceac5cfa0eb66f7e1e6d003c6c50341fb3b9fadc37d05970ee00b14207d6d9c2a22f0a5678eed897832eea2e9855d6c1bd08ce7680116b9bbdf90fc6116304fc1a958a4d21b45c840cd0c216e93cfaae201d965ccfed675f4b4519cf94b9dad3de73954f5387e56c1643f38642587d5a8105c3497afe7a260713fc0bc7a123b545fbdce38fc25ae48198e461ca8525dcf3e34cdfbd73311f7d7139ee6a9ac40b22d09d9046df7d96f502aeaa14a776a514f26156920c367bf2ac2464af69f5cd5bb0330d5222d7fd4405e13fc84be34508b05e1b82c2c083e7e5f719fffc9c43f145d166730fd0f5facf65fca4ff00d9a4236afa70a4e1bb2b62dd11273c22e8ad89dc32e0277ea18ed3ce425e39911755eddff003cdd93e227a25f097c784ad1421a85305759e42788eaf80bf9cea21b3d0c83fde215b6f18fd56dfd5bca9fb7e2f7596b6b7859b1e500919d87dd0a6cedd40e9a9e25453a3d7e8a55a4233b5b5ac1a47b448bf98ab414e7cd227aa2d4f06b44e1d127981f8fb84d10c1e9da120cab1bb29569cd3f176fae154594bff0f2a4f24808e1ac09ad033adc569c42949354ca37bd672831b7654789d0161ce8c91bc24d95ee895772dcfc2b1e7615e631f3ac13339a9822a835f446cbc5869f4cf8637e1a3978ac7719e2a86fdf86babb1e333c0cc0ce23d60ade7f7dbb34be79af4ff659d0e732b15c21cfe230d02bdc2615de5cef1efd09b8ce8390a6a905b6ce8c72b0eb32f2a69d3b016e9bf088971fff26f0ebdb32e86022ef9aefab420cb54a186cc2553ab024628692e19af61824c15646bf5c4fb6c58a6e30703bdb42464c3e3b1fd55fe5a651020ea7aab35fd8f76f056611e84bf97709c47df6437c8cb7624e30b51428e11b8294a59b9fed355696e68a438919c4b240ad4c67fd2d73b871fb42e7c424355f2d823db1906473ccfd47c9ff57ca8566ff0064ac34235766dc459d406bed1b5d32c8054c071faed34002f4345118aad86694c261ac43632660809a99ec1ba8a066cc18ff970f25de61fe44ff7de4963c0d5360dbb967c0b9b3a23e55443999246241312407b9904060d26bf1f83d9f896adfff549fe63fc1914dd00523817a6374e4ef89c41c53b0c717f142011385a27ae7b8fc83fa68ad296daa466d4b462109bd01a62337dd8b0576c890d02c44860fd002d781d8dddce8215286e6de2f6c1e5bf8466d6a6025a11a772674202bdf6a8afa8eef5cde1d93f86671c6473b287a4fd2f327ec2f1e33fdfa0311b72c54c8bdbde262fd8cd7691a58fa0cec259807996a1256fbe4b39b454accb64548a9d6853f1ae7d9ba5636a95c28f4705c936733e8d5b497cc945946909f7f76c16341ee1a1dbd90be7a114bfa50bffe0f341bbadd49f2bdbd60377e8289b6ba3c9299ed5695d0318a323e037762e66cd348db859697643bf6673190bcabc5d6840d5d0decd720defac451eb4e8fcab54310043b5beaa57f4723facbec5664a31de6aa22ff599b220f83bbf9ede26eab74098df2e672adb73e5887f87b8fc43e13fa836e5baaed9fc2f25760c4af2e1c1b1b43b8a1c7bbbef1b8f3b1889e378b3b0129eed6896d6cc98a7065f6d3fc7e15ca4041296d49c3d167606e531526267e0fd3a48506dd173efebc8d46983c8b80f6b7fda4787fecae5e6e84d9141adb64eff9a97ede28f8a1baec8a052deaf1df1fdbfa4e07f8752b2450958bc507919d36e00d6d71c0ac377813b6e9a954f70f6ba761bac31153888940346ddb0a01f43aea3f56eb1aa7aacfc14bbab4b21051298f4fbd0bd7e7cc334dd51821db445b0eaffe6159bc9f9c9c7520e252ac85abebb5c057577cb92a68d7926c49b4942d17b81f4f2e57fa588a4ce0786a73ea11618eaeb2ed3eaeb4a5d3db8d5ba58935efd1bb37d84b93a7472ffb535294117bba85a046f6e1b27b8e245349ab691af8a00dd749fa8eccf5c09bc85cc8baa9149d1a1d2e1a1e9e292064cd75fe0ff97a7d0b1561d4a7a56ba58da482a5fa6d3662c2b1687a9c410490209958bca40d970438304f91ea18ba650a01755f7425969800781736d45f7a30ae53e72be3b77be1c044e644b132fb29973b1f7c8abc61d58ade6421a07e9b3a17d2cad57c309579437f80de6699469abcf9abe2de28d3df0f899a08628efb3029da994cf68cd87c822b2542cdb48ab6cbefd2c0a9910718f6eb34a1036027e5026ced9671eea1a0ee8736844f55f4ec4b3e1fe1f0bea7e700f9ba2abd75e2641a0a1be322ac85ab52e871cb6d10b04804076a108b5ae74173c6b18d5bd9356b653dc0df1d13159f50190a19fa871301183a1b168c0005b4c9dfd0e1ebe566afc02327ac2d35eb9294cdb0f5795c6e15ff5e5772b765df26896bdcf2b76e0aec51895eddbe6f5a080973f1067695899eb46a3c3ccea0bdf6dad5a6886a99781a6dd42866744799efd8d4dd736f063c5dc5ed3faeead5aac1896bf9010697a13dbead78273a4cbaa05a5f5e9dcc84613eb4dce6c5881b2725b574b9fa5d71b06e046cdf732accda31297ff7a21abffe85f1ab04671f178a0222fc1d875260d32d549b34d653b24be6ef35c148f3e44fc7f966dc27b93a12cf2a8bea02a5b8db7893394093ee41b20985153923e8374ac440d76e3ec3eeaf14759798eacc1df2a75eb391cc6f19c187435291f42584c12598ac18ba869b055f6dd536992c17621884f7b627f1b2357d90c8a4ef1cd29fa0e6dd2a602699bee7c4b552a692f15420829be37f3e54602d62b25fc8e42fb399bca64124024e2ef0ac0b1d9dd83519116ca2bbaf52842b527769d22339ff4b178775d78c6a544e500bf52fac32238e5604c590a8d35ebb95e39bb1ad3ac7b195869396cf82992aa447ef2e482abaa437c69d8260ec49a521ee8aa6d0d688fd2f2f3dcf5abfacdc1f4267d14f0bbb43741413de464a37a46e9b439b18cdb84db5b72ad2f6b61e4bc794a9d6688c39c53ef97a74dc5fbd5d9a3275f54546bc4a982ab41b1d4286780be39ca57f1e9b56e9e3e14df1ea6b5108e4e0b3e800720d78e185b68b6e76a9b6f2c620fe4ce0311825f42baedac2a88b83b6b144393f07dd4238969791c8f077d0dc694cc217e6b755a14f18ffbde1edcd422d712a94713a818be7394a914f1558a4c6508138671771121fb1c79599a8d18ce14d2ddeab9a816aac43addd6b80786cdaa1687a0c2362c95d012c6d3037eb98704ec6ca3d64dc88ac3349f1426f8bcc4d10fc704113b1b34c9d53eabe5630d4ae4ec7f94d2b565d7ecf2454c9baad0c87c9d86fc755eb7e4b4e0eedbd2e98e0673c4c4cd091b0f289c08d91828813fa5e9cad59b2b5fd7be5771ca17ffaf3571219f90f52277dc5679e20579f123db6d6e9ba2911ca6b84be950e1b9ce7e7ad24da98d00f999ff5f96a0ef715e3687c883495bc18dfee6f3278b74c671219327fb0fb69352d9046177f2d346cab9fa8477121f8b8ddcf722a46b1eb6474926acecf7f9a0cea56f52274351cba89013d377eb6a349f595deca4a584944cb24ac605fce036322360fa12a283ea22e5a0a0f2512d6ba056d4f4073e37dff5c478b09a149291e89b386bbea2c86a61e170e4f166205c75b79ce73571794ed6b488b38e129ec6a59cb8dffab011ec62e0938088d7fb1144041a93377402111b8a345eec2bb7f86b12c17516ec441c76f92a10055ef330494079be9e0cc678fbc86d8609785ab4ad40f87c3bb85d50737577c757e136c6affcc506f7cb7789546e27656e509a7c0c701a872b97b22f4e36fbdb77c60bd9cd863c0baa08a204791708b9b398bf095bd81a68eb15098fbbfea42fe130d19be6c5c4b0bf17949bdfa145f22e4e3afeef83abf99038ebcbf50df8a3e9b5fb753e3990ec9f96c7832c7af2741d2373f4839bbf9c4b491d5685119bf704e3f3738bd077c3bd10c82457e635b9767ab8f0234595a1d18e6645824680c3a297b72922640f68ef8ff2e6020c6c33cabc23a44fe6c176945dbb964a310f8e67c35313a997b03d8a7e57850fa28d8e58463868c29670dc56b84c618dbd85ef2b5478d23fb08506e429b77d3f187f6129c43ec3c8ec6577c901d63cd604dddb0dbbdc5ce4df81e1b5a53792e199e07b688c5efcd886f25ece43cacb4d89fb68e8ed13683e3b17879fe1425d2dc42dd0659ddcd03c83b1839ba07df35d52c5569df81ef28817322fe02f5eb3c674803fac34c0621f502d6a15c646b003a90cbf62c62c756bd8d0f4e51384a729069a8ed228291e1bf790dcb207b23c67c07674afea458d3ea24d67e5676e495864548d3685861e4e4c0b977699396c3f2b2624e401d63ccaa311bf17dabd46a3622781d9a9eaa8fc9b6f584d38f9c73253a4e1946c4eedacadfc297a5c05384093de8b567b6fd92018680a2775a1e719a613972523c9cc2ea7699781d7d45801e9a4a34420b85dff97ffaccaa7925bfd05e91bbb519080b84f2fcf50ec0adc6eeb86e231e23c13553baa445c4b7ab49bedd256b66bc9a61564a3d3cb8b2e49667b4118741b1dcaaee1e10fb7d0c6153d98bb98aac2342691c9a8812f70344e94a5e92dd1b9f4d1a61002f81fccb36c8482c3b99f45f35ac3bc72e743f40d299cff557cadc4878ea72f4cd48993901ab4d158664f5fe1aa33e6c104ca5db6e4bf89eba55a371111a9fcadd6acc30e68f64fa29c3d00e9437b5acbaa090ed0265cbb288cb1e374d49c8d7bc936979ad72e77b71ef16622aa042f3c202d1702fc3d8c9ae95b8e631e2610f9ad85e46aa37fc41b6b537eacbd3549833c7431c0ba358339585613d1b16a690e0dcae1625a7450d654551d1aaeb18f0a777b4ccde6aee591cb6e13fdc50a70dfcdd98ed821a2bad1b0c13fbde97fbc9ba1151e06c3a81c67bcda94a04bb00a9c3c2cc7037684806837fbd7ec389e04ae28b9ec9e347bc9b086ab58d98a225894a5bccd22c782d3b0366f68b2ede62dafe8e9603d498855576b42f11af215a43a86417c49d72973d7287c983de579141bd9c40ada6e74cc85a6da66ba80c72454f674a91af402996bbeb5d7465b87bed78f0dfee60671b031eeccba3808d0517ae22329f92858b66599e9a24afeb7b7e9b7cab5abd2c01b46104d0509fdcd240b4b0e88385ffbc392e506007cf4f1298e4c89e291cdaa53bb3c9c6344d158eaf1b397215929263027fe448a6699058f23e560e32829d91d96040bc1b93cc3984bc405eddf69c8492c89fa4b475f4f567148c958cfba86734ce4db222cba9f0e9e4039a8d2d582e62054d9de0e9320871b914e666680cd0407984dbb069273ddd66a7080580d0d0a8e8498e1a6b2a88642e65c53159195a5ba4be24209372709c99026eccc5f648cf246e7b092886897c14b051b37dcfb8628992c5e91a33fa3a9c4812fbe9dda68c2ea00b57a45dbe0f94af7310949e4c6df6df077ba61216f3a7b5739f1e3197fdf97432a3e6d3d582f296c7dadea3c0fa1a3bd23560a56379cb5ec5ac1d491fa6fd882ec5de160b4de83c779f38c369bb0f7ff8871f5649f93d39bd15d553b3400341a97cb7f5d74a4db9ed67f52bd2e3fe22ffdcecd9850a6d012f4d526f187ffaaf311b70f0ac9b509db90ab5b0d456b24824ce5eaa6ebc2e2e37baecdf77cdc29461854751e70bf2823a8db0a062d04fbafaf5643c66e7b73001f43f1cde07e3a76902bde18b6ce996b587ed2857f689b0313fda2c08c2fadcf28c605c3f17245503cba86ba3cd92bebf97d6bc759b31ec5e86202daaf2c4d18577e6e909373b2ce184d5a70d1d2cbbfb6103ad9ae3521c591a419ff8bd4a4d22d81507a4166c788f844dc47cd4efca5aca7e6624328dc5c001d3a347a52f768d5fd2fc8e3f4dd5311629c748f8c37f7860e96907b91d724e46d4125eb396387d94289fb201b736e6f7fb487fe432f843dd4516b18fab010f25d365d9c80c337a52da43e6780f802baa1a203f4a49fe4de9dfa8204a71b4f32ef578e9a22ba9d5636328fbe5ba52bd36a2b50ce5b32f1f0441c759096fd64d68a0206aa8d02c2ed6b710ba163035f4fcffe608efba43bc382dcbf73040705d3e9f9d526e8fba7c86b0dce873059dcb725c7b9248afed9497421fd87b0e18b6abc2e735f307b361bc625233b05ac1f12b738628cdbec9cad80abbc05b925d5078ded1bcc1e74690f7a096bb0860c355d7e60bc27b7be730805d89bb5cc5389f2c4bd2a28ce1c7448884fe336f7998e753ceee93ec8da547b2a262713cc6942b5a2acc968d8676391c27e92d4f207cc929f31a27335090b587f3aa6ac141f0a3f9b93122831ff43762b8b27fbf696fd173d17476455d956dc7101aa8613f5398c88e4e02b6f1d52cce1f80dd7b576610c9c911ca30ca8739dd77e0c796a33dc723eea6acdfbf02f05db3da8e3186d9a1ea32760bcc4efd97d647d8206d20777b5462db5b17038ff580a75eba232e2f8f252526d9855ec83","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
