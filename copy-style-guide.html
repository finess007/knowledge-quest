<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b4c9e9ca2c7ca285a0c72dff96acb5a59b9aec2863c67343c4998f3732c35c86a82cc012e252d241af36e061c28989152af2235c52f7bf1504916d4b2300a2a53b7344ec839d1aadca773258353ed5d73ab99bf4ecef9f4a2a8e6aaf974e1a7d7cfe67d6b2ac0fbda1fadcdcc5d8fb20936f3ea474c1a89a41f9c1fcefcb9c3339b68605e1ef025acdb4a90cff752ec150ae36d2a98dc16debd0be0ea5036ba4aed727644e013c63ba08a8d70799ed7b23f446dc47a0be876fb460514c504ec65ef780c8875e8b79dafbbff898472ecb1984c94654c40fd83d7451bd904b321e95bcf2e064ee7b8c6e3e876f93c98da948662b973565f879896548582146eb4ffda5067db6b17ed0a2fb4c8ee2b6ca0a1e8b13a0ea99050c3d76104dead81daee79117db00d40db534756438f24d0ceb10a7b7560aeccf5c0737f2bc617921ba41536b447b73d39e08dafe11ca10e0d556ef41df0090a3e9014e4a9fcf3ce118f87ff5f8ff9937f3d4588dade0561b0243b946c05954a600e1c80f99f3638720eb071650512bcbc4c72ec9d11c0892acbe8f27791c6e67177bc01a44674e91779d8240c97c55d84ef1aad262992a5a6345fd439bfd774e57d3aa817f7982864563329a50ea6250118fe41eea07dcab09dfd7c6a7502f7918cfde39c0aae067428ed7fddb657866280b605a8d8dda973abcb26e9365fa8cf6ba1a2e76c3f68fcadf815d0b7ed1cf2ef475b86febf9fe2bfd9428391f03b69b2edfe86747d506ac569037992ad13c2387317e8cd7ef25b2163deba6d118b7703786ef0b1112d2d3ccb9b9ca2ce6431d4a35540e27af73a8c411df80abfb7a210eee9bbb50f7ab0723dc7769fe1c99d1b26d73b3f76fa7618472a20e454c60d5d3c0e031e55bc7114f1b604af6709a0957ab0ba4461a05f7e8bd1a3f027e6c92f2d48eb4207eb18c3db0823910f2e8efb3ece4d4f4a3c419afb15ce935284b15e1c56ce90a7610757bcb96bb9a35b3a38fc6e5fd947d11ebf04ed94333c28dbe64d49d707dd2e5463ebfe0ba397c82c1811ab03fbde1aef4e0f1d7abcec1188d73b009939d4ec55ed43c042fd051e6219fa0256622096764af7c7969dcfdfdc54aaa079da2fc1586e808dc2ccd02f9d2bf893193dbaf3d13c79a110823fff024add031c167d8a5bca1a06ed45abc5b09b079f2bc7317fac499f70ef05b1309a8d225f36e117e3c940720ac458a9ead48a25c44802e3f6033af33984f3e553a6ca3dabfbda08778e4fe70787bf46a43b75304ac3df92e75d28c5db4b8810b508df315b0d17746adc35a03439962f893f9890e113f0a069f9d7285bf5c5b3fd2fd755236f482049ac8614bbd9f6a1a69fb7740e51080d70f7811c6b1601ee0f502712c8c94da253c7fc7fa33625e7dd1783db3d5481d58e996f11804f15a2029f1c5ca11c8102945fe5313a78b19002a6de624bd41cd10a12019b348106d1dce28c5b8615f8aa27c628cd984855bc259755a3666a071807627f02e3857aea876fe97d8b9a60c663cc7ad9d8ef5701270dfe44b1e16dc23d9c2db397e72189a480803c9229f851660e9419292a7012a3fdd990769062f287485a7f5b2ba77efe118cd17ad49901be46c48df871658f20889463bfc4dac4574e0d4dc495e0cb35363f4020ee3252d0f29aede6942852d6f21b685332da785cd76a28d66e04afbe5c2fcb378e30be8830263d89096b606ab1054fcad2838a10b0c1cb4c641e5cb0b5ffa27b3256ffd63a586b8e5edb1b33941391f988a377a267c0031350f040762423a55714f282be6f6f0056f57e59f9eec24d6ec1b952a371a4aaabf5fad9582dc2b0e4c813eed2eb1a1e860716ce855b52f7670eb57b9289ae2444c9996f072d76bd5efa55c40f54a30db24a2440fcd7dd928f011643212bde4336165eeae430cde3233868130d0ad59c0f5ce71b8e1083d5e5b77848d29249f1a9edc1df146ad34fd07389a683cf7f3e941fc43e1bc5755beb2d68ee7e1103e16beb8be1c9fb09916cd118e5a059b76c32c29f06cecb71164e78a4233b62e36e894ee2ceac1e555986b0799d7a79e5ad1fec904408b4dc9f0045cbc23e0ba9931c931d79ada23f9f81baca61afd90c1329ad00aae2f6edf7d0f349f5c929d255a0aa6dd30b6d08c925c10d883a733f343e405a33f920c717f0dca9803cd73bcc477cafaccb58dcf74876c1c2fe6450cfb6a4ec5ee40d4415f0f7baf0c9b0cdb9b8e3f425328945af2e1e20dfdb8df9cf3c0b2971689533d7fa00bb3a470ad6ef2d21b839eb8bf827412cedd8f15d71bd90ddca4dd56d3066c74ee83e91994b7d6f80d4d68f610e416f7902ee9112e26c60ebbc57519915d885874b12d6e540b6e7c431703d66d9aa9954b98c12daf123eed74f1380a4636fa1ee77f6ec11c038287d21194de4d6c6627291eb27dc443af50f715f8c54ccf7fffcb2b5e430e920efb08b68d425fbd6e385d736a8b21033f3637f82204a5acffe327cc41546a7e40d1dac502f4641c5c1332e567bf029804f82dc08108794a861d1d176cfcadd9cc3d8c14d67853eb277e61eaedff6af81f050df9e408b5fa5483bf262eb5ea75bbe5cbee12b9bb3284a4b5664ab72523dadce858fe556eb2cb176c87bdcd992b5387b381d88038c8483371af280de75cd2caa2188fe997daf3921bb55ce4545eb86e2856971979e3a050a8bf8d133dcd1b5c143f8fe8401fc474155e7d5a41afb28b130fa59b1977a57155d8a4dbd2378cb4650cb5e1d6f3bf73e4ebb315dce59159fe965d84f681838a39e80d6545cff4fe63cd84df3658aca5fc217c83ca67ce62ffd2bd966735a811479b3763920fde7e6aa3ca7000ffdc304922ffeaffae03e7a48d5887fd8e45d415f83f07d38b097d2b0ffbdb0ad1e2c8c388074bd76884a70a70f5fe6058c57b88c97c606a2534e5549836a2cc7c4b8a819befba10be48320e75f24416bd71ba8c0136c84b9cb3dfd2cd54bda53f061b982b50c9824b9b67d4f74bde003152018a14853bd53b879988190c87f624d13d745f514f04902babcc1ef4ceace4b0cd0fc8ccfea8e30fe178393ba7a671ab6c1bd5447513da8cb812ae20d3e3e77879bb76abf621ee5dc3d92c2227e3ea25b4da3e38cb44ec045196ad4145edabbe50c3d97a39e327361f58f0d56758cd035a9cb41ba21962da11608181267797aedf3c0bf1a9e8a25961df66d4a570c2c54bae2f4824d2bc2e7291940607053e94fdcb7f39cb4f4270de6f892c5e92d2f1a3dc50a987753e0e5b4340d307d9f80547c80dde9babba91fdd06dc4919082ca4db6c57c8f7461a47d3a5c07eb130d315ccfe9c465c86d03054cb195caecbcf5ebf7bbdda27af7d8865ff26bb69e4a75cc3da598a0cd79b3d9aab1151e73ff487e130c370ddf6afd92dcba1bc9dba4471b383f0a9501e6deada621a283972e4b103fe78a40c0edb019253d3f2df41da20ff1227f9d5c2f634bac6b383b4695edfb55bc8aeaf68863637059a73ae1cc2c33ececf49ab1cf31beb596821be105724115b99b45acd36c49b1f5c6ec2835fd2cc9a08ec5732b1ed8d2dd450232da186060f04e2ee38a11dcfa5f1900b43ccaea68122fbd9bbe8f6a740fc6a2070930ca4acdc80f511e60839bba2ddd83c15fce76ee44d5de044c7ff5b6274bfe78c0921810ee1d61403aaa7820be42427e069401b154eab5ac8827d33bb9544cee13e9a01225de42291ffba5e33a2690271c488fac224b83a12d0163613a013848fd4bc24dcc0772126fabacb4aa8410bd01c2769f264257d667ab60cdf25245ae88eb07c5973ddd036d39f566268547ab87060904021637029cf42a25ff29d75bf46ef9bd44af130f5ac5cf3f749b3c5ed13664deb7f1afcd1469b3e73f9f3863c9db475b948ef869d8e05c053a80279b10bc6ded4f381af44af531af34352e512df810cd67904fcc2f322429ec77c71a788b306b32e301747e233d21c740b66980441a01cee1a87f4130f969d2a7e79afd32d172ac983febefbccc02539350006aaded3d77b1e1205ecf5f5d0b08346c0300eac2f5abc2278ae87cafaef3202cb9d924d79826c40db41c823240d1c2959c90d80d010f33a573f6838192769fe60585ecba13e33fe6c7ff911ade39059387b660ec448d2883a8b6e1af664bdd736f50e437452852c80aabddf9109faa77848be763930c44de1f74ef32ffb7ecff1a14d84b9f979d21ed528001072b4f02b7d51504fa055342320561e76caeefa33a273ec2de182f3a8f6f33a366fe5e9aa3bd1173972094113ffda6459b5c9e8714045856b411537154113ee0d90ff13e901d9508ce71757b47f9e3e9d123f57da0635d54a9abe4569f6167d2e472aeacf9190272f869e81e1d111945a189aabe26b1ad78ad3aa9e6446e92790e2361c9c79579c43926026b9f64dcb5b201d1b5a59d7dc710a5d8dfd00cc2456fe519d0fc0f5815c28bd9e0d4c6f6d370209eddda9811eaacc48c7cb963b0f4effd2344bc3cf12074bad0ef2470bde0032b12546708b6650f7483c60164046fb12a222e597979643a4dc77f5af8e6a0bbdf485eed9d4ad7d2b52d71449da0505f8be5d9c6616035b52e63252398360219b5b91d4d6c13e7aa1629b818483ff3ce5db9e266b9dfbae36692fe8a460daf4333c3d094564ca0d7dd0095c47ccae22a4eda76fe450d1f20b7e2e565c81560d9f1439fdfc33c475216e2520edefa6881659ca01ac34f7f926c2eafae4d97e60893725419188a947c5babc20a57374914ba226b99693c7c3ada4b635a9605885c681820fff0dca8f9d8a2e1d94f6189eface2d12ed97b6f071789caa2759e117374692addf1c80e90e31d9916c1159f8f746f10329ea10c4880a1a604f94c945de33d39eef0e960eda695e610be11dfdaf1cebbd954c505e7bcd14ba8cad4475b9e5e4bc0e72f9cea197938d4e36fcefb288f0bacf2a357df84fd7c29de6c4bba8dcc6b63e5d9c429367567ee9c4be7f831fad45f30fad7152ae1c0050f632c51d25066535931be18b4da86067cbd2e798aafcefe7bbd729750c95e2c892ac840b340da08cb9a58505e6357d225533faceb0bba3b72823c381092924eb38a20e205e5c231070d3ca66766d716c5b598103d82d436be18cfdc6ab602b55f4fa1225950f194b4bd3bd882dc8de27f9f2e2403ff027a6c0f74b018562405c3ec70522e3b23f63cea530d622f0b996a0ff9d4bcd3286d793ed6284b6a5fa420f9ff136b0fda87442d5ac15e2f66bd82b54c6faa7172346e4cae329d985e92a8a5aef36d0149a1e3d545b1c32a8b165c525d65810013909c0935c50b8fcb358259942a4b98d174807007a1f7610687b7d63d4d58d6db3ea614fc13435fe71c9517ba8c5e6a2df345ec94fefc52810afc05c835841667e4826ecb959f2fddd6e9f7a9e73f33f3b45a72a4852fe24ac7fccb6fe6ba744b23053e906cd97ac21a9c7b8f36b418c3e6a0dd8a6ca7ee920b0ef74b254c3bdcba4b5b25587eea204714afbd049db61e8d9afd5668d63d11cb4a097bf8fb51af44130751e89e0d60aaae74a81da2903301d378032c35969dc04632f3ccea8ffc5d58fb3f9bf34319f3a61f042c70b23d17982b01d3aae75451a5c51c4b0e26dbbf9a2000ed6d435745229925dd5c5ce69475307e94c1d838288da1e6dbd227e45141ec4968e3e87c4814034a4d2e33daf5247ad6e7bfd1187d598aa80e7cc4c4d205ab82b731357b283ccdcf5d600fdc8fe2930057d0447f46bbd400a9725a2b845693c0b0a6b354c14d0d35e091621c56612591fa9581656c050a33172df5234d2e9105e29a5ac5a9b94a00059db4bcf3c900e5ad440fc58ff5ceacb7e27acdc60463de370866170f0a96f4394295a2eeafb4f6c45f5fc048d392802be5ebb3a23c204e272f795b6abc75c6e45a11176e2e642a87e25aca0f482da948777365def118380e967c97130bc507d29ea08a89bb2a704b8a022e5c337e9435a0996105ec9998c5c9abdff1ba0228fa70efc4958ae2023e625aa0a61e03550266c9f3f8737a5ffe0b0401ffddf5ecacf31cad672ee8981bd6004388a528967283844b2c05b9aab62319ec1308c5038ec5692882e6f788e6e7588b3099d7d4cf5ac199cf7f4a034119c8f713c31663ac1891e35ad7aaa84093e97e3f5c1a0220ed262ce1c8ba24883bd8305c4da4d1d02419dfcf78ba119f899b2e10f1328f161b417afd01bf58a7d4c396e907487dcb8cade0dd8bd1561802eda895c48487e59cbab4aa2fa1babeaf0d995eb7ef1462dfa989a55eb4513730c0c056b5bc5f6b93d151295836c9f78411bd49a04be2b68089ea63b8f04fdcc7df4b9b33b248846f695880184d1cd3f9903d05dda7905c18818e536b7c7f495fa21deb27509a22b93a442bf1cea5703ec8364723ca9d2960de7c9e55d33b218116e9562a2df4d78b0f7ab38cee56d6e7fe616f7a8d3bf83e9892f3a946b95f0c25b5546c9debc29bf508c12d482c88efb61c09b1a4bcc51b27f2adc1a097efe80347275b2dc409f05801dc7da15efde078a11c905bb234119f020504f04e712bdb729bbaa7214f6a01df623a5cb47f4a5e585b09103d9a198925b1ee048338739b91f34fba82d011a1c2b56bf2c92a06fea91cd35a85cacae3d902f89de172d7476bb800eb403157769fa09192bd87bb1cd5f25196b923cd4cb7d5f0d9901af11e35b05a890eb0916bcf3cd366940732f347cdeb5000bd80325e5d490c198e652559cb01e5e855e6e3b466332aa01df0f3b6989d727f52d898ac5ec7e31898b80838d2c09e730e57ef72b2f2057ce786c7213cc9c362a6d709322813e3f30ff43cf7249baec10390629c6bba3a4629c16f59bd9b6ffd96b442aeeaf62ed74737be2da4e4706f26f04ac11b5dbb4f028913bbe7ab855ddb152919c7f7d26b4cedabc4283a38ad70b45bef862239cc363bb1a885ddc12152eec13a7758b0e04c71d6c6410ed76e670163a00a4f852bac7ebdbce3ec151c30c6934156d642e73dec17822101c188b12c634baedfe331cccf93fa16bf96105991406869f76e4ce06fefc0b9c8863f7a68b5c9c65e448cea77d2bb4eeb1e530172be11c593b212b4cb5d61b7644e099624fffb3e17b53eb823ee75145296b5b81e0fcd354ab1d32492f198a86fc342ef07432a9207fb58cf788fc61210366bcbbaf0ac990e555955a7c036303eb03d8d76597333aebff3243e64c3185fa40ab475edb21ad25152f2556d77b8dc80c176f65c4abcb2b7dceeab24f7f2591ccf1667333be3fa773a42a442cd778fd5ddfd9ba9fdc6dd277d01a06c2c68da772b06e37e1a1d9663bd3a00d9942385d0b7775083dcb50ab0798ebddbb08f03a44067b2873951e03913d04b193b35fffbc22b15d820a5ca1a16472d9670ed4ae9724d7fa01cd1af6b8af5b033b42b88bfa67e329c701289348a42c0a97d5a2c11b7261f9fb4f5604666b72e4b5f0fc1b74f64e66f886988af455fd8f0433ce214d99e404fde2fa82fc7fe00cc91264ebb002f9cbc369122ebbe3557e98811761cd691cd07ea33f2912adc9441bdcd0bf94e97b3f9190a9d9b67d87c844d3341c93a503e35856e287f5b4753f295b2d0e8461ebe681366dcf8841ed20b301d38d3ca525d1c877f5aac8f23280a08808d84dc8850eebe2e2e6f32239b16eff7f66e57711c194946fa862d9db4aa34850d63da6e413cc1787f328a0c8d4a6101add2eb53b7ae56fb8950b4c3d92242cbf984bfca51a855877d65aa78b353b01da95d16e9914476d9eee9d555aa71c7a13db810e56ede01ee58eb6905e5bbc836a03680f17ac880c7fe7c1ec65fccf2fdc53879038d79398068bc9fac53f039c92dcb5b26bb1ef289a2509e4da9c776c3e11a9b90c3921e0b0798a2fda1ab9be7efa09403cf26e9f5d0a30824fdd96bf9eaed57188970e7ef6ab4d64f727f67bbf2fb354522342400946eae21704ff6074e77d7f924d5040a0ae50496cbb993365e7b4f07bf55e978d9719d64f3da9eee18e95e6249c695ffbb2deb58507f13b66a806465f5fdced13cf45f4b94e3428b3f63cd651404144f86e5bc8b4e41222d82e0bf4d00e55352a2cc36d4f00d20e4cc98ad69aa77bb747a3385ab70a753da65bbe6fea7eab3e857c1df7ba58cde9f6bae8e56a72c59e710487e1e29aadfd761ab6c2a254dae3641182eee7a4c6e357ffd6b5bfcbf481d93250f20feb9e4e48a5291013275754848d35e9deac603e7a45ddc0d72b4548ec48ef1b650a4d49cde1fbb8050bbe63af7e57c3919de6b62236118a2cef5ef8ad47107f6c8e958bf1fcdbda3a6783bdec0c31ba0736ab0af9c3033633a349a7411544a31637094c4030dad66e43ea03ea0aba7bdfe7f8304a0597a2fec2145345772f935cbfa1edd9cd7d92c63c7a8e3c6c91458e37d4e6ba90a76f328b2d98eb0997ad18c41b39d1271152474828983ab7decaafeaadb9d7be270018c841be85ad321afb80e40784a4a5b949d91d8a700a879171b1ed2e793207ca5d90f8f06c0ae3813c7c7fe8256520701c63f47ebd8518ce15f42d2a073a6e265afe6befabcf40cb797f33b692f4438552ce27476fef491262743806914b51ceca047fdf703db4c940c1c7b20928d80d4bb399c7a0c4e0170277f4e5a7258444587fbdf33dd2905fb00b4fcc38d859c93bb3750791d39f297799689d7960ac22d6e9709a329d2b315ae6ce7ce99ebd486127d77821c62c57c0f76c585fd5178feee0d39e2bd9f92876374c779d157893ee9eddb62bd8e11df21a4294a3bcbd70f30cc05168f6a04a6bf54a46f167d5417a555f6ccdee55f7d2beff453f9fea2642c8d725e44cb72d01cf125a5dc1491c99139531454a38b7e9e45c545d6aaa0858f18634b6e24f3bf2b4db933515c1214628b851954ab703b07af383fb134fcad741961a2cf3e32f3b27485385687cc41153dcf04a752c256e5e2bf621f29bc887f022935c173571d5c8c66606c534c0dcf2ca8f6b997ee115bcce0d370ad0387b71df0a6791166230f37f7e15743145ceb23d1eb0e25a81542d4d3f291311bda8258f22adf9d718b43d54777292574f80f95c489c53185a426e4e50916f8c23b70e0205556054bc85c3445a291cdad8912d0469b172842e827e5c029563df0da0ae21c19ce71cd1ab0f3b40d07ab4ded137faf27ac2647e882bd4ba747cd57356598ce9fe899352e7333af0eb1ae1e41ec080c9da01dec19dc7c6a913b4f2908476627831da32174b0235459375be0903a4f8a80d55e18122c1ad858f2b125bc4e2daed0b62d80c490193e9d4c5b1cb1f22680d0461acb0cc7586106995f846cadeb1b28c8e8620c5fa4dc54ecc4e5e12cfc34009c126b36340eb749bfbec084ec4e45796cdd5fa6c280312e714325b9eea3dabd60ad681479a0ab3bb0dd5ffda9060a575466acc19aed5053f74991846034029c004e7495c3d31247fafe80e7eebdae43dee6c020b9e6ed214d278f5470544dcfadb727dcfe600977aee4aee2bf89e1f6b484a8be59307eaba6df4f92e448d95c0fd360ce64f73f8c99a656d57c6cd45d2b574f7320c781499d5d9a0a0fa43919785c37eb1e8803cbcca93c7d31510c24e3830cfe2682d79e0fa5a6e8683c8534dcfcd2efb5a6e61a0a404f85f6005bbbd5be6ae47d38ba8ee1f1562226c7b9439ac897822a8490944229a368777754203f2df94313fc5ca3ebf15ecc217ab06538fbf6145d02872b1121f4f1f83f7b9f4b7e48513d3fbdb3c8949c6c56bc1a3a66b0ba1971b616fcfba19b49e43bdb29fa82df331df1024fb2753073fc8da8471e2e75f6f72409d3b0ba468e2998aeba08cc0c2c3acd1dc75a591b555fbe8b769d85a563657141a5e3ba0f5bdb42d3597e7284ed664f4db024ddc64f8aaa215c61e0c03302a1cc4fe5aa9272da9f7fc10fd55ada9468205eb8bddcc1cf22c0d451181460bafdb14b80a993b172bd5e664a472f35ac11f389735ce21a63436394c7c814de43698cfde4ef5559859be4b33511f4494df101def3daa20f4e8fff178f7deb9a355826acfb0a45089fdd2ae214cd0e8693d74fd1fa24d7f17154504baa6c4dcf4f6b7c89a2e12ced2b50e94859a4a8502f858a4b7240cb5581bf11cc721403b013ce4b27bca1eba1335506bf0010389b04b09c9fbf159abccf302258a544c8736a01d13c2c5c580b729df3cff8a522ac0f80db54fb5d03b44d39a6b3816f1d939fcc416e20854230846b8dee0fea02200d6efd5c2d41957313affa80c6f360fddab34a35adba5f099cf8bbdd4cf76daa45ef1006fe75ce53cb220854a3a6d782a84c2a7d209c7597369c024ab01f8d3624c9f8e2fd03e2f2e902eb3f652680d6344e598587b0d826b1a5fd6c08aba00ba30fca6ac67f070e05a200034b82592ee8e62d257c99245f661d9347d875c8caa6090231873052e315576c546ecdda7684f3fdd27ab513acd449a6080e95d2015830c677151225962cb771000b262dea596eb0971559a339381f1e84ddfcd52cea621bb806f5704b0175098ebcbf7f90d973c4f8228477c5790d714c1f4413abd10a8bb009d6866db7ff276e053bc38d54033552357e0b378aa7c999097969d1e5a31c501a60311aed9ba21a669a3842e613eaf4ed47190a3eef6d8dd22817fa86bc1cf7f23f8840d2d4a0a730b3bbdcb8c70d08119fb1d4ab52ab1faaab15a4d8e07be916241137e6b6f3730bc0f6a3672f9337fb7611141d6027df119ad1b3921861aa359267c14530fe12e40e92195bd08fa8424eb5579abe7431c98c562cbb03a761b70ba204fb796095a3a09a9ee24fd97b276938ee0a71b9aac108ec9d5656001567acbbbf571ef1e78977fb371e2fcc80baf3ed58be9be6a7191ad7c99ad3a0279a59fc4e9b2efebc0c7f0b3dbde1bdb73decf460e228e55c29c99f4c8e0683caee640211ccafa749bfa00e6041c426ea4a78d9b95a1fd381311d1cd8676dd6aa6c566ec3a6a0bc77018391ae922579e2905b18400b88ce424b7db83be62e225a3714e9b35f2324f7ee0316472c6c9e32e2630fbc560c6fc6465a59103a4b88079bac51592fdc569a5ba0372e1a10d9ff0e7faa53882590710fb0458caa3a41f63ff0f4df4ccabea05314f569881cd657181f61131bfbe878147eefcfe520e1e19d968b52d0c0625b0ea66c331e71067caf2bebb9f118ea234d71fdf96516baf5d30a40225ef2304d9d286f5012881da0b7f5154e4dc07f55c25c78f8da8e0464f0e30c53220837db8bda471720bd8334f8ae2f311d7a2b7230886df162bed92a9d1d26fc9adc21a2e18d052c16ab746fd630c932d066e28b449593a168a1e43f27d520acd7648e7b08a3b6d1a634f93021bcc0364e3bed3ccc7a657b4e5d7b993367004a19b59e24f1ec7e96caa33414c91c3165c66e54f4304cdfc95ec7db34c3702d384ad18e446b76e0d88041b65b5e19bc49d8e81c2844145c672fc5e3d31ad9142065427891af3055f591145a277ff3599fa240b012b7902ba872c55b6837276f41d04111ac5ab34dbe6c1f6a05d6c9c08e7d227fec296b0ace54147eb937853cdc5696ab92c4111e65cb896024fdcee653cf17ed2654a6bfde1935b3b30437a0d832ab403856da639b28637e79056c4cd9f3de3e15144caf0ede87b17b39bf744d74a8b74afd56068677466e9bc67ee6f2cf599207c9c89893e87fd26a25c10fcc5361a9fa6a69ee7623f439acffc2b5686dcc888a58c57042239aa05e15d1c6887d6309578e3c1549d32e02f187f7bf44be8531a4b621bf40f54b6b6fd64b4a32879c3eb0f08d8d4cf2724bf08f1a1eea97099bb90cd9f85e2237f26d3e0c64cd0fd3cf7eeb6ee1bb442868143af20678b09ffe9b0ffdbcb5480445cadd20e891178fc6e633900610b3485d2b52899f8dfb93d852fce0444fc2e1b78856ac8b599cb34786d6cc3f1c3364799007a8fa62790c6968912e018729e3289918d388f794dd1075951fbdcd241512a62f721151076cc3fea823abd2bf1dc3f0c0a8b00c89fc7a822b1202e17c05f37734cfb617c8a13752e05b8599c5aedc7825118ede01bef54efd036d6f184571519f6fcf90a02bfe08b6af836dbeeac7f8a77e56514175ed2114f6366982d042986c9cd44c8cd121dfdeadc3180849a43cd60a6c06ac7a8dab91ceb7cbb4ae5ba33136aa0cee9d9e7ec4dcbc606a99f6465b4faf070a6a100bdd2d448795605807041f8f92ca0740da3cb0853f19c713c002b0d286450a037ccf165385b5a632a8b891a1d684a50e2a847664881be3a180a8de3994ca16d9992f73214513f1a73c4812505aa0ca33183ab1def9084d0db2edc908286ab5eca52ae03c3372317282d304adaf0cd1054b6aba37653f040780a54c440f2f60f5ff9287ad728b391dd4d2ed0ca3729684952f7200ffeab913efc3f66aa9d339e0f84b48d623e93458a8f63e9c9e1409511052aae229dce371322e38024e7320e0c7fb10f5642afe308665dc93e1faa4444dafa9911788e2d6cee84ebdf9bacc197c1d34f6fa5b080db4ea4d4c675b78b7fe65f12cb3a0200ce0a8dbb32811447f0f88d6c3740cdf1f93378b8ff4ab12d7e7a12de777d38063f1b5f39c4b3bbfef6225c1a7522c6d1f5a7246f4fea1e13809384157295c8ee97684105ffc712a1bc7e908d14548f67ca50526d344d1ab525332f0eaf70b1affe6e174afd882b8e892f2598ed7df879dfc642eb275a0e64aa74caf576737feaf23c028b6ad743236185aea0784da0bfb9e7350df22b17c4051ce3e1ac42daa29e3f2313f8c0e6e51318ec79418ba67cc5bc80f8a9962138d1eb2960844814fabe60da4fdfbee3745bb916263d0fe764dcf54960a810f9f99e086796b193fd3858f2825994c6d05d07a4196c4e4997cee4f5ff8336db01d7c015ab72ee0ba952d179b5803e7dea7d11bd1ca6934ba9854de94fcb4c852e5c73e051f731d51067961b31cb4f1aded701b2db34881e9344e9a0422c5211a48199f01dad70239c3bd6fd4624f3c0e6225aaeea6845db16e300e94e0ce8c91dcc2c09493c909fbfa35ce88a0e5952576916df41f48acfa3abe5a0d6d8dbc0db0bff52aa65935d8a8bf0f84bf6c0ff6d712c32f8b03cb4c8a16dba0d2b06361cb4047d2116f1fac793b30f042a2837f4d581bb782a1c9149dade32ed735db3c3ee4c59095ba8e3435c77ffd93a0b96db5f492b192bf0404b44ea20a1d278e2ac4ee82cfbe98569281421b7b021165517748e9d284c5adc3161c392f0cd2566c04d46ab459228e7c334230b6c121844e47b23cf7e4dd455282c9ca98748bc9f88424d4202659701f3f72f9388df0195cb717abbc376529979f24a1b6d1cfac9d3eadb78d1abc2091bd9e83f34aedca78d6dc2670d44be1b7b3f2e0d812a00704f7beae61f8dd41f94de022f1ef1b84b61191fb54e07ab71ab45c692d8009fb4319ec6d17b2c3368425841528814f84d9eba19a23f6cb53514601a9fa653ea9ff32c64e344f77c9f8de3b5862549e55ba43f2844304b67512475e2e760ef858ab81b7383572e7c8a55bb4af38e92733464f296aebadaee26680c7e77d702a4dda6ad662bcea4c24a951a8300e40bc29106250eeaf49eaf55d6dff4041bd5ed3b047bcea22884e04f3f3b29e08da73246873729adf803db38304a2af740394f19efcdfc816d76c3d3010b1db5817fa9fa29b1d651193db11b5b2b4582b7107cd94c340cc6d1db56fc8539fc19a2323897ed108889eb76232d022b377b2eecfe761086afd4ac5212775ca877672efc033ab2eed7916c5cc8488aea4088de8e7e2d74d330c364f22fbddfc3e66043b7033b0f56610cc22aedbc7c9b8a09478ff532ffcd26d56dbceab0305c3938e7f29f03295e6758c262689c83452c6489c51467545999bd2fe42c849393ce6fda19f50907b4b4ec6810e4b1142274b46c2c0c821a99543d48abe9a573fb6c6dec71c860d0a173f588558c8d1b83469d785de3eca25cf5c5bd2ee66541254c025624d34970b6241b6bcb57d1f415735714f1aee4db8a4f1e25ffefcf3028c515b6a1cd099bcbf29aa99463311a574f4bbb5efdc701545123fd1e35e3b0686018dcc5674261c6d1e027e3e924b79808030d97e0a50da89d5b631a388e4b0cc7a9bf337db12471059783da300d31421ae0f30daff4a24d003d95432218d9c130a62741ef5bd136f7ca45a0db2b251fc614bcac51ba8ed290200dab9e6410e63b5d02904f2aabc9b877bc18d48902c04e3ff23adc4991cbc44599b66360179802d409099702584b39994873c4fefdd3b87579c74ee8508a4fd20f4b2966d34fe1166920cbb8eded9d9bfae4068a85cf0aaa939cf24ee12e6e51ec878252f14a2e86b32bd4917d917b9345afe927d9620d36f92173f6af786d85b780cf59308cca2c89c9f7e8cb16d8343958a7ea2cee234027e78125b314f735308c91bbaf8a61ee162b8656e423439dab30ed02c61fe497dd26e08b25d84efd1bb7603bfc236c8d4821bcc1c1ac7a86c854d01d3f5160df805c9918e0eb9dfc55d435a71f0632e37b9c7bc8d19e555a4e06dfccb72327dc01145b0d7edfcec2026caf646854e273e627c61007d50cb5356cee9bbb98c4d0e69c7022fa787f3484a18db47521838b6f984c0d3f61a666e170bc377fe65682e656843b7cb9e58a492f0d2975c5fc44e360e4c6558b5281191ef789649d196528fb18b9427223ea48cdb64603fd99cc630524558932e4f31ee7ee48e72f02cf9706576101f6012ff2cd10dc6cd885eafe7b13545ff49c0c3f592f7018f908ff387ffaa5efa65894441ca30b8f15aa721b2faca5ed3597115367d932204017d0c0993b41dab364c471639a74dd39a31a19941ae23a4056fcd04faad7ad780d25d9fe0c6636824090f9bc2ffcac51b6349ae7cba79135b0e54be603895910af2ea07b97bd3da5c7f790b347ec44799dadb0bd74d717d724b7d1d237a1f18495a77788ecc4c84db19b59947b9a160e34f0604b98ec2dd75e97bc35b372883add7a5f804bf665a578213a3cb72b187598fcea92377366b39e1c24af8af3a093b4a008c5766f60f40170767622ca9df7382b6b7be77e88e21d8938117d552eca38afb8dc357951c0351b1773ad26aba09e5bd3b3a60c066d9074e4d02462016fc47dcf11c5e5a97643635c7f09aafdfbeeefd076c6d3f1636555d4f6c51c2be2c244b982ae633a52405f094013806d705844db3497878a85cc548974ff28fa837fe0a4c0bd65409e61bcf164d8353dc6dab69a2902d3b9e7a8f57131814219e012e82215fa1526fb8ddaf2df5d72de960790c5e38081c96642029253661c5e094b27cc88938d74336324325247760d74016ed0e5e364b2bf09408ff3c4fb370d4a9079d7d1d5387c6caa6e464ee0ece35009e42e28983566921c3a28f9b6d221229f7a2e292cdffbaac5854f50491f47a110a26bebc6e79e7c14a64f16c6b95e32d2694256fe5c609b59f50c3dd1fe97914aa1958492eb3cca62ee2e34071f577cd75741de427f3e8171987abb9edd7027dbee3e71a293ddb26ea8c75ff013210ed47fe5ef83557534c933b0e3fd75ac1a9b93bfc86bf6797d9ed5905cc83872495c9e6fdbd4878d2ecdadacb1aa4331063b4b58ec4e87d0ba5e232ac4c3ab610b661a919b82ff25d13160bc8d35d13667ab5ea23d9b5c2f203096a30eff438a82dca89780167b43fa8384f069864068ddd76f433b4216ef236f2f6b072ce9d8cd994106188b71c5421ff2e9bddbc2b6f3c546e3e5176db277f014d3bb8605558c68b9be677677943115a2cd2d2a9a97cecd53d6e85d48ab603f811fd237eaa5e1e53a6f3e95a6281f22a46b0732fc1bff0d32078cc3f79a7b89432b6074b9d679dc78990ffb29579dc421ea9a10e2991856e3060d84c473d77f12d0b4fdde1fd9abc4703f245a9fda7463ab82ed79b57aa76fecc0fc08379990158f42d54be55abda43df7b8387d3122d939cc0857982101f7b178ea92a51390f3754d24cf6c6343d0c24c85e867945176d60e761604804ce32610b6f0cfb1074961afb4ea47b8820a5edb25399eb177d1ffff573d2ca9b35d9aee33f85888b2fded38b096bc9e7e5146cb4ca293b6b9321b15f4ff6a61df018ab8aa36b03511103510cbea64c4edf8245d0130f0d62819ad2e21533a0bf5ad111a964771c82d109e944872760bab74d10851390791e661c8c4f57f5f1005d47783d2112eaaff8e00fc94ba5f175edd7b981a160cbad9318fbfb9ae397657f59a37dbe4583dd6cab2ac2d09f21186161d92e97e4dabcbe7fdf3633f8dc1161e183d9f6f4e8206539c16abcb7572c9653176b2b23d3d6c9dd87d966f736a50837ca2733f3e2ad5ca4d27b2546ffa3a653de4512f386c26102c32af0ee64feb0ae2ece9734558d7b715ea88ae83a3dd39515651a8254b85aca968418d63df66df6c4d4735f42472f405364e61ac5216ba9f3dd536f4f4e33104a42712d561b8760a59d93bb34a5385b7e6246664851c092bc5ef08d0d0e93a5f3a7e984f1d555c54620db44e49a268c31d86c29adee7f8c2700512441ca1cffdc10452c3feb6dc06f07d92f186aa763755b3cec8105708751511e85c85d5e3f4fd14f83127b9ae5982b3e986853a0cf99803b0523ad1f689ca5edad93a1818a07b8053e45ef02e28f32f8ad75bef72a816bd1c76cd452c5098225949afc6df6f2760701762e3792f20460b235a9bc44141a01de479198c40b70382b79ea2488de7f365069e8341d1afe7bfe26c05512f6e7d711e6285e5b12dc0b57bdad8f09f2d7630890676350d75edc5d7bb186d51960e30586e0b1fee0294e265aad917d769bbf993fb4f42a64e765f127a79f65b574c256e628065be6ec9e413258c21e6eee83981f6ed6057990b73aac5a87cffcfcc8e161673941b12a598a6b246fe028c51a675e7a73077afad5770f49bd504f7d4f63cd2b745db609f3190d03ff4dd929719254d4e2854c0acde2fdf42f614b3269608481acfe948b11293acf91abd8af951d78b5a46b9e064471f7f0484374e2df2a00df352b7a21c76d795e6c1ea73a15a07d9c6de36f69d8cfec0f95ea0f649132d3aefe4810d94d114a78eea22715ffe5e0a90566e8fd4990b5180296d9f13d76fe7b448fbe2c59acf60383c95c804338cbe373c20c6327129b8d920c593e7d6cb6e2590e9b273c46b659a357f9d389124e0cb1fa0b3e49adab7c95d145d7f7c96cb8a3b3c91955e94bc1cb634854c3dc52c15c2f3ec9007a1d349879603cacbc43b4e0a7083aeab786c51908bd5e65ac165738d14c92f478eb5c4c192b54b02c5f81703aa8f002dc3e708547d4b2140804b5d65f60b1dad09341ace28a2c0840086dae9ba84752f68b9eda7953d895c8447c490552434cac6967081c7f60b01fa7cb910a5c9df81ea2ea23a2afeac6b6bf2a3db0a52d4288dfe3c6731b9a43695812e14963608d1cce83978211cf2a6fd588043409401e20c1a9a25284b2bd74cbfdace09c1a3669bb5bff89c0ddef9e2e7da21958f92e512c12feec8b37e1ca9176c1669c17d9afede3c2b7dd87fd12a9efbba1984f07d2d10a0b3c1cac0826157bd02276ecb14f4cc0958dbcdc2be5cd77dc4b5b3984ada2c7f29d0b4d6d939bfe448140064bd12d002c510c1fb4c1552ee7c4c51e037aaf5c089b18be0e69725dcc85d665b478e890c3ad2355c18e1e8630de8e3d0f1246b6d2e4e5e87ef12a32f1c50c22f85c6dbd81e818e4279b5353a79ee3a245c36c994d35b1c87c572999104120cf2a50f98c2a589ddea782a8c4e5d80a327689f4adceae2a41a720cd551ee2913d744804e3738059e6c4a3034baf89de1ed0b46164a9d323201bc3177a915596103d750e2186aa845751e0d4551878f59c2979b58734a7b8b377df4cd36d73f460a013ae9f0bf34608dc87002b92c894abeb25a3bcea03179fefbc8395c9289f3eb9d98778cd5f5ba416b50ddc87cc168cf465857037462d0e1fe808f04ed76de0617d43834525ba26bf8c73b5aee803914bf287b83e34ea907f406a37ad1051ad5ef5ac8330ed3c8aeaaf7e72ba6258b9a0eedbc6362a1980b732deb47ea5783ba9110a8d5002a858a9f6cc4eb9085cdca6bcc2b1d887ab557df619227c771c2b4d78ff190de1f46c692b18754247c24b06982253f5aa1c4854796a3548c1e4ef0fa4d0559d614532a1447edf39331f251655c4722edf9c6a397b6ceaa4e4c1ce261026e8ad189b3b48ad15b4e4c9e257e1644538b5e486cc7f512f8a80ca53c99b577fad1d743884981a24cb8f3fcfbe41eb2efa25ab2b6476ba5f0467263ab32039a21ce3a9d835fe52f1b032ba2914e5b3c3cdb305d3cc3611f8887f18741049f166483a6c24be4b9e235c1879d9576f3dfdac150cb565f8ac298a67175d0b9443c0452a06cea0ad5fa1eae485e75385de09ac66b89cb0ce69b904bc47905788937d0dbddd9519cbb69dcc2975ae667afdb12d870f12f1c3aec1ba38ae2f3ddfc294356849a692cdd3116a3ff31c834283f3b207680d081c23a516ef548de84ff7558dc277e6bd2261be63fa4d2eebe760994d5f372f38749262bf01ced25d2b5920020a6a19155b02ba7d269489abca4e0b6171ae764908a0b29270911658d4a8e51d14558e67e7ea34064f31cc1d5a5a2cca6b2729ccb8f3d203f0ede7e767401a4c4312a5d15095ed421d64d9e0c492aeaa1b534d6d917a390864dea2ccf3492445fc8b2156d2274877ca9d53ae53fd25a39ac032b63baedc7d76c95c4490193065147a89ac616da5f1d230b6a179e2ecb5a50eef9daef1a940864250259e05baab478e0070589f5c065addc4dfb399b5a3add0df789ee0e2b14d06506f3124a289caa3796243b3df1bcea3b031a08580712b8bb6bb676881249290c4cffd2d968b4ac7e93e00b127e4b18d8697224f249a0017bde03f32b4adff14e4e5c3a595f6235301c91f292fdab92190bcc314b206de504487323438ceda4ee3d3d5107e0752f686fa6e24dd5fc97ee1948639cd741152031ed500bf7d6bf11dc6d839e8694d858a45c262bae800643e4480d1a368e4e8f64ead6c3a94c654a0ec672432d8050ac95b00cc2a97805af67ad64a6cd1d3d3a2c3d2349277f06badcf4fc638740ad64a1ddcf18253640076fe53252b14300f9a1500134f18a0744ed2380450d2c76b61cd0b1f4179f704153d8370ab11ab79470690651a0bab75e844db1c6765c8aa9967cab64864f10e89fdd605ccfb46c4c1b9c4059be678aadcdf8dd18d26e939f70fcd9f890be2016f0ee61e18472e364be7e560885dcc2e4e47c9eeab7e4c1d7fa83342e1e15a1006da2776b44bdb131f76f805f43088b383d58911bdef8e579acd31bfe4b89feadbd6a6b6d77d78d1632ede1f9e1c233a7f134da054ffdf4871d8d01c2b3885caa7e61471bb07204887cfb1d70a5ec879c78c51ac1597483139e93d08235f2267e8f477b9a9d481cb199a6db906e24cd08fd4f6a238c34ffb3a07553c0f6b329259aa7987e3aaac2ff07b1aaef4283b9d14066ad3bb771492d9866c65af6835a35b6db8bdd74e6b88ea3ba35d4eb4cc8585193a25187e08c3be74a65defbfbf91b897cb512235273df27a5d91dbd75995f862baa8071bdda9b88779b05dbab9b7f7ca4d6f82120ccf930c6637d9b2159ab899812e91c827ea7f8926fe6248dcb6cb704251e400d5f7ffc401c84ab29ee40066bfd37ef9c6f398974deb8c432dc18d4a4cfd4bc924d85083a47e9f63256a40657451d5bb59afbe4a167771d43b30fa8ce924b6ee5364fd8fa40e4f859bd6efd0d464b76344a7d4a8fed40d06930a98a48842763b1d9705a603f9a84a41049d6597736b37f28af6ea7e6ae8728be5602ac1526febe2c2b025e4e7da3d7c07d187e597565f422c297786efbbe80ffdee06c0dafac5cdc6b7fb86c74ded874f1fd4c2b850cc76b03bbb09f6b1e47ec831aab6f372fd04d5650708615ff2212631264df6ed1d896d40915135a2883a7f587157eebc3fc6aeb7bb53b5e92471ac08d1aadc7fa3194df264630d4ad58e2ce29c9f5570ddc461a72803c15c1145b9dee4da50737501d6be4b6a4ed2d4bf294c1d89fdfa2635842a96a4b99b3d296ebcb95eaa9bff6084c65050a0182e7d33eff0b2e0cba395a4832deb1c2b77358a1f3c9485453a4c1e4de3a77fb3de7f465bfa431cd9db8f37973dac949cebea864418029faccae93895097d18635b001fb6b707c181c0493e8661cf3a07aa6cb3817af73b1f3330104acd12730d002185d501662a50a154432134ca27525a4151a4e7dcdeebb3d947f7ada28b43dfc9699e8c3a6b2a4022fe4f7fc589e8319aa6aaa423d4bbd1d362c5c76c5a6dece4da24e0356196a8adf5424623750129bda9560debc45b1081383c0e67bcced6442e6dc4eb25b6eee240bcace2d46df914991bee2f003541d2adb7af3a6eb505f54bb8733a6a528435535edd80fab516aca12035575a5baa7a84fb64d5502221d454db28a345f4f671f29dd02705ac744054998b94fd59f56274c2b3249e802fce86ff337fcd9bf7598852fdae7b9f5ec8a2cc2f0ae72a0a7fc4c0fb2c026164dd79f20d98f984dca70c86da3bdc8e22b050a6851e376c9c48d92e32923bf3ce3579ed5df7eacbea4ec33554ca4d71579bdc31ae33f1fa6b0897de5263f44d3d4ea1aa71b9325a515878d108a30611c8f82c536a7c1dec1abf5596fc9950c2f84f700e82ac52379662ad42bb4dff763835f71f11fce26394349a8249ef247a5422ab5af1a3eaf94a49c0e1426b6b128eb5814e5ddd964f9cf3d20c7386c5643e859659b671528fb6a376f00b341c1bac253e58961466d7296b43cd4f8c9142840862a7c323fd51f7973269564f60ce9e4b6cfa68d78491e70d004eca6d65d5977503dcdefc8536fddaff24d2496d5bda3e4b621e0af5f1026b0a0da9362446221293de2e2f66c20fe7a1593ddcb349fc33a415b5c2aa8e80d6b9ce23b7c9c81aa6b864e778d245df2e35dc5719e36f2a32abbc7d2de7908b5dc10c95698b517ec69f831dbcee97148d44c678a6b8a12f6573a81d48d864c7d11d7da9fd4be6d163e363a9e1dc19f088bc812a1d1141e3f3fe2cb0bbd75038f5c0be0f8c192a61a5e22f39e5dd3ee14136d3ed04c503391fb6b4f57cc181b662ff888145840efb0f811cbd6c5bf1e1b32a35058fa2f9e649d74ed8005d5a45f95ffde0d3039760e351f6d7164a9ae0d0822aa1b0f8f3a0b089114be488b1649373300dc17d7b78108faff58d5d87f1b674804d885e4340c3446df3b3699d3c52706c9a8fa3aece8377bb9134edad262f571d77643aa4674f92fa86ef2c77aa43e7c9325351327599b95073487967276e3fc6cde7bbc88ef99a50aa0f2d4a22ca6f0a8cdb85879a4724d072b572956138361db400a91b15488d7fc941c29bea132a57ba6fb503005d6000adec6c2ddfcee898cd4914c1e9a2aace854811ec5913c0e890af767ffbad2b22859e54b20eda16c820c43c06d9c4c36273388f16f9ddef75914d44","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
