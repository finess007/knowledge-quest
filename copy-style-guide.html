<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"38aa0c33af2155e936073eb0d6d13b45833525904d34bb84dbb2b44909005d24215a01e04f94e81158d4145af4d4ed5bd7a8afdb19f0319c0aea2ab544c43426f439136095b4ebde406446b3998744f4ca136b6a85baa5c30847bef990e6af4485c1a3167db11968d44d40bc44d6ee2c1f1da815f7d041bd38112b88821d2d9dab3ca60b934929376a30cba7b813baaf7634393eb52b59b05b07dd6fe789707d02a5dd12fb7a4714c0579a3c0557243aeb1169a5dea8423fe7dc1c20a54696554e348c5ec355e417b7d9d868bd2fc094e786bfe2d8aa80412bfea052dc4e4fb5ab9415dfb9992e6cbe30fbb12a17298077022d15cb6cc801b6d4d74f8edbb0fd1fc9c3cbdc18975d5c321d237229bfe572fb32534001a5b1afef29487bb2bdb5c5c6457190b8689f06b4d8e8775f6e9da8b0f15c12a06ded538201a055f5bf6124cd6675ca4f4355a243d0daf5fbf0d97000e0eef42934a93d9c65a07c16b35354348bafcbaa7468427f3187dc9e381837ac4b9b1a10e76d14ba35300b9439125340156beaaaf046c5aef705d8cc14c055ad6cccbdd851d813582fb971bd7ad7a943466dd437b7b8cc0d372facfdb92507260121a12a53caca0313d06a9eab724c1c9d588389db8289b8abce977f08869807411ebd852927ee663b4def1219d0a48327c225aadcc9f4e5943bed158e2cdf8cdb20f3f1b3b420014b8ac922174eea0cdda26da770c725007bb22790b3d7e5d2643023dd2c0704b38d06c4b6b82de65b4eb96dc99da65c761601a6628d58485477a07d06596793c714862880fc421c4a4aec78be802ad926f41ac907d2fd127a15c9f157e293965e26b373b444d2cf740bfcb51973343c1546c1b96013f0292e631cabf2f2d98b643660bedcc3766252b164d8e22e2a194acb0de70f7055f0c314169238d71cf9db3a95b01e7290c0d48b5e83ad6629bd36116d62b9d036421f87c5834a0cbf2e9e380ebb67c4a1669a171af1cc39af29b5c58da5b6307bddac652784b33431c8848e145f32b0334c961185c6d9a5bb6c956a4a5a99248bf66396a0560f7f6e39a78825685d249c9cdbee13e8bd5656ec46b81dc48d4c897584fcdf77cd95f4007fdde663ee921281cd83c691d990cd7c8a5c9b1f0acfde37ebf98b5ded9c4f218240b6ffc413380b231d8f53e7247fe8ad46b99d3f0f2ae3fd3b807857945fddbb74499cf8958cf4ddec72af51ba6d45fc2f9534584c2a66a3ed07b3cce1fed3222c002c89ad387f95e395f2c634777e3c717bb8cd0b89cad7587b6afc97534a490ef21d8e39b2d7f522a070eb59b39b61f6fba1f0ed17ea0a41df2ccb7da831557fab51878da7eb8d2a4591b38351d9683ad79545d7e9b7663a6fe4deb1f6357c3df521124fdc5507dea765c2203f81aa27ce92a683e356aaf91747572db8883b3412e7e736fbf546bfbe33b11f91ca60a5571d0ddd2127989162898adce4cfce742e7d7d70ab15c17616df6a2884646f97f6b5be2b26db11638b5580174f1a26c1a7d2103efbf5d57f64b35027b9185b2b7fe30cc9e219119e88157bdc4a451ba5ab6e2e80f2c848add69cc9adf76106bb46f174d829da9b4042064417a2cd326804b152066a48fc153901a548064d366cd8438a6f5f483365a91506c8fd36531e383e98758aad42e4c52ff21b5f516893e02cdc3f0248bb8d74a266e31ff8ae860acdf84a2d86210dffb48a6fc93de5735e13ff43f6489ed5e9fdd0ce1c41073482677fd3f341094ca1f09debd219e274d6eaa97edae46fb597effe8485c32aead390abe7a4e5421922544d57673989138ef9a0d64d7bec6ec7802c66f15ededaeb817e1bda4dc10a908fb7fd2e4a08debe074d76587b929c804b70e79543fe4b8999482cc4fe1624caaffaad14f5c232e3f46e3a5aff2deff43b39c0a833450644369839d61a2625bdb8de1a09aaf45aace7232ef081cb52503f122784deab00473ab2c4dbac6c74584c41e0e98b025896e4ed7ce7aa5e6e3f2825d7e70cbd9f047fb4d4c48a5c7074617022e7489e3e8c6e2f87672fcd0895ff897a573ed5960d6b49c2f4102188564491576dac9d6d1de007c6d8840f3904d8d9fbd2242d2d37d2476d45ef3a088730bf390890e8154edb536a3450b2dd6ccb5de77c7b28c8d35322dc818e8d955468a78d2b2c53a389c54a7112fbab9db46f62191a5c44c1a692d372587307e1e2faf44505d78bf2bbdd12d4fa338c7c1f8e586afd20f52a5586b20fb27bc31f1551b4d39b9e45ca02d87e35bd140fe6fd6aca91b70d450ba40af8af717d75c9d58cea7c3bd918d16c96df567c8992f806af9174f72327d18406b52c0bfee61fbc9dcb012a6172a4d801a5c1754877f7f25c1f37ba08e6c81e05f1c432e0881075f69862b2d76ed05c94048d934c08ec78799da69211fdd732ae6f069d007860cd430aa79e3f712c271057de2169911dc0117aeecbddf41266921140e5a204164102b82d36713497ce60bdc6fa9ce6eb43d26ac96838bd30ccd8c2d8096bbc2b38a94f4994a0dca522379e1c7c1ed1d22582c33d61cb13d907b6bdc528e054e0990c960f6cf4f2623e644d3ff585851c46f381a99042d7cc03e134fb56e73d335d2feab880e26886b267c4a76de146ea7bab47e36598a6a92a01ef6e16fe9fdf1e2f2ae19c786c3a16c4f87da19afd9ecc7e51cf1e19218b0b3d87b524c89f43423592ee4a252a48c1b2ee58b557ff1099f956e3716c6c9e4f35f90f92d6fceef2594178c05835e292e7053b4e515b9c3a6ef7239f9b573329d338e3453fee210379ae069ae08ca86fc1f51e7a3dc9cc186d89442f16df1f11388422da4a2db0fa9befab5eaf529530f3a69a35e5ee45d5fe225b745468ab65216a8c25c02a3ed39c3d421a52bf502f217cf8f0283b749f8ac6f0112e2ed13e145b942f2f624d329711dc43023532402552f61942d3f86637097b28d2ae4f82423b24346fabeb60208ff0e46f437114b937e25947690bf60559d4ccbf49a6d21697f00d3edae159f1cfda5473ce54b6ba486f54954d898e137d6fc8a3d94697b6035379cf27d4a213c1b37248bc612af69afc1066b41effcb315da33429e1325926b55201fa42d2ba3c53e1297ac16f5170941d701a9b81868100d64139740f53fcaae53aa9237ac0eceb053655be77d4d5e967038cdbb2c509dd1ff209a8b829221d36efdc1cb9058f1d7042d7b90188fe90ef50be7c341bfaa984a10fc8c0c10111b75b54b1794b2b3927ce11e44a74633ac89a1358292c644a988111a594292ec9ca7493a1257009de7c892330cb1bfa923e828f05735af8039c84251a0e966fa7957756564d0c10c033c565e164ebb2faa138b8f548382a0fda1ac71f2f9a9de4707444788f64f5f7406358ce07e53de1f4c5ca2138e8ed2162ad572a48e079ab81a580a454dfbd5441940678177141480412a7a1f972f8bb8c585c0037c05a7ecdeeb3d614acba0786702dbb1df658410d8f32cc36f0ea5c22aff94f3efa74e9bdc9760d0026ece6b2293f2e640d14f22b743f72838d77612b6bd7c8f6a021c597042a9e52ca83d05c489de24cbb482163179480256852d7eb73362e8a47415bd453f80d4b9f0045b85d8b248005b33a63b3a338e5c8507038c977684bc7dc43803c15216ab9e99fe820672becb5e82cfcb2b59b25404f8c18c7686b54d9064cec1d5221be6fd988c91d043b6b5f05a648818a7fd0c3b82b1fa7929e2deffda7064d1e97737b5f02ce634954b5ae24d98fa531ef0621a92ff031a357dfd7820a4d05d032f85e8874bdd9e90883ef52258a12eabff50366d824d151bc7e72d6a7ae0e71bd752ae012368eed0cf0aa411d9bea0184f90e88d4541b0032101cb7b1a4b9789a8384bc59a7d09ce6a2f1133ed633eba3e73ffe7b91a19ecb5946a282bb14f127812a4a09be5c32331dff09a6051e4e424a652024f842bf0633c186b82d8b37a14b28f73e1cc1dd538451a43671136d171232ddf8283f81eb20d724ce4febcb6c0aea9a481601f9931e8b18f55432663e8dbe5622b8fe6dd6db65d61d6bc40944205baa3dd2d635ad2e9b5f47e68de396e1dd2e6c3cf57d1e32be1634eb3e15d04affc6705f1acae5ca1187152d0aa9aecf7382db28fc0bf7ac7481a00e36370dd4629b37e01f905bf1e057d19ff162b7ade91eca811a0c0415563316877d038df6584cc72ff7d9af4f90fbaa4cc9186d99aa29fdfbe3356a33e983be493c36b4f872651690a7dfc018e1e843e012f3d738cf69e77a43a8a2145c586371cc2a35ff00a88118919a3ee43130366fe2b5128f1e9c84c21cb357615149b661e87ac4d0e83715fc57f68964ea92f5ea2605c61affc6ab64da535afa8a77242e546a2dfd008c3ed87ed8f4e8356274456d14e868242aa72128f70fc63c0ab2ce495f6349f93ec2c235d54f15cc08aa76fe0662b6d26785ed4640d8d171d93c1906a2f3fc3a8f8103ffb4fd1e3757edab06fd3f46b48a668b220297902feaab61cd2af3a02426e4fce49bbc023e020ee7b3f51ea7a09cf4fef284bdaf07b4efc1a772a43aef59231411b8d72e289ba112e29205d31976719e375ed994cb69de414a16837bd10fc9fc7a068f263e788f38e184d2527dd9b75c86f337cae92bfa7d5da03dc2425c792ad9475c9064332de3a190a732d3d75137e032155d05751827f68904a8a542c277daf90624d4f37859d5df368ed3d795f0cc00011ed64ac1d800482d86cd777f94e66dc24c954a7e68297ac987000890de28b6083cfa53daee0804363a3ec0e4d92714ac4bf358e2f0d7292fe5840d4cce2a7a05a4cb891ed697d1e893a4fe5dbf8c7e0a82c467d4b6724ae94fb2047243673dfff46059941d6e77f950e36728751fcb1a81fa65012bc300dc3320b0c04bc142af268b2e2f2d9c03f63be94ba5b95a7fdce5d699bca7feea25dbc058615cab57c1974fcb116c1feebbdf8e05b6116e1ec02f0ae68957e03677e40494d55fe2b3e2f0e531f1f584cff09634db3ce55a31cf4aa744b2337f0a8039ab723159c9e1222dc479b54e1dc72e85ed906772e3e898aa0b2dc8c900d5436d88defddda332423b5ca2ea36b13b008f2fde33a7fb8583b2395c48678c7025e24c31c0f06c982773845ae51684f96a802a49914d1cc98109a0f6c6b1fa1c864d567affb485c47014662ba9fab9b542356f5467b9ad594f1d57892d958da7b167b4c9e5b6ded47676390592d0c7908d444db2f14ec4c7cd74e7d08c7033a598e04d5ebcc9110e5618e906402ff810cb81fbdacb21c961869fe220c0f3c0be67c61b9b3ce503abd48391cb521d5871d2d15f26b8eb92306b4f71bbd623b28c153bcf92fceff47c096bfd83d1319074792632ae2835af549f5887bcdd0bb8e4fa1688cf766dd534560bc8359b356f4d7098722f1c9a75d4694eeed2eda32f0864858099ab53d095f89189da6e6e4cfc828766632bacddd98b42e1a73ef5e4012a85ed00a7252016f1f96deec8ee151e4475b70b14e06d244604e2fd6719e8aeb451ecd7434c11a949d9c8d9a67c01ff49d05c1898da0e34224be84400fe3fb1a6b54ce559c02ce732a3b58b5f3c90db0a879769ae97da6c2091d3432c81f314421a8a0062457206712c2c05442800d46dffe1e911d073c68ae49b0f2b2d64b4472379dbfbd83eb384366cfde7d5c1775d6e0467ed84f43f26e4c0fbf1a93957bd0580fc06a7e4dc8f4bd2a01d0b2ea95878a726f9acde148a805148e3c0a9b353235349bd408e3accd5e0453ed975423a91364c57c9a33b56c6c83af7dd6ebb8b01f8dff0523f53d4c3a1bab0883a36dbbe8a456ae72f3a731d6b3c5d9c97517328c1b6d904c2b6777dff6441f19897292139006aef894107ee05a05a7e02d12da5d3800f94616b9586c7eee57b3a8d919c863d9322e3f5d19b694a687659c655988a181715c7e6ad38e75e3ab2d173b6036afccc03f8a563de1896eebb7d2088f8df10bf4df2429a9dfee12b24129a10a4b7f870291efb137e2e73e8a5949f9ea6c5e8d731addce75b395241bc8efea58fbe4ba5c0e4c7f9aa8581f325cf82afc799f7f343e1ac6ac02ba11828da6a347b712d3b5601a7271d07f0c62fee76d53600db71600af3b1a642a0b252fec81f495b47174ec9b503d5a3b66448e45912b8b394f026b2dc12bd2ea14593ae7a80552426caa3d8b39bcc7d26de22a2ec5300928c41e7b5e3a88466cc2e42c3c0019c232830b5d173ec0bc470264876fec1d31de8d2dc0f9e7cf4a0dc164ef877335d36605c6ee9f369b1a2ad26e577b9d57f995c66ef42085e1a3aa31a78dd8e3052a542f1f493b5d7a638c0706d7db266c6ab8229b8c1bd7ef44713893916c11b7104650a8174dc3115ac90d1a6f0aecebe9421f08e1fa8f3600d4e7f88e488e57547ad720990ecce50b1b3633d9ee6fc94763d6da9fe24b050338012eeaeab49f7b5ad8286517f1500b695657aae625ae2052741ac0898ca703f27a43bb4d91d108058e6c298e45de81d14fc23ee9428a250a48e043644b9ba490a132c205eeb0392c7cf60ae3dac096598e508b38a357237d48f03e958ef57086cae112558daeb9b33ab74359583cbedb23e46e5d4831f63a4fdbc89d948ff38ae24512282621a81b0503cebd1bf8a197a4d12411917ed5e51698f09753083e722cef472df2637cd094b7244739239737ddd43000c0b50bc033a9e8023534f67867f1648ac44cbe4c2300b05e513d1e461c53f74594609589f61f392efe68a6fcc4bcedc54f33a852255c70a703abd29b6b0275e13e17f4a049c6a27dd6891540cced8441f2d57a0b152ee2b560b10cccf16ace1c0f75b3dd9213d33775940b81fb5b37459d2cc8ff78d36ba790dc6e7b4d11b3624aa681f565feb466f31ea21e3890cfd92839e2bc0707dedb29cc1dc470e1665a623b5da310b50cbf03c607e71b74e638114ee6217f116c5f14aca9b22d1dee77ef47e8b5b74ffd32960b0afdc27777fd467e157aeee0e0ae6ae881cfce17761066dfcad14cadb9adaef731c0e18c660e13d2742035539c1be7a2a8c4827a0ca97b484c27332cdefa81bace7f2999d9307cae806919136a5ad8353f4832f09bfaa078837192eeb1801889b4411e4f4773065ef43eb2f66bedd22022da9538680aadf08619f0106249c698cc9d28b516f2dfc417256933c67b701f8bcd9d6b106874801257e01e6e53d2f2c00287297506b2bb12368df93b51c2ef821faaf3302d385041b6b786fd129f0069e4386e9f7345a6fa498023005b58187a5594ecfcd8f2675902e5e749543866f2da668e97a90a769119e7167edf2671952e5c6476d84c0c5e8eb9ce3e631f2e2f6c6ac495a8fa12172787ba54f59b5b96ec5c1e571f2b39d0e8b47852f3589bae49a875d2685af2cab2375ebc73728fe6d751f7feb71ae29cc8c9a5825d0f7e81dcbdcc5e646a204ae05df604f326dae86f3d72e70902f2253eb5bfe3f510f0449e7ba22cde450dceb673b879a2ae527928d2105ea636d0b1d86b4bbf2963c282602e910c22003ade91b283f0341f52f1dbe85cbe40e6cfb5b5e5813ffc74aa442b45b5f3447057940c5f0a1f9f2cd0b970f2e879a192cbf58dd993fce5741658399f7202ec4f149ba6d0f243f177327570db4e5c35be61e7dc97c35a12947e809d77ca21168f5983e1656b7ee3400b625e9cc64ed8dbdd05504a1066fd592229b9181a8a1d9834a26bba63072866a821cbc04e97a23b4418e72979324ebecb7a97629677f10caa9bb81e93572bfd172283444a2610ec3ca8af2d1754a8d08e3ba2bc3dd286623af3910edb891c0c64850ce0e2adb7163eee4cb0f18715492cd322ac9d277e71f23f04afd4f3c25bddbd832c69c35a0cbcaceea98bf00022fc94a01ebcaddc62b404cd2a4ce3e694ec83cde96fb5035aa346d36658a36077da25b95c0a3a6fb157ece23ffe0a159020bb78c64e21678bdf93a9f1c064e83e7f8ab1e2c324b935b1b701996857c4a30bf4d657464a72886b04a501070ad9222b6e9499d7c9bb72bc944daed176ba80fec9e3018af1cd16ea4b94f49d1fc7acf9c4edc85973a6fe03641d2d4ac98e634d275effea80d788bdf84a039af1731aff675827b84bbd7e1ba00e11390f783536611e6a8df92dfe610214c8f6e0a30a1141baae4cf9bc0ae6190b1c63f28ab3c09f8f0f88ddef128563e57a8361d31fe234fd3de6d01ff134ae807429a514da3c939e6b4b878585abcc6d35ab75b993e1fbaac091b194166e9dba8459b94020218abeb1212451a567b16f5c0862d2efe8db3cecfe08f70c9e0aea97244bfd19be0c75d64d68d45ee0fd37f958a4bb991395be8cd6cb43693b6e1b9168ae561a2fd15cc228cbd5e2928fe715d23451f4eb77cd8be6e3c0d7acebe678da88b96ae7b1dd26a69ea6b9febe2c349cdc59aa3ff96f6b6ea90cc1a1e57684acc6ffabb58208ec2d6f0e3394836aa1e7253066160840a118c7fbd32903bf1fa264a5d5375cac41ddfc292fb05a4869fdd97a5b5e2c5e247c204d6d775b182912e03ce2038b3c059c643357f0a86c6f22cb4577a6db6d54f5bd1419adea0636bb10cd288d36a30f18abfaed7458aa840c00e1ef1c4a24a0c4d9021f042839f99ca761f50331cd98f2e96b6a51e8ebac4046dfeeffa1b47f97ed79a468dc8cdccc9f9d6c07b8305a486b9805f694f444c3577ed426fa84bf45ea2e92f447048d0cc590a3c1c1ad1b12d43e3e2a79463ca1963bcdba5e30933822356ab1b6fa0940f4c4d22e0c6afbb833855f4008b13686660889fdfaa35b667891251876034fa2c48670aeb2ed72d89564ce41bf383da15bb83470f9d1e04885ad3291b1d2aedde0cff5dc309dd7b72cb2a88602887ce691e61e5b886047ef88817b17d5075c7ac33d7639c3409d3243705743f1542ee6ce82a1839b917b4cb6e4ca620dace3698e5d27f855e5ed31af1a185c1779ebd8ef1daa4d2ccf3e04ee3d464924f0acc0623ce791e916bad572091add2ff8d6d5646735156d29f6ed6ff0178038d44fe52707b6df2ef804f3959783501ca79e2255603ec832658293208dfb19c5336eba60f338e956202f65f0654a2feff20fa6ceec9d151ac7b1b7a207d23187bcde4d40d4a3a8df8df77ceed032f0a64a24d646e4dd93f907d36b507704a3140dbd24aa0faa65e233f1c14d2c0e700856876f775b2eb246ec57de9019ec7f4eb6746b5639a285d177cf9c446be9a0abc2b1c58c83df6a043573f0f223c4080bcbc97aba256d908198499c3831355f3e9d6fa7cf2e11ceb85e912b3a082b6bc4ca6d615674a28e633cbd199307c61aca56f95c9880a31d8853e343964fcdbe258219b4fdcf0db3247f852eff4e4634801088d9c527c72898f2d1ea7edded14f9acc4231a59506c447106b50ab4ba46b63648295b6f30a5a6343f9785beceeacbd18501cea9d7c7f917e491a0e181a9df2a70953a499b631221d7a1f92737d754495b700702756574bcf1b6b496266303705c303f1936d07e6d2d32b675c106dd4d902a1f41d8a8a2e35141c015fe5316419d26e30f1b9f1de5dc4e62fb6916553a3ff35d6e397c06c4255016beeedd1ff24db27e79210bbf97058661e0e4cd6f51430e3d1bbef30a85b739bb3be10b6c59c271412efc8bc0fffd70faffdeaec127d468b1b16a1b2171ca7fad7217ef7677bd4b21affad4687657bbd45bddc1d0ebb1c302cd5a607c4bf2aa55b0ed66fbcfed3d285c80bd3423bd8fd87c811170305357911b1df48c67db4955c8e4778fda9f7146267c64d6afa0a672725ae914f753811049d4b64a95b61255d71a83d065a172e61f7e991c5978d6988a016c7779669683cb4444e7e993a2239e6395590630485b10049dce1b650e5121e5816e44f3dc485f05f7be6f0f3c043a3bd24c6bfc9185c06737e04b7df535995d07018f0204c5f79b1e19bb7828da31d8af63634ad1162e111080a811750a8d6b787a7f296c36f719b07bfecebdc9beba6a9f59bb4af80644769d0d3e6204842a84e4abc8082285084d4caa9bba231d8174e60d2c40a1815cf02338f2dbe15c5957748b0d63e75d54898171fd01ece72395971df32a55895b6136f74bf4f4d041de7f8ee4411df8f4d3ebaa229e00da605402d1f6c1d5644ca6d945f5d4a66f42a84a974cbb0c0f13211181ee1f804906f268de41d080ae8387c60cae2e42d361922854c380b12dc49c2565a12b845520e759db55eafc9e3134c7b6a3d98592125db7a1ebcdf881602635d4c022ce0bd7c00963a66901963bffe0c15efa23790ad8ae6287fc0b3e62e4b94cabe2a296bd41df4de2638f22fad1522233b53a558627cd617fe13fdbdfcd57eb414e0c2910c4b1c90fb324a4026fb482a1bd90f97fe5d9fd99bf6b5abfea9562e1406206e1e829c2c7b9dd3c463b3b3f22985ce5271542adc84251edc615bc23f497facb3db4e23ca464d926f40f44a6edfde0b2a07976440d03e0351dc3134a5d657021102287fa21bb79c983201eb994bcadd664fcb84f730c0e1f18e679034a51c88115461274405c054325f4be6881e1d1b0a0e9b521fd4be2bb64da85875dde3002fd052d2ff3b54db85ff1a34b1d71a1e957c5f5733b7c7c590435dbed7263e466ab9917bbbcb44b6bcca547c7ae00e15fea6689def456421f3d3c90aa13152801f09da81516f35b592132cc9ecb3c7180875baa65ca63fcace46a29e121dd4360a5af857fd7170bf630c431bf79c7534de235938afcd3af67cc92bb8db95b4c817c92655dd85276271d9088a22ab8a918c801707ac22f0f01904190049a1f2d4060f0c697c922d676aca28e4db3e5954c83bfa671328c6e66658331f336fd32e639012db840eec4a78aaab93b4cb1f25ee293cd7c39d47b1854b83263af1ff9775335a04dff6ab86d51d1dd2ea095b0f4a8b39ae66697b703991c25a8df9f0569d5dd2dd47d55b57d6fb1b94554cef015bf4adc4a53a703b85ce9475efa234ea5e1da3ac88e8ee80bbe108367c517599079bc46600e8678507b95ea90f0cc857fcc9349fd3ccb30992116cf27caa61567e9985f407fcb0b39ff18528e9d576a1f2809e65880c310a42b56e3c075904390e68423a41358c02f7189f98d6b9f260dbd48c9368ed92fe6a6a5014999e1ddd5abcf5f1ade690bba8a3cf62e67e897d27d01b6809164fc4683aa086435a581908bfc9a9a2ec3f49b6ffe33a92e58fd701dd947f7b6e8e2c27ec5afc9348cde5ee2c26fbde36c4df27f0f3f186d30924e981983ab4be574c9d0cbdcbb57cec75daacd80222501d0c7bffb72e3613f701035941c58f6ec3771eac8f563322e0aeea3b9b4ccd6b277226215ba03d92d26b7cfc527959f3e944666b4f29bfb00eb9bf405a7189d88ab418ef30f68bf0f331c69d65047919d267497e77c3a6a5f2f8fea83ec814743cba4878638ed12f63955ddf75b05d13a5c7a344f740d1ec0d1b8d4748cd2cff143af048da0a1b7e6e054c0215329eb15af0fb2025e42a00583f8b0fea58999b697ccd5bf1fcae70ae2ef91d234460110c02e888832cc99bb44dd40dc1ce2fa495664f6da93fcb2321d5e4b21667e316f4a428248fe71a8821a6afc1f2ad839cd1d087b7b17f036db35ade1a98ce4b34c27e81f024e433c72b4d485d5625f1ba269d6305d33f9a4f562d3af58c839f8e73db9c1b000d49b8f67c8bd8260c553530e3680958721174c4090649c6eaea4d1107d08490ecc17f49a6c3b0e05f9a6f975784de744b46fb1479a13d073caaa90e5d4cb37731d8bbdd29e5816e4fc481cf4917fc2470fb33d3aba69569325a0ae412bb58b32ad73a4c43ce77d28b57f19498524f98ce10094ee0b00d8b83241c6f09b3d39f6b70f3b169d33974c50f0ce470e9698a9bc4bd476b700648f1e95b1b036c666d2364232a1a836f7cccba332a8f858cca58b94dff029aff7bf9a09cc5881034fc96d8284fddd2073b80f49c7bb820b802eca1147bb5f8c77c022f24e47d624b22fde69e8631ba8ffb52649d002bc45fbc01b1481cfc09a8ba1ec54b835942abb9b759a0bbae71fde05e79b30192996914c1cf736bae52aadf40998451cc1ca7cb204dd1fcda969403c208d3c68242a4175b084c16c9d502e90ee2e32a20c8f00a874a6603a8d7ab63f10af867ab4aa9f227fae5b7981771776d4025cd0c65bbcc2c2b26490d6a7aedb33cf001ca78a56ac3624a99f7c99bbb6735f6dee682fcb96665b556d94409b30c844b80dd95996474689ef38d6265e0f6404e7c3d0d4d000ebf8ad8f3c6d23643c7042a658ad7df48d7411fb1489cefef2ea8d490f0c09f6ca68cea178df416641512baa3371b4bc6c7a6f49197f82c01e3d7f054c28fada18aed804c658e6c635d01ffa4e3a2457accb8cd924201f5ed26ba052923a3cbdd988784374a96e3232f64b1f0fd37684e8887bdf86e970e88a0e70f9f1905cf52d08e3c821b65159f83dc1de8c348083f481b78942088d5b3a23fbda03878ff51a8501aa3397340fa07621836e0189f3a258b92756b9759b33c2a689373310233c439884896efbccb1a276a520d884836b283bf1c3745b83dbabfc11f14d8a0534c94dd3cd7b73fc833ab35086d1d3dee4558022219ad99547e982fc774e6fed1401e93fff4eb59d5f7ad5ce6a01e28a13b791ad3dd203ed210a57947de7f3a51737548e49f00356ff0de4623131e8a02ed312bbc52636e6f377d9dce3710c61467c445295e81030ee94de5a8ad80a74ada27e8b9470674b713c2556b552c02a527b7145263f2db01a18bd3998288e56de00b7396fe8707fb8c4443c3c7801906459fc96e3126d754ba567bd4bdc01912d47c1c6ea19010b0498a7f3b18feab14203e397207ef3b2715b3e90b6651b371e0cee3e2eadcb9b8118a885bb1ecfe9ad6c08256c73c906d0b3fe4277c1a5776f5196e1dc6a67ee941fa5bcd2c4013990cab6cf84030c3c919b3bd51a4922c7c1540b2bbe6fb81f0dea0d00138d724e6a1391e0c90d94fb4cbfc644afcabc4cd1463adb1ca6f654308bac44e58dae38f059e86a5b43da0c55eacc30809e45f593fc4b28f16245b173d993a310ac7e7ae93ab00c96eb251fe56f52832912ed4dc019d2d85ec30d0eb03ce2332db232997e9308a7a4670a4f16a11a3b5c9fb5ef6d3e140bb6d973e5c71e707926b55e034cb8c22853577ad1020368fc2601084cf31f2d434d7d95e1d56292c5201bcad3520fa36e1c70aad6cde3e1d09504268353bb9e2a510a56d5f41fecef0eb174f009057196a24c2209602f2eb65b557063e446117b5592a72ff026d24741b1a532a27ab3c77c95153a3c710b196c23f13c664d4c3e61f838ee3442d667ae68853b8e1d051d86e7e6b0206b7de76866c27e0a7f5eb330b17ef148393ef72ac53ab2d80ff039b3644e012a4d206b79446760224cb2bf2cc1b05ed612ea61127718c01198d317d7a046dacba8376be22c74abee8963b80688e9624b2c84cbeab6cd10322762dfae2f11d63efbc11a7d1e0509920f641e610f2ed8a3ce80a07c45533b02a8a3b06222fed0db2e078be71508b28ccdbf81e3b2b7048a8774c1118d40cd28c506a0f9a6084c24feeff757d533830fd8d64b407166aa79857c51117e2246d6eb650a46bf386984bc55ca121b38cba8ee53812595e68c82e52be589d23b9746db98979dc00f4f3b75c7c5264d6f4b95c0c3dfbb375d4d2711ab860cd151c104b7603e681d5baf8c3977a42aabb8665b9cf5b7f7a85c03d019f21807aef52130f20b299b0d51ce2febd94c44cf479fde7af0516423a38dd6c8f614ccf339c66559b0175aa3b3f7bd7b696963545b5606a45015099b7d812b86c94a88cfb745eb59210cb731a6df770effff6f4b82475b8d87af0d3493460f0f15b7b45ac89c7471097cf8ee312d12aa7f7540814acab9b2927a4c0240f17f9ce8688f22830f8b0e2e9c360bf456d8be37bdbd98b0fc0e47a595e29ffea903496a617eae385394163a02a353ad0332a33923caa03aa97c9f94b3e440245460df4485c9bde32fea7ba17c686bb31e24534348676b0d9ffbfca80ebd29e6e50bc857ab1f5ad5a6d79237a0aa8d8ae41f7d378b3c87133d54df8f75d17dba1f61d0a5706b6828269c877be41118b5e46f2c5dec57de47d0348d1d77fa334f93278c4583d1baa2ee978f9beb4671687b92ef83193a9ca6f23befc6f7cf85becd3371fd2f06d7226b065385a275b11f771afec024600a4355682e4e6e8c766760ec188a4193d15fe0476657f2d4b282affce453d5e14611e68955d6e210cbb7beca748b9911f0e38ca4c567eadd85260fcc05f050c4d8b8dc765f002be5dc5b3f6f66ea7a97c8d449d55b538c7badce273906e5668e0bb15f42d5be2a32fd5098a13e25cd89b76d8a52b95de42cd9fc803dbb97a4df5ed2897172a074498ee12d74a8a7826dc0d4c7a3f42aa1fff713e44bdaf1ad61a895aa42922b062038944b270b1a33225fbdcb2c2b6985934a9541ed612f9fc1d826be879a8f12488617f96b2a5ebeedef55b5c7417440bdd22a23734e75a83e91e40a79089cd32d90b03a8b84b68b92bf84deb33102c6ba18ff9792e8c493ae148720be63cb5117b063e0566fd1ab4d2ea1a31a5aa7e5917c27b4dfae36017aa0cdeaf1fa1b6b4cfc638f14e5936e5eab96e924750bdac73d4778200780aa4fffd860f9b67f53241c2c6b279f5b510ec73f8bb7231cb37862b87bd9a72dd055d8871eb67a1939fa2c155079a37ee3f528f38ac9edc9e41105b0ac8c9c7b048eb41678ef00369e92a7ad731aac85ccbb3ef20d615cb696afb8b74921f5e803aadfa5457de9175606dbe8136e0a1c39940f6647c705fcd4b574cbfb62d7ec0c21b56735656afc10b4fe91096aed39068bb1ffed15596c180de67550a0ad7db38e3fa371d672a11c7cd809cfaba4d0bf5587adba80b52b3a489b058e95cb159bfe31d2ef57804accf7e0cfcbbe217c8cbecf8a58af037b186e0e0b847d261fd61ad820cbe9c30f68d1c18e373508de66d5b6894becd993b0d44f74c1e3e2ded471ba5064e4ff91945c61ef92c232e0f4d500bde93b1b3ede2fede33b13cc2073f760a258c961a7ef49844780d95f4893d4495c701bf531f9737d32ed03fb8ce65216e3eee906f21b32d9b23a9428bb86b16497012eb739c00258bce8961060eaf9c1b10f1bacb0888ab7766dfa27ac639b1bdc94b7b987ceeef53fd1caecb4ed2d5f17dc160f709db65409f4ff1c57df6d5c4b430e0e1abf388f360cb3a72bc3902f947b1f291c5d8432b578eefb44814f6cbd2f65fe7878e27fa670c9a0cb6fbd46505ad525d50f5038dfb8c28e8d6ece7f6885f1457fd5de3661cb0b1f78717210c0e04dca3fb40b118d531029beafe4e513e5817f2ffb2c13fa922b018be1df6fa897f990230f582a20de7c7dcc32616d1942e183acb5e3d1dfedef81913813e209918e76ce2a9fa89b6269f756515ed0478506891d4d797144f1456079df184e571f62f301058694d34527e3cc1723679c6b42e1a63b52b5cbd574fca3225fe363ecaf38bdf63079a646611fbf8de72bfa2d71de20a38a92d3bdb72a5f5eb4229c60cac7b8071d5e5dbcf57157d2ff15f2a7a0ace0576f1ae021beeee3ae07a86f8e8ae1cd12a5a7a2c61c843337400599960cdc61ab215e25612f7733482009c3d5a91de9777405e8d3e674cf3fd72f72a6d58e3c1eeb851d35ad86da597b03239e51f53bf8979318f653aa3d82922e3105fb5052b45990b0be1a918796d62145d800bfc83a1a7a2a1341a33e52b448a6e6bc4fe3eec98f6930a5c95e0df471f3024087a5cd20626f91a010ba5ca03efbc6ad0516a26f0e862518226d4603c6998479f02b4b8764949d577f5e8a85b2e310c1964d0f64bf051f127ddd85d55ee617bf99c7db8f41964a6253e956875784bf73984ac4fc1759c76c0aaaf43f48c7349f8cb186f4595160a28a2b4119b972d067712056b6870a46544832c086f327e17ae19aa07790297f81e9f4b3fc55a9bf7ce35808eeadb54c2c4a81507c7e6ae5284bacd5f40078072406d82163edc710c797e39ddf49c1bb85578ce3daedfe44dc35b99c68ab177210407659816281995aa337b0f0ec4eee9bea82e876700bb44fda496a6dd713eaad66173d787f221c0573dbd0ccad00f41a334b0d3e3da7d0cb45bea1a519d541a7e728225297f5920ce880d7ba5f03af78fbd78b03374db4c441b481528c59e9c2a9e5935a1d7663ec5719bf13a4c8697ea40cf97e308f2419a373565cb5fb1b8eb37aca8010fc1f85c00d9d7e35e130b52554c9821531d6be86a61573b07d40f346f65a33ec6ffab019d13c91eec96ec94c324604bf5720c175712a2fb25873e9676eabe92d9e8997d405f089eb330b04744d00aba13a1dbd70ed94c121480d9395f23728db8e414bc7d71679ae6953ae73749f978c986166aa742e43925cd5b82d0604676a7849720b93680114d497a961094ace6390855d7eec56db3a05b9720bf1ba88dcc57916d687c78044dd16c30f3ffe907d903846afb6a337a4c7beffe7d0392e2504cf40a8f63244771b423605d0e820843266b40f90410851c1af74f49e641baa4ae8fe9927c86fab53521766a47dc915f360a6543638cafe7c7c808c5877ee8563bd707936bd33aa1fc36d6e00bd4d8bcf4209e328a4382cd526de94e6f9ccf5425d8a09e32b115d3f36ba7f0801872fe047007a4fd040983156c194545d442e28f40b63f803d3d758410bca19b25b9e9fd91bd91d667eb8855f2044627e88f95afbb6ebc8cd5b954fb560da49cd7a477809ccb315b0d9f362cd1c5ada1159b729554e7aa86503363ad7f3a1e95fc03c76ad6af08c4d14965804cf45fc5d1db52f4e30eb0f5f38a481ebe3279d77bf65deec2c610bbad30dca7654b0f44ef8750b1cc5da55b705655510c4578a07bdbcfefcb080a40cd1e15b7a921377b945097d1e84ccdb83cd31fb153b36330bc1998d285dc168a9973cac84f6c537b5d0cf39bfd1c010c9657292ce92cfa785531e3d390c65f930bc94b3240794c8127a6ebbeea4e975cad4eb815093898e598c6611deeca65bab7b34ecec0ee46d0c383e44a12751bc0646f55bda398f0d98de2868e7849e9dde807be95191c46a8eaf7a7644086fe919231fc347ac08874aa5ac51c5bca18472bcce37cb4da88e18d61dc25b72514afbdf32f53dfe7e28d61a240dd51ac9431fd7c7bd57439c0112145ab392c7aacfc4d5f018e1faaed3e596760236d773f9ece270689f05fa13be50353fed98b69c536e19fd08a33c5566ac773a29fcffdcc47c2d076594125956cc235e637df2960037c8cbf388b1c140aa7e1f8717335d0910211a4ae76974d9393569dbf85ccf005461d007be96395c2ab44ddd8f0243d53102469ca0ee5c246c31fe6ea16a423a26245169d80430eae8a31c76670e640b4120e0701ea13e6c1a21a2c983ae0b965727625d46cfc9f796b12c14850e00346d7415b558f20bec47beefdb54b973c06ddaf63ed3120d46739c3b36167e255cc8ff0ee0e2f9c3e709a5123e0673ca1cc1b0c938c9370742c47d5362fa144bac1558d1e8fd23995df6264a93364a144200e082a71145e82cbe1623a8d612ccdc5347db664b78bbaf336b38c2c64adf990f77a72e9eb59c4ffe145fba8ee2d741c91132c192caaebf7c94f25a5755988a3f6407c252a259bf8f7d712fead371e0c37f0e9d2e3de96a79cd95e0fe9f7e2125a3b289a7b084959c06f25e639db34a4f2abe6cccb8049b96f9c458cd9854b29dc907b7f197930ca8c7f5a2ec79883bdf77a91b0638d854b3d85a1cf673caad20a8c9f110fb29235648fb20237fd94e9ff8b2f0bcae047fe5fd1fcc6981f26db17393536f13f2ce43e0a870882594b96921b252141f47b3e18ab9756b0d3e3227d26c8715f893d8fd258e8b5f39b1ac74f2c848fe2bf8a53a77a6499c30231fce75183871639e861bbec17448d5b6f72adb562b6aba24db74d49c64fede0c4a6fe440a90a8286994458d4e9e17e355ea2a568d993fb6e1660b938b84a5eb905b48c24fef01282590cb22fb5293b703b4df30ae0a70b8229d50f127972a69cfaad6c6adf1882daef3c4608b62c14205ac3b6fe7f8251b4768b37a1a94bf50aa1928063ff019e8f35e1b597c07c9d9edcd580862d2b857c9048c9b8114d0bdf7289a9e8f1f706edeb4402290b174f9520a4998130c5f3c4216d2ab0f5243fa344f9e945bfca1bc282d3b2d36c91255645370c9d1e4ae9b92092f77a2d1a74903a0c23e1b438191b09ba0c4fe3e762c7875603c9fe4a99417a1629ce6351aaa7f0a8f167fcb78473a422288e5289fa8eadb162136baa1f9474937319b4023ca715b4b115c00af7479e279bde75916e3028585598cd528d912868aa76830346ba1e08f8e45f68304286921e55f7025df09b23bd8e600ac9379435cd03051e045dd18d37b9070cb3c4b0b86ab6e8c1423c8122a5fc755eca765d29424a80b4aff32a9289b18edc679d8e253464dd5f2cd238a921165b69a21520d968327799e740fa22e7d6698a1a508ba97e3cd89241369ef3aef6f7f6e770f24a89d43f29e7ce445e9cf255dd96cd68c2317016eda1ceb8ed2b6a0857c8861a4ae164597c1d241dbe5a612922300aa503158873231a9124a4b82ff89db7b44aeb6b6a164fb9b71615cf6e2662050de0ed161caa0d17bde5753a01bc1fed734b211fcd844cd9801e86ecc63585420472143e4bca7e0c4bd6804d79e390b78ed3b4db332efd2ac78fa12244ba7f130d16260abea6251e6852a2a1c2cabf5867a65b11ff514ea2c37c9d54699e41a8b502b9b74460d42335631027edb41a299d0576d13ff764d8dddb80275ee19b28a1d1cba8c914f800bcce54a57c8f212cacf9d9b8736dcc27adde365e67f52092b342c932172d99f9a15242acdf24dd1beb5a7c8cb443d03a4114f172205cc3256441036167ab8b6a9c6e5c55e61320003294a4c0c23edc6190f22cce38d6e9cd22b2b69f519bf443a6b4b2b5701f1f610edc619bb60479509a662b47ce612fd252626582cfd19e553ee29c1033eb5a57ae79982be19a0f13c3cca751f2ea4922e17b18aa95144b9f83e1d220c4b6dd4bab27aefc68aeb9a86ef2cb840eb879a56aaeb8a6766a2f25c99e67b988381cf562d9412e7a1e7857157415cbbba101d04634868157ab571e459a6528f288fb85faf253280af27fc2a2f261057a93749b275e30bf570343266851afa8fe7b25fd9c6cbc05d57ff68311a6ef5522f859d2ebcdf15b702c39a23bd4d6e993bb72ef97974c5d4f32cdadd82f687a137889770a6adc6fd84a552a967f79b5b4198e7cb900a47291b4018a81d45f66fa671394cb73b86385335ce109ce1d4b760df6a0c47f5d6dc1863e3dd82a806c711ba52ce78e50c7f04607cee456df2ee18461ab40be3b76463fdbf25c91de267aff6a169ab369b993bd3500cb5e9d627890f000aeecf10f0c5b5a4b3e23d20b81f1f59524d73e4ed4f77c021dbd225d6b940cdb1ebac06e86a846683ea9f9cc2094984201a1ff1e847bd9b6d3b754c12fbbaefc05d722129d59fced8ab638f053af62edb505f4387cc82ad042194b3156f3bad22420f4542ce8969108c5a2982ba0a40cd0aa362497970fdc82b7af6e399d91b77d2aff3e4f21b322d26c42bbf7ceb6913fe077c63a65d86bd57349f82fea133ec0f15d4908163c30a4fe5a9fe69f77461a6e584490edf9df6ef2e669b030bc288db0ba9dccc548fe04f7277d30b3f6dcdbde1f14f5d88fa6d54fefd9a136143b0f5430ceb2b72f65fd679e18f03abee3e0c0910635da404636f7659c8e75e65fabe833562bdcd37142fcbb9550f6662759327cb13bc161caf3af8c5e9f40a60d126911073c18cbb36f459eb2332f95c13b0c32628f0cba16cd3b2600964f75aba89731272a16426eb8a3f7233379a5122ddfc5d3449c26866285d0130aa06126a212a99885b99be209bca5202cc7853a0e508ececf34478101732eaacc7262ad22fac5209c8bccdec144fbc8bda6b5d7d52bf1872eab488882f1b7fcc7cbe325cdeb7079ea40287a11557a323b0b2850793e661dcaafa6b0a5a7bfaebe9b715aab83e3366d68e1c3a5eac7b9789436545b9f9d6ec96c23ec768c2cc76909f2b2ba366a3596c275876cc289606f4a670c7913f4ad07ac05ac21f97ee443e70d0c24c2c5af641947c7a3fe14b6dbb5f937799140330b5c41fc9816512a41923b14a1f6c99fbaafcea3d9e87458e98daaf3f3f5b3dabc26a7fc1cae347d1212e3dbd3e9aeeb938605a1d995b736a9d9b483c6ab44908ef9d615f89095143c470028b0887fc716fc39c0c2503e3dbcca50f220dc493592841c07e1928b1f8f332906848277a6960aaf070512140503d2f6b34060cb41509ba80ba6e51df6d3a5d19f025da07cc85f761b874deb0c8e6752340fa42d38cb4d77374d01925357383d426c27dbf63c28a533ca630cd4ae23b20d1bbed0f963ed50d0b2fe251dfeb564088b90642239dd5b286c9173e33ad576c6f0a3cefc3ae3d518b5ef3a8b53256bfac1fea7980ebe3f5aeb2058e297ad00a0939518a19076b28bdc50588352dd28b26e9a40ae3ffcd2686fbce0a6b923c19f252ecf46f65e53bb9521626f083d3145832698ae017a030b123105c2ffe3cecdb9db9eb85f5f9f27f98a37b2cd54e0df9e47d94a0d0902bb20c67ee77e7ab318eaa1c4fdf31dcf376632fec0c0e29d371bbbac34d6fa397361c37401bf714d60970ff9dbdbbc3fb56fd9e9ad2783076c53cf13fe41efadc5f9bc6e4a5c46aec3935c343d57f9520a43bb46a52130c8a9728c764216b308c54cb7e6ab84a22121d5c277c01df96c7a616b2c5f23f6888b46b6df21d397991eb038bb9db46141091c92ecf362ff2848d9e7545b6286fdb7cf1f6b96fd4c0f8878a9378b3bc12aa7d1f90d82b01ecbed65b4596f81bebaef0aee9c969e397dd971e7aa3d552bb2b8aafb074dd95b347c37d7f23ada54b02d852bb1db273a70e7852d013cbe22b2360e3bf0960831462e91ae52678d65972dfc53d8bbca9656fa26c4f86e473c61893061afddbce085d0321494e4384ae4a94cfc51afe0039e3942ac8f072f07bac0c461dce6542f672272811817ed86740952b16dc0c27ca9807a8b3da31c6855fd234e84736fca93d2c0913ea6f5c5019271438962c9521da3bedf439c2495a3784be9490a4a2925559697ee51fa197523a92c362f21594310f7fc746241e793d43d5a4fd519b64f0b05887fe39b533f77b0d0fb811edcc6822a2e64b9b56c012feafdd6329d3e9094c1747d7d84ee401e85cf9d1f07639c4ac473194b1840512fd52061b8d2507ba67a16966d3d949cb9daadf688f80f5432aef3f70336d142095ae9258fa1211ffb1b2e1ef3cc7b1b48627737ccbef5836971c329e7c2dbf33d749a3a75c54b7e97fbbfb2800a6473893d421f44ad9691c295cf61db60240c2e2522d55ba8c516a0a648220bf0b37d046255e223955ceb251bc","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
