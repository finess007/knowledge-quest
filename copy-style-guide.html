<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"10162c196e9f177d43bc2fca414c9134fa8076adc16fa86e857df60795e5f90bf47402b5a3529f2b13b28e8bf3388fe333a5d610dbe26a05755903df5a111b270d96275853013c4fbc90dd954fe985d1797f03238a2ce7a7ba6714014f009a7882d9d06aeb48961dc5628064c48d8a884d4b1805a02fb90455c286156c674253e330b09966692cf4d88565ecc9e8420d037282107cba6df160c47c35859a820fd0e0f346ac06a537ee5cb255894803aaf5ae344860efb52f3b4049ade0a91ec3b8d442eac866ecc037e6523e89b9385b0abf4b44d0c2e74fd29002a3a64baa33b38e255a0056e60100d275923aaa98eea4c8a9da086e20625861b8cee9a246c37ccffdc8b676720d5f84ca80a8c2e81d2d9c3d9dedcc6201ff6f83303820f2e4e9d9461503b72b8286844ed60703998d0914d11e3b838ca33a27177251d239516f3a27dbee0a70a6c623fec75f1c1423acaec31777b4620705a25cbe09621a0ab3dca29b8cad64bade973164eead29bd26f24b450fdeeaeb3b1a7fd16e81fcebf3c58b42b2ab708af620d466361af269bf5ca8631b73d2718e1dd32fac52ae5dfb10949ad584b3028b436979eb630dca32cafa9a29ca1f3ebaa37887d59a56dadbff222e49360d2d8f849f855fbf232213d7a9ad135a165fdbfac1caf4c05e3d3e3e4c5a899960a1d31b29dcf476f4234d11bf2474f5f748af5641ee64fdc3610aa1edce7d0f10f1f4f7734b247264a8a8952dd9a16221c46f09ed5e7f25ecc8dc56a4bdc1edb46def9cb750faa4b99446a2b11f706dbbcfe0ae8e5f87bc6e5b437d96341324993ce014c216178382ea0a4143c8132b3fe3b99ed8e41a782865b69c4454d9f925bd5c2a44484c82fdf32d1e1b846ef8e81572704013cb1ad6bec855c6ca6763223b78302515cca34e32646e5dbfcef6509cdf6f4e071f0575180b98141cc0941876ee314cf1f24de7a9e44002687ac73d37bfd67b072e5848da33d485ff3517d7539685fd80270dc16e37ee874c37d8539c0548f2743e3d3072342056377e660596d2e51f8ec302c655c2f1dfbc3091628939dd35f2a21012a4bbed1ae12ae90be20373238397125d7a39fe73acee2b30d96aba65cef7340d34fc64d56a1402abbc04cc2eb4ad1b7e1c07ebe7d182ac64a40876e65867074b8882f10c1456b714d327026152467c0ed50e89330125c7fc5bad4d11bef98b0f8593a4898c3b4491c5b63a88490e5ed32858d2fa740244dc0ab20c19e84a9fe10425bca3787bc979f5724780a46dd29821f64a5d33409e0e47f559159ea621045f4e0e1bad52ae475810bbc18131417578130d4c0d463486437a6d8cb6a87605c1d8ec7059b3d46ae0448b4f0ce435efcce658f6cca4b6b720bdda2426796fe23d2496cf9fb277d4d0f2380f28556f96a2f24e47b41b91e611229025113230cd541788875d185d34a1bf9fd075f38fe54879b9a7b954b988b798b5a378b2a8a2dea5ce30d103d9fcd312cb05c1e94d69be15a32619e3ce9b51eae74d7d50096ea95364e142d0a943de6deef5a20ee5ba6ce374a584b99f27eae9b266bb7b0d7e89797e694117fbf24adeb154b1676807010f89e74daa5797993c5ef2c07e0885cf9d356301caa32f20eb3ac4f6bd4541f2723f8040d2efced12cf9f774248c74dc2efd4f8e2e1307c6b1437492c8a38471e8896105b18843459482cee2b0d6cb4d81d8f8058fe22bd35bd1612506aee335019746799d83b527bf0ec6ddb451f940626c3e48d91abb882fd1d04035dafd9b06f4754027958de98a4326b1fa86f9ee14e600f56fef8076bafc9c26a67c2f7dc8695270a31504f4492f8715b189908b1a8191b13088561651aab99791d31a9e89eb081056c6538494c3b206b4e35c2b1914fa35338cbf27ed52df851b171ba68943cf969f9c284547b9a33e941e236d9470044ba01ba56565775b1d7660c9be8fab5d3c0be67f8966b6bd5be129b074949fc575fe9072b70cd7acad5136e6acc872961fb138cb10e6fece0977fd37ea38bd43258edd9276f741982b89182813df87a52ca1181a57110949dd6c21c7a69496542b4ebb8c1c2cc1fae32d62335ce0e54246a7b201d82e4aa3514addb45a8893389a84f0303d7559689f173fca5ec0613a3468e1be46fd236258fb5af8e13144e193a48a88b1a219d709f40d8530bfa4b3d0c9dc520b46c7ccec27cc9f5d9f5eda40b49e45fc24e67bac23688ad8836a2aac32730fa0e306dddbe24a8884cae2b3155af7e28efaba30929d02abbb24d1b25ca1c4ec1c204ecfa1a0c3b1664f30f0b9d7488d28119fee26b6a5abebe4e9d35cef0b9fc35197849bfc01ab97c4cde9120cf848637bdd66b8abe4b8f9151ebe13b054124cd3c1cee202548351cf868861ea0f4fc1608dfdae67b4863b8c5d29d3f611d0ddac94b2aa876540c1313b2733b08382d026d1d1b7344fbb94987e05e306335f6dcc1178f7a2274b662c16c14028710abe53746b489fe9eb61ff9ea0cdd8fd4a268c0e9ac4c1007a0920803fd5119a7b4477eb79c4038502b2951776520c0501e8a5e89fd41cc96d8d92caadcce1150abaadd2a161760795ffbf71bfa683a2063466dc018fe1e439c2f255289aaed6da22a9dcf3632288a284d52016618288e8b2b13e509e80c11f0912183b01c236deeb14ec117b5de8d8c49ebba267a80e64d974fd44d7f2958e209d0bd3670510256f6b0af5cb3f52ceabcb98143cced75eee2a9854de281d304c9146acf15cb8faa8658dd99336d738990f51d4dedf9bade4dced035a36989f7d2243481be00c8afb9955e126eb830c74262a7b42220fd8f14d0d7c9af878acd55c451de70c829082667af87662ef8c3069bf585218381679014df4d090ceb304faff15403666825f27733f54a3ff89f77dde70fb538ee9f0a9eeb3c2cfc39c955a0eff9c20f59c8bccf9c5595dffbc6a4c1bc030a4b35ada3d47bb81b4839ed524e9730fd583f3bea3f45e5da78a3ad1a1862998e8eb24e0cf14c7470b9e26f7e7abfb5d783987d775d2c45856f50a66679e72b5c940fb27290ca542a5af37cc6fc2fe516c65c6e269f179053cf89f83658bdffaa8b0c10f64212a6a486721f2dbf58fa8829bb589527f1f1e4b27d690f65476be203f106f0d31b7e07b57698a3fac176131c94aca086d6c954dd1dd7582de8584c091420dff4f277a3ecf81c265e80c3833dc0babee2791e4e35734d958279abf577bf207daf81a09d8d7b56dd34ccd6b085e73aac722ae8374a0ba5f6dd6007f333d40ab2bbf13c67b6aa2398062fc70bcf301a773d8b2b6d25c13b5af1e11ca5c40dceb90ae120f3e34b82711bdbbbec8e388ff7cfef6e904b0b23d5331b21671f7a9e309a8a18b736fc1c4a637e097041d7e929dab74b2e7efc0304466561e8c6406a432f8cae5e0f4151503d7cb5820110ed8739eda4983426de1d0839035a75d22599b82b71e3e92b3a68e75cea9c50b62e4f894d62b172203d3242571f388a30aee75a460c4dde1d3d146b5b234179b154a55d28596deffa7ef2cf967636040cfbf28067f08ef53236f008cc7c188cee56c910366e3f1f97683a54c364d1101fea176f2121f866dfd2c932b5da0eb3a704c18c311735c0780344433218d9164b4777b33018942042dcb7005a7759cc87fd48f3b69fb623db0b604711c4192ee6beb597dc98622966ccd15c60ec8d2dea2a64431df9997c65fe0b04576b13f50dab58a17c470175abe4924523f8b46f595f1f95123e79b5a38701f155499437dc7d62ee6d2c3f17794c0f92ea63f40f9ece2db8fa87be9c8af59eea8afde9fe321d85d6f6c791c6a8f141b53b163cb20fedb9176a58a46c5c44237344f3225ac3b8fef0454f8ab3a752c683481ef5e6d2532671b49ef36f9cad8c7eedc1af7df5ecfdb6abcfdeb7e0e53011653e4d70af35c5b48f0d9fe9395919d8c0163d1dca1b3e7717e0d94fbfaf1c63043eb93c510d10b5d3ca2df1a9df96efbe2ef0e299f4d369dcc767546d9256f200199ff42c66039722bdb2a9c2cb7b0b4c08f933e9bc165fae7e600a94781bab842a3119d2b75f9a982be2225db80bbce66fdb72020d342d55bc4431494bbbe275c097a0013fff80dc1e33e88f012fcef260c4f5fd32a70afdde56ef68aea4bc38b223842bdd6c4651e68cb5df63d3fd156b7cf40b59dbade6f597f7c4d5d57b341a7ad644eaa393e94330c9b5b8d9df042793d03fe10fadbd4b93b2b560dba3ba6201be0251375befbde9f243ff19f62f9a1c17f1bb40b50693e5ea8932eb2ecd2a29e263b8cc5d02907e59c273dc63e534cd6762baec1315bc6401079d74578ba23ebd01c6102c90dbfe9f427c7b58ad4f4593b3fc3297586b7c2b78704d2fc9a2bc3e1d9275a01be29c9997de33954a7c5b582d6d178db87ec156e6879fd2cc611ea20c68457b1473dd394f9ae1c886074edaa39469dbaabb4e736ea70e083f252bec38ea251b64d303de98c684ab7c909629d5cd2c772e27e50f6b6e5e69ba66eff21902276c8c8e4586072a229a99ee5be433fd29ccce6ef76d02079dacebb2ad89e2086e0e90ccae6e0c4410646001200d87a47b5a9d24b2fa1cd76a0624eeb2791c1be329e3e61732f713e6aaaa9ebda964be46c4ede591ae324127c565e865d208a5c9a767fe19aaccd82118d9a17d0b57bb68a87c4dc7b494faa46df32fa29651ff8555f35ea1caeb2355b14f2b7f3245d6f606e0ebd7802ccc4e5d3a9fbbfef5c7e015abf2d3dfd2aec60287716f83cdd1c5725d80a72949c1ab15cdc31304053e7a628f68af6728be9554fe2840df5bb514fff062f644d629bb9832a9aff80eb4d9c3293b056d39473acfefd2ffd8c54df1a26df404dd2eb7c005b21bbdd21ee184f49fcfbc87a44860f6df9ea35a3c3926ac40de9d7c312e97ff9e8856787eed2719d4f6d7f00a89aa2c5f68aa1240978c4917a21b0f872f0063fd118c9be94e017964e1fc12d10d1b14112a347a52fd39f820733bd1ece5a2befffb0ba69d03b475cdcfe3bcd808cac882362e5353bf942d2338a3ecc2f359fb3c5c47122afdf65959cdc2c69af99e38dd8857505d912cfc112c7684c32789d389947c0f1093d579fd60e1bd6d51ad2b41ad1cb14dc853ee39dfc3472a6c44c06b77a3d76672995bc859ef6e1d4a06166a44a5cadeaf4caac6f2ebe9a0764e54df052d4842b2153561cff80718b0c9b0872bbec67e0c2fc118e3d75ddb74691c41a280bdd6e8c16b3d0811af57e8738a7d08c0bf0da3a91fc01e85707567124e2f592f129c1c678ab208fc884f243bbde756b22b2a4a7c302c556eb68e236f5114c8daf80cb7cfe3935bf2fc2757cb752f4c87a0542d9ee16cdc080265999203a6bfe18047dad5008e3900a38fd282dbd8a3d7e601c0f0895071257a29f82d8fe7571c38fd7f8cbe930a7df078512f898f74bc19bb54c08e10e10926297e74d220a39fb9ebacea5cc8101270c1e790035a601a0ccdd97bcbaad7ef97dfb15d9f53de06ab623e9f954cceef34a5b0e3fca647d92149b4313242079c7769315ef60d9973ba526b5fa71fb9ad2643d3b871ebf0b3f835eb979104485cac5afd7c28c6f9a4046e3b9a06248c812d4095c478bce80172ed117c1f8ad4672a5f581d554df3973f596f3795f5fc1c19ac39bccbdbcaf42fbc94badbda6f73437da48f2aa7ef83c47fd43872ea4bf0022b50c7457013fcffc47fb4d2d4d85982d561cf555c4c044016d37083f24d955cca2dcd252ff1d534b90f695c616d3877a81fc2379803ec0f7f41db4c37867bb42370dbff14f1cba2faf93c4b8aeca5b1c4b795b1993ed00207d3e2f736eb99b02d08f2a5057bbced3fbfdad40d1bced56e3cebcc6fbe3d0c413d6344ac013d4b62c0f380b81a04d4cc49eb2c6c0b21b61fa1016cf092b861dc1cbe6a3c69e42661cb44f64dc83fab0382a1abf4de50d35a4ea870fce8921fb5c705b53f11d898eafbb3f6674f8633f7efa251e2589f5267fafdd7b3dc48a52c6853d20cf17c7102c73aa76f969a5967c4947bbbdb303f361d036e05e8a38d74f1feb3dce6bb93cd04447b0a26f7ff744b0e41a28e8e225cc177df7c0dbade956d39ca6ba35e7bd504cd3ffc15d1dbbe4a9a97c971943501418fe382999749f732b5085d1eae8c1f8b878d3544ef88f165fd9a1f11f5e58efe7df8c18499acbea4a0b0349dc006a6d828ebd0c95edd0fab3bb0f5a12f6d090e3ff4c7a1f8291fd7335a5cf514c92295aed05cb17796cad73185b1c10a92c035a32a04d2e000e3e75d09a7a12743db3b473e01f139fb81ad7a7465e29659db7bf2787d5934a11cd11b330b164bb29bcd9aa9b4135eff11dcea1bf52fe87c4339cc13e94a36e24129c240aacb2e355d2b086b89bde849c532db03f250ea20e67751a0d88c28b62206ade355dcf095abf67ec1c24518746ecd76443f18442572f76fc0ac020d26f46cbccfe20b8d52c7525cf90a3659fea7876320bf57d2eb2cf1fc1ab11d197071b2970434fd11acd0d8990771e04747bee72866972967345ce273d7f0c979139d6890a9daafb7e5d48981c8eab8163ad8cbc042696638267d7ce78c0c1196e9aae094ef7db16af8b725f994b079d2ff78081f52bafd51b52759ed6c0d75c9dbbed8a4351ed5d4c9813022a316b84d8195b2853a93e805460b016b81ddba89d3501158f813ae3ab9fdc2e5b428b7ee1360eefed373fe01d46ddf2f6b7e09202461aaa04e4e134f649133f29fdb47c4d5a2caac4b2a0a5cc19969383f61ea1735ca89918cb976e6be5c5fb11fe0892f66d4301cb61d3ab14649628fc025feb4811364954967c571277277942e7ddb27825b3cc885d2963bc702c3eddbda0820f7db245c0dfa649aee7cfbba7bdbb7cab80dad06181382799e7716a03f9b08f4815677c7e55fbf27e1aea3ebf5f7b92468410cccb68340ca194bb4b64ccf2723bd2d23810b999993c27b6c11612cec6f709df9747e7921b9391b0b37351f1aef31cc2e718c5a1eee8cc623ec56da42b3a5e04df168c1a10099e2ad97a2b259e326d004c8b1f63d3582b5d72b04389958cddda742d585c35dd47c78d50c543c88094576dab71676804eeaa6797775a1da0c503ec6d9407ad6021db569e7c205385f9365666202e90c2780b9d6a3e8e5b6a6861243f55975684ed0d5bc8884467369cd94c9a629b20569a8cfa7d8dcb5e0e228fdacb52e28eef9783f20ae108e28d194aafbd9a0a2658098f6af07772f84b006c9d5a931454b354818c13c7f46c7955122fabe1f286c815c987bb86b613c50bfda1a873b9cbaebf6f88c2ecf83d70ea4068e058d33daf4ecb4cac57377175647c29105251c6d518b51c4cc890cad2087a384f774b33bf33a3613c77741fa9fdbafbfdac6ea16f616156cbb988f4e65a793a3df01e1614ee24de6b57842ddd0661c124f4a3a3190c3e0d461fb7b625432d9a0bc3af5390a044ce967c4928130a40d9698b455edfef65d246b04a4331da999f11acfa202f9fa115e606a74e49abf30eab411bcccdd580698b30e2c0e43bffcdf1ed66ed961bea364231139a06ccc29d622ae3055649f81526da87968d00d39491971817456644a59e3db704a397f6f777b23a9bb48b4acf5a409e8897d3f3b02cd7e700e5af2e3d631aefe6c4fe2d7322c358ab4386b3e03e1bbc1429f33d5c125a4435f8e23ed54f71137a439be2b435aa44691ebedc8e99cfba1719d209bf410dc1175c24c03b33f2f29ca2355101fbabd49a1fdb0d6e158fc15f2aea2aa67d78d5a2f1045d433afe666827e69ece5483320d8708eb9d8a92d760320445f06418f3f0b83df20ed4c284984806c39658f0db0e8c7d47993f963bc3ea6bdff51e6c5c46471d62486a318edd9f0e2d5bf9e83cf0406e8d11ed63b32d8e419c9925c00c61c494c2a80aefce214f3926e57424bda504ab52070f46f6f4696e1d3077d403f97dfdbb517d8555c9b9f5e1ae008ea5e21dd532679a18ed7c56ac811bbdc3ce13adfbeb2d9209969cadf0ce93fa6137e23e92ed29445e1888f4cb8f4b5395cf941fead29f5888843d14fdfc6d38ab341d69b28372d4a7de5801510ca49f761012986fc1210c5f56b253f82770bc75c9153988c1d81cc730492715d9ad5607d5452305db650918cc1b89d3232f5c24178eb83979ee68cb48ecfe23732013d71a9f878396ae794cf790287ae28826061a9a818386cb88d7b1cc9508110dd0f09ce5fe1dd5fea2e3f417269e50302cdda18d1cf11013b9dc9a48287861c28a3158643423ee441373d1cdb166bc7703489bfe4939b167d2ab96d5c1416bd2011cd327d9ac591ef8ef394855549c078f40ea8dc1f9159cd22a9fba1e2b9454e9df31a64a48bdd8f4922ea98a018c589a36a40053a51b40c5b612949e035c9aef70d64582bcbd5a6576f7e1ae53dbb6a5851e62f7e6833348a4aaca620a23e63248d22f85e25c2c5ed5cc54c3a00765740e0d58ddba7a3a38b8d4a6b20cb405ca34d3d0bbdf70ce7f1fa61dca2939b235b1e323f62e01bccdbf25a4d270019aa7a9f17e8a8ac88df89236869a990597be2bb21c3a5c90bbfd511da0a00507d642d9dd31b2760bfb53d1e520cf1dde19c3b42cea0f780c493662dbab6d450881cb9daca51f5a0a43a2a626fa36c6141e125110c482668e10d91233df3c32c2eab1a42dafbc6d6cdfc47e1996ebc7d5dfcc6e861efa793415e36234fc5be6ff252d5fac9771ae8f30b79c9a9027d3d452b3ef911db757c483328d7f3bd8cc30730e180d84d2b07217ac5f44a3f1968c65d07135ddaf6926dd018d0233a3f0d9a8399b59e820884164f32fe703f997a7955db67840d1b885ab40eb597635fd025604dce53f10e5e7cec908e662a6c846137e318fc684f44fdd568ad58e547f16a607ea40184c5b4a28e18a862430bdc19b817e6690bcd4b17fac7af67a1bd0777b233b0f29a4d935ff52c84987b4212a8b2d43fe60ed4e6b8872477ef90c28810e2d123f7939fe3f2d89f67cd161f14e1850aec640dcc4e3989ebf7da132cfb87686ef33f0f3753be6c44c41378452a83147ee62664b771c7d435ee1a1565c3df2f62db6c4affa4b997835d2ff479305455ca86b38d4648095644b4cff6345974ea9b4886fb7ab33b6ea9a1b25c077bf1756aa7c0c31a3749468538b5f5d8f2abfd3f7608cf4e3f5741ac277b08572c57eaab9e23393c38f893abf9fcfea3fd5b86d4d60bb4d584b6e3a1c112315fa5b69ec0913653054d4e476c85c9416bfb1dde476ee33db26616e765d664dd7792897b5594363f0ab92da837761936645e71dd41a3039e8c4969d0f20dca02f2562d3f3c995c92c80f2bf10930d27babe7120b5a71abf83c60f5a51885d3a6e7b375cffc3256f7d60ac6222be2c90d8c3ded4723e8b5c77728997dc4d6ff732f19db25906a02d9f7537b686e7cd76dc0579704d96778e0febfff96371d670c79e44a084434fbf60e5c96ac3546b793933179be10d26c361805b8ea8134ac01fe4544ac29bace1eba26874b077ba43fc05f89ac2e70587359a5a55ff1c6c5b68a56bb88c0b46bc12719123c274d211368e66188ff3a9ccd5639e0d7ce0842cf62fcd0b7d535be8055e346bf07465886e1f3d6c918d1a659d6fb277a6da1f0d1fe6b89c99576b2d8c92264ece101c732408ff4c1c1aee93bc6b304bd12276ade1645ca58075364c1ba56d653c04776ed7476dfff676b99505fb38f65fb7eba1e49ff9ca4f3eb88a8c66592ff33b605fe20e1880da2d24fec77aee4c2a313487ea91515de6c7a2929bab307337c6b4d18d1c857d720ef7e58b215eaaf08547e01b8278a50456210bfb3bbf1638d4c949f6227e30d4c545b79bc65bd9106a8c4e64a39c9994b67fc7ed2c3ba515cfccb270fc8b0bcf7704755aed9bd83b66b246a68d6f72e698ad187ac20b873bf55c59343f5919007976923c4fab1c26b94a5690b85530b2da9aba0f862a41c5b27f2ecada62800e37d884f20d12b4132788122fe9d391188efaa585cf15ffec5cc237dba079f8b62a5e204571e933350bf61884721e973954fc876eac031751cfa756b09e3354f7f7b280006271a8a4fffeef2344d6ab4e876e29fb7a26844445750b291e29f37961567538a44bd03105a271973e5a35679932efc4e60ae646b0e5d8a20a7806f760886a1fa9a106f13934d3c1c69eaf763e70bb3228ddfc3dc6baabcaaf4ea5128d1b79edfa74359436c15bad74ac192484156c200db7e0d6cc7a7830447434b3e11288b689d47157286829a39dc25c2ac1434e022d6b1073dcf3d27d4d2dca9d452dcb3fc54076fd3e29917da57cc95bcb2090ce843a48695ba1869fee9d9c0b6f192503eb84604a00573a69353ac8bc200e713fd1e8f3a79dfe85a09f4d6a4938d771e7e79079f1542c9266337aab84018574b3bf4e4c68182b9bdd9e9cd2a569cd606451517d618e3316203dab73810db1c1aab9c422e4b0f6af62ce43dcb38cde6e8ede1efdf90ae04dfd975fc77a4e02f8d42281c752c6fec74d7ec74ea319ef025248a1622640a646910715a676842008009e8a101b69210242401775656dec3be52eaa095459e4ef6dfcd1ae17d68034ad9c89818da30eef5e779fdb72b4b1db04f29640a9fd8df8db251c14645387261f8aa2bab26c0db3b1178c2db7bf3ed34077dae0fd5488a88948b27509c9770c8602334ec86eb75ae98187635fea53ed229f8af5cf8f1e26bbb3b17444cf400e5cda3d20a89ece46fee39d08c06601fe5bed0dc31245fbbf9cb319787e541ffb2215926e88228561e63c5aa413a4f6af131c4d4f21b52e36f1d1f671e0c7f1466a533de91c73aa13dec23094ce6028b41dc6ff928b6b4fcc13c32b164e0017d8c61d8f9565dd11181c7046ac7e91f044f0344bd918945ef5cb1a1f1c9b4fd28864e474489880ae95319a3aa0a8aa264a1014a6e7af613dfd5e7b5f9a198063e0846790de2fd69f4314b233c4578e87f554a3941446db9159e7f921979e33f5091a6fed1977be14233263b8905b7ac1a175161db2e1a7eaa18c63536fc7895d9919f907b3b32b6d855c66466b7a397ecaf8b559eaa8d331d1c746dd37d57b07e914bdb65af59a154f53ed01f0a2b89545d8788af2f2b3857cc0ad6e0d578cd2020aad0a0f2ae65549662b28caf9f23e1a5eb5a005b8d6f85cddbac3c8997a9857dc61a61212bf7ac6b6e2345165be6711313e49779bce2068ec496abf6caf4c29446bab39173e37199ddce41f590d14395960aab855fc67068469698d104da233955cfaebeabb5b1a2981bdbf11e87c98e01914e553266e52aa2c9ed738bd93c6e49d535b19e3e21cd7dfd52fb19e3c9b2b030abb68f34776c0c73b53981e310c8e4d70fc2fdb913162dbea8bf11c62f274201e20cf93d7c143ba8210a868c3bef1b504d6bfe4373e5edd5cb7560c0b9b24d74e7839648542b67a6d19bbace428be45cace709cce36b4e128f53e865a04985cccc77b2575775d45ac7293e8ac012eac2053e70e13b0d4e372848e8d1967a8fb1a386ed07f837e403760be74ae7bb0f3cdafd113ab595e9087bf24e0d1dff3a54d046feb6a171d4818b0478b5a2475015eb676489ef31d3efc635c3f96aa35a6a247b23018e5745e58e06f8922a0acc397d9600678a055d925c4fff9f6aed61e30a86889a9d33dc75373fa49b45650805decc23afdc2fdab84fdf26b2beb83ffabf8e0651b59450dde218bd525c37a95a0b0e09f91a4e773fb991a7da03541a18543490f770beb13fa7a645891951da564a9444d3daa8bb95621fec642fbcacda24c39f075269c2fa3de7d2d0b34eb04a63c524cf6d9f07d4ea1599a97667f007b64293108bd35ee82e298a61a7973274fc01a5546fa42d7196c2df6b69d96c642398c5100907399fc5730c8944620e2c002fd2cfb10ebb2e09ba39e0afb5f9fac56a5896801e85005efbeb9133c02ced42aae3d795f476a92587c8ccdc11d837bd462e047b9835a4102e1f36a8b63766d3f9968bafe4fc24303bd1311d7b2b071fb4a56f9f313d8f119cde4f511a05ad08664bcbfecafb3d7eb13a84f37671ff6666034dd993a62a8b6d2d1db0918ff5dc53b0e34b6b5f868343d60b64780c5e4c91855c449df9ada3505d557cf5c511802a3fd56b004336062ee73e404aedadf3c075b0d81480b248ebe695be9da6b414945ac06e08eb3e248ff15e962c1f55f1b8b73419d88bdba3a12e6575b26f23328046a60b49be21ea2cec1ac1fd00a02d93c1f27671fbdd19587c77735ee8b460bd73474c11957e70b5f07939b81511a06394d9178376ee10731409f0247c086dfabc612c0ddd2d941c90e32cdb0f92703340c8aec12e09c402e9fe477aa566860d33ee039267552e09b8f8a1d8ff89adaf2e251da2919845214ddef4334ff0584c010d45fd551feb0419f6db0c65de62f3f7b65484dfe96bdd3a808b6b1fa402219bde950cf34cc5fae46ff47ae3be4ff50ab5028bd8a6ec754c8abbdb966aa444f61a8eab9c55afd9b61c4de4269bd401689bf87078f91656c66e3c144a0176ab664915a89adc0e4b2bb8a2381d4ad6a3a04b43b11f4e25dc77eba7a55163d29fc3a01108fe3a4febaceb48a3ff61ca548805477ca2e07010f73100124ff4df5f386eea6413cf65358ce9d1e84839ab28f084853bdae034b7cc6d658a044c49fa061dae608b48a716c4f95d2b505de4983dcc5ad90ddb67459f3dd9ad73c40599e307940abd7f6ca1016aa9b6998b2df4c3e18830c674cd7839d97542b25f1138f710659998d0ddf50e76828789a1a54247a75e052e17274bf7d2c710135070454e883ff8edd07b704ebe8a0d7514636a331dc25e6183c3d86f94e77297d5b0c2df69877bc3aac361d8440258093aab989f82f261563b2025fc77666f40341f160f094df3dfb21cb43b657a8f94d88af736d4a952d52029459dfe31eb6ce454f3be9f877fb1e23f5a797a6e9fcd1f5452a826aaa41741a8f3ef0ec8137a23c50e5a46a52db7496df228b36cafec5c82a200bda861fa5e4a1c7cd00ca6a247f1c4ac45fa45d43eda427d263fb03a3bd4313719985fd9864d05dd1b4abd16c217b686214861c4108cbb4c7681c9c3a8e9b1c625b07979b7bf7701e862b08a904601f1e003bc0c6bb66109f60ccd0c57f66a45c7fd3236fa4498c170fb981e974bc80613a3baeb7d65e5fd12db700fe1ef1d156448fdf4a7e47907dfe5f9d86b2a084b906146af3065b0c648609ef665ce97919f984d10820a1b2ec01122f72d7a0ae5a368c41311a55f1beda50bacbf77a7670809916d12cb47e07acfa0d9325978d4bd11850c4c735cfa1a61681adb44b1b67b9744cec3fe84817854897486b8cdca036086c8e70d966072c08da91b0885d120f4829374d64170b8fd23abc629dacc501234fc6febe874b30c6c29f49f07e15d1fe85e6df680592705f1741dbe1e761093791bb318b8574ba75212da72e2859476b691655c5e1d6088b77b9a23838c0e638913bea0e838d7af3d6d3a33ac03522534a86045fca0ea6f8ced78a0a16daf908fb9b52a48648865eb6aa7d55fd6e009e91d41fdc06b6e48e88e661ae7b857cf901bbf8a1c00beca56ea70da31c407d3a321be46662e87263be90a0f1419d558d5c0396e5a041d2b8689244786ac535faf01fde362724df7df446a7b9f31bc91eb718c797a2a396b7c2a06f129434ddc195b41390f02b08892d47002aad943620b499ff18cb4d1ba3c27857320daa51accb38cfdab4a4355461aac525c64a758568ca3c804f84dc5428641494d7cb31efb184e7150c6f15c203dce7c1764af2af54b3b49441d324e18debbe4f157954d34add2af93305791042fed4ad4bc63b5741b18a50027fa39eac102e45175be233ee5318c8d2fa48204cf2c7ab9d0735ed31d64fe85c97fdebff326f3281261422e9f810674e14d50217918b066cba4b03d4a5a79b12c06e8051b8b6dfd66eaa24fbfed25b0269077f14788d58f4c37d3afb9c87a20ee7493e9e66ccc0622f74fcfff56c88c35823b5d6d3b13a63eefed2d8d824b8b72c3ccb8c3cc78c8f8f9709c073e8a2675a6f8e4cc624ad0b27aef3bafc583e477013ae2fdd0d2966193fb46a28a387ff6577cd51bac88103ec2c1a17290fd640a99aad665c9fd0e75429ba80882cc057874d5e1d6a1c532632b456b23e594212a5a5ee6ea012e577426b0605635c80dafd8d6a04dfc0d7556f9fc9b0500693a6551ed7c033c709e3d67bc65102e4ca8197532ba53c24f10b1b9d5204710077e6da4c7f8418a6813c24413c9995dc7f7688c243ec671b7a4c4c6feceb54d531934563b25fda11f8d535c5e540b82bc7cebd6e6e068eb3a13fb90f6ba1cacff7a605214e58da738af7bc44d34044e33b8a0e7c0a8e15b4e93b91f19f071e491446830552d3ae1ff0de491d3056a69e2343347d48acd4cbb114772c0269c2d383a3437d8cacd5f933da22969a77617df97710c7c1b1e82986185e4a004e3e5d6c2e65440804ad4d13c416be8816331a955838e6081685ef7e9804cb993db19ae15a132bc4aba69f074fb767c4067a48ac45d86d9e06f1678874fdb0aa53d5c3b04e70afd31fb16f581066735820f9b23d35727eee29df8922f338de015ffaa8a424f80e104fe78e803fa05bcd29f58200c8d137721123372e89d770ab92ee6beaaafd52f106d84497b53d6d04ac856b8710f9ad0072d91ecf0ab87704bc680f0b8ee627df5bec7c4ba9d2632238c6e4ac5e8f008df2ddf96139752f1087be9483e49b6258c8077436aeb2fd4bbd0bc64725155254bffd320ea0223000710ad85d02ea214c281758eeb258f267501acc4b212dda88d23a789dfcbdacf3afdfbe57d9c0787911911aa4f4b542d3d03c958d386dfb8725210cb20349b1fc87147610a8f11c1439368b9abec48571e6342410219145a145f9f3615524f592fe270554adb6f5aa4f6029fcad83be9218c71080fb06b411e0aeb99a9722d8ade25cb588257d8341c5492f00f955d1d09a0720b29d436330d4dd5bdd41c95ac111ce71321ed9b24e8f5d1540e9e2bee7dc7d4d7ae246e2f9d8f4907912a273837618dac020496f05eeb0a8c2c272139e693318605a02871914b871988985106c7463d942f24ec280201fb39de11587c193844a3d0b1f15ada6548747041c57b2fd0274a108de9a3397929f5020f017912d29a537b1dac4dd0ffbd6bcb344840860b3deeb9832e2c92f2a19a17cb94cf8a9686d0fe70c5029b80367e2f0b7f410f1b16f6850fe8f0c757a3f50020ae907e23cc389d280797900c1ec59505394b24e4d2593e6e306c40e20b75a8ab4172c035019dc72b7737686564a5f788d442b1a743e6044c7c64c2ac7c76c9c916ff9511c846fdcbd260658199d4689a0a065e8315f673940ff62386fdbc86af03fc622ed1b2750b95d4089eb7ef6fa4e40c6b33340a9114ae8506e0d7cb73558b69679569d34b6530b35d7666677097fe197b03f3c775c7e50acb5d9020edaf93d99ba216f05678af396cdbd9861b58289d9eafed81d194d224b715a4eed0940a60bbf394cfffec50a7abd058bf85148b5670b199a5031c755fe7f502e4593225f5c7f650e5f4027e4421215eed0a8ddf96153d4237cd2215818ea9de2bd8fb3442d74cad9ea88f8f2b1dc307b5c2b622cb5de5f316b64cc83008c46c4043be89a2ea78f1e1314bf064a866596687f88c59260bfdd0846e1b0890615a549a3abdb3cc86dd1310c6a4048c8a941d5accf0c22a651041094fd68adb2f7bd8dbffd5bc343a7dcd75aa5214ed11fa458b54c4134644af459d28ce864e652de56f9c6ce11808dca621cd928506fcbcb1cbc949a24a4a81b08653b6c2315f979c7eb923fd8fc98edf289f89fba6148a5fa6c62167b85a7aa23a76873fd3ca1b58f137e0af5ea777ebf655c0fb8f58c400a044df1aa7a798fd4ef49ec7bd0a56262dfd86002078e5b12d305cdc72168eda0c889911a5626dac6dfc64c349b2fe44eed2d40831ce50dd65b109bac24f7e56ad925dd04728e460ece9237e426eb6335a7971e9a1662f2e92ded30a84d82f57dbf2d4a5de477ab8bb7e4217101c1aaba2ccf59abd54776944f45d4a3695ad38e2861581b6110448e9fb7c2c0d6fdefaf06252a98eb7931c4e07e10a81b4dba70455188f02518fa3597fdf9f05a4b66677e26dfdb7475b96628fa7a10177307144c45a260788ea17177cf3de8b505a1b7849c4e1533aa9dd743915b14a7f581c162e0bc38c6fce5a86ae94246d8cfbda90096e7559cc9e242e471f6f5fb8834667329bb39c22d65b2b8b979eaf639cde11be50356e0575ea3e470ce0ff8c6f26610eca7c0d58aa5e3de03a07a1b63b507a26cb396ccaceac6eb34e833fbd03f53721b37167c028023f0fdcbf7e2731d319168b198c4e80121dc47fe9de503102468b2379b267140410090854c80efe575811274efdbf102a9fc3c4e0506bb9550948b8471310ca7c08cb4d73093384b63287930b6b7436868e277dad39d5bc405190cefb5799c81ede1dc90551576917ce4fb84e6652ee163f0aacf7b1c1fa71f85acfbb0fdadb5b6b41bf67f8df96c8245b961b6601fe3e1e7765ae24574b09e848343ef191a11059ab71909bfdbcf12d04cd4e9c7e1dcd08206ef30a9e54295cf5dff9f839868e737b5cfd109941584ab1be664c8a8e0dda5d99c23eae73a609128e440086c5e44f0936ec48e684cb89d117c07ddde62444ba60e42c28d27d047c02d320f064ea5786391dfef73be3b7c9e9e11c64fbe9d9e20b70571bf1818727ad20d596e05aca7d8aa5783b1b5dd1cfd859428e3118eef05764bfca7b4a91080fd958cb852989c92152be5b7651e9c28726c022a69669e6daac018c37c8c5f4b0c6fa50bb24aa00299af3e0b072fd3206b32335a99b7c2fde72604f418f8a02d59fc29a0511ba85b78eb1a35b795e075eac12ed543a49f1c304da06cabd51c19237bac5c84273be2f038f7eb1944558139f6f2eef2d8707bea43d86b4ed01ef7dd605c191512ac8a02e8121ea615c89a6e4f24f6045195c3d56695b9364bf8a0f0dafb3300048009ee2d85e84ef09eac1b1d7996ca90ab56f34d03e0d6714c96b9c282ebb3823928ca3834881b5af655143cfa42ef59de659c5111a4c8aefaa60f048c6a009fde768d4f629bded185473d3154cf93da80a5d59b4ebf8d61ed14b822b310998a7224bcc8247191dc00d8900800430be32fdadabfd010181c9871769a61e1cee32b87d8eaec163c70fa1c8062527de96b48ec547d1c14eea479dc5f441ce1af69dda2eea5a944b96ace2d687ec714bfd6025927402bac5e808b2f5950717992e2a9eff55f6b6653158926f63d18e1d043a148c55513d44815a071dd0de41c9d42bb35e463b06e44632cecac0ffeca5b685ddbeced0393230ae1ad5e8716bd2c8b41d2090219dd3db5e356a0fd73010ff896bfb7b4e02a563a1435305d7fa146c8ac50f212d7c3f0a51c11b09b5a17dbb55fc5acd315e219373baecdcc5b59059a175e9065ff651166e52bee7a0973196714f60854636eb99656c1679a9a343fd3a6c9eafa4db9a1eb1081c93f7a6eefdc459136d706eb21a4f326ede163fa28001c29bce7811b0084c9d92ec1d63bc4008d223b4d3ed243a6013bfe5fecacab7ef718275fdbaf29f5be9201d185458c2f86cbae7321e2acb4e8c940d58128f78f4ce32bcb333828fe3a8a49378cadd444ea666199c1f9f28724d742e460922d9f6ef00789c5d462a66aba939156d6f40d3b774fcabc58406b0184a75d9ab946e90422c99d1b07135d91f0a407ae4f7bd21d7e08b8df8f53457f8faa8a9e1b231af4f5117eba48dd158ea20392800b4fd4e6668c1efc27c993d994cddbe744f85966d024019d28145e929fe3cb1bcf576c0e99262c2ec46fc0540978853346b9c8951832bce5dc7086b8ec071f76e95d4ebc653461df3c000d6b2a7def4516ce54dc9caf4f85690adb203ef0e2ccefcbc1fb5351e86bfb7c0d56041e95ebdb486e102122fbe3104602d043f437dc7d9c111d7db07684c3dd359f63c34fc9c540981eab037f2d1da3c960005308aa3cec5df13998d758bab7c4239922cee070fd583976d3615fd5ceb91a148c529f6b90e7fe1a381f40697ea5cb341604c850ed1fbd46ad46f311bc6071c685ea74a23a97b1f8835c24cba81c92d4fdf6cc3262e87989439fab3425b8aa00a17627ae908d3b41e1704590cf1b8e45f3fd205e50a22007e0cdc5c5fc19c8271d7ed27d44519d70c73bc82d2a609bc5c7a9536a782bf414d1893c79f6a1ab8b4445b2f96e4e807ef43bb975fa9f7af495a67eabb39a294b703aa83c5013597ad05fc17ae2e3bbd37d4e9e10487b59cce6b503bdeb3fb3acb84818454bcbf4ababea32639c8e9828db1c12e1381274496c27839b78137031239e58e77ea4297bcefd9a6051d71bde4234ed86adaf5dc6f0c15eb3e80ec36100735876d57f098e307f3a5a8ac7428c70bd8ee4aedc7685f91fe127e082dd8a91a9f3ba1d08905f127f4a9c6e1ddb6e376f32eb2fd983c6ecc9e5a2cfaf2cdd3039ec220d59e99c555b7341d3ebab3c6713535e8bc9738785150471f12ed9dc75f7d97fc25b6e1643aa62c95dd1c02b49a6c3619548fa21451ed7eaaa38ed614b049b867a6cfc0deb720cb8d8016979ae817ba3686d1b3654f2e409187f27f6e93e8401764db98ba7a09917b9a6b172d0be8aa73c18d70e2164196f0c3f8e308cfda72593b02b3ddf523bdd061416090a82ec2d9086e8b6b43a1d6c42a0d080fbf4dec540c4b7f82e4161341e478c325dbff007613b8a5ce35d070844f23ccdf9debc7389752dd71e8bc05bf0b1f4fc20d89002813a5f27bf2820c6dc1daf47814e28def7ccde4e33915f24dcfd3afb12e156c772795fdb6c718d5087059ac45232db3e94a4cf0403ffdf9c75e76b528afed776839a49a9d7f49f8d0b9e8020a5f0f9ad2aab64f78fb468ed44c36cf28fce6dc82ff0a89153236822e6128f8b43dbea5c4463a7668df203f3622f5c8813686b8374c9f0ea743262cb50a9d71818ac375d494ae70d0f101e33e1bcf798ef071b9721a3f8b909193016d60ae783c927bdf364fac64c0f2db6f40450e6c0c4b4e5b84313f095c93231e29cd3d6aec68f579cbd58bde1fd123f801b4d1ef197cc363beff04783f4211faeed8209e00aaa1d564592491906a98b3720aee221ffd5f693186d6dcf77a600af85782c91a878501a939fa61ef148de751f07bf5c03c212569c2268357dda266fc9ea05a797421fa4d80cf9357410da48c857193372738e1cae66c432d8e4908a5aa363f8fbfe93ac71aee359c854207a9827d488e25b1dcacfb87336c54998e21ea4860e7db3da560105ea8cb1d2037558691992d5e130340e693678626d3a59498625b83ee03a5f1abbccf51f119c6677f1bf41ea670e36cd84e22cef0ebd51fede63183782d9de6efa6ca8dcfa249008e6e1d969761e43583e676200adb8fd23759a130602543be8b540b5de5486be612433e66850d6f39f4fbad49744691517ce27cef5b4f914e3dcc8f3829c674ec45dac148ee7f1a4472cd490569244c993ce3280e0ee856a961db8cc7d7a42be4290f8bfdbbb8da3d03ac35c0d43e7fda62a10e34504f73f77ea8e047fc085671e16412c6ed593e30d35edef9581f554dc994d58eecd77dec4ebf96cb2a21787bd6485249180e9c3d2486a3f97509cdca34e33009286ff63c97ebdcb4f1255d2761aa5aa70e71ab95ac761d2e584c7959c7bec429b1195388593edcc1ecde122fe96bbfd5a07bdb016c863f47ea1f29b17ef44f46760adcc3606509097eab568be5ecff2e7548daefb66b9f84f593c467c917b59bda92e0955fe8b014fc884c18278d7e82dd0b805e97664fe0575dbe387acba70765fdaabdc1162fb55b62d92d6a749b16dba05641e37ed6933f0d9603c09146c1d7574049c95648bc438d81a8f26e2ec30b42683a32388437b5df89052aea65699f44ec5eb0f96c10c52e6eebf5d987e8b8c577fec7059b9e53d7f4e971ebbf038f7bffcc377bc41b0b7f7187c0fbc34945488735031233e2591b022ca4085b250ef7de9ea9ec347ac24253f95255a5c872b14ad37c5792f4f7557aa9d319611e29da43a4d5ec1b8220f212ef838c6f1aa8023a0b42fe1d34bef3e2c4fe1df30082778679e6f7c2afba1921d0edf70472d96362a4b3ada0314497238efdaf1fb5632bc9fc2fb9abc40e1439faaeb3e65acf05c7e746b329790986e03a08a175c02de4ae15317263059588850eb295dfa6a281f8fb237811870b6dadb6627b7c4a99476a9ab0888a416b73aadcc2f154f59e81dfd0f703f96b80206c7884d049f949495ad7becd8de742832e2726bbb33d7998de955ff10b184a5358f803ddb211c7a19285d7b5b78eb0d164e05a4d8cb3431d06e0c53dff451507d6abd4452378f568f13b9d4265e9b11bc8b69dfa70805652e79410774c2783cb0003d8e57e9bc9097340eed68ac55b2821572988fc56d00297b951441ce13f251faf88d6e5d944f03c808b59b1cce2a872150f983b6d6acd7f63c94b1a894f3b1ae1874f14c22df01d1531811b8bf77574ecc0ee0fc2381cd5d0546660692ed0d88457253db20580334263125bf8a9abf2696c95d0efa09349aabb8b37fb5270d397247f70431e04456b723e7814cf5d2640d41246a06e8e83fe0cb137e6153825bc9c741e8e82fdb9aa4a768d13c6421cd7637319ba4b41e5e5788cf5e5c8fae1805dd170a26092e4929a9f36bfe5ea1afe1efe1c2702068676f5ada7188d0f6f2e1d2ab3eb80803b80295679f3f6f03227351e3b5a2fa7e5ad6f5801868426309fcc2144cb2b44d509b7c6377e1c73703f71efe74630348e9edd3dbb1fc3a6101ee559680e97c67f2029e839d99246f8cde89888ec2c6355cba0601f9a2983d391375811629bc45c3f5945a050d11025c8e812623beaeff533000382b2523d4c9fbe9c80aa1721826307c917267eb34965c5a40edda2cffae42dfcd7fdf1729d637b6d44cba4898ff311d19b6b92ca225503ae1e060ac573a9cde91b99b74f2599c93bacbf1f7bf259876d781ca9f3512ad787fe843ccb733eef2e61ef5258ddaff2cde6544b7be9c62768251e03267dc8a76e66eb9b2bc9dac89027b895ca34198cba3b3fff6913329dfd3dc483f5b61bfcb5cb35120f8b279ca89d7bcb4e7c38c3f2fd220cdfaf589f2e06a47066e35c1e7f04fa0a6fb86d4bddf6e29cbfb4f7a64c1c034010402f4528ab16eb474ea122e2c0cfa7ab0a68f267e40a2ecb0324f3af2269606c120ae43b4153779ad2868c8f6d671aee6c7353f0b8cc46132877da60269c87be4936afa8d78823dbaba69ecde7f733df1c6960f855f6e41062c4b14a40007174af7f05cc7cf568a7dc23f35b143854405a53cb226f4fa643951365aae44266254555d184b113d6cbaa3acc6bfd838ddc1639bd5f51fa376e888e97af2f5c21786c362de5f7758fafb9c0da63486f8ff27fae119","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
