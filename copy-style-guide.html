<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"d5204cc9cc625c4cb0acc8d26742b1ab026769b4035ef3a8f09f4a7e6deb13138c8470ebae5575db9b94b8ad58b070c540ff1287f86a877ca51d5dd206d3e92a0343ad08f154ca0ee80f3dfdf52d7b5806353364019e6c83fb5fba633737ddcbe0fdef944f4e3858d54f23d1adca0f645f38cc8f38c2fcc5d6bbba4ee58bbf8d9fa9b88ae8a670a0d971b9be37c88e485a37644a86236e5ee8f614f773777b98485a02a56d8e09b253deaa88447fbb87bb93c8ee1ad8d9d5b250633f4e28bf0d06068bf29563eab2949635d9a5c84f9eb5e1e8413739aee826af5a6f051dc5427cbd90f8e71808c3df33f83101b0073f91d5ca87349d9a1ac1283fa5b470f757908e5a3b2503183806b11ae16976f1186710a1b547d3de60b4e16d7f9c3e53c70dabfbb2bb045932d4f7d513ddc198bf31db572204ac40af46513ca97120328be74b1ccfe3015c45d97dc39e9621123fff16e16078a30f45db6001de17a2cdb61ffd5396330d64f5c8805be9a1bbac004bec098dff5389dfe69d38f6dcf4dabda347acbd804082a78f53c850c71900a3d7b445fac03a640b32c4fcf50d6e7e6fe0411290f9da7fb6e54e25ed97c9b87c77e723985ac1fc30d1a766eff122e3e789a4f3f4c9f682b9a6dc680eae68bae6983c0f0590c45f460be416e72ec238c5176c751864bacb7698f39ab90d81c59f07c56afe6fbe60cdc4a1fe8874f201569d3662b0c060422942013b2e0a32464003b08096133c5ccf86dd88c3399136323bf7357f497f7a4bd3b49d4e7fae270ba8b8fab236d7adbd82a842eeb4e3d9e228efbd8717d7bfaf28af74f3a3aa6461905f32c5686a9e665c2632316aa237bd7fa85f38f1b20c79f3759ac893f451a02abe4594bdb1db23ac070ac8a272fd3052da2b4604c43050ee918322437f59e16c47698efb940e8a0661761fd2ac9717bbdfc6c3cecaab109fb94ee7bcda64cc3903e3b753550ce8a73b7120fb9d003192b205e248504f869a29bf3324d45b1bc2be2b9451ec11150f1545113fad47140e76b9f3da3f308368e82638df9e6cc6fef5ec6cebe2e5f663058554e31d49d87071e80d7061dfd39bdada530d6da7778434c8a9f5a670120d090f324fce7e8cb7ef646e17842b200113a47fd4fce90eda473ad503ac1482e1bfb932cb828f47b7787852c1731cb1b32a4f36b22e64f06a18709cc89f692b452068ddfe7c2830c85821c42c79683c0c04b17b2f1cf06f338ccd3014091683635d9ff06cd374ba4275562ff87a82e4ee35ca7cb976bab03f834af8772e0bd66ed17a964195f20e16e70c3548e66917e8a5b36ac43b3ca3ca269f450da0b133e4fb001499b8c2cc05895a562c225e9a1c4a5b49aad59c07f892cf090c8fa0a7df50cf166c8e430e8182d2c243c5eda0a284fb7d7566b44b8a6c979c3cc32197d3b479edeac50fc2e5968a0bdc85270713dfdf8e0ca935ac60e38906f9484d76b5a9714121f3e5d495999834ed118b4e3717ee5df8fa593c306a6a67ead2eb9d807bd64fd948f38b9f133de270bde6112901ed8988e94b2d6259ea27d6cd3ce5cc8f464e27435528de57d669179511a6f2d2da99e6a314e1e9ad2ca6a539134d073f92a82eb0f78f7c4e5514b7d8ad06af3bc1c3bc5de1e487980f25bfb7146d1ed22662f5325fc4c6914137834368af357b1464d527263efb339f62a0c70f6eddfd8d7eeae20c0cf75db09b73fcb6a8a29fa9efc9ca4087c41cec3412e53d06d94b91e955c8ce766af963cca4b472b671e64394e38d4c0a2fbfbfa61d5aa3709323a1a1924223174d5c085538710875aebc63dc28026291244673239754c2f38bc428cfa3bdbb157d231735a012709e179cea42f59c050e2c3c1a1e7dda53ab2d6b28df9647022707a0ac928f995798c7e83515a006f48f022d258226586666af75138262b93a04882ef86093e64a9f4ef93488fb344dc60ead020e42d0c401ac78657f5e88a4310419f6bd8f0c1079de8f4e48efbca1267ca08294119f1432b60ae94343776b2e732b9d3360b40e74384ef273b8627b12b9f070495caad7c6150aa7d29392b6a2ed6ca6cdbdd8c1fdea05563370b5918420a56bb4d6c4613d26d8098345a23ea970c382ad7e55ec09b15ad17f4112a19867cc63b23b6c5689503cadf4c5aebbae856b29901003af874e37b2d7aee73e402c779345e373ff41f7e06bb94a262bd096bcc360283b37290a02dead6b4e65ef0c079a99252baac6f5e58f379959ff45b7b848601c6ebfaf7f277ef2054497506c5338f425102f5312dc581714909068af3cb7e1f7b4594f7ea9a0727c4b7f3a3b5e8fa7014b4677d66b2a80bcf3f4faaf05ff6d4e40ad9cf7c32d908088a032177d4bc491f2b37de4043250cca71f2f613222aabdacbc76269bf9ef7c25b16201520df5e19a7de702ae0f322c9d5c07f63bc48c3a6e8e424b7a775e724db8fca72c07b5576457cfd3c213282ce1c433758b39065eff719475b8bb3fe6495aa3885ab1762c0a6fa20681fba0f76a5b9bad1d5f5f817c0b9a39682e52194257e4d11da0e2b2bfc9a2db753cec003f59ddf6ac3ce2ff884322a1c566d85104a92d0eb60cd03adf4e1881021cd80491363ccd0bfb3af284f78449dd8d2b35d801badd431e2ca28ef27cb0548172d875c8446a069bf019a7ad3573bf257621a55736e47af8c31da7e55da0442ab987386712143465a8d04ef04e0b05454f14df6fa881af57dda1bc281afc6e40364faaf0fad90fcc4f90396677d1c3c7eafa5b08a4d6ece5ab297ae70bfcf4459710903f0a528c24c2964b4cd0485c8e1cb09634206114a7d278b5ea5e77495a714e787137eb4a3c12be83860b5d95c195dbedbcf465e89011cbf8dd4750d82c60b6ff2c036f063150413e37a64bc44e6e4116ae15cb13ac94949b0a842bde63c202092299f303c0cbf5cb378d3eab20f43932a9e4906c4e844f37f0631c4be40f975b5d14399a9a8b8e578a0233d2052503b8c879bdc8244d0f8ecf83a95515cf7c2980248adaf2c02304313bf4bf4703f4dacf1468f39b0dee2c94b6dfec831180a99e6b7ecc1e8bd45aac78bf932a954417b573391ef63bd70368c94129fa6afa9ef8ec7902230fac82ca5368e6c1504a5132ec6e3d2a3fee6b2c56c296969b0c89b1121b4ed94ac15f954a711632bfee8a6951c1e3863f931355da86b28dd56f6855096b5d59ec2dbd7cef0d07623bee36d9e309fcf0c7372e0298f1496f0aa50558792bb51eed63fee73b9cdcf2a34ce673d6fddc9bcbc3ec740b3be18d2e19fd57d9ecf829c56bbe30e6fa4ff55a988391f816f1f4b806cee79ac1454accdfb07a19ae8ab0b9f2b43eb7b022d99c8aa3cfb54079cf1e42282099b749d957efdefc61f6f67b229cb10ce80ec11f1f37f746308398a9d8697c5f7a846b7d3f89835d32fe49f343c4835938034626bcd3288b7ebf68cb6a41d7da3cab218a8b114c9cb0a6296b1ab38cd153a0d4fd967e5dc754254f72e6c6f8b742b909a65a5985b4d398db4d51062aeb1168a908a03dece4daf34757a9425feb2b7b9ff434054c248a3fb55e485f52e8dbfc6b3bceb915af696e0078c25392bfd54cfb8e8fd6a8057418b93a8df5a5aa01d2eb0ac7e3ef7652dede8a98d60db4d6098a8f6c06c05a0c23e6913c8699cd32a68b21a82d7f5fb839cbd6698e29ce4d155a4ec6fd9bfd0423b08d8394d7f84870437e46fb713a98b33325e41db6a6a0e712d18007770c84de50352c4a593b611cf3acf0f9b7fc563617819432ef14b6030da8e66e9b5a6897e326884b77aa516b48c9cc97fc49dfc3a9d0bfc4ca02e10176f09ac2ba23cb490d344ddca6cca99e3bdc4fdbe460407693aef5b56a0858f1b5a7ec7dcd68dfde92e203119a379c8b595fe2300265d6a0f137a4ade99d3eba0c156fdd83e1445868d49867e7619eda5eceae14a631570804d73d50aaa981fb6518390819f4749b85ef0e17d068846a7b274c09f2d4abf432a74682af3e22466098885338de5810dcdaf6a2b4a8ff0a62e139e24b75e9ad6eafa7f3728253b51dd9199b52a8e0820dc78c95e67c976a9749b0b99c59eb4ed4f0c93421104781d7f324e5f7e0d7519a6aab0f5faf60a9e6c8a0771ea97e02d530f65d045b292139918666e3947506fc4747e75e9c070c2ea13518f28a66ccfcac73ab0a9f9e5ff2b66776b5244650296504abc26c7112edcc525476355b0790228bcd18ed7ff73ecdd6f78adaba4b7bf816b5307b3451b888e94a9e92fce52bffa2ff95dc6c8b2f68f4a54e865564f89d962e08420c8155f0354b5c0a5f479c40eb2e28b5d316c56113c1f21b3b5177860f431f11d74237d1e21f3a32f01bf48db7c12017c3e80f82b8f0b48a5219e8a088e8d0a7a64aafe759df56172abaa0e45ce9f24309554bd273635ab952b7f16425859997c54ecc0117271d56e88fc78a4335b3626db425ca8aa9ff513f1f17898d502bcdea55193c67362888b39a48227ccca2870837cc9059e6de46720fcbc2ca11b447503ad8c8ed73375b34be84b7f0ce81388fa6444d34e910fb169db16357ef360746a72797db6fb79f024cc79aee7a09b1cc075d22bfd6e42b70b47674b02fd54fe8db1ea4756e32571026b767e6677423170f2e307ce1451e3c4bf9d262b5dde0d403f9a8acda3344c1be89a427e13fe7612fab233e8acc3c640b11fb4205f502b8acbe5dccb238a42253bf81598adc2822973ed617b83a5348d0895fda7df3341b425ec1eec12c1309066c57d10d6a99064416dad12fea3d821d7037c4d261783586aa39a0cd2229f14d70774fa3fb20fdb3112611fb84e769cafdaf93911db9409dd46e95693229a5d541df7c3ab8ed9ec83d0fb7d53cf444ae54dd4ac18c31ac7e700776328f0b3d5192d49f9796955da8cab9c0ba54bd98998c0b39a1c6bef8a1d921f8dc11bbadb9d7e1efe57834212569c820450c53146f5d18849a6870776faee180ab713e12ef5be15ec6b98733c414f482b30e89a9e0927016fa739b25df92283276cc6bad193166c0fbdebd7e5cb01633d403f3bf52a3842f0fd547e51ad5c85f70d70addb0a106bae546f2b92849ec0c2434b3a27f34bc4c7408c5d37a873f87ace756176fe179920df3b1ab9b8d93c445a3cc831b6d35404c9c97567b1e0a278944e2f41f7eb743d2accaf345420c3f2b489d6c00d0f2dffbc41330ab39d8f567bbfd0a0025e298208d2d2ce53dfcf21580a0c68c38e2e065f83225a520406ae1fed1fa349888685029662655b8a1589e3e870a58e5774856d38dea644fbd78001b37af12dc8836a2ba31d20a7935af5fc1e5d9d19109d5d2c284fe27d1d13923cbae208379867d4090de5636e3156caefac0bcfe40b4d8fd90536447682ea1b7f8f5a94c900c24c19ead09f0d3f9e1adc80d77ce5b08f2e4a621856b03fabbd0263b264b63733920257eea518c3fb175ad099f70c2c7e32dc5fda57467d1688a44ac1a877fa7234cd457c988ee444cff660730fbaec89154b54206405e4e1aa687df0533c8271367557358879eff84aed8c469ad37d4793bd9d6dabf07a7fa294b088d10b79e8f94dde298933f7cb9a8c0ec7a1a24439d2247840ac546dc7266ddddb696588ebe3a68a36c4c89b8af66191fdb3155f98042b1bf1126075bf3371af5d4035b5c9a616fe2b85c3a68eeea5c52972a844bde770c76af911ae24e1a66bf3b1c6dde663e4ff5658c76cb10dcbd6071d28e90721768029554dc0e8824aff5299c3b92e3d1d6517e56a91fe45036b42db65b18f0ee4ce431259821bc7498e619aea070189d9af39ac3321a72bb1e14b588f8493522bae763058e87bff825d054fff8da82973bf8c7436af84297aa87a7a30ba97d6ea813fca04e8da1982ae7eabc5be2894826c6328e1f7d064e9a6976cd9626e61485656694d959bde73fa84c39eb525b7b263796b39ab42a52dc72ec1c765c11e09de3c621fe99386804ee5f6b3d1c5324bd4ff5c9e2c8481752ca9fb5b5f60af92f30e967a128b2107846ec2904376c84d62052b9a61ecb4bd20018e65af5c5f40a326e9785e98ad93f4d24abab333ac80d390cfc9ee1b420c7fe0bdf647669a8135a0c2533b1a3feb413d5466c9eca5f797e8356afc63ace89171639a477880f876ebce104983e8f1e6e1efaa900a40464f5a1cb58c9e834465c0a6f3f327d7a28955e977352647e46b941de909dfe74595b76dc26379c493d37fb91a602c09cb56af2dfd8046a267a9c100dbb0ecf2494149ebaed7508ee70ac88334ed5ac2f124ed574cc34ff78b28121f19b881eb419742457b76d4a4e0c2f78c78160d68d33aceca22432f3d9f9a8e976c125706db4716543732116c71d656888acb250f2b4e7a1b2c3d8d0bc837c8ab1ff1eb6a59c94700995d4a633bdf9af04bf32cffa5e5c53d0776ab5047412729ad4c0d17375ccb4ab42b7177ddfc55dcc8442eee31e11550b1d911c3d7f460a204886c5ce8a2f049d41f3cca5a8b27f355a8a7f44c959ffd2d1b3dbe137df79dc484bfacd94fe63c8f6b97397b971ffaf480678aa554a9a6a84e0ac50e531dc2efd320f805877c74ebdd359b34cca4176c8fdb17a62cfd6c5968d057c1c471a7d57af27722abe7d6a6ee133a70c8b4aea968a5186248a4829dd9d71b082aac37233ba719225b21c0306c20e2266aa980f9e855da51f554379e3d1e85e4b817924eb3f7e01ee8afb6e676baa8b7b02a3a4b7290846eaa984c64e80687a01d6d21c5310100333067ca620b648f564d18971d96ff298a8d2998a242c10c6d7574e6730c8aa3f8f91db5e26a88b1c02e5441cd728118b74a8b432152a3b055c331db1d8d708947b2980ef7c16bb949e8cd49f635728aa0bf1eb510994c2733497bd805d3836658ce2dd28f461d129f8ba58df1e358d6b42a68d0de8c92c9ce08b2d74b84bcc2f677ebfbc653e0625b71937ba2f977dc9d50184af0716a4fde4749beacff98072ebda0cd9030cd792cc0f8ac059b0a704fd95cd9b1ff35e3cf83f71b2f17b1e78f3ad7d8820f7618a10f90ba2da8bcea62770dd1ef21ab23e3d40f4795d7bc6135e7098f41ec1af8f89813e9bd3e7282a3037bec6cdc2f84697e9bd8dcb8aab4dce12e3717eeb43a8b590191f3eea47b6207a06edf9620654b01fc5efd6e365f4609edf226a9092bfb9c4a5d8a615de3ad119aa789d34c17f67660d71538cca09c9a663ace513b233243cd4328b71aabd1af98317810e5a78d2b666b5677f408feeb6a1c0923771847903ec4e3013747ba1773477dcc67f413f3ed6e55a158dc0d5b42e699d45e166c513bf56c23168d1338795cfa56a2bbb478135cfdfa73e1cec29bf6fd17029300147d7125e1f8ae5012c269d966c3632939740adbe89811f9729c50a95728e78605e12fe11c96f6f3544db8329b6de75916dbe5213411eec896b73e11f3161ef2d029c0aaeb70a64953de54fce6b9cf0550d5b7b4d1eb7116b51db434a5d91c708ff382f6f5c0cf927e4902c1d54c6357d1e98dee395ee5bcf244ab0273ed6910cec25f60d80fa2ad99b3860d1e0b19926fa10d052947511aabad52e8fa1779e3ec2d55a14d990e22223e4030af15caae7b503b7f79b39d6a3fc625dbc7d41a0f4cb5d66f1cb6a8b0007115339c647778a58a159896cdc748f26f2cf3ad7d1eacb862210f21dfa580f61cb2e3343a3dc87cff66a2ac452ff8f2e5def6291ea5d0370ba2373e4d6a7022407365c380163d5cb811c35fd89ac9db9097a48b6f0b483ba4326c336530ddeb1f008e3e1917e79463efa72585cfe95b33cd537563d5e4ad75a1e85f335193be8313e7b3ec5c599037a0bbe64a14b19beb77b4ec5546cbaea4577ef9a5771a92e8122ea7bed4aa44f09790cc116e2686978125f799ad57015f8186efb404488109feb2e6a5ea30d75044b8986b297e70ba2a18cdcea1dfa5eb9b0a126550458eb2f7b5222bd58b582ed2dacb7fcb0a33b613e534f5963e3bc1ea72446b441d55aaab77b1e7d0ba092a6d2c47737cf720673bd17ecf8758634f8a8f2e3367ac56cb87a8a572edb37bf0c5394aa2e6b6d210d03b3455c02eb12db6c17e66911e5c73f9519ccad775b948f0ac17996fccd879cfc426fab71b00ef31261fe46c1c4e3157a119da5604300236700cb3208eac35aa08ec9f6c548b56f51b927666f081c7c70d8ebbceae9dc743ca3a03716b6648963e038be5772696c80795aa4646a5d0b567277f2efd94f4598f5e4ea7388a1e35cbe148c671dee222f737260572600cbfed290b87d5c5517156328be32cfdeffde3c0ab09ef5cdfa5eb6b703e752c0907ea06235c4ece7d39544f3390f5e89a923a49166c4338099326cb2b0d7e47b09cb3acf70e32ff8c1bf61c7a8ab873f896db2a2f2ccf4833550a896d27ad4500731978caea78d181eada73c664ff0e3f6e7fe81a4c46a272bdb75e6172adb114efe7f6fef61c2c5b714925d569ee676895d5aa480ba28d370d71063fbc3aa6edcd5c2b4ed96fb1c3452088bf1e0c0a708ab717429c797d082443055b01a5708e85681f23eadb43d491056b574d8c352160c26ba8fc36f2da54ea7b835fd900561856844c4b39addd6aca175e312e027144e3a0be5b7e6279112a7f2be457eda8dc5c770088249d45c8133fca123963e8ccde55b67dcbf933e60083844e6f20eab2c196406eb50b122ef6218fe53d81abc874e2d31d2a73480c95bc1badb7880ba6bcd2dc115add092d5d27c1655df453055dbe48dbaf95379ebd133a2a2625c17e84991ac900f24938c0b2c36ed878895d5c9d050952be625c37bdb9213708a1739b6a6fd8c2d0e271ff357e23dd324549ff8f18e3ed1badd7c7e568d4fbaebed5aa8d66e19cb0b8d1a085c3e4e603176212eac2007cc46885459e232289ad635d813c62e0594096781e906685ee070353ae1855eb9876707e13ca9039bf8ac10eae6ba041d1a62c7f7389145798baca2cab233be3457590bd1f860ec6ba1404ee745ecb13632c4f77640a2e4e7cb2124a9658aa6fb5b8699a1d2c16e4a662e1a006eb630367635044c8abd44d395341590203735f969b7ecf81b7944d5ae0bd951d25e4ee91e27527c6610fef70f90555ddc672e1241efa95e8a80e8fdbeb0ec725af80e9fcac2cf4c3545649e5915d324717615b5a6fb8971c15735be8bbb82c9a95f23e7a9f591320a88611f3c90ba451f0f0585c32fa800e1d46d6df2e9ede4096e62a18595a3e9a9c26643f9743f636f66bd5e056ed76c78b34181ee34a488f04da020fa55c507071f5aa1e0806ea57bb38f9b9af5b0bf3503c01f5cf51eab1d5d09ed6a50324c0477679b90141ed96c800deadca415ebee293bfe782b0c14c980410a8871909c8ba86a6757f76c931b88379582fece4ef1128187dacab802eb4f04e5bccc0303833a609764fdb26c148fa7674e0489f8fb7c7b92f3dd6b7bf56e96d4304fb9b68331c7b6debb155357b6f361e0b6ed27e4ff3f14ae227d1b11127191df3bc2e01cd48dd4fd522ef87681f9a53b728a4b6d4e3658745da0525ea80f72800acdf64df16eb458cfece63bbe6a0101e812154de4d71479362f1babfb1d6a802908bd2c1b61780ec1510b8ada94c8715ba293ebca60ca5b9cabdb989e8bdde5ada3c9e51d08232ba79eb884734c11eace1014bc9f20ae10daea995e947d0a0514e0bc7edfa89ae0a3cc599425df64c859c95a42e1d5578c1b41813387963efd9a5aa57c8808111ef8246454639458adb26dd31929fb7ee48ef2f030be4a6f4a1379ba602d54e28d3d93e7f26e83c6008b091da86b504a3e6325a6631e75617ba54b4eb2d6819adc22a6530d5c57e0980d2233ce93189153aef11e63cdfdcf55ec50fa668b09e4e591265c20508aa89d842207b67f0eae7a1eedf6174ebc51a271f876688bbf8f2eca812804db04babec4d3de2e354420097d74e5eb9409377dce13c15986fe05576f5c8616a553c904ae352c8442a5311aee15e2d2249c0b782ad9d8871defe30254a70c5df3f6cb15bc4812fb5a20ec74e85ec81277506c7e334d66df217d2670071573eaa4de80cddeb75929a2fbc94032465421c18db4dcbc6ddfce26a013187407f5a7efd3848f2f3306727ae267dae0cce4a35496f6ba0fa7797e441ae792927659f1f249bf302c1ceba100afe3051c743353528967cf6f9767e563fe15f2a7adaa83662e0e5f950b2c283e852a95a9a3fef55f3989c765a8d530e6fdb81d6988fdb51a6fc9ebd1fd904f3115f04edb2916394f41187ac881e103d1ee13e3810ca30ca8cee03a5a9d7599bc3056599d72f7b6c210d3595a4c7fad52bec5209e2615496e8713a26416bc1888cf3f555c11833ff3f3449ebe99cff24e62f6b2b86845bcbbb62bb7ff1711b098b35c5e23bcf771839b2417a1d0e322109449673875cf5d022ed451286df3e881835198ff8d59dfe847488b2c46816106d5bf7453166ee8c2d86838482fcca82a5c75d5e5f1343a35e44fc5cc2d0fecf048439aa649d0fe7fa37f370fd2efc8046cd46cc7728390ce9b04265a575b72ae389214581a7890bd0dc7ffa58ad29be4b6c36e4055c10725a8d2716f27601c6726e505e03632b50cd526f57d25d5c887bce759ea3cb8dc35bdc05bc3366435d8196de407cbcd3303847e1b5357e6d530697371a7879a2a4616e3105abd706d3438b4b1141252283f33cf97cc11617e35a2428dce7484661a63abde4cd49305b84bdde34c306239b3843b2956f44a589275c32e78cb2bfd34716e200c828edf806b3c1c6acdfd4daccbf70d4bba15ffbc3eaa7d0ae3f79865798f48033d7fa05e4a4970039fd59ef2ca766f08e0c57c80283a4ba6aba8757d106b323107e4c2128ef9d2a71e8e58c0d6e101da8e336af92cabf883f6db95d16da831ca234f9133cc3e0504966ce909a3e9df6733e0624d2081bd2af21c7f3e042513d46f3a944db457d7582497b8a3fdc4e37e59d05d3e6e19deb6bfac9bbf4faf52f95cd230a703c36eb201737a1cb4aec36c51440ba9033d542aad4ac8356c3b22ee716bbb6983f117b1101b2acbfe6ee00626776d1548b3a8525a613cd1f3304086d2dfa4d160b086f8c2565dc96019844dcf7189c9e3cc33300c433df48cfe41f43a3b6d2d82aed3e508a3264916e573e991ad7078233705c66ea5f5ff57b073f94e4034633819d4936b24e8774ccfa7e3fa39874f7a47fb5e4a8338bc42aa10cf24f467869fc618455ee65f0df8588cd4f4a057bfb8953a928437ba2757c518077e4c62dd08fe5b2575113557c590847068e1749897245fec30ea54a34e17d925e7e538eb74dbda6756891032070b51977410aa5c57c730652dd9e358b9d6c6eeb708d7d03311443edde4a84ede030b574523cf7c3b41c05f0bc53acea5b699b4be0573e823e8608fb755baa74728dfa1608a20efde0e5642207c6e8fcfb2731eca49e2d2d7568e41fff343a7e481c0c7dc1bf6fb614288014c1f164e9abd460c4176bbdca73eccdc784886efacb071a9b4b772716b44b534dc1261480084f0acb066f0c27bbd5943fafc006f55910b9a24035c4604ed47dce19a32daffda100657c0a4e305895500246494ade6cd669cfefd95843d7c10c3659a13f47a725d2012e3a7434386052e248f8b7c97442cc09a6d870e97e944f29c259f6034081bb34d6c478c2885a98aed162136cef1f6c59167110b7b2641413cc97779ad18ffaa07388e10508d75ed2c3039b941458d870d7f8da690acb903cba4c1a1a5d71e883d6082b0b9fb3ae2987fd0b22850ceb572e3fffcff5347b75be5250f4fcc9e21e0e593c4bc2c891f51f7ea13d03a3ce68fe3e4887197fc563764559108e56cfc51973cac6a2ba51e90d920a347f97fb1e07bb07de1bcbd63ae3a7b26e729256415494009c97c9af9b5a6a66de4a81371932763c9b56515be95e79bcf39c07a9e137992364d125379b3e28e71bc407bac0fd8251313278b593b2edb01a9826afaa8f5781beb1f32f1d3806340e29cc948230442864fe90bde8ef525bc4f4de6e1e1967e9866ba7ab5d90d5a7033c5bd9fc5e702f8fb6d167d2a20a841deb54b6ac4b1d3cedf88cd6444dd3e24b4e8a75ba191ef0481731166d2d2815ed3a49fca2faaa9548daa54ba9da6fef96f01ecbaae8d8a5cf55c6e14a8954f175a8d714629c25ff102a01668da99fe2d495f0e7f7597f0673112e43e0bd0c938a0948255ff324b7fdf120b05577747deebf4df808ebd750a6f0d28d4ae1b1efd2df1a7d8d74fa3c994931fd0e4425d416f7fee0c53bf56db90a074d1940962626665fbc72efbc4ad8044dc2f8957653f87d8bb342e1fb9e73f15aee110b0bbb6259d796ade99bb6e57c847cdea4a4f644459cd026f4cc68f55be7f24a9be61aebb740828197bcc798c0755960069403a109772ec48eda0789da2b6a56db30ef7395bcbfc386459edc22e78168b39fcfc043ba0fcf4b7c671ed1a29664eec43adbd8a20b7acaa5d3bc5b19c59b0a2e030ef37c2ddfa547704b2062bb85593ed1ebca8d3057a391f5fd3696e79659df52b38fcaf23dd82dae1e152d3b57176756ebf11a31beee121a4c6c5a3451abd73b2c30237fbe504629dbfec1fdc2ae87e780955d89ab02f45e4ed793a22bb827140b89768f7aa81c416d4d2540544cee2a836172db63915ba65ba4abb0daa8c6f35fa653956c7c1d75194f7b967fe1d195ff74db00ad67471eaeebeb351e4bf936360274c657e031824cb144d66d3b6176db12d0ad376c15262c9a341d9c0742f53b65c2ebf71d35a15ea0f5efcf5bd2ad03b80be5d3a821c70c6b2d52295998be83fa3d80f13383b2186179069e06454a16d69688fa7ca7f388a35d182717cf23703796a642e1f89b3a056f48f0f940ce9a43f68ee12ec0debeb3ead13cb463aa51441fefc171ac1668e863cc5ebd37e041e75414f7a2c9bfc5d657f80864f302be5f40d79e33dd4355ef53ed500b958f57434c42f2a4ba41f6d2329d459c64721183326ed8107eb2e6afae032fd4ea164efa2c7d0fe1ab75adcdde73c69e4b36bebc3d8a72a2f320b3a1664f0ee6a7649dc0fec03367d6f755d6c0335c1509ec7abdf00b5c1bd18661e639dc596a235c80b3f72178c4c6b84f879edd8aba5a79702631cc125dd9159f915c503f3d8e62e55f8dee46417dff05ec010ed42b1235d2b1c8e3b72b40ea84291016276983a77e11d5fccdfa5c40b3e4e5e5b3b7941fa268de17bdaa8716c3fa95dd5da2aef8a9229c756dc77088ed2f37be2d2d89869e7f0891beae609cc2637f416a9b73cd3a621a3d5fed92d064ba3447dfc90f1c7aa4fc19d2dd694a600ccdf04413331b760bbbba954c46f54038cc2258fb2c2a13ba415b3e40b26cc83f9c39d142b7755baf674831f6135a3e8ba78590c9fa5834faebce453fc34c9794dd6aca9f228f7523173e2af2387023fd4d5f92d5c9401ccdb30f3546101bd47e77e4e94d92f120f98423dac5a7131e495da05ba84f1f6c9dcc401554214a772e0b9176df7a217f9c90f739167518225cf2c1b87fc9ccbb113b155a7ed765b0788441edc8a9cf154d26cc9953bc9b1759df7f33c446964df52c48b4dd9c1b70bcd2dba67dbf3ce3edf03d0b3b72f4da2bc31938b5af9e6e57c473a5f8ff552a5518800b2b2db5b1bf2433bcb83aa50ff902ee91f42eea33dd4187264e5cd32e1b3ab08dff1e91d94462dd4b84628d1d93ca9a973f04a28881b1302762e7edf3830c6da423b4a4063f9c5a5066c6d87fe654f53341f2c1dd59170ab43d7297f33495ec608b9895094acd5a3b7c850168394ca58baac58ca7e9165486f0b342f195d422fb90aa730ef625cce529a5c324cf837c4c4303cc97daa93db7f49cba86f19ec3c7bd6d06929a970a6f8e1056c677615339d6754f4b0e3a1e1e5ba066f6dedeaac068a114e014189c661c1a187ddf47897abab898814a37d44a0004bda8db79f3ff4f671580e9c0142843b16dbb453ac82ca84b75e1d4aefd5e2d3e1d51d88415b30b29739d4db52d833342b85e0cebee1e8707233a20416669d1358987d9d93bcb4eb7da5de818ac8a9abac5cd1b8a51036f1fd8a409e1b7c2935b12cd1e4c858d984439bc305478b41c57d7972d3b2bfaa18443d9c134a1a8f95e7d3130832199e3b2dda69fb174cc53bf6cac03af8f77f65b8c8d09b529cbd0a5085c48f0af6b41927e8153c7c8a71629ddbce6086267bd78d9fc620a4a6299559e215d6c5e53f29573b4fab454b296abfb0352375d2d8a7678312d303473aad00b3e748e43eb05c2ab687b462ae47b34f6bacf39daed4880424b3207b4a7b0e75944c27d80d9164d1689676b2985311ef67a5a12bcca74adab3168f29b6654e14c2014160bef707e54526b1ad221ecc52e40121eb1eab300cebfc5e0165ddd0e323629741f15025c6496bb87cdc9dbd4122beda24fc00adc57691695e91569674a5af4aa475c566389ca9ea3c922ad6add996c899841a3b08bfb451844ec263bac1d5889c0dc69e685d8d9693abe8784caeabcdf16aec619c98ea0b759c5f3eef97b2b26e4eeff8479f1da4104ea2907c30198cc2972a99cba87e8db077ef6da14e9ea4f36a7650efc70046aaec2c3da958486fe0460cdc4f0d6a25b75bfbbc01c9706c3df5ad0764e5035715d032b0d4d8297074a8452dfaaf077c51ee5bf4071015fec6184b2e360c02906f3588a131fb7edb0ac7147762c71814d2a2f9c1d4736cebba0abf1ce43c75ea42f3a1ef3c9f549e7d4a12463092feeb7d9b219979cdafc1f7cba07af6fc1301513b835a449b8bfd1611a4843a3548dc5c4390390c5ddd15aaa1391b096dd23418b692a68c53027974de015a21e4d2f7a4ef7d1c26f8732276475a1687602aa603dae8916803089e6ceabb52b5ee39d9d8f104187e1d694cdb4e164193e31bdb776232a4e7b0aa5727a3368f706900801089e40f9ed8b4b1979d4fead755490c7c5da238398d204f0062880828a52239474480cf04078fcc0522ce90c0e9c95d1b6d26da240e694c00839ce938fce036f5bd06f6549db9aed9505fb006f7f291ceb4eb9d610b81329751e196ac71dc65ed96cebf418d36ce6db28a3858a177b6b4547efe888b8f682696758b0e806e8ce253172dbd8d2e9c21864698bce938c568362fce72c51c82d4b1fe85c37b2861c52991dec965ab504799dfe2cb90784fd4f892ecab02c77054ad7676846584d6b4b4f7a0436c76657ad65ac83be631c9c089c3512ef7d91c53c45f3216ad79badb0bde9b867bb907dc9abe6602de68b06f0128d8ec9018147f4ec55fb608b8b6b98cfd7935beec50d5166658444cb97c9c33e6313fb531376efeefb640a1099a4f0cfd376244d5a92036b47cda8ac66b3cbf1d8752ab0b1642c4ac46588e02a4591831f1cb5b6dc12912c92a1810d5820d995961f77b4d2661dd4ea5f74e9247495b81125e9319275c7aad77243a114f74bd2f6a5bdb0926fa82a92eff525a476d2718c0cd727b3802906791aba31b9bd69e04f18f5a2b132afa821795df03d79dfb6b49fdf679a9b663b2c0c407677dcce1995f48181125bbf606d477b9f5f3b622a60ad5c422f3f8fc46f735387320417811aedb3fa842df2f3f6365797152acb7250a2614cafcf9e5672dbc94075209290c5e2a60cdda1d8800dbfe8215f3faa5cef0c5100db66c1e002b00e4761d5d93ed425db88bdcc3a7f98d772a36c0d77405a82c2b9a80f63c51e36c3842c402372ffacb06b2ceeb82050182b0e72deba901fc4c27a39a396d939f9ed908398c35d3ec4ac8687f23f2638eb9fdca7d6e8dff95e89504d5a5ceb28f64226f4b68becf50606d683b90234b05fbbd8b59190eb1ae16eba88c62122b6f254afef64ed0964ef2327db49dd910443971b8797af766c6e541815ef1dbde0cc3b2a7adb485e016eb0a09c433b77b373eeda9a369b25062655828d89fc6e26fddad313d92e55d17b76b01ae23f17faf7be8b1540a4a310694fa22ac158d0f7e1072ed2d991945f850c07cc7536f56d3bd004c51c482f762e15f086c513225753a08d8e34873117bb696d02c84e04f511c4962eb89642f25ce3f20e358a85a9f3c22ba61ad3f1407fbfd6aa120ad8d118a1490b9fcfb644d5f0dacd330a336184b76ad68f207f13d38be4f1960eb80e9073266590069f080304d2833676e5ef7c831eec8a608d03941db8fbed4d9e83455234702b52df7bc500bcfcbe5a1dc4151d48617948e64f81f4453d34836fd5e722db9fbb47a94ebe78a1faf86d0f8eba2a8b470533f3047d3130856c0ba965585d2b560affb898d233d15c2bd61591eb9d42b1eccc3c5d4a0483defd3585e80b5cdc594ee0f0ce7519b14505c5ec50bc199ac53a9a3c4766bcd93e9a582d9998f51437c2141757476554c7b58b2d19c93d30bdf82fd30e36cabd4ade4682260acaf0442a2f06c27f4ae15141d9081de20e3deaed7aa76148a62a80d3805d60d780be5c081a0f5bfb86c170e9da56c22a0e529d2db74103deac88b528ca7362c55ff29a7ee0d8fc5831fe557cb1f5df32e3ca9fbe0f75e86b1dfc9df5a605f51d5034e0fee40520f0a93ab2cc5a678fbc0a2aeee310c9341e362f362732c966b5d9ddca31afdf2c7e914eae399d2c1b6eae8307ff3707410b8f470295191e0124408c665652cbad5585351a2fe2e38eb2e625eb72417131ba6c1eaf1628ebb96a4d500007c16c51a582342a64a67d0cca24ce413a9796fd2e033408e408c7cea038beac50e965a8c1db0252777a44ce0164cf9219889201ee05dce701ab64495801d93ceba6cf7f2ed9e93298341016845ab3fdaec2627aa66d131f34230f3c477bf77fa06bd5d86c0dee4bfffd53651457a735e31950482884bafecc5cae51cfe48de31acdfcd7a41e5f9e66803a78e1939a2a584a4d2f14b382782eb299c571fb430dee893085a3824ce1cb5fe6c9e38f5da9ba251bac907e85e412d99948c03b2191105b94bd7c554815d9e754d4c0a2e061c1d619e340eeea457ec8472b31c3ba3ac8ed9230cb1ab1cfda6d64ebe292b6b3856c37ba1b2248fd244c9d67c7adce7b1a59aedb14a939632a20608ae902a12628e2eac7ac3b5d73b91b718e247f75ce20d17089cf62e99264f19f57ed1dd6d328f005bcbcb7d16edba34fee16f6ad65133fa54257a28dc847d0168a4f0ce3e4192ae974c000336241ca170a38944b803e4213ad65c8c7c28be707fabb00287da01fcf7e5b01ef64c4fcc1f643c79fbfb4fdfa28116e55928a5603d27425dc5cf00e35f58b69eb34a7b65094e24f2c2544812f1b3f703284eb2c37f699463168fe68560c246daf36d4f1e32e3543593aaf74d66525faedbb0a44d9a0e08c7505479224ecc3b78421b6cfc0083405f80bde1f3649dceb904a56090437ae6424d91e5ba272e04f2437edd1d2d0b6e327060dafd5f94bea9ed9a657f278ad93d0e0d92127422132fa0ec0877996f11bdf03910c02a613bacf1687292902b3ec39b339230edb2811b3e6dab380808edcfae3dbb2b1ebfe07850b4b4b2c45e2d2bd8bec59ad37da84a119ca62ed84a41cc4e8f6c27baf5fb7f6ae20e80027f08efc66d3a00a535284e4ff16de803f26b187085f8fe25bb7476c2c17c308e496726d4ad6544a1dc18a5aae323e92881a77e4fe165833a15cf1c46c6cb7459dfadd50390feef2a09156f9d1434caa9a916d91ad382679513571bbbb13235187cc98fa39d118b27912bc7e5fbceb2a0526df4db54df5113a98bc1ffc9f3317e88fbdf166b8d810fecab728f2a47bc34137fde3c9cae4a53774b1600b51fa2fa3348db46e3aca79c578465d99ed1c89dc7487b06b94cdbd9b222ca90a192571ca44bf9d40971b06244dae0efd7f48a6a79d4977ab920d3087ad430dcfb73447bb1d07115b6acf0ea17fd118604141e2751dc3708d682c2128acddb17f1610ec78b651e6ff97af2184bd0f5c8750311abc55b1ad7484a22cdf47180fccf35170123dbc2979079823da68a74db85eb0e24ff76430b965d3f691591efc65224e9a49bb6393105da3460256ae249f252ac033bb472f6d678adc7bb5b25575f9e5c088f8d6777fe954907e1d9a88cdbe2e139bd8a368ec87cca47dd14dc783a4baf4a1a0957ba34019451a1a0041b514043dcb4767ce90ed8b79baa310b4c05ee9ac461b165f7c22390331ec80c49301c111ed6ecad1df47c597e2ba854e2b52d4d85ded4ca31086d87f41b3a8792b482445de639c98a15c342a038b770f95a2e6b7b5dbd60b0424726fb3f43600450ae9f87ec5b68109e640bb7b934a8bb85035bcc36dbd62427c45d79b176113c3257dea6b955f92474009c76b60930c06369463c588d148085dd16d1b5e40364c03e9c45f5ffda27ec5fccf21c90a1f1134f12f41b21c60a926db9d75ded524e2f4504a1e9486a1277dc39e614c6c39f9de4e04a16e7dd7f188a92614c0bd158f2bfe4a4f9dec6e573b39b5600a680fe59a224621b81fd883e265d74588349a5e2127bab9c04e2612b87c83c065ce6ff1dad40ae1e6f6e9f2e29dd3d2955ef08bc1e202dbd1866f069ce49e3bda79658e5ee695bed4032155441130a5002aa4965cafb46910bee2a335c0031a2733dce873dd3ac1473bf6b76ab8005c14680d334fa972461803d19257148bfb9aa67a5c9dd1cf5faf061c24f5def4c66d5f06dd5b009b63422a240affa11b713f069ccfbf3621ef6074aeed98db6c9dcbfb24c5aa67ee024e9b265f5369ed21d6d7529dbfcbbe1d9fdd3847a2db2036252bad5de1ad80de5dc616124dc319517ceeb1958afe90ca0c409991a45d6674300c0123c3a8cd971ded623a2bbca2e9ac1190c2d8fe37e00b7a5ec03cf2d038eb7a49b9677e3669191d54ac1be1e2ba6300727a6b557ff9f60b2792419b3cad75d23141466885d573cc2158424668d6487068437daf36c2eebd58fe618570dfd6575969f61d68d01c45c7ffebd2aa62e5ba3fa8fc8e9c4aa20b1b90a90f885192c07fbc55867d2eaa00e3f2296d812729f1864f8413baeafea590ea9033d064f96aec9aee52dc9e532de4b0ba3725e5fe7679f8b6b580f46126eb750b2233bfe30d7f65674eaf02f5bd3517504c4e69a76b57135498b434048e7e5025e3233c91272f0a93ca227b9190d9cbdf50d54f9774e7fa70f4ceef0d958c4cde8fc7d9c48ae4437633848b426d1414b3b553f3f8ae4b34ab1aa1b64b0d1db3845a2b9da8ec3829c02cf51da979a1230171a7f7ede37d64694a69653ec83ef53a0c02aaba9ea8fc8d1e455bd3d05ca59c131322057cf6a7dc4314f9f98e6bc2af9e798ff69d603fbd07b1317d2d05edb21d03b3f96a04562468ff72afb3c94330a5784a28eedec2341bbbe4f935d52878caaea002b79b6ab1a68651c07c375f25506d4e81ae90c3c57d101c9ec4bdf2178f7c755c00a24ad206f051a9e25a1a0cf6a3132c36a95d9fad8dc6a8e63898ce26556b0a32bd90619f051c7af0d0973e8d932b7c62c15fc6bc6652cb1d099c57ded2c6df7e6a9028a8fa0379a465989ef52cc522a46ce0312d895ce09af459c5542dbf7b309a6043ed65d5e21cb85cb71b126811293e1ec7ed26b3ba1c456bf9b7ff1a29af04a3c2d1541cad4e9d04bf9d509e6a44d02eb62ebc93de9c8996d60408a8640d8d2c45c46c7f5a8e7f5df625dff1f170e4be7ebea031a9e2396c100895dd3d4db6f8f6da1cad19e57288fa5793a427eee27a488106f78f4893b4f905909574da0daac7d1f51594347c28bed03aa3cde40b0dc10a0db1d7516842397b86eb3f3a7c7e1c2e285f101c0589b1780039f97ec125d39b803451e4083b58dcc492d7f455aa43d97dbf9bd78cceadb95b2ce15070629b90e616e3600c09285165911e6fb76727c98ced336081b30683ad951d178fc618670607ba0f24b46f35897e2e010c5a428400820f12f77db6beba91d85e199c218c2d9022afef95f402da86094475c85f647adc93135e8fea5c8c0a298a53616d1ee675a7d9bfd90d19899094cf12b02ca8e27d99f98f3374cb88b4a7e1f4582be7454b5912ffb777fe669622974e63e45f279342b1c56a9eb9393620b0b82fefb6950da030b73a7e2c002e8f6904d977387ee0dd8253f0dae99bc60861f46385d98706b16789739a977246bbe732d417d86fb423ba34e4bb4b79c60e548a9558d85f438d6043cd09ca971e25bd925efe84bdb8a97574a397c99861637fd227d5038864875165f32f38cf91e86bf54871de935efdc5acf6b343d1cd231e15817e9aa016d901ef987a160d6a8bf0ff5f0cd5f07d0475c4c9c6083bc0d0eae0ff91286e038fb4a9dd046b2e40b299811b2866cad530a17e4594f365e72e3f3666250d40baaccb3649db26f906297120a5d05196456f77fa745bba1b332062e3c8eec4bd12477ab53ee5642b5ddc77b4c5c74e05901b6addc18ed2c024bef0dab4fd348087e8f9efb72315887b3a1c9c7f884df463852437fe3b9065965f31ea0089ed999582f59ef007e64a80b597f2766ccdf59eab34028b3d2b0b52957725a6c3c82c9d56b6a133e00f91eba85fdb23c296630c38679a3c78438b8acf7c461f553602b38da62b785a05be6a56387153c179351133213dd123847b5ad9434b671d055a36cb8517e14aeb2096d23c0b3f1e6ae4fc19360b23d122309b39f2fa779040b09fec891ecf1b5faa20ba7e5390bd018aa7a487e1b11e7480919941417aa9cc2bebf039407c253a9eaef30b0ef76c433e155ff4c1baa33737288bd7a24e31f8eb714b2b8637c858821b03f0951d5118cd4727870c86b7783c34c72a2377ddbd4e1c0c2bdb2c5c9bc9cd7a14bf5cfa882d80dd2fc9eb03d083c62a8fb0ab99a5fd8c4773bc357d13896bfee7fd0d3307717b41fbf15100144c72c4558348594e3474bf1202fdc59f8c6b4af59a6f02411c0ee278db00899e0e4881cfb76c8e5e299a88b749d93164e16f4da7c61076adc359342119cc358b9a06558800315633e1167d45e032facc9b494e027de9588bd9b7f6a81beecaf5be432bd14dd19595ccd2aafca4930c9a9d1097d0f72d87111f0bd8a48511fb123c01d4914cfc06d9d29ad9ed7b0111fa3833497f93f55b193d5b05e5f5bac9315f911de948599a1124cd1b6f3a2106887d72c1d91c1e52244d6b75b60ac13929ac71adacb610f5700bdc8a75737e25bed361f0e03926ba8f4091c63f31b1d0806ee58d143bb38a06a80fa6820e6039c41bcf753330b77a2faa19b1c9478d251619758b3b6eb2d74cb0eb059638fc754fa33fe2106d7fe38429258d5feb42f14573f57e9e6c0f9cee8ddc74759a5a5943b6f32bfbe7b6172b0b8a587c17d479880dbf43e49dfa01ae3b69538cf9f6d3e889f068a89ef4bbe15c2bc101729647d25687ac4718e84b661c2bc2307e229aae57b82b75b52e0b8015ef777d753ce2ffa2dc8c26514a24b12736d2ceff02c488fd0c9bafcba502a0749cf16ac4a4eeec43d20dc3c333ac3fabc92fafe37716e1b209f00ac3d2da0785334bc29aab6627bf95f23fd301617e5cb13c1a01890b1b18a","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
