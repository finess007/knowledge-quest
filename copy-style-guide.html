<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"41aaec8ddfee60d6d2418cded1ee9145908d59ea1d610161abc5c2998a93dfff3733d19884ddc34e82ac9577ab47595cdd6c3c63f40b52b49a3963131d730745af93e9d57d77dab96378362a9c5bb49b1caec4b7f8e26f3fce73394bc5d4cfa2a0685f8cc8367348ee390051cfabec41324a1bf81857a898634fea27599a5d169a94626015a566085510708c2f1fc83b93bd307fb1ecd0725f20e5b98a49f9ef35ab83fb4f5a83dfd2338d502068151b60dd737f0d25393c7b855233fe59b0fb9dda4e00f012a1b3cbd112b01eb044be39b8e7ed4ae26c53fbcca53f11d71f6e034a0c8eadac9bb6fd4fd7e6a104a5816222448bedb20bd6394ccdea891c6da123182b5518bc473c1108cc8c6b05012045700a6decbdec8e0a065adbac4d132f2b895e0d927666f4e5083666d73a8890b5f28ad642753b62fb1ce4c8e4be5a87aa89fed0aa0744052b0ff581476d3d0cef3b58d5ad40c2ac2339355e1b38124d138cf7045d95f570a93504de3d1df94f93b6cbc680ae939e820fea28f28b00f83c6462b56d1ac74b227a69193d1fecda95dd39814b01d07dbf7959c157cc1c179c46ad324cb16b28e94fb8294b623a0907e2d43e4fea01c5357596d782e0e6d6783d9e1af61c88d182d329374fb96f95a316d3c3bfc3d0da17c51da90908aad7fcc8579c7954b591ac527ec0c9e534f6210f02f8b33b2b4db82f829631a5aae815126272750b36931485efff0d556ff77f00b846c6d9331f42b9b19e6fa66aad061627e962b2fe25af1e105625b9a1f20f230a357aaf4ca542dc5b8fce3d8f7f7c651d9c755e15b23be057b9f7ef8b63521452caaa48310e8de80c159da2f793cac6bef8c0c3189df1bafd72e3fa245fc6f78855230698d446d27a1236d608927a2ffb9d63fcb50543e47a02b016771a515ddc89a9f4076bc13f89abd321644b26d2c4272a3bcee3c7ebe1aa542d620775a9ab0b066b7a4fde81f0163e3ae6c90469b8eebe96e4a2e137413aa03d246a6d422d37eaff577a89349df0f3d93434f884614b660dd3cb95c362c5d81e245f829e884d2737e67d59876693fce13ffb20c95bcf530c94434b25942ebb3b2f9f2a146580e2d2b9e4dcf77ba9668dbf10ee29e6ca358e4aaaa7854c30442b51ab0f4283a3d82f5539657c5c7cdc269bde1d438b9f732489c1d9706d2bf0cf8c0e7194dac7c64ebcd3a45a0a1a0001f273a1288436f52a739548b43e5f4d5abb2f09cb1d6c3eb88222ff1dedb75aace59c551fd15576f21ced46779ccd3d46808ecff6f2d8435ee3deca8719f0dc1bd081d1841b18e40dce751b608a6523f416cb127861f709ec206d13bb339e5c62c803047f2ff8f608e5c62c42a12dbfaff7d0d4bf5a494ed95b681a4af2a56d2f7f13d66819db6d45555543f3e455243a80e53b93633d7da1ea0ab3e0512bc19cba0d8271ea2df3dfe7101d3e1603d3161c3c6301ba963d539a2335beefe959cb98c166a67513c670214d8e399cf354b6aef0e9a91f24c6af0cde53fcbd50b8333b3d727179c945c4587c412bf1e5d6ea8dbc4ce234a470120556eb908c04c81f3dc4c68a71993cf9fd4bfb132216aacae3a294857bc06eda8b27e048140d721e99114956ffb80c25d104ced5c8155248f5b0172ebdd93c186b2bce0431f323808cfb775fe0872ee82086fedbd336aac10894a1c97e18ad8b8e0410eff68e53268a2698d7859bd1ab6c6a2c46fcfd928d2f4c3cbed4b11bdb408a66af091656b98ff267974d8f79f89bb855386e75a13746866f51ecc9d993ca095f9b0852fa1a78fca4ef35337267b19aaaa3318209bfad1be31afcfaacfb04acb4cc458b7af85b30f5fa6df9c74c57d2dee68770d4800e5d5b4bae703f950baafd86c5c54eae389d7dd5e25397cac4452f791864551503c8ba02b1752cee39831b76109c1530e66eb952082627f23fda5bd01bb77d923a5ca2cc70e8b9397dd23adf27c328df5b6ceb6761ea81f16f63dd76cd0c0055721b12f9fb60afe4d1dd18a1a41bfa4745e5f7c80886ccedd599737f64fc93a9015d9158f6f95ce60e529124931a94df0f84690ef7116b1d68f26f0c6d055c422c3e1fa8575a05fc836949b01f376a9e5905dedbaff5573d01df7e072ef76492ca501ce257d527745f41f9a396f4d79415630b4d2c7dfeaf0c5974a4c96c1a90545cb0afcb67271948abc7548e62dfdf7cd664d542622102e3534df4304531ae13b779d5a5330da45883420c400d2621d003d0b104ac2c545894ccbdaac30afe107f076854d31bb4ba4813e594000eb194b297eed1b5d39e68680017683c39a5e5162ef877930e38f65e25178c7893158534cfe4116e14896396b0b4c2af38a919d41224865bc3217b62b93a45745a634f1aea74f2eaa28cecc1f16ca1a794ac971aa82e553cba85b1128bed91d59bc99107ab6d5b703e0e074d61d6850e85ac41708e4504f63db13ad51bdaba04476d7f6284188d3ade0e8f62730012bf00a2d643b5e86c69b5f94b034616ba70955c2eed128870fa09c8b90de4036a2d95ec1d48b669f31c326d0edbaa72e2407c3d115621528a9f1c8a2ac5c6335007712265108229e6af8fee533e19090b9cb88487727b4ae0f710c626c6e1a58f61335fd0c791a8cc6ec8ef4f5710a4556c92b0c214ab7e796e174aa3ad820145f1de0a02dfaf00c61e30ed651f6d32fcbcc3c5c24a406bff5024678fda53079dee44263974b8d65564c31bc4db41b7c07020116f2a0a5971d9acf22939c94ada709494a1c82ea085a397ed16345dab9a0fd4dd3d1dcb6ea35d2b932e44ac34f96e2c8337594e6aa3334f7dedb5107d3b84481675c5b619d0f8d2e751246c35cda1af3a51029873ba325bc90f64c336a3616a3a5c6724f52c1b018b0b411f2c73c588e597284f689c725071fa2a0ce1e10c1ad8d4917bfaeed9da675b257eb31e6dad7e85164e4c679c9a38154506f5ed8b64098f37b4d877bb9397b1dc411c15213f27baf560dbfb6121d4c86fb4279a372c8a010f4d80f0aa2e76201de85fa8d0122fbbba0132737513b6180b32beabe5b41ee33681cc3bdde20bd35907faa115020a0f3619d435b4865effd3c55e07ebf8a7c9e7b3f3220e7a96a42b4da6f3b12954262b25bec8d634c7fb66fe418ce38adbde9846f4a4c949b31f297ca56f426f9950071956d1cfeb101a0227804fdeefd4dae10b36ee0937fb644f7763f509346b587cf21455c771830c1e1779f06359377246135f1d8065f67432b865432182f765179ab32dafec43564d01a535ffcce079d1670988323d92b27186ebb80dd9c4ad33e7085f4a87f813e508d39523e91331daf836592e2cdaf8b09f6ae0b6f73ba9de6ceb9d11faeff53a257bc8bde30c93499dd902a6b1d62ec49ded4cd1c4785b919d60e4684ca184cc553ebe7bd8643e73925c0d2268dbbdf5f22a94bf51f9fb92d146e3cab664f306f5c99776d560c51d9b1006b9254fd47beaa15e4d247d6808b4d6c17b2a96fecc412e87a4e00018f4511869ce0ccb3c71781acf878fdbeaa264dbecf33856415cff21ba5496dd3adc4c22aff2761549785d1adfa6455c9ba5b251c919aca0741d84d9f02ca929eaccf16e4a6283ecd7bcecf363c753538b3be2725bfd5865e5960f08abbd34aa19f0cb5ade609cf41e8d16d68dbdbeb6da91c082b7fdad807e661a8f1458880dd2906f6c6d726df284fb7944f779144c0375959fdc396bbb377f8614256739b059696c98c731a450db0e7687d491cabdbfd84b093d76c121d7830be1bc05777df7bc2d2f1de19321e9b9e7f8131f55a175e3e1f775c9a703322cbe4678a45174e7e2f999438a359d63bda7a03c10c42ef0283f9ba47a01b54ed5f2f688bf2a8566eebaa93de25cc4d01bca87b1afd350835b5191f0c603bd1551c8217f0d073190985a248cc2f443f01debe7cd7b5f762eed4c41f72667133997a4a7d60117502fe1bb1ae5692161e0b58608c3b192c9b2f9f69d500ce96a48db566265f5af6bf63daad0aa1d046459563d33e72fa6d0207a4aa4a6acd88955f5c621ca1f00cd2c7f6b8cb40ec5e2ae086e4f3392a7e4bb4ed617b8c938051dab11c65091ec5235c72fe66d033de36c2628c72fb0db4fb27bcd801c034d234ef757c701420f86dd9ec5b73808a9815329573eb9d2c52451a19dac53e4912563418d12aafcf72da6cb160e5941de2f8d7398c8a36cc0e733d82e38aeac562c06f49104a9dfd653abb3fbbbc297ccfff69c37af51346a5dcb45523af7eceb4e57bba94ddfb7e7c2a47cd56fca26a147d29f9711bff532dc6589c7df624499c2a1d39805fb0ec9e34ced1e2a335aa3a51ed7ae95fbf14a2e6336b35cfb87183d27c4557e44db6bf5bf6d5c4f828822cc4de993c08140720b42d72869936432697a6f4130fd8d23cb7da5b824db8270870910fe3adec968412627cd57b20f7f7ae6f1eca8bbe437be76b174bd75474c6cac2dc3b8a6d90ec987c4ae63756e0b1e02dff6111f25f4e668f81ac1200474c1f201dc684314ed21c3402b6d173eda58363945671324007c62e66ba48823d98368bb6f460b9912b1d7cfb4a5535e980337960f594c8de8961a9276e5ac8ababcc86c66422660e46f4e343397ccf8050c509d8545b6510ac7e3a19e23e14533a2642448dd7e05e3733e4deb0e1e669dbfcacdd01fff3cd968340faba50630756ebc83b05381e769e0c479236416a8d858efe2a2c2405490cfc338cf68b8ac8977e8465ab121bd15f93b0720aa68d3997b6f302c6f672af36573fc2bf121603f713c12ec2186731cfd5bc69bcf8beafd91c18ac68e34527ec7978f09bd094012b2120e547aac5b8a76ff00cbac37952a09c6d2faac7b8b7ac2b328ee29b4a2d3e9c4bf77a492c4b91e58a8b92ed033db48bea88064652bbfaf561cc76e2e35976c6952ffc1f1e3ea25d52c5aa076b03db053578d20a62384dae9795e9223000c4ea8ae64f65870414f3df68978539fa968a652ffdd761d8398dd9080f1a89f7006e5298d053da48a4fa28d429eb1454c6a9bfc8cb23a6b8cd4d4a1ea7c37f454dd9c5237e72fa9d9204c10bfa16fccb37dd01606bb04dc911fd5fce96008b1eab90668e61f0a371703ce8e3dfde620c1314bec279e8c1d530f802140e9b5e55ed5d9db0f45076806dcd5d932951c2c2c558527463c2dd6eccda0b832a91cf05e48aa2e0732d1d9409a7d8c69f5ff93c7f7b2e81172d5bb1196c0ab6be79760eb9774e2272cede3f16082c8add683b17def27bc974f43e76779b397b851e52190cacda81c74d87e0df0ff20e8dd6091a2da58600106729702683e778091cbde452036415d6000aff49b8f323135a5aef662e9161aafecb85910611b249f4c8749d53e553563b1b348b8721bdf7470696861a2c6370d9858727c0d21597766655bb29ef045e645f62631164decdb2e9698507ef97087d249f47c098beb1d80b26e8ffdaaa03d26d0555ea5cb5ad1f164a9b49286dd4d82683854b9baebbf1d89e27d88f310076d1ced1cf6399acfd44f5f85f55d09891d99958d43ff9b8d650736c062bc7d52abaea585d5e408802243b3e1d4da48a3ab9afc10a646932326d6d826f8aa0d3b79698a1dc39fabb54ddac7b96222fe85f2b3b2538c03baf7e8018426b39649b867480bbb114dd6f956007516eac1679531b6c7fb80bb649d1cc19e16bd083aaa57f8661fcadee155cc1ba243f7b921895cb1baf4843c7311b5ffe442ebdeafd0046a9f6af4cffd520e11340c3157e559ee7292a0aecc137562d9ad65f7c55e84d7209f1c076a9e897e85f526ba8f3534ae28338ac3fd220bb28e0a0e3f6f5dea28ced29047d434d1d0ba8c5c30b7f1b0dbaca31905a83f17e790cf7d4623016990968f6ab63525ee87f7bdcd535a5b550a007fc96ea6d1e0cef9bb737a34b95dcaebb9db7c38e1fa89d72579e3b60122368815fd84561b2f41d7b0cb4ad29d11ec06faf4d91bf7d717a94f7dea95401cc604e9d98db80dddc10f570a4a647985f5063f912fb85a7f8af9b08da928e2616dd4f177549fb7c9299f9687b3e9bfa6ea5c22cdc2ff7333a0306c63ab098d8f9ed420c0ef8beee7ba4e489d8c26ef4c6ce443f740020f7d1881394a5c962d994eab5e8bc5a5f1ab4abf88c7634c47b8214bd65749d580fcd0f3b3313447bb149d532f7182a46e2a19a19a58dde5dacd22fc9957d9ce295b1d3495e0b8d04e472942321fd0eeb042ffd396e394aa180dcf85849458d3393d35f1367eb14cc0a6252f970807f4fb59b229d696d6c1359d39a05e5efacdbbaa22b4cfd4749e8872d5c560d1f1c58f19e9b8b49240eaa0415b97745a9d498e54a479a1a590cfeea733bb6a39904b50950da481cb1f2a78744846f3f2ed64753d4f0a31242d411755e7e406459b68ecf3864a56f986163073291ba2e5db10fe1b65ee1349b8fe6502a6d1f5b1e700c669c3b296c836367618cf42ceae1c2c6bbf09753d563487c2ef88be6dd670cbc31173671c9f3bb683cd705fc3410118c054a4d514563d27443533303e96f2845d8463dd5e876e291a909855fcb8b0b3aa30fc6c1d530355d4cbc339e95ccab0bda56f8a3bb613db4e5f5a09234aa90199fec5493e76fe81baa5afeb455348837f4d5eaf6f4e7aade2b1121429a0a2647b0add59201c77c53fa1f7cec82dad51d959ba9764067ec63615ee8f0bf1c6e296081f42f16ff665f536186d56aaf992dea363685a1507fb654773c45c1f81f75e84aac75b0da285eeae2d781a91579c87bb1959be13d9aa57518451bb65b35cea7e0070d214654c0a420ad9d0d9430a7619fb0f1c0f49b920b0ac1f9b3d02599ea4a9642327a3aa1d28af42837d99ade10bfa7bdacfffce1d5071c5f2a7eaf1ea6ef58f1ac42416f007cac0bc220eae75245787cf6d6bbbac24aa8b6995e882a06ac15c485a35a7167931106e34121e0513345b67b5dd756f2089606c3a858d04e66212e465117283b43482ed7d0259978c2eda420e5a1fef7d67d7a9442e2ca133b16dde946afcb4d2d86a9643c1d443546f70dd7d9b193a403c4d91ad39c0bd79f760437efe01ec1634f2d1618c2f49bc14090e441a60ec47d80f4d887172601e28d7e60e698b5b6f55969e630914fc0c381eab0a9d6256b097c0f3ee1d43f54cd1ea2f12b3297f01f8a91f591adea188181e06184466f7f97062ee77b472669c3edd1aa31eadbfb8fec160664e8d5971c6f3819a02277eae103bf091e44f0f50e83e7ffd92b1d1ea3b57dcf92b915b18b14a23ac68b86907320fcd38cc8a98b432b0062b736792814f64ff40401ea321307d7004cf92cee03eb8b6dbd3eb3dc1ba4f8d4ae9fc168768341732d6182ec25100cd1fafed3d88cf2eda383b11ae97c93682cf659c5f5765c93fca24021a5337478fd75ddc5f377338010c3bc90d4bf58088cb0eb239d47dd868444c11362995480a84c0f5edacb2a4996854dacefce87f01342560f2d3281c1645fa1437f69d57e49cdddfff3d103eb12491c8eafebd1caaa5e9261b23132ca3c36bdd2df9e19fb43eee9c1763f3eeb7fe08f65ef3ea288d8795a02d2e0eb7f0b6a1cdade3d64bb69321ae533efcb802e629e022a7f812df0e0e257a28e0e53b755c3811bb52948fa44b312f0c0d26186bb46b8ce406e971c719c3caa2f777faa5c27450629fd3b21bd81e799de553bc16c530b0055885fe82a6dd7fc33a82a77acd902fa39b63e604b232148797fb940be8fe66c2733535cdbcbb072311927b970d193eebe07667c71d99c87fa8da40b9a4cfb5e50667b9d7304216cf9d0bc936057d6fde23452a70de181482fa22123778f27e2d06cf1b5fb29f00fd0ebe5341ecd5ca98ea8a7edb3ebde52a38c6ff27934fb81e8adad857d7bddd85c804eefa0bd522f6554284dca433391d77eeb466076d575689841e9550a332a03383d1f08ab6f3e5b87fe1476b1bc010d68c3f7901b96ce755e2af3b353cd816b9c51ae5be13d0c554b20479012206370f5c17618c3ad8b95a601984e6c39f744bced13b5cbc4b9a0054d9ffded75b2d7125d7593fec0659038f69aad1e0667c910fe5e09d3d32867a624d3d0735d26927f55215f5b37f941cc6036c7a9f2261aa3a2a2b98b1ace5bac6f789a5df6b6cfdfbd0e758320b406eef4eab59ddbc370418d259e8ae740c9613e7dd29ee1e0f85ce6316c101b1f9d592773d813d1b5c68b1e0959be3b66d800b48fbae46305355900564735e6bf857cb32b5413aba592bdd38b1261ba006a4ee1642e75309e5ed8cc0ccf6dae7e87f4779c5bedb8a4a4fe5105427f6786d4312c84e386b6351d7f229be99e6c50f101dc526798e4d46d6267b21ba4eab5ee1e8fc2c738491ca01dcc71960c603f1032710ccb6a820181b09259549d116713e586c1e880b932173f05a4667c53a78e941294e3282e63ccbfbda8a3b8ddf47703a530fe5a205db9695972050cd28b1070cf30c785f20d10c7b650fc32b6e2dd6a2288cdec8a4be235361af332c73932337d7a8244121614111786109baf7b68562ef9237de0fdaa08f1a19642d85b557b3f7828c303bab2e9f020e399858eee0a76aa9ee9dfc1e9c5cb218a6f7a15a001532c80c9212362c4480d1b3a9164601540e45d81271f38f5bafda5c351bed02b97b5c174f221ec8c7e1473142712618b431bb2906680054ec18b080b81262e104a3a0c980eb42749f9a347316974d011431b6fd888cfac4bd0f2886924ae96d46993f14a852c5346fbcc93ead946733bb11852a345327157f3ca18e790dc49247013ce12fd7b8a6c4bf8363eaf6f853777cad7ba2efd2bb2e867738c4f566273dff7d0e362784de5c7127f11054692fb25b9c62c8db33acec27a5890d43a364f93f2b8c547e4be70a7d98907d8fe03a9829e51ebef545d2397f8063f4c608f8c5ea2ddcd6de54e149acbe835b0d2981313981eb67400ff23185a2b524c820079fd450af5a97b6725aa9a436ad7c213e2257da338528cf1c39bbff19277a1ccd8ab94de8abb538129c4395585c9c543adbb974c49ed57146268e60308f9ffe094feeb296e8475d15efa0a5ff74cea82d63dc41f48f03a1722720b977cc6c2d702aa3d7f0b67bdbda55d9f6eaac2206394f70f0111317950529c59d255e59a8c1f32fedfdf2e6b7babae66b686b8e17afe6477dc11e8024340d859c3bd6e09f698a145be813d1791511d1a864437403910be3ad6153e55f66849505fd29d15ee2ad42e2988d245136d575a9a7bf9211f5a75b3aca63bcbe0a3075ad22b567a5787b3f32f7e77af925f6fb5fa57996e4586102316bbe3015f0890d627ee685279dd1c9ab448b0de1a846aeabda37f160d8c0c0e91546157368f199026b5341e6d7105e2f0b8ad058875dd93005a00b15dc980bd8b30c931b57175e78f60121982c4a4411a5fdc7a6861092c8b50ac8deca3a1eadf76c9e8e4c3c8207a8a17d6c9f31bc718142b1109a65b21a886d30b30adb321ec57be6c4c041a1d17291c10ffcded2002c89616020988a4dfe8209b81e3f119745510230f01168cf057c50429fec1328dad49f27e2337e8fe254b7a47e9b0748faf272df345a2619a8716f83f78f7f598361aa687c2c5b8f2fb1f045abdcea5d56985fb66838e2d6a079375450caa193703431888a3a6e12547de548aa817d726178c679359e4fd8f96574a4692e3f8701acca105da5fb92a360bf0f70a21397cd1cf4f13530f6372a97f44485078ed47c1fda74fcd22de4a320a810407bf19089d5f70fc62b0211ca17a17a8f509e5bf88fe01fbc30caa6508c7b37e852df83a7dd0e4cfd5a93c4ab6bec7686ee202b9c22733ae3cf5e007c7ae9db27702fa5a3c7ee39e5b4f508fdfca5c1cf08ef40269b9b6b7c401b50d125fe9476d61a39f1a11a86a15a6833cb2b8e0a6b24a53a029ace8cabca4c71e5f1e37cdc46c6d866aad2f5b05ddb90705d4dbae64e826a0f1dbe44f5788ef6481dc5fe53cb3b05d1f278d7366c7d2a90010f445d51764f54df0ca2e198f77140c60440914d1b4386b868c10772102f6a28ae24cbf3b272f42560fb7925569717ccc26727e7996b592823c985e963bf15cf36b4585af24e7928fe76562a60c96cab4863cc974b174e65e801f5d3b9caa372d9cf5b72cd05a791187c9978a1ce2bbc2530c9435b84af1bbba48a4045cedaf9bae31d9f9cd698b430de1624e3eb4d62a59dd82a68276f2a99777372766b496a38e3c39bcd5bc20d079f0c7486132002775d6626a017680964c9dd52b48d93c8a16dfce140a69c79fe60e9ad8f04b46e61ef042eae454404f25960160fd2bcdc414b2ba3b0128cd0489b785b3588c5aff2e16a04055c165d6fa2bf4e3474bd38bd58130c3880c0081b463d45791b7fcec1af937a264dbe85bd54ab2a438339701782b208e0195902677bbd09714496529c2d6c0d22c1843a9e201ebe66c2456280bb14120182c564298e81da1128f7a14e767b472402cd37b9f2359272d587436ce802575ee123341944a386bed21ed92a0099d458cc38488e9b14ce4b326ee2a4054a2b1d35319ecc210f0d1cf2a214ec30542cbeef66bd529fa59fcc2dd11e1a1cdcb693e03d62bc3526847886b0b17391186cbf737d3a8e438927c403670efd42383e217a5f5d2776480bd1ab74e447b55a9f7b0fba878118ee27878134af7657e1e055976a5e6034bc9b96917b019f877b1196fc8e79501a51005a783c23f67e93ed13bf841ac2d69deefaef08b986447b4b388aaee14d7c0017ab3a4fbbf2d18194f6421b7a453cf0ed6b394406aad4dc4b2a1a1110c952847877ccd34134915a10e9bc37e3cf67e0ef1be05a48267259bffd16097607d098ac4b4406db8680dda1654fa3b19d2c7ee09664f3e43bb223e4de87d394da1d95ac37fa74fe0c520b7e93d8585de5d4293b6229a3646d7320440b8d9a5767ca7d21880477f052178840d54cb02d80c0e53c021f41374905c0de6ba91fd57d80b399f344daf19959d5caf06026766501784c3ecd20e34c4b09f1f60db5e1329760a7b6f524b76d4de5821833cff51a9e5b0a04de097e78f532ee1a4f83e71c01486b602d3b17b29e9a00ce040f8291240389a8ae0d9012d4e3b4ea46015874aff56a48c20492372d7e701bf7314be0e0a264e1851ae32825d9fadb9519e45c1a8cc1df30f35a9deb42086d7e253dd50e0c469640dfd1dc618f1295be4b014900091fcd37c62237e890d1c7b59c4c070b91a117d8c23920edede7ddd3c72c3f7f3ca2f4beff09f945d363ccca8bf58ea0db656c51499cc930beec00e1e58e09713e264f71d47b36ad3fb3f2cfc13a78490cdcf248b1e7809599f70807bf8844ceecb96689cda8688d5519662f22bb8f13ee6aa8e3fb589d9274c25425c34b4d68fd327d71a44284c578c80ccf025e5da244a8607afa7a930ac45fb5678d9ceecfcf0c5888a98b3b4a7719791a21d5b0e1e96f921d6bc87e1669ac91aacf0d086d7ba3f1480e7931b556b46639ac977c70ef74eae2e9154d521419e5e5284916ca15291a6e9c4c276b18c556b0ef0c204b7842e37291ab309aced9003d948a12e572a1d417836ded07d25a1100306e067f14c26aab654f13f43eedce1ab45fd9e07bcfdd762f38c0a488f5af155fdf2de3fe09921ef3bfeb9a035f7c37f6948f3d67378ec8348eba42d4ab46147c95fb15fe692e2a7ed8ca24717c74bbb45c95072ca67a48a8f43de6553ef36201244ab5559676d3ac84130f7e225e45acf6a38ff31d178ad16dd5fd71421ec23406ea44a7ffeefe4ed0700522468b225a14608c23b9ad16f5af11cacbfdc68970c45d0c54d1c038d92e4c26f67dd192a0aae1b498546a9d711c6f0728d99da464cb8e3ee580b95e434364e91fd71730c878eecd8af03dd0c790df96f774e27c8d87029d4cd5ce82790c4d29baea3f914afc57955b3a1dedccb47ce02ed650b0bc32322131fd7f76fbf569ddac4d6f3c25b77d1b695d4bdbf16d3359bf4384fd8e57bbec918ed2d4d07d1d6adaa695df080340a13bd2be116fa51f155a1e18bdbcd25f1323660212934d5869498b260af989e84611d3938a08adc590d9bebeda18d00ba7bee42f24f7f4fcac2e7de57fbf1f6e9fa1f16a82be5399ac0e0953e474359fcaaeaddc1f59420c7bc3935dfe2804a11d3b73c13a0aa1cef09e8e53c3abb51b7828f4edf1c39bc38c2998e7a58cab91e1b2768241f5deabfdf9d9ee613c941acb340c25a89f6c38b538584d47eff2f88aa3e3f867115e0c05979117c1e0311338be5265abb9973a3da0ae60333aa22fc3086d58ac2e2e2622b324e71dfd9a6bda6d9086ecb48bd2ac0a04ac369bd409c064c3f0ef6fae7f2a00eed14c4a54be7c072dacd2c760f59fb942ca77b0d8a26fe0bed84db8acc4ef6a6cdfb2cb757cd45c38683239646dcc2226232eb8994e463f0dd9c1769a7c693d7bae27affc3baa2941eb020ed13eb31f1eb7b07b8c3dac3bc6c00ab76fa3f0caa9650344b27ac6b6c1173e57ee21e090afc2f50a670f8406aa53c51bfac10a341a0ac3567436cd686a6070c0e081a4988c2bd3ce6d22029604e8ce41888664a100e79dd3b8bfe8b8860a8dc5b73f3d1c1de29a10c33588950d0094788f9f9adbde757afd91bbb7f38b9bb000d4e1706b544624e627602122906fc3524942c56f44873dc5c7c9123643f4cc8238c58d92faa57e6319ca112cc274af0fe1d1531c0b7f2f649e7a537f4721cae183a8484b71f99a37648626ae2fb2e618733dad54e63ec7cc7c7b16b3cb1024ee492c2e363a881d0767972a3cd1e8c4705e78dbe265c0a9b72800d340d70b5232d1f7d16114e14c6d16ecd7733a71a62fd5435cd12b62bdb96d6f738c8adb96c8a820d27ddc4b7b6762301124b46d96603c0d3657f8f2b3c12b126c7830da416756ad1e46a2d3b070469f75c63ed10866f0817b41ac634607918eb8548c116286d9d8d03d1e83b5ff0e7ae306a929f0cfa59acde8512631ef6a4e1bc8ae61d50ac760e7a35be133764184999207e4dc8aa8234dc76618086aefb8d9edc9d2b3ab9a29e8c5fcc5f07d2bb3a1f854caaabb8594cd8ca3808e98fdcfce7c382b1a01adf1729d68e5dca7be0c89d4bf1f56bd7be2c8d749f9fb6990d47a779b3bb436cda464b298016aa2aa642c8a4f9e0535cc9c796ad30824efd9c49e8b381c5751ff183463a74f2a060145b7151ee4274d07c56e96dcdad6909bb04d71416fe4d524300ef6ef071e6ee3af2a0c0c1f9a4817bf070cb98691091fc8f814599a472f7190d296fd4f6ef01526818c630490ad0bf176e74821f13d0d5d1d36940c0c610fafffe5828625392bc3f014cddd8c58afa41799edd3b2d9db8de5817b94d6047a23e0039458163a0fc32c9e02420eeadfe5cf6c25234b24b19ac6b4257dd1dda5c17b0d1e9d671c163e9993303687379c50bcbe2dca0cee91af2cdda626a210114ccb1d8cbecd2b7881d336abfb55a6419c71b2fb85848ac98528b1b5af30b628bc4940eb464225274247cca454e363665b44e69f12e0184add22a0e14fd6de85dd9fb0a48cb40500696baf04184d42f5e1918ffd927bb846690ff5b42e532a5a93ffd3e18a26f9f6a10a9d3af877eb53e9e081331fb7e26fec172554e0a748d45bdf3c9cc4b8311c91b3e4bff8987bc222194e8ac20819f58d473a96fc5866adfa517914914375c6f3171714c084b68297b27d7610eaee4030ad76e071f86fcf6262696af50add8f1397a8075349e77a58c891a02ac863c9688c2caf45918627f9a7d27060d7b54d06a80434affdd3f3722dd814852cbec81c5302950302c119520c2102000aabc88034dac119c5f611260918ce775c3298d1c719a6b2d757dbc4ce481f66d7e3a538c32f0aaad3da48db83b2918c87d44e25ebfed7dd5552be8412f0b8e91c97554b2828f8cb6deb8abf580d9a31b0a6dbb0cc52f61a5796049064a93b18af5a9baa22bf9fd0aea9329f5544911c61e8ce0f31bee2ba3337e7d88a6811aa86578d68163a0088ca10450ef5afd71ab1b325d6d96e5642a6038b2ef83ca344ccc48992bfc1b2b9c659590e3a921652c9edc335c97dbeb75ac7fc76aef2ee540ea67718f7994431bb601b97e3f3c66732b1be4fe2a9d5971b4bc1876d0eb68a6ca76e102df4217c61af217cabc813351fd52651dbfcbba1a3f09bb281c27de31b0733872f6c42d01386ca54b5e7d4b773d4754b7b26756713dff6a80b1926dfd727ef4e1f722133773e8d58610e5eae655825be62bac5b223572f2a122103b67afd7ce96805a606725af490a683cdfe2fbbf7ac7e4f3d29bb92b51855d2b4919cf37b066ddec6957b36e44b9e0ff9dc9d656d2431a48c527fa5c319e4fa030e41b4c1076b2aedb1a9bb2ec8b869979b8d56df57a57940d904d9f161dfa9ac15a4a64126cc4d2af6d4232895394b196046c00ca2e4003ba94755f2956ba99e90b5be3c0fbaf3124bc5b35fc414ed8bd312a74010f5ad2980024ae0f5b00b64567b83d01a5ed13b4aa031aef6211b0668de5c8f00d02e0bad25bbada8b33a8d588bec59484bc18b5503078d793a40656bea6dce7d0a22135a695b815c290b631bd3e6ef277624eee9fb8432cde4e18c8888be67ee079c784bce54c830afa65d70639ce49f8c32ed559cf1d44610d505713a897299600f65390cefdbbc09dc52e29699bf8f2d125a7b3298f55931a25447989ac8ae91fbd49783f8979338aa005908f4a34bf506ba2bcee136fc599e99eda9409a2b305cd25ff5b76418560e79039aff743b4296b7ebd92c6044a5b069b0d083fb7c8b2e7622a7461d808f82e07fd6393295b2d169f8253693000126bfa8a865c2b579f31ee01ae4bc74b8e02e46ef29b94020d39a00ccae76e3b821d0f6e7172f5e94d73cca6e99ee39f0b264e610a90d8e3f71b496d1fbe51c68001e8fe7170a81a98cd88adbd25c6d9e743a52dc89f873b05ab121069ec2161982703e6cd996506b28c2ef12c642f04a91e5981e3ede92076bbf70fe0035a4deb7c6edb129d38ea4ffac11f88dd4191813f9279eca7aad96fea6da0d45633d0ab5eca48636bbe30b025a3620e27ca67a20e631deb686f2288ec16b6617787d6012babe18b2bbb303c5961eb9036b8aaf3682afd372805cdb3c3a1fcb20580cfe6ee9dd85b64a7c2b0e872c558d1773e328e47cafac55bb5bf3b5b3d27b08ca5a5784ad97bfbe6f348060dfa0b1dedffac0da2ce545f8f85ff00acb19e995e1916bb7d6be9e08f5fbe554096be82d96f16e79b615ab039d4b75100772a77d51a44176d7fc846b879797017ed3a9d22cd9ebc6e8429cb3f9f5e4a6f039b1ecf57551640900cb5f90016c7e43013f69cdb34510c24785b8058750da57254ecb4eb3ffb287f6ac109a882f537cac4dc579012f9093fd29b1d21190991bb009fa6c98a8ed7a898c3d7f91363a5359d7e856442c329c3fcc251feec2308b2e7291fe068f9973f80c390a71840f62545527867f4445c57a54fc664f2f062fc6e4e5610c45711244ea5b807dd44c523a61867789f62d7636fb5119985d8e0eb98b99875b5322aec1d32655d452eed9cd25bf94b9203f719742e5db4fbd6dcdc4525cb5a418b29ba435828b34cce23cf9ae6747ccf9b48135b321e4c8e4de1f020c5756671caa0017f44dfdadf82cabbc5c17c674a64cd9831c70f0fab12cc1d663f275ede6d781ab73dd2af88a59c578b947e341e9aaa97c1dc03a93ce72429100753134ae8bda08a5a33eb4bce2cb673cb38c721bf04bbe5d23953947ae8db5bedd602f4e04635426558c95c63950f911c1a6b5e491a77afdfe6b6ec253ff90ad76ef8c249c47efdffd219bb1010d32afa338e4f1548768644a719aa88d2308182d12d0fb4acca8b70d22ff67389fcf2187763025e6c8cbbb07ba845cef8fc5106554e53462da43aa5f1a7e65241a3358dc2fd3f78b844c4b6adf720170eadb053510311e6abc5efe0fea0aa6327a14d4a65b5d888c6196decb72728fcfbc119991d6dcea962b6b5f5b79f5915f2aba2f42d562db32f914865d8e3f3f7554ea10dad1438f7bcfd3230812a0a765d43bd34d54ffa2756f830460b61ccd6199f03bc51d88d46aa662a134739fd7699b781b1fc70169cdda3250fbd7d62c751e79bb966ac6371b2135b5cb89c10d8268f429824207ac756851bc4cb7a66a018fa682110fd06b6eaecdaa0eb11dac7e68d6853b645117c7a26442be214747dbff6d3684af6ba82132a8b05b9f03a313eac14ef856c38ccba3a7efd42d326521f934a9489518665e10046d015705cfe1969ca81b0a47de53c23790cbd4b51ce81581e1a9c037f1067d075cd579b274c11d1126187ce3af79ac6c664c00ee96051f11964c9c2bc3456b358ae87623c595bcb2d6eacf7bcfb1ab50228d890ef0c1942da2420d575388f03634c075ec4352c357726628e5787d5de141357a1f2b78e8b349f58b77dbbd2fdc5d3ac4e3604eb2068f0546d7ae449efd4c620b865b119191e3bd2f457e765a085307b687a47a39fa2078b0167c5d4d6dd212fef781c8c44d537a01c7360df1197574fc3f0ef5558a82765d6db9778998c98ec3f51f519c6acda3f25aa01642fcaaa7217e43b7249cb649a5a94d18284f73aee1466379896357fffdf70acd65ab5f51a67e32e17574ed0bac120562c35f7436b7e85eac0ed13e6e2d2b45b93a6468dc7bc36a3f1daa3946fc63f6ad168da41313c0d6704f5a83d60eb2d7ff4f602aef68f4918503bace1cd570b2f4d857f15adfd7e9b0074b0f23cc633acbd912c7171f38990612458afbe55f604e850518def237f903a9e560acade28c7fa75e1d243f4c9aeb6ae1199571574e37ceb5cc3ee5bba8ac1097f0a1da0725f164b1e0575e5ea709bd36362320875c16241cdcc5ffe1236219880ec548b3752da14fa07e4088325225939c7d8a0fba2ee45557d78164110edd7ac13d2ce954489fec89a0a1a60162175701135c361ea68d8c1bda256ec02b1b0390f5523f102d3af59b0aeb96ac6415c50fcceae809ff7696ef0f9109cb17644aa0a4528940f65ff965ae34673d23e0410e53e12c0591ac8d363af85d61d3bc5e52e50e08e8a543d19b8e26dcf9beb26fcb5f85164762cf6f699d2e7ea6ef5681c0ad1e9809e5ac296f5f055cc395c04bea0eaf356410f0dff4f3c24ba1823d3f15ec2947cd35a9edcfef8d665842e84e3262b53223187df1415cfed5d108618af53a64956e70f85d2f5f5cd30cce2830951f96d3547dfbb3062df9817763aeeeffb3fb4283939419bfc770f7193a146ea505426b6d8f8b5444023488c9d68dead860a9e225288caa00bd496acd2c7b7ac71edac01d2cb5a7aa5b37075b7c67de52d9a862ebb47acc2f3deee193e9d871465e7f5cfe567e9de9de1aa7cd68f8d03bb1c18ae343610bef3a150666145358ba9000087f7e2950f5db22bda059168d8c9dd36c625b0f41f40d8d08b968db267c21e590513123b12da843acacb1d2d4baeb381a33ef2dbacd10fcecce45e78b2756016bf126a6efb5e7b194249d045fc4ed14ba1c47051c42df558a3ac652158cacb0dd3ffd656a5c7ac197733a47fd9e0d31dd8cb1f67db1c1d56680e8a935db0591f85d471bb8e27d13f2161a153b298fdd09492ef61a2edeec418c39cf1e91cf96976c47e207eb111ab685fb75253c09e2d7126908d4f37edf86433bf028073197383c8cc0bf3b7af8010535f66244c96bef9c58ee36028b0a72cb4e5d963f43f48473beb7511fb809903100853f89f970faa33305b22b6e5761fc833a843aa7412e059fe3c6a0651ba833d562d267d2870d31120221e14caf396687ba72df311b363d9a7a34d9e76b2a73800640805891635d16c68a4471ad034e563f764c12679aeae757a198c39d879cc0e4afc16a634cf4ed4fa472b94bff10b0b9d5f2df092577e7c45028afbddcea703cc9ca121c0bad67fffd0fdf15df9a4f64a3bb05190c2d73797c462d84859d5cc7244cdc619fa31f512a0e4dc066094771dd841caf142cb01df279f92e2eda733f1d38ed3bd736ed2ceeb3a57d842c2b60f142d8d8759fcbc2ac51a82b73fadd069e2c46a676eb25afe014415cdd4c4a8f6cf5b7a9dda9740e2c075417c182d160621c8efc4a664017570c4c9a3a84bcb3d5073f7df33a4aa54a1f62bbbdd614dc7c5e35ab9eddf76e38f27052074158f0162d529ca13488bd33a303a6a0522271336bb8760c4267b2035e86b351f5a2ddf7647ca77bb8ba846abb7718c9ab99525feaca0b9287d747093ae8044c56d4a58bded2adf4ab2f979a5858e07e8b450656c65dc4c1a52809a5241d71acaf334713341f39352fb4a4ccde957acecca0340cf9926434d53dbef1ee12d63a7b209986edd378f0e981cc40858591a1a882e15a74fd8c74adcdf6045f0f8ac37b4b1d5dd8f77cb1936d38401881b897bcd8045117d64dabd6e74c2e94d5c1f106f2be3505708e3dc742f186777af6ebc14057245e2dc4dc256d7ca5c5815ff0116e1cd02cfd611a62e71b0f45e4ab29373c6bd92727559e675cee307036338feed426b8b0fffcc88171af11f50c79074df61ac06b570275207431ed7fbb9b8eb689e974faa87a2b71cc021f7d0dd41ca8a43d34b976d0d3c3e9222b56f316aa80e492757725f19a840cbf493f7f0c0e89c2f66265fc69eb616bef4c6304da5dcd8c7c28e378a6ac6e442fe44347c9125932373a490c275adfdc4304de645a950d8ce677a1b775bf6dd809a5904fbc80a9a934cdab307fbe6aee20eb80fe2d031b188d74366e9738e4b00111d369c1187329c3c711ce2ee06952abce91c308bc06ec786e3c1d0e9af754ec161a7eeda6ea1aa2e00c45b4e179d734b02ca7238704a138b1deb2c2c1d9d467678da48142d77bb1d2c4c8dc13996d76fdb8036e9572446ae925cc7c48dbc5f7d1cb1938f5d9be0867433db6de9f8c0a7ba7a053dbc56fb49cb120f2666609d9d1ee9a17120606d5e6876f08620c1383c4b4cf7b4aa6f12f9347f2726473688d62c01821255e619df3d3dc10536e877f20d08bf71b23f1d4f1c272a2c6d9b014ae93e25dadfc0422750df4b969e3c3383a24bcdc4d3400c6a87b470ef0ad9820be5cd213dd13b489bca1bda9c6c13897b2bd24acbb331b4d6b4f5497284a5f37fde520484521a7d674f0202b1fa5a4d9e0162a73c694d6e24ef2d06bf06aa8db3280dc964b8d6e670a1bfc5d7852e924d0c8397a6c548e0b8e8a7dc89b009a819498faa370d4761d860ac9be14ed5fd91c6f44f4a8d1fce941c88e77db52b9e398708fccadc5ddd192d4746da367d801cb45749d569ae1e1ac740f2d47e3738c8f82e0953d87b23fd8da98703d7e2d91ce5d8b1c9096689f5bde8d15e10993a73827713bf28b54e576530e7599eb646ac6769d912c8193dddfa748b8b4cf6b217ad2721820661bddecc7688ceb1379c5c467be5eb03a0b9a6c34e824fcfac229a9867ca42fb2e7efa1c82d87b8816fa625ba2d525dceddd0d50601679435bf1c8685ed9c65e11f9fa5e444ce66d51626bea2f40c52fa9c6da8dbc79256c9f9433f8ef2ad25aef8159cb9eee59bca8944e015a2dabb53f5fa7f850619437abaa7fc2190e7cd2f75cbc75f6b6206cf354cee5d47f603645359c5878dd2a098021ac016229712de3e1298fe3231b8c690e4125993e56fd234efb4aa2625eec75eccf49ea7870ffd79876b6d9d34b9bfca9344336928b6259b838373d7f0f98dc467e5ee015d10a3232c1367ce57971b76bcdf42cc65fce200ae9a535025e248426a90b1831344529f155a0c1bdc577de61ddc948a65445fa3c7b8d5c1a4ff4da2ebf5116a24c24ebf5e0241fd264119a6087c95c1f0c2d19f71fbf0b0d7c6ea2a148c08220f34f29e74b015980e0799c10c2b7b9301fb02d969da0def1dc3a2682e9ec2687b92204289707a0215ed5af3a201146db4c138a4331b95be689fbefddb58d3561db07301df9b83125fc042073f7cf4c5f9ccf35edcb14af6929d053db772931057ef6956bd33f9a9b75e030d57bb472a6ad2032bf8d4507c576a33e13b934ff830b1068b07f33085b1b67d52aa2222cf1911b022f0dde3efcdc10974920c492871c96343d00530ab44c23b80abc7af5c61fb0aaca26a973681bed6f234b2cf94453b90546569f1a17b40a25d9085e7aaa124b0345014ba4a7fcf7d404eecad760d22a82f3039ec93eb673a6e35d0d039fbaab512b391b5543c08d7b62054b18e1ce99b527714f70351f6724ff7df861b1b38a3a8c487dfa3b78900043aedef48a86060bfc08bb00d8b807cb92471f05d4a375e8002186eb791cd7f94c168fb7f36a900e0ec739df7f987f2d3d5e7b21e89d39a7684601940e5725325847c60392e7bc0f8f2d63e803371a1132c0cb982efd2044c52ccb4ad2b10564d2fcdee69f55ee993aa1a885555548d255a3c6509cd286615e4f5e7c08017b718ef23fec3341252576f26877f1cf945eef25e14471d04cba7d59dc1e4738c3d85fee8d59877999243fc546b0cff7e7d983ed57f8d50772f51268b94205955b909bd797283d17b81b0ae2c8f54fc9e8be97db1ac7aba7a7283f066cc63db3b92a89e5ee8d3bc559c49e35f022252bcc39ed5435b3c010d9b63c8ad63c7b5d19ae197e4d529d55499d304e556153e08a8fb022edadb3e8616cf24bfa8efffbd9f9b0bbe26ffee331a122720364437bc34022a33e68b79ca5deab7c527610619cdc44c036f1541a72d5ccdf1e9125e7155283a4193b2e293219be9cfef91ee539d6234db8c0402bc6645b5442888436e6a8b2f5bbdec59decf9429939a72f17b63bb4c5afbaca5efbc1a6439a8c0f1058243943a3917969c8d5a0c36e3ecec46de22cfdd8520fb3239fcc49add83a5d188d78e9aea03800c6157dacacf3d84ac7e7b10d23242175c0f8e5a425443d10dd5ba4bb66cf4b5e3fc0b55fc8e4c076345fd4923df09c0d982189d7f03fb6c7730e7a7107820e7a6db37d981a5d2ad3b10865e6f605e43a49f40e4237b66d53beb3c3eb8738db51417bd573841f982e884f887d710c3b8dc9bbc958d0ac01bdd38c2d2a5da7e2900ebcfb27aee8c28fe18df689a0edeb4f199c1be53ba5bba236bc2ea5a0e8ea5d250ac5bf0e8c569e85da4bd0e83ed1c4f0fb899e9a2837317f57459a5a3237d868858e4ea69330f9f319df5331bac7384dc0937418f186cd0763be4b5b2722ca9e99e47bcc24a52e96f10858e801c38ed65fda2022dadc910a10abeeb0a9d409ea8e7e3248f38a02698638daaddb43557bc3b5406732ad47a979d21ea72be51e4a625d9fa1799ad7696e6fecdabf24e4324108c4e04bb5272ae51312d08c3b9b99ddb1b99922d7c686d4534bd622aab689f1096a29efbf018b3bcf03c572439cf99546050c6d2f97e87d8cbff26062315dea1637639bfe26a2d3a7497b95526429b21e604a65e970efab349a621c88042e6027844b7c7319fa49d83e2ceb0e61659135480873cdf9c64a88aa9d4a0480450c9dee2ec30ea53196ba12a7af8a251373a79f2437e","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
