<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c986cdd0d0201492dd8278b6b04873203799db3344a5e72544b2a933e86df634be9205102f07b43c2bb2a19fe4a5086efd126dfe2d2f1dc1939b87a173fb15a8473780957cd10291c7116a34113ab248a1ae0da3c4ad061b2dc6aa18649f16b1f588ac8718a73d09071dd0617b43087e4105e971fca0d665e56f72346d9a0b00985972c4fd2edca89af01a018b0501460a3072a716751764aa06a5692258753061d8831d53334a118e6dac6b61168ea12dd5bd87b25490278d80c653e6df020ce9204ba1704711bc2a179e107d723e02b9bee9c638cae78456e4b84a202607da731a1846b60ac2d4f6dc92c607a12c10be5be92413f2cac81967c7b5344b294180bd8606651da3d2763f2f751c5fac598cece639da79575a41c7f66fdbc869ebd8116a53f555a8017705f183e26553cc8352a7b091c46dce8ea5f5096f5a7fa5b52d8046cc1e4a594c37e7c34b08d424282f27b82a3dbb4724337b6656fd3a7df7277728fea05b40bd8527ae552d5af336361737e3884ae5341fa08247261e2b76504d87499150bb9afd7d5af6c64a5ff95c5672428b72b0e03d77a7e632d9fb9c9aea5dadbce7ca28db8d76866c1df3c71fc8bb06d73b3d28d7309c668778de2075b9e2e26ac4837538f37637bc3c32f1940b4cdcff94455aacb6e1f9718b2d2ce5d36d2646f3faff79d8dd594e907245ce901ac147659fff9b50438975797ce1dc0a0b7236f65b76fad047f8f4fee5e9ccd0a46838431d645e904823903beade8c8f50f5359bfe0a31b9b76daead2d95ab545e1acd45dbb1bf442aa85a04482410d7d278256cc552c0108ea887a37af5e3a1a1a56a9d9c78e7f5caec0f50e99af0f4daa92efe16b0ab780babca6badd759658f39ff796986e46f4fc28e942c1a85fd75a6d22d4e58429a7841636f9d0677f8de3f9cbed40fc15bdd83521908e178a3e053975abb32d3a96cf81317901bcb115c97515e69e1139d9ca3abc07e9d4699d34cfda19d5832ff0f0eb0da323e0ab116c2c11a9bba64c7cc10000efb70169f555628e2bd6534332a7425747419494deb5bd36ab821b3d7938cd7a2e84c1624538792279d5a9c16f6b199a8eae236e5f6d5702923a128e6375caaec513c947637e10d4aa75cb2d77d4d2425c6833b26ae600edb7b80479c4abe388222efadba305d0772144e8fe0024e339d3c9ad5b89c265e3578976c4b8ce8540a0591330bbeac78cad844c3224ed314a91a11b6cd67bc0860fd6ffdaf77a0be20c9fdaba799c1107f03e93ac6327b5b7b5fe88bf6b49427b3abedb640f0094cc8265be4375b39108a3e665132653c6ea14587132cc195e3570a532023488251addf273b01d7c21159994afbcbaf2ff905bf9dc4619dbe60acaeaff8c756605c3d0d33735a2bf53d7b03f961c485329aa4b017203081fba6ce20206b35a8d8366944f14348b2fc53f0efcea3108074ca0ffaf509c4d6d455acbd9429c87547ab4b6576f7be61bf1a890a8d4b2305d15c871caee7a3e3a7941f05c312ff9f9000861a1f8c67a6aff4871140987694b03eb5fa0249954e6b3dee3617b65362bbbadd089de591a0efb62adc8598aa6901e1210023c6882fb1d9ee4b7937aa524c65c70042728654c2dafecae6ef9ccef2c20d0fc5d4063193b0d105974ca10086025186059a55342c4e026a4a4de651aca8f1a52f3833a44bcfe4b0efd63144f58dceed1fe4be09067125ac923e5a48b8a76b20f8d011ca62f42be3853e92aad678eb338da5a5ecc74588dd3ec7e148a9f125e4a1983305ba834bda4c7763f8b04724b317290217d44d6d799444ad12e1a582ed4625f2312d4ac2934bd1ccc457705d0c751ce06e0c998a3cb6d6da37bd2be2f6a4b069f6bbf3df427fdadf6d3143de6a3d514fab5626db1e8782307f442db32aefcdc61dd4d1f3c332b981aaa380ae29ec6a4c443f180025cba783a427f24abb956903b34dbb01a58725fe6fa1d7ef22fec59a7028113b06baeb531aa4d13610c78d9c24ab174cc7c4a82988ac80c6a5829538f0e5325cf1d9e05a8bfb7637d5c5e5ece3e72c1b5183ee692bda981ced260b2331844dbbc5298145ca5aba29951a320442d32e6fe1ab466f087bde65da229357bb64d597f26b074edde155e6856ad90637f7fc44ecdfb2cb31da4c02f0d3b38a2b29604197c3fcc5133869823197cb34f02b4c45c8bb7c637d9a2e1aa6da06ae7aa95f9224aa86bb03cf4d90f6498a7884e0dc4ec55169818ec0b1a682387f45d559dc475a99705a370e4973e69564738b106858e180ee44ed34a1ec90da1b5b99266d524bc3219b244162b236bde65ce812ac0125e0b8f39101f446969c58a6bf26bd55f174178c88538ddbf6f08ba5e2098ea4bc969cf7d827da2cd715450fd029234090e915c0b40bf90012e83737ba0a9c8bf2785d6600c7764dcd4e7f219de652d0c0eebdcda3abb27a419dfd3d215a7789d471df8ea4dec760fb47d594365b44bc59ebb6fa684afb628734fe240ae8a3b584ab7d9c5256046b23ec8020f63f78ba338c69d620063670c15a95e50e7019b4c05fc2b240d5da97f7ad198df566c47d0d9435e08ea62a8ab305b03ea5614f18c85f0aca748e1f0d1b58b24c07b6525f08a93908a335fc995ffa63989ce0594e36ba1707cca4df9fce30b1dd3c4c86d0a3be5ec2e5b5d114526c88e793b4ef3dbb2aa88fb933682786c2f3449c0ac37d0b4c4d1cb25f32c0f97a88fe22c60ceeb27f32119f4384023c0b150a912910b91e89b2def4f9e581b634dd8bf54f5df74f76b29ac35a13804472731a43da257c20670072cf0778358f3feef41e721fad0e0ac5f8740f883e6a0ead77bc4867538c98d201c4b98574bb99dd44d917c9c4f933deb46912789489fcf6eb880dfac03e50eb09e93f60595c030d6ba6ffa6a8d98cc0ce409cdf0b6e4bfceda67ee6e8236606d93515033c99cce621c259622b5bbd29f55c38e7467a74212a77f7d056ef7deb3fc6dd406836112d78a0baccb3d5792d373f206f9f9733e2f9fd55ff957261b01d651ff588e1d981a5647fba64bbd855e3c881a5d476dc33481823dfc4321d71bf5512c1784bc3324730ec9c290c7809660ffd13d891dac7f60f2e20ff113dab93370745d240e465cbbd408622ec9a5d7d3bba8e8c969b581c1bc6dc6a577a6c22c53957eccd952e3a585008c232f9fd755a9795fc32f174a5227bec5a10b36dad7919d0c000e731c9f7ffb75d73b36b8052e72976a359b3c89d318032dfc339d29233bad67e7109bed6a1d8d51584b43d50fb47c30cbd4bebddda21a101dba704a864a3d737f6802255e8fb62abd779c4d2ca8d329609f942b05ba2131833c6a8cc6167364b833e98684e19c9a7bd6a1c498ab82de13231a46efdbe643594c76ae4864eed0e8ca6556c34bd4f70ce9a01330fb78d670837db0ec852f95eb39eca4559147d2795bef9846467d2a325bdbbc272e5df6ebf8f41c5c504daaaf8b350111251109cbb9fdc72f72f08954b0f47f40bc64f3ded07c0b2c3f44c48723acf36718719336825036169108a346f8e2f8c6a0cbbb92eb2f2109fd9264a92391c432f6bdc0e587e96a62a47e89949a9ceb66d47f6abafeb8f2bcbf162de5901d71ab99226d1ffe9ae08224bfc5b9e0ff82ac0cd4c186131d3b35224e32c3525d70f641308f52a6d2b27f87b81c2c80a4c6af5a6c25ecb6d7f8fc69258c752a2b395a30906c052e0204aaec3c45f618bade86c254d817f6b6d546de1a3e5f667acfe4efaac39b03f8ecd7e44d91a6e467b5dedfcf7b069d20dd274aef9bdec89d7c73eea1a07181df57905d438d3fb2cb40b20c296ee796170d452eb446cdc65fc88eb8b465a1af1e409dcffb852c0010e7b4b4bf458a6c9c4f4e134273d0410f4aed7a0e1e01b6457dacb19f8781c5bcfa10624475f71a7d99ba1ee96781a63ec133ba9448af37c14ecf94f83e56cb9d93390f8d420736b06d41adb75154f5f4d2d58305164cd904b4beb4bd3ff784d9715764c90f4ae62784fa8ed54ce8624f49b07d00add7ec48d01c668479ddc4b75d848660b7ddaaae0839bc38a315d0ece67afc7ce025f7f3b65b9a5e2f17930aad816687e523003ca520905ac032fb03174adeb90f9ed3e0fc576129831308b1960762539ce27e0bd1c6eab86d57b76cd06a972cdbf5105445ba2826fec24503708cd76aafcf6c1ed15f3a5207ec8701c9e2f497fe2effa94011f3a74e7ce7494583d8e557e707ec2be44510c9a59dd75a9a7a25259b2e9a1f80a701aeec16816cc30564bfbd0aac60f3dd18f10d80beaf1c53678b129031ab5b8bf842d1051c992c601e516b3593225acc5ac977453d60d6e5f2a28dab0a2612ebd79205d39052ffe35ed45474464e7cd8830a65800d5b0317e3d056e9276e5889bb4190224e3c8960d919318a02d202b950990e56b37b05e6da258e4a11fa9d3f9317def3bd9db928ada3853e4ab11f0dbb1592a7029c88608425c5fa2fed67260ff0e8d52627e1eb883171dfe30eda1e539fe824014de4caf812e8278aa269e8e03c1a616282c4693a45220a1854134594e596f1ecb17d839ee432c3b24032a5d3821ff7a0d7c6ef8746950da939f6d556862d0498b222f9e94c8c675d9ba371a20b6f8b63496647dfd7fb8b2a3d23878aa5f6511510586018367c5fe26eeb546c921ec2405a36dc7f7dc013190e2f929439c413eb2b33280b0bd3e1e54ea7a7f20ff565034460a8ff5c7a9d03ca7927f031885a52fd6f134b2aea5a9bb97927dd1bc5012c21c3e6ebecc6e6e6818c55cad0367189a9e113c5e67550f96646e34aa62f621436bb04a2d51731eb9769c58c02752f0eeae33e7691909ea9ebb4140baf2e3ded9c1a21d50d20a1c31a6703fab757655793abd40057adca89dc01343896ca0ea07e0bc28755a9b79880db820e54430ff617fc5c19970eb24c7517b17634c7c9670b4aa194783aa2bebbe9bf48e707eb6ab3cd401aad9bdbb6f78ebf1413244b4239a27d673c3cdf60583478a5f61a655d0300a875d8606f0ebb47d86a9da077c6af74d46132db535d8a73bdd94184bdfd941871fb93c211e80e80064df62f5cbba8779bb83aa17b62a8af83203a7fea92bfd6705c10e1cf82a07c51859dd9f9ceb849ce2d5e343b792c892a800041572b843ac6b36f92a6901a65178933df4c5e227caf39484c082e52d3e62284899ab601ddfc614cfc3b991cf6b3b2bafd62bfeead1d41b9962ced03879958f8b65a1761ce0d71291a1f26f58e4397df06e112db7954a049b8ea050713b67fb333eeeb03e2f55b9f8b59a4a2d542661b27bd9845b59658a1e8b9539b398680bf940490d47a07f216d7ab30fd3d4b3485bf5e8a75decfc7d8e20a3e6aa6455cabd62a90d805d2fb3e3218f7535563f283d6f8c77ca23ac5c8f04b1ed8e15284d26db29c42ffab3a40b99019a4362a56f84c4c77b591458e0e45f2394fe82efacbdbebd9e82240335858a18ac68289d22afa17efb2f353d8aa7b6af727c6b546caaf9197e33865da6c0f7a9af9ddd1710e0f633ea13dc06e231dd3b65a60bd2afea4366154389dba7a65436b5ca11abd5ac3865f841eb097bad1ac4a3d5284caa4261ac5ffc9f71f32b99a21d26cc6a0a9b4ed94a22fdf4ccf8be36cc5e7eeac1733535497e6ea061922a9c363d9f97f8e8fe5097946e75bbf98debf893c6360ab06a0b01203e65a118421011437357ebfcb096d6ccc0648d9c713d1e4428f67e183c498ed308b8921b2f19bd18f7d6241944a2ef940f6a4cb5fb2049a154233d90f3e926aecf77f740a0879a4b389ca1bc8da7227a4fc50c7f5ff197632246c7b2b2d1d9eb7f1b7a7b3462c6ac568e898665041723f99b6eb32d6683e5ee13cd1e18d58b96ce84236a8a816dab72a04f9a3d7f8c5f64f0e0135608a66d5f41dd5e9397dfb685361615ac3de29e2d2c01b3eafd5a0d4f045b7935e2ffcde53bd21bba4ec8a303b42c322fd45af1c0bce17afe5d9bd1b0fa0eab3491f5e843ec512750977a778786856d5fd821863ea2dfc64521d8a8a359edd07730069ce021f44ad51c7f478c279d8d40308f184769fd86c6a7d35591b39ca1b92670abf206c01b88b8e30723b57f705c3f4951a2d42c58cd9ef5c0dc4891b6c821255c964dc0b036ac258e93a92c7f08a82a2445a6605285f06745df955a51be9a037b85d40f0655c6144f19499b567ed512c2a3f64e936350ff2299cbc99959431899cb94ec6a31a9b5c58af378d45cfeac838a0ba4e7cb35671bcb93f62fbf060de890a4659114321cbe8719b78dff1173b551c868ec90e4092a440097614f7628c64aad2b547f3f0def46a98041bd71791e07b1fb5e5c2e554f2f8407dcf1cd9a24f8326ab3deb73227d68877f14fb61ea1a9f28b995f38f1fb10fdc1147539ae369f88ad0a6c65ba0369ce4a54d556f6b8da47c44552610f0638eee37f1e84db6c3d714b790c8c51b23db973f4b5ac630d737aef171d076c99c1131e7eef98b3de18e7bad565c668dba7b7ee96a429ca368b95ff1db98bf464981e3dd9dc8a65135ecd8ba8562b9d7583c2340d4c930414cf1dcdbbe82ae6b1a0780cfe2ef0808d516f900e7c684fe21299f8425646bdc87c382ef8a530888945a389a890d45502341a65f362c91c1717bdcdbe9a2ba9796e64b3c1409e18b2bd0e0660fc14fb1ac297062af9257a24c0b375df6114f4141fc729492bc78067fc9d44d8896cee0e0a3934c356a92e73292d3ac60798a4a558995c1a8de983b5061a2cb91159e71e132fb50a6a8135104ef252c1693bbbc1f99b8dd5e65f153872d2a0c47820327ec90d32935449fafc36a51dfcb6fdb0068d58e62cda858371afef11961cda9f92f1cba33b3f3ce5c5dcefd6176a2b6baae1cd3ea65aa06a4a78a2dbe2cc3eedfefe747dddbf94cd469443e47abd3a8e45edc4b772e2ebfe4c8f8707275689ddc44a60ccb2322f7a12c1e50b0d0ec03a474c69a8bf0ae6ca04dfbd4a9a8e2b0abaf943eb2bf16242b56f864ad0434dc3a397bf1cfc070470caa44abf8dc9a87b6455404d4c88757c5b6ef2d4db21fa3725fa8a45a1479fc9c46d0eff3d13f51623836ac5107e5e0d37c755fea0b939bc8f835bd03b1aadccc4b0b4b8364effe61b2551014248fa7cdd85de227c0f8124ecdaa50af81d64bd4e37d6bd44830ad143e706b63a8265f58c4e7796bcd584baf85875a231e515838a8d8ebc63acc402eb2d85c408812c96a3b38015f475e820195140fdb8a774bc1d1d01e7cc69373dbef74c0983a3ac59c3622873ca5b37f3d9e6eee47362c5bf01afe7206644516ebaf06745c06ff689383e70e61934682a8707331295af2a8c5015b15982186e799a63ef9f6a4a880b2e89b562964d37d1b341631b9d7bf72f7201748d4a27487b66de7740a83131e5035bab95f40c6f4fe7fb575be0b83e0e0f6c70b2ffd03c0a9abee532d48f1c345687d350f97fd26ba7413f3b9bcfd5f0f94bb808f5cfabd191b3dd1b5f8d1bed0030c78765efa4c6771344ec33ff00a3e2f10d6c2ed5422286393afbedc669f97f9a21a41ab5243ef8de0962d683dfd8853a1387d64a5ba19c66051ae28d2fd890ccddddf6680932de5918f84e61879b63132c7c1586e09456a8bc81212324b8a77a4d8c558ee30be276d1320e5d856baade4864d2c90a2403cfb1e1d566ad73d8a83246d3e429c6a1bfac3b3324f727edb233db3a7578da329e1275d1274675533b6fce0a5374110f6c019c767e199beb485569a3c3a72c4230317ae2276adcace441bd0a134a2b7acaf3cae4dbc110ca20c9949d9949255e4684a3b8156664d1255386bdf5268420aa3a34b601d2ed07b8f9966b0f74aa8fbb2bed5cd69163a58936f8b969a89546c4ab270376560fc6e41060474ab0707fafef538bbb9628f32e95cfbf82f5627849e6e07c741e5e50cc49b6cbaa0b56ec4b66c6760ef5074a09b839c5d3a55250084c10ddbb143b09eeee538a5c185def9f4ec2bafb4fe7c5b53a1159195801f82a86dcf1a376560e6bfe5f2e41a77c145aba76cd10f92d632888b8c81056a640c2f151e7c95c9b7a0581c80ab17a254567770f0304eb939f088dddd63ae415b542fe5859aada1ba4af075537f2f6ea47e4e6750f527c18c320923842b697bd75b8dcc56d09053c76803bb83400a6f46449db8cf3f8985c789ed79e35590ccb8b378b78b981e97eed94b61af31d6546b01179ad5ead4ac7167595340551946fa6b09c066167584b96aa6ad900a4c5699e11c2310b651b43bf692a96e343908e0deee9e10817ce57f7c04f7a11fdbf878546b66ca7a1c7655ccabc30bf16c65414f1632e3361ba155d2e4374225eb34c9ae75a764517d33282a2cc0a97f149389f40dff51835e5144a6aaa8a4581655144765721108a16e444b5c31ccedec6a90ac859ec34627b7da4c7ec3e2e17587f504c0f0d953b0c8b50ee419934a5fa7970c336bae4b992788cce08381c52885881c4f5983c2d5d666a7ab625ea5627a45848256eff451fb8f862c17701f8b1899736fa1b52cb37293db9c298423f3f1a1131af3c8a453865385e647615d9a25ec0bbbe59814a5dc00984906c3165f4798b4d10fa9f701be552f423090be602ee77efe94faab8d666d51a6d16e7abf6a18b5cf797766ea017a25fddb6fa49d74427e1ca2ee16404bd7cd86ccea799bb4928ba394d34fc17881734ab3859699056d9341f1a27313e89efbf8e9297847acc2f5ce6ad9691bfad3bcb5c5f19aeeb47b3d95c4ceef57c86092a0de959166642b6a93a3d0686d4c175e618bab43117876da633a5b26bc6644466d388c07ca3198cc101f6e837d2ad4e3fc73e7b814570b7f7f10456650dd8ed6c699833a1ff810c3b59623d063806a13bca39ad9864669fee3ebf16871fb33650cc2fe678e670ef09c208d49580973ea4b04ca650bba56e1c653c239cb594fb1500b5089480018ee0a9d012f95a69722f7ce8f253267b982d00f903b72d759fb30fbe64c000a1c93b49feb7e2a71c41e7a9b0e363f06445ecdcc64f7f4b639762bdd0e36c535dbe4b2e412b8d8c3349c1f3d94a510467a77277566b26d06856737506c167b039facf26f9becac5bd6da53ea171a8190f4286b4e8b2ec69d4fed4d7610e06ffe1adff9f42183a423b44cd0c71ae8dad298b2fa0d7a070eb2adb8ba9ef57016876176d852fdb8ad1a93e64a82bdbe4f17dd75df89a116c14e76c042a49959a7367f94f0ab5a6b6e0969997a6bf5e728768afd051adb807e6868626aa2b3da4b3b2d7b0d631e22ccfbcbc25ab3f38da7b71fa097e6ec2fad3dbad41ace98826f7b6c380130ccd26e2d14dc1f6421461ee613e73ebbb828c2c8d0b24b9d11675fd7b5f97f8a3f4c0fa14a33a4b520d3af58dacb1e39001be0d150ada7768733d9825a9119c12b5f302c94341159cc7b49eb3629cb1d2ac63487d895970a87097df800d0f02d93c5e0a2efc5fcfac674af4e5ff010a7b08b7700101c606a3e6be436f01ebfd15875d9c0c0f16c7d571da7225409282df24414cc10c276a06ae3c637602464e1d7bd396b3bcc4c6f2e56a2b67d7a59bbbc82999b6d63fcf1d8e8058101545f2d6fd16b1d4bf9e283e23d77e4927fa84924cc0f0d3b524b027d04ec89c27434632ee31420b0317467c00843583f1347139a71a44dcb747a21ae15c4155ac740a59ac864613db92f193ccd1cd1979047975c32bf3485c4584f27bb493e9fd647f5c21e5d87cdb23319aa8f9e150801a8bd100fbde196986171476ae75cb10b29d9e7e28ee57bc4895568f6e6f9bd9b17cd37beb9643308fe0ea5bf596955a472a93f90ad1c75de211b954112b08f0610c0ee2b9daccc05d6062fd4ba09abb5aeeb12a93d39b2e47c6635867fd28f79d4f1fbe6052ff0adad46c9aa3bdc1c3d0797a19bdccf07c35c2acad55ae11a18643c90ca4f11c4cd974a04495b8a9e0225786ea11dacbb381279149d2c967471e45ed5e266e69b6c7a5346d127dcaec6cba79a18aba66eb75919f65f89294a25c16ccefdb798752de49ceb3c6dc241a22acf754356958ea002bcaed360594eaeea818699c3d911ec8ee5fc4780c0a52dcb5045705a14739d7c3ba032858fa0f662ef878f44ad41d4b868a11e77f01a199cc9ca69df8ca6f8f06ee2ff9bd07eff06fcc20a11ce4572881f70df3275cf9c709de6ad01ca2629b4630eed209cee6436a4f7162ede7efff54c21241f39de2a5c7dcd2aa1de3401ec03928987f017a0c2ec0d783d9087c4ff0aea4830c5cb0c05a2cf990bdaaa71b4f38edd204343aeae1b05d8326e8b87f2114e1cc070a9665c4b521a49b6fa27a82e699fdc401508262b9c96e92b8379d46a2e1faaabcc69c5045333ffd45b1f80215ab01b2a67d2c82837ee23646e0c7a57736dd2c2d6484b569de1dc4091f5ccbba078a8b6d7976b15a00c158de3c983c680d209e142d85f73b0f06bc47a022c63e16b6a330a8d1b6aa48238d572b4a4371dc7bb7b916154f72e0ff73d9392eb6ccb6a37d4a1d8f848b3feb9884b064cab2f68c93e7b02c3bd5b7cc45f10a184345c979d23a8ac257de7eaa502d03415b56b24921cdbbdc324b8c9646a00056fc4180ca6d8bf960036c47b0f0379bd74e4a74c3799f1a1896faeafde9a4ed91b1cc2dba1bf07e06aab7ee73d3b21957f96cd3d9f15672508508159a86c635bce40a33e269252d0044e7c8a0c94a76be5cdaffb27935271e137d50e6ab49173cd76d7009543854d2ddd129feefb226f18aa559ab9a1cc111252dcd47d5dc2af9ca29c151f2f076c9f0339f2d29afc67de8882ef391c2d51d6430da0c8f9779739aa88fc833e1af447b08817b394790b8797d281238034e4d68bc006a6fe1bf01f89e1acca2877b2badbdef0a188a03a5f39c824be4529529fd0635cc084eb1204787ec7273c625258e0423b4a2d486b573c9a98c5c1d86bd425527d88d3a2c4a9ea2a0b0e47575b59b5bfb8c791ecf6c8e655ede99b331600afa90f9451f1148840c56b9d0e10367e75270191d2b65a458fd0e5bf2cda13c24618812d134e3130aee60798a8e3fdf2914ff0f18ab221783fe13e406e8320edf9b4de4fa655916e08f58456b8c42576940b268540be5b632f9cdc05c24fe758b3ee0678cae18c9d2c2c7394f9d0e9b920747148eb1811d16dc0486777304b8b1db922528155464d19f8c449a98d5f17a7a34649874f24553bc06cffed7e8bb60f074cd43b9f0aa063242badeb55744fd8f41da0c0342b6dcb9304aa8c4b16422e96ae7d7c578de228b03e61aa375268c22598d726b3630b83d5f1ad1e996947da90923b0ad38efbc9127bca64393e15df6b84fcb11611a7c4379a40b73995c6380cdf3aa42ca00b6f1034d651d9064f2f021dd9f00692cb5516c6b528e7dde2426d431666d74bb0b74637dff7ebf0dc415abd359dcf6cfcb8cc97ca6d05ee5b661d11a2cbdc57cde721740ca922d737331f28565424fadc71d3a7c3baea65a910e8753f8a63b6a1aa1e2ecb1dd0a086cba5bc44ba51c5fb306f339ed93f0e405476a68a4064193b9656bad3dc705f79b54aa7d964c118087aa3c14d5641ec7dbc30fe7c4c73667efdf3570207a360538193608df06165ab73323f4e0bcf213b72458bbdf1646b47db0d0f7be9310a1cd781df88841f7cd90a97d19b780c8d5417562c927ee8d7407835751744d99e939b9289af46c0e4432e604209e351d823f822094910e3e4e64b6ceb6e99d13f5fadba881b2823876333c5763089a2a2522b1435843b28a4041053bc87500fb1d16a2f56f5d4831c02ff98a12a37dfd73d66caa5f3103a1c203cfe114a844e4ca1362b1a8973bf22f28f80cbeff13e7e1775a0011499b1c36ad8a0768384a88103196b302bd5039e13f2d649c71997dbb522e0103f46e8f377001a539c2dc1febf3cbdb501a4a6ddd3cfa2939bbd699bb4df1bd94626c6d0645aa2caf31c5e63e51902ffb7d1b5eca2f3f8b9c479d4aa0feee82616d9f090b159892c6eb956c94c6e1b3b0eab3ce547cdb673ddd3146152ec3d66a5f74406106e74bc8e618cb7cbcd9bcbbce3a1dbe27f484c1dd13e9770dad165e4e9c8302b4875c96bba8bc1c84b0abce29cce9870ac07859cd96aed28772f65206ae7bd1f12dfdd510a5eeee054c45eb2ea21e445295edda2b268ce5471da248ceb3cdaf83e0a6b06e18b65b62b282ae3ce5a6345b98077114b073e1425b8f6c979cbb0c2d8ca837a24425203967653c00a9704b04232eb26e41b8e506a12c510a0292ff20b19081720d5c3b47f589616e8c7d9c3ea3b99f2c9a8a79580f7ddeed265d59d6633b77c32017594595de1d479aaf763dfcefac6a9ed75659d3923c0b6c9b370a8d6d8dc3b32046bb911fcd463c235e74c89b7f84580fbe8e831a6fd1977aaf200981252ea2cd73518c48da2c7326b903835d16c0789dd95395391601df54108b8526c6fe98a50c208d49d9f4deac2859b8e476dccefbc537e96c669dffd6908a3874fb2521f14f3685288ccb0a803ec6ab34d374c29490940bf72f472067cff00496f70115ba2964f38abdd7e9344e1bf0dcbc6d8357e1babdf65237c4ea7f6af39ebab301427c7d31c76c24f1fb82e91ba1775ebdb1a028bd7a4c4f97813d2119d4bfb3d6f505d6cb76df1f2b2eebdfb0bccfa0cbae4fb4a89c9f02f1e4db2c1e7d4ba6b2eb17e1cfe1e31ee718e310fe774fad7fb54b956efe453130eca2fd8bcad56c32c72997a7f0c74c7d06d558560838165a7e72786f278557985902242ed732b427638b599640a5154e310b64d7dd722506fa1074e6da924ac5c4f911d4dbaee12d1c3b4fab9d80dff707ccbd85d835ce5fe724a122616e1b1eb0b28f5429cefb4996612bea40f71bf12d268329098e752dd3baf03356ba955f34624d2304094a6d6a847c9e835d00b70b2f1eb8a03c80c1bf90e4e0bbd28655360dc88bee5a35d099b8c142587d329f0993d5e47379f42b684e9fe56be534518dc0d9f9c0a5ce82d80e2004e1c4c72099fda84da85907cab9a0c0ed034c91b6ef19b4c8451466ac7a1bd5ac09110b92f14a8a8dd2256096d69481a70a67ae6f5a45c5eb0277053c95d8c4a9c2d43cd85bc72aec7c2220aacf7d70be7b1f97980749fccd4e6971ecfd020b3a9984f63aa4a519e8073e0d336cf9cdc46018e87c5ae8d0f51f369e5c3134b474973fae2348f6e02c1dd8eb47d88deaa620c837ce84764c81bd96d2115131c2eb8984f160c16da41d5259417552c74e8480e0b8eb207fc3a8943455d9d4ad06e5190b1ce7a632dc9f5a34bdaf8cd8f5dfd799ceebf091ef6d6e610fd6184a054381dd068685d7d59ef19a806255525ac87c9f6f88f5214dcaeed2e1be05a40abfa6d4e31c30b84e4b7bd52bc065de5129c080269a691a99bcee4927ed9e2a6121694357b6c6daa13bcee1f3b2cad9d7b8cec1157053763c1fa47fa391fc9fc6dd3ccc1dadaa25dae7dce86a8771c11b45c44480547f91a6b3e2fd224a69d81e710b5efe76d20accd218b388da083bd6d05ff26983b3a3a1b7e96f6d831a7f00366281f58906c946c44f527ed6010149fc68808f9f4462beda827ab7d6f284970a47a8522733b883199dd84e1134958b1af8a0e94acc809a5471eb5f29aa359576971d3ecd244804de2a106b6a7fa9549d730da5170dad42241dd37789bc7c4a3130c8a30b2d8ac658f781e4c6f625a7bc1cdebae7397b2a2a08283d96767691e246bca4c27717898905e8d65e7037b31c56f9c0ba87052b9e327b17ed11fbd10a130891137a3447d04fc5c12225d028186cbc8ea001ab0ca48b1980d86a6c9b11d3c7477e3661db535be0734009f60d296d2824bca71d5ec3c504551cbbde572aac86303e2f5a5cfc820c618580cb1e795840d4ed31ae7f1c9dc02818b014409b41c49271276114e31c28ea6c8c77dc2025f23668e29a0cec562c448b13576b9e02be092169710bb99656a461eebf89851687a4e9b0c377d60a58c942c55ced8acef3f8d2d3db1ef4f9c289a0206bf3f3b9913a7fe4460e7d464121d1a01f54cff6331504f8b1bee87c8e9f807821bd049e0b7d5696fc49fcf648f0b3468f7c55ff36e5e75a24c5d70a8baf842c3f49992e0c2364ef24be8b3127b607f4694193e1d5bbfabebd29f7ebec86a312cae47ac0e5bb0cb983fed14654e0ca88cd7c0b5acc989def8578fdecb77087a5b87ade4deadf28e63555bb62c5ac84e65ec2bd02c3f45cbb8bf84024f0df9ee2983ba50ecfb333e40b2e2952d50c65f56cf18ca66654572decaad80dc611c9cc7069f6bcab6e28de0aeb44d83eb0a0aac0d989cb1c8840ca769d0e8c336994dd82dcefd19121c375d99e6b8c364ca163f9bbf2207f54de130c4e12f32760043878b24d86741b0f26631410a2e47a4b9f29025e36cd28d638680d7f325060404639ed68b379bc27449a3073fd0a9d66ec4f52249858c8ddba5c855e4b3e5f6edd69f5965503fc476a759003bf76f6a8ecca9cd9ae88c991dd3ab041c8c2448c1329dcd848645affe6a87f9dba8a4be31343139ccbf9578ab8fe68e817018f0d7622f9db8f7c5997947d6c925855535f748a800d4172ab5de6ca3b07d55bdbcce05aa9cbf062c594b0c1b3c5a3e0cf692c55d281ce24569118071e1e456c1cf80ff72a76d7824924b3e36804add1e7fe139d4823782e66511cb2e6ff02b461f412a89f86b36cbb917dfc199b02dc2c10121cb019ded4659f185435dee59d7b75a4f913ff53812b48f48bc14063dde41e5c5f7c25206a1df3c8075ec6684b8ca06f3b2a9d267bde7ffd68cdf1f812e76add71e8ab1e787d776ab0cd621e21736cf66db033b6744b6fb3885f02cdb452f5f20a0218c7c1d95a93f3c6fd690506d634e2751863a9738a80b1fa74b4e9a6cbe6e1ba9bdc9a787aee1ea0b26d7d41a6b2a2b5f58f34acd7a760d15b276b99f70973e26d7e32275ac87a9813fbcaec2278b8eede2a939cea09a590fec6494bdd94cec075a5bc0bae0f16f8ec566a53e32ea6f579184a629edffea10030a89efdc880c18f3a32f0aab86282e32d134a65ef2ecc83a52d9e8ddb505844e195949843efb627eb5e11e0dbde00d96066ab22ed700b2c73e6bee8dd9ad0a7e6736f7e58467871fb0bc93caba96b515dfb79eb92fafb696454ed0f470e1f86f4914a38567338683061875a5950b9e9784e90837d7cbefc01cc991c17c85abadca0ff3cd006ce1f2c68d4ab48e075cf7a428011d556cff996a46607ef764ef89486946b0da5c5ea7ff82a3634580e639bebf39bf891e38c5ef4d0da10932dac5e54b8169c7fa453abd02f97a3a10532f0731bcb577daebc1d75df4208ac00be5dc0a6fa0cd594994ef7e2bf0d0e0dc1ffdd0836917fe8304eb095db1352bd0cee0b0e7f6d73fd605fd7a69d13e98e53118c41b4b8ad078c016d95a0c97f7c70d149e30dd6fed70d27b2876866f960b84adccac8ffaa560aca6d5725a6853f1ea278ba8a5c6f041b1720ba3e14a252cfd3d1f883d28c40513d224c5baa60aaab160978aa7aec88e5d09f70d059211ba07c81debcc5cd58c671c5d24c9f49a4e1eb664fe88b0b178da84576fdc03259f24487d0bbc31d02c3671ad3a6f55bccca18bf857f7c1d342d5cdf80a252ced384c75ee1cd528b594bf8d7c799fc6b9a73e5fa5c3bff663ea0ad45de936fec60098bbb76a39f409a5e032277533164dc667eba05c60938f96d6b153dbb821bfc20470a8485a493537f6f90942e4754b4bbc46769a89c205b7ab0614b7cb49424afc19095c9bd39bf67b60e40389f20060800b9f9461badae059357e15a11e6f03a8f1c0a8a324626e75e2f2454d690a407a2322ce6af6b406df235846f99efebae5799b2c4e8cbdc056a1ca7a16733183523b41ff71c8aa83184e5cda96e27a612cde24ad6b3a7b32c19179282a9024e1d126466659f15fa4297928c9eb6e9526f9331434c3195618d5ec75dd509917100d9e9d7c55f9761f1b932174e36df8e19a82acd568607a9e6b028e317407aeee2b1902e0681a6b3fecccbfd9e5238928e69c3cf56354126a66bebd067b9222ed9fdf62ecffa78558093ca2518ecf3952b90ec1c59c53444ea292601cc9ffd6c92f9bb9e1d6bec6becd7dfbbeca07c9ef287e1e1b91c2cacb2b41dcc53c4d5f582b4a7d41bd3434ec82b02fadc1b579c63574aa69f85c20e830182b49e068d2181ffd07b383a622b6d55b91cad591549b1e85dccabd125ca60d7a02568b9d9f45c4139c8e223fa4a0fb779bfde782f3822817e03bac982bb107f8accfe0127192be73cfe7038bd245081722d3bf99dbafdce9103880489fa2fe8c679d3b52666ba12c8de320b3e99f89c7986fce8ca99c60b6b6d0158f6555f54a9a242239589c8caea09a1acf329161173fa1bc02642aeacca7b8a3a189e631c201d8acecf15d5e6a10f29e1868b00c4ebea6c634c984d44893da8b78994cc3fa6104b513aec1f357360765f42e9c7016f1fe0dbe7178259c69fb9bfb4523f8f6885e095202c14bffe7b0e4739464c63ff213fca9dd00b296dad5464e1a5737c916fd4a04c3d2f267b96f5f996346576852f5268d1866078ddb9895b50401c62383a3d3170aba1cf5b77c0970253f6b255932f62ff2843b223cd603bb1711ddb74f1a7e5495a2a989d2f5595bb479c40a528e327b277374904404ca5e864b3baf0fb0e3e8d48da8f52c30e0df5804e98aae4d7509aac887c57ec7142a1e57217c03b12e9418bcb651d9de222d985a14870a1277fcd02b56ca216dffb7810f4906a963774a4e8e61a56539a72c1650be0fd67a3c41274f557c6db5c947e26846dc0b117229f54f8ee2e4b0a213b4eae3c72e32eb8387c96be7675175ec9f22a0e4066fa57f143c5e239bd15554ba6d8a997108dcd1fd50abc122952084faf422d5f20271be3909c0a2e576d850482fd6c3e23b1a611b4ee6162bb7067dfc27c72ac03826733326238b4fc5314bce38306113e2a32571fadd2a84193a97f4351eb4b761f4e87fa359d251d527d38a3bd0e24cde87732977e21bf2599d3ec3d06a99d2bd7db6446bba8466f379cc123e3238ac481829ced71ec47d455fa7bbb77d92b0d6ec2d75417c45ec7b7b7d18114b610330369964ba2e3dab091a16d4b14ce67aaec48deff7fd6934ddbc50e92c7f1ea1abd89e5af52a48348497a75993dcd57dcff2b94f088acb3d518d21c5772bd4fe4452d0ee41c0ab18f9a45ae2dae5de0715409807c12e49991a7f0dd900ccc4f124aa21ccdadf0af175df977557015f8925214bed8a592b77e04e8cefc10885364aef525741d06445120feebf243c647c5ac705121cb0c0066a3dbb688a7495bfb9ab7461414e73875780fa7a65bb55040987ac32173342519ecba91c2baeca06ae5bd34e754715a9c4e4cded1cf8ed1b53e9e0ff53aac61ea90d2ebccf1c7383c844d2a5471414774be7703461a8e3bf1085d033e84bf3f439bf36423562f2c06a77e90da4a585e2b100c41bf726a8b8e646911774c418a04e19faef335ef17cb3bf12eac54a5ba45acfd515ab8d2c4793016fe7eee3aef6354e3484e9fb23104ae14c6aa3149c2e194c2e8096d19ac578092d3d201ea2758b16e1fb79ad98257ec199523d9b91f2a50c782f1f3229579d0ef2b7883d3abb5ba95081ac0dc78491a5b6cc117d29ab42d6270201218b989f1e260430c2327690088cd4bd23e21bb53243e378b0cb0b23bbaece472c44607775071782019ba50d5bb8f644dc6eae6df3731eea0e53647d60fcf3d207bfc10aaaf1388dc1a5f5abf903a0d6b9fec6b008a6e38714d99fd793df52e6a3c305047b8805c814801a3db7568ae2a465f8fb9b233f61598ba29b10a1ed9bacc59598770a5eb622c34552e71beb191eb86305f1eb3fd40f26e6dbc8cefa61cb960fe37eaa7d8c7aa28fc76bbb306bf2d17616602ae0afa4af31da3ef1a6f1610b4ed8e3289cc065d32a6062e888ee5d258e445814307514577810ffe919113576aaf24366898ed6707a83014a872da55dc1d41204a7c9cb271c690d908c3e3dd0a5dcb23fa139fc0720e81cc7b66f92b3b26824ba8e570ad12c0ac4a2a6a4e4e4fa38f0ab2b66c877c5f8a7036429b3f23ee42cf58ac873be6673a30b79f468bece676b1b3dfd7376620f55a5aa040c32e9869dd6699107aa314f41dcae941364353bfd28b2f9340748f6253be1a0f84697823d2908fa5b568ca87daf76a3866ac41f7eb7d3de15f008106c034c8cd205ff365a59ba4967f4b8af37e2dcc0de794c34cceb80edf14df98156a983d1eb7f1963969a182bbd20b499237d6cef58fc1aae9704769d0d354bc7d03ab81dd4ef1fa2c9c3f955dbdb4a2fe7970a79e567f55a9198b95805a4e873c35dd30262268f27d8d0e05d6c510f46e0cc0490635b5e37a667d35c3c8742d726af7bcb3c844a6199a619db369beb7c27439b6cc4297a141b5c7c45b888f23557bec8320d79ee88a2ad498c020ab837f8f97d2fc113efe0f4bad87d8d393479b5f99f83013e441fcddd476b26ad0389a45f3a9a65020eaad56a88c7ce767e51814d7ab5ed86cefc0c8ff1118b93c32b3a22524765acf7ea48b461f61b22629721f236c65421da7745255b63c165b8257f42fc22a7163b567ce479b57242e86a02741c5749e94d1528c09593828450346337606000d0f202f869ed96bda130f128112a15ba6b7bf2020304803baba3323a0103eddaa670f9cd1e1800146f7ff3bf690c422deb19b2169e453635a0a36abb2781b693cd1466ff1f1544bd35ae63316d64a14a85cb069319c3d8af882b854cefa0e29907bf93f71ef3e42900075a4dfea57972886519b25b1752c8b5bfc54bff94917184d823d6ba82eff23313f535de37e85ef394f669cd257e59aaa80bb675ba17387852eb4e4afc6ad8cc97708d975b6078658d172c9ab851621caec7710d0ef2dc8cd7bf67f4685ee54fa7f07e744287225b418626f31cf0e5ee9eaeb2699eb9484be1e8f2f3a09ece7531bde9eee283c49f47d7245ff337bab190189c3861134e3e6314f05faf8dfefdc86a80ad7dee48709bf99d9f8ed754678ec45b38247f64611fa817bc86f52d71f5e5a2b856a1d14a6c51629845dba1b0b029fbdbc7ac259e17cd2136b48fba3601c8e9be99deb3944c033142aee8d73bba6815e93ef59264dd1aa0ea66ba1afe618255ffdb1d9717814b70c9265cb1bc404c0918a2b353b0674bc8fc585d42af14c97f7172c15a5cf2e179ff794d567bead86671f78cddce91c4d9a3e8f8ad7b31af59d3261871cbf80b5bee4617fc69a4f09b753df6039b719cd00de1530bf38c6ea46e2ff0b9c5fe86f3acd1f54dca09b5e8881002dced460962c17470cacb1e9b47b1a03830334fc1025967315ffc76d960b1d8f03b2bb65b743ff8037e14bc63758197212c87c6bdd014aaae51c9df4119fd78f63b8b3d18421ed45176701e0116d15b9752b22fa4259ef5f52d83a5933613248d89992eef1bde01dce7fdef2cb9b1995f6cc899fb52edb1dd9ba21f7e8c43bbb9fc6518172dd918bd65e21ea2673fb785108767dbc07b32a43b6f599661d6ad01ff75d94055a6cd66c588ebd58648320ea62d39d6deb723838c802d4bf045b927d7afe95aea33b33052d93d273b198035ba3e93fdd9d1c426b5b54011a8e294e67eef36aa27e688f75ae2a83452771811fb768967986c08f5230cc5a487bd0b2bedee1087a9af6c8a5ebbafff87ca2884eb8180e30df3af65c2c37c0f98ff2c468662ac3629d172e2a14d57d308b9ecd150ab8fdf96c053d65fae272534425d0b40c73e7211299846b3abca13660747f0304d136a909c27ab1f4765e09e3c1b74c02b4192adb66c2d6a74d5ab5a1b8a1227939f76a31878e4d019b9670f029acf34dee33def225774e0e4ba029ac2b2812d9843454a7087d3e0b9d1eda8a7de1366e42b72c0ede70cbed8cfb460de4b9d3e0578e2056d524d7922db22c4b35125cd9deaf3b7f8250c55fc259466a368eac4eb570d691fdf86f81d5e229b933d420a72ae7a22f768c107e8815c8ad6d1481add2fb70bf4bdc12107f680769a5256266c070939454a0fa4ac4bcc7720538da1dee1252da00228e4dc16763bbd37c36ef8844ec70461783355a7e9f44521597c1acce81f12dbcbee8718078cf24c325c5761a501ea9273412272a5412ed225b464d1e217f90c48a8c3791329e653d3545c0f10f10edb5e1c4669e436885f5e3165e957b5c05ebed82f6c7432c574f3d090feb60621c6d97018903c9eec747026de7cad4f3907702736334d5c549d77d24342e16399dc811d3a79498b235589e04dcadfedb2ae197aa13a79d7315986b5477472c9a6d0cc93e5eb3edf3ee33b75e0eba84ea83a86aad95b8e0accd12bef6113ed15692820c0f258f9d6c880e372f10481b6116ab23a55cea669a7d80c657bcd07b63dd51a2fee1c9182ede5520984066054082930754b73e7d749428d6191dc46f4621d93cc726b16f9287d5509c6d6d98613d8246de8bfe418ccc899139a6045c94805833355ad685f409a82bdd357a28ea691d5a08db8dfb87f815dd71ae35a191b4a5e5b6dff5d7cd633e990b2ebd88a8bbbf909041db8ffa760b2c443d4b47cabce7ce152184e4cc0f13ec0971a7c467a1149d674ed92d516e4cf0c890554899cd8e2222a10717beea70fb1f10818b43735c6e5c2368b7eea05b99e358e50267146c662d239f7eefe84a0d497c87c5e77266b6eeb51ee2c619e3a0baaa256a8e60729a659f1720244976d401161b9c6057063218b5b342a1d2303d709db7e59ce84e6b2c7795146d5340758136cf4e0a0fb64c47ac85336dd735b40215de3f2a3e628899ffddadd6adb61b81f2ca8d44b8c9354cbb8a566161ac1a51c31cc985c91e65090bfa6e16d92d3ec7192fb2b4fcf4bdadb6534723f9c0c7f1c06929f091ba313991ebc575c724afd81c3ec42ba340f211b58f1f22993cba926bda11f231a46256f3eb98e58e80a16004d741cb198678b9ab298689b0d5311238ddf6e58eaee69b81e840656c0418797c65bb4348235c0e2a13b4f863fb11a786d2c34ecc4aeb637a13b872d79a966313e06900740815de8ca23749206663cb48a650d0dffa34521252b88106cd2ec8328d5007730e4526d40543dc1e59d7ebd9809a54844ce11ea9b8c984245bf4e71dc4268f2701b53b7d4108fadc7ff061a0bc073b556ffd8632f6cd84fb96246f733d6d896bb0363612ddc0e20676de0c20715ab787359e57865b8b56badfe0db1ca660a611f66fdb1928dee4c92296634d0b36028d79e6d77b2a9e0cb4ea134e8ac84ff93f9e7697123db59666bed129edd086c2af3245ba0a08accd2b78c017d7444972b8e6d00e93408fc307b1009162e139ffd9f719a6147f07f9e7adf3a0c02962e3514566fe222d1409e12cce74c5c4f030525b1a25bfa4486afa9c164354c347e40212a747c2cf4040ff06449f465c592af95b6b42a298188f5763cf5d60aab40eeece157c774fff53276dadf514aff2c3d86a1156","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
