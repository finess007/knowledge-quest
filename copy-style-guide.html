<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"784e8a3b86550463e8e2e1a6f02855eeb34d809cb7b21dea67ae895b976df9b88b59ee9086c0f561cd02a9873c4ee9fb302e4ba4ea4f1ff204a86b7bd45f55f1aacc5252a55c76d8112d538fbfcc495f1fee6b4f1da921e68a7bc841666567d70ba91d84ef4563cde0a7881c98bfd10c03190497d3b2eb493fd55b13449e07d60ad8587072b9a024bc9c5b556c854a07c10dd66e79285583a43a0afabca223b6fb71ab992b59e309b473dd04e951b50a3cd2fe14abd11ff209eb53b62dd55483cfaf8ac610995fa39bf868034858dfdc96090105dd519a109baef7bd36d33330f3e2e912ded42be5b2cc5011587828e2f7aa01a07d7628a445b9404d14ed64aee1bca84386de7f0bb4063d9ef0153718126fa0a67f57080b8872b4c284518a5e767e21f9d342ecd94a4756be56428050eaa00ff543063032921edae7486dfb3f7db91d2da525c081bf4f6aebfae63fecaf5e3dac67ffae42be3be215dfd119581272bb4332beac1500027ab447ad2ec6a1ef3f1e76cd08c8cdc57b8b816eea937e72efbedf46b1c0467096f4ec7c672ab5d0ff6ea2e4cf29a3efc31bb243424e628f94b8dce5161d53211ff38e895e7bffda7dfc572fff860e2900b1d98da9ef5d1910b7f0b2e6515f2751519578672ea66cdf3fb2ccc39f0755e32c81861d32d7f085b20b02ccca3b366bf1832c6932f791722645515273fecaca31bc23db7191d5e86bba65f40c720fc5f34a16f9172cc3e2c53c8da10685c062e562a4997c15da5188b8c3c2e0d9a7eb2f7b1a7bbaecc16e360eb706a280c0d8f4c841148ebf05a25609da87eba7cf5ede34afd89331b3e981839045c50921bd02be3086c17dd4ecf9fb297ba544126d607a94936a3c00a10b3b6efe9f53be2326a0e9009b03ebceba3dc9ca3d91dbc366db84a21a9b40c59a2ac5e6fdcdc860c6a2dbfcf037fb52d1809bfd4be880e83b41d32c4a475a928fcbc6deabba331f1c59ee1a6ce931469ca6d76533825df462253eb13be07d25831d2658cc20e0a154274db265e1121461e666ed50e71751cd5c1b1910feb2faf62d5fc7f419b18c55114a16f12a435fbdd808b71c067328b2dc88cd2f4fa2f74b8fb27495c066944533a5fc35a8fd9485629c7b34c6c0205ec98fb5212306ce9c066b31869ec2e16e3622f1b22cbf222daf4d02475df213aabe15a3e476ea4aff64fb7ebf7f197ca42895bf555471ec023f5fca9546dee1819fea523a9127adeb7186b465a5639d2f8e6df87d4af86f0f70c98282be3816cc29f9875230497c8263297d86b53ee45a22eb470a42e1ff8c46dd7a637c2ec1e75c1a77b8f3efc60955ec029083665e0df91375f11b2f35f7cad7bfd1fc94f5af9c0827759445ac3c39817d7af587581dd76e7f0df6cb062700806c1a56a49b92e6a67cbf1c357157fbcb1cf7324a1d57b4c0a00adb076759d74514ba3f32f0c12509a3f2dc642ccc69c840f495c95f4b7761b6ccbf184cd5b95403d3c99c93c1bb1f895bc99800c631bd6604ba27dcb39459f3fd815de47b069751832049cd8f9174343a15f4f24839d6f9498064a0be7ed9f0e71e3cba3021709340f49bb8f6e9b0c7f4a8c3e5e2e6f8a902eb4947a14ec41dd19ffb1922940e5b9ff5a20b5dc765c4ed5820dee9c5ed901c55765c7e8c9a01ae73ad64e3a15730e8b4c2301be8fddf193cf7bb89c817bba9bf29526c6af9880a8fd98bc931bb6c1953d5fc7e44d17b9ba4dd102c030cafdfe27d962158ddbd9e681f6b49e1fe52278da6668ad0b9b1fe94db17d7216309242b209e7fab7a0e58f7b040cbce0dc87fbef4a316b96284376d547a2ec60351c07df461ba5d616a79fa170af7c64ed4804cbacc9e2d2734fadf2cd1bc47e9c5344cd47e3ea8d100a6d3dfb8d0ab4bf8f136573a6a2b62657c2d8ae34ce1825632ad640901b1fa699d024e35123ea7528a91be30c572e7c79ffa576b8968ce77fb0f8b13f14e5656260d598d843148a93dfb601840e6700071b9d822deeec57b71bbb40d79bc6b85111d6a0c512c566d584c7d57141ffb5a2baf72da94f686a6ba6337dabf445c4eb9787c0a3a3557155e1173a8e306bb978aa259e0d73ba97188d4173865c1a8c511f022bb1816146d0b3667975da0b01cc42d55af78ab03f517e245987845e25ca981d6309acc6588ed4126ad129a5f82457560dc53cb73c28874bc2c57ee065cab822fb40415f0fb493eb12236637dfb38fb5dcd3a8afdbe1e6ee0c26d16720e0e36e0c736404d3cd48aef2eae11b29579e9347bed86c01b1e43c09c3bab41948378554486d1e86b26518f686ea1bb214a480cadc3bbe5225184d3faf2dfe462d7006fdd15a51d49bd75b766b0170c2ae88f36ad5f076124947f7aff48c8018e1920fdfea5100be386938d69ed5024f4077038abb80338f502a4d89e9d3e84569ea8543910b245147df812d47c3b2381de952597ab07ddf2517f37429947f9db9899f6a1a7f1340772138b51c09b1e4ae2479c6bc3401f7eea3d7acf5b20851082d01cfc6a213bc31fefde7490705bc135d70bc5cedb2f397c623b6fa994a145c0f74e450deed75577b10f58612ec9a62b3a2e28b011be71e02c3919fd56deb4ddc070946f5ffb2f75ea69ec8156e92fdc9d85fcafdeb557753eaa01a549d17f0c67acefec6d0a92d73f1ef46bfd2efb54d9cffe05a261a6f75f14c9f99c4045152b6df694005b6df43bf0f6ff476ee2619186377eebf502a041253f23a1a4e1b5b9ef7e2f7580c6b2ec4d20a09e2185df80ad642f91430d4c2457a2f2bf72d954f917288fa12c0637ebdec35e15707bc9ca587a8e1574f88dbb9af8064fd2f5f890bccd850104d33af9e057314cc577cb042ef8721eb6502b9c6bc15e5d71ffe62e3755ac9567495f3bd87ac4cf8008994bdd94c4e6e4c35c605477aff90c506b94700cf4d95fff6abbb39b84a92bd881b5c9bdaf863afd0495c17f0adcc3f5b2a02e054200a8a088a2e38de93e70ee44d99236f27be16fbe78b0465dc5f15e87883427338ff1889bd6a9f7bbf4298b16d8f273c0e5d7b4386cf09f6371a23a270730003692046fbf2711c7b25c1258dfddcabcddb57917a4c7bdce2d8926438dcb2dc15a4a5bb5531594ea51a72b1fbc94b38083b578cb01e95c5741ad416d547661a54702b6f5a42f5be2de625b88665a79c91882893afd02915b239a528d6f5de24245293c8cd492d3e9ebdce838913e9109b2eb1aeab9d5e0cbf28d97f3d50456bb1ab4e1e915aee9b52c5101aa95e92cc1e24f75295c398455617c40b9cb52c692e617afab21212c5b8f8c1088e347be52c7523a206e9d66389c3eceacf59ab43890255eb8ae51691abc885fcd55d336b0c2fd8766192f8f76b6483faed882136246c2487da09d7cdd93a8219f4dfeb60c9fe1b9a1751bd47ae51d4118399880266409cc928be10d63ab19363d612d3f147bc401102dd17cd21d03aa56cef7e5e47f5af0d2b3e3ec34b941584c6507e62f730b23d247a43584d49b1fe500952716560fa34408c4f2eff7c8d112397e72c3e88deed5c732e894abdfa74b5e64592d4d72e5a6da9a272eb5d166e9f9731c53acffc40f65016aa904ee4d3aaf11676a3d832a4cf74d35152bec39af6ccaee0d40fb7fc223e2411188ce4a0a36d4e99feefb1d9702275a55f29e3f1b5001ef25fd5db7b134f65920a72e5123fdfa290c24886c569d6f0ec5b338fe82a79ba3527a2571015be178bd641bd98ba788376711f86a8eac816264070720c00b614ca3206205968acfd1a1c425a862342a0db81d9a7703de757c394b0e725e3ca1bfa9c96bcf1ec6683eeb153489c4627024fa0b869f76ae0a86907644a0539b887987824ae4c97b88d02b466f8c73076673d8c8a02d10284d7faa23dcd47975d1167b60903c7976e50b44dbed8d94ad563e6064978e415bd0142d89c765d64cbcdeb632736ddef2a4006219abde986056d046d6d9fb98f97757bd41959c40dc216e2611984e2ac4951efc339d0a05b583b22d4ee960c4e0ece49660e6e5b241bcc417648c2e9da8339ecafd973c8eb548de6619baddce94623767bcae7f7ba1a8b970073eecc5c9db5cbec5bff97d866540ed63de339b903b29896da6a28ec2c92ad75d8e84d6f27747fa080a7aebec2126b956da599f0e4ec0bb8af8535219e7c76d8c0ac1244971a38f420af8463aa0c72cefd8e03a0fe76a6d42d90a53da0e2ed52e6adaf0d08962082f56fb81416252d4cc72c5e6a3a08371be8576bb58cc55c9ecc782b12cf406ed7fc2f80f8c00d005e87e104a22b3e7f9871226852061d6c479cde82c88cf3b2dfade9946402ae07467d55ff32cd267d9799ab6b950f29aadbf9ec2e939c6482472040da06f9644835c823fa98545a67eb2a142b27c4acfb1fec30ac73b13e70b1c3e2a891a1bc4ae31df47cb9ede4735b7108e2711bc75670028d7171c9f13d6d7d8ea6c6d2691891a4009d47411893cd5be89e1f029ceb858fb49878e8631d5cb4a47685bdd172cc5c54b0257fb546c171db2a37787577b102e4e08b0bc00a3b903a78101f68c138331d4542f372f2708d6475f7afca51a73c8e73ab2cc0fe27b043a2ca06f0cc1e893e9bb8f26e8b48fad584b41766939497203dac2706a6652fa863797ecdd338889003b53b56d70845d72cc780986777f6bfa4cffbae22ccaef893e4a63103df39a35a5c80acbb3dab96c28cd2d8ef663dab0b4c73c6cdee65e1f71474d0d0b7e953bb65e8568617e4f93d2a384b257b63e833786113d17fef77533b9a7138d04a6430c3f79d5efda27c429c1e3c79eeb98000029d456259823b9798685f1db6b37a89d3c1713aa1b7acd5c7e30368fe86f7387bcc85a30e17b283bfa7e75e980d610fab3ba34997dc8406c10100a92eb11867a6bbfaa09a31606a959ca31e57bed4cae6c407133800af61eb97710edff028955899f2c2f197d21b6afeef8d4c953e162f3cb20888f1a1fbd94a0ed8e748ffab0ae9826f45afd2c250a0b06ee91a7cba9d712a4982a9471b882b777b1b69dfe3d6a9879d812d8681e33b3183e3c89d0c73f0041710b55f510cc342c1c1acd37cf6b339973118d0195f5e067e39e6a3501e45987c888d39772b060fad28bfe320c372e3be140aea2bd6e6ca047b6399be0bdcd7b102266cdb73ec2c6f7149ba1719d6b909bd91dedc1c108a858627a2821cd9af3d219cdc779246d0cd4d230257130b4a821c52f60c424cef486813bb69117e9d226be276ca92b77ca5b551e6fdb01963f4f72912a53ffb0388624819b72b5cc9b0511a627988992d3bfebfa04601c3390f81798f6d5bceadb7af2b7b8ed178679d8f07858b29f468b7578f1faeac457b7af7b805dbe45d016610926f7580aa33a1cd0784921236cf4579fbac26d94b544e1df668ccc1606824b108f400a547f68e07e5f1502003366acaf57aa51d6e217db541d97db9820fa038b3e6a60611a781782c368cce76bb4ec272d1f55a948ac8991d737da4bba3146e892fe7b2ac62d932e02c506586e55cb2ced24e2ef7590ee9c86abfaa9b8690f152929805297daaba435d369426dde56fb57615247285aa361656fbb8503f78afbcfc988af234d34e5e881f7af9ef683e9d5bd8bd1ca35cd070fe19bdb870d42e9c6176e1e86a18a6ea7ab4cea4e6504fb4ac19687f8855d4b7ac3e9892b700a2831638e8727cebeb9ec8c821617f20790847c9d93ca2a8cb2758b8cf8aef29b62cbd778fb960238c80dd405a243e7d87f2b4d1c3061380155384758a57fd7516f30a46eb70f135b0821a411b62572665d9752f83cbf6fd48390a4c6d895d3125ad3c968e262389b7803dc850cf9cf179b39589fbd663eb46d891ed9eb50f5aa12121c0df35ebed37c39cefda27fa8dcd203fb9e9e93a54fb0b4d9f48f750de8acff8085ae116f509f03e48e5d4db047e0fe4d31445175938d5d04a4b20b512f103d55b029fa395e5998054b16cd48d8c63d3ad03407a16b89594e62970eeeb893ea00cfe5d29bd545ad5ab6541362f9bc12b69708c4ab54cda99e82d66f04707c89f6af792279a7f5fdee79fc3eac2479d7d6444ddca459d91fbede4c25f201c894b6380c15f8dff5ba3e6bc5269c315dd8c7348c8d9e387a9f3dd3cd36367176a7f40fc30dd6924ee05724c7f937238893a1bee90fabb3b9376892a815ac5ff0f86404274c8dbe0de28697a1b3ff83de727f3412d3ac3dfddd6fbd56d4e4dae4cf80f70ece06c1c86e8ef057ab885ad7e00ff21a63a1759d8ad76b84118ca038e02d78dfbcd5c932adfbfb13c6700bf71236a957b3d16bdff2e3c080b8951fc60733e1dcbbdebe45c97fae26073d948c84b09e74ef2ccec9bbdd8ca38713e6dc56e95c050f3e34fef8e2ef32ee1f9ba014d9ab8ea951f5d4c21a2efe4e3a9e400c95454566a55cc3af094deb0973547fb0daaabb997ba74687df91120c0d91c015d5fe6975c6dd557c83f9786a7fa922a9fb730b82b5469ffef2b1ea1a6ce0b9d4f5b103136eaea76611bdca007bcd91c3feee471b8541736e2ff396161d25795264dd406941bbf15f1a0f0be30d4c640a7093fac83445e6a76374eb946edf9df9ff5a3d113fe35477a3ae7db128124aa57d371560d9cb2b63f04dd7a395502f4e0d7ee470c5d599736f9a77a592c7fbde0e09baa738273ae2287724ffbb2b0629741adf3ce8220f8394d247a7e018723721b1bc577a7e56d7ddd3d52e2d7ed04b51bf15b12406b1aef8821d2018b43852ef0c28814ec06d59bac503ab9e82befd55f91053240902beebdbea471372a2f7dbdac2d2fec00c3ccc425c2b59eb8a920cfbfb55fda910735a77a7310ce6cac387ad151312e83daa7de06598e1d764053f0757ccaa9d81d59c4be905f106e319b4fda0b4568ac7cfe84b104eb8a18eab0bb16759f79b6358ded0fd00f39822e74c00e22958b7cd0a87e5073107f4efddab8ef479b883d4eda3ee28621b78ff7799205a24289031df71903a262df83c9c7dafa4c7e2ed73843479997ebe632ef9df52af6738a7a990f4d4e44fc7d0c28d5e0778e5ba17599c185951c1f6688eaca0e7e199ae08742a2838c0ec7a8f6f894fc4901a6531419c2118a3b13833d8200499b4dc3c5cacbf51683e0e93d3a32a544f34ac0bb55968e6849393ae0de2dfb5501bf2baeeef7ec9b391dbbbf080756f33969573cb9216105a624eeb40db41f8362b93c5c2240a3189ca1c0a8f1e99b698dd1a193de5107ea96b606ee6bf4cc3fe445ea7ad8030053b78b022c0c3d577ffec62ed657a8ccefb20182d2f2f7cb23aecf3e76b46db89f21aa887f37ff90c106d00e5e18310ea6eea3f8d500fe2d3703440eb2a5a4ba83097fdf92f5638489af56245d36fd6839a7fb45908173700e5b0288be017d09864242f5ce575bafd4bfe51ab2e4572b4f87849bae7cb9ed61116d5b4a158d0c72a2e0a3d5489e6ef7a243e5c0c66aef0bb07ca5895d959945eb171795697a94d45fbed3838d46524c2536d23a094ec4ef09c1e290efe49b64957e54edeee3f752a8c5f42b80f8c1f830c53e083b9a5f71f1526fa096ee81546b9533e902a10a593a2b0c7486cf80c6b4523501d4d59c263fae1ff39259038c75c48389b348d599a0107b939e01c9ee3ba1cf53cf0d9c65f5161f6113649e29fda8ded1e13beb060f3c0d501812596399ee07636616aab8a775ff9635ec5c661179ac9b9acd6d648f6303d04ad29096f43db62ca928633cc8d236f5ea311adb32251542b0a21e4c126068132e79e0b1499be0cbe3c0416dd25ed40faa08b0e4f33241aa64efe289d079766caefbe356b7d8148f2224b2d205fce778aea4c0ca15adaacfef7e0c20cc7c5fcdf6144cb7c91633a163d25086f6e8f903c5576ace5f51a4c10e6d663b1caa28d26a2d3c290b74c200a807a45eea9fa583fcac0d692db23afcf6bb21573926bc7bfeea7dddc2ce055d6c8a0e6382798c152f31059b8c81808b61962b56c04fdeb85df02c1b456310205a6bc09ab3e93ad1322f945280e348d890d3c5cf99f944f1bb25b0945ce049568c25dc91c4df3e9cceba994c312c17fc30fbbe2c4fef3ef4772f73a4d2a57674a6d762570b91e76d456cb187651c7f5008bf89c549502bfd6fe1a8678adc2e4265c4d988076ff49ceea429b9a345515533b203b7e7b3ac89aba4bb7f06b8e6f44f9862fe1e0adfbd3ac920621596a90ea132fce6d53f392ad80b26dd6eb17394acfa868a9ab6831fdec9eda49214c275e9559690ca1469d0cbca1f0f2785ef8d40801e73e73c886f7fbf1cf374ef7ed9664b43f651bf7029629e83f262964b6c2b69ba9be00d17f14160211126378f5560b91fe28c3b67f714021382d110f04c2f607c62930b9d50b7625f798bc772b13a5b24b6741838d434a8f3c2ca5578cc831ff3da421acdd2ec6258641e09b665096c3204015ae20815e66895f9bf13835105a557db56d87dbfd3b8c42239e8eb6a7cb8f45f4c99316094008fe8de4176f95254ad42b1553b70726b9ac9b51cf623f15812423ec967f018bb2c3aa72e155032bfb7b7436e204448caec294ba64bcb9e3d3ef42a7c90d28127925f773bb04f7855f85b61ea9071e4724bc4ce869a7df6f7f4456334aa400f275a55e586558382a5288bda114966064584c201015b1b9f037a3f0357891625eae25d32dc88dd5edff8599350c9bfdbb381026f4ca0a17c86dfcd20f662ca8f4c79cb28ef003042165cc0d03872e7766fda22e9bcaf18af1d3b0d3f0a6c055097dba40bfc856b4ecb2f0cd4030511293cc5ca125fe102a03caa206e6c9fb415079fcd2ff4c9a99ca7dbafca4cfdf91420411b4ed6b2c1663c5b5baf42168d1734f8ee09537243f83dd34d25c825b1131387e95f402a674e9306290e0bedded3e24217095127d8744c5bcb36e957f41378677178247f59b9c1d67d5b12b5d7c632413b36c28836b033647e7a2402b9f43c6bbd9140c449f0aa9c9a09e298f15a8808c0f40ad3414d78ada78fdf326576b36666d04f7d518eea83b16c815ed048624729ede64ea8b580f3e3114ad49703ab283f9c4f5f713645a8c73a5530b650799182642b51bcdd2ca18ba11fc22a2c8e5f735ecd571fbae021129317a44964f2b13072fd75f670011525828a6739b218b6c6141d3744e8430efaf36de6f417085d77085c84fb9317443ce79e1d3b4cda80b3b4f23808375fd8bafdf711cd224316aa992e9b94ab428b34a7b771c3dac7fab57f732c3325dd844d5c972ce082565ebff039c01a06d120c72f267a5ee24f3735bcb823b5847d18c54046eebab27aaa2f7d74451a976abffeec825d7f272522eaf34c702140dd49df973f927dc60e75b962e9e78ceaaef59dcedf922b8f3b0d04fda7319aaf915a22c2e5612b77e28592ae10f4b8212aa0ecc3ad8afd851ea16f001205cf7badfaf4fa8e064146b1885acec22e0de83160d0a63fbe0f6a6d64f532e10157f537c5167fa78cf0d350bc8d5fb82443468c9fd8fc19da7417b1074cf7f77a47a75eacd86ad31d428acbcdb8b1e69960dc61993c685bdecc447211de256b3dd48f1a1793510534039fa52698f952d78ae5e35afd608e21fa87796999aad7ed9a29cd791e45935aaedfc66fdfc5209ab3bb7c7d1ca8f8a37990180ab69442182f6eb418ac9efd8878c076f0f9f4db9e1c90ec0656e4d9be1039c1c05dc61632db1bf16469cdde9eb69930bca4eb6c8f65e2c99e86162705780633162a5d2d3599a83d68b2d3b7cd13b9b62988fba488d088a5c08ece1777ffb293666f5eca503655bb4a83f8b106cccf532d816d66fbc7369f6bf10da2c36243a11cfd9be1679facf46df8ef765fa866ff485fc53eb9801430e7c86120ab72722f35e01c8c29baa1e266cd5a4270ad243fe3eb58f5d9225f504b407621bb8638182ad31455a55a699e99d570c4e0fceb2a020fed389aa24880c362aac4cdc9906817bd7c43f97240f288ae3edcf4bebbb231a8731a42d31cd301527e63b726a054a983608c89644622299bea9bc5dd807c979998828b50aad18be8db255515ea6f780a6c64c098d55bbd85756e500a24c28495d253aac7258a668fe236d9036409f2551854fc1a3cf0b9e58ad1b4908a01d082b5550e0a5b2fd33f3ea38d7fb277facc60310c0cb8138ffca97be68dc9bc1d8f92cfe5caacf96919410ab0100aba36712fe9194b7f0b59ff62ae86f8afea355f8095b76697aae879cef62a9d9901d9b32bb9863885a0bb0cecbd888ac2cc0a5d01cea9a1bdb50cdfc31280c90d22bf31155f8affef16e1ecfedf929ce1a0c5cf5d7c75d1dceb4a28e1d8641e41ddb1b44031c51e23956ca86b2e043e08b3dd0c7e768818570cff1e8c4ecc96f17984ca8d5d9c12dadd1d033c2ac6788248a6ca67b00030d7fafb864cdc518f86ba0c5d92954863931cbe72317bd3bd6cd85c513eb4ffbba8966f8a201906d563a05623bf2028a961ebd16168c5855e2a6bb0146a59f0afc7b476ddbcc1ab9a2b61e1204e96a4429f30d4e4e04a395e058592653e0346fc3189f6e3922104ad373025db5d79aedba4a30acd8a1509654f9748910211af83390ad01a39654f07413cbca6f239f96ec62f2b0c58f20a3608ce99706eae296a65a1c65593f14519c4a4b7e2e3d5e1da18aaf3e1bd18362e48814f62d5c89a68acccae37bc4736cb4f056ceeef143f4a3c38aa312507a0cd2cfedde8499d7fde4dfd4914db5e9e2aa7cdf7f0dd5f909106dce21cfbf8455e2ac01736633abb3df90eb666a945934c862d450ed78bd9a0ee649e3b8f58db4b17022ac2815c4119436f0f6a67a6fb120cc17d5b84cb2ab11fd7b550dc9b4151a43a4b6bb34f2c05909426e67a16820af4f48b8df5b78a5dc5e73b549a7c84409cb4d809cb1ec44170fc4877da689d8799f0129605e45b8840cd4ab8ba9729c08c49e9a1a54c3ac4124582ef3a5aa6cffaf40cbbdf1a1e62d337bc086e1df884e7dd40fcf20449401882e2f034cd9cd19e61f70b79c3318229a7e6d4080492a59b5e7446931b3c8f9a5cd78948947c8618a3045347060c4306fe43683570336d4ede41add1f3f0d200d8ecef23338aa551dc4347e205597cdd992a7cf36873afff0d44f186093b808a90f0a2e9000bea13c74384031b8ffa07bdb9cd009b7b141d4d8e57538ea2e37d17a7a871a09f596c843bc847e0340d46cf1e580942e5e82f9a8ce607483b4c04724fabba9625c893a137047dab884068838d773b3dcffe14a3355eec71c5084fca7057b009368d9f0372e7a7075b402aee601b095700cc231e438a4c028b8e6c4590fde92c4c20381239f284a673c0ca3f4d3e510fd523f674ab2ad6f2904695a5889e45127e8a63eb866976d01d016fadde04b38c30ef9860b38ddfd9b0e9469dd9934f50cc6f391853d525d13a05cb3fec84b15fdc74041f658fea1a74e000ee0ae391e6352c1aa2b07d9c38fbcf05e0cfb57c8cab1914a455b7315cd946fe865ad73f4cb519ef769bc5a46faac123367215b97877c17aba150af8240958e56d0a1aedd9971d2c666add7feb86ee4e9dff194428b93f8003a1c376b396e6d978019fabf41014183d190de7d8294ac7e7d922525782dcfc251c6ec087c94f10ff10b6aff2a6766e20eaf3e197a39fc724a9f441d0a665ede9672cf9ac15b96e437a8e4325dfb8689cdad984829cbe348d1b4483511174b351888da5030d1921c15fad41e4cdf830d840c3e039c33f9bb9c1e4048b66b8535af07c3b4a749db8dc08a23469b7257f31ae9caee8e91b8eca47089873e602793bf3e0d0c1a81ecfec94213eafc9d71d153e8eea15f730b926bef1fb3bfcd68421068e11b6e5d771f1770cbe1ea81b8b9b4d5f57bf92be6851f8713d2343e9c093ba94613760b6227188fcd1940f282bfa484e61a21d6f27934ceea4d602a66a5fdc3087e96bb94bbf6507f4070915163b514570061bac49ca84774ae82c1f6a188f69d9db13acdee650039b49b336774f0c22c47e2cb8ae861aede3d63529869fbe36fad8608b969f5179554619a84430076d817e88107d94e622c0e9f156011908ff391c01564ee037883c487518be9f23662d413c27527e9564a34a5031fca4d649f224d1328945b8a6c364bf3119198b5836c46007f1d10d133127f03907ab5af56ac239f34fca04b1a2430d4ba5a25787bdfb2ae64ef4ae2f703b0ec16cdd880a6df518e1b14a204649bbf945f933e953a8a87d29a9d7108736d894ab0f6963d7fee3e6173af95f0aa24ba42572d2385e818563ad1e133af329d9361437c45e6934d3ead45d5ecad0da8c2fc94b45934a3d4cfa5b1843888fe1cb35857e410968f7b59e3eea87b22153de99c2949579bbe44f36b39d139b0ba1b9d7f995d3c0e62d0cc09ef98e7845aa56f0dbd6a581ed63bd7ab16398cca7f138f5576c3e43d76906d2c4c35b6441c3a21d2e1d9824a435ef84384e8ade347c5c32d9d28c4a5110a12bf888830b241e94fad0f5d0d51daab452025e05ec2f250fd9ec36d6138b5194599041b06b583e80e10a9bd28220bdb4d23669eaf98a8f7f1261c21610aa05a790d6eea8611a57324de538965deff5fdb2e740cc42346435049fb7c3b8d7e299c62fd52306de68f4614b4d108b85dc26bb69f422b727d2bd97bd1ddbd0545656bd0e1b8cf51a78f8afc1ac1ea65d3e760ece32bfd6607984b6211965f24421226cb6db30c46a6969750935c6415967f60e118ccac23901062317ac2980d0801c0ba630d946da3bcb262795af52ac0ec383f236dd37ccb03e082ab1006afa966a2da1977348da28cd0507507fda8a1e6320bbe67c3ae5b784ca0203399f28b0f13fc958f2dc6f8b85548549bb2fbc5a8c9dd2920aa60277936885edff1826cc6aec15d1ee8f6ac53e828854d0edebdfd6caf41342aaf86b7bda2b262b43920613d05f9a5b2e1b2b2efeabed427afd1f2892b97a0a435f0ca10c0f6f5c5b6903562ede29842fcbe6cbb1d9eb5ae6b78cdecdea1fcbedfe23a8fe9e32d7c5c222dbf5e0a1685c491b7378790f619c7e71595bf3c5a93c80e4edaaf44aa51c16acb054577d22e94bd3e0363def0991c36eade9c94de4a81be994b2b6eedc0d76a0068537b08b57b981a64d4ce64723537d1ccbac01d83b2ab8c53de7341fd4eb256f3ccd280700d6dfa01b9faa71a0f4f2eb660834138663ed8784b8faa03657ad7d9283d2f618f1eba4d3912e87630abdf8297285e7738287f70c4de574e8860632df2a579f12184f357ca1ba579a03c3f2c32375231f30d4ae0561cf286c29dc9130778b5ce74fb2efac374bf0d32227c7ff0e12b6429d542135b7046aebbed51ce0bba0d4f362d17f4492eae0fde5b24c86edbe0a5c4a71f434f44e3498b574f5ea357f42f5401fc5f632d244939b18c7ee38eb405fb092b4c9d9ef9196930a9d8b8841427e80d3ad89531cf818bfd1f30d92afd496f2bf5de04fa469ba65e0d446c5096e30387e471b7f879409ac42fcaccd459e598ebc49360ef291d3705ace911812ba177c105ebce0159b8a5366519ce1174b2de75d1bf24f5411f4f41629b23168c5f97d91dc3b1a0c0069754a838afef80657d9d70ca2a26fa29e5dc7bfc9f926e413e79774029ae1061c35693011d7049576ecf2fac71aec5623a53ce8bdbd0d177c9a196d3bb3808b3d83453eb091939c210a1f54402994cd116f6306abee85b58a7a790f32d3ec51a03414aad081d44edd340ebfcac745320c469e7222da17debfdcc76ca0a7f7ea9d85748dff32e1331417505ea18817a6a1f3781fe1b0bb4961d80b6d28a9451011aded058809a64ffb8e0b9150babfc67d20a811841604ad322a4035bd4f30841e0aeee882b163a03245119b55702b69fb3538f5c65b002e2fafef6bdc446af75996f37a79264f564bbf0ec25aaab99480063a49ff3947e261a7ddb935fb62162b7bac463fe84c58cc25ee05e72e54bda46d1ac957c03f119296c8c8469495947a7a7edea5869746e21a20db4b32185b3a725ac8dd890d51b0a7e7981df63110b62729af32e2d75e2c4b78c9f12657ec5643cf8379eb473da12ab53c040aa0798d16ba046b1b378b3bb5a00b210645170a55b992156d6f65d073369c1daf63362ed5b9b7d05fc5f49e6f9a920ce7bba3b8a208db7d343593760f23323dd938b08b684fb8d4c6f13bbf29ab16eea3104d56e616adcfd5a904a5f39ea3401aa91ce38fbdfa2676fa8e19002c8716a81c391628f3c181b7f084b13b7f984936f8bf9a20d627d980fd7cfcd7c1d7a23340eaf76efa51702b2f888e07f3ab49da8afef316ff3382a45d805488e7d882c45136d07e758fecbbb60a0557ac2b24af9d382604dfaab06cb8e34f3651c438b644d801819e21bf57dec85782e74376d5ba9f70650d56d291774aa6382308a4eb2875620da5db9ae827fe47dcb6940384b64ffa62c9f515f7d3eda9dceb807bb224688bae9f5b7780172cdb4a56e5dfdb1ea850e63e74217f49d35fe2fda6b7e07fc2a935f21b94a92c34a92fc63679378d564de1f07f48b50988c1b9529ccdadeaa181d480ac7599b5267a7ae89679b506600fb1ec7c15e7c11a7c6530f51972aacb5321ecc3dde1ac0a9d484c3fdba4ac391fe98cee514824905a7d7c461cac7ae419e69498a6ef65e42e962881d6a08e9c792730fbdb2fe65617e2a8dd91b29d322ebe83839e3118a33dc94a6ed0fdc59b5d1507e69eeba8a0ddc8e22d45b21d60aff05d9f43a02fdd04d56e4312348d6506e1f7072dba86568464f22303ff18637c9a3fdca9365b566fe87a3b447d73614c59d331ca50a252d5931ec8aa1454fb2ef5288cfcfb47837a8c6d00fd6c2dc61e8ba356ce1a2705d19d7bfc9d32db3e1a14b44031e744b0ef6bc1702e686912f68ffa285c0f9f7921044bd31abff6804ad0dac979d11ef96e2b3a5baecab40a3069d66e0762fecd80ab1abe528d128f8909e697b7c44cab5120822e09520252efc3f8675cd1abceecb50f8898ebe94bfe00ac6aba1189dd8e1d7dc2e03ba883e198d28b64c12c8b1ca26033725055c339b21063f6cfeba285186fc8fd61dd4edd7913fb799933d043d5964f6dcfc1fa4c39bfb960c5575e5b375ad1f219aec54a7e2d7bc44a3f415caf380d97bbe8a2dd41cde6e3e3a290aefe4b50a794fc82567118d8b5be55089755ef28b1d67164dd1c9f5ac2368f927df53e6a0c8e34b3bf54e99b04cf9bacaeab99b5070fd61373a0df9ff31ee7d0354fdbb4b75e657eed88e32e18f4927c0fe89500841453d98183db994003cc172ae2517232948c1a3e9040707806cfd73d0644946add224a9d9b16e9e43db16ddbcdbbdd983086439ddb68a2a6e0f80f27ecf2b3a4931352ec6176c4cad7f1cace47ec92b43bba2660e96074abf4a0643a632aae5528da3ae6ccc8c303c23e57d229d0a13f111358285d8601dc868435ddffd869dfa2e169e060a79c2eecfefe475a33652686b9f4886555cbf057848c989d24c75c24d27705e685602ffb1a827b0d28219a3b2f68357dbcd9138a71861144a413089f006fe1a65b04ea521dc9f381f9fe4cbd943e3b1af7580cea909b4a903da3e57dbc9bf5852cbe7bc9da176a6c7d61f9a55b7c3b88eb38e7954a6f35df18e4efc25a98e030d253081de223b5a4e1523e9cd84ba1456a7ce6b2b0c099a3b2d77f82e416ed3ff91e8b5d582e8ea364b727801ce9db1489309c02b42e6c503cc9dcf05c842f65dd667c97cdf1f1fc47c207a4cfc3d12cf12825baf0b84eb138c8b6f2e1c8965c0b9b355a5f9dd4ea734d01f81133342d63cea4e8fbf42714f5c382615678d88631aa142c1294907409c57a28c9e368103ecdbb8d3772fd23a98830b99c07397c9a6cae1bdaa6a6f5f5a4a6212cdf9df14c4a657193c30858248f7c87ae8f2e025eca5b7afeb8612185f501b4fb20f5f112d0d941410a5006b57c4c65a4a88e90dc75853eea1ee2ecf1c0fd98e4b7a37772d90f1f47fdd50028430a65cf84780fc617da0480c641249ece7ff89f6009da93ffc75bd1fc47cb7beba83238879d41ab4c914d930db3e029b69638a6a985e101cf230eed85d8b2bae0894c2b9b9e46724d3384b087a8a40865f2549d5b80c833a905383c9dfd53397668608d61e5dcb51c07e4738b321e9aa62799aaff6ea3c255211c5c5f382a3059a15333abf6f2ad9d8983f6f63ab4a586edd08b1da8d420e9890027b45d46a0ac0f2bd37eaa4c226ad57b71695f5493ed16422a377389cee080777c9adc64b73fde8c81b1f978261455b07e1d48a9079262ef4ccc5bad8a2ee47ca2e7a53f6ce231b1392ad047019ac5755c4588a2667d208fb7def7c1941df235b1715934f127efdbbf5510db920accef3f4d78c057f4b766eb895928da8956226949c60a1b572c89c9ab6bfdd026997c5aecf57665d030557d15e73749147bd633eb54787e77813c2e6397f0c62ffcac1886df8267bceb17e13a16e0d1638250beaeea24c23894a7002c9af3f1b4d4e94492f0dbd4e6d505ccf9983e66b947c7c354157c220fd14cf38185104f4ce41c4c8cff70a2c33cf635d39b21772a7d7995c77eb3bcbd52b46b78493555add29a623fcc32c976dd5348e665edb1b3095cd9d61f92d43f9db0f5e49824b5a10698312ffd12eb632c12091419b19c81adbd5a724091e81f2387b0fc74eefdfeea07c16b77fda198a4f539df4a346b8cf14408f7bdb3dfb8af6c5db9e9223460e4926808021c595431b213435e0f18cfe6aef0904193489aa7b922e42e23ccadaed6d96a6de0aa8d9f6a62f9c2442b71822c2086a156ccf584637530dbb0ba7c0b5a52e275ce423f5f5ae6b259c39ab265ae8668495dd539a4bc8b625f8565c7eb45827e283bf3cda5650e8cc4c9b3bb65ad0381edcb97b2f4519da7e4b797bd3c76783911596686ccf17fde249d4dc2cc509b7946d4414b1eceabc0647d7fe7f7a0da238c678fcdda5b20400747bb204b14223fa01f6bea606b34614895b1d4322435e5e89368b08880506ed9db973877a52c4084502b77013a049f46fa7ba569b147423ed9023e1e217b223e545632f30f383cef2dbe5ae2e521f58648035e70e91899daf13bcdc9f7ca33fec76b8a4dab93bc162a2591360417bb15fc5d7161e6a010792a7023ca61469fd37227ca317e364d31b7de2905d90d36a745792eadb0e2a0397f08c5cb48d7aa1329253264b4e1be283eace89ac356445b7626f2c4cb6981107e7e88a32a6f5debdfd9ea8b4f13348be978bcc1a9cc345c7f898cb012ab2e95338102bea3116d75385c0eac15c9d0ac9dbf3b9ded8d31b9dd15d229f3d51422c49c298606e4dce8b840447a80151ba096406cadc6f569430a18049b6d45232644e2c303dca1d5a88d9c8093c32845dfe1f9be210372004ad8057e7f6cd9e9cc8cd69a670f5b50ba8ae7041a63e1084f9a6c72a15a0a13fe0af9206ae2a6674c283b9e68eecf1fd81e8d21c1314ca030ce5d6a88b7e7d2ba5a63b618445748b0d3ded1255159b692c838c19a24bd9d4dc47d6fe184dff3d92df8ef58448a39c2ea236e81c5bef0c330705e1afbe3ff82f8fa09a9137373991ca02a26b78d3619bc3695a491162d94f8d806462af3abf788674697ee66d5fa114b17d269f07e0fca1eda312b6820ecdb37d8b6939479b747385a552ae914f3718f1e62dd4fc6dde6600dbedcb03d1f48391498e9a858134bf699abc3a2d89af968b59e11a266773a833a1a2ceab1d86ece58fd67b8759104464ba668964b90cbb4560d8cff08ba62591d4122ab011c790d7a8cd6a2e5626b898c0642d7ae7a9608e29109f77e5ec1be2811d39c57d85d2e8553b49c34a0f9d4aae7cc64ca36594d945ab5ed56eeaae6718caf88769b682b11c4dd20bb6b7d7e00f7437acb1b631eeedb9b2f3ec65a463985d1439994f0b89b60fcd4871112645fc71dfada837050027ac4ac912e95d8f03c7da330d130016e412445d9ac18f7e194c8a5b00ad3c19f81f445073c52494bf5a159b254915da7d1a5b223720786214bdabc58f2f3213a597786b0f6ba2060e4c9c661c25a72f3e22f7ff63d43e52e21864c1fce6f839452b3c836c6855202e7ae554e01515970038c617e3ad3e6979901a014155ab5adaeb965150f42dbc5c1387436ad6c5311d846a53d867bfd5b80f5754395f371d644e2eb56027e6eb844e0770b68777467bd1a7c0cba14cafa924695981cbe6d933770fe4501e3333836a1041e9bee5e9ec3497eee8c0682532cea4b1a6d0d27bdcba97d2937bd526d40b351f85aeac567ee043abb5fc4c519adad603efa974b952468df3e8c85cf81516f2ded19155c31957fc6a6a27549fa23cd614f654443374da21becd0f6c1a4466138b68d071f89b870a2d2685ccc6687473c0fb64ea28dcee755b574c805c87de57c6d9a8cda70d4fa7a7f6630f15692395b5ef40f6fba86aff9a187d8368a883bfe13a0bc2613c39acdfdaaba310516176a6bf4525583143fabf9badafe2e0cb8608a1b380c2fa3ab4cbdd42f458efa8db848377e8f07a32cf53d147ebac1133c5f52eb7f9d297b5f807442006de228662888676be8a2e8a7783d453ba1cca14e859cdd7862efadcb09bb03019a4bee82e32056bdb953045bf6ff5f2321bf1e2e8ba1c7243cd6a7afcd21fa2b1958091f0f0bd864eaca8458abffce7ea4bf10ca18b4c06c40077f065bec12479b359e713f5ded810dca177d11a8a38c2c385ec43ff61389cff61f01dcfecb1f7ade14b5745a2951259d0e7c36e46bfc4ae0353a8b4530b3dd8a8fcc2009e33813defbfddda929ac4d2db685eb440f548d6d19766982ebc346f8f372a11007d3d3592a1726dba3ec1f447dbf6c88f3abceeb61cfaa20433bc83d13b592d1fbac775175a517c41d2c3e889e2bc530aaa6c92bbcfc820bd30e96cf6e4d51e572d777a9b71a3ba2b66484d157990f9033db92510018a0abfbf8a13e1396bc21b45440136435bda10dac41b16553d11a4d1098291d7000a64a62452595fc1a924b536767023b324f90f6a1cabd61469ed97454879856dc7de79f7bacd8fefb194c31b309bb8037dd095dda49cfa7e006706ab5bf5c5fe671eba88168554c8824daadd7f47fef19df26c85e227f31ddc604e8bd9a9f87c86d6991550e3c46d2f231983183606a008665299f9c538efbddb895d0c82a1e15f95bfebc7af94b7399f7739a752dabe87cfc1e9969481091eebedda173588fad2935aa8be123708bce046d5eeae5bd19f271cafb3b1494a2e83465d52b5320f70897f62109297a18051ce06e4f527a344948ed4479f833305260278fd2f4dca5a92a56042fa3e9bc76fc5e0c716d38a153870e0e3fb603ec973cdd80ab093e3db9d964390a21da300e17577072e128e94b8f6be664cef4741920262a9f7e0de1d428bf2d2a9592160a544b854832d5583c3171da0d9f2332360d3fa21a4a200e4dd37cc9eb0ec76a8c32c5435e2a9bb6c4c2b110f39d6aa782be01780c4da06b41d22085deefe66e86416f91c5b24b997310e06d26d2ef5566b7ef94bede265bdb2ec4e22aba79702036f10f04f5ed43037bb3585bdf94e2f0772d35a5d68f1b09dbe5fa829fc112a4d94b52883011ba041362837c318bebef31e14af525c0c81de54a753b47ca8eebb40cfaa71e20c453e7289545fce600a57e100e579038159905446e200a3ba4a415aa3f0ee82ca959aa1a557aa7dc6d500a9ceca016ac739157e6a5952ff911b8664401f37a3ecff8cda035510209a3fdc2e6f689182a4f517c3f43318f8b6f0066da4bc80764fb45639c5b0ca454122f010f831778b65003b32910030a135fbe5a0c9bbd2095a07841ad86ca6e1de73948c39dfee6dfc82a15b4084ff425981f5bf9a48a19117cf016913de46dedc9f606e22d66e76802555f808941f9bb6f96ce2ae59e5daaa3497697700f79912cd500f35b45d5d536f33035df7ced64a32b46e51fa146664cdfd789560d6de185f823b85eccaf2d7b209eb2272787ff18c9fb875315a71fab5aaacbda18627e0e5dd89fa425bee17c43dc406931a1fc417168c28ee9aee56eff0ee0f39b901d94c94e02617634483476bab1a68ec2a624fecd0deb256465f6726aa50fe50f1d2b38a5f21b875db96cf281997c6960a5881e96e2012fbfaa7622c94fd7d480c49799c53da953757cc455e6fc322619bdc361469d175a80fc51f139e55197154eb938548470bef8c74742398bc3280e5eb9572974dd8b2789acd92e33a9fa87ec40b0c3ce31a77a846d84fdd0a9ef516eafd98cadca497dba311c4acd096a1c8ebb75177dc0a967cd3428b773dacc61afede7092697fb8f7b238edab82966286820813c9bcdb67cb24f1db3f3193591ee59296cf7eeec600674acf8eaf2061c560f95474db401ef446a74e3349ebfc0ec85c5c61f89502a286a27a578731cf2d418f901e9db9b080d6d59e832fb4820e3f2a4a2d6f5fddf2ed07a70a498b1c4b1b184c064f3787179e89d0dd64653da905344e7fc851b1d3010032901c31116f9eaeda8f60efde4bd4070d1e0761bd7ec353fd3139b255ea407da753cd82770c25a066f18b43cd6eacfd9e9ace7c9656daf5592033a47eb32aea8392713e00b80bbef51c06ef2f3b52755e5d1edc8a577a2142893ecb2199091ec79ecc560dea3412e52352fcf8e25091e463fa67abd1dee10b3aaa3dc028a7eb05ceca5eff980cdf249aa291617fcfec70cf9803e249634a2f79e83ebdc7a7f30e3d43f7b29d15e93521f198d7238a3ffbc245c526f8ebefbb98f08aa6f361466952d5abe5fcab2b2231c3f9ed094802ad8f72c64842674776e7879aa2001005e4d93a07e8f358c0fc5a26200348634a2bf734b6103fb407534470c00a6a2dc9e3c1fccf361bd4642d57d3a288f5a4ca7546696810c1addd23b49498754568ceb79ad8c24a7b3d110106d0223959196d434f8c2634d6d076514103d580f694ad02052095c8e36dad869dfe6fa13c1277f9ee2368459817946a3ff1412f7d4d2fcb1a2bb72f9cfb2fdc03e3482bb3c4abc7719f5ff72c1cd5cdbc690b33a59899bc4f2de4754b6aa6cbf44c73f2dd31328ba97b87ef8724e4527869758d51b46d88ea57738871a86b8065a0832786dee414a65c2049ac4a0284db95cd163da51bed48e8175011fdf46374f3e12abe0fc96cef8db1144435be89b62ef5c4474b2f049371e573e77f7b0ba147f7179a1e79a9471cd94cc673a8446bf553f584255e8943c2f4d2682a1af1dd96825aa8243987935e9d6f4e02839f8ee229b3186e5525d7880719bd8b598e15f2808ee348dbc2455686dcc7a3687256f3faf6b4baec74704e71eda97f4b1d06ff2bbeb44ae71fdd388e5e96af1fe612e8f84b5c48982b578716bf312ba19158b591111e6099ef9fa3c3be274eb9d2a6bbd53c7f4f3111bdecaf6f7708b4f8c45c2bee0cbb0fd8e9be1c3123eb2b0b1b83d2808929bc9f8c2f99a502faef5eb307d9e92909a898379b327e67e3ef97d0fe1eb8f57d3246a0ffa8f3fdc3e36eae3142e3214c27d0f073f73bccad1d2d285f","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
