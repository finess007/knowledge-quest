<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"d7d46a937e23867c665a01b1edcc1250cbed274c69fd496d389b5be61c626731e5d3f722230a8da65c5e032b687f3feff781efe78aebfac796e6d59d6272ee627f425ef7defe95318ec629699f32e9d72bd40a1331a44a5033e6e122cc3ebc79464ebe9a53e39857629409f3946e81ec6d3892b3c13ff898c5c452cdc8cbb88843d4f51c5cfe0ea7320e053a530c8d3964f7da00858f1ae26cef10726283e74b273eb68ea8aedafcf18d6975d80d62b805b8d63cee7da20058579568b2c869298761002a11cd345394a47734bb0dbba232847d28217a65fd2269e9575cc2fa86df51e0d8b9d9f1764876a9df33cc19b37a39e10067d294f48ed9a6c29a9f1481bf4a39cb2ae0e65d5b37504a73331de5e1610d9b7503b4d7aae812f9da866777df37fafe0ad8d2ec8bfe00dd32fc663b926d1977f36b8875b73374b5c704c474d65b35d4f9a0c400210c09cf12d4885f90d019331f5cfa7ce198de0b206ca5a634e369acf068a49c2cd6d5e3bffdc93bacc30597c58481af3dcceefd5ee4b4beb76447b34aca0c4a324eea5aa46ead79a0f4510e5cd868c535345e4a8b936a495ef7ca912e90c018c1dfcf08d10d6f75df7706651788af41d6c2dbb4c39809404c871db0d37cbf27cf020e83d02026866066875f9e09d25c5220819bbdb4cf2c2823bf03652a73ea4c5bec36c341c0df478d33fa24d3185731d1f7e223d21163f63906611cb6c1d9f748e3111a8cb127eafb1a33179b2c917a62b749f13fd5beeb2983e3a8e955a3fda5ed163349d2b9ce8a2072ad34393a0a877d94ecf563decde0e614407395020bcf7affbdd3f33a99e680e765954aadccb39d6b2263713a8b104200f01fe96d5c8a3c40fe873175f3ead62dedf5eb2a927e2ff92259cf4ec05bcaca0c7803a8f0043bb5a95683bad2e065b1997b83454c97524cbb0ae8e4b3a05e472320d7a00c3b498e3bea20767c71e2613b1c0cd9491496177bcec038882dcd7d9fa00179dcc120105f0a556213c4c790c847544ae76a6e36fbbe893f5f42598f5f77c35c1a00ce25a0cf1c4984a1c99fc6499228cc7aa944df906cc79c5ec0cbb9f0d77cd53a667613acfbf9b78d0d0b4076b543eb2afefa73cabe1054c3211603481c55b1066895008e6e3e83193d10f74db4bcc4837debb741a7b30321070d158bd32ceb476935b35413a5018dd90b7e73030b0fb873597448afd4449b42611ebee53d715f49af96c3f396923627b3c29381e924d79794f67922afb0b538612b3aa365b4ecc50a57dd57fbff59be49c4f42b7cc149e43ac5c382322e3a019611c33045822ad2f6add8be93b80282b5e07105c6a3a639556d5813a70c0b86cb4c17364073751d85addfe3c2777507ab9f70f7c82adbc5927ff0b5f3a028470b25129c01de5b5f30a433697668c9808bbff717397d81e2ced404aaf2eab78849d87c067f0d9f4274b6bd0ba8ee22092818a49bf9b89b8a73629a5b084e7c16c1a33e6f17ba7732472c4d38378529457b1c7435c644e6a74b79da40691f50d10388741c9f69a70a1fef481fe770abf5f3c917150da6ba1fdfedd51ca78302b3597c40cb5cbb1d974d909a930ccb5b71adeee0184bd34c30ed033afdf09f7f60bc5ea9cfdb51e90bb8ef29d1cb03782a9e41c097caec3686e4b472a9a39dc44d9b3b5f6d29f7a85094d043d3790dc3a3c1bdb58247a7670752cca6de3b5a65852daa66436069fd5e956c79c079c1a2fce2ff6d7c000563cdd8ea5337f4ab3f6f2dc40dc8c6a99255eb0cad7209cbc2e3326a8edd9eabc1391d8858af6550d37b776bf323d8d7d5d850de142905420ad32597eedc5be5904adab5714b412f90f711afa48a9e74a987b6bd4eed7b30a5833ac14607bb17fe6baf408b720ece40cc9e5f84b08e9bf758ed2141a12662e7da56d9cf1d1f3f39917b0a33c285491c36d9a83013371096a67d7dde30f6ff1588b19c407cd95398a105358586f0674446b82961cb8667cb32da2d6bb31d171359091850ed02ea6482b1310f74a2e86cee067679ced0f61ee4cfe9d3a33b1e887bd784a10475bc829f471694c05c4db903e27756099235d0e591eccd71d1271504fc08c07c70ed775a969feb3a9c9765466599849e48d00933a5924be5cb5f4d29b4b76cbbe0dc8f8ca69e888580fffb82149192581a6854011e576dca3f765f8e94a4460e188aece84ad8142657f5c919bc5fd2d3cbee8b2c4946bbf38ee63060ac8bfddbc1ccb2486ba493010100612438ba79e0d4d01875637631eaa3be2e3c4fc19a044210d44e66c8a44d8d84b065729a8516693db0d35fac7526f5b0ccfb87f206ddd1b4a7a01acaa61e884499646654850cf0fbb7926363c121f9c92aea210b35615dafd68f449b375c1072785f9d939fcedf1bb64fac08d15676b8798bc4d81c20f3ac368f8a78d9bb38e61692b9ce8c2a22bc7397eeb4df36859f868e77bc2154832a4d4f0622f94e216628567f0e1e8b9bbdf38943d44edf5c62af55af32776664ca2d964d8ab7359f86c49be94d996f71d09239abeb468de0b118f0c09e04f2937129db86970c79d990991c44f689b30ef61d1f459e194db03e85ff22c66c1c3e3d924bdd99dfad228b11607b936e3347d39a903abfd978a655e1ea463d86f7a77ec78f3b8dc584c2d106351b3006781749dc0430fd57dc3d63c75862e7f86c65d4a4692e0ee2b1745c199ecd7c529f35e72b2fef5f553499952a4b0712175481f5ff7adcc84649f919121d25cb702bcc26ab49731e70408a5a05e9d34c108823b219b6d14a97518d1a28513446137541645485321e3a9034a36da96429b9e997a728315acdca0b64ea7e0ffb69a37f16317e391b50adba80388c34c1ae67af9f931acd77611ab6a504488bf68c3ce776fd05b08ab4d8a5ed33ab016fbd0779a979c9d86bfbe8f6871e4d528efc0d2daf2d90d14d22addc9c0135e0056c1e716e674e64ee6288a69ebcb625e9a7199b0782838039dd6184e7e4a9df0f4e6eebe4b412f836f9d8e96aa717a8ef0d58fbb48a4eafb089f1c26b9a3f6c86dd4596e2b5f9b04c8d072ebc99183b592ac6a6fb6d15eec7392d59de6cf1b5a563c0ca9aa92e2167a1bc58aa1bc5c4eaf42644b6c119ea036425f08cbc06f32ab609067f8df76a3bd37c52791217d996085a354fb199ce819cfc39c494b16f1b6b8cf63d56fed946bfdd75a99fc011fb63f2a5da5b17afef6ed3d10e4dccb490f32cbbf94a4cebc6bd19ecaaaa4c45622dc38348ce85ee167dd9a6a9cc05c791281b2718468d919be28139de34c568e70e0da5b0f9fbdfbeed5352a4908ed26ab84bdcc75aefa6fa38e21479a07aee6e6ec6b6de201794a78d63164ee9b28607bc238506cbc0ad59e33e1afc3c191a2473431e26810825250507313558f9fff7ea61f8bfb69eb74ec14e15c8f398d65d21548a7a2f3ba7f0c6e09d0cf39644988a29f30638ce881cda6c346105a42c8c8868bd045ad9e0844e11bd5a2e11c267a1f05a0bd000631b6d2daa6eba8d9f1b9238fc3dc8b750ddc7e3ddd89e87db0de7f050ce9aaeff347af3687c116eceb8945c17080eebc843a9c68648c97a37c012bab7246f6e35cf5a5d702f70a6921ef22db11bca740d5fe234c7dee79c9627cd6b6bc238bf3d36e036f334454b6d99cb15d5c447196cf213ee3fa530c0da07799516c6f6c8102c71cd2282ed5c52a0cc93b7646f73c6cdc14474dec1754d5b5109f9e534148df27b7e386809ba79bd6ab8b07d21fa3b15a7766253d9e18a300c8111066bcce1ec0e18017b223671a2d90df62fce9317b01f56debcc8da7d297e61e9f90fa89ef70ec2140bd22f7f1a19bcbad5130e17635f4f80bf1c4ab103dbe5f2b0936d971a11138b255f21fc75638b45fe2577ca08a302ba2f76473bbdcd267e6ca15a6368d88eaebf5a8b881c27a41ea887fe4586f69dff180b4a11938f109aad7481ee271fd1c6f3d933aea7fd516fbc75d329ce4a6a3c8bdb3dc9df353edafbfc768e81b90d06e97e78b30145b1a6766dff7071efe389260e8ae5843dbf774e95e63106946edd8cd5ed0bd919c5f0ca13087a703e6e033d264aa4e9c5a03a7919613305da46ec65b5937bb7d80c2044b294ad742fc16d32b3536741eb5464d1b1a9164923bd261fa917574dd42deee684df08aee9ce5e2cee608187826193f459c11225a46299b83defa3f7458050b19e003717ec36c0dda7d0ee1949741ee72caa0e806cb95c2570a809088050c38ac698c951f38a362ce555a59317c0bfdd9866a5dd5f890dd9311c5030f8381a5d98e3909f7a4140fe0b62ff9e9b97ded3d4f13fbfa739147c5c36bb17f95456220ef151df6cc95b4563d1b49539100539c59c67b205e28d288091c036de1ae77a5398ce98b7a5c97c1c18c890e0960796d11b776ae01abf7536fa5bbd3609e0e6f1f8d403ed874749a8acc6ff06a30dbb53710194653f448d87f1adda6fe8b020ae4cb192cd3d50a780dfa76db170e31ed8d4e95451fd2ce0021ddaff73ff9395e2eb82e4ede34aa634a9c95c919b680fe9aac1c3c1fcba1d4105e5808849fa43f4325f529b439a1eaa1ffb7b7fdbfcafa1d17d71f806133ba8f6975e0ea0f15bed2b339546902da951ef1a6033f37740a96ba0d9b1c2626d300ee5e40feb03d5d9b214b99e2315c3271e81c9de85e93187ea3af48c4d959555aefb1ad3172b0ba30dbad525d49c18f01bbef580da0a3ac653d3bf58ec03a5e2aba2788ba70359e41d363dbd727069b5726b2e8d9405dc4ed0daa608c7145a8109c1f98aa3c5cf404607c260eed66c49a0dc3204789e14cb7a540d16bd74b2799022b8a45edf06851160f9f05b621c196a9fd56ee75c08f455fd208eab121a00a4aba0306b54fe71f22fce14ded9b9ffa3f4050e40e75d3f3112ffe3095116f86b2ee6672dac8f955208996c6be85adf409d61bf2ed757123c922019a3162f19249ba4e6805c1cac7c0db1ed4052a9e3866785c72f294e7c9ad26b2687b34db34fc4b76b197719ce8bf590e10665e7c19a4dd89e9ce5c8324564e77024e73394d807f197911e7cf9cac5682317582ff63c973b68813ba8ed5aaa26a5e17b8489efe3f2bd256d2af26dafa36c05f722e397a718179d49a881cc0cbc73014a00bb8b9466dab855adc229dbccb528b3533b819f2f5bb3f6c785c459ef4186dd9071fc29103ec591dbfacc23976945978b1d352129a2567130d078eaf8c4dd9e8b129ad46966eca411f1cb5a1dbcc73028646126e850acaacf9658755f12234e5fd8424c7980e5a4994ab92fca5f76f5f568d23c38ec23c3a7267a2971b9fcdd7a609e8aec6b63c8bdcb24c868c8c14ce9b518d724108af9aef073dc0b5234b11856e3cea5e3c3b15f7ba767686f8d788761baed78af5cfe4eb28640f1b4abbf6b99b47a7cb6355cc2374fccd078b7c053419d97de98a491ea1637b541958eb24c7539fb23824dc9c047dd5902934a1885b17a674235ff92946c0e0642bd8d35b6d18ec507a37fa40a7339257f9d746d025ca7de3955fd27f7fb9ff99174802eb98d400c700c0f2fd33ecc62954de12e517108060b744d9c476669bfac1af54e30ea540c819175f63d3a1d626adc1694b1e221787ad970c615aa2870f464c1297853ea5ad37a695dc1d70af3ac3813729926fa363870b28c8d6594334a79361a8eaaadb8d8de315d9834959c04f9ff902a52050426fe177b6af714c88a995bdf287a3630cd3851d4665ed49a8d1a11c253a8a43ae36b19aec64c1213edaa8966cf16e17458fd930e06a28b892b3e171cbe78f9f9f26c3e14cf32564a769d822ecdc5603fb2d68fc781610a3b30ea29de9c6246233c1297f12500c3297e2fc7f8067bd5ebe9e5881ef29c34eb0c2f2a62bf1d500e54e956438fe639df40c97c0a040945f8bef5bb7f8ae1b46802a0f8820c07dc56902705c928501ae4f85baafb1e27463211740c2eb180f92b36e5cbc1cae59289e3cf0147647687cdb2c0579e9d7092f474c3ea847fa6dadaba5cfc897a36bc35aca4addc5119a3afca9e0c3b52c6b3c9d85502e7c6122b074eec0e55d42328b0de98b9cb3d316d55e13e8fc2d99fdc7e7b547e57c7ed02006aa4038184b5fd452da94c359e046ac9506ec0e46752716fee34b6463ac05b5da4490fd01c03092df5659a846ff6fa515af2ae523f9e959df187ee04408d639a6e7df3f52c4bfe0533f7a9992759d10659d222b4a4d48e4dac9cd407d2ba029812c78253930f54e4770b949f5a9888975f79c08e21a6c6f58fecf39af1468048086fc1f3e059bd9794836bdec94df92913b06bc41d3d3df95f75388dcc5d94bfc234241755ada10b4268f3da87b020a08ae372d318522cde118e13bea83696461f2589215ac675b6065dbac852ea9fda2fbe105cef4ba8ed65a3d05851b2d249a493a3c0540856fc84b9dde5aab557d68561d5b0db3138f502ec3c68a901c46d821c52337ec18646d9b74ed74be9e58ea96db7c07410857d2fc1021feea76a21afd7355f101f0c2a09d077539cdd93fae0cc8ba230208b19a8c19df934ba2ea81af935ad05ce81f39e6de4530a73a0f18cde0d5a0edb3fe3751464fd9f8e08286209473c9ad375c1e66a2701ede3f01559942b0a50d3141a4de0f49fe9c54c5ca55023bee2198b2beac1e4176eb2e94f7112c9702edd3af781174f0f369ac90c84e4717e24110e6fff75d68b86895fa9a474529a27de5f9d77b1cf71c4beb09ea0d8953c48af83899d6cd4cdad153ca9a259c38c2fcfe2bdd8ea3d26a7792ec88c14af4ac4ee490c2609b60c29f234a311314aa4583d81892e658299b06daff7124a1326bcf3c045491dce18420d917f1146fa18e3d3b536d7636407edacdb99b27e29b59be2045e2a88da04152a91e4937085c5455a13647c7e52f8c6d7056db44ea61f9925accb7a48779092ba2af44e0a2aa069456fe51dfd3a50fb3791b33b844348cbc5e1245123f80ee23e3720c53a4eba702a875b6f8ad1bcc138cb6bd5bffcee2b935afaf8f179821a5d7d82559db9909334060a623d88900a57c7de10d2f428a258d42d00031527e57b9b4a58dd225c535b90d9a0702b60dcaa86a99b388fe3597f4f8a9c7058a73cce086938d2998927d971c3a0e7fdc7a9de49b4537b46738a2767c22709b102dfe54e61c1e3e6db3d9995d48aa557b66c69433d29e703d38a1886e1a98e96904644aac6a39757e72d61be1a098c6373d10b14be8ada1b3fdb85cc8b2920720c0e4b0ab992a41d3490593bda337cbef05ec996e30b3f506938334c089650cd7af54f32563ee4183edabad2993f7112fce698542114e20e23ee7e74d9ec4c150eb0e6c46fdb595e780e5603c4ad306fe8e9e39de96df29fcee6364833e048de2be3d98eb30d99b4b30db26171586bc831bde4741cdd1996c38d29e7006c58809ad2f537f05d68854edaeca267888a1b8fdfae3e284424c790ca729cab05c276618084dd83f919384a251abb411e949d03f1327fa193268f9c488464d4407b36d8761b378142a71f104cf45bac80ba35206779ccab792ad46f1df5f4433d264509e1b05817d958d2d9ad6fd072a7e2b5e9108b0825aa5e3a6e5fb0f6d1d68979b7c16416a66836fb3dca1dff5628014c04896d7c9705f47561c9e4102617aaa098d5a584fda253b11553b1376fbd0b56c5bb0755bd87336e283a876fee3aa3aa2c1e6431f8adad91a36f96382b534aadc99187ce6e9951741b90a2afccf57d94f2453b8c5029d6a3819dd7873975cc210d94d944ccc5f2b3cfdfd9101a272ae170a4362fae04f11bc3edd39cad59fa7b52cb50799caa6eea52b8415ac02cdf75d79b3a92bcaa48941a818603913233db7f30cf9571fe12b85f79c2d3bc15ef99aadc608673f1bd74620d10b22e47425f3cd43db0d5b7660e78b77a28ea0290c81867f023619150b99de4ce16bebe54ea7e6865554f2d4566727c5f55ca9638a747db4abd89ae6b11acd9782912771b401f590f5f387b4449f1f04888dc8dde3ee093ed0ad10d543c015b56c8b7f370868a4ce885fe8aa60ddb9979caf397e758baf009624a4441a4652b9e277a4ce21d91204851fffa62e35f1088deed7e313ccd4ee2a6e7178df24bd2da1eb97f843aecf5c7dd06ee8fd015b30ba65951f97f0013347f2a82840d2e71ddb3a6139138712b8a220e4dec5499f6463cf08c6dfedc7a5ec3c0796088c65f2511b904da04e7c644f46b243e28ec498c24d1aac415b1fbb2e53b126b2dd1b2701ef26dbb6c5f3b965c98cf9eb95b5ad9a7da5765810fa96e064bc1192163cc171669fc70f380b8b70348f44454691102e32ee406c316747b6d242bf5cfb4c73ea0ca7da7902ef9ec5895d79c10fc666379680b324da194f9ccb7d0442c064bcc055fa4af46d94913d3b8890b6ff170dd5343769a541bbeefddc71d0df8e0e3ad6af47b22e0bef71ca109d35cbef368a0c58720ddb03b3b840e0f28afd750d8bce11523861edf435e2778d428c32556eac76a6eb71c81cc43a8a8204ef9c1e0b0a5731721c624a29251e43e47b360ae46bb15dcb19ef15da5b35f5ce47c017bd6abd699ec5d8cf52a2dbffd199bdc16364b5e21e04a03218e6dc54930fc2e4c4ee89f5e630dd2a3a826dfb00ca91455c4ddcbe82f5596388eb25a8455db6552647a5c3732e3df092a6de903edb7812d83d51fb3fde2f2afcd7b9229c28c012e1102a2f13133d7f86925d23c46c563aeaecc8d11a3aa7b02ce64f7610547ad12063110ea7df18b5f5084161a947449c3de37a650c06ac606adfb89b1684521d81fbb9e77b6f6661ef5e4297d8d3ae1b441e054a211cb0a42427a5fb23dc915829b7f673f781103a2fdb2a61cd00c457f3e05be39189f9d2b80978327902dab436a5f1f380bdf4ed759bfca00b6766281159d5704884af3d7f0331900c6848bf6f86952025b9a397404cb6bbf37889010dfc7743f9305d10634cc6b744743d5823f564915b35a8ddc66e69e017007b3c321659a5bc14168b9d39b5993ac0892e1ade2e3fc365714ab54f41d0f64c11866c7ec2f657dc39527e852970394fa26d095a3f07d277982daa87201c016d2506e9731ca4aaa511d8d7d7163e1b06ee8e6d0e7250892780408da8aa7e5c96ecc80642b50647b6720f60f0e50c727832419dffa1b5928977f2dbf4e3f44bcba8549adde9e88962cc3aacf05b8e01a98f4b8daf1cb4abe8be2b92df4b7f58f62a8a77b381f3a33a005e120e22d4b11e8fd359477420497392fd308d44b5f35db2b5e23c3a9ccc141fccc0eecc20ebcdcdfa603dc63d58c347d45350f10a5912bf406419afde691aa32d5ac818a5672ddc3e87fdee464de5ca65f0e745601aa6f40e43119541de035e7ddcfe107a541be89b4d1ce92016b815a2af68426c002fb3042686343c90d795344f1523a86d0b9a37d8eb71f0f23bd19d4acadb987800d8117117a624c5e7032d9df671f01d884e503c9ea89e2783a38f8398554d4e1aa50cfed374e1adff27a9eac2364bcc46f1f62b110737c2932735a3a6c35fbc41e16aaa7dc279f97ce675a3c3c9ace6b635a4566d37b8602074669b9b15884853d883518dc5e881e15141e1e0321426c37d7f93425313714f5b8fd028c62cd6eb3a3afbc5a7402e0edaaa12b39f1a6a2c4803f60da4d5ff1db43ac02c9ce29cbbb1c8c81dc7bfc2d53e9f0e92d020ff9458dce6a0c6aa69948c7b7386a5673c7dcd0d0aa374f48ba9f8d8761f6f0b973005c8e6defc39f8f250ec1d0f3c9c16f64eae0a48462c798e575959d4af01cc051c8e1e3a74d08e918bc98f28e3e095ea22a1b89e2479860d3942b9b173f5fcd2fdd9fd9491ed013fd13c54f6212b70ee9976c8242190a052871a891c0deace75eb76844cc14ff521e5cba581811b1c454aac6c1a67098fb036acc72a14c93bb1be16e59691652a247ea444ef2d1a8d79e1d1c625fb68fee469d4c5bbe326b1a721d60d66b81e9bbb33cf65aa230c4c81f26d59deef41e8f9fb5d12c2831b5f9ec76e83b33719e3dfc7f8b0eec4adeeede4d8dcbf10f49905aea25e8c8402b4dc60efb006442ddcd839055d700713c03428f461173bcdb86fdf04eaa3f8487287ad27488da20d5c282e4a62316c024e5b02ed563e2b889eee5ef2cf989900a344b35d4757bf182f7cdafd36e85d585ba3f6a5e70972c01929e35decae4a039b3e0fffea34cf148947249506dafddb41abe23f00a7ea84e78c92b5a1fd429cd0641d6f433b0b60808f89715bcb50d26f38e4c7af3a2a5232eb27cf04f37ae4be5e5cbfdd6affe5faffe4c6dde4e5cf62ceef225f3bbc5ced063f84f241e21246c1daf0106c30e7c467a8895606b152d31e7815b7c28363f33d116cf8ccbe0adec10515c95bec4652430ed81f7bd85f50a1f099d4c4bf7ed06a0b15ad89611140d3e3da06ac7ab315364f6cc4db1f123381b8019f0e0128fa0c369eebbf8a44b683f691ed0c57b8609f89872ad2e1857896ab002407c9a07e50f22d618093cb478701d876c719a505c248e00413ca3a750768238053a97fe7be001776f48ddbfebb92624bb2fdccd6920f826ca7eddd5e09ddaae8cf8702b36daffd5f55e4168e54fa2ea60897d5544ff29f94efd452f9822bf8bbd3e99df071afba5ffc74288907662f54d7e3820ba0c2a6eeeeebf1e62379436173d9d8e79fee1036427cbb07b3c2d58d0bc7d73ce20c70bb62f70318eb1abd9dbc6fced29dc5fadc7ed508e58a2c3b5eecc990f0831060b9d6bc72172d3d0bbc23165dd874ab1d7e843e7170d4d7c47c441fc7025ef0568b089c270fff7caff613d22ac8efa6a41ab502706961446b414e9a3400c6d926415dc11f36ce5ede6ef2ef4861518f8f3bb02d984483e29de414e136d8608c6e910b90f5a58b983568cae0e26b10bf34d01b44b3fdcbc028593a1e4dab5b8e129447e43a501fe957763c3b32982c5ef5478ca4a49db9cb2db83d95d8d8c93cca3e20fefbfe7a825ce4f3bb142e8c3a4a1ed7e9b073838930cc4f625079905fa2d959e807d7376f22ad614dc09361dc41d4f8f5eda0eabf75010f568f03a6b98c8b65cfb4814a35483065f89f0023c74028cc0f4417b7529fe509cc45c2c300208fe436869c73115052539c5f93d174c174dff9bf42938c6e06d7c76684184800ba0eea22736251ccb959e3ffc1af434d4d5b32e8fffe6943a56f87b560f313f2e6c53bb6bf28edc71c2f098281f7611ab63c722579f53087d66628214b9eca03499c6d9f8724e1d00a5bd0956e4cdb792150ca51af6b86ccc256b77276fc50a30e71d706f42258f318b0ed20493da554a49ecdd074884ebc5c6f76b21c50991e23a2a1242f000534bafd534bef225fe7055e818d205481a39082252f9f2e38b7403341f0a590d0dd3d5f83d23d688a893da54a5c2f399b38b67f40ffeba15b6f5150f152202d074276f6bcfb25cb44401864be9266ff1afaaa8f50c76348aa5a347d249614fcdcd0edadbd2bc9b6757c00fa7f586ea5c12c949df7d0538c8e34c71aa642a49429552c3fc3a13c162c99ebb99a2553c1cce29b8adafd1a9b0116c8414404b0bcb9b65301fc8155569545a00f56c60ecb13c1b3b6295496640a39ad55958f2905f7cc1938d9dbb88b0add2c7d13d6575cdbe0351d43161c86bf4025b56c4c48075567666f96081e6e5ee5cedc3f593b48c8c2fc25588a760af6b347799d57aa0ef0fc72979c0cd23884c3808d0c3244fa6cfcbd7169ecce05170b2183f419dd04a6ec5f7de634c23b4fa48c2bda35028ad800dfc7b00fdc3a76a7ac91719ed9c2d96c06c1488031971f50910b269841bbc1edb14c2aeaad64eca444f44f5cc9752aa54ea9b5c515a7c2920fb37e16b595e516c6d07b990ed5dae6d38cbb2465edbdb19727cff0f8d5034544095c860006fe134f56ac75de070835e054ed50121e5e95f441665b775a50b8b7d26f25aec929354613a821463ae039f6ddad7fc886de788e1862eb583dca576b9cddc656f9e568ffae7950b9ca65289fe20afda5e8b929cc45447644d397835632fd02f14280318baa3dbd8d6714bed29c597f1b7391c208621b2180372ed6004b853a660b06adf924041e924b9174822d94e5b4a8c4b610052ea0f8ad5c15d85936c154b1b4c3c04e82b5e67ffa7ccdf63243382af6435b94fca272df7a7d324687f195a1a139074b6a079ee248b16fc6cc3891f056c04130aa571bd1fb7213e156a90f18b521e6ce130a3679d521264009c0e97e9560ebbb587d646c09add4ffd63902133ec5d8de385299eaa7a4f03323d00c756253a51d1f29bb6ac6e94eb5b1bdf52f8019e092c46ad2a73c474b14ec340a7c0994b0c549bb4dd74d250699bd2c870cb18afe619f0427c2bf6de44414d52036e0625d06bba3f6991981a5d121865b97e9ebca8a8493c8862bff5ed0f2b0f65f8ea94076cee552d97609c750d9d946731ba3283ce29318022dd4146afb8859840952c574d77616ba2fdd4297e8dd89efa84beeb24478f96a232c595dc98f411b03f5306f93823eb3c824041c9f382ee92beb6e3f3ea01acf873520eb8128786d3b0738b1d634b6b70cabc2108fc4759a05e8a95f071803badac950cc92c586c1589c7178a2333d5625ad87364740c9ee4a2266656cc0de6c4a8a60f28e4de6c8af7b7930383af5566cc917446d1af3e959938e3ed73a6fa47905c8fc6891aeb8a27ffe801c90ce3d6f31a3deaca6d871dd2483e320b1e0b768e741565ca47a51b5e838d244f9f63f64583700c9d83aa240ca5c8fd0b682c311c2552e8b075dd3a534db80d0d262aab726427409a03a36a532ed5722660ac56d792257907e6d23120fa360458c31a176a27731a305ca3f4f84d556e4578ddd027d3211db317d27dfdbd77c5ff8219399a4c10eb28f2746a1879c509cd7ae8880ffe1280e3c4eae08b247f528bc36277721ce89de052c2d3ff84317df891a65ff979f5c5e7c2264ec071c6460ba781c460745de7c6a6d20e1b6a3c0fb5625854cc66ebcbd987492151599b6f1e8552c6d06962b7975430cb8101bb37bc1ac1cb3773b8217659524bc7cb07d61a764e2ead05e875a0e4ddc1516b5f64ebacd0bc1770d630aecd8edb146f4d509d5a5be3686a60e2d09000bc086b5424aabb1f9367f20792c919169fb3d2d9abb67b4eadedec338831cf831b9c10a85ddc675313be1e41938fc7bce8a7116735c355111372e1ea5c12a8dbf6454cf25ac84a5a8f0d7ac2f3a85a8851faed0a2bb137d559e51b6a4e5feac4e869972997be5549512630dd688cc5440686220e3e720a035543531cc9901455c633b0a7320dbc03328ed824831ab022e7dfba86dbcf84ebd2637ef294d671b472aae0ad05083928317a7e96c051682825784140a38c409a335c0df035fe4fcbdcb1ae3ba977bf2a3fdecf12a08f4d76c3130f894ae28c16b2980e705759334977fdf45b265f61180dd602bc6f2d715de4a006d68935a078ecc535668afe4774157c9e4ac780548915a9fc88960ecee2946402879de3a36fc7bfcd4c0401da5568624fab38afa5bc44caf1ef622d8e536399753a57ae59f99b303e6afc9994d424189b9ea4ff796796066b07d490dc6f52a8255570e3684d87c4fae300da426673c764c58351460615e5eb3470d27ea66e65520b8f620c875d15e303b854157b949c13edaccfce2b35f6ec4247529e5922707bc5af258be21c7fc2493100769325e3ab835f614d6b649273b8b91cb8f9ad6e38b1c48c13fa2e020a1573af1e100429f3a8e6a0a10f396db31920f5473d14c8725b7bd62bed68681e46b995489d2ad7a319053d51c22aa0b9bc6177789ed0356fd397c0b42fd870307ed6bef2d37fbe831d0aeea89f21afb76c3785acab057bd21393986237afc155f1c5cac735e60927bfe4ceadd0d06acfedc37f358bdea5d0072521417331ee36f13b04616e6298f8bbb421d6561665a59439270286d2d757497de0d38d4fa8cbd123d0a66a94e79de6556c6b9ee336e8b4e1532a79bb1eb019d8ac84c0767fd23fdd04ca12969344d8d605f8a3f5e184e21c2714de55be5c2b2cd4c61623224474bca0c0c77345b4e37af1a5b6b2f6cbd5d81b261fb41c89035917caa41c88e37d082d805daa7e8042fa2e4856d981d5adcb14d1cb875e67e0e4cb7b7c24f637a01370819554aa5ba86d2fd4c8939c074eec772de12d9b2a1eb2bee90abefc943045c270165c65cb3c548257791986f49d6e81b19759fe536bd67a265eb04f34d241051500525b40d5b6bef793b9d36f71836027a62585dc6475be660eb9e2a23707d831e84da0f45e39550df9ad64b5430e45264df5963f71bf684bf8098a317f4f518d8b81905ecce3edb9b3ef7f1ae8a833cf1f14f06bd1bcf2e769c051eb70dbb81d974306ec677755c96ae80d9725aea9e2247b81aad8d1cc48356c5c7d0266cad36e4936d3b9763431a7ba5fddffab3e1174ad7dd916242347c97d60aa64083ee4a7e016079182048a393db5769d479dcb950bcf798e536751acca7c41ddefd3beb245605ff81ed47122074b5a11fcb26570adb59bddebca5f6b4b12aaeafbaad003bd576b8c88d8e61cdf97ecf0efbdb3aae37fb2adef4fb5625695d16fd19f80dbece2beb4bd96293ac3c0385d3bb5f41296445eb160d038627064cfdf3d8e02b61895baa092bde397d5417568c65e6c4e568e526ad5e803ec5502dba286e5eb1d77178d411ef1c97b809cb670f2c13710f56ea192967f111d05bfdcf244e59bbf055d1f412f1fd705a3a325a9b470b7357d84087e0adbd955e8e72156cf0b3ad3e4051a2dbbd32e64f6e64efcecfb696ca784e92684cb59df0080e2edd46cabf952efab094d4891663c1fd425e5671309d49f048cd3be0842b31042155d264099d5b35667895c0a3a21c931aa20cf6570b13d76af84f57b237d355ff22cdb420423194ed164c793b5571d0beabe4e04ede42ddf389e5b231c10df5fdc09ebeb4457556ac0464b6acba4d898c05b473c1383324289b2077968e1e73783ac57ab5e51a5ef8eb5f0d294a51d2dfb5fc8d448b4cdc2d740dc7358efe189d3b9036dcae4bc4db64d35dac06cdea719652ceff7f7375260d51dc2f0a3d1e298a7a8fa693435a4260a8a61794f39958d1069a7e4e3dcc399e4c8fc204be64a2923dfe78638b3dda7dfd4c8f2d0258fef770ab11251398529eab62dca77ba4a09467650d865b24cc432ffd45e1c32f1365a6498f1a0b06c31f7937f0612010f7a5b9a1cb926922e7de9a80e63bcfce68952d8b58812f7a07b3dc1417455cd6c64e1efbf01ab87f64e477762bddc0e4cc4c01a376d2da936dabab78f989ea677b0088fab7e9e7d365c44b44a55dfc229c058507d07078df4c24c0dc71d57de5a75356c5f9e6cc242bac39d448564bc24299e1537958447ec2b41db71ab0ef8f205bf0c17f39cb635d96dddca72f5edda095e89b239abf845c07395116ef56e129152a51067e5e71925e3c706e1d669ea9b259793fbe94f065e8cae830126b9be59fff581496c63c7263de4ce171cc9fcc30ec652680572b8c53bdcd8a993760579c0e6f1d30230280eb9f0e7cf08aa054bc4cc6b4a958abd829d8a3ce89e006cd5fc419bacca5166924d60ac91b9f08c7d3acdab38646657a792a28f6d6e173250afbba3157b812a1ab0591a2e79e6636f0d4b4b7b010da701c7e065869660405e8215353cd9d8dc35863c47846d5fcb2aa6a34de5bc4eb7fae4d8f6d03c896c195b3f507f018bf5a008ccc96889e246b7869e20d0c3e98397fb5a83bf849283518ed0baf15388432d7f7652b4d0b5cd63d1379b36eaca35e39477c6b8c17e159378d75c4feec47c9800a898309170a8317ff4d5da7d0d5c51fe28c9c6255b368ce7a9e241cb7ad206c9f005cfd25232a6cddd7673e8c3ec2202d1e187b8b7f59100084d5bf7efd6d1719712020512ee508fd0a15986433e71c67f95ae96b1529cd6610436251d1f4e0851e4b6bf88bdfa9209080e8c4df759a7a62340b5b1090a6a6e4fd4497838face141ff4ea5e7d7fe013ca2bcf94e26864b6c88123971690fa20335e2f156a4baa4c517944fe69ad9c9e42f23eb174d91b68c0649d1651e5fb44ae4ae26ea41b8edd09142b24b015141109647e71a9891b3b2af45c6c8888ab485a71030eb86ee8aba84e1058b470c08b5371de62b716a2832dabd5379e7e86a588d822ae29f2b48b07564c5428407280aeb554d63664d1e8ca73b89615876c749d933bc21dd4f86b8aa26751d8d687feafe90757ab011a1f20e525fa9d0c0ac029166ebdf6922f59660a6f7d6fd8cfe56fe18012c76a026505ff6935a079873d22295bd6f9a3851b1e9687bdb053fed950b0e0964d6d682360ab8d3cd5df7f8e2f7dd64075c42ad02651189b4708e7dffb43cb05c661388dfdad57ca33374851022e6249b199183630639e5d136d5844a492d8aaeb36e32aa0c6a488824a1fee1962d388fcdbf302b5fb305d5b6f1ff40fafd44385ed5852c40fd8137862e2dba1b20ff61ccd056081c32c5f23a921aec9cc56edf6db62a53b060fff8747bfeff02b65d6fd87cd3df611ce8f464e4e8291bb41391c048042717513ff4a905b85bc4e8cedabc97408b77cd474d87c20ba03c7f3cbd7b122495b54b690bb27937928b083f53cab21cb750d8e7bb676530b7d8268a4d36346581720cb7fc38743001549f2640526e2fc1ee6a4f778769ca6be0403ad9d5270afb48ab7c3d368dd563e20d3a44531e399db99fdca4c1d8c38da8c950d018aeeb34b2c54d2684c8b34cc339b653696b40d28e0e15fd5969bed8e5ed93401743d115f162eaaaba6ff4ceca5c5f8bc0ae5e999061af123569d3384f662b7f263639d5071721d1227276169ca06c5400f675da58566fd9fb12544961e63f6978ca0a43d3b9870ef1cf2ec97e79f38b3b24ab74ad3210c3a4b775200f87041f99539fd5b5fb4776c4519c31fe7b283e8aa7aa4e1801b35add3918c29fc5677eb4589f4f833a7beb6a96797fc4b0a10ccd94adab922b8916575dbefc1fa332fa77ea17acc4c8c5b6319cdf885466cf93800836c31da8d6738f04f4d0d45968aafce0f112f3fb2003125a05e168b4cd2e778f07afc331d069829e3c31448c8674850588de32b5451538d23e685d4d0b82f22a81e0d7313c1631799d85eb3bea98b19d9e8cf9ec7dcdbf7ffb91775deafdbc0e842f619da8e8f80035671467202e54030369eeed884f4a46645febd2514c23f446b799ea1d84a490f6e060a0aab6b93e1f3a445c888736ccb3054db8c32a8b774f408804c8c3450926afac0389ecd706723fe7a8d0c8b509f7ec4256bb5f0a7947840bd32656f455657342a510370481e56205eabf2a351ed20d3bfd0384464c29f571cf630e787b539f2ad5e8274b71062a66273eba8dfa3a3e5f8621e9d93a136cfd9807ade24461ffd53978405113995ddcf1033f2a637535173129862840e4a41988ae8912e52c8819ad256ec878efcd7fe3f65832ff73080a9383975842c9f24c0d7beae0130e7301bc9ff920241a872885d6fa85ce9b738a08ee8134b9bdb599260f74a7995ea970c1aafa96369bbde27b2605d15661a9bf92b16280a547d52daa6dd8f716b8b98b4f1ac73ea09c531681082d360ecbbaf236ce31f470eb4e380d40fe1cc61ffd4dcff9e46f67b3f463ffbb20913ce143c46d08c7e0aef1fdaca4287636f39fb326beedf07a6eb0dfc7fd16e45fd99bd8aa4e8f56a1fd89416db465601a70542c582595d61e0f1beb54e3c97d056628d9e50d20763684df728c1d33f00feeb666de0b9001fc8bf8edfb02aaea94dd506516f66a902d6a6605f81b9f187d17239a727a47320cdf84a0b905b60a056b84a4f19ae23d17e54ff1f1ae44963a87bd9c3aa57a5e9d767305807f4c3c75de6d479ea4234f34897d2d993f6738ef67886f2f5c20c3d0d4f04b5503cb060f38cc406096906cdb6ec3e2a26b2bd3e75f155b06541bef4912a89adaba3cf9b21886f2c2f7c66d292583eb9c03ab7067a44458cc2bfed11f7c093d01295becb5b48b6b8561b120cb11c6aec5cf131a94a3d4f87f11b2a612caf22265e75011b11745616a6e36a0e879d63d1299459a4f16f70ae0abafe17832f872a6158322efd5751bb89226d6c90a30fc787ebd140833c4a54e29aab6bdfb1582e7a09d807bfc88e2047ac5576890906e67a6050190627799d6687681581882358a75dfec9e4caf1e1bda69c73b06f2579980764caa81867da82f2b9f9f46103b01be7ec944edbe73b49e14c3dbacde33638bb98ae9d3ec06d5badaffb4b618cb49e932e257fab8a642e6e812f4093c3d7270808a3697e00a500dfc1984bca7337864bf8862fe3236ae1e5294e135c55ff515ed6f76fd1ae7582b491995bf550890b27bebb7b973a26010b5c4b6a74bace13f85e248f0b78b9b9b3a60ecabe67ced98a5502f3d0c8818fe7edc64632121f1bb9b07238774f690458ff9449002d3b008c12612d3e5e23d32cf0ba22bf1275a68118eb6201cf4216f5c952c22ae0ba207601013ee10fecd6ae1c7f714bf363eea8b2aea6060089147468799ab844906a5189af87548949d85c590dd70faeaa155fc99a0e92c56b1c7d06f1dc18398e4c19291c5140ba2bf44d537d3755ef401906f89d3aa5c440e31a3c527973d0257b8ca0c1af3755764fd96e290a74bbe23e87a2490d627aeb835b1b02788d349f897767703c6f73d4dd556f5f356b75dcb1b804170c25cadc0387b92c10a7f8a5138954e4025c6998598d585be30dbf2fb1afb2faeb9838817602c241a756bbea8f82e40fd3e8d0e60db778646531da4e979125e015c55c6ebe7b4fa92e80cce247e154920b16884833016ef9c8b739f6405ec98ab3f2df8d30008d373d0e3b420be996a4a02fdcb5f157af4faa32e1661bc8a8d03b0560936929f113713dd0a31924520b1e7dbfa3a8fe694428d503504383f290e028bd3dfb90529f74b93d7fc745ad47816774d33be446d7590ed766990f361f443d5bf1aefc5ca4002f97a9fc4a2b2625fe41587c93d58b84e824d4d5d901f10e3c54d9a23b362996bcab111f9c0cf835a0d0f7baeeed1c8d5044a21ba980c6c6d109d60272a0fb0955c7e66b849297846ad98307eb008db9e93f31af45dcc9c6c5a3a2fcae4eb635e286926eaf7556612def20c713bcb2bf8cfdf2cc495e1388a7d5f4f8cd59828d2b55b7bdbc8758afec1dedfe3555287baf1da994e39cd73680a4b0a99120892e0a6ee8db0b593a85603495e7c6fd950d87a6d35f0bc3cdc148081a7ae41ae7ccebbcd97dd9dea91504e0c59eb692f18f636bcc251bda004168d95ff8027ed7055f1cf02010e30df148299379b67431cb6a171f3c8a5d5e9c6a94246951a60e69823b45aa1dbf44fcfb72682e8c44fbcc3e920951a2573b2bd19913bdb1ade1be68a0383ab697782305b32eb649c8d636a1244871a064ec603b55be6e4d5a34ea22a7ab32552e594dc9cde4c64e5974873c435283ecfc7a9e7665e558ce55f38369ac4ba507540524f8562e0044c72b78357a20f19763c66a2d13ba184f41a9e317d30003a0dea4352fa4ce8ee79e5c3b6bd99588856917577473811db8bbd208c4ee4685e26174408c0fee552d41872f264521cf6af6e4289c23d3e76d56762f5c7aa0cd92dc651fd47632c1a62e512181b6da423c6858f4a5556b8a4ca774f1a9f66553b5e572c18b2a25851ede7cf71429315d0758b1479186691a928301658bb33ee58364eb8d4dcc5c591b4bff377b55b7e674b862418f88d5eca55c9e1b785b40e724ccb48567135887ef55d6553a50a256d476c7d737047edb9ab453d8a70916c05f9d4c2b5abaa862ab062a1512c208c668de45f2c90d711dfd19c729e7a5d040f45ce0267daeac4c10305c17c66b08627d345a52c06f359b1ec256257eddfe1e0f01ddd3aeb85574c09f8eadfdec48bab707ffd4d660d41d0315bd85a42203ca7c9cac913412595c2b84b04e8138447b845f6546e8635c193a97bbcd634efcb91695ade49b093f4e396477761261b24a0e7899a3196bd46192576655bf73186f5f02274d20dfec30b798e5e2bb446fdf459dfa45557380dc4457cffba032a5571d13799dc41e07e2165a912d92489a8a08e6adf4a3fbff0836876cf0c32b1307298769eafb7d4c845a3584389eb6553e7ce7ddc2a4c1a2a4b7428bc1615f6ac1f59e280c72cc8d0825d5e189e2db3f69ee16011c6507ff8e971e05415d4613c124ea8959ada35ab0fe697388c756ddd31af1d51c231d9b554826485cd1b8ef68447f4d0b1b66142519eb092c9bbd05d4d8ecd1806b9c59dc22d9f0870ce0e27218511b89c40874705e2bfa77d167e5c08b8069ec7b27a8a3ec2c27cbf4353059b41b3170423c447365738527b6bc7044c65629eb3deba5b4ff65940548f6a54d6769a023ad905a906958a689ffd023972e234ad24ebfde9c4180b4fd93f4b46ed84858b778fdb939a02ba6c0170abc77cdc3877471b0ec0c1bff128939c4ca5f9358fbfeef893d3e82355abd1b7b52526f18a1c8ce065db6dfab7b8a7abb0d77cb9752cd57f3d01b6cbfe2f7310e0b0e318d99135095296c119654aac63db00bf6fb3d05385f1ca381fe655b91cb70b4dedf5df6100fca865a7811a3a54c187d9251e77007e420633a9d1326e6837ccbf281a856e13a0c0b02ba30554f4e76605d0fcc95af857e3d98bef44226786ed5ad40dae258e934db225849eb85ed5b808b95d82dfae99d103601eda07f7698ac39da64d580ae3146c6df755a0a5672dd3592c6db2f97ce556478a414c5606da84907f1a70029ae18f6d65c69d840e3cd4ed6c534341939f3dafd2a6d77f998f19c41def8ed992b8f45b93fb911aae669046510ab9d9a62eed0df9eb81c1d3a8ba6409912e1fc982be831002afc55a4124008d6e3d6549010886c4b8cdfcf0b3a89fe710a76264464d47bb9e51990773a010baf9aa4bc4fc15e68a96d065b13207b79b0c7b44ed3794181edfb4a1781199e356282dd327d11056fd286aa4adfd6e735de99e461b453c8d558b4e16f23e240f94ddca2df962500735c2926c46f72b3c796c94af3a0ecd36ab136869306c163c6818a296d6a7f858a75aeb74f46de42af07583560fed37cce6e92896b6115637594ddf759e8d3f38e533bf644cd00dc04c9af5e683fb21d0b4f1cc95b56c045a8d33680b21d9cbbc1970224ddf827c13d153b7889145be55ee85317c825712dfb240d2af16fc37bf3cb963666247a1be9395c38d3ed0600ae6d01e168c5afc8055309357d94a551b58fca08321776e4f0e2cd3ab803997e6040850bce98b5a3c16a1fcfdbd5c1989dd00d5ec8a9747bf04e722476ea0a739ad1995039437ac168672768204cfee1f7519a46a4d03f9057078cf7a73c20aa02f89d5d35ab6d2ffa08101f993d3dcc166043acfb3a2cb02da670c74c27ecff5932f000ec0662da5428daf66d8a88c7eb14acaac570719a08e582ca82310eb8c6574e4e7ce8587258ea069067fece73656d","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
