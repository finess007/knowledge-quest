<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"27410d8164c97b3add63f5b08e5b9bd4720760246b7eaebc43913d249d5355a48b753d16cdb9a33669d2d20705fb6dbc3f4f1597aef21969868d004752610850c5f96d7d86fa957df9a73af460394fefdcad49b39ee437d820308b1b517901702e602d3723cf1c8d8501a0ff9a29f4d40ebe54cbd5642a1235a1f086dcc82fad037ad028abf4781c7238a5224ed1b33a03a28510e11d2c07e6ea4b10fa13230ab0879819355bf66867b710743dd3cf6d2d4e3f9c1090129924bc8f5711290fe49747c3b32d2a23f41c065df4056f17e3e57f20037067d79ed503269478b9c29d710df89ee414effe2555e5427ccd5cde26ac879c3c7b34147e8b993fedc6b0922b74c83c4d702c8906a426b7493211f6a40acb54f7cd2b24d258809a0d2b6be2acc10cea90e7013a3283584a3eb37e943f7c9815392fbb4aa7427e083e60a5909158febe29dcfcafb429e8c415b81ec2bc5782854c2d73042375c6e0790a22563fcce07352b5f9f0ebac087039113bf9f295d8d552d02ad04c48e3bac4b3e2a841708f82af212e6dfc80e8fe12ca8cb785e2935ca2e2d02fffc33ee84e7b5786505646adff5dcefb8564b34ef634ace473d2c9eec56fdbc214bd3330a4fb99f668a24d84d86bb6b55d278b198fa53e02354051ccdc9b85a05ee7f17d44893999ee3180dafa042ce8050cf64e34f7862207ebff690bf440238230a2b1dc17eebdb39f4338d17fa8e512df8e916cb60e1c4ce3064d3ed0360d407e4fccc5c1c60445b7486ad22c8674893b221427b451a7124738743194f72c1d9e29de87b700af8f1730a40cf3435970484e6c31dea68dd0fa58d67aad836e66913f8edc29fb6be3cd1afacba304438a49f440d439a897cc0c4775825eaa97c8a4dbd2ec341a501bf0c80d15a1c7643b95b15bceb5572b99a2c2439ab4b3fab0725e5e0a223e048110a93254225bc77b23d94aa85b3e5df87623538e074f38bb447b360b2c44454f2e4ff795db8e588f4d9a58d415ec3fd446b849f00f125fe5285acf628622db082e9e40e31d1c812b959b690525cba87fca51c2c1c9248b9696653f5a602571d961d3477956a50f27b9bfe8787ddde87fab6930b2a3bba20a8677ffca59eae2754cd81160bf6a38d69ec5fc26b4cf9d6eb2d86909fea2cd13ccd8cc46134d36ee3df59da0a286e1a0dfb4910610b2952db809ca03fd3002b6a6ca1b111380c47d4b4b74c02614a1398747830c25da0cffc7b6f1762b9acb49aff9ee4224dd665772d0fcfcdb995f3dabbbf52c0807768b6949ac67d71c738cb1c690f1eade684a2f108d200a4d457ebe43e9c0d2450779408237f061360d9cf647e96dc47161914e9c2cede5723dfe6a4da8747b763194ed8adb464b13611e47591303a0b7163ba65cdf68ad36343d9ff16dfc2db709e57058f9f603fc5c94a0527c1cc836ee68d32bef06cd9681810cd689462fc36831faa14afdfb2118916d21ee546dc62099b5fce609e21f5ba8bf0bf8002fbcfbb0619711db714007de1169964877b2fb816f3e9420d347546dd8e1e3deb4a41f25ff08108cbb125ca3836015d97dc7584e7bbefe52d5dcb2f29cc142935cbc3daf820f98720d71cbf9bd77733c907532fc6024c3d69e97866be80f4c5c4065f447c85693374f35d166af3cb07ac27d6f5b5aeebbe85731b6db98ad1aa0de6cdd2dd102cbd4db606c66a922ebc2960ee3c4e664b4188b87821d5e4ba19c33bdcbfb5a88246249833f661f7837ace53594421cfa53154db4a6d1a1062c0920c68570188cf2ab9982a212b755d52d27641ae0e0ab14e3d75182d242f720dda56a1f52655e26746f477fb2644814a676a5176f9f9ff34400c753300562e50dfba139cef05013a59ce0b2617c2e49c293c47fdcd116783b1e944518b89b64cbeff73402d47d07f6869427e6c72e2a75939ff3b63b0b6d2ede88624c4c32bd0b175c4d7d99eea1e7e0967366126182d4167321210a36e8f28f16808416b9c896ca33eb751970ea015f761b9775ded76432109e5bc7552d8f8403dbbee54a88200ca0f686c779b55860f9ed5840ffbeab00333eb059616460d74b7f36a4de1e5a754263a5a268b85379402262fe052a6749205688e7321805c6a6cf84d79aa4b316451c658c2b6e015f57b75919653730f7452c259e8b007422c2facbaeefe62eb6e696428b41bdd17877714aa11dfcf8b80238296e4f89bcabef0e9e396dc69199e61c363a11e58a3151527fe66972c655b1924fa3f3a5a7232744cf36c3bf2f27a56b2e6163c3e7199404c455a14fe94a394468a68e4a25418d258f90ce811cf50bb4f76c83f03b373853727a85e74ad0dfb84d36370c4ccdb2e43e9e89a9195d8bd86f6f6aee6d2d12a9edebd698ee51899f4d9077738cdf4755b1731b1ff474c3c8569a854624aaa04173fd3f467a3f5823f402a9d18bd82ba3bea1dc7169f3ce93c0a1f9e363fa7be1c0de9d1f3fd5d94fd44b0279235879857b5d04fcd5470f84d4eae2e2f7f3de73fe3b51763d23f9f51bda7d537a47481e7c3dad38d0ed12d0c4ba00c2156dcd5a6d3f035fdde02c41bca62d8bc4b5c416ea2a7178deb634c0ac3b567cb588eeadd4c8ab61ffdfc5c1a2ab80828bb55399a29753e2ae206cfdfd0c4351d26f5210d3d70adef07177cebbb8681c1b1d1ecdc88a477cb632c4d05c8116d9cdb59ac56a56415f879b96dd74ce3a7fb1ae753adaac531e28a3f4a5f4c65b8c096f2e7a30dd73c66d05ce99d5345afc222850f7fa0bb2739ea315484b5638b396cf168ffeb73171aabae82273f4874bb57cdcb55fc893ddb667eb0fcbfc51f8a6829b19b87e9abbc5f9e5547732b0976cc3abbb8cb8ccf6900e3228fbfbc3d223a8c8bb69fcd3f46a8983408e6993fac9a39e5c16a86da09d4532b66e9c1716dcac2cfcc6c13b97517cb331786e2b206c541da6fb1f4923f78a57435123cb0fba8332d5c00a0f2fd40abf604b292d3442a7fb303bebc92ce1dbca1d8d828610f6154e291bcab08c88f082c10c1ababf64c50069b218b282db090a653af5429c7dbb07af38ce8c235289250a9037007a174236bf530fcd5c13c5f3d5e4e8f2e8ab3775ef8a3fc49f4581382a6297c03aa178063c5313a2232a0c3bda9c55fc196358fc3fb66055058e29fbd96fe962486959257da4d46099f659fa1e3885bf2b25b72a19eae269898aae8156e382104093d673fcfeedcbc9aa1b74b2d45af472400b39c26e98e78066c6182d425c5b9e266483180bd57fc61b871509caad94ce63c8856746f338af85f109aa6e20b5c605ecfc4c3d834bb3ccda19b5b0fc8151f9b094326f1476f2f3260a53d6769ebd86d7dd85b4976143d217f8368373f9a5aec03829dcae6720c1bc74a0f467eed9290b563ef7bf95447fa8fc58a0f8f150e486a0dd24da2f1af502bd21876c32e7d47a26caf20336b3fd351286620aff3950a5c8f2fe61f18ffebb67a32f43a4c9fbb054b1e0c0f4de5d2754ad3c8d3d0f8ab312afc612cade310efafc6df3ce7c91bba8e285779abef677e9f4af18cd84cb31f897e32d73e04d3d7afb06204860906c4aba2f30002dcea37738e97ba01d4db024b5da044953bf99bd1734ee01fe84a582c1ac8a4da45d63399b7c5ba18600de0ce15d79bd99094d962f605e5dcfd83abdfb3d88c24c3e557298e12e4f3c505f82942b2418502fad8e483ef7e7f309faa45f1940fef1bbdd600711e999f8904bc61a6446efca0c3f79dfebda283aded5cacbf0bb639a358cd9fd04e65d41979047ab5087ae2b8c49d58bf6b65011779f713fe9c532b21ef213a17d97a2126c5056f5b9124421c0d2ccc6ed37da313418322defadabab858957805916c3314515f3b21d8a057b9c805401518761657c54bc4210e0a83ebe6898c371282adfd86ddf4372c21d81ca082efb7d14ca71109b247cdddae47e75ae6694e5cb9667c20c67e430e5f6f33b4110c2da927148d2f7e45cd758cc0b98f0e4ba8f0121594f6ed20ed95c35b3808490502a3decb09e374f3bcd3b8d3692000d2c014685c86279d729dea9a5b7b1e55ebabdc917102b6f47f6b82b56be8f3303d09f92fbb1fdae436ea043df303dcb9a3354fafb4f3b65d113ef1bf017a2058c585420f76fbea2d49e77327af86f433700a9a7de0241dbff78065cf0beac1f82c4bb8267304c566f557305a14eb34f8778bdcb1129591238886ff57a965d77cb1082a0447b95b004d2fed7944e3e534e4bc6e38e4348b27bd9ec6ea11ee5cd31dabba10715f1f1b0a760d5e9ae2c27c3cd9d5f5f4c8225325e7c07e68de2621812d370addb43f3bdc6e64c0949077d56a376c589716549ac7b400b0985842c8d846270d1ebf309227b4319372cbb07eb061ddf79c4939558ae958f9ef4da58e0f79292eb34caf4ed332dff435d680b659826b19d5cb49cc202346aafd97ef1c56a4cadbffde82e00a2aea42bfac69cae8ebd52c7d9b05e22b6d66f1be7a10f28f4271cc7e5ee6814a58bb49a89bed1fa115fc69c59ee608ad94ce91f0276a6aa590178b5bc805705b2a68ae73930930d27bfdf5605a21a300a7ddd0e770590fe6c545dbee31e8afe05bb776246b912ce136b9c4043cfb0dbcf6c21639926d743373b7cf3197e9603bc59f564d0d3a4d8fb961fc2301fce96980cdf98af752adf0cfb6de3ddf3f3c2f4298ee763bdb23e1d20254cedac72f85a32d31353ff7947adf17e4e2da1a8e6ec17b7b2b2c35ccf228940a06c6bb468f8f019e1cdf1be61979971cd3b606e06a0a4efa72c9c590fccb7ed8b0caa4485ce593c8a38255403d1ef8f414ce5a8fa7db35287efec94c67a97990585b917a098b10489916904b172f3ca620fa99e020f24a9eae8c51815f56ce16926b1f0852e613010944b7815884f4c36f2dea4ba6263a96764a6e1e8f8eadc6fe586b57e0cc2a1537cb5b73bc85492bf4803a514b3b349e7e28b775d9c51e01b41d85ac82abc6ce712ed595427717727c1e9c43d08d3951ece9566a59ec38e80c3799580ab65a9673da5331dee28214df9218a81518fc37bb5198ceff85be858a32997dea30f7aa8fecefd4642348d64fb194ecdd77cb8f73a2f1c36d0aa8cc7dfae2e1ea0ed604ae204e66dc628998cd45919d8515a9bc78c201e83b582789d442e5844d0ddb67809b046d945bc3033285d5b878abd4b028d6153e71852f93a598db78b4dcf32c3fa686ccb73c9552805e8284fcab17ec4c93b45cc5bae7f81dfef5a6ec9f87b4ccbc936fbbaa60343133ddbacc0e3cb39d6ba46d55b39aadef115792e122ab93033110d5ddd59fe9907b6a8009908d5a0799eec5475a1f4b4eb5bc9c53e357f897adce5702a4d67bda32afdfbf66c8c16c487ed82e1a5d5edefc8e5bc18ce6e9715a04359d1bb927b050487c7008d9406e25064da9beb2757abea20a922ef26f2067000716d0b7287b027f086e5e08d383fcce69ec05640919ed8066cb9a75a94c8f55a0c06844726eedafa33c7b3378bfe95a0fb734f4e76a8da4715f180d83408d26fac3fa3f847b0992db59a00996a035aaf310a88fd7f5dd980e597eb9ef2c17d32411242bda1f17c22c4fcc3fbd1f14768717bc3f23246126b55cdc288a1db8d031b12468e2a0109b751e9a5f083d3e77252710e6c483a17d4b253d5097d3566cf3238af49dd159b73a16bc91909fa2d200e6ea597f7d860e8a9bdd44d92cd830cfc01867c229756f763474881e8b67ae7ae5d6b45d2d28001d573df08ff501c8603e27b2a68d21cc8f61ad968e9b457c8a62a7a1507cda33bfe2e8fb0574ea5536bce2ff2ed72e6800efb4700033efafb0c8d7ff22567da0ba781bca0526ca937bdeab4f4cf6f98cf3a8176a3e64478a6539670e9b07f6d8da7bbb65078f665c92a93b93ed716525293b64b71d229a665c3547305e0ec80ea9da20506c86af10c72ee24b50a5f8fe5ba5c87ac3fcb55933d0cdd6bb557fe22f3d4e0685d26f61bb86cb0f1fcaea420ecb90da25e184a2a4853cfe3b6eb60d6df456aadbce1019d19d74d2698745749d62f1afda8eac2dc9e35d0cf3f7c6248f29cabf936254bb1d0d42253c3db188673d70e00f5bda0bca35f3f19e87bda8fb7b9a1728e6167c74509e43af6de451c5e951188a294b00b87b240934c4ce79163f644e0227149d2e36da641f63543e105b93a645865e0b5167f7b667d09b1786b1f5e721694cbc4f575d9969bbb40ddbd8252edde5a525b1df6b3e5c414d8a7aecff969d643b7b363b29b0f9861efc996976ae85ea1b54f4765d27f1dce07a62f4b4735117b712f9cd9423e35c5cc6ad5150bd97cf6e78d69624f224a24ccf46cce309d6cb0f14820140cc0d148937b4d1764e5844e3b199e54c26d6afa387329eb5349c29d2d2b8c2135e616244a56dd30bf510d14b5cbbc673df6a2739d28d0959e47e51c3995122266b8b9f1821250eaf3b42f4c47295089bdc95a4450fa07fd24ae262c5d2d95204ea4cd769076b35cd45061a557fc855072c9ebd45e2ba32e44d43210b59bbf85ba43edac529364250f8431eb0e9ce1a648cf8d8313601537867740a38d2fd760dd8de9aab65933040231f4059909484194c738644548c1bc7fc3f8c8a1c0b982234ef28c96b3b766cb1f084bc9ca9fe00a362b78a399255e42cb6918a89f72385841dbc0f273c333dfa5eaa2214411aa049c0602cd822d8034de49ff38294a31145c3511b846f9d77745af3c799708c3cd7a440998ee594d9c14534ad8829dc77b7f27c44a473ad9195071fcb3b3aeb239d04a3140c9eafb0ae919fc1cdeb3979ea170e903d606e5be45ac77c4899a04372bbbea0ca1bead4a6d8cd5af73010820252e472a6f538e806c5684e8e7c6c8b12b47b18899ee3d4f5a1adcf9deec5c28b30bb82e84de3e9994f4a47dbcbdf605d5e3b1ac1280319d6fa2ca31d98783a92f215ef5bbefe9412bf5d71ee9d525e95e441f64837a133ee5ff8d4471e7725bb5f7cf712592ffc180a43f7b381bd2df59c85dee421251c721307c663eb2666c6bf907a3a538bda695a97f7badda0cea3f24c0d473ceb93dfa5134e519f7466f4c1dac2e47a3619a708b4d00102024f2b21ff5ae50ebe6bdfb640ee34cb6d89ddda7e585b187979f4fb4a4851287eb267886ed9e738e9a687f4d3571b5f9c1199ed638c0f3335d5da63c05b03ac37388cf9611974cb6dccc79fed0b8c64de0bce1d8c54deb699d88f02c8108b4b83650fea59e605abff1ddf7244881eb8d0085b1bb080ac73573b94803e189fabac71c66054b7cf0e07bf2423d900cae4fbdf9600de68bd0b1a950cd45ce8ed645c874251002ffef2d163cbfaab29eeedcd336f7718d1a60509787e0ff3fc1c5e1effe33a18540dbcfee0a337fa794f68d8ff5b61397d207e683df44997d8d788d4fa68aa3926f36dc9469f3c6c59f3ed6cca32c9df51ac50a18b61d3e507b68048e36936694cd7ef5ae8e1cbf7be320aeb7c30e35d7a4607e89c676cb54cd2e062bebdf06eb689ed8d7bcf000339f16ec2c2f8cae98cfdfc31559d380366554a8ba81485e38b814231e9bcb623f60fd5c760b98c5595313a6e26183640dd46704b9a5ee83db063a122f378398213ba2d0d55183cd14d51d13606c29fec8e5824b0cb65ebc982d37736f1bfa201313c3fc0afe29de8329ffa59ac746902be2171bbeb95fa4d9159c79b42f6109e9a810bb61fbb2f9b1278400612aa3932febf790bd538bcb02ba3a74fc7bf03903bd6fab8d52d3242f5a4e68ee7404caee3337c7ff0135d7f8f902cc697f52ad240bf1dd185cd0a6eda75e7fc432b397bceec8342b9b5c0bd743c86f8f049a71d575f44dd644c72e3a4dae1709f4068ec8e1e6c894297f2aaeb7d09e07ed62e92671103b135a5179111badf42eea7366859627200fa21aea9fa1b5ae568c300868a8030515b18cacec839f041947a05efce81c28387dde81e9bac5b75378f202bb94a78ed5e826fbaef63cf476d9c1f2933c85c66974805d590e441c3e96395de523fd7d753277445ac74381489089fb63e7ea41423472c7fde95ffda32520a6d7deeb707778748823f593ec5557b0dadfb2bddd944d1199af18f93f3c3048017ba3cf4b1d37a7590cb5bd78d069df2c7dc1b6ef9cfc90172bd9117d9a0ad5e531e67ee11f64ca3e157a16738230066105bd69b140a6ce1eb60a7a80e941cc99b0fdd46be8bbc085fa9394abf974fc9c75e7f7e0da30d948256f47713aa177dd3c0121cd8cc6df58dbb6b88ddd5616dc8ac718640e2fbd1cf2fd09e95e365732c352d6a181d483f782466f9c674732c9b1c13b6d03335f62ba722a5f2215a8a5783b4207084f1cf0bfb8212aff3b4e95b18e3bc629c9d43423737bc5dbc56d333940d3543e3b94c77ecf9fd0325ac6aad30cd394a324308abcdad7043d78832b5184d781bd77448782068ca4c8089dfce3ceff81bc7aea851ff4b1489a2538375375afad260c11cbdcdb7845ac238678a84e429b1a573db4b9b88cd2ce9182cece6f73011871b776d8a962ee3340b94e4ae0a525168c5753acf57fcaa02d5606c2409caa17813136504c70ecfd3f9682aef1f2f5b2fb152288c80579791a38f76c2caac4c18475f7feaff12834fce9557bca70c4f2033ab3cbab89af5e5542e21e821842104e4c9a3b63e1142cb64be9095f113cf25a455682b0991e83d2231c39059ea6db2518c01477a329473609536069510e9c8b238ce924165d1362e56603bec4d3a5e77f5365cd4e39b1df45cb18424e030dabfabe1f9126e891f6a65637c7272b60b5d577290c1a58589d97b4b1040c179f22fbf3c07a0d4439687ed1affd573015020f746611a9b5aec8e397ddba58eaf23df9413b2115c5d46c5e96f50f2d9dfc0a5f904f90bb75091f2d161ae951e34bf9e0ae7a6ba1c0f1ceea6a1b1a24da566d000e65b855225f140ee7ea8216a0b53fb78e0191a0087b38816e023f0d8c8103bfa86cf5483235f6d06ff19474dddb504b76402b0ac00ca89be67a058c642901c449cf6e5c5c11cb942151651afcab241c195f607828230ba66db26f010a291066a628df02872348ae4e29a6eb51f574fd14cf2d581a86fb6bea0c216e11fdb8e7fc0d12bc16a3b34009aaf8b161c9787931bfdf469dabe4507616db4dfa264a65d2bbfa37295cf298dd0a28770102c0cc73cc8a80f1982eb1c694e2a1129efcb86275a5a84911adcadb26e90e4d07f8013f62ddedd362d76425779212eac7ebac8f453f18997d9ff6f8b1a92e5b7f9ab7dae4dbdee2b0123143ff08b9002385a17ab5f41a0016d5ea00add1ab652004506b143eb6e622a7dff4ac267b6fdb248f7132c4d9f53f1a06efb4204da57323b16e0af8056a3f99467d5d6188caaaac85b9f451fad195bf0db20f7da657de8600a948dbf0c5e0fb5015a242f532aefa350c3973ce5ccfee5f60c47b4db7f04b67ae5e48bbb1ff4cec7dc4303bd0829ea0b9cad3bbafc9d32476397b3798ed426bbe88b10a0ff837f050399af8c9d30bb8b0124415ba097a09435af6e96dafddbf47fa45d4876098c58c14c4541bbad5d2f78e32770416494f4f5cf84a609d841c7b16ffcaa6dd4f74d684a0374b9fd28025d971f0bef4813971f22ec15895faa421c9575276af523cb9a983e57ab4b6174c0b4b45722ced189f02f7333cd1db1988079f20d4da5e159fe709cb0fb50f2dfdac21212b92cf86bbfdeb73122b1433f08fa41167fc76825d71ff4716bc742cfb115a06918f98ef9dd0cf440bc5ea8f940692ffe144634e96dfa2d1c8868bf2c060c2898cadaa71d1fc1311f6560e28e2b48f5c8f0617f412f78730bc1915cdb05615479a9b9643570f748a716fecd482c7c38e43afd9f1ba663f6794d15652482b3d5b035071eab98e328bde6cb4815312847b890f9423d27790937349c7714dc6a82a08d3f3789fff0dbc828161363be87bd8ab190b641164a5103b3693580c64cdace32bdd4a02c552f30697b7b66e65ba55efb993f139d6ec1d26add8ea8c3f345308ba08eab57056abdea24793cdab0c1c51988194bc492a1eb5e6d2d066c0ef9f39e0bdced090a9688915ca29febc06c0dd2aabe218df782d10eee63f87d7c5cdb208e309cb1f8d1fff6792f61f250a323d1ed356e1163109bbffbc2d7d392b2623f70a9bc355dae08596b1002fb75b494f30c3647feea46d3312cde7d6ea67c154ec71f4a02c04526531846e1c3267c3e9b04ff6a21aec21d61571a1e1dbc0416bafb75c4694e1e266b66806526c834d5a9e909e1f97319dc454b0c881bbf139f3cecce7c0b9d25291851fd48a12fe29f27fb2578d38961185c95631f323a2a8051df744a5e9b3b1581b3408f922abe823737b41b57324f040eb5cdcb796eb45d7bb0322a15bea49fe0241bf5684548131aad82f685dda1926dcf69d150a1e4407415e414b068c1061b3074bf0d4df457d4bdc5cd9c32245a95a818087a592b9d043f6e1b8b4cb91d5ccbf76e2687a9eb8923f79458ce6e9fd245b4c410be9f9f47c912f4a957519cfc96d5ecbdf9416c34d37afcc3d9a7d11529a4feff7e5cb3ea654338371dcb0771cd0aa5af9b909f0188e450a4765356ffc6f77a4959d134d65bd9cd9e495ee51aa310c5fcabc3428350f85de17dce99b5da92754c733cfc9536b66017fb9f333556f446eaa0c797f1c1dc1963b982daa6dc02554969032fb7cc04f7ea5a10e0628b41f2561093361d33da1ff938250823daf545af85c305101a3f6445774b7e7eb86d6b01239a7d2c1d3a1e3f9a65b8d4953b1a4a8377608af05bd177446672b13a308cd026b3ae73c6bfe2400241db826f0c2a802984217fccbd6db89421f0c3d35c24079de021036cd29b9aead31022f552441bdf9fbaa3d7ea822dfcdecb88b6100f40bfbb4b8642d41506ef8bc00a8783fbf14386c7f38011cac438fec21af99f3ff6b4e31a0b293e9d756e69c77d36d1f8b57ada06412f84b937dae420bc940b6a94d8ba00f8bee222e19c19b511f8f9b68589dc1d80f9362b4402b5e64413a3979781109aba6757a4a3d38c9ded5a79ea9e287cdd862758e929da0abbce9d85224181df3c94b7ba7a216400582c331f2a0903d4d0db90e7a3cb9e448a364f7c455170817d39cf0f44e0fdb668253e3249f8787c3d77e11fd30055837a701b7e8a4e61568a2fd7badd23f2d5218c8a06fe0b62f697355ac2508a0f2c4430385e04137594d22c08fa0facd9585aba10ed148cf2ce545fcd613b17c3797d98b1a64551d77e84273ceaa4e895424a6151f48efe3a274abeaba3f758604c035c420b1bee13df604599053b7f98cb67999451a1c50272820deff53a9661e1254b06ee146ba8b30914b80b3d14e8e01d7de7aba8a05616cb8e4487569da99a47f5e8d3712ceb6ea5e001092fb580dbef66992792d6098fc717efc9a03b67c6314f289d561fcf0b8b5ac29fc2612c40f89ad0256277f4908419e6eead72cb7a2c7da4ff40971975d3cdf485bcbb11effbee56edce284934473a27348f5bb00c83ae4941119a0461881f0ae431dd00855a24e17086a75f718e8ad4a8b1776ccf3da966a6e5135c27ba61c9835d2bacc88cc5813db4255a7a4decd10dcae3d003e9f37876ddee08fb79c40828e5360608c740005c9c2e058dd30f6cd60e48f07e7f5cd0fd453f2a0bda387ee63375c863f5d7cc770fc1abc9ac037e90945390bfe2931d1d71d1681caf75c5c611c7a140c631c17e2520bbb8b0d19201819810893c2e8dfd040accb07c647c6dcb7385edffe46315909e8b946d04067196cc6ebb7d9d35c38ea073675065e336c0484ded9552aa11d9c40c8b16bd8fe91a5b5331932dd792d34b4224d1c88cf1468bfcfdf0fe37ee2a7c0328db46216e57a6b5118f29c538ef83dce04264be50c65800ab19267031b289e38367e87d2868d69c965328a01b6fabf32757c6399b4b393700f104fd45355ef0d883f4f98fa49e8a09331f66998ddcd97a080c2ae959d398a393480bb366c8b4e07ecc1a569ae4a979789f20a6516350a08b9c123dcf82c237b9b836368166751639c73677361cb939542c36abf8c2ec592283dc0097024fc2445e6ec20f3c75a6a4e73c8be9e959050ea2a04795f800f95a369e8029e5f64fa3bfed7d206a10f936e5a5afb3b3c7d1c2a3fae92746a1c67cc9eebdcb5a2526bdb1626a346cadb08036debc45e6a20abe0ba28f96789963bee8e4b86ed34dc357411e24a3b90f0f447a7eb312ee1483c0d71b4fce1b2d3da41c5b130cfb08f59cb9f5a67ab0399a08c4a508bfbedfe3495d43b3c206e790591ccdd65133b986a3a1746788ab0f30aaae9c8c409e4650f74c8bb736bca8c457acaabb84bfeb71bb9da63cc05db3d2d50b07401932cf026e174206044a68894ab6d952c2717a680c7caabf4511b6fa92f6001ebbd6dcdd3d64d05acf81ec7702b1213d32f93bce805de67811ffe775102c8b936695b344c69e5aa04aa329434c2204f566e99bcaa5d790b0dd5019f8f58a09fdf96a382444d8935de6e7b96fa08c85e064f8c4a6686eb646180a081ff5d11068d0a83a88ddaf6a0ed02214be164e82758c92ef72caeeceb201feaefca5ec39b21e140b5f681b3a78decbf59febb5a4ed070604370b580873c9634292aa33f9c23d21f8c8b8b0b208f1732469820e7d0b29f3edf5b943259aa5d4f4930f1208891f5fe148f0b940bc1ae8af279f5c184159192f3419c55ae65a0f4030ffbce0346d0cad0537f070a7fb50163e915c45148127d80479f0ad80be00acc9910a6f633489fa95d4249261ebadf4f4479bcbc50e9c48021e9677fbb1dab79799367703fb029cbc38365e8de0cf40ace4c6e32d8fffd4e1442d6afcd3031f3632e0b405816c1d3d8e4a76979e00868a48d6f55dd401712f63bf7a578d9c550cd6b06dd33181a9863c9a3bcffbbb3858449c5b45f99771ca6a9e08e2cd04fc381e93e56d3af51421205f9be71d85f56ec5df7776a063b33a9e84123577035c9b6b66d5369e97a642faa7727ef08cacf5019218af6ff502b8c0c288d45170c13e51ea7c0cc5ca813d49e498e15f9e913643f6e84658d602458cbf68a115b0952416df5a6ba500ea5a72bced941727ac9785838f3208c37a03cae6c516c78d6e3ef712132387ada1dfb545c52a34de37dbe397662ff063c9e1bf1e3d3ccdf5ff27572b5424cc766e9771827eff216aec376f8a40dce8b579c8463c10587b04e2ba19cc2be02f5ce746df33e6ad327050d57e7359f291ceb572edf660c4f1bc44a4d7c5f65803315ce63102217ce5df736692abb3caa6c9531d02fbc3ac5fcf5871a9041bb37c9cc267cf9d3f938c2cf7af932c26f4eaadb14e21f63d397458320c58d9cb72a231d0dede09a3a2c970d55eb88328ff499c228991848a267651dd259d9d0344386f7e478f25de9dac09eed43f03def6737ecd7afd8e3e3bd55932d0e5807c800318563d8b46dcf961db1eac7e01802f6630955842a22103d580b7a1a38303ea743ae8858924b4c3c8594948f306e296426dda743c70aa0a3e551723dcb09cf32c9c92dbcd93bb55ecc3b270ce5614ccc0d9f951b3f2832c31704065bbca0fef586bc048e95df2c4344307c328a2f29d311d32585262ca72e4a91df10cc404a19f10c040313d04feb92bfe0fda6d73366960dcd7a2702fa25b6f470e51440fb82bb23050cf46edd388e7044c29b34fdc84458ecbc81cb2063f1dfd0767617182606c4f111b6747847338d8a094a59695e58a1ea7f4728bffc340f6e1581faee88abcffc2df89f0013feaf7d54f62067ae129e114c080146000dcf0a6bc354825e29731f70fe83ef4371d9241e5d79085455fd6d5abfe71d4e70a5465a145ca50a397f912266767159f51c759b4202dff30868358a53231b76619e86ff8d87231fe61cbcd71937e8d7a4c8b90cbeefb779bb9061fee29880e859bf87faeb509f972bcb6228ec0b18ac3384bb7460b2b30ca44c6445910e768080ae7d17ca89dbb3d2aed13a731697c3316dec2f497f338b8cc5366b6bc066aeaa520878f319fb07cfa263739964cef8fdd0dd8b9bf436833fb3da473b59aad736436b33382eee77460566b8ebe3cd3fac4aaf582e438086cc9961cf0d0236d78474bdc73fb7263e0cee07742f6bb0311fcd960ec9394b705ebd7f62c3833a991a0c568cf78a38087af1264b9fe2b5457a44806e2380205b8c958fec1ed8e95cdf356e6f5c761e49dd19130f3758876aa89486f8249db39ca20d60d7a89aafc1dc9131414f66a238cbc429b1575971d31727f73d9267d7d4b88c43fbed2a5bc285bcc6a2ca899496dfaae308e03fb2fea59a8c1ab59a93e33033f164a93737109b3ccd0cb6dfdd573b168bd5ee02ff0042e0b7b050831a02b2639004a12076af7bcc9bf9e689552227c18baed21fd2c9c32b5f0c444e85adb235eb0738cc44dcd3363775f70a213ba32e41e8a90b2b3a65f125d7aaeadb04ae932a39e7bc1e8faefc18535b55a448236c5d4a08e75f784fe20d4d5f54b06044e035a8a1c0982e09a50e23c3ec3fe11ae2779419c943b3ce077c22ade8814393046ee3d5dc61f4b527ea86389df0fdaa69118316b2537ef814343bfdc51afe580b4c6494b181b4bd660201b7095c597070f01236d67cf24fb577a664233e38f135dd89927502ff5bbad6ff9ce0ee4b15d9944158fb7719d9f8e6c4c9c9f468fc5292c03be60f26ecb0ac10530449b69ee25e096819963e688f6f5953f00d1bdf733fafc9a4b0cd0203a651a866334f23424bd75acc9fc2e0122930b9d051739eb248e032e3872e99e8eba8c9539fe2cd331eebe76a87b5febeff57545af72a627711cd84661d4cff49890d7b84973e021132bfc17e99e6b776fa8be451267d21c99aaa9b1fb32bc140ba434ff29ed53a1223ada7f187a2fc206b555310079a82749e5e7627ab9a402960156620b62bf4249dd7a5a871f18b293f4a7a325b0bb86c9bf6471e5886dbf945a5aef52bebb17285c66f8129a6d51628e39a59d16da480d704f81825982c7dace541f595d1391ba34b35bd047cf87bc0c0dbe419e4d46d453a978e7f91ede4b17fda16bdcfae8763917887fcac4234fce490d9a4b193c76ec9d3f360628e3475169a327772b622d5b2a48fa28fc2c6353a82cc5ca35e9e4e23311cabf1cc5b431510bfefe5f43606317e81852ddfb969daf72f4c01652856b1d39878584a41ee93cdd41017dc57d1545cb3e1e4c206107588d694bb2e013ec49db18958a315a241ccd3badd661e4a1ae989c414a889101f6adc06f4296033bc1e1fd60e55cfdfbcf4f13fa9c6d13b9f2c0a099c6998eec83de35d433070b27c52b8fdb650a0c7d8c8151d5bebcc27ae944f62b421991fe6ad0c379ecab77be14f9d8056be00ca3c2866dc4090ef57debfbf57adee883e515d2cc2766d51790e6a1f136c51fd51bfcc9dc3f9e9685f8eb606765067b62c0a274d15f10db25d6f813299c0b4917e417de5c9df6a7a744b6e9a30410e4e33788bb9e7f2e6f68239b1ee2429c5de1b22af775308194006d2a5c01b1ec6814ca442e32a8fae6e64a36042de59286a64ebd34ae6ce0d70e1999c13ba37ffacf0ff9dd3da7e1ee2f8c16fcbce9ea280a3cd0ec9d88fe53769c87dda9456f85cd33e0223c4fe853564cf0ec246a9cf54e972aec73f27980d09a207c33e7eb1654669112c7dacc36fd12ee205a29b90836b3786144aa66034bf739c3ef77ffc0b4a3647137ef8387897a07d91a741e1e7accf3814108b5be2e9cfe73b6863cc2632b36f226a635e3d1146f47d3d11d1b94d54cbd6d49718cf67ed3b10bec1608c6fa1a02a613c8a63896e5ce617163bdc1321da23b72d83203d6c1337d90028ed24aa52683cc48fe59acfcd128f2b770e6f42b362c2ba2d65f8f08446142a3bcb029f3e60d987b41dd90b65eb96068fad0c1e91914e5fb3848b1554d5ae8f7b54841c367a1be83b6c610bf27e9423a4bb0043a1416e4ccb1f2ba69dbe879702cf7f6248e8c4633ccd82ace764105897a2636f8f0e67c379d716ea08f88c2915e127f4a86f9dea585496da2841487ebbb9cccf9a236dec6913c65e1f5cc53d69e917ad430db5d746bd3d28969fccd0b25ec88fdfe00121191164091eb6b4695e617bd6016206f98cb49ae9765560705555164244106ace69143a4c70558daf1147f280a49b3ddb49bf54fbeba772efff82b4b52462b8f9a7df49f123ebc03b2621bfe1b5d421b7a7f112190be7e2283e9e55e646e790bedf2cca5d6c6e41f771edc44e74bb9a4a94440593893c2f6b405e967f8ebed7531bf9ebd1f1c754986c15708ca0e46c31ef7d545079f39bffc7ca1238d555b667da88076eeee8e03b882e55978dbe79fe7c3177f1ebd44f2617343266c93f6ed70c9d973795d95ae8638b8ca60e3d32505756c217e78bd6ea434a8c1964b84c5f5aea61f87853bd46c511b4db4e7b94912e144e46b0c2a3c12459cceb819e7f02a28a31b7ff583ff4c410a2da71cb9715c65e9b9bc141753afd52f8044756c1d17cd8fd6fc0f995624f519bc847e268beb8d9b873d3c0ba336755912921bd7749cce632b97df1d5668e6c2fce0fdab1633ee8535c3dc45156cca91481cf90ae94954372fa8b621bb37d3102a21985001f931077fe80028206e57db2b3da0318184d748beab3c012747b2a4fb8757703eb2570e464ed5548e88c88aed3e161712e78cfeeb249613775cd59ee665129ce7b13605a24595b7963c6b208211eff436127ba11e746b75a289a8c9ba028c6c710046cd1a00c5e45804c899ea8eacabb1797738cd874587219870d45c21f77549cf3b442035447693e17fab9febfbdd50e4b6fa750c82b010e3c684f1f563c1f0a9084e89ee4ba2fa0f99154c37370be9d6b8dcda7a4625c70b148704f779cfdca3a3cca5d3abc22755b156769f3266de1ddce759aedfc3e5c88ed6f98cdc809e87d951756a1f7542cb152936f2b21bd2314f6c2b9dccc264a06e44e2004415a885338358f76656eb3e70e49e5d4e90df0c3d684a3c0400bd1cf904803762d7a13119ad652c3d1aeddc97c83df24910b280badc3b4acfa40737737aaef096ace2e52645347d9c036ae12e3ff3e1d7b784e32351a4cbe6bd01fa824b23ad3087de249356b3b1884e1db8a1ffd4e07aae1806bc19414cc8a42b8dc65c61fee68f651769b2436f6e6c498e0c8bdd44d87eaa3cc411de66ec83c448351b768431e433b1314996ac63df681eb8293614971ea24a554293b08a42028e3f778ce3d56172584da3b7052f0175f27b4a6f1e1f80dc9e13fd7f9efbf8d1c6c61b7170d92b3284fe7dcf2b609d92945ee15cde60fa9e40b51dd0d49ba2b79226ca72591e666ba2e743854048661021187917aa46698423bf8143b026ac9529093ac24a132188987ea80ba7325ecc132e9bfd11905e27f7c0605e10a1def3d948f337ce598e2f5e3b5755e4060a14a3ff86859aaa049fe74e3494a4437697f06ed7854022c02066c933f1babdfa3b73b8f65d34386dfee29b9af70c236c46531dc5fd17ac1f924022cf66a98ad1b824f63c8d899d4462db51f84baf11083c55667b5679f03d7c1f128bc512f7d8274618bca99daee7724e2ff9f39711f2b45064d63f5b7f0a0d23af67cd331a4861868be6e82fc90bd5f7055956c58604e3d0d838c97ee3c25d5d185230ba4fe6326c90d9bd1de1dbe039a281b6a382b7122a2ca10e216b029fbcdc051bde77a4b75e8c97011df462b4deca2ca01b4ee0d5418286092ed209878e2e3a7bc6c69b79ca8ef68a92d9517b69efbafd088d1ebea80af24eafe77b9352c535b59c4ff28afba2e0489f1a162b97ed950edbbe02aa16e8dd036d928fcf30acc43074b00e00611fd31cf6a46e33f5c1c166efb0115a125877427d5f8c0b89d1e908832b1bdf3e165324c3f5ff417436c491e53d01011a935a67c7245f75562753f934a5dc485a316349da5205dfd69f0da204621cb6300029c6ae4a947157813202bd92c8b14c3e26a14af7841a9a4ce90e0d1aa9855a8f48866945e12f796226b9de188a5fb78b19fabfc2f3a54f5ecd00cf6211cec998b584c7ad295786c3caf5a93bfbef619527ff1ba52547f64264f19fd78be18c3b4badfe68155af033e3ee93b0a47f390b5edc4d339c1f33372bc33e5975f52e3374f64946ee9fa2999b8040d4f68b58c4e67a9a5a16eb43b00d1c3d9449eae81ded0a5f1d4970a9eafce19581e54f23ad84a86be6f951ab89b5450b486e79d4becd09b60dc519aff980abac6683bf555e49913457756fb9f30669ff825071e339492ed91210b66baef4edf7063031ec7b90af5189ee0eb534ad0cfbbd59e307f758c3d4208e18673fd836d1117975caf9efee5df9da3daf11b190a2aedbe1de3c8fe8dbce83f1759cafa2233176bdfb7f95b67e01eb406459231697d6eb369d578f6887fd57763c59f1f8c297c6eca2a6f9826818a3d518285fc208857482e6e91cfffd6c791819d1a79484a871dc250b13496df08bcbefd821a0fe8ab213fbc532a68b87e2d24ca2fbd787aa1ec2d7970bab79f06517e85369f587204635e7f8846ffb048e9457d209442a208ab1ca7a6c89a80c3c92bfc0ed0f952dc7325c462e176ad73064ed957a8b95fc05b9b7eecab427527092152e76caccea5d34a7cf3cca8c445f6c679f4ca9641ba56f55a634a187e4fd28854508dfdfc425c7e56cec9f98817f11f7959cb2a5b53d6403381e9baee0c21b6dbdc66a31b17d48fa94060d3d1cec773258674d7a67430e7cc294a4d4bc3f5f2c4fb9823675972bef7ed2cc1b49c0e8f3c19bf21268ed3d431a0ef8186a34c78a66760247c2b435ce211bda44aeb4c12b5babeee6a166481ff6aa57d4e4c4619dfa4a9617c8bc2f8c4b6e1e1658d0f6df4fa1942c45bd0e24675127ace67148d1a9aa860413aa2de3eabf64602ff3515d56ea036157f67f68155990dea6d558547e76236c7ed7a1403c6b66a851b62796bba8ecb735dbf665c003af9e5e3bd64fb129c77c699e383787267fae1826c86dd05f4b625ddbee9cc698b6e4ba8236b8b47d2d1163b3262e0fbf5a374bce1160e68fba419ce014946f6253fbd51e081c4d80b7b322c88f1993a5d9c5b9a12904350e83db48697b5b3e43185f407d4b48779d28b21a725bd2e39330948385d888e6cd252e92615f46e70b759e94915e6af35bd545a2592f8ef498ccbe2e70920eef42315cc0e0968406b6314e06cc7b3c2acb42b38edf04100fc93e749014800648ee769e68cb40f57110bc11c0614bb272c55b99e99fb400eed0780a10208e18a3f12088fdd89e24c7517048579292ab0ea7ffdc2777746624e8e0bcfae923ca8ab5cdbfb420345f27d9590c5d2291114d07604425b28a0c24f8a2a5cb63a94b9ab3fae1eda3cdd183ca3a6d26ae3f917b4541e579e904a25413c90bb510792c72be5eb5e07039b7f8f1638778c572ad886ab59dfad3866ede14a4fa321646e01cb87b54fe833ffcdd8284a73369ab93c648f045ab29527df0af5a4583b888a1732c835cf1c2942907212081ddf50f0edb18e34d601deffac7c43688ad7924e16058809f196889cf18e07d120f2d4f3013bb2fbc0c7ce3aeb3bfb95d27606cca3f6a7ca0333d52d165ef8e7fff84dfaf256482d2a7ae57fc19113b51428204fbf152275a80d262f216f142aa2bc6340aca864b4c86b8bca771edfb320d3d296353bfbcefdaaedc479771eaca2074c574ef4555aab8daa54f2897a731a7411bf5bdfa06fd40aa7fe0c616c1a98fc4e3f00d504fd7e11dec56ef69afd555b2cb65c381de0c6abd208bcf81cd9f97dd2a74f43bfb80b7955348c8bf5abd41379bf86cc614d05a337c108a48df693856507b4e64a714d579ca965337fbc6126056af0abb3801f82b57599a08e129d36f7f55fd0f646f95d75608ac2fc6b8d7e89d7c8b88a6a6395bc22fed81effd4286794f99c644ccec4a949d90aa1b8b9f37327bf84a372c6cd7ddcf180c916f197d923df3143ec52922000dbc00387115dea41d6d0014ec141cdb9a58f48a4635749d8e95aef3c804b5d1d12eda6d91058b56f36e750dbe18f89c8d2b0c9a82a38db02aa41afb3a0af965937d3fedd48b85ad2cf00f8953fad33d879439d4c5449a97b882b2f1aeb36e83f39aa82e63197bad30a5e429e9bee2e95c9f778b11e71a02709aee91a24b84158acff67c2a7015f5d77717fdd4acbb860573ed72273143d727d9e1de12d3f85dcae1dd069f19195bdf11f63e85e8e9b8fb575702f8f767806b128dd76373281e2ac66f2cb8088c3d78f6a73ef0d2c80cda5ce427aed94e064d05630698d14edb368fdbee8ebb5d81288ad8e9fd2f18f1038bee6d455b5d479014cd85abce5aaab93adfd4ad25204220f8380ed97fdd74d797321255751f47b2ceab972949a6d90f24c5a1bb6063d3e989780153e8eaad92042d23ae3efcf4cf7355cfe2018254d681b959b87bdb230dcae3cccd7bd734eff194366a3f8462849540881e88edf42bc3b645558739c872d57d003c81809daf6545adbab365125d1f887aa40ec2a446637a375a686a210b979b9a34ad00b5a15b8e4cc54456d510ee74d65d13a796d6a482f4935418b43717e1f636ee224222cef8ccb81f0ae5a809b21b0084801fa36708ea43bf371d015cf02b674822960c6b4789e87fdaa484813ffd850a5d01330a503598b58c9740605c38acae95634092a9dd70702e3ecc7c7ff866dd94fe688d49d47126a8d245e17a15c00bea616991a3288049b803c31399591c8f6c098abdffd40d303188d7ccb72119f8f4763109ed503d698fcaaafd2c2cfc8757a1ebf58b48caa8a3ea84c502f6518b870f0921a5ba3e16760f2ca7d0ec28dc7803153b4a6558b6a021ff8895caee01b0d6b01dc8c7c97bc775ddc38574b7ee7ea4490d7cdd2e7c8d910867c3c3cdf5fc90d558e4e66e186a67ddbb7f184f8095318e8dfa4fd97170745eb6d187adba94752e022a222ab12367c2cb7a5d59cd38b7702114d5e0ec8f3170c07e25540e707d1afdf8bf38b943a8f5af5e46229c25c19da5f22540726ee4a8bc3004df63a285b157fc615fe2c36a2d613dd01a8642e44100c467e80d8df48b5d0ac74a11cff4bbb599ec470d6feb13fd20be789f16fa2cb0305177262d5e84d9d7c6b5e05348d7aae08a527d9bdb7ff03602614db059366cffa67a25e9d7b56528ee694ea2a49a2aba290bc2cc0621e757bcf11e612b80fa1340a4c6a56888cd379fe4b9a86120db98f990bbabe4c425a9fc6a03b0b9258075d290b472646416f69bc91ae87683805dd788980694f3d65100f9d6e871108344a0c8d8b164c7068c66f9f528306a740c78f98ff467a82faaad18a1ecf07e767ed31b451b6efdbbd9d372bf707fd40cd364f356652399e944a7b7ecfa5ceb495b9c43227842fc97a593e1e66553c6de8dad24f7685af52abc05a976e580172be6f08a22e4d43652023b79ec8308e4a5ec4656ef0e1203cd56736759bb18bb287356673860106268c7507b2c23169f38486efef54f59e50e10a1d9d86","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
