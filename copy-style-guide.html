<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"edff8c99dff930ea2c1876f59547ae77c2b95d0976a53d7951706a050dc748bf5d96f49caff2047c36fede2b5e099d985725aab60d2e02402fa215a43d1a80db863495f8b4e845a19bfe5aa2133fc8d15beb0a414e7291c01628f8d6831874be758c71c7bab8516a9ea2a85bf0aabd5490fe917cf89a1626defb1864fa3a216323098f7d7e44f4417e104636cb48f2ff3b5ce45e0371b3ad4290a63cfec3774f1faa56efdc927e46d1c4872fdfd5beee2c31c51e41f39a17f8c5770289a52672a6f786630a8e550bda0b0ca2ae4a352d0c0c222c776e23bd754f45414a169b283d5cb55ad3b85089ea3510111bf390b0f6ef769619eefe8d2a89601b80af0f1a89394bf045df6c30bcdbcc7dc4e702d79b6ca5756c875b6dc18dfb8ccbc8b8175f802db71c30b830e0addd54f89b7e835d98ba8dd14ab953705d2c776d336059a5a594fc156b9eade3e0790ee8faae261874d4bd6dd4e123d1653ca07c07dd9c4d004c68c04ea85699dfca01bb86be2ce604d7720a8f342a1a686596743c3138bd3d01582686013877c2b1d234ca20f6bb8740192d11608b39fd95b5ece1412019a727f7f133f582a8f34e97bd66c3128dddf1e02ea63df42bdc6481d2bda1ccee30f40989b3b5474c70ba7c1593a6f598b24d74c7397f0e9a12310f3b18a767d9a3bad77678f02c08bf720e95fb16afb7766f699654d11c079068d8dc073228af1ea616ffab3bcb780001f7dc17d74fb4fd955a54ff863322829c089396d50f7759d49d2d3c320366f7cc6e361161785a5523de983fa6ddc933d687f91726c89182144df6188b2099efbb6fe17cbabbb18dcd63613a02111b283ee928e50b06a3aa184c8923449628a35634d426775571ccfae56845da9c5a624cafe9b7e715eb7006943c564eb920690e7aaae9bef6ed2e9fcaa3316fa564e762d470a63f8696da6464f3ebd459d5deca3fbfd7d42443a2678b58af674ddee5a621a928479685a9730ab3b4284fc9980c2e04dce3f284293ee2d3159af9b5eeb957aa3f3f4413ea89c733677baf23de3cdc333e9942a6b7dd35df20d6e50de5cf1b39ddbf2087f7df61e50cf1c10afa05282a3a76ff1794fc49a95a3e74f93ce9ada9f99b10a82cd69d87dd54ff006d75e4b151aea50a774f914f7708f1bf832761959c08bed1e902ba947183fe2d323b2bf96c5261b0fc7d50271021ef8192b57c01d3861457422574ee2688be5374648fde654bfd213d2a98e0b8abbfb6f7af74edf0979aada13772ae1ae13fd95ed5d829016a1ab7379ef3746a9f30ab8db3653498b1d84f38decffe5dfe3557f36a6e3aaf952ae70afe66d9dc468652e910b963d890425757e336e1af878762654d243e4f6b39ae1ce0171729ddfd005cb69a5935603760e561f13851b44247376a5142392f123e2010661db07b92adc532f9101a93a82429c859b14da6f0a358c78adbae5c7d34187b3bb43addc3bb59358aa8d9163578297ef1005bf8b193d65f2c2e5ec52509da476a9819c4504e6ec0c9218f2fd002f0ea78be017523e975715a40fba3809acc2fac7968d6aaf94b297698110c69d6acf39ebacedf762dd23a261c236d57fc31e873b918612a7661fac1cedb332eea6291b77ec897e2aad9b5137aa83b5e3fb9255e410d1962aec9d76b84731be57a83a692461f854a467dd4771f2aca88d8dd33f48fd8ec05e10a050b5e8061713f50e0d07cae9857aad3a30b1657b1c9754ee853b1d09becf74fbba952bb3836d218e6643cc1015463f133f439d489026957b95a70f42675c282e1828e196f422009de28ff216ba0db56f9a0ffed14b44d8480355d91fce8f2d4c99305a80d314bc40ab54c4817714ef97ad88ca17dde43dcf8bef05fd6c0b33a70d73c610d320fa61dd25e2a44be3741f3bf7ba6843fafd81eba29301f8baec5f1f0a83dbe78a53b3ccfc7f228d1f6ea4fa8a263a3f114888ea9ee89a9c5bf5a715fe99aa145fa0bf857201c12647c243f037273cac57a86663dca517d985565d4f9dc702b3dce360d0feae1cbd12b6be4abafa6099c87cb798ddd183afcb47cd63d380573979369f46b255663c69e7863dc00c928bbea2dbaddebe08a3bbc9542488cdb4b31b006756aa33b9fd72e81750246d7b6f44fbb7271b9afd469707ec96211db157a4f236564100ffb4eacc18a7312ac79fb41303d25fae139d91d1bd75ed21932240579642091e2d9300efae0e9d09c74c96e6392402ff83a374f4789dd975d69efd18fb9ae6c8120e60b36e93d9468f7f639934998d294aea14c9af851dcfc54c413ebf3c4e0d6f05b7482a1d06e7f7ffcb60423ba1079df80935f9ea7892bf4fdf1de625a58127b10f5e8e40d50af90d67316ac1f2b37a9e9a554e65024f16b7010038261a0cafd739bfac2dea98d4a4ea962b5afc98c5704e51caf5d2bfe8be875bdc60436a890e19ff100da9cd0c38fb44dc17d180387c691b69b8fcc7b3f462251ca6b9bf2a5e7e4022d62d2ab2368935f738ebb7cfabcb5345722c190bc1c3040792480439995a2b90f0f2ec831e261f5b6fdf176f3b04dede1b993b561483e4083a9864b7989e17a0de6cc9227ba53cfb313e6f6e2c8fc1c7aed1ac9221f194a084029aa6880f421e19d27e7ba9df487c75baa8797a72c6996b8b470e9d1df943949679d64f91357cb773ae0191ee0f1326c3346b596e3e7d2b81e204ddc9065a3a496823beddfc9f321a3c72256672b68090210404dc0afb5cfbff111dc8db9531009a2ee2150047ce2548fb4c63aed9fcddba169f6c9722203352a8493fcb733666a57a520dc253fd91e616f07889a9ee7d347f96cdd806ed9887066e10d3d1ddfa23bf1a3cdff3c27c6dd29b067dac0ed50b88001fa511415f3772051091e357f469998f5d73bfa7d12f66636300bc04857d66bca2cf95d3f6a2c89469397575cbbeadd1dbea0b150afbb6de417e7ae8d0b3dbb7da44d5ee4e878376615deca5750b86b9ed2c7bd96d76ded7aa0ecaa62c63244f11c26ae097ee5dbb17dc38b43286c4060a601e5fc7112b05f2dcb3416b46f65004f91768dc2be4178b1de94d1b8a1e86cd9cf2f8835b213f41e3f2d37093d6bcc000d2ec57996a161e28c098d4ea11c1c17022b05f554c3525e2950f52fef524ad2083d0230752dd08daf039f42a599877a5b5f838fa134578426c584ba774e37238b61d8444c2bc8f9d92cf897c2567a0aad03ea58950bee20d08bd52aff203d608c35c584c26f458bab9e702c9c4cfc426b64a53d418bd1268ee86933886aefbf423d0580caa333c5ba3437f51148196291f4969b0687a8837db5954cabc2017eb3e5ad1d3cf343fd587eff5bb68d932e266327ec924894fca5e3f411ff338f4dfc45c03945a94336a0a1b6cfb8b2ef73f7576ca4c1e83b656fb14a81ffaab1170ae81c9f70045cc31c0bf2dfe8bbd132d6922b27af1e828f82aaa726e999308ee57e08233cfde3f08c8d2f85642d068decff9931bc07bcd5af4da7545a43dfa3164e951ad74b6216f9f00c32508f4ab865274bcfabe4681321b73636f66d3d4a6b1c3d2c9c606f61610c92d98846ff415ba1c24714ca37a37642556f505280c66832200faeadc61e33e744d967d86af4cec06146c97554dfddb19fe5a8058fd1415888e94f413728ad2fc6eb628b2d263f1fe024189a2a008ebbfdfcc8dbee66a00519bd1febebcf75684d109619bc56a014034f5df6ba3c5a51f7eb4b70b511818382b896479253c51433ef2b576c265110b87823799d89aedc50ca00ed2ded4c2cf3e15cb690b28fe975f8059bc86d1903bc3c7d646d020e6a855d3b513dbcdba5120bfe3e7a9ac0a28d2b586f0db645648d0d1bf6af34b13fc0a07f032719aa09b95e2db0d935c284767c376ed41e08868250428bb238c825145bc32f5efb9e870c851f29faafdc1312b723888af45e1e697b279bb1bd178e14866fc3629907dac3262c0cc8ea0ff239f989d9302cc58303593777523eb9edcb2e41e9a0b66390db5a1e70827fa6593744eae09938fa0aa0e3a88f96dd7811b4442dd6ce7c302edd62a840b9a117c863fc66d9e19ea18823d02f21d804ea01a4b2354ad9a243c7c9abd0cb80575cc307f01bb580fbef187c86807520933b344a1e50eef5979f9006ee707a1bf1a874a786c4db6d540edbabe1aca432ee5fb3bede29c0b9509240f0f99958534f183a16f0040ac9e9a16f6f669c8047f834ed5d32cbecc9f7e2873064cfce3a52eb489db60e5e29f7cbb424e9292aebff45d525cf0f8766cdd7e3372dfdd7f9579f8c82571f0ad6c66fa9af999ee2d669eac9d2b05bea1a9d2a789d8974a3deb5ad3add979f08fbbea530d5e020a07f839e6f633f3711be9a0336e017395f70b736ef8e7f83bcccebead93ec3e3ed52c2c63175cef29c39668b1ee340ecef405f857419c13932ca9e63b7d19c7e9b45779bb317daa5f8afa5368a8e5c72ef6df6a0fd72cd71749c02af1d0bcefcffd94d186134715a1ef4cf252fc4bf2b55d3a7be4420e058ae7f9c37bd102a5c84fa9b46afe70702cd86269b85eb51e3406fb960a2339a7d7393efe0b20525eb4b932126a730e001b58f5a77675d57a6a551ce69123a14fd45362268cabebd69ac24adb548dc2dce0d021d4a6a6a7b6073cd892089140c6fea43cb40dc44162d19ad1d6c8ad261a5b0a4457c90f54e63f3aad1169957470c5cec61561e50eb57e32ec2ea26140fd150bc75f1105f7f629779058f2db0e09b22829cbc7d23ae73d394ea74f17bc39756b098d7ffb890e0a11d7b594844c412548f90b38873aa8b67a413517ce6125fb29cc2f3ec1f853db38f9bef0265b7e689c383843c50e83d41e63dd869d8e8a057623b8ec997878a79829d5507a6eea87ecb9d15508a2366618b80c3fc9ea17fc6f1b885d6dd6439e36a9a50a0879137026c894d1815de0b4a56f196ae90373102b8ba46b037566e95fe2a873b292c6b7f7f457db773d39f26b42b47ad7bfefad03c08a0681a147944d7ced19d3ecf46a007334488eb3217dcc7f014116d39486fc1af62b8037cd681c5fa28f29501baca49928fa0a6e1a5822c831637df93ea33778b2cd9e89f3eaadcd89df9bcdfa40c306089fa19df21290bad395b6fe689ff26e40213f799590a450ea8b83a2289bafd718975910266ff510abb146de51ae103c5f09289e40562722904aa2f1b6c10e485dc02959df6b890b5d25f8d9390f11008f91af9dcde806d334652ec84e3727e1f1c73a1c7b79278ca34d7780ecf5bd1b96ca5a228ef0695343bfbb4c396fb96b49f0ff193ac413e854863c3a73f614919de14f3bae11aad44e0e484fe135346bd0b6b673758c36684e8e7443f46b5ebf018d29ce9c0807818b06bb9b79fe0ed499865263974fed37d182f46fd4b373d279f8a54526ea5a9cf6d735b16a7bdb48e27566d3a5b51979f3d17ca9ca9f811e55b3eefac509b5cae844bf378fdd1110431e9851e05ab1a02f3ec3f0e8d333170263c927d2eef30d897d134401379cfe88114248ee6b2fc94e1e8de46f0dd3df6f419a30d9174cabb4ead6c82b82209935fe1ff4a464cd01705f434ac5ba75cec1d094d1a907f8c1d0d315c8a2c10211285968d652e20250d9697c394cc30c204e59186ee821b2d32f3d70070cc71db9a6dea3d600765b12c06ea6182e3c7f5dae59680f60721066d5b49f4da31e35090e46b2591bd12b2f610c190f6cf8a76775ac67e883871bc6d5ec5d388b23df581907ebcefefa3eed045c26c411d2486e5446b009cad636ecd9f644ea312afc5dde5d9f232703bdaf902fda1712364d4c96c4651a09d50492e7502d46a09abf28115b48f09f41d61984eff76757f5b3f06ab7418a205a7ad9cb08dda50716a4a09400d9bc29ba2f40c93a33922ea39d0a417eee4e66f386667d6866d61cb4ea68dabcb8356f97046edb08628711a46754f0dc79451712a3c2eef7326ecf075bc0056abf3d2d959557aef1b93be696a5918af3b6b38ac808b28c3fc0ae030fe37d7c715581d779c12b8456fac90ecda5ddcaee4b188b933d0f013c8f76a48c46924e2e2091e2731f88252e369606e2aa1a7f51216a6e6056a70ad23593171165d8156bcbd8c84a8e209ee363c431dcef1799dc077d514bb35518ab556fa00ab38319a9daba56c1ae3928d38de32856cd9b77acd4d572d07cc7f74fd331977a052509f17d66db594d5a73bc6789cbfc808d658c489e357405f014969c86dd970161f6897335c9623eeeaaa416ef593a1c1c5a8cc3d43ad48266b30a3f9a7a61c20afe26c85e6e14ca1e61684dbcdb62d5c5a07cbaf781ab3ff52efd9cc90c10d2068b7fb6d64f3938ab559a596a30cab960f32ae124f3601358d5dd499d06afa6287245f015211ac929ecf1953106f0069c5a6e23e669621f9f2cf32925168e354accf28c50f924b5e2ae0ca2d09fa7e991a02a110a942933840256fdba3e48d64edb0237cd8ca90e3314ded967f7b80787287ffce4867ed4888acd4a69aadd522ea54679b234fea166aeb54bc327ed728bd7a595b79c4784d37caf96c345498a30f93eacf28d6706661adae0ff5906b54411908d0ec1257d335f051411060c6d36b5e4c0924c9f105762e7bc7ab4bc12f7d41587919901bcffe1156a942893646bd22227d6d4b85a7d66ab4462c08dfd9a746f847c7438961436e57a99076d6aab8c10884fdba5fb5a864e28db177a71c1cac7d795f45921acd8bd35875fe54bda7fa35d9ca0bd52040cb1c8b206711f56b83337248bc4e1171c14f2cd142a2516ca3f46c93faf2bf11baef86761789f6ebcee71ec53071bab5a0daa9ebea21a77949065cfbcbd958b3338661ae82686cc8e9aab11f2acdc85796c3355cdd41420b2c62d57ca9d343c1e614e94bb1eb145f7c75fc95a5003f6dc338518a9913d19523d7a9846ccfe6ca6c669855dc24ec1a05911b5a4b59bdc1be34f84fe5d85776e97a6160e8990aaf360984c9de57ef475058dc65bfbd8ea4f07f8675ab3c8fefaa7ce96c4b11cea229ba7e0742bf14ad839e747142545bface6650763704e9e1a350e622d202a34fa95e105bd83dac40c8a4b01cc0cc5a53522d552d6491c7d8fbe6296b24cda73c12a5b483d72cbaefd092a75a03e0320d77492d76bb9b12f0fea5db9a85688ad1e594a68b89c3e585dc96a0fad63e0a3c36f2f94def3a30c33da5437c762dd4c374a580c4616d47bc02570810b008bfe0c13d572842c071ba5855b58cd9788d5321bce14f7f8da046b4ae5a0d8a5c64d1c5a844ac4daf3c25cf3189f714b722a2080be5ff4ae77215500239a2c498fb5bdd54f45c511168515688a2379b1f72460becf0d3c97b82452bd81a31bc91ec13664eb52faaf6919ee14b93be5540bc48adcb9480fed010f83f8d51a1b9e142dde7b6a954283db93eb6c72babb14f30a3a2e238825be858fba7eb799b445cfdc13e521157830513d49809f8cb37a0528491444c9b478f22a5d7a3b7e2fc957bc32a151ef2183974907743f0d95e3c23de7a049a122a84965e76b1648976ca8d45360cc5ac1a6938c84c96625e001beb6c54d1cb7f3fe46f51e0fa530095b12e5cf6018e0bc51740c72a926236dd4f8007e17b7cca75bafe97265ad76d92e0ba4b93aa27a52ea766d4fc946a177a0674dcb332bdeae186fe97f40a8eadeedf497c93f8ebc8d57929b2006546b2a3633ed8f93e03d0b55da9cc2632115f9cb590dc8041ef2970de29ec0a1e112311235c972ad25be527cf654a5e7894090ca7d207b563c9d319d9fc3f59b114f0171e49a2e62827918df50420a51b51bfc1806b50bc67fa713d2d80e635c97010053baa374b94b2f2e44ef8a476e4d9be88e45cf6ee0180ae587b890579fe3915e68a36dd69eb9b25bb0932edbbe014d3f154c2c04812c0f64bbed2ecbe31878d1e24a9df76e0e503186ab4537f3ad66456ee90073b4aa86a05e334a580186c016effbefab53bf46a8ab3ab323e62bcdd085af84876254f23e323888b63389d97cf6f18dd6b1bc3c7cc9e2f8623bc4bd7267fcbf2c783efc058365c7fd883a0775644de6cf29811e8921f630b82371704725e98f1158af0cf9da135ec885294eb8c7201400efd583bc9e5d33851b7b24bac3c72fc811556e1190a3d37bb44da1df4275bcca0258e5fc0c8c9a988a49708f4fb8ed0a787455d05252edf1c340b767bebea80de93c0daf195ae8786bcfb24d3b056285f1d3c36edded31cd276dca518d148c1d947caae34109cdfeb7b3ad18e0f98f2848b25f287083b33cad2b293e64dcc63a06b7d5f82aeddbad287e2ac613ef97f394bf50b28485dca0f5cee03f696ad8cb87be57dcc9c16c50cf2b243510b6769448198e976cc06772874545d18d364251d4f7f11b57d5768552a1dc7227b1f4186fa59ab36df9ef3365f37dd670bae35a443c4a9fc602ca2a824ae7bdda32ce0a710dad235f755b7a24654a192a7aeb80a97233b428a1e180b9fa4c04832e3341643e36776bab7d9f8e9ee62e116ae1a3d3a50481a6fa958fb433b44971033e56e39802cc39b18746b22f9f4dac7870d39072b150b4d5a8b5c25f3842206da77fc8b52402cd15e9cfa7cafccbc2a7d36d188c335ece7b843d0159eef28c86bd1581621b489c79127a6387e9ff3b3432fdc90f5a985e812c8fd29cf428beb8bafee87059c779f5ee1cd8613d0b3c62bcfaf7b469e1b4be70a66dfbf22ee7e41b78ed7c1e86624c79e57a1f859cdc0cd2971dfd2b8bedb526c404a5c6637b07489c75844c2316fa389bddb788132abb43b017c5a78146a604e496ccdc6fa31d8f83370896a12bda4f29b5337696571c5a3ed7e5b68b961b239a79b2dd9b608c58d57deea0a3672778a0c448aa7157d14f1601b31889106f2c75a2df87bbc16d68635c084ad04962a7050641da6a726c33d950015c06e3fab83459f54251f516753b6d1f94f22b5416945af7b9c173d93b268022387d26328a6fdce288960ff2363132297fd442a76341c3172a2347cfeeb8a9889da8fb83e5dac6603dfe05e67266b8da1b11414a684893b1e0406cf640ace93403e83edc427b52dc702892108d75dc763e7a562bd4bac491b711b37e4c70aaafd5b36562daf0d172bcc0be2ee2de25d5546ba0b07a869c53152e6be6a358d4d6aca89101c490b2e3d053caa2c0b3043a8fcc1ee6cca40cf5c99bca4c4b1142bd55bb1292d706c393d15a7e0c17fbc7b366a2b795f5af3ca7a6afdc10d03b28957b4434a14afa17c859b11e9eea7059d3582ccd3b24e841f85832eea7ff6a297f684ead55a16c29ed48e9adcf82e0aafef86c15bede12d0ccbb0163ae1a401259cc1ae5095562811e71bbb802cf511a78835f9c8a39345c9dea88865b6d43286431465381e6ab2012d9cb504ed657df2fd5bcf592974a7a2fbc6571554b79a27f959cb3c4a8e2d38b698ee27a72267678d36e7e487355eb44badeb660073600bef0d9a44a189fd54c573ba891a434bc61cc0ee5fd76055709e2f7543d7aeaa710503b6a73f470db74680665e4888feee083774342531c4db7af7efbbd2fd8c244c3d88ae777fe85be04ab6eedb80ba3adb85fa2e351475789b0a9f00f9aa830b859824f4ac57bc784597eeeb42b4de3831e60dac49253eba7d907fe667c5255bf018ff6610585d2d7579d053712b57b506a440324923c4bb1b1903c9ed1788a2f3bff946d1fee02d854d8e98e72331278df41325c1dd1e1036fa89e105219336b56a7e8d0befa8079e8a87a55f36ec0eef03f2846655f59a84dc7ad817992e3eed3a1bdf521b260b0416ae297ea10d80a0b7e51a5ee0c0ec7fda995c53b486825c507b3fd58d56476fb00986f948008cf8892ba24332e1711e651050fca190bf39ac22347952d45a36fdfd6ba111879f2b1fd4803ce3635a2fa17ff30e843d2e3ba94dada6654ac6eac5007bdb40bd44f09ded30f924b61d70945d7111094a6e1074cff64d0c5361195cba00df40801ee64fd95bbbc650d6ca888d02d5185de47545e32b871e3de0320a4c641d991d927e6603d56316d5f4d78f1aba047600af89572f1fcc48cb572df361ffeb7bbd7f5a07980a969e519c6f4b6108e84ee48cc01fa6e09bea938e8bebea5c2e36fa4af479247fef7ba4c92411d9ab15955716e1d035667e2f9dc424e5bef9438362925c4305e756b94790ba3185b41d88c7c0f03980b75179589a5155332e613cb49f2f31720ce842a9b32478137c2b2d42d0070892ffaa7e36a30a7a9cc2744cd7233025e049d633320ca8f3523567ab8fdbd40ed211771d6a30ac97e43fd231995ab58f6d7cd3468ccc1db03c87a8ecd4ab118d2011e20d1b914682f3724dbedd7b035ec42875e981abb829b63673f6aff64daf777b74bc77ef6241639be60f35db87f8c099a1d6c86e26ed6305bdff19e794c392e1564cceed2c5e601fa36c91a8f6895265af75229d0d15ade6eb4fba9c8d384a4c1a85afec0e9c89cae1cc7adc596338c72764bb58da501d66297608cde2fb663c3362851d65ff55bd5edf444e558ebef97276ca3a4b76456d7a5ad90bb2b5dfac9acde0cd4de29c81a98b5b75de531fcda4d8704dec26be0e87ee9e24e1e51fca629a7a4e0679ada8b007e4623b6804a9042674e7d82b1e267ab81f8cb593005af19d86f6776c6c6428072217b169724c7142af0c0382e0e826569dfd8b0002db3aa4f35588692d52785aae2831bf72e0c06fccf79f823b65877aa2d0ed415623552ca332ea3d7fe5748039485051ec79856736f8fba51bef4bf0c9ceee5636486fbb732edb6fa55cd2a0bcace3288220d4d11a8d931429fcc27aecccf73b8350a2969faafeebf79d528a812bfb448d21c5334fbae80b4e461eb18785bbbb69480207c7131021159586442f71caba9a2653f78dd00355938c6fe42d689df68010045a91e80fdf9c24bb0b0435d6fe1442c0835f9010eb0fb532cf4e128fe7f22c1220d1bf65e45d1ced312b00e9eb141313d79cfa219c856448a3297dd08db213365e5a926948fcdc030676af09800a1e4573a80e998cfac3bf48aaa2cf89a823b045b4bcac2a22c220e4e17589678fb846d5fe17907369ff3f930b4b8a341029bdcbd9979d70eeb6961512d5e1340adfb69dd092465d73eaa0ea9be2fd79ad7d8996a927d050e2f679928bdaa0707f5797c2a7ea17002c4dcf823693ce8d97775497bc4c8b56b287ae21ce5e6b27ead9c7a421bd6e29932235e1fb5b36c3041fec975618e46bf768ff619342a42ead9bd5849de90806b41b8396cc14aa850851c799c5fd8c8cf37b4007943f2a9f495d1acd93d82c155c064d02f06674cc779792753570dc5e2e92a8f1f7cba54b7a8e80fe244baa99e116033b8b4daba60ea3201220085f66cb554a2e1471221ede201f99d484b55bd819a73768bd2e2fe3fbeecd0babfbfeb6ccf29bc902c2c1128263669af29edc78354e453144fac505cc2dd4cef7965d95e06d4506c9a7a5d9a3c7cc71e7187254e25f0995cb4529e586afe5e04c2877f27ce9890001a88f115eed0e6ad399a5c640e669816c7b3ae0b84a59f789064846e4e203f19c4e57a1912ebf5961c2c5c27e6d5eb012cfd7c7c80967fd9722043c67f210be24bb82c4b1010791295052d265996c5e4fe77289033f66d39fec749c65c82daf053fda7d7c39d3ed085e335cb74d46422f1dc24d9320ffe832ca3731cffdbd33bbf21695fb7301ed6218932abc427292ad5033557795aa38474f3b034f4965b4fb406e73491286bbf34f3d4d245d68f2510f931f81fc6f99c728c0bf5dd49edd7282415a8e5090fb8911885a4c7cf4038a0164b83350225547cc2c3690a113d6facdfb19c6bf4b9824a8db053d8598da62df88c8d60e7cfca4cb5ab4da7f937b5dfcb24ba205fe44bc6bb85a4d5b4ee04bedd4c3cbcd76cf65daf798a8fea3fc59a6b75b3537eaacb789fd4f41b28fa776815ce6bab1253d2bbaac204edfa9d12ab5a4dcc0d7fb3111aee3b22a1296f048c785ba43a53af86f4fc797d510a3f0e0b9afb04089a1ca041ee7e01deb22b634233994509f7b2aad7ade037b8674e67fec1baa824ebb40ba20f0fde0d93b4e4cfc6f10ac1d2193a08d944f37a5e709cf3c48114636b25ec955ea51efc8abf5ec9e7ba6a7dd74b7444c757701446ae76b6d40811aa6cd0551fd5f22523f2cc4ee2de0ad367cd9339ea4cdcc32a198ee661357ddc67fa0e1ae0d7765d2ec13b8ba19f889733eca0655e36252f3472c838b055a045644fa9235d839a09737ec3483ddd3556b6bb21738b207e3fab99cd5021b2ed5e906e76c60a0a6d35fbb1747bc48fe2bf6c8b56a6e37980723ac838073538661f188b7d359c2f091e866d8dea69f6d3c41f966886f11a0b0da3af7a08fe4bc644caf72d75caeacfde3f5c485063e7fcf34fe91416f1ee27b56b6a855ea4520648b8add58eee7ebe8b153d21c0c6915efa1e1dbeb02515e437658cd36156336573464270b41283fcd7ede26573c89399caf8e3219517fde440cb1808af2ffeb3a56a1cc78f3447deec907c2f68fde892cadc680be31a4bd679a38e0a289075127c24e47ee242ad4f85264f7065cf37629f03d91b85a3944d2b68091c19d85e8a85ed739ae8533189a363fffeddfa22b687516cd394d5b89fbaddccaf2012ebc50bbafa67521a43dfd4c2830b1e1fe9a40a0ac011b35d6f3d028868a7a5e351ec7d55bbee93d842e12fdf0fbc4f4de187774808682b9e0078722125709aa3f6a5a4b3a3314be24771d3be0a320dca2f623283e0011fa1f2e495b402733373fb9e548bbc914b8c28b2db235c1cd03a039469ea3ab9f2eebbcf99225f942a8fb6d54223e4f62f4dc8b47bb698275f2639e0e5beba96482e74a1235bc94fa7a2bbe58be2639405edf8094df0a88fbc7cf4736dc93dad07c54d58d17ff001f395dfcd0032c2e79e5b094b4b13858add191cc3a56b816e6017b2eea388dc47ab6635a8677eec6d37745be4f6f2bc7dc37607909e49109d987b31e8a6261ce31742024fa8c53a77e608a36dfc64148c626e9051acfc29f232e5fd93226552bbb9c5f5542981466f910d16f0a3ce63da68ce7e828f89b33ba09cceaf53635b9865168554645eaf6c28acb6b0905c99c197576b120eb1789f2aa6608719d0ab58204c31977d02c970f3198818387a55eb9e3ef2f936faf4ea1fab034d6fae735e8f8190b0514a75834b1a0a0a6213707dceaee0b8bd80c7715fcb85af1086c417de571bf5a359f54a9cd9fa3211cb533a5a7a5671099d5dbba3b6dcd423dcc0d6010c3362d36c8f83076c1b6b662b242c4a75437a2f0a5af9d622b3145c5a33a905ecb073015e77e41aa1a1a22f31d51d242c14b138795bd69eb99bd573d11ded5db74f672c755b0ca9a8a6702094e75c58e87c0e0492d7dbf95495c01404c24d0703b6c3895a51564739a9ad6fe23463b34457f2043d5e7b534f95f0aea06c79666ef748c3a291822b8160c03b1a4065bb116b01b3682bd488469c32713ae399acf7684bbecf679e065c16e6be768fd176daae88dbb90e91d6d0f4501909633df5605615276b6754587871423f1f817769997cc0c53fd8aa1eca45e2688e461ea204ff2ede8ee534941e46b13320a2dfaf4ffebf89b7e02f265f8b79a56fc5ac2d42200599c2bafce171921d627026cd5f5aea2cefbe8ffa03ce10393f133485c3b3f1f7fde43edc98c5c6f327a3f4b528ade1fd7c8aa4ef51affd451ba0d54231d7352416f1735fc94cfe67032b8dfacc76cd187201fe06952ba0ed21f161b606d68453e7a24de6f80b116a028e4437772e80b4ecb8a88982693337674d555384804c1c93450c9f25ee9a0a52c62d791094c0680503c3f7ccca36d0918e0b32bcb00381e1ac548debe6c0e48bcce46a6f09462d30b8f510a9c668bf9b0d0148c5d2ff3fedf2e6d5effd9f05f766260b430e12cbc5a6c565be4790cc54fd88f3bca0f13f1ca0be4b0bc8ee9b25eb4b1a0dc1aaeadc5729dc34b394f0ecee921905c3e1f40bb502a19432b004f39a00d9f0b16a4f065481e1ee513a14fbab9225787b008ea6bb8f20eb4ced1602e809789a179a966813c97af0b681152c5e287f8166114291034acae623891a9130caf0bd67473e1d76edce91d98fcdf4ed13c2a22cf06126e1a3411b4893d7d54167d2596f8ffe0304450a2735b63b39228b2e583d245bafd713e543648abea5fab41345f7ed47aa1bd7d2f8007a84aa22fdc428774e33f1ca5550f7e4406734942a8a97b6eb8b5c7beea159332c25da0175675623da4c67270374d1c3712431a857a54d1d441cb317b90475f802be8315a4599ad53cccdef12c022e85edc5e13ba30f834aac08dad41c20feacf5a6a8e740b3e53426984d745fcb76f95950ad6d1ab3f5cb5ea0acdfbb0f88eb15bfe8ba63ad2dc6ce02565f2684ecb7d6bb857e446b4a43ea876bf6324229f239a362fa2d6862b10b7fab04f5f4e7c16c044e41758a1869e1960a1d66e9447219b28d5b7e538da76cb5cc8b39b5d43691c7728ccbd979e7021793852f1385ec708dc5622545612a80eac5855ec7a9b0420a14b24684d3f1bb86b243d4f7f779d96e09db6def581db4fb5ecd034bfd2cdd9668a7e32f55a026f168906a7801ff9360cab9d4add4f322634d5184f5d51e990f6cc40a8e94558f6c26e1840f87e0104c3e5304a978e3fa4e16b0641d3b44034358abee8c6fe251a10991e49762e03c98d23237f563346dfae5064ba981650085e8b5433540bc4ebe239d1a94a50b4a3281f14dfbd46863f5364e39fb106a30afaca8b3a7f77948350686f16ef2d5426bd65fc35b47509ffcfc20fd2c5ebdf3fe7dae07df27a3dc338f3ed605d4e228da89e06d29e918898f5bffd8d2a29ea5833ab9b1c40cc63d92d85f21cb53178751086910fdb735f02d1dd991e801da9b504785181378e8f358d52217e4ccd9b4823b72fa8ad203a0c19fb940f56055be631d479166fd4743659a4a489ccbddefee072fde86e46624a3093473d6c11a6ac2b3b9300100219449a2c0111e9e2d55408a887038579e62d94f4af768483af80bfe259b6451098abfe26f53729c40e97f0970c671264e285c2560f59a550dab2cb95d49032babde04089e1da852fb3a5c11bec8bbd0a69607649e9f1e979ff6dc00d6c7d74943812cf80f0b3f1b1a0c576a68b3e9442a7bfcf90d3def5a37a2bf0b755ec5cc824005a02f118945d703240789b12bbe733e3ffeb904a544dc5915f95da67bfbcb687e0b78ce5c0bcead25256219ff540f741b45009781e29991e70d3efb6cbbbd8c247db1b727ffd941e634ae6c337ba6c96a1129f8c31f42a90b31333bf82dfa43647b5b37b557d47947c187aef50f1d8ec5aafd4d7785284ee015ac218a95efca43245e4c9d532cf87ba1976e05971022209476ca8bbe3a0b71a17549daf128d284fca17bb2c995b76d2a93fb94c007162e1f29d8921fe7afcafa263b24b5332650e1e7bc002f7ad9aa227694628fbc04e693ce0f238eaac7a3fc7e43f908cf58eb6354970f730d9e35baeecc3285ddb8988b95acab785e746e500d3c0aa181455eb5b5f0dfaa38e9cd440e074dd909a08bc18607308cd4a1184a098cdabb1f02463b94a44be2503273d0a0137484c46442f2c46810cb900b2757b1db29de81e4e09444cb65d3933cc313d3ff39cb4116983e984340cf098070d2fedb6a5a13ef5e7d83049612dee7a726b35e6928b733fac96f8c586c1fc34745f5f0cb17267e5959fd6f01090eaeb56d71687b218580c4bb633f1c236fb634ece4d66a8b82df36b36a146c433af978688859a6f3fbdcc2b470ddaaa924ed1545098a299e8cc7cdd4f76705bbc98c49bc34f83a5d6bf54f3a4518c227a4395bce7414f4d0dc4965906a8fec31c7349dee53c72b5a5c789d673d41c548ea05559dca6ddf8d4cfdc21b02a2a7dd8d1dfba54e98ea3c7fe8f8f02290ed3f86f9b7ab5b6da08f9052545e9f51602759d3893bbc5166af59bd46b44755d89f1ec34bcfec2b1a4fad80f36ef714c59f9dfd7d7cf108fa2b3a11710788eaeaa0fdf6a1a40b4243194bfbccd5379d96d7e28081877a39439a2d0df9eb794593ce3ebb5d38d3add661d8eae36389ae44a0d337b2cabb4fe72e740fa5864c3edcdff7e6c93c321b9089b5e07ec94f61f1da0b94a0a2972420e9459ab49564a6a9167b8cbfa0448433680689dff2ba64124007d6571d03c85e049fc0ccddfa4335527b196667f22fe526251af077349cf7d32770e5ecd4fd73a922c642064f2eebe231104e115ead039710891cf6e0879414523c6e33caff81b26a6de59dee3167812790fa13785cb865306b4043fbe13391ed5a4926c1274a53f3a30b331ba1f7d66c006155259675bc307a0dfcec3022ac3e0d716f199ae45cbc78e12681bf9bb539908fa9c096809c2a38c9b94bfda27ba3764f268cf95fe267682f4aacf469f72c6f527555c0a3eea98fab857419aa491f8363f2adbee668cce013240f872175e555d67e81fc447567b439df722d33cdf0b9a533674c784f78326fa6c97712cba22aa709c2e9b7817dd4073c87832a89797327a00295960024eade95c18455d6e52eec2ff0ca6f572adeab98dc73ab26e7aa06d7b81bb546a85412a7b60d6ce6a19625faf53fd3193ab2eea250e3c2099df5626173f89e1eae70ce674eafa5a6b884cd595cc8135c803db0362b22e1b80c2b256154c468decdd8a12185c62389d3fbd433144933fe9197a4557d61a645042378377d0eb361ca0db8444ebee4678fd6b63ff5685d4c643c4dfae853cd30e472b5045a36f1fa0b14caeafbb0a2a6f9efa19b94da365afafa431b67f09e37dec307b9762326d745e4bd09d3454430509f1ff0081db368c72bcf6dc6bef35a54c90fff0d769c0e4af6cbe5b994b2734261f9bec3fd63d89a7480d800283940ffb399c80beb898474c3ada5fdf5b5a5e968ea6963229734f1050bff2c236b9f96c9afa85de9144cc81220a280c4253fd644d0a4d4c30f118075a2da7609f25758b894bd4ea497db73631d16f0d0f3a53e7876c5ccfd714f9e641db896eb14ddf5f07eb21669215e3b8eefb50c344befb7faf01dd2fcdc6e57d8bee553d2bc13b536c033f070182744cd3d3c8966af78971667eabe5ab518131745ebb33d6bd98c1c93c8b0675a539e73a3d260bf4ef5a2313164dd75b8c4d06adfd6ee172e0e65e4bf27f4a5022346da3cec1aa4397371d05077cf4d72dec396c7e87bb472a0dca730d47198582de06f7d74d6f33b79474be648b212066b679e7805e90ce55d5b44f3b5e56f9b8207efd199284fc11ec589af3ae327149d75d21df672b0b81edcda0faac5c19d19950b105959cc9426da1ea181b43ae7d8230c80d6a59d83fa72c55ba5c83b9ccd87bdd7fa5c109e80dbecb2ff8a5deef1efbf1dd5077f91c76223bfa10e02d2922d456260466afc712524605a4fe89093418d53e0431dc0c852e2a3d7d7ea7c1a71e9f43fa6aacb3d1fbf20f9d64212e3d21657deadb2db495ef471919e1f3521059d07194dcf6e9598aea15b407291a8602819453d42fc3ab4acfc98e667ceb378bb432f7e996627d9e2a06be40abd674bbd752fe2f17310b56c3e4c0fe5dddb0d7070e950fbe3d49ae60ea9ee2a926f0a17ad26a9f0fb4f6e19397766837a13ce3fa37b48decd2cb5445dce1243b1d5e413704e6bcde5b1f153e0b1c13d0908d3b17cb499d0d2f1b5a19b2174d2be2af0fcc3bb4f400c60aa9739817ccaea49a215d8e0c66113923b5f5e6ecfc01d6f03111d2c3fc613f5e7a10322285cb1062cdd49313847593ef20ccb9b4a2ad8df36339e4a960b757d3488ff28842e3a62ce41fd6763d9dac54e184f301b9b05d75ac2367d76da99522dbe9f3ef5ce3fc6c7740f36faf0452ac3347ffdc7943b1bc5833f845bac4e30cbeef4ca1c19bf78a67db354f0a360c02ce097202f3b0ceb0def2f823655c8b755dd159b8995d6513b696b86b0644f4613e77cdf2b21677a0623b20b70a90285c474f4c5c306638a591961de4e3907d2c05a3d89fe7c28d42263497dc31cd3397ded4f9c99a5b4befed861565b524103ca633ba2b3148a6eafe360f94510c4a2692f337e0d66ef804ef7f15a97e1e9a9d69040098624d3c7a4c28882ca7613edcb84ce3deb86fc26f323666169f578f8bc06d8ccdc9a5f8b70e2970bd5b59493c26e757c47d16c211be0d5c05e937cbd8f265894e91d3b0f1dceb70d16cb53a5e11ebb2c477f3c7f449d9edbb619e822cbc304f3f353881c8b56e4611bf81161a994a7de239db2dcb12b0f52bae4a258f419a2fe7fdabfa99f7e5277313e4942a9b841902f47059aeface3cb24d06c2fb2feea4d5b45a8f24e50f67c66f0d71c9c3701601a2a4a9394f42da6ef6185a51d6721371e988d3349d06b8478472344fed219a62f429a61f4feefb90689427d72aca981a8bdd5e8da4a2fb27529e1588a78c612c8c3a7a29cc9df4b65590f4224810c1d80a17b14414fe9ce73f0cff9560910f6c41cc45d2f1c1b021ee131f9357ab877b48fd8e90efc5c734e202fc6895517b525b1944d004c46fc97ee67bf0cb64b8be5d9c73d5d8c90026ed98affc36799f55614fd564ba4a46bc34066c5ab00371b9a5ab9268423f4b9c116953de4b16c112cefb370f1ec47d5ed627020c1624c0d0f29407f96c146915509019bb870b8a1f399d683e3bc6746d1200a60f05e436d11710787edd6479ad5e2edf147b7f3240fd97cc3e3d2aa93931d9250a8cdd3c16870d69ecb20b9ed4676ea855a60cc7a3096754d0d056d0a7e0a58f968a5cd3a49a3b41f3b76c93c74f81daad6303b01c08ebda29fc172e2a49112ba30a71b6cdda7b82c8b387d644ba75d609ac735bbc10db91d60614ba7f522f665023663b65dfa4be151bf9216ba181e2df4c3404fa56f8cf5b0dcf250661a28db912e07a5ae743d01f7a040b44fe8e17095061d8bdfeda538278305a0f46740094dd7e6675e35ea8b19abcadd062cfff821c078b6aa80610628e8037eccfd83a2aed9dc5083cfdd3f12b8cdce5c03f40cf6768db95734bb694eebc7f0bae676190c3e99a9556e40080f4a502c21d0a62561b7b9820e729680f8e473ace30329b708e559017013c94385720cd5f12658aa9fa3816a3f61eb7507f8d0ab0ea7828a7ecc4e69b04ad9aae7b22d1906b964cc9bb3b15ce78ff982406e1636b82566a3d0ea5fc2e694df5b52afad7afdf5d591313107ea4a3c0b6ae6f0ac7a09388a349474f0ffac710ed0d2aa298a406a7ea51e9e3546f25189a82b7c4b25999bc90a2830cd1b04b6c41bf4ea24e01e11beda63226ca3ce9c3a1c7479ea6cc7fb2a803618a0bc71e49a8bb499147e66aa1dfd17f34c7c2d6bc55bf73df0b15a7abf7e437011979a97ce3bba08cbb9e190f56188a8f1dc083c1f49b9e11969517855fe3a9fb74a4b861e50baaf2f9a3efdab88e991a9dfc2365c4a3967c1759294e4289f86edad2966ec6f65fc8cf6271dbeffd23540f4df359b31fc31bab3ddb71c3acc3b0bb3dc22f374158e00c5a083a0a2f1c7a22a060b4c5b6715c00a31cd83e9f4ae9dc2d38c5b097c9000b54c1620c6176df32409c9dc41a4259cdeedb08caa04c6f957312eaafcd0e232ab277071fecdb194c1b065ebbd98f949ecdc18493d46e874976b00ba65be54d3a0b57eb038db4dbc8755c41670eb4498007ebf3ac6547d409636ad1eca67402b6429e0f21466ef116b7f2dee19734ba3108d827a0ef8d1d0ef1545fbf5872891849865254023a80f3c422ab12949bc677cba1eeff9a2029a6cafcbb15d7d33131d27998e61dd681ac12c5b30d16ccbce26abad157247f21f5cb152b6de77cb8e2ba2012a8fad179c7c18ba0f7d18950168f3adb4738391ed90972d00aaa1b96923a1a3f83e68a795ab8cdfd0b646634e4f27fd05da040b48c2b526134cf5d86be2a05f5a2b85927dc964eb31bbcf289fcf5bf975611540c0d8c09b9ff011653fdacb6e2a294ec5cc0041a921851fb9fd35502dca9c78b6ec794c31afebb87eec5d9b369e217a8ad703746558c42884a4feb82d8cae4463be196822ffeb17519567f3c30e75e97d3d7bbd1e1dfcc7cd17cc70b0db235b1cd483b2f286e2f531616ef08b461296b5b0092e62d3fffdbb1f1801c4d9a73fbe36b475c68d121a37f1baa261a7c8f70ad29f9e24303da908e3c8f941337fe097bce60fe920be3030106e4e38f14f32722d5ba8994adf750a07755cf7c7d18b309f83ddd168cef0cffff6fa2b61f3227c4b4f0b54177843ff8e20e615c812be476f29511c0924349dbf84bd163d727c1d2ff5667e1d0206d093788b20e66634e8a20f05c9df291e49309d64614550a3641c1d05228e98f087103a6d7bd46cf7a7dc864f60d2d7e58908508d8514c5227ff4498d4677bd077f9511c7c31e465acf9c898cb4af05d25fc54a2bb30d80626fc4a53ea326ba858ad3abed125eed02c59e4cc1b495b90c640fb9476bdb7eb09172e2251e1987b28072f13a8f7f03d9fca7ae72e8d35baefd98f1ea1ce6ce0c4dbef2547d0a85fb86e1116b7239afe6734abe9ef85acbdeaffb64a10e48a710a033b9523ccbc4a0b82eee294e94583df023176c4f54ae08c9c7a1574924e0a724a7e500d251e6273b6cc2c3be882edf742595d591147af133d2638ca1caf8d1a8de52bc6c58a46dfb0e9c3b49fc9b3ac6094e68460a19686e554272c61da3b454c7bedd74d3142700b7594244a159dec7bc6c2b442ce917ffaf4adccecc7856404f637f809037402daf46baa368c00ef0eabe2d2ce8a18de8bada48e27dd4660fc84497a4b1ad56403aaed024ffdbde76b899f2ed53aeddce6e7f3667fa03a3b4dc60b9ad486171455e31751c2884a413fe4da9c17a642de5d50108b671717cb563488218ba3273153e16dd67b95f5103867eb6b05330daf2e1d339d66e4710baeeb07f9889d12e7eb685144ea8fbff61e5ce9b2654be4e9c99706ab98525a9d4225920999fbc7b02980e32d5886a7918e84ad1848f32532423f3f6ef065ca0054ace8997818f99754b2e87def982e18a0fe3f92d709aeaf246b92ccd22122402b4db37be5603b6d3e9537956cdc30d57479390ce1083ae3640ef02d9a4d34a719c16efd34329484426bf55232b39ab06b40c3b3e8e4c50d44224b1cf298796607948fc4b282cd145dbbf74df6be7e0e828a840f8ec2432430ee9f4f406fed2fd9f1eb3f45fb3cdd8137035e319dc0caee375375cc4d07f56dbf72f46cf8fe8b8f4538e83fb0635b22b27dbe77ec7fbc7375c0a0c558974f9230b570e2156dbe79c2954775c174e398297560837fb33f9a6158dd27d1d69c605e6a838e76d7fa5129467f173d6a9d07ae8eab8bdd34ac940abcd7f22c2064bb5f76b7dc08d7ef851718c24ffdd8bbe6b1a1e657bfcd1081685aefdce879f8ea249dd053e325a347516be7b7e6ceda9cded8891ffaf10080df8568167a163ecb2edd80b2dfe9a55fbfd1eeeda31b9c66f8710fd15ad6506bae15486a63d5b60c1abd1e8ebc7f5491f428fb","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
